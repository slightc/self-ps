(function () {
    function ex() {
        this.V_ = {};
        this.m4 = {}
    }
    ex.wf = [];
    ex.$u = function (Y) {
        var S = ex.wf;
        if (S.length != 0) {
            var h = new _(P.E.Tx);
            for (var G = 0; G < S.length; G++)
                S[G].B(h)
        }
        window.requestAnimationFrame(ex.$u)
    }
        ;
    window.requestAnimationFrame(ex.$u);
    ex.prototype.dY = function (Y) {
        var S = this.V_[Y];
        if (S == null)
            return !1;
        return S.length > 0
    }
        ;
    ex.prototype.addEventListener = function (Y, S) {
        this.k(Y, S, null)
    }
        ;
    ex.prototype.k = function (Y, S, h) {
        if (this.V_[Y] == null) {
            this.V_[Y] = [];
            this.m4[Y] = []
        }
        this.V_[Y].push(S);
        this.m4[Y].push(h);
        if (Y == P.E.Tx) {
            var q = ex.wf;
            if (q.indexOf(this) == -1)
                q.push(this)
        }
    }
        ;
    ex.prototype.removeEventListener = function (Y, S) {
        var h = this.V_[Y];
        if (h == null)
            return;
        var q = h.indexOf(S);
        if (q < 0)
            return;
        var H = this.m4[Y];
        h.splice(q, 1);
        H.splice(q, 1);
        if (Y == P.E.Tx && h.length == 0) {
            var I = ex.wf;
            I.splice(I.indexOf(this), 1)
        }
    }
        ;
    ex.prototype.B = function (Y) {
        Y.currentTarget = this;
        if (Y.target == null)
            Y.target = this;
        var S = this.V_[Y.type];
        if (S == null)
            return;
        var h = this.m4[Y.type];
        for (var G = 0; G < S.length; G++) {
            if (h[G] == null)
                S[G](Y);
            else
                S[G].call(h[G], Y)
        }
    }
        ;
    function F() {
        this.Qo = {};
        this.L8 = 0;
        this.ms();
        window.__kb = this
    }
    F.uK = null;
    F.prototype.ms = function () {
        var Y = navigator.keyboard;
        if (Y && window.top == window.self)
            Y.getLayoutMap().then(function (S) {
                F.uK = S
            })
    }
        ;
    F.prototype.reset = function () {
        this.Qo = {};
        this.L8 = 0
    }
        ;
    F.prototype.oE = function (Y) {
        this.L8++;
        this.Qo[Y] = !0
    }
        ;
    F.prototype.j_ = function (Y) {
        this.L8--;
        delete this.Qo[Y];
        if (this.L8 <= 0 || F.QN(Y, F.wM))
            this.reset()
    }
        ;
    F.prototype.q = function (Y) {
        for (var G = 0; G < Y.rF.length; G++)
            if (this.Qo[Y.rF[G]])
                return !0;
        return !1
    }
        ;
    F.prototype.ct = function () {
        var Y = this
            , S = Y.q(F.aY) ? 10 : 1
            , h = 0
            , q = 0;
        if (Y.q(F.H1))
            h = -S;
        if (Y.q(F.vu))
            h = S;
        if (Y.q(F.z_))
            q = -S;
        if (Y.q(F.IL))
            q = S;
        return new aV(h, q)
    }
        ;
    F.prototype.Lh = function () {
        var Y = this
            , S = F.oF;
        for (var G = 0; G < 10; G++)
            if (Y.q(S[G]))
                return G;
        return -1
    }
        ;
    F.QN = function (Y, S) {
        return S.rF.indexOf(Y) != -1
    }
        ;
    F.Fq = function (Y) {
        var S = Y.code
            , H = !1;
        if (S == "")
            return !1;
        var h = F.QN
            , q = F.oF.concat([F.lR, F.yJ, F.H5, F.st]);
        for (var G = 0; G < q.length; G++)
            if (h(S, q[G]))
                H = !0;
        if (Y.altKey && !Y.shiftKey && !Y.ctrlKey && H)
            return !1;
        return F.zf.indexOf(S) == -1 || Y.shiftKey && (S == "F5" || S == "F6")
    }
        ;
    F.amr = function (Y) {
        var S = Y.code;
        return S != "" && (F.zf.indexOf(S) == -1 || Y.shiftKey && (S == "F5" || S == "F6"))
    }
        ;
    F.Ov = function (Y) {
        if (typeof Y == "string")
            return Y;
        var S = navigator.platform.toUpperCase().indexOf("MAC") >= 0;
        if (Y == null)
            return "";
        var h = [];
        for (var G = 0; G < Y.length; G++) {
            var q = Y[G].pc ? Y[G].pc : Y[G];
            if (S && Y[G].lh)
                q = Y[G].lh;
            h.push(q)
        }
        if (S || h.length == 1)
            return h.join(" + ");
        else {
            var H = h.pop();
            return h.join("+") + " + " + H
        }
    }
        ;
    F.zf = "ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
    F.oW = function (Y) {
        var S = Y.code
            , h = F.uK;
        if (h && h.get(S)) {
            var q = {
                "+": "NumpadAdd",
                "-": "NumpadSubtract",
                ".": "Period"
            }
                , H = h.get(S).toLowerCase()
                , I = H.charCodeAt(0);
            if (97 <= I && I <= 122) {
                var E = "Key" + H.toUpperCase();
                S = E
            } else if (q[H])
                S = q[H];
            return S
        }
        var q = {
            "+": "NumpadAdd",
            "-": "NumpadSubtract",
            ".": "Period"
        }
            , H = Y.key.toLowerCase()
            , I = H.charCodeAt(0);
        if (H.length == 1) {
            if (97 <= I && I <= 122) {
                var E = "Key" + H.toUpperCase();
                S = E
            } else if (q[H])
                S = q[H]
        }
        if (H == "control" && S != "")
            S = "ControlLeft";
        return S
    }
        ;
    F.a7a = {
        nm: "No Touch",
        rF: ["NoTouch"]
    };
    F.gm = {
        pc: "Enter",
        rF: ["Enter", "NumpadEnter"]
    };
    F.aY = {
        pc: "Shift",
        lh: "\u21E7",
        rF: ["ShiftLeft", "ShiftRight"]
    };
    F.wM = {
        pc: "Meta",
        rF: ["MetaLeft", "MetaRight", "OSLeft", "OSRight"]
    };
    F.EO = {
        pc: "Ctrl",
        lh: "\u2318",
        rF: "ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")
    };
    F.Gs = {
        pc: "Alt",
        lh: "\u2325",
        rF: ["AltLeft", "AltRight"]
    };
    F.a0c = {
        pc: "CtrlOrAlt",
        rF: F.EO.rF.concat(F.Gs.rF)
    };
    F.fp = {
        pc: "Escape",
        rF: ["Escape"]
    };
    F.N9 = {
        pc: "Space",
        rF: ["Space"]
    };
    F.HB = {
        pc: "Tab",
        rF: ["Tab"]
    };
    F.a6l = {
        pc: "Home",
        rF: ["Home"]
    };
    F.a4V = {
        pc: "End",
        rF: ["End"]
    };
    F.H1 = {
        pc: "Left",
        rF: ["ArrowLeft"]
    };
    F.z_ = {
        pc: "Up",
        rF: ["ArrowUp"]
    };
    F.vu = {
        pc: "Right",
        rF: ["ArrowRight"]
    };
    F.IL = {
        pc: "Down",
        rF: ["ArrowDown"]
    };
    F.lR = {
        pc: "+",
        rF: ["NumpadAdd", "Equal"]
    };
    F.yJ = {
        pc: "-",
        rF: ["NumpadSubtract", "Minus", "Slash"]
    };
    F.b5 = {
        pc: ";",
        rF: ["Semicolon"]
    };
    F.ant = {
        pc: "Dead",
        rF: ["Dead"]
    };
    F.a41 = {
        pc: "=",
        rF: ["Equal"]
    };
    F.tb = {
        pc: "Backspace",
        rF: ["Backspace"]
    };
    F.bz = {
        pc: "Delete",
        rF: ["Delete"]
    };
    F.a17 = {
        pc: "Backslash",
        rF: ["Backslash", "IntlBackslash"]
    };
    F.a3t = {
        pc: "Backquote",
        rF: ["Backquote"]
    };
    F.H5 = {
        pc: "[",
        rF: ["BracketLeft"]
    };
    F.st = {
        pc: "]",
        rF: ["BracketRight"]
    };
    F.vq = {
        pc: ".",
        rF: ["Period"]
    };
    F.a4i = {
        pc: ",",
        rF: ["Comma"]
    };
    F.qm = {
        pc: "'",
        rF: ["Quote"]
    };
    F.U = {
        pc: "A",
        rF: ["KeyA"]
    };
    F.KO = {
        pc: "B",
        rF: ["KeyB"]
    };
    F.dz = {
        pc: "C",
        rF: ["KeyC"]
    };
    F.My = {
        pc: "D",
        rF: ["KeyD"]
    };
    F.E = {
        pc: "E",
        rF: ["KeyE"]
    };
    F.Hh = {
        pc: "F",
        rF: ["KeyF"]
    };
    F.aL = {
        pc: "G",
        rF: ["KeyG"]
    };
    F.Q6 = {
        pc: "H",
        rF: ["KeyH"]
    };
    F.aC = {
        pc: "I",
        rF: ["KeyI"]
    };
    F.sp = {
        pc: "J",
        rF: ["KeyJ"]
    };
    F.qR = {
        pc: "K",
        rF: ["KeyK"]
    };
    F.sj = {
        pc: "L",
        rF: ["KeyL"]
    };
    F.PA = {
        pc: "M",
        rF: ["KeyM"]
    };
    F.n9 = {
        pc: "N",
        rF: ["KeyN"]
    };
    F.HF = {
        pc: "O",
        rF: ["KeyO"]
    };
    F.uA = {
        pc: "P",
        rF: ["KeyP"]
    };
    F.cR = {
        pc: "Q",
        rF: ["KeyQ"]
    };
    F.Ej = {
        pc: "R",
        rF: ["KeyR"]
    };
    F.Ak = {
        pc: "S",
        rF: ["KeyS"]
    };
    F.V = {
        pc: "T",
        rF: ["KeyT"]
    };
    F.va = {
        pc: "U",
        rF: ["KeyU"]
    };
    F.c$ = {
        pc: "V",
        rF: ["KeyV"]
    };
    F.bx = {
        pc: "W",
        rF: ["KeyW"]
    };
    F.sg = {
        pc: "X",
        rF: ["KeyX"]
    };
    F.akm = {
        pc: "Y",
        rF: ["KeyY"]
    };
    F.E0 = {
        pc: "Z",
        rF: ["KeyZ"]
    };
    F.ZT = {
        pc: "0",
        rF: ["Numpad0", "Digit0"]
    };
    F.dn = {
        pc: "1",
        rF: ["Numpad1", "Digit1"]
    };
    F.a3n = {
        pc: "2",
        rF: ["Numpad2", "Digit2"]
    };
    F.a3Q = {
        pc: "3",
        rF: ["Numpad3", "Digit3"]
    };
    F.agh = {
        pc: "4",
        rF: ["Numpad4", "Digit4"]
    };
    F.a78 = {
        pc: "5",
        rF: ["Numpad5", "Digit5"]
    };
    F.aoj = {
        pc: "6",
        rF: ["Numpad6", "Digit6"]
    };
    F.ad2 = {
        pc: "7",
        rF: ["Numpad7", "Digit7"]
    };
    F.agu = {
        pc: "8",
        rF: ["Numpad8", "Digit8"]
    };
    F.a12 = {
        pc: "9",
        rF: ["Numpad9", "Digit9"]
    };
    F.oF = [F.ZT, F.dn, F.a3n, F.a3Q, F.agh, F.a78, F.aoj, F.ad2, F.agu, F.a12];
    F.akR = {
        pc: "F1",
        rF: ["F1"]
    };
    F.ajn = {
        pc: "F2",
        rF: ["F2"]
    };
    F.a8k = {
        pc: "F3",
        rF: ["F3"]
    };
    F.a0n = {
        pc: "FF",
        rF: ["F4"]
    };
    F.R3 = {
        pc: "F5",
        rF: ["F5"]
    };
    F.a2c = {
        pc: "F6",
        rF: ["F6"]
    };
    F.ag2 = {
        pc: "F7",
        rF: ["F7"]
    };
    F.ac3 = {
        pc: "F8",
        rF: ["F8"]
    };
    F.abl = {
        pc: "F9",
        rF: ["F9"]
    };
    F.adA = {
        pc: "F10",
        rF: ["F10"]
    };
    F.a1o = {
        pc: "F11",
        rF: ["F11"]
    };
    F.a7I = {
        pc: "F12",
        rF: ["F12"]
    };
    function fa() {
        ex.call(this);
        this.Mr = {};
        this.$R = {};
        this.aeo = 0;
        this.a7e = {};
        this.mH = [];
        this.ac9 = 0;
        fa.C0 = this
    }
    fa.prototype = new ex;
    fa.aha = function (Y, S) {
        var G = 0
            , h = fa.Uu;
        while (G < h.length) {
            if ((S >>> G & 1) == 1)
                break;
            G++
        }
        if (S == 0 || h[G][1] == "") {
            if ((S & 15) != 0 && fa.Er(Y, [33, 126]) > .7)
                G = 0;
            else if (S == 0)
                G = 0;
            else {
                G = 0
            }
        }
        return h[G][1]
    }
        ;
    fa.mc = 120;
    fa.Pr = 20;
    fa.cols = 16;
    fa.eU = function (Y) {
        var S = Y.name.postScriptName;
        if (S == null)
            return null;
        return S.replace(/ /g, "-")
    }
        ;
    fa.o_ = function (Y) {
        var S = Y.name
            , h = S.typoFamilyName ? S.typoFamilyName : S.fontFamily
            , q = S.typoSubfamilyName ? S.typoSubfamilyName : S.fontSubfamily
            , H = fa.aaS
            , I = h.toLowerCase();
        for (var G = 0; G < H.length; G++) {
            if (H[G] == "roman")
                continue;
            if (I.endsWith(" " + H[G]) || I.endsWith("-" + H[G])) {
                var E = h.length - H[G].length
                    , d = h.slice(E);
                h = h.slice(0, E - 1);
                if (d != "") {
                    if (q == "Regular" || q == h + " Regular")
                        q = d;
                    else
                        q = d + " " + q
                }
                break
            }
        }
        var B = "BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
        for (var G = 0; G < B.length; G++)
            if (h.startsWith(B[G])) {
                var d = h.slice(B[G].length);
                h = B[G];
                if (d.startsWith(" ") || d.startsWith("-"))
                    d = d.slice(1);
                if (d != "") {
                    if (q == "Regular")
                        q = d;
                    else
                        q = d + " " + q
                }
                break
            }
        var n = {
            "Caudex-BoldItalic": "Bold Italic",
            "Comfortaa-Light": "Light",
            "Comfortaa-Medium": "Medium",
            "Comfortaa-SemiBold": "SemiBold",
            DevroyeSCOSF: "Regular SCOSF",
            DevroyeUnicode: "Regular Unicode",
            "LeagueScriptThin-Regular": "Regular",
            "Monda-Bold": "Bold",
            "Nobile-Bold": "Bold",
            "Oswald-BoldItalic": "Bold Italic",
            "Oswald-HeavyItalic": "Heavy Italic",
            "Oswald-LightItalic": "Light Italic",
            "Oswald-MediumItalic": "Medium Italic",
            "Oswald-RegularItalic": "Regular Italic",
            "PaloAlto-Italic": "Heavy Italic"
        }
            , g = n[fa.eU(Y)];
        if (g)
            q = g;
        return [h, q]
    }
        ;
    fa.prototype.De = function (Y, S) {
        if (this.Mr[Y])
            return this.Mr[Y];
        if (this.$R[Y])
            return null;
        var h = null
            , q = this.Z$();
        if (q[Y] != null)
            h = q[Y][5];
        if (h == null) {
            var H = fa.agp[Y];
            if (H == null) {
                var I = "DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" ")
                    , E = Y.toLowerCase()
                    , d = 0;
                if (E.indexOf("sans") != -1)
                    d = 0;
                else if (E.indexOf("serif") != -1)
                    d = 4;
                var B = E.indexOf("bold") != -1 || E.indexOf("-black") != -1
                    , n = E.indexOf("italic") != -1 || E.indexOf("oblique") != -1 || E.endsWith("-it");
                if (B && n)
                    d += 3;
                else if (n)
                    d += 2;
                else if (B)
                    d += 1;
                H = I[d]
            }
            if (S != null && S > 128)
                H = this.W1(S, H);
            if (this.a7e[Y] == null) {
                this.a7e[Y] = 1;
                var g = Date.now() - this.aeo > 2e3 ? 2e3 : 0;
                this.aeo = Date.now();
                alert(Y + " \u27A1 " + H, g)
            }
            return this.De(H, S)
        }
        this.$R[Y] = "a";
        var z = new _(P.E.P, !0);
        z.data = {
            X: P.U.Pv,
            go: {
                url: "rsrc/fonts/" + h
            }
        };
        this.B(z)
    }
        ;
    fa.prototype.W1 = function (Y, S, h) {
        var q = this.Mr[S];
        if (q && Typr.U.codeToGlyph(q, Y) != 0)
            return S;
        var H = this.Z$()
            , I = fa.akI(Y)
            , E = I[0];
        if (H[S] && (H[S][3] & E) == 0) {
            if (h)
                for (var G = 0; G < h.length; G++) {
                    var d = h[G].Name
                        , B = H[d];
                    if (B && (B[3] & E) != 0)
                        return d
                }
            var d = fa.Uu[I[1]][4];
            if (H[d])
                return d
        }
        return S
    }
        ;
    fa.akI = function (Y) {
        var S = fa.Uu
            , h = [0];
        for (var G = 0; G < S.length; G++) {
            var q = S[G][2];
            for (var H = 0; H < q.length; H += 2)
                if (q[H] <= Y && Y <= q[H + 1]) {
                    h[0] += 1 << G;
                    h.push(G)
                }
        }
        if (h.length == 1)
            h.push(0);
        return h
    }
        ;
    fa.prototype.abq = function () {
        var Y = this.mH
            , S = Y[0]
            , h = Y.length - 1;
        alert(gx.get([22, 6, 0]) + " " + S + (h == 0 ? "" : ", ... (" + h + ")") + " " + gx.get([23, 0]) + ".", 1500);
        this.mH = []
    }
        ;
    fa.prototype.a0E = function (Y, S) {
        if (S != !0) {
            this.mH.push(Y.name.fullName);
            clearTimeout(this.ac9);
            this.ac9 = setTimeout(this.abq.bind(this), 300)
        }
        var h = fa.eU(Y)
            , q = this.Z$()
            , H = q[h]
            , I = fa.acE(Y);
        if (H == null) {
            var E = document.createElement("canvas")
                , d = E.getContext("2d");
            E.width = fa.mc;
            E.height = fa.Pr;
            var B = fa.Pr * 1.2 / Y.head.unitsPerEm;
            d.translate(4, fa.Pr * .9);
            d.scale(B, -B);
            d.fillStyle = "#000000";
            var n = Typr.U.shape(Y, fa.aha(Y, I[3]), !0);
            Typr.U.pathToContext(Typr.U.shapeToPath(Y, n), d);
            d.fill();
            I.ald = E.toDataURL();
            this.GO(I)
        }
        delete this.$R[h];
        this.Mr[h] = Y
    }
        ;
    fa.ao2 = function () {
        var Y = fa.Uu
            , S = [];
        for (var G = 0; G < Y.length; G++)
            S.push(Y[G][0]);
        return S
    }
        ;
    fa.Uu = [["Latin-1", "Preview", [161, 169, 192, 246, 248, 255], .7, "DejaVuSans"], ["Latin Ext. A", "", [256, 383], .7, "DejaVuSans"], ["Greek", "", [913, 929, 931, 969], .7, "DejaVuSans"], ["Cyrillic", "", [1040, 1119], .7, "DejaVuSans"], ["Hebrew", "", [1473, 1479, 1488, 1514, 1520, 1524], .7, "DejaVuSans"], ["Arabic", "", [1569, 1594, 1600, 1749], .4, "DejaVuSans"], ["Hangul", "\uC608\uACE0\uD3B8", [4352, 4607, 44032, 55203], .7, "NotoSansKR-Regular"], ["Chi-Jap-Kor", "\u9810\u7FD2", [12288, 12351, 12352, 12447, 12448, 12543, 19968, 40895], .05, "DroidSansFallback"], ["Tibetan", "\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D", [3840, 3948, 3953, 4044], .7, "NotoSansTibetan"], ["Devanagari", "\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928", [2304, 2431], .7, "Hind-Regular"], ["Thai", "\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07", [3585, 3642, 3647, 3675], .7, "K2D-Regular"], ["Khmer", "\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793", [6016, 6109, 6112, 6121, 6128, 6137], .7, "Battambang-Regular"], ["Vietnamese", "Xem tr\u01B0\u1EDBc", [192, 195, 200, 202, 204, 205, 210, 213, 217, 218, 221, 221, 224, 227, 232, 234, 236, 237, 242, 245, 249, 250, 253, 253, 258, 259, 272, 273, 296, 297, 360, 361, 416, 417, 431, 432, 7840, 7929], .95, "DejaVuSans"]];
    fa.acE = function (Y, S, h) {
        var q = Y.name
            , B = 0;
        if (fa.eU(Y) == null) {
            console.log(Y);
            throw "No postScriptName!"
        }
        var H = fa.Uu
            , I = [];
        for (var G = 0; G < H.length; G++) {
            var E = H[G][2]
                , d = H[G][3];
            I[G] = fa.Er(Y, E) > d ? 1 : 0
        }
        for (var G = 0; G < I.length; G++)
            B += I[G] << G;
        var n = fa.o_(Y);
        return [n[0], n[1], fa.eU(Y), B, h, S]
    }
        ;
    fa.Er = function (Y, S) {
        var h = 0
            , q = 0;
        for (var H = 0; H < S.length; H += 2) {
            for (var I = S[H]; I <= S[H + 1]; I++) {
                var E = Typr.U.codeToGlyph(Y, I);
                if (E == 0)
                    q++;
                else
                    h++
            }
        }
        return h / (h + q)
    }
        ;
    fa.a7W = function (Y, S) {
        if (Y[2] < S[2])
            return -1;
        if (Y[2] > S[2])
            return 1;
        return 0
    }
        ;
    fa.akB = function (Y, S) {
        if (Y[5] == "fs/" + Y[2] + ".otf")
            Y[5] = "";
        else if (Y[5] == "gf/" + Y[2] + ".otf")
            Y[5] = "a";
        if (Y[2] == (Y[0] + "-" + Y[1]).replace(/\s/g, "")) {
            Y[2] = ""
        } else if (Y[2] == Y[0].replace(/\s/g, "")) {
            Y[2] = "a"
        }
        if (S) {
            if (Y[0] == S[0])
                Y[0] = "";
            if (Y[1] == S[1])
                Y[1] = "";
            if (Y[3] == S[3])
                Y[3] = "";
            if (Y[4] == S[4])
                Y[4] = ""
        }
        return Y.join(",")
    }
        ;
    fa.ak7 = function (Y, S) {
        Y = Y.split(",");
        if (Y[0] == "")
            Y[0] = S[0];
        if (Y[1] == "")
            Y[1] = S[1];
        if (Y[3] == "")
            Y[3] = S[3];
        else
            Y[3] = parseInt(Y[3]);
        if (Y[4] == "")
            Y[4] = S[4];
        else
            Y[4] = parseInt(Y[4]);
        if (Y[2] == "")
            Y[2] = (Y[0] + "-" + Y[1]).replace(/\s/g, "");
        else if (Y[2] == "a")
            Y[2] = Y[0].replace(/\s/g, "");
        if (Y[5] == "")
            Y[5] = "fs/" + Y[2] + ".otf";
        else if (Y[5] == "a")
            Y[5] = "gf/" + Y[2] + ".otf";
        return Y
    }
        ;
    fa.agp = {
        ArialMT: "LiberationSans",
        "Arial-BoldMT": "LiberationSans-Bold",
        "Arial-ItalicMT": "LiberationSans-Italic",
        "Arial-BoldItalicMT": "LiberationSans-BoldItalic",
        TimesNewRomanPSMT: "LiberationSerif",
        "TimesNewRomanPS-BoldMT": "LiberationSerif-Bold",
        "TimesNewRomanPS-ItalicMT": "LiberationSerif-Italic",
        "TimesNewRomanPS-BoldItalicMT": "LiberationSerif-BoldItalic",
        CourierNewPSMT: "LiberationMono",
        "CourierNewPS-BoldMT": "LiberationMono-Bold",
        "CourierNewPS-ItalicMT": "LiberationMono-Italic",
        "CourierNewPS-BoldItalicMT": "LiberationMono-BoldItalic",
        Courier: "CourierPrime",
        TrebuchetMS: "SourceSansPro-Regular",
        "TrebuchetMS-Bold": "SourceSansPro-Semibold",
        "TrebuchetMS-Italic": "SourceSansPro-It",
        "TrebuchetMS-BoldItalic": "SourceSansPro-SemiboldIt",
        "Times-Roman": "LiberationSerif",
        Impact: "Anton-Regular",
        Calibri: "SourceSansPro-Regular",
        "Calibri-Italic": "SourceSansPro-It",
        "Calibri-Bold": "SourceSansPro-Bold",
        CalibriBold: "SourceSansPro-Bold",
        "Times-Roman": "LiberationSerif",
        "Times-Italic": "LiberationSerif-Italic",
        "Times-Bold": "LiberationSerif-Bold",
        "Helvetica-Bold": "LiberationSans-Bold",
        "HelveticaNeue-Thin": "Roboto-Thin",
        "HelveticaNeue-Light": "Roboto-Light",
        HelveticaNeue: "Roboto-Regular",
        "HelveticaNeue-Roman": "Roboto-Regular",
        "HelveticaNeue-Medium": "Roboto-Medium",
        "HelveticaNeue-Bold": "Roboto-Bold",
        "HelveticaNeue-BoldItalic": "Roboto-BoldItalic",
        "HelveticaNeue-Black": "Roboto-Black",
        "HelveticaNeue-Heavy": "Roboto-Black",
        "SFProText-Light": "Roboto-Light",
        "SFProText-Regular": "Roboto-Regular",
        "SFProText-Roman": "Roboto-Regular",
        "SFProText-Medium": "Roboto-Medium",
        "SFProText-Semibold": "Roboto-Medium",
        "SFProText-Bold": "Roboto-Bold",
        "SFProText-BoldItalic": "SFProText-BoldItalic",
        "SFProText-Black": "Roboto-Black",
        "SFProText-Heavy": "Roboto-Black",
        "SFProDisplay-Light": "Roboto-Light",
        "SFProDisplay-Regular": "Roboto-Regular",
        "SFProDisplay-Roman": "Roboto-Regular",
        "SFProDisplay-Medium": "Roboto-Medium",
        "SFProDisplay-Semibold": "Roboto-Medium",
        "SFProDisplay-Bold": "Roboto-Bold",
        "SFProDisplay-BoldItalic": "SFProDisplay-BoldItalic",
        "SFProDisplay-Black": "Roboto-Black",
        "SFProDisplay-Heavy": "Roboto-Black",
        "SFUIText-Light": "Roboto-Light",
        "SFUIText-Regular": "Roboto-Regular",
        "SFUIText-Roman": "Roboto-Regular",
        "SFUIText-Medium": "Roboto-Medium",
        "SFUIText-Semibold": "Roboto-Medium",
        "SFUIText-Bold": "Roboto-Bold",
        "SFUIText-BoldItalic": "SFUIText-BoldItalic",
        "SFUIText-Black": "Roboto-Black",
        "SFUIText-Heavy": "Roboto-Black",
        Verdana: "DejaVuSans",
        "Verdana-Bold": "DejaVuSans-Bold",
        "Verdana-Italic": "DejaVuSans-Oblique",
        "Verdana-BoldItalic": "DejaVuSans-BoldOblique",
        "MyriadPro-Regular": "PTSans-Regular",
        "MyriadPro-Bold": "PTSans-Bold",
        "MyriadPro-LightIt": "PTSans-Italic",
        "MyriadPro-Semibold": "PTSans-Bold",
        "MyriadPro-BlackCond": "PTSans-NarrowBold",
        Cambria: "Oranienbaum-Regular",
        Georgia: "CharisSIL",
        "Georgia-Bold": "CharisSIL-Bold",
        "Georgia-Italic": "CharisSIL-Italic",
        "Georgia-BoldItalic": "CharisSIL-BoldItalic",
        "AGaramondPro-Regular": "EBGaramond08-Regular",
        "AGaramondPro-Bold": "EBGaramond08-Bold",
        "AGaramondPro-Italic": "EBGaramond08-Italic",
        Garamond: "EBGaramond08-Regular",
        FontAwesome: "FontAwesome5FreeSolid",
        "ProximaNova-Regular": "Metropolis-Regular",
        "ProximaNova-Semibold": "Metropolis-SemiBold",
        "ProximaNova-Light": "Metropolis-Light",
        BellMT: "GalatiaSIL",
        PalatinoLinotype: "TeXGyrePagella-Regular",
        "PalatinoLinotype-Bold": "TeXGyrePagella-Bold",
        "PalatinoLinotype-Italic": "TeXGyrePagella-Italic",
        "PalatinoLinotype-BoldItalic": "TeXGyrePagella-BoldItalic",
        "": ""
    };
    fa.prototype.Z$ = function () {
        if (FNTS.map == null) {
            var Y = FNTS.list
                , S = [];
            for (var G = 0; G < Y.length; G++) {
                S[G] = fa.ak7(Y[G], S[G - 1]);
                S[G].Y8 = G;
                this.GO(S[G])
            }
        }
        return FNTS.map
    }
        ;
    fa.prototype.GO = function (Y) {
        var S = Y[0]
            , h = Y[1]
            , q = Y[5];
        if (FNTS.map == null)
            FNTS.map = {};
        FNTS.map[Y[2]] = Y;
        if (FNTS.mapFS == null)
            FNTS.mapFS = {};
        var H = FNTS.mapFS[S + "---" + h];
        FNTS.mapFS[S + "---" + h] = Y;
        if (FNTS.mapSub == null)
            FNTS.mapSub = {};
        var I = FNTS.mapSub[S];
        if (I == null)
            I = FNTS.mapSub[S] = [];
        var E = I.indexOf(h);
        if (E == -1)
            I.push(h);
        else
            I[E] = h
    }
        ;
    fa.ame = function (Y, S) {
        return fa.FE(Y) - fa.FE(S)
    }
        ;
    fa.FE = function (Y) {
        Y = Y.toLowerCase();
        var S = fa.alw(Y) + (fa.ahH(Y) << 1);
        if (Y.indexOf("cond") == -1)
            S += 1 << 25;
        return S
    }
        ;
    fa.alw = function (Y) {
        return Y.indexOf("italic") != -1 || Y.indexOf("oblique") != -1 ? 1 : 0
    }
        ;
    fa.aaS = "two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
    fa.aab = ["two", "four", "eight", "hair", "thin", "ultralight", "extralight", "light", ["regular", "roman", "book"], "medium", ["semibold", "demibold"], "bold", "extrabold", "heavy", "ultra", "black", "x black"];
    fa.ahH = function (Y) {
        var S = fa.aab
            , h = -1
            , q = -1;
        for (var G = 0; G < S.length; G++) {
            var H = S[G];
            if (H instanceof Array)
                for (var I = 0; I < H.length; I++) {
                    var E = H[I];
                    if (Y.indexOf(E) != -1 && (h == -1 || q < E.length)) {
                        h = G;
                        q = E.length
                    }
                }
            else if (Y.indexOf(H) != -1 && (h == -1 || q < H.length)) {
                h = G;
                q = H.length
            }
        }
        if (h == -1)
            h = 8;
        return h
    }
        ;
    fa.L3 = function (Y, S) {
        var h = 1e9
            , q = null
            , H = fa.FE(S);
        for (var G = 0; G < Y.length; G++) {
            var I = Math.abs(fa.FE(Y[G]) - H);
            if (I < h) {
                h = I;
                q = Y[G]
            }
        }
        return q
    }
        ;
    fa.prototype.lC = function (Y, S) {
        this.Z$();
        return FNTS.mapFS[Y + "---" + S]
    }
        ;
    fa.prototype.JY = function (Y) {
        this.Z$();
        return FNTS.mapSub[Y]
    }
        ;
    fa.prototype.a4h = function () {
        this.Z$();
        return FNTS.mapSub
    }
        ;
    var dq = {
        b0: 0,
        us: null,
        F0: null,
        bX: null,
        MB: null,
        Dd: null,
        SZ: !0,
        lg: 0,
        na: !1
    }
        , cs = 0;
    dq.nu = function () {
        var Y = P.v2(24) ? " " : ""
            , S = P.tO[P.Iq("Uu," + Y)];
        S = S[P.Iq(Y + "$/")];
        return dq.Rg() != null && dq.Rg()[P.mS("!&|'&50")] * 50 > S() / 20
    }
        ;
    dq.Ce = function () {
        return dq.a82() != null
    }
        ;
    dq.Rg = function () {
        return dq.Dd
    }
        ;
    dq.Hk = function (Y) {
        window.addEventListener("message", dq.aeb, !1);
        setInterval(dq.Vl, 5e3);
        if (dq.Ce()) {
            dq.us = Y;
            dq.sk()
        } else
            setTimeout(Y, 1)
    }
        ;
    dq.Vl = function () {
        if (dq.Ce() && dq.na) {
            dq.$m(dq.eX());
            dq.na = !1
        }
    }
        ;
    dq.q3 = function (Y) {
        dq.us = Y;
        var S = "https://www.photopea.com/papi/login.php?redirect=" + encodeURIComponent(window.location.href);
        dq.bX = window.open(S, "_blank")
    }
        ;
    dq.a5U = function () {
        localStorage.removeItem(dq.b0 + "_uid");
        localStorage.removeItem(dq.b0 + "_provider");
        localStorage.removeItem(dq.b0 + "_token");
        dq.Dd = null
    }
        ;
    dq.aeb = function (Y) {
        if (Y.data instanceof ArrayBuffer || Y.data instanceof Object)
            return;
        if (Y.data.charAt(0) != "{")
            return;
        var S = JSON.parse(Y.data);
        if (S.prms == null)
            return;
        var h = S.prms.split(",");
        if (h[0] == "papi_logged_in") {
            localStorage[dq.b0 + "_uid"] = h[1];
            dq.$W(h[2]);
            localStorage[dq.b0 + "_provider"] = h[3];
            dq.bX.close();
            dq.sk()
        }
        if (h[0] == "payment_complete") {
            dq.MB.close();
            dq.sk()
        }
    }
        ;
    dq.a82 = function () {
        var Y = localStorage[dq.b0 + "_token"];
        if (Y != null && Date.now() * .001 + 10 < parseInt(Y.split("-")[0]))
            return Y;
        return null
    }
        ;
    dq.$W = function (Y) {
        var S = localStorage[dq.b0 + "_token"];
        if (S != null && parseInt(Y.split("-")[0]) < parseInt(S.split("-")[0]))
            return;
        localStorage[dq.b0 + "_token"] = Y;
        clearTimeout(dq.lg);
        dq.lg = setTimeout(dq.a6g, Math.min(1e9, parseInt(Y.split("-")[0]) * 1e3 - Date.now() - 20 * 1e3))
    }
        ;
    dq.a6g = function () {
        var Y = new XMLHttpRequest;
        Y.open("POST", "https://www.photopea.com/papi/record_new.php", !0);
        Y.onload = dq.agc;
        var S = dq.hY(0) + "&read=2";
        Y.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        Y.send(S)
    }
        ;
    dq.sk = function () {
        var Y = new XMLHttpRequest;
        Y.open("POST", "https://www.photopea.com/papi/record_new.php", !0);
        Y.onload = dq.abj;
        var S = dq.hY(0) + "&read=1";
        Y.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        Y.send(S)
    }
        ;
    dq.$m = function (Y) {
        var S = new XMLHttpRequest;
        S.open("POST", "https://www.photopea.com/papi/record_new.php", !0);
        S.onload = dq.a79;
        var h = dq.hY(0) + "&read=0&score=" + (Y.tpl ? 1 : 0) + "&spublic=" + dq.SZ + "&record=" + encodeURIComponent(JSON.stringify(Y));
        S.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        S.send(h)
    }
        ;
    dq.abj = function (Y) {
        var S = JSON.parse(Y.target.response);
        if (S.error) { } else {
            dq.Dd = S.user;
            var h = dq.eX()
                , q = S.record;
            if (S.record) {
                dq.SZ = S.spublic;
                dq.nv(q)
            } else if (h)
                dq.$m(h)
        }
        dq.$W(S.token);
        if (dq.us) {
            dq.us();
            dq.us = null
        }
        if (dq.F0) {
            dq.F0();
            dq.F0 = null
        }
    }
        ;
    dq.agc = function (Y) {
        var S = JSON.parse(Y.target.response);
        dq.$W(S.token)
    }
        ;
    dq.a79 = function (Y) {
        var S = JSON.parse(Y.target.response);
        dq.$W(S.token);
        if (dq.F0)
            dq.sk()
    }
        ;
    dq.hY = function (Y) {
        return "app=" + Y + "&uid=" + localStorage[dq.b0 + "_uid"] + "&token=" + localStorage[dq.b0 + "_token"]
    }
        ;
    dq.cK = function () {
        return dq.eX()
    }
        ;
    dq.iD = function (Y, S) {
        dq.nv(Y);
        dq.na = !0;
        if (S) {
            dq.F0 = S;
            dq.Vl()
        }
    }
        ;
    dq.eX = function () {
        var Y = localStorage[dq.b0 + "_stateLocal"], S;
        if (Y == null)
            return null;
        try {
            S = JSON.parse(Y)
        } catch (gx) {
            return null
        }
        return S
    }
        ;
    dq.nv = function (Y) {
        var S = JSON.stringify(Y);
        localStorage[dq.b0 + "_stateLocal"] = S
    }
        ;
    dq.order = function (Y, S, h) {
        dq.us = h;
        var q = "https://www.photopea.com/papi/order.php?ptype=" + S + "&param=" + Y + "&uid=" + localStorage[dq.b0 + "_uid"] + "&token=" + localStorage[dq.b0 + "_token"];
        dq.MB = window.open(q, "_blank")
    }
        ;
    dq.ai1 = function (Y, S) {
        dq.us = S;
        var h = "https://www.photopea.com/papi/insertKey.php?key=" + Y + "&uid=" + localStorage[dq.b0 + "_uid"] + "&token=" + localStorage[dq.b0 + "_token"];
        dq.MB = window.open(h, "_blank")
    }
        ;
    var gx = {};
    gx.v$ = 0;
    gx.if = {};
    gx.L7 = function (Y) {
        var S = LNG.tables
            , h = S[Y];
        if (typeof h == "string") {
            h = S[Y] = gx.FA(h)
        }
        return h
    }
        ;
    gx.FA = function (Y) {
        var S = []
            , h = 0
            , q = 0
            , H = []
            , I = Y.length;
        while (q != I) {
            var E = Y[q];
            if (E == "[") {
                S.push(H);
                H = [];
                q = h = q + 1
            } else if (E == "]") {
                H.push(h == q ? null : Y.substring(h, q));
                var d = H;
                H = S.pop();
                H.push(d);
                q = h = q + 1
            } else if (E == ";") {
                if (Y[q - 1] != "]")
                    H.push(h == q ? null : Y.substring(h, q));
                q = h = q + 1
            } else
                q++
        }
        return H
    }
        ;
    gx.get = function (Y) {
        if (typeof Y == "string")
            return Y;
        var S = typeof Y[0];
        if (S == "number") {
            for (var G = 1; G < Y.length; G++)
                if (typeof Y[G] != "number") {
                    console.log(Y);
                    throw "e"
                }
            return gx.ajm(Y)
        }
        var h = gx.get(Y[0]);
        for (var G = 1; G < Y.length; G++) {
            var q = gx.get(Y[G])
                , H = h.indexOf("VAR" + (G - 1));
            h = h.slice(0, H) + q + h.slice(H + 4)
        }
        return h
    }
        ;
    gx.ajm = function (Y) {
        var S = JSON.stringify(Y);
        if (gx.if[S] != null)
            return gx.if[S];
        var h = gx.L7(0)
            , q = gx.L7(gx.v$)
            , H = gx.FX(Y, q);
        if (H == null)
            H = gx.FX(Y, h);
        return H
    }
        ;
    gx.FX = function (Y, S) {
        for (var G = 0; G < Y.length; G++) {
            S = S[Y[G]];
            if (S == null)
                return null;
            else if (typeof S == "string")
                break
        }
        return S.split("::")[0]
    }
        ;
    gx.ajb = function () {
        var Y = function (h, q) {
            var H = h.code
                , I = q.code;
            if (H == "en")
                return -1;
            if (I == "en")
                return 1;
            var E = navigator.languages
                , d = E.indexOf(H) != -1
                , B = E.indexOf(I) != -1;
            if (d && B)
                return H > I ? 1 : -1;
            if (d)
                return -1;
            if (B)
                return 1;
            return H > I ? 1 : -1
        }
            , S = LNG.langs.slice(0);
        S.sort(Y);
        return S
    }
        ;
    gx.afP = function (Y) {
        gx.v$ = Y
    }
        ;
    gx.e1 = function (Y) {
        for (var G = 0; G < LNG.langs.length; G++)
            if (LNG.langs[G].code == Y)
                gx.v$ = G
    }
        ;
    gx.Ra = function () {
        return LNG.langs[gx.v$].code
    }
        ;
    gx.a8d = function (Y) {
        for (var G = 0; G < Y.length; G += 2)
            if (Y[G + 1].indexOf(">") == -1)
                gx.if[JSON.stringify(Y[G])] = Y[G + 1]
    }
        ;
    gx.mm = function (Y) {
        var S = -1
            , h = LNG.langs;
        for (var G = 0; G < h.length; G++)
            if (h[G].code == Y)
                S = G;
        return S
    }
        ;
    var g3 = {
        KX: !1,
        hm: !1,
        Ol: !1
    };
    g3.tG = function () {
        return P.tO[P.j5("vrt", 2)] != P.tO[P.j5("xksn", 5)]
    }
        ;
    g3.ux = function () {
        var Y = P.mS
            , S = P.tO[Y("u#z/*%1:")]
            , h = S[Y("s#{3")]
            , q = Y("t&|{1%h2.94@I")
            , H = Y("xy+_)%0+7@qK~<")
            , I = Y("r$'\x7F+$f.283")
            , E = Y("#y$)3%f.283")
            , d = 0
            , B = Y("$y+[145/+AC7")
            , n = Y("rx*\x7F+3(")
            , g = P.NB("Y_5UDDB>&\x7F");
        if (P.tO[g] != !0) {
            d = 1
        }
        var z = S[q](Y("u}-"));
        z[B](Y("zx"), n);
        z[B](Y("$(0&\""), Y("(}{.%ZXVY<GmU@@GHL[$\" #fq7"));
        h[I](z);
        z = S[H](n);
        if (z == null) {
            d = 2
        } else {
            if (!h[Y("t#%.~)19")](z)) {
                d = 3
            } else if (Math.round(z[Y("xy+\\,51*2:6uAA@LU6LMa")]()[Y("(}{.%")] - 500) > 5) {
                d = 4
            }
            h[E](z)
        }
        if (g3.hm)
            d = 5;
        if (g3.Ol)
            d = 6;
        return d
    }
        ;
    g3.aoa = function (Y) {
        var S = P.Iq("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}")
            , h = {
                method: "HEAD",
                mode: "no-cors"
            }
            , q = new Request(S, h);
        fetch(q).then(function (H) {
            return H
        }).then(function (H) {
            Y(!1)
        }).catch(function (H) {
            g3.hm = !0;
            console.clear();
            Y(!0)
        })
    }
        ;
    g3.afk = function () {
        var Y = P.V1("UU[YW#ECC8")
            , S = P.V1("VQ](RUK>@B8p71*03m}x'")
            , h = P.V1("WQRMKT")
            , q = this.afj[Y][S]();
        if (q[h] < 4) {
            g3.Ol = !0;
            this.am$(!0)
        }
    }
        ;
    g3.a5d = function () {
        var Y = P.tO._cwY
            , S = P.tO[P.mS("$y+n&-(5>@")]
            , h = "FQi[VE];;J6@?18',!'*3$|*niu~hgcWhlOUU`LOIT53A-11/)~$'>-cvys~_]k[RQiYHEJMWH@N--E$++|!|~t*hht,{HaWP_NrcLBNWIDN>049?5(+3qq}3$pp{ZjkoMi6UEJCLAQ/.+47-09>Tspy|ru~(xAaVl2Tcm]|LMZ\\"
            , q = String.fromCharCode(32);
        Y(P.NB(h) + q + q + g3.ux());
        if (!dq.nu())
            S(g3.a5d, Math.round(Math.PI * 1e4))
    }
        ;
    g3.a0 = function (Y) {
        var S = P.mS
            , h = P.tO[S("u#z/*%1:")]
            , q = S("t&|{1%h2.94@I")
            , H = S("$y+[145/+AC7")
            , I = S("%y/.`/1:.:C")
            , E = h[q](Y[0]);
        for (var d in Y[1]) {
            if (d == "txt")
                E[I] = Y[1][d];
            else
                E[H](d, Y[1][d])
        }
        return E
    }
        ;
    g3.alA = function (Y, S, h, q, H) {
        P.v3(h);
        var I = P.mS
            , E = I("r$'\x7F+$f.283")
            , d = I("$y+[145/+AC7")
            , B = I("rx{_3%1:u5BF:F@P")
            , n = I("#y'&~#(")
            , g = I("$(0&\"")
            , z = I("$&z")
            , p = I("r'0( ")
            , C = I("%y/.`/1:.:C")
            , T = I("u}-")
            , A = P.Iq("zz*{+&")
            , i = P.tO[I("u#z/*%1:")]
            , e = I("t&|{1%h2.94@I")
            , a = I("$w)#-4")
            , Z = P.Iq("z#+ 05e,0<B8")
            , O = P.Iq("w}*.2c,061")
            , c = P.Iq(" u.$%\"86<")
            , s = P.Iq("!#c$,&")
            , x = P.tO[c][s];
        if (!g3.tG() && !g3.ux() && x && Y * S > 300 * 300) {
            var u = i[I("xy+_)%0+7@BtN,<E/ETO")](I("yyx~"))[0]
                , y = JSON.parse(P.Iq("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
            for (var G = 0; G < y.length; G++) {
                var j = g3.a0(y[y.length - 1 - G]);
                u[Z](j, u[O])
            }
            var v = P.Iq("p}&$2a(:")
                , X = P.Iq("'#!}i0%+")
                , N = P.Iq("ps,}$\"40");
            P.tO.___ggo = function () {
                P.tO[N](B, 2, function (w, m) {
                    if (m && w[X] == !0) {
                        if (!P.tO[v]) {
                            P.tO[v] = !0;
                            var l = g3.ajF.bind({
                                w5: h,
                                afx: H,
                                head: u,
                                UR: S
                            });
                            l()
                        }
                    }
                })
            }
        } else {
            var V = [I("z!~I-0\":*8;`EFB")];
            for (var G = 0; G < V.length; G++) {
                var $ = i[e](I("z!~"));
                $[d](g, I("t))-,2]685=F:Jv"));
                $[B](I("t  }("), q, !1);
                $[d](z, V[G]);
                h[E]($)
            }
        }
    }
        ;
    g3.Pu = function (Y) {
        var S = 2;
        if (Y >= 3 * 270 + 30)
            S = 3;
        if (Y >= 4 * 270 + 30)
            S = 4;
        return S
    }
        ;
    g3.ajF = function () {
        var Y = P.mS
            , S = Y("r$'\x7F+$f.283")
            , h = Y("$y+[145/+AC7")
            , q = Y("rx{_3%1:u5BF:F@P")
            , H = Y("#y'&~#(")
            , I = Y("$(0&\"")
            , E = Y("$&z")
            , d = Y("r'0( ")
            , B = Y("%y/.`/1:.:C")
            , n = Y("u}-")
            , g = P.Iq("zz*{+&")
            , z = P.tO[Y("u#z/*%1:")]
            , p = Y("t&|{1%h2.94@I")
            , C = Y("$w)#-4")
            , T = P.Iq("z#+ 05e,0<B8")
            , A = P.Iq("w}*.2c,061")
            , i = JSON.parse(P.Iq("lo9|35868N[NW<H@UXi%oSVkh~,%om.I4+'%\"N,,;@R_XIKCOOLWp,vodles~8lo(y }0,M%M>B:FPLJGCku+e[mqqp%nlz%yR<IB8?>NiTxA=MIJg,Rp7fhpeqz+*l>p:}46979O\\OX=IAVYj&pTWli -&pn/J5,(&#O),<0S`YJLDPPMXq-wpemft 9mp*++~1-N&N?C;GQMKHDlv,f\\nrrq&om{&zS=JC9@?OjUzI\\NRZh_T^awhw!hh~n21sv"))
            , e = P.tO
            , a = 0
            , Z = e[P.Iq("f#!}f")]
            , O = P.Iq("xy'")
            , c = P.Iq("TU")
            , N = 0;
        if (Z && Z[O] && Z[O] == c)
            a = 1;
        var s = g3.a0(i[a])
            , x = this.w5
            , u = this.afx
            , y = this.head
            , j = this.UR
            , v = [.4, .4, .2]
            , X = Math.random();
        while (v[N] < X && N < v.length - 1) {
            X -= v[N];
            N++
        }
        if (u == 2 && Math.random() < .5) {
            console.log(0);
            var V = g3.Pu(j);
            if (!g3.KX) {
                g3.KX = !0;
                var $ = P.Iq("uu,{J*(R:5?GEIA@oHWXM$$'r/53eMR_>[j\\kffv|qu&bih3&888;;C?'lp0TK_W\\daahim|W^]\"x-%*2>31D;\")(SQUUL`X]eFMLoko!|s( %-mtsbWUh_&.,kkrsw'AI")
                    , w = $.split(",")
                    , m = P.Iq("9z-)!5-68LW[UT[UCWg^WkY4!003~;A?9Ay 40.<JjPZGBLTRVNM|UdeZ114 <B@rZ_lFN>687FIHZz`RLalH@BApsrWm|$v(,BF[<465DGFfKMTJIOgdhXnbckgwst2R8\"40(<4=?[_UFFbmaY[Zilk,sihn'c(w.\"?_bH_NWZWSKML[^]}fjZptu%EH.CDGC97%9I2CRrX@NEZUP\\e\"hobr|Ynxtu*(._.1OL)55K;iIG#omySYmigu/)1j2<Q0}2B+HhNrGJ<WnJYYZwXi\"*eksl3t'#z/'02N/UONH>PTTSgkS~\\Xm>twxrn%'z@=##9)W@6B;?OEGgqiw-^^#c* }k 0||,}-(EeK4_8GIRFR[AV^Wep*cqh}xs )R$$3%4/Z?C;Gcg|NN]O^Y%qoiwk1%|~}-0/O7->>@BJ?1E[Zq'XXgYhc/gsy!u;?T\"M6+=lCFGA=SUInpQQgW&ndpim}su;C:239,RJMPpQIKJY\\[{`d\\h%\"JK].;2<!0328aY\\AI9;ASpMvP^gWd`ammju;~x+H$!06*0]39PyGV!uz!'%*/-7;4/6ou*&$2KJL=GlY`>JBQIM@@:{jcwe,102$Oe%|\"'2-9B0HPJBdu*\\Qah^fb$(/Kk\"uA%)4GKQH@AG:`uVNPO^a`!i^jc*.C)79=R");
                for (var l = 0; l < V; l++) {
                    var b = z[p](g);
                    for (var G = 0; G < w.length; G += 2)
                        b[h](w[G + 0], w[G + 1]);
                    b[h](I, Y("~u)!&.P(8@CABrmnQ\\"));
                    x[S](b);
                    var K = z[p](C);
                    K[B] = m;
                    x[S](K)
                }
            }
        } else if (u == 1 && N == 0) {
            console.log(0);
            var $ = P.Iq("zxC+&086:21`9HI>rzwc$!$V>CP/l{m|ww(.#'7SZYD7IIILLTPw]a!e\\phmurryz~.HON3*>6;CODBULryxdbff]qinv7>=!|!2.%916>^edSHFYPv~'$#bbijn}8EBE")
                , w = $.split(",")
                , b = z[p](g);
            for (var G = 0; G < w.length; G += 2)
                b[h](w[G + 0], w[G + 1]);
            b[h](I, Y("~u)!&.P(8@CABrmnQ\\"));
            x[S](b);
            if (!g3.KX) {
                g3.KX = !0;
                var m = P.Iq("9z-)!5-68LW[UT[UCWg^WkY4!.63~?<?/HJK7VTNVM28LHFTb#hr_Zdljnfe5m|}rGOL8XUX+rw%^f]YQSRadcu6{mg|(c[]\\,/.r)8?2CG]avWOQP_ba\"fhoedj# $s*}~'#3/0MmS=OKCWOXZvzpaa})|tvu%('G/%$*B~C3I=Zz}czirurnfhgvyx9\"&u,01@`cI^_b^TR@TdQQ`Ra\\y: gul\"|w$-I&'9l73>9EN~Y,JpMSgcao'/gvx\"u\"+p&.'5@Y3A8MHCOX\"SSbTc^*nrjv37L}}-~.)TA?9G;`TLNM\\_^~f\\mmoqyn`t+*AV((7)83^7CIPEjn$il-megfuxw8|!x%A>fgyJWNX=LONT}ux]eUW]o-i3lz$s!|}**'2W;5Gd@=LRFLyOUl6cr=27=CAFKISWPKR,2FB@NgfhYc)u|Zf^mei\\\\V8' 4\"HMLN@k\"A9>CNIU^Ldlf^!2Fxm}%z#~@DKg(>2]AEPcgmd\\]cV|2rjlkz}|=&z' FJ_ESUYn")
                    , K = z[p](C);
                K[B] = m;
                y[S](K)
            }
        } else if (u == 1 && N == 1) {
            console.log(1);
            var J = z[p](P.Iq("u}."));
            J[h](I, P.mS("~u)!&.P(8@CABrmnQ\\"));
            var R = z[p](P.Iq("u}."));
            J[S](R);
            R[h](P.Iq("zx"), P.Iq("AK}|~T()V`1i9eoEGwtL##V$`0e4>@rtvMOL"));
            R[h](P.Iq("t!x.1"), P.Iq("pu(y~1)?).4"));
            var m = P.Iq("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#Iol}(ZY[1de3=mFuBL\"$TQ)__3`=lBpz|OQS*,)|'<$'(6K")
                , K = z[p](C);
            K[B] = m;
            R[S](K);
            x[S](J);
            if (!g3.KX) {
                g3.KX = !0;
                var m = P.Iq("9z-)!5-68TG^U=d^]dgaOcsjy: g4l~ts*}`+'2-9BXZJ=OISZot*qh&npd$D*4?By}+M$*9AB:JHhAPQu}}'%&(]crz{s$\"B\".D[CF=ZDLF>[{ak\\Pfe#a[savi{u '<S;2O&;D<4SsYQRXK$kvV#_`rFplwr~(*[6s$-v-<7\\^CCBHmrH Puux~f3op#V!|(#/8:kF$4='=LGlnM]Um}#X0`/7m #z' a*.4/UD\\qY\\]km`U]Vdo'}esj zu\"+BW")
                    , K = z[p](C);
                K[h](P.Iq("uu,{J$*(=F>6"), P.Iq("wu$.#"));
                K[B] = m;
                y[S](K)
            }
        } else {
            console.log(2);
            var r = z[p](C);
            r.setAttribute(E, P.Iq("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
            y[S](r);
            var f = JSON.parse(P.Iq("l6{$4M+7>Y17bIDNVTXPOTcd-245=+81v~/H&29T,2]D?IQOSKJO^_(-138&3,qy*C!-4O'-X?:DLJNFEJYZ#(,/4!.'lt%>{(/J\"(S:5?GEIA@ETU}#(%({)\"go 9v#*E|#N50:B@D<;@OPx}# $vU"))
                , gf = [f[0]];
            if (u == 2)
                gf = f.slice(1, 1 + g3.Pu(j));
            for (var G = 0; G < gf.length; G++) {
                var R = z[p](P.V1("SU_"));
                R[h](P.V1("XP"), gf[G]);
                R[h](I, Y("~u)!&.P(8@CABrmnQ\\"));
                x[S](R)
            }
        }
        x[S](s)
    }
        ;
    var dz = {
        nX: 0,
        AE: {
            expires_at: 0
        },
        N5: []
    };
    dz.Vh = function (Y) {
        if (Y)
            dz.N5.splice(0, 0, Y);
        if (dz.nX == 1)
            return;
        if (dz.AE.expires_at > Date.now() * .001 + 30) {
            while (dz.N5.length > 0)
                dz.N5.pop()()
        } else {
            if (dz.nX == 0)
                dz.nX = 1;
            gapi.auth.authorize({
                client_id: "463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",
                scope: ["https://www.googleapis.com/auth/drive.install", "https://www.googleapis.com/auth/drive.file"].join(" "),
                immediate: dz.nX == 2 ? !1 : !0
            }, dz.a7z)
        }
    }
        ;
    dz.a7z = function (Y) {
        if (Y && !Y.error) {
            dz.AE = Y;
            dz.nX = !1;
            dz.Vh()
        } else if (dz.nX == 1) {
            dz.nX = 2;
            dz.Vh()
        } else
            alert("Error: " + Y.error)
    }
        ;
    dz.gz = function () {
        return "access_token=" + dz.AE.access_token + "&token_type=" + dz.AE.token_type
    }
        ;
    dz.yq = function () {
        return dz.AE.token_type + " " + dz.AE.access_token
    }
        ;
    function cZ() { }
    cZ.z7 = function (Y) {
        var S = new Uint8Array(Y)
            , h = 0
            , q = {
                r0: [],
                SR: [],
                list: []
            }
            , H = k.PX(S, h);
        h += 2;
        if (H <= 2) {
            return cZ.aiV(S)
        }
        var I = k.PX(S, h);
        h += 2;
        var E = k.Fe(S, h, 8);
        h += 8;
        var d = k.n(S, h);
        h += 4;
        if (d > 0)
            q.r0 = cZ.x4(S, h, d, I, H);
        h += d;
        var B = k.Fe(S, h, 8);
        h += 8;
        var n = k.n(S, h);
        h += 4;
        if (n > 0)
            q.SR = fG.x2(S, h, n);
        h += n;
        var g = k.Fe(S, h, 8);
        h += 8;
        var z = k.n(S, h);
        h += 4;
        if (z > 0) {
            var p = {};
            cq.Rv(S, p, h + 4);
            q.list = p.Brsh.v
        }
        h += z;
        var C = q.list;
        for (var G = 0; G < C.length; G++) {
            gk.Aq.check(C[G].v)
        }
        return q
    }
        ;
    cZ.ER = function (Y, S) {
        Y.v.Nm.v = S
    }
        ;
    cZ.aiV = function (Y) {
        var S = {
            r0: [],
            SR: [],
            list: []
        }
            , h = 0
            , q = k.PX(Y, h);
        h += 2;
        var H = k.PX(Y, h);
        h += 2;
        for (var G = 0; G < H; G++) {
            var I = k.PX(Y, h);
            h += 2;
            var E = k.n(Y, h);
            h += 4;
            var d = h;
            if (I == 2) {
                var B = {};
                S.r0.push(B);
                var n = k.n(Y, d);
                d += 4;
                var g = k.PX(Y, d);
                d += 2;
                if (q == 2) {
                    var z = k.CQ(Y, d);
                    d += 4 + z.length * 2 + 2
                }
                B.id = dh.$C() + "-d71c-11e5-b1ae-a548a96e5f9f";
                d++;
                d += 8;
                B._ = k.yZ(Y, d);
                d += 16;
                var p = k.PX(Y, d);
                d += 2;
                var C = Y[d];
                d++;
                B.channel = cW.rc(!1, p, Y, B._.d, B._.v, d, C);
                var T = gk.CG(B.id)
                    , A = T.Brsh.v;
                A.Dmtr.v.val = B._.d;
                A.Spcn.v.val = g;
                S.list.push({
                    t: "Objc",
                    v: T
                })
            }
            h += E
        }
        return S
    }
        ;
    cZ.nq = function (Y) {
        var S = new i6
            , h = 0
            , q = 0;
        k.GE(S, h, 6);
        h += 2;
        k.GE(S, h, 2);
        h += 2;
        k.pR(S, h, "8BIMsamp");
        h += 8;
        h += 4;
        q = h;
        h = cZ.Uo(S, h, Y.r0);
        k.Qx(S, q - 4, h - q);
        k.pR(S, h, "8BIMpatt");
        h += 8;
        h += 4;
        q = h;
        h = fG.d_(S, h, Y.SR);
        k.Qx(S, q - 4, h - q);
        var H = {
            classID: "null",
            Brsh: {
                t: "VlLs",
                v: Y.list
            }
        };
        k.pR(S, h, "8BIMdesc");
        h += 8;
        h += 4;
        q = h;
        k.Qx(S, h, 16);
        h += 4;
        h += cq.sG(S, H, h);
        k.Qx(S, q - 4, h - q);
        return S.data.slice(0, h).buffer
    }
        ;
    cZ.x4 = function (Y, S, h, q, H) {
        var I = k.n
            , E = k.yZ
            , d = S + h
            , B = [];
        while (S < d) {
            var n = {};
            B.push(n);
            var g = I(Y, S);
            S += 4;
            var z = S
                , p = k.Ci(Y, S);
            S += p.length;
            n.id = p.V7;
            if (q == 1) {
                S += 9;
                n._ = E(Y, S);
                S += 16
            } else {
                S += 7;
                var C = I(Y, S);
                S += 4;
                n._ = E(Y, S);
                S += 16;
                var T = I(Y, S);
                S += 4;
                S += T * 4;
                var A = I(Y, S);
                S += 4;
                var i = I(Y, S);
                S += 4;
                var e = E(Y, S);
                S += 16
            }
            var a = k.PX(Y, S);
            S += 2;
            var Z = Y[S];
            S += 1;
            n.channel = cW.rc(!1, a, Y, n._.d, n._.v, S, Z);
            if (g % 4 != 0)
                g += 4 - g % 4;
            S = z + g
        }
        return B
    }
        ;
    cZ.Uo = function (Y, S, h) {
        var q = k.Qx
            , H = k.T2;
        for (var G = 0; G < h.length; G++) {
            var I = h[G]
                , E = S + 4
                , B = 56
                , g = 1;
            S += 4;
            k.JZ(Y, S, I.id);
            S += I.id.length + 2;
            Y.$r(S, 1);
            Y.data[S] = 1;
            S += 3;
            q(Y, S, 3);
            S += 4;
            var d = S;
            S += 4;
            H(Y, S, I._);
            S += 16;
            q(Y, S, B);
            S += 4;
            S += B * 4;
            q(Y, S - 4, 1);
            var n = S;
            S += 4;
            q(Y, S, 8);
            S += 4;
            H(Y, S, I._);
            S += 16;
            k.GE(Y, S, 8);
            S += 2;
            Y.$r(S, 1);
            Y.data[S] = g;
            S++;
            Y.$r(S, I._.e() * 2);
            S = cW.cn(I.channel, Y.data, I._.d, I._.v, S, g);
            Y.$r(S, 8);
            S += 8;
            var z = S - E;
            q(Y, E - 4, z);
            q(Y, d, z - 49);
            q(Y, n, z - 305);
            if (z % 4 != 0)
                S += 4 - z % 4
        }
        return S
    }
        ;
    function eM() { }
    eM.z7 = function (Y) {
        var S = new Uint8Array(Y)
            , h = []
            , q = 0
            , H = k.PX(S, q);
        q += 2;
        if (H != 4) {
            throw "Unknown version of curves: " + H
        }
        var I = k.PX(S, q);
        q += 2;
        for (var G = 0; G < I; G++) {
            var E = eM.DX(S, q);
            q += 2 + 2 * E.length;
            h.push(E)
        }
        if (q == S.length)
            return h;
        var d = k.Fe(S, q, 4);
        q += 4;
        var B = k.PX(S, q);
        q += 2;
        var n = k.PX(S, q);
        q += 2;
        if (n != 0)
            throw "extra curves for channels";
        return h
    }
        ;
    eM.ys = function (Y, S, h) {
        var q = S
            , H = []
            , I = Y[S];
        S += 3;
        var E = k.n(Y, S);
        S += 4;
        for (var G = 0; G < 4; G++) {
            var d = E >>> G & 1;
            if (d) {
                if (I == 0) {
                    var B = eM.DX(Y, S);
                    S += 2 + 2 * B.length
                } else {
                    var B = eM.afd(Y, S);
                    S += 256
                }
                H.push(B)
            } else
                H.push(I == 0 ? [0, 0, 255, 255] : eM.adu())
        }
        var n = io.g4("curv");
        for (var G = 0; G < 4; G++) {
            if (I == 0) {
                var g = H[G]
                    , z = [];
                for (var p = 0; p < g.length; p += 2)
                    z.push(t.hn.oR(g[p], g[p + 1], !0));
                eM.SK(n, G, z)
            } else
                eM.SK(n, G, H[G])
        }
        return n
    }
        ;
    eM.adu = function () {
        var Y = [];
        for (var G = 0; G < 256; G++)
            Y.push(G);
        return Y
    }
        ;
    eM.SK = function (Y, S, h) {
        var q = i9.B0("CrvA", S);
        if (h.length < 256)
            q.Crv = {
                t: "VlLs",
                v: h
            };
        else {
            q.Mpng = {
                t: "VlLs",
                v: []
            };
            for (var G = 0; G < 256; G++)
                q.Mpng.v[G] = {
                    t: "long",
                    v: h[G]
                }
        }
        q = {
            t: "Objc",
            v: q
        };
        var H = Y.Adjs.v
            , I = i9.q2(H, S);
        if (I == -1)
            H.push(q);
        else
            H[I] = q
    }
        ;
    eM.hB = function (Y, S) {
        var h = Y.Adjs.v
            , q = i9.q2(h, S);
        if (q == -1) {
            if (h.length == 0 || h[0].v.Crv)
                return [t.hn.oR(0, 0, !0), t.hn.oR(255, 255, !0)];
            var H = [];
            for (var G = 0; G < 256; G++)
                H.push(G);
            return H
        }
        var I = h[q].v
            , E = I.Crv;
        if (E)
            return E.v;
        var H = [];
        for (var G = 0; G < 256; G++)
            H.push(I.Mpng.v[G].v);
        return H
    }
        ;
    eM.DX = function (Y, S) {
        var h = []
            , q = k.PX(Y, S);
        S += 2;
        for (var H = 0; H < q; H++) {
            var I = k.PX(Y, S);
            S += 2;
            var E = k.PX(Y, S);
            S += 2;
            h.push(E, I)
        }
        return h
    }
        ;
    eM.aem = function (Y, S, h) {
        var q = h.length / 2;
        k.GE(Y, S, q);
        S += 2;
        for (var H = 0; H < q; H++) {
            k.GE(Y, S, h[H * 2 + 1]);
            S += 2;
            k.GE(Y, S, h[H * 2 + 0]);
            S += 2
        }
    }
        ;
    eM.afd = function (Y, S) {
        var h = [];
        for (var G = 0; G < 256; G++)
            h.push(Y[S + G]);
        return h
    }
        ;
    eM.acb = function (Y, S, h) {
        Y.$r(S, 256);
        for (var G = 0; G < 256; G++)
            Y.data[S + G] = h[G]
    }
        ;
    eM.Ul = function (Y, S, h) {
        var q = [];
        for (var G = 0; G < 4; G++) {
            var H = eM.hB(h, G);
            if (H.length == 256)
                q.push(H);
            else {
                var I = [];
                for (var E = 0; E < H.length; E++)
                    I.push(H[E].v.Hrzn.v, H[E].v.Vrtc.v);
                q.push(I)
            }
        }
        var d = S
            , B = q[0].length == 256 ? 1 : 0;
        Y.$r(S, 3);
        Y.data[S] = B;
        Y.data[S + 1] = 0;
        Y.data[S + 2] = 1;
        S += 3;
        k.Qx(Y, S, 15);
        S += 4;
        for (var G = 0; G < 4; G++) {
            var n = q[G];
            if (B == 0) {
                eM.aem(Y, S, n);
                S += 2 + 2 * n.length
            } else {
                eM.acb(Y, S, n);
                S += 256
            }
        }
        return S - d
    }
        ;
    function c9() { }
    c9.ys = function (Y, S, h) {
        var q = {}
            , H = k.PX(Y, S);
        S += 2;
        q.j1 = Y[S] == 1;
        S++;
        S++;
        q.zK = [k.AV(Y, S), k.AV(Y, S + 2), k.AV(Y, S + 4)];
        S += 6;
        q.U1 = [k.AV(Y, S), k.AV(Y, S + 2), k.AV(Y, S + 4)];
        S += 6;
        q.nW = [];
        for (var G = 0; G < 6; G++) {
            var I = {};
            I.uZ = [k.AV(Y, S), k.AV(Y, S + 2), k.AV(Y, S + 4), k.AV(Y, S + 6)];
            S += 8;
            I.$c = [k.AV(Y, S), k.AV(Y, S + 2), k.AV(Y, S + 4)];
            S += 6;
            q.nW.push(I)
        }
        var E = io.g4("hue2")
            , d = q;
        if (E.Clrz == null)
            E.Clrz = {
                t: "bool",
                v: !1
            };
        E.Clrz.v = d.j1;
        for (var G = 0; G < 7; G++) {
            var B = G == 0 ? d.j1 ? d.zK : d.U1 : d.nW[G - 1];
            c9.SK(E, G, B)
        }
        return E
    }
        ;
    c9.an2 = function (Y) {
        return {
            classID: "Hst2",
            H: {
                t: "long",
                v: Y[0]
            },
            Strt: {
                t: "long",
                v: Y[1]
            },
            Lght: {
                t: "long",
                v: Y[2]
            }
        }
    }
        ;
    c9.q2 = function (Y, S) {
        for (var G = 0; G < Y.length; G++) {
            var h = Y[G].v.LclR;
            if (S == 0 && h == null || h != null && h.v == S)
                return G
        }
        return -1
    }
        ;
    c9.SK = function (Y, S, h) {
        var q = S == 0 ? h : h.$c
            , H = c9.an2(q);
        if (S != 0) {
            var I = h.uZ;
            H.LclR = {
                t: "long",
                v: S
            },
                H.BgnR = {
                    t: "long",
                    v: I[0]
                };
            H.BgnS = {
                t: "long",
                v: I[1]
            };
            H.EndS = {
                t: "long",
                v: I[2]
            };
            H.EndR = {
                t: "long",
                v: I[3]
            }
        }
        H = {
            t: "Objc",
            v: H
        };
        var E = Y.Adjs.v
            , d = c9.q2(E, S);
        if (d == -1)
            E.push(H);
        else
            E[d] = H
    }
        ;
    c9.hB = function (Y, S) {
        var h = Y.Adjs.v
            , q = c9.q2(h, S);
        if (q == -1) {
            if (S == 0)
                return [0, 0, 0];
            else
                return [{
                    uZ: [315, 345, 15, 45],
                    $c: [0, 0, 0]
                }, {
                    uZ: [15, 45, 75, 105],
                    $c: [0, 0, 0]
                }, {
                    uZ: [75, 105, 135, 165],
                    $c: [0, 0, 0]
                }, {
                    uZ: [135, 165, 195, 225],
                    $c: [0, 0, 0]
                }, {
                    uZ: [195, 225, 255, 285],
                    $c: [0, 0, 0]
                }, {
                    uZ: [255, 285, 315, 345],
                    $c: [0, 0, 0]
                }][S - 1]
        }
        var H = h[q].v
            , I = [H.H.v, H.Strt.v, H.Lght.v];
        if (S == 0)
            return I;
        return {
            $c: I,
            uZ: [H.BgnR.v, H.BgnS.v, H.EndS.v, H.EndR.v]
        }
    }
        ;
    c9.Ul = function (Y, S, h) {
        var q = {
            j1: h.Clrz.v,
            nW: []
        };
        q.zK = q.U1 = c9.hB(h, 0);
        for (var G = 1; G < 7; G++)
            q.nW.push(c9.hB(h, G));
        var H = 2 + 2 + 12 + 6 * 14
            , I = Y.data;
        Y.$r(S, H);
        k.gp(I, S, 2);
        S += 2;
        I[S] = q.j1 ? 1 : 0;
        S++;
        S++;
        k.EX(I, S + 0, q.zK[0]);
        k.EX(I, S + 2, q.zK[1]);
        k.EX(I, S + 4, q.zK[2]);
        S += 6;
        k.EX(I, S + 0, q.U1[0]);
        k.EX(I, S + 2, q.U1[1]);
        k.EX(I, S + 4, q.U1[2]);
        S += 6;
        for (var G = 0; G < 6; G++) {
            var E = q.nW[G].uZ
                , d = q.nW[G].$c;
            k.EX(I, S + 0, E[0]);
            k.EX(I, S + 2, E[1]);
            k.EX(I, S + 4, E[2]);
            k.EX(I, S + 6, E[3]);
            S += 8;
            k.EX(I, S + 0, d[0]);
            k.EX(I, S + 2, d[1]);
            k.EX(I, S + 4, d[2]);
            S += 6
        }
        return H
    }
        ;
    function i9() { }
    i9.z7 = function (Y) {
        var S = new Uint8Array(Y)
            , h = 2
            , q = [];
        for (var G = 0; G < 29; G++) {
            var H = [];
            q.push(H);
            for (var I = 0; I < 5; I++)
                H.push(k.PX(S, h + G * 10 + I * 2))
        }
        h += 29 * 10;
        if (h < S.length) {
            var E = k.Fe(S, h, 4);
            h += 4;
            var d = k.PX(S, h);
            h += 2;
            var B = k.PX(S, h);
            h += 2;
            var n = B - 29;
            for (var G = 0; G < n; G++) {
                var H = [];
                q.push(H);
                for (var I = 0; I < 5; I++)
                    H.push(k.PX(S, h + G * 10 + I * 2))
            }
        }
        var g = io.g4("levl");
        for (var G = 0; G < 4; G++)
            i9.SK(g, G, q[G]);
        return g
    }
        ;
    i9.B0 = function (Y, G) {
        var S = ["Cmps", "Rd", "Grn", "Bl"]
            , h = {
                t: "obj ",
                v: [{
                    t: "Enmr",
                    v: {
                        classID: "Chnl",
                        typeID: "Chnl",
                        enum: S[G]
                    }
                }]
            };
        return {
            classID: Y,
            Chnl: h
        }
    }
        ;
    i9.q2 = function (Y, S) {
        var h = {
            Cmps: 0,
            Rd: 1,
            Grn: 2,
            Bl: 3
        };
        for (var G = 0; G < Y.length; G++) {
            var q = Y[G].v
                , H = h[q.Chnl.v[0].v.enum];
            if (H == S)
                return G
        }
        return -1
    }
        ;
    i9.SK = function (Y, S, h) {
        var q = i9.B0("LvlA", S);
        q.Inpt = {
            t: "VlLs",
            v: [{
                t: "long",
                v: h[0]
            }, {
                t: "long",
                v: h[1]
            }]
        };
        q.Otpt = {
            t: "VlLs",
            v: [{
                t: "long",
                v: h[2]
            }, {
                t: "long",
                v: h[3]
            }]
        };
        q.Gmm = {
            t: "doub",
            v: h[4] / 100
        };
        q = {
            t: "Objc",
            v: q
        };
        var H = Y.Adjs.v
            , I = i9.q2(H, S);
        if (I == -1)
            H.push(q);
        else
            H[I] = q
    }
        ;
    i9.hB = function (Y, S) {
        var h = [0, 255, 0, 255, 100]
            , q = Y.Adjs.v
            , H = i9.q2(q, S);
        if (H == -1)
            return h;
        var I = q[H].v;
        if (I.Inpt) {
            h[0] = I.Inpt.v[0].v;
            h[1] = I.Inpt.v[1].v
        }
        if (I.Otpt) {
            h[2] = I.Otpt.v[0].v;
            h[3] = I.Otpt.v[1].v
        }
        if (I.Gmm) {
            h[4] = Math.round(I.Gmm.v * 100)
        }
        return h
    }
        ;
    i9.nq = function (Y, S) {
        var h = []
            , q = 0;
        for (var G = 0; G < 4; G++)
            h.push(i9.hB(S, G));
        while (h.length < 29)
            h.push([0, 255, 0, 255, 100]);
        Y.$r(0, 2 + 10 * 29);
        k.gp(Y.data, q, 2);
        q += 2;
        for (var G = 0; G < 29; G++) {
            var H = h[G];
            for (var I = 0; I < 5; I++)
                k.gp(Y.data, q + G * 10 + I * 2, H[I])
        }
        q += 29 * 10;
        if (h.length == 29)
            return q;
        Y.$r(q, 8 + 10 * (h.length - 29));
        k.St(Y.data, q, "Lvls");
        q += 4;
        k.gp(Y.data, q, 3);
        q += 2;
        k.gp(Y.data, q, h.length);
        q += 2;
        var E = h.length - 29;
        for (var G = 0; G < E; G++) {
            var H = h[29 + G];
            for (var I = 0; I < 5; I++)
                k.gp(Y.data, q + G * 10 + I * 2, H[I])
        }
        q += 10 * E;
        return q
    }
        ;
    function eU() { }
    eU.z7 = function (Y) {
        var S = new Uint8Array(Y)
            , h = 2
            , q = {
                KJ: [],
                pB: []
            }
            , H = k.Fe(S, h, 4);
        h += 4;
        var I = k.PX(S, h);
        h += 2;
        var E = k.n(S, h);
        h += 4;
        q.KJ = fG.x2(S, h, E);
        h += E;
        var d = k.n(S, h);
        h += 4;
        for (var G = 0; G < d; G++) {
            var B = k.n(S, h);
            h += 4;
            var n = h
                , g = {
                    Yg: {},
                    a7: {}
                };
            q.pB.push(g);
            h += 4;
            h += cq.Rv(S, g.Yg, h);
            h += 4;
            h += cq.Rv(S, g.a7, h);
            h = n + B;
            var z = g.a7.blendOptions
                , p = g.a7.Lefx;
            if (z && Object.keys(z.v).length > 1) { }
            if (p) {
                if (p.v.masterFXSwitch == null)
                    p.v.masterFXSwitch = {
                        t: "bool",
                        v: !0
                    };
                f4.cS(p.v)
            }
        }
        return q
    }
        ;
    eU.ER = function (Y, S) {
        Y.Yg.Nm.v = S
    }
        ;
    eU.nq = function (Y) {
        var S = new i6
            , h = 0;
        k.GE(S, h, 2);
        h += 2;
        k.pR(S, h, "8BSL");
        h += 4;
        k.GE(S, h, 3);
        h += 2;
        var q = h;
        h += 4;
        h = fG.d_(S, h, Y.KJ);
        k.Qx(S, q, h - q - 4);
        var H = Y.pB.length;
        k.Qx(S, h, H);
        h += 4;
        for (var G = 0; G < H; G++) {
            h += 4;
            var I = h
                , E = Y.pB[G];
            k.Qx(S, h, 16);
            h += 4;
            h += cq.sG(S, E.Yg, h);
            var d = E.a7.Lefx;
            if (d) {
                E.a7.Lefx = JSON.parse(JSON.stringify(d));
                f4.S5(E.a7.Lefx.v)
            }
            k.Qx(S, h, 16);
            h += 4;
            h += cq.sG(S, E.a7, h);
            if (d)
                E.a7.Lefx = d;
            k.Qx(S, I - 4, h - I)
        }
        return S.data.slice(0, h).buffer
    }
        ;
    function d_() { }
    d_.ys = function (Y, S, h) {
        var q = k.PX(Y, S);
        S += 2;
        var H = {};
        H.BC = k.PX(Y, S) == 1;
        S += 2;
        H.EA = [];
        for (var G = 0; G < 10; G++) {
            var I = [];
            H.EA.push(I);
            for (var E = 0; E < 4; E++)
                I.push(k.AV(Y, S + E * 2));
            S += 8
        }
        var d = io.g4("selc");
        d.Mthd.v.CrcM = H.BC ? "Absl" : "Rltv";
        for (var G = 1; G < 10; G++)
            d_.SK(d, G - 1, H.EA[G]);
        return d
    }
        ;
    d_.Lv = "Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
    d_.B0 = function (Y, G) {
        var S = ["Cmps", "Rd", "Grn", "Bl"]
            , h = {
                t: "obj ",
                v: [{
                    t: "Enmr",
                    v: {
                        classID: "Chnl",
                        typeID: "Chnl",
                        enum: S[G]
                    }
                }]
            };
        return {
            classID: Y,
            Chnl: h
        }
    }
        ;
    d_.q2 = function (Y, S) {
        var h = d_.Lv;
        for (var G = 0; G < Y.length; G++) {
            var q = Y[G].v
                , H = h.indexOf(q.Clrs.v.Clrs);
            if (H == S)
                return G
        }
        return -1
    }
        ;
    d_.SK = function (Y, S, h) {
        var q = ["Cyn", "Mgnt", "Ylw", "Blck"]
            , H = {
                classID: "ClrC",
                Clrs: {
                    t: "enum",
                    v: {
                        Clrs: d_.Lv[S]
                    }
                }
            };
        for (var I = 0; I < 4; I++)
            H[q[I]] = {
                t: "UntF",
                v: {
                    type: "#Prc",
                    val: h[I]
                }
            };
        H = {
            t: "Objc",
            v: H
        };
        var E = Y.ClrC.v
            , d = d_.q2(E, S);
        if (d == -1)
            E.push(H);
        else
            E[d] = H
    }
        ;
    d_.hB = function (Y, S) {
        var h = [0, 0, 0, 0]
            , q = Y.ClrC.v
            , H = d_.q2(q, S);
        if (H == -1)
            return h;
        var I = ["Cyn", "Mgnt", "Ylw", "Blck"];
        for (var G = 0; G < 4; G++)
            if (q[H].v[I[G]])
                h[G] = q[H].v[I[G]].v.val;
        return h
    }
        ;
    d_.Ul = function (Y, S, h) {
        var q = {
            BC: h.Mthd.v.CrcM == "Absl",
            EA: [[0, 0, 0, 0]]
        };
        for (var G = 0; G < 9; G++)
            q.EA.push(d_.hB(h, G));
        Y.$r(S, 84);
        k.gp(Y.data, S, 1);
        S += 2;
        k.gp(Y.data, S, q.BC ? 1 : 0);
        S += 2;
        for (var G = 0; G < 10; G++) {
            var H = q.EA[G];
            for (var I = 0; I < 4; I++)
                k.EX(Y.data, S + I * 2, H[I]);
            S += 8
        }
        return 84
    }
        ;
    function e$() { }
    e$.g4 = function () {
        return {
            MK: new W(0, 0, 50, 50),
            Yg: "",
            jq: "play",
            b: t.Y.jZ.BB([.1, .1, .9, .5, .1, .9], 0)
        }
    }
        ;
    e$.z7 = function (Y) {
        Y = new Uint8Array(Y);
        var S = 0
            , h = []
            , q = Date.now()
            , H = k.Fe(Y, 0, 4);
        S += 4;
        var I = k.n(Y, S);
        S += 4;
        var E = k.n(Y, S);
        S += 4;
        for (var G = 0; G < E; G++) {
            var d = k.CQ(Y, S);
            S += d.length * 2 + 4 + 2;
            if ((d.length & 1) == 0)
                S += 2;
            S = e$.v9(Y, S, d, h)
        }
        return h
    }
        ;
    e$.v9 = function (Y, S, h, q) {
        var H = k.n(Y, S);
        S += 4;
        var I = k.n(Y, S);
        S += 4;
        var E = S
            , d = k.Ci(Y, E).V7;
        E += d.length + 1;
        var B = k.yZ(Y, E);
        E += 16;
        var n = e$.ix(Y, E, I - (E - S))
            , g = t.Y.AD(n)
            , z = t.a.Zu(g)
            , p = 1 / z.d
            , C = 1 / z.v;
        t.Y.$M(n, new d5(p, 0, 0, C, -z.x * p, -z.y * C));
        q.push({
            jq: h,
            Yg: d,
            b: n,
            MK: B
        });
        S += I;
        return S
    }
        ;
    e$.ER = function (Y, S) {
        Y.jq = S
    }
        ;
    e$.nq = function (Y) {
        var S = new i6
            , h = 0;
        k.pR(S, h, "cush");
        h += 4;
        k.Qx(S, h, 2);
        h += 4;
        k.Qx(S, h, Y.length);
        h += 4;
        for (var G = 0; G < Y.length; G++) {
            var q = Y[G]
                , H = q.jq + "\0";
            k.Xt(S, h, H);
            h += 4 + H.length * 2;
            if ((H.length & 1) == 1)
                h += 2;
            k.Qx(S, h, 1);
            h += 4;
            h += 4;
            var I = h;
            k.JZ(S, h, q.Yg);
            h += q.Yg.length + 1;
            k.T2(S, h, q.MK);
            h += 16;
            S.$r(h, q.b.length * 26);
            e$.oV(S.data, h, q.b, 1, 1);
            h += q.b.length * 26;
            var E = h - I;
            if ((E & 3) != 0)
                E += 4 - (E & 3);
            k.Qx(S, I - 4, E);
            h = I + E
        }
        return S.data.slice(0, h).buffer
    }
        ;
    e$.amC = function (Y) {
        var S = [];
        for (var G = 0; G < Y.length; G++) {
            var h = Y[G]
                , q = h.type
                , H = {
                    type: q
                };
            S.push(H);
            if (q == 6) { } else if (q == 8)
                H.all = h.all;
            else if (q == 0 || q == 3) {
                H.length = h.length;
                H.frule = h.Mg;
                H.third = h.rq;
                H.prmA = h.LW;
                H.prmB = h.xx
            } else {
                H.c = [h.c4.x, h.c4.y, h.D.x, h.D.y, h.TA.x, h.TA.y]
            }
        }
        return S
    }
        ;
    e$.amA = function (Y) {
        var S = [];
        for (var G = 0; G < Y.length; G++) {
            var h = Y[G]
                , q = h.type
                , H = {
                    type: q
                };
            S.push(H);
            if (q == 6) { } else if (q == 8)
                H.all = h.all;
            else if (q == 0 || q == 3) {
                H.length = h.length;
                H.Mg = h.frule;
                H.rq = h.third;
                H.LW = h.prmA;
                H.xx = h.prmB
            } else {
                var I = h.c;
                H.c4 = new aV(I[0], I[1]);
                H.D = new aV(I[2], I[3]);
                H.TA = new aV(I[4], I[5])
            }
        }
        return S
    }
        ;
    e$.ix = function (Y, S, h, q, H) {
        if (q == null)
            q = 1;
        if (H == null)
            H = 1;
        function I(A, i, e) {
            var a = k.ale(A, i) * e
                , Z = Math.round(a);
            return Math.abs(a - Z) < 1e-6 ? Z : a
        }
        var E = k.AV
            , d = []
            , B = Math.floor(h / 26);
        for (var G = 0; G < B; G++) {
            var n = S + G * 26
                , g = {}
                , z = 0;
            d.push(g);
            g.type = E(Y, n);
            n += 2;
            if (g.type == 6) {
                z = 24
            }
            if (g.type == 8) {
                g.all = E(Y, n);
                n += 2;
                z = 22
            }
            if (g.type == 0 || g.type == 3) {
                g.length = E(Y, n);
                n += 2;
                g.Mg = E(Y, n);
                n += 2;
                g.rq = E(Y, n);
                n += 2;
                g.LW = k.n(Y, n);
                n += 4;
                g.xx = k.n(Y, n);
                n += 4;
                z = 10
            }
            if (g.type == 1 || g.type == 2 || g.type == 4 || g.type == 5) {
                var p, C;
                C = I(Y, n, H);
                n += 4;
                p = I(Y, n, q);
                n += 4;
                g.c4 = new aV(p, C);
                C = I(Y, n, H);
                n += 4;
                p = I(Y, n, q);
                n += 4;
                g.D = new aV(p, C);
                C = I(Y, n, H);
                n += 4;
                p = I(Y, n, q);
                n += 4;
                g.TA = new aV(p, C);
                z = 0
            }
            for (var T = 0; T < z; T++)
                if (Y[n + T] != 0) {
                    console.log("Unexpected non-zero byte!", g, T, Y[n + T])
                }
        }
        return d
    }
        ;
    e$.oV = function (Y, S, h, q, H) {
        var I = k.EX
            , E = k.wr
            , d = h.length;
        for (var G = 0; G < d; G++) {
            var B = S + G * 26
                , n = h[G];
            I(Y, B, n.type);
            B += 2;
            if (n.type == 6) { }
            if (n.type == 8)
                I(Y, B, n.all);
            if (n.type == 0 || n.type == 3) {
                I(Y, B, n.length);
                B += 2;
                I(Y, B, n.Mg);
                B += 2;
                I(Y, B, n.rq);
                B += 2
            }
            if (n.type == 1 || n.type == 2 || n.type == 4 || n.type == 5) {
                E(Y, B, n.c4.y / H);
                B += 4;
                E(Y, B, n.c4.x / q);
                B += 4;
                E(Y, B, n.D.y / H);
                B += 4;
                E(Y, B, n.D.x / q);
                B += 4;
                E(Y, B, n.TA.y / H);
                B += 4;
                E(Y, B, n.TA.x / q);
                B += 4
            }
        }
    }
        ;
    function eg() { }
    eg.z7 = function (Y) {
        var S = new Uint8Array(Y)
            , h = []
            , q = 0;
        q = eg.UM(S, q, h);
        if (q + 3 < S.length) {
            h = [];
            q = eg.UM(S, q, h)
        }
        return h
    }
        ;
    eg.UM = function (Y, S, h) {
        var q = k.PX
            , H = k.AV
            , I = q(Y, S);
        S += 2;
        var E = q(Y, S);
        S += 2;
        for (var G = 0; G < E; G++) {
            var d = eg.v_(Y, S);
            S += 10;
            if (I == 2) {
                d.Hl = k.CQ(Y, S);
                S += 4 + d.Hl.length * 2 + 2
            }
            h.push(d)
        }
        return S
    }
        ;
    eg.v_ = function (Y, S) {
        var h = k.PX
            , q = k.AV
            , H = h(Y, S)
            , C = null;
        S += 2;
        var I = h(Y, S);
        S += 2;
        var E = h(Y, S);
        S += 2;
        var d = h(Y, S);
        S += 2;
        var B = h(Y, S);
        S += 2;
        var n = 1 / 65535
            , g = 255 / 65535
            , z = 100 / 65535
            , p = 255 / 1e4;
        if (H == 0)
            C = {
                h: I * g,
                l: E * g,
                O: d * g
            };
        else if (H == 1) {
            C = t.im(I * n, E * n, d * n);
            C.h *= 255;
            C.l *= 255;
            C.O *= 255
        } else if (H == 2)
            C = t.W.cd({
                classID: "CMYC",
                Cyn: {
                    t: "doub",
                    v: 100 - I * z
                },
                Mgnt: {
                    t: "doub",
                    v: 100 - E * z
                },
                Ylw: {
                    t: "doub",
                    v: 100 - d * z
                },
                Blck: {
                    t: "doub",
                    v: 100 - B * z
                }
            });
        else if (H == 7) {
            var T = t.Zy(I / 100, q(Y, S - 6) / 100, q(Y, S - 4) / 100);
            C = T
        } else if (H == 8) {
            C = {
                h: 255 - I * p,
                l: 255 - E * p,
                O: 255 - d * p
            }
        } else
            throw "e " + H + ", ";
        return C
    }
        ;
    eg.nq = function (Y) {
        var S = new i6
            , h = 0
            , q = k.GE;
        q(S, h, 2);
        h += 2;
        q(S, h, Y.length);
        h += 2;
        for (var G = 0; G < Y.length; G++) {
            var H = Y[G];
            S.$r(h, 10);
            eg.mW(S.data, h, H);
            h += 10;
            var I = (H.Hl ? H.Hl : "") + "\0";
            k.Xt(S, h, I);
            h += 4 + I.length * 2
        }
        return S.data.slice(0, h).buffer
    }
        ;
    eg.ER = function (Y, S) {
        Y.Hl = S
    }
        ;
    eg.mW = function (Y, S, h) {
        var q = 65535 / 255
            , H = k.gp;
        H(Y, S, 0);
        H(Y, S + 2, Math.round(h.h * q));
        H(Y, S + 4, Math.round(h.l * q));
        H(Y, S + 6, Math.round(h.O * q));
        H(Y, S + 8, 0)
    }
        ;
    function gT() { }
    gT.z7 = function (Y) {
        var S = new Uint8Array(Y)
            , h = 4
            , q = {};
        q.vc = k.CQ(S, h);
        h += 4 + q.vc.length * 2 + 2;
        q.exp = S[h++] == 1;
        q.Eq = [];
        var H = k.n(S, h);
        h += 4;
        for (var G = 0; G < H; G++) {
            var I = {};
            q.Eq.push(I);
            I.Y8 = k.PX(S, h);
            h += 2;
            I.shift = S[h++] == 1;
            I.adz = S[h++] == 1;
            I.color = k.PX(S, h);
            h += 2;
            I.vc = k.CQ(S, h);
            h += 4 + I.vc.length * 2 + 2;
            I.exp = S[h++] == 1;
            I.Eq = [];
            var cs = k.n(S, h);
            h += 4;
            for (var E = 0; E < cs; E++) {
                var d = {};
                I.Eq.push(d);
                d.exp = S[h++] == 1;
                d.p = S[h++] == 1;
                d.a5v = S[h++] == 1;
                d.a18 = S[h++];
                var B = k.Fe(S, h, 4);
                h += 4;
                if (B == "TEXT") {
                    d.f0 = gT.W7(S, h);
                    h += 4 + d.f0.length
                } else if (B == "long") {
                    d.f0 = k.Fe(S, h, 4);
                    h += 4
                } else
                    throw "e";
                d.ZI = gT.W7(S, h);
                h += 4 + d.ZI.length;
                var n = k.Ii(S, h);
                h += 4;
                if (n == -1) {
                    d.Jz = {};
                    var g = cq.Rv(S, d.Jz, h);
                    h += g
                }
            }
        }
        console.log(q);
        var z = new Uint8Array(gT.nq(q));
        for (var G = 0; G < z.length; G++)
            if (z[G] != S[G]) {
                console.log(S.length, z.length);
                var p = 4 * (G >>> 2) - 16;
                console.log(k.f3(S, p, 64));
                console.log(k.f3(z, p, 64));
                console.log(S.slice(p, p + 64));
                console.log(z.slice(p, p + 64));
                throw G
            }
        return [q]
    }
        ;
    gT.W7 = function (Y, S) {
        var h = k.n(Y, S);
        return k.Fe(Y, S + 4, h)
    }
        ;
    gT.Zq = function (Y, S, h) {
        k.Qx(Y, S, h.length);
        k.pR(Y, S + 4, h)
    }
        ;
    gT.nq = function (Y) {
        var S = new i6
            , h = 0;
        k.Qx(S, h, 16);
        h += 4;
        k.Xt(S, h, Y.vc + "\0");
        h += 4 + Y.vc.length * 2 + 2;
        S.$r(h, 1);
        S.data[h++] = Y.exp ? 1 : 0;
        var q = Y.Eq.length;
        k.Qx(S, h, q);
        h += 4;
        for (var G = 0; G < q; G++) {
            var H = Y.Eq[G];
            k.GE(S, h, H.Y8);
            h += 2;
            S.$r(h, 2);
            S.data[h++] = H.shift ? 1 : 0;
            S.data[h++] = H.adz ? 1 : 0;
            k.GE(S, h, H.color);
            h += 2;
            k.Xt(S, h, H.vc + "\0");
            h += 4 + H.vc.length * 2 + 2;
            S.$r(h, 1);
            S.data[h++] = H.exp ? 1 : 0;
            var cs = H.Eq.length;
            k.Qx(S, h, cs);
            h += 4;
            for (var I = 0; I < cs; I++) {
                var E = H.Eq[I];
                S.$r(h, 4);
                S.data[h++] = E.exp ? 1 : 0;
                S.data[h++] = E.p ? 1 : 0;
                S.data[h++] = E.a5v ? 1 : 0;
                S.data[h++] = E.a18;
                var d = E.f0 == "LqFy" || E.f0 == "Avrg" || E.f0 == "GEfc" || E.f0 == "PbPl" || E.f0 == "Fbrs" || E.f0 == "Bokh";
                k.pR(S, h, d ? "long" : "TEXT");
                h += 4;
                if (!d) {
                    gT.Zq(S, h, E.f0);
                    h += 4 + E.f0.length
                } else {
                    k.pR(S, h, E.f0);
                    h += 4
                }
                gT.Zq(S, h, E.ZI);
                h += 4 + E.ZI.length;
                k.jT(S, h, E.Jz ? -1 : 0);
                h += 4;
                if (E.Jz) {
                    var B = cq.sG(S, E.Jz, h);
                    h += B
                }
            }
        }
        return S.data.slice(0, h).buffer
    }
        ;
    function de() { }
    de.z7 = function (Y) {
        var S = new Uint8Array(Y), h = 0, q = k.n(S, h), B;
        h += 4;
        var H = k.Fe(S, h, 8);
        h += 8;
        var I = k.iV(S, h);
        h += 4;
        var E = k.iV(S, h);
        h += 4;
        var d = k.iV(S, h);
        h += 4;
        if (q == 2) {
            B = new Float32Array(Y, 32, Y.byteLength - 32 >>> 2)
        } else if (q == 3 || q == 4) {
            B = new Float32Array(E * d * 2);
            var n = 0
                , g = 0
                , z = !0;
            h = q == 3 ? 32 : 16 + 8 + 40;
            while (h < S.length) {
                var p = k.iV(S, h);
                h += 4;
                if (z)
                    g += p;
                else {
                    for (var G = 0; G < p; G++) {
                        B[n + g + G << 1] = k.Hp(S, h);
                        B[(n + g + G << 1) + 1] = k.Hp(S, h + 4);
                        h += 8
                    }
                    g += p
                }
                z = !z;
                if (p != 0 && g == E) {
                    n += E;
                    g = 0;
                    z = !0;
                    if (n == E * d)
                        break
                }
            }
        } else
            throw "unknown Mesh version: " + q;
        return {
            rz: E,
            UR: d,
            map: B
        }
    }
        ;
    de.zN = function (Y) {
        var S = Y.rz
            , h = Y.UR
            , q = Y.map
            , H = new Uint8Array(32 + h * S * 8 + h * 8)
            , I = 0
            , E = 0;
        k._6(H, I, 3);
        I += 4;
        k.St(H, I, "yfqLhseM");
        I += 8;
        k.C_(H, I, 2);
        I += 4;
        k.C_(H, I, S);
        I += 4;
        k.C_(H, I, h);
        I += 4;
        k.C_(H, I, 0);
        I += 4;
        k.C_(H, I, 1);
        I += 4;
        for (var d = 0; d < h; d++) {
            k.C_(H, I, 0);
            I += 4;
            k.C_(H, I, S);
            I += 4;
            for (var B = 0; B < S; B++) {
                k.N0(H, I, q[E]);
                k.N0(H, I + 4, q[E + 1]);
                E += 2;
                I += 8
            }
        }
        return H.buffer
    }
        ;
    function f0() { }
    f0.z7 = function (Y) {
        var S = new Uint8Array(Y)
            , h = 0
            , q = k.Fe(S, h, 4);
        h += 4;
        var H = k.PX(S, h);
        h += 2;
        var I = k.n(S, h);
        h += 4;
        var E = [];
        for (var G = 0; G < I; G++) {
            var d = k.n(S, h);
            h += 4;
            var B = {
                classID: "ShpC",
                Nm: {
                    t: "TEXT",
                    v: ""
                },
                Crv: {
                    t: "VlLs",
                    v: []
                }
            };
            E.push(B);
            var n = k.CQ(S, h);
            B.Nm.v = n;
            h += 4 + n.length * 2 + 2;
            var g = k.PX(S, h);
            h += 2;
            var z = k.PX(S, h);
            h += 2;
            for (var p = 0; p < z; p++) {
                var C = t.hn.oR(0, 0, !0);
                C.v.Vrtc.v = k.PX(S, h);
                h += 2;
                C.v.Hrzn.v = k.PX(S, h);
                h += 2;
                B.Crv.v.push(C)
            }
            if (d == 1) { } else if (d == 2) {
                for (var p = 0; p < z; p++) {
                    B.Crv.v[p].v.Cnty.v = S[h] == 1;
                    h += 1
                }
            } else
                throw "error";
            var T = k.n(S, h);
            h += 4;
            var A = k.n(S, h);
            h += 4
        }
        return E
    }
        ;
    f0.ER = function (Y, S) {
        Y.Nm.v = S
    }
        ;
    f0.nq = function (Y) {
        var S = new i6
            , h = 0;
        k.pR(S, h, "8BFS");
        h += 4;
        k.GE(S, h, 1);
        h += 2;
        k.Qx(S, h, Y.length);
        h += 4;
        for (var G = 0; G < Y.length; G++) {
            k.Qx(S, h, 2);
            h += 4;
            var q = Y[G];
            k.Xt(S, h, q.Nm.v + "\0");
            h += 4 + q.Nm.v.length * 2 + 2;
            k.GE(S, h, 2);
            h += 2;
            var H = q.Crv.v.length;
            k.GE(S, h, H);
            h += 2;
            for (var I = 0; I < H; I++) {
                var E = q.Crv.v[I];
                k.GE(S, h, E.v.Vrtc.v);
                h += 2;
                k.GE(S, h, E.v.Hrzn.v);
                h += 2
            }
            S.$r(h, H);
            for (var I = 0; I < H; I++) {
                S.data[h] = q.Crv.v[I].v.Cnty.v;
                h++
            }
            k.Qx(S, h, 0);
            h += 4;
            k.Qx(S, h, 0);
            h += 4
        }
        return S.data.slice(0, h).buffer
    }
        ;
    function fG() { }
    fG.z7 = function (Y) {
        var S = new Uint8Array(Y)
            , h = 4
            , q = k.PX(S, h);
        h += 2;
        var H = k.n(S, h);
        h += 4;
        var I = [];
        for (var G = 0; G < H; G++) {
            var E = {};
            I.push(E);
            h = fG.JB(S, h, E)
        }
        return I
    }
        ;
    fG.ER = function (Y, S) {
        Y.name = S
    }
        ;
    fG.nq = function (Y) {
        var S = new i6
            , h = 0;
        k.pR(S, h, "8BPT");
        h += 4;
        k.GE(S, h, 1);
        h += 2;
        k.Qx(S, h, Y.length);
        h += 4;
        for (var G = 0; G < Y.length; G++) {
            h = fG.g$(S, h, Y[G])
        }
        return S.data.slice(0, h).buffer
    }
        ;
    fG.x2 = function (Y, S, h) {
        var q = S + h
            , H = [];
        while (S < q) {
            var I = {}
                , E = k.n(Y, S);
            S += 4;
            var d = S;
            S = fG.JB(Y, S, I);
            if (!I.ar[1].fa())
                H.push(I);
            if (E % 4 != 0)
                E += 4 - E % 4;
            S = d + E
        }
        return H
    }
        ;
    fG.d_ = function (Y, S, h) {
        for (var G = 0; G < h.length; G++) {
            var q = h[G];
            S += 4;
            var H = S;
            S = fG.g$(Y, S, q);
            var I = S - H;
            k.Qx(Y, H - 4, I);
            if (I % 4 != 0)
                H += 4 - I % 4;
            S = H + I
        }
        return S
    }
        ;
    fG.JB = function (Y, S, h) {
        var q = k.n(Y, S);
        S += 4;
        if (q != 1)
            alert("Unknown version of pattern");
        var H = k.n(Y, S);
        S += 4;
        if (H != 1 && H != 2 && H != 3)
            console.log("Unsupported mode of pattern: " + H);
        var I = k.PX(Y, S);
        S += 2;
        var E = k.PX(Y, S);
        S += 2;
        var d = new W(0, 0, E, I);
        h.name = k.CQ(Y, S);
        S += 4 + 2 * h.name.length + 2;
        var B = Y[S];
        S++;
        h.id = k.Fe(Y, S, B);
        S += h.id.length;
        var n = -1;
        if (H == 2) {
            n = S;
            S += 3 * 256 + 4
        }
        var g = new t.ho(E * I);
        S = fG.aoc(Y, S, g);
        if (H == 2) {
            for (var G = 0; G < g.h.length; G++) {
                var z = 3 * g.h[G];
                g.h[G] = Y[n + z + 0];
                g.l[G] = Y[n + z + 1];
                g.O[G] = Y[n + z + 2]
            }
        }
        var p = t.m(d.e() * 4);
        t.in(g, p);
        h.ar = [p, d];
        return S
    }
        ;
    fG.g$ = function (Y, S, h) {
        var q = h.ar[0]
            , H = h.ar[1];
        k.Qx(Y, S, 1);
        S += 4;
        k.Qx(Y, S, 3);
        S += 4;
        k.GE(Y, S, H.v);
        S += 2;
        k.GE(Y, S, H.d);
        S += 2;
        k.Xt(Y, S, h.name + "\0");
        S += 4 + 2 * h.name.length + 2;
        k.x_(Y, S, h.id.length);
        S++;
        k.pR(Y, S, h.id);
        S += h.id.length;
        var I = new t.ho(H.e());
        t.vK(q, I);
        S = fG.a7v(Y, S, I, H);
        return S
    }
        ;
    fG.aoc = function (Y, S, h) {
        var q = S
            , H = {
                _: null,
                L5: [],
                aa7: null,
                vD: null
            }
            , I = k.n(Y, S);
        S += 4;
        var E = k.n(Y, S);
        S += 4;
        H._ = k.yZ(Y, S);
        S += 16;
        var d = k.n(Y, S);
        S += 4;
        for (var G = 0; G < d + 2; G++) {
            var B = k.n(Y, S);
            S += 4;
            if (B == 0)
                continue;
            var n = k.n(Y, S);
            S += 4;
            if (n == 0)
                continue;
            var g = k.n(Y, S);
            S += 4;
            var z = k.yZ(Y, S);
            S += 16;
            var p = k.PX(Y, S);
            S += 2;
            var C = Y[S];
            S++;
            var T = cW.rc(!1, g, Y, z.d, z.v, S, C);
            if (G < d)
                H.L5.push(T);
            if (G == d)
                H.aa7 = T;
            if (G == d + 1)
                H.vD = T;
            S += n - 23
        }
        if (!H._.fa()) {
            if (H.L5[0])
                h.h = H.L5[0];
            if (H.L5[1])
                h.l = H.L5[1];
            else
                h.l = H.L5[0].slice(0);
            if (H.L5[2])
                h.O = H.L5[2];
            else
                h.O = H.L5[0].slice(0);
            if (H.vD)
                h.R = H.vD;
            else
                h.R.fill(255)
        }
        return S
    }
        ;
    fG.a7v = function (Y, S, h, q) {
        var H = S
            , I = {
                _: q,
                L5: [h.h, h.l, h.O],
                aa7: null,
                vD: h.R
            };
        k.Qx(Y, S, 3);
        S += 4;
        k.Qx(Y, S, 0);
        S += 4;
        k.T2(Y, S, q);
        S += 16;
        k.Qx(Y, S, 24);
        S += 4;
        for (var G = 0; G < 24 + 2; G++) {
            var E = S
                , d = G < 3 || G == 25 ? 1 : 0;
            k.Qx(Y, S, d);
            S += 4;
            if (d == 0)
                continue;
            k.Qx(Y, S, 0);
            S += 4;
            k.Qx(Y, S, 8);
            S += 4;
            k.T2(Y, S, q);
            S += 16;
            k.GE(Y, S, 8);
            S += 2;
            k.x_(Y, S, 1, 1);
            S++;
            var B = G < 3 ? I.L5[G] : I.vD;
            Y.$r(S, q.e() + 2);
            S = cW.cn(B, Y.data, q.d, q.v, S, 1);
            k.Qx(Y, E + 4, S - E - 8)
        }
        k.Qx(Y, H + 4, S - H - 8);
        return S
    }
        ;
    function eW() { }
    eW.z7 = function (Y) {
        var S = new Uint8Array(Y)
            , h = 0
            , q = k.Fe(S, h, 4);
        h += 4;
        var H = k.PX(S, h);
        h += 2;
        var I = [];
        if (H <= 3) {
            var E = k.PX(S, h);
            h += 2;
            for (var G = 0; G < E; G++) {
                var d = S[h++]
                    , B = k.Fe(S, h, d);
                h += d;
                var n = eW.wY(S, h, B)
                    , g = n[0];
                h = n[1];
                I.push(g);
                h += 6
            }
        } else {
            var n = {}
                , z = cq.Rv(S, n, h + 4)
                , p = n.GrdL.v;
            for (var G = 0; G < p.length; G++)
                I[G] = p[G].v.Grad.v
        }
        return I
    }
        ;
    eW.ER = function (Y, S) {
        Y.Nm.v = S
    }
        ;
    eW.nq = function (Y) {
        var S = new i6
            , h = 0;
        k.pR(S, h, "8BGR");
        h += 4;
        k.GE(S, h, 5);
        h += 2;
        k.Qx(S, h, 16);
        h += 4;
        var q = {
            classID: "null",
            GrdL: {
                t: "VlLs",
                v: []
            }
        }
            , H = q.GrdL.v;
        for (var G = 0; G < Y.length; G++)
            H[G] = {
                t: "Objc",
                v: {
                    classID: "Grdn",
                    __name: "Gradient ",
                    Grad: {
                        t: "Objc",
                        v: Y[G]
                    }
                }
            };
        h += cq.sG(S, q, h);
        return S.data.slice(0, h).buffer
    }
        ;
    eW.wY = function (Y, S, h) {
        var q = {
            classID: "Grdn",
            Clrs: {
                t: "VlLs",
                v: []
            },
            GrdF: {
                t: "enum",
                v: {
                    GrdF: "CstS"
                }
            },
            Intr: {
                t: "doub",
                v: 4096
            },
            Nm: {
                t: "TEXT",
                v: h
            },
            Trns: {
                t: "VlLs",
                v: []
            }
        }
            , H = k.PX(Y, S);
        S += 2;
        if (H == 0)
            throw "e";
        for (var G = 0; G < H; G++) {
            var I = k.n(Y, S)
                , E = k.n(Y, S + 4)
                , d = eg.v_(Y, S + 8)
                , B = {
                    t: "Objc",
                    v: {
                        classID: "Clrt",
                        Clr: {
                            t: "Objc",
                            v: {
                                classID: "RGBC",
                                Rd: {
                                    t: "doub",
                                    v: d.h
                                },
                                Grn: {
                                    t: "doub",
                                    v: d.l
                                },
                                Bl: {
                                    t: "doub",
                                    v: d.O
                                }
                            }
                        },
                        Type: {
                            t: "enum",
                            v: {
                                Clry: "UsrS"
                            }
                        },
                        Lctn: {
                            t: "long",
                            v: I
                        },
                        Mdpn: {
                            t: "long",
                            v: E
                        }
                    }
                };
            q.Clrs.v.push(B);
            S += 20
        }
        var n = k.PX(Y, S);
        S += 2;
        for (var G = 0; G < n; G++) {
            var I = k.n(Y, S)
                , E = k.n(Y, S + 4)
                , g = k.PX(Y, S + 8)
                , B = {
                    t: "Objc",
                    v: {
                        classID: "TrnS",
                        Opct: {
                            t: "UntF",
                            v: {
                                type: "#Prc",
                                val: Math.round(100 * g / 255)
                            }
                        },
                        Lctn: {
                            t: "long",
                            v: I
                        },
                        Mdpn: {
                            t: "long",
                            v: E
                        }
                    }
                };
            q.Trns.v.push(B);
            S += 10
        }
        return [q, S]
    }
        ;
    eW.a8C = function (Y, S, h) {
        var q = h.Clrs.v.length;
        k.GE(Y, S, q);
        S += 2;
        for (var G = 0; G < q; G++) {
            var H = h.Clrs.v[G];
            k.Qx(Y, S, H.v.Lctn.v);
            k.Qx(Y, S + 4, H.v.Mdpn.v);
            k.GE(Y, S + 8, 0);
            var I = t.W.Da(t.W.cd(H.v.Clr.v))
                , E = [I.Rd.v, I.Grn.v, I.Bl.v, 0];
            for (var d = 0; d < 4; d++)
                k.GE(Y, S + 10 + d * 2, Math.round(65535 * (E[d] / 255)));
            S += 20
        }
        var B = h.Trns.v.length;
        k.GE(Y, S, B);
        S += 2;
        for (var G = 0; G < B; G++) {
            var H = h.Trns.v[G];
            k.Qx(Y, S, H.v.Lctn.v);
            k.Qx(Y, S + 4, H.v.Mdpn.v);
            k.GE(Y, S + 8, Math.round(255 * H.v.Opct.v.val / 100));
            S += 10
        }
        return S
    }
        ;
    function g4() { }
    g4.z7 = function (Y) {
        var S = new Uint8Array(Y)
            , h = []
            , q = []
            , H = []
            , I = []
            , E = []
            , d = 0
            , B = k.Fe(S, d, 4);
        d += 4;
        var n = k.n(S, d);
        d += 4;
        var g = k.n(S, d);
        d += 4;
        while (d < S.length) {
            var z = k.Fe(S, d, 4);
            d += 4;
            var p = k.Fe(S, d, 4);
            d += 4;
            var C = k.n(S, d);
            d += 4;
            if (p == "tppa") {
                q = fG.x2(S, d, C);
                d += C
            } else if (p == "tpbd") {
                H = cZ.x4(S, d, C, 1, 1);
                d += C
            } else if (p == "tptp") {
                var T = k.n(S, d);
                d += 4;
                for (var G = 0; G < T; G++) {
                    var A = k.CQ(S, d);
                    d += 6 + A.length * 2;
                    d += 4;
                    var i = {};
                    d += cq.Rv(S, i, d);
                    h.push([A, i])
                }
                while ((d & 3) != 0)
                    d++
            } else if (p == "tpsh") {
                var e = d
                    , a = S.slice(d, d + C);
                while (d < e + C) {
                    var Z = k.n(S, d);
                    d += 4;
                    d = e$.v9(S, d, "Shape", I)
                }
                d = e + C
            } else if (p == "tpst") {
                var e = d;
                d += 4;
                while (d < e + C) {
                    var O = k.n(S, d);
                    d += 4;
                    var c = d
                        , s = k.n(S, d);
                    d += 4;
                    var i = {
                        Yg: {},
                        a7: {}
                    };
                    E.push(i);
                    d += 4;
                    d += cq.Rv(S, i.Yg, d);
                    d += 4;
                    d += cq.Rv(S, i.a7, d);
                    d = c + O;
                    var x = i.a7.Lefx;
                    if (x) {
                        if (x.v.masterFXSwitch == null)
                            x.v.masterFXSwitch = {
                                t: "bool",
                                v: !0
                            };
                        f4.cS(x.v)
                    }
                }
                d = e + C
            } else {
                console.log(S.slice(d - 8, d + 64));
                console.log(k.Fe(S, d - 8, 64));
                throw p
            }
        }
        return {
            r0: H,
            SR: q,
            list: h,
            akO: I,
            pB: E
        }
    }
        ;
    g4.ER = function (Y, S) {
        Y[0] = S
    }
        ;
    g4.nq = function (Y) {
        var S = new i6
            , h = 0;
        k.pR(S, h, "8BTP");
        h += 4;
        k.Qx(S, h, 3);
        h += 4;
        k.Qx(S, h, 1);
        h += 4;
        var q = [Y.SR, Y.r0, Y.list];
        for (var G = 0; G < 3; G++) {
            if (q[G].length == 0)
                continue;
            k.pR(S, h, "8BIM");
            h += 4;
            var H = ["tppa", "tpbd", "tptp"][G];
            k.pR(S, h, H);
            h += 4;
            var I = h;
            h += 4;
            if (H == "tppa") {
                h = fG.d_(S, h, Y.SR)
            } else if (H == "tpbd") {
                h = cZ.Uo(S, h, Y.r0)
            } else if (H == "tptp") {
                k.Qx(S, h, Y.list.length);
                h += 4;
                for (var E = 0; E < Y.list.length; E++) {
                    var d = Y.list[E];
                    k.Xt(S, h, d[0] + "\0");
                    h += 6 + d[0].length * 2;
                    k.Qx(S, h, 16);
                    h += 4;
                    h += cq.sG(S, d[1], h)
                }
            }
            k.Qx(S, I, h - I - 4);
            while ((h & 3) != 0)
                h++;
            S.$r(h, 0)
        }
        return S.data.slice(0, h).buffer
    }
        ;
    function a9() { }
    a9.z7 = function (Y, S) {
        var h = new Uint8Array(Y), q;
        if (k.n(h, 0) == h.length)
            q = "icc";
        else if (h[0] == "<".charCodeAt(0))
            q = "look";
        else if (k.Qq(h, "LUT_3D_SIZE") != -1)
            q = "cube";
        else
            q = "3DL";
        if (q != "icc") {
            var H = a9.a2n(h, q)
                , I = a9.a2O(H[0], H[1]);
            h = I
        }
        var E = [];
        for (var G = 0; G < h.length; G++)
            E.push(h[G]);
        return [{
            classID: "null",
            Dthr: {
                t: "bool",
                v: !0
            },
            Nm: {
                t: "TEXT",
                v: S ? S : "file.icc"
            },
            lookupType: {
                t: "enum",
                v: {
                    colorLookupType: "abstractProfile"
                }
            },
            profile: {
                t: "tdta",
                v: E
            }
        }]
    }
        ;
    a9.nq = function (Y) {
        var S = Y[0]
            , h = new Uint8Array(S.profile.v);
        return h.buffer
    }
        ;
    a9.ER = function (Y, S) {
        Y.Nm.v = S
    }
        ;
    a9.a2O = function (Y, S) {
        var h = new i6
            , q = 128;
        h.$r(0, 128);
        var H = [0, 0, 14, 204, 65, 68, 66, 69, 4, 0, 0, 0, 108, 105, 110, 107, 82, 71, 66, 32, 82, 71, 66, 32, 7, 227, 0, 7, 0, 27, 0, 8, 0, 6, 0, 49, 97, 99, 115, 112, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 246, 214, 0, 1, 0, 0, 0, 0, 211, 45, 65, 68, 66, 69, 219, 126, 245, 21, 206, 223, 186, 23, 165, 212, 201, 219, 250, 10, 33, 62];
        for (var G = 0; G < H.length; G++)
            h.data[G] = H[G];
        var I = ["desc", "A2B0"]
            , E = I.length
            , d = 128 + 4 + E * 12;
        k.Qx(h, q, E);
        q += 4;
        for (var B = 0; B < E; B++) {
            var n = I[B];
            k.pR(h, q, n);
            q += 4;
            k.Qx(h, q, d);
            q += 4;
            var g = d;
            if (n == "desc") {
                k.pR(h, g, "mluc");
                g += 4;
                g += 4;
                k.Qx(h, g, 1);
                g += 4;
                k.Qx(h, g, 12);
                g += 4;
                k.pR(h, g, "enUS");
                g += 4;
                var z = "ICC by Photopea\0"
                    , p = z.length * 2 + 2;
                k.Qx(h, g, p);
                g += 4;
                k.Qx(h, g, 28);
                g += 4;
                h.$r(g, p);
                for (var G = 0; G < z.length; G++)
                    h.data[g + G * 2 + 1] = z.charCodeAt(G);
                g += p
            }
            if (n == "A2B0") {
                k.pR(h, g, "mAB ");
                g += 4;
                g += 4;
                h.$r(g, 4);
                h.data[g] = 3;
                h.data[g + 1] = 3;
                g += 4;
                h.$r(g, 4 * 5);
                g += 4 * 3;
                k.Qx(h, g, g + 8 - d);
                g += 4;
                g += 4;
                h.$r(g, 20);
                h.data[g] = Y;
                h.data[g + 1] = Y;
                h.data[g + 2] = Y;
                g += 16;
                h.data[g] = 2;
                g += 4;
                var C = Y * Y * Y * 3;
                h.$r(g, C * 2);
                for (var G = 0; G < C; G++)
                    k.gp(h.data, g + G * 2, Math.max(0, Math.min(65535, Math.round(S[G] * 65535))));
                g += C * 2
            }
            var T = g - d;
            while ((T & 3) != 0)
                T++;
            k.Qx(h, q, T);
            q += 4;
            d += T
        }
        k.Qx(h, 0, d);
        return h.data.slice(0, d)
    }
        ;
    a9.a2n = function (Y, S) {
        S = "LUTFormat" + S.toUpperCase();
        var h = []
            , q = 0
            , H = k.Dt(Y, 0, Y.length)
            , I = "";
        for (var G = 0; G < Y.length && I == ""; G++) {
            if (Y[G] == 10)
                I = "\n";
            else if (Y[G] == 13) {
                I = "\r";
                if (Y[G + 1] == 10)
                    I += "\n"
            }
        }
        if (S == "LUTFormatCUBE") {
            var E = H.split(I);
            for (var G = 0; G < E.length; G++) {
                if (E[G] == "" || E[G][0] == "#")
                    continue;
                var d = E[G].split(" ")
                    , B = d[0];
                if (B == "LUT_3D_SIZE") {
                    q = parseInt(d[1]);
                    continue
                }
                if (["TITLE", "DOMAIN_MIN", "DOMAIN_MAX"].indexOf(B) != -1)
                    continue;
                h.push(parseFloat(d[0]), parseFloat(d[1]), parseFloat(d[2]))
            }
            h = a9.e9(q, h)
        } else if (S == "LUTFormat3DL") {
            var E = H.split(I)
                , n = 1 / 4095;
            for (var G = 0; G < E.length; G++) {
                var g = E[G];
                if (g == "" || g == "3DMESH" || g.startsWith("Mesh") || g[0] == "#")
                    continue;
                var d = g.split(" ")
                    , B = d[0];
                if (q == 0) {
                    q = d.length;
                    continue
                }
                h.push(parseFloat(d[0]) * n, parseFloat(d[1]) * n, parseFloat(d[2]) * n)
            }
        } else if (S == "LUTFormatLOOK") {
            var z = new DOMParser
                , p = z.parseFromString(H, "text/xml")
                , C = p.getElementsByTagName("LUT")[0]
                , T = C.children[0].textContent;
            q = parseInt(JSON.parse(T));
            var A = C.children[1].textContent;
            A = A.replace(/"/g, "").replace(/\s/g, "");
            var i = 3 * q * q * q
                , e = i * 4
                , a = new Uint8Array(e);
            for (var G = 0; G < e; G++) {
                var Z = A.charCodeAt(G * 2)
                    , O = A.charCodeAt(G * 2 + 1)
                    , c = Z < 58 ? Z - 48 : Z - 55
                    , s = O < 58 ? O - 48 : O - 55;
                a[G] = (c << 4) + s
            }
            for (var G = 0; G < i; G++)
                h.push(k.Hp(a, G << 2));
            h = a9.e9(q, h)
        } else
            throw S;
        return [q, h]
    }
        ;
    a9.ac4 = function (Y, S, h) {
        var q = ["#Created by www.Photopea.com", "TITLE \"" + h + "\"", "", "#LUT size", "LUT_3D_SIZE " + S, "", "#data domain", "DOMAIN_MIN 0.0 0.0 0.0", "DOMAIN_MAX 1.0 1.0 1.0", "", "#LUT data points"]
            , H = 6;
        for (var G = 0; G < Y.length; G += 3) {
            q.push(Y[G].toFixed(H) + " " + Y[G + 1].toFixed(H) + " " + Y[G + 2].toFixed(H))
        }
        q.push("");
        return k.gN(q.join("\n")).buffer
    }
        ;
    a9.e9 = function (Y, S) {
        var h = []
            , q = Y * Y * Y;
        for (var G = 0; G < q; G++)
            h.push(0, 0, 0);
        for (var H = 0; H < Y; H++)
            for (var I = 0; I < Y; I++)
                for (var E = 0; E < Y; E++) {
                    var G = 3 * (E + I * Y + H * Y * Y)
                        , d = 3 * (H + I * Y + E * Y * Y);
                    h[d] = S[G];
                    h[d + 1] = S[G + 1];
                    h[d + 2] = S[G + 2]
                }
        return h
    }
        ;
    function cq() { }
    cq.Rv = function (Y, S, h, q, H) {
        var I = h, E;
        if (H == null)
            H = 0;
        var d = k.n(Y, h);
        if (d == 0) {
            E = "";
            h += 4
        } else {
            E = k.CQ(Y, h);
            h += 4 + 2 * E.length + 2
        }
        if (E != "")
            S.__name = E;
        S.classID = cq.K5(Y, h);
        if (q)
            console.log("\t".repeat(H), "- reading descriptor", S.classID, h);
        h += cq.JW(Y, h);
        var B = k.Ii(Y, h);
        h += 4;
        for (var G = 0; G < B; G++) {
            var n = cq.K5(Y, h);
            h += cq.JW(Y, h);
            var g = cq.Kc(Y, h, q, H);
            S[n] = g;
            h += g.size;
            delete g.size
        }
        return h - I
    }
        ;
    cq.sG = function (Y, S, h, q) {
        var H = h
            , I = S.__name;
        if (I == null)
            I = "";
        I += "\0";
        k.Xt(Y, h, I);
        h += 4 + 2 * I.length;
        cq.Vw(Y, h, S.classID);
        h += cq.JW(Y.data, h);
        k.jT(Y, h, Object.keys(S).length - 1 - (S.__name == null ? 0 : 1));
        h += 4;
        for (var E in S) {
            if (E == "classID")
                continue;
            if (E == "__name")
                continue;
            cq.Vw(Y, h, E);
            h += cq.JW(Y.data, h);
            h += cq.WG(Y, h, S[E])
        }
        return h - H
    }
        ;
    cq.Kc = function (Y, S, h, q) {
        var H = S
            , I = k.Fe(Y, S, 4);
        S += 4;
        var E = {
            size: 0,
            t: I,
            v: null
        };
        if (h)
            console.log("\t".repeat(q), "reading key", I, H);
        switch (I) {
            case "obj ":
            case "VlLs":
                E.v = [];
                var d = k.n(Y, S);
                S += 4;
                for (var G = 0; G < d; G++) {
                    var B = cq.Kc(Y, S, h, q + 1);
                    S += B.size;
                    delete B.size;
                    E.v.push(B)
                }
                break;
            case "UntF":
                E.v = {
                    type: k.Fe(Y, S, 4),
                    val: k._3(Y, S + 4)
                };
                S += 12;
                break;
            case "doub":
                E.v = k._3(Y, S);
                S += 8;
                break;
            case "bool":
                E.v = Y[S] == 1;
                S += 1;
                break;
            case "long":
                E.v = k.Ii(Y, S);
                S += 4;
                break;
            case "comp":
                E.v = k.Ii(Y, S + 4);
                S += 8;
                break;
            case "Objc":
                E.v = {};
                var n = cq.Rv(Y, E.v, S, h, q + 1);
                S += n;
                break;
            case "TEXT":
                var g = k.n(Y, S);
                if (g == 0) {
                    E.v = "";
                    S += 4
                } else {
                    E.v = k.CQ(Y, S);
                    S += 4 + E.v.length * 2 + 2
                }
                break;
            case "enum":
                var z = cq.K5(Y, S);
                S += cq.JW(Y, S);
                var p = cq.K5(Y, S);
                S += cq.JW(Y, S);
                E.v = {};
                E.v[z] = p;
                break;
            case "tdta":
                var C = k.Ii(Y, S);
                S += 4;
                E.v = [];
                for (var G = 0; G < C; G++)
                    E.v.push(Y[S + G]);
                S += C;
                break;
            case "ObAr":
                var T = k.n(Y, S);
                S += 4;
                var A = k.CQ(Y, S);
                S += 4 + 2 * A.length + 2;
                if (A != "")
                    throw A;
                var i = cq.K5(Y, S);
                S += 4 + Math.max(4, i.length);
                E.v = {
                    classID: i,
                    arr: []
                };
                var e = k.n(Y, S);
                S += 4;
                for (var G = 0; G < e; G++) {
                    var i = cq.K5(Y, S);
                    S += 4 + Math.max(4, i.length);
                    var z = k.Fe(Y, S, 4);
                    S += 4;
                    var a = k.Fe(Y, S, 4);
                    S += 4;
                    var Z = {
                        id: i,
                        type: z,
                        uID: a,
                        arr: []
                    };
                    E.v.arr.push(Z);
                    var O = k.n(Y, S, 4);
                    S += 4;
                    for (var c = 0; c < O; c++) {
                        var s = k._3(Y, S);
                        S += 8;
                        Z.arr.push(s)
                    }
                }
                break;
            case "Pth ":
                var x = S
                    , C = k.n(Y, S);
                S += 4;
                var u = k.Fe(Y, S, 4);
                S += 4;
                var y = k.iV(Y, S);
                S += 4;
                var j = k.adX(Y, S);
                S += 4 + j.length * 2;
                E.v = {
                    sig: u,
                    pth: j
                };
                break;
            case "Clss":
            case "type":
            case "rele":
                var j = k.CQ(Y, S);
                S += 4 + j.length * 2 + 2;
                var v = cq.K5(Y, S);
                S += 4 + Math.max(4, v.length);
                E.v = {
                    classID: v
                };
                if (j != "")
                    E.v.__name = j;
                if (I == "rele") {
                    E.v.val = k.Ii(Y, S);
                    S += 4
                }
                break;
            case "prop":
            case "Enmr":
            case "indx":
            case "name":
                var X = cq.jx[I]
                    , j = k.CQ(Y, S);
                S += 4 + j.length * 2 + 2;
                if (j.length != 0) {
                    console.log(I, j);
                    throw "e"
                }
                E.v = {};
                for (var G = 0; G < X.length; G++) {
                    var v = cq.K5(Y, S);
                    S += 4 + Math.max(4, v.length);
                    E.v[X[G]] = v
                }
                if (I == "name") {
                    var j = k.CQ(Y, S);
                    S += 4 + j.length * 2 + 2;
                    E.v.val = j
                }
                if (I == "indx") {
                    E.v.val = k.n(Y, S);
                    S += 4
                }
                break;
            case "alis":
                var C = k.n(Y, S);
                S += 4;
                E.v = k.Fe(Y, S, C);
                S += C;
                break;
            default:
                {
                    console.log("unknown oskey: " + I + ", " + H);
                    throw "e";
                    return E
                }
        }
        if (h) {
            console.log("\t".repeat(q), E.v);
            console.log("\t".repeat(q), "======", S)
        }
        E.size = S - H;
        return E
    }
        ;
    cq.jx = {
        name: ["classID"],
        prop: ["classID", "keyID"],
        Enmr: ["classID", "typeID", "enum"],
        indx: ["classID"]
    };
    cq.WG = function (Y, S, h) {
        var q = S
            , H = h.t;
        h = h.v;
        k.pR(Y, S, H);
        S += 4;
        switch (H) {
            case "obj ":
            case "VlLs":
                k.jT(Y, S, h.length);
                S += 4;
                for (var I = 0; I < h.length; I++) {
                    var E = cq.WG(Y, S, h[I]);
                    S += E
                }
                break;
            case "UntF":
                k.pR(Y, S, h.type);
                k.Ip(Y, S + 4, h.val);
                S += 12;
                break;
            case "doub":
                k.Ip(Y, S, h);
                S += 8;
                break;
            case "bool":
                k.x_(Y, S, h ? 1 : 0, 1);
                S += 1;
                break;
            case "long":
                k.jT(Y, S, h);
                S += 4;
                break;
            case "comp":
                k.jT(Y, S + 4, h);
                S += 8;
                break;
            case "Objc":
                var E = cq.sG(Y, h, S);
                S += E;
                break;
            case "TEXT":
                k.Xt(Y, S, h + "\0");
                S += 4 + h.length * 2 + 2;
                break;
            case "enum":
                var d = Object.keys(h)[0]
                    , B = h[d];
                cq.Vw(Y, S, d);
                S += cq.JW(Y.data, S);
                cq.Vw(Y, S, B);
                S += cq.JW(Y.data, S);
                break;
            case "tdta":
                k.Qx(Y, S, h.length);
                S += 4;
                k.E6(Y, S, h);
                S += h.length;
                break;
            case "ObAr":
                k.Qx(Y, S, h.arr[0].arr.length);
                S += 4;
                k.Xt(Y, S, "\0");
                S += 6;
                cq.Vw(Y, S, h.classID);
                S += 4 + Math.max(4, h.classID.length);
                k.Qx(Y, S, h.arr.length);
                S += 4;
                for (var G = 0; G < h.arr.length; G++) {
                    var n = h.arr[G];
                    cq.Vw(Y, S, n.id);
                    S += 4 + Math.max(4, n.id.length);
                    k.pR(Y, S, n.type);
                    S += 4;
                    k.pR(Y, S, n.uID);
                    S += 4;
                    k.Qx(Y, S, n.arr.length);
                    S += 4;
                    for (var I = 0; I < n.arr.length; I++) {
                        k.Ip(Y, S, n.arr[I]);
                        S += 8
                    }
                }
                break;
            case "Pth ":
                var g = h.pth.length * 2 + 4 + 8;
                k.Qx(Y, S, g);
                S += 4;
                k.pR(Y, S, h.sig);
                S += 4;
                k.X9(Y, S, g);
                S += 4;
                k.afA(Y, S, h.pth);
                S += h.pth.length * 2 + 4;
                break;
            case "Clss":
            case "type":
            case "rele":
                var z = h.__name;
                if (z == null)
                    z = "";
                k.Xt(Y, S, z + "\0");
                S += 4 + z.length * 2 + 2;
                var p = h.classID;
                cq.Vw(Y, S, p);
                S += 4 + Math.max(4, p.length);
                if (H == "rele") {
                    k.jT(Y, S, h.val);
                    S += 4
                }
                break;
            case "prop":
            case "Enmr":
            case "indx":
            case "name":
                var C = cq.jx[H];
                k.Qx(Y, S, 1);
                S += 6;
                for (var G = 0; G < C.length; G++) {
                    var p = h[C[G]];
                    cq.Vw(Y, S, p);
                    S += 4 + Math.max(4, p.length)
                }
                if (H == "name") {
                    k.Xt(Y, S, h.val + "\0");
                    S += 4 + h.val.length * 2 + 2
                }
                if (H == "indx") {
                    k.Qx(Y, S, h.val);
                    S += 4
                }
                break;
            case "alis":
                var g = h.length;
                k.Qx(Y, S, g);
                S += 4;
                k.pR(Y, S, h);
                S += g;
                break;
            default:
                console.log("unknown oskey: " + H);
                S = q;
                break
        }
        return S - q
    }
        ;
    cq.K5 = function (Y, S) {
        var h = k.Ii(Y, S);
        if (h > 1e3)
            throw "e";
        if (h == 0)
            h = 4;
        return k.Fe(Y, S + 4, h).trim()
    }
        ;
    cq.JW = function (Y, S) {
        var h = k.Ii(Y, S);
        return h == 0 ? 8 : 4 + h
    }
        ;
    cq.Vw = function (Y, S, h) {
        var q = "warp list Comp xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby flow trim then else".split(" ")
            , H = 4 < h.length || q.indexOf(h) != -1;
        k.jT(Y, S, H ? h.length : 0);
        k.pR(Y, S + 4, h);
        if (h.length < 4 && !H) {
            var I = "";
            for (var G = h.length; G < 4; G++)
                I += " ";
            k.pR(Y, S + 4 + h.length, I)
        }
    }
        ;
    cq.a5b = function (Y) {
        var S = {};
        for (var h in Y) {
            if (h == "classID")
                S[h] = Y[h];
            else if (h == "__name")
                S[h] = Y[h];
            else
                S[h] = cq.yM(Y[h])
        }
        return S
    }
        ;
    cq.yM = function (Y) {
        if (Y.qa == "Objc")
            return cq.a5b(Y.v);
        else if (Y.qa == "VlLs") {
            var S = [];
            for (var G = 0; G < Y.v.length; G++)
                S.push(cq.yM(Y.v[G]));
            return S
        } else if (Y.qa == "UntF")
            return Y.v.val;
        else
            return Y.v
    }
        ;
    function f4() { }
    f4.s1 = function (Y, S, h, q, H, I) {
        while (S < h) {
            var E = k.Fe(Y, S, 4);
            S += 4;
            if (E != "8BIM" && E != "8B64") {
                console.log("layer information signature error! " + E, "PSB = " + H);
                alert("Error in PSD file: wrong signature.");
                return h
            }
            var d = k.Fe(Y, S, 4);
            S += 4;
            var B = k.Ii(Y, S);
            S += 4;
            if (H && "LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd".split(" ").indexOf(d) != -1) {
                B = B << 32 | k.Ii(Y, S);
                S += 4
            }
            if (H && ["pths"].indexOf(d) != -1) {
                B = B << 32 | k.Ii(Y, S);
                S += 4
            }
            var n = ["lrFX", "PlLd"];
            if (n.indexOf(d) != -1) {
                if (B % 4 != 0)
                    B += 4 - B % 4;
                S += B;
                continue
            }
            switch (d) {
                case "iOpa":
                    q[d] = Y[S];
                    break;
                case "brst":
                    q[d] = [1, 1, 1];
                    for (var G = 0; G < B; G += 4)
                        q[d][k.n(Y, S + G)] = 0;
                    break;
                case "knko":
                    q[d] = Y[S];
                    break;
                case "infx":
                    q[d] = Y[S];
                    break;
                case "clbl":
                    q[d] = Y[S];
                    break;
                case "lmgm":
                    q[d] = Y[S];
                    break;
                case "vmgm":
                    q[d] = Y[S];
                    break;
                case "lyid":
                    q[d] = k.n(Y, S);
                    break;
                case "lsct":
                    q[d] = {
                        type: k.n(Y, S)
                    };
                    if (B >= 12)
                        q[d].XC = k.Fe(Y, S + 8, 4);
                    break;
                case "lsdk":
                    q.lsct = {
                        type: k.n(Y, S)
                    };
                    break;
                case "lyvr":
                    q[d] = k.n(Y, S);
                    break;
                case "lnsr":
                    var g = {
                        artb: 1,
                        bgnd: 1,
                        cont: 1,
                        layr: 1,
                        lset: 1,
                        rend: 1,
                        shap: 1,
                        user: 1,
                        ____: null
                    };
                    q[d] = k.Fe(Y, S, 4);
                    break;
                case "lspf":
                    q[d] = k.n(Y, S);
                    break;
                case "lclr":
                    q[d] = k.PX(Y, S);
                    break;
                case "luni":
                    q[d] = k.Nr(Y, S);
                    break;
                case "fxrp":
                    q[d] = new aV(k._3(Y, S), k._3(Y, S + 8));
                    break;
                case "artb":
                case "artd":
                    q[d] = {};
                    cq.Rv(Y, q[d], S + 4);
                    break;
                case "SoCo":
                    q[d] = {};
                    cq.Rv(Y, q[d], S + 4);
                    break;
                case "GdFl":
                    q[d] = {};
                    cq.Rv(Y, q[d], S + 4);
                    f4.j0(q[d], d);
                    break;
                case "PtFl":
                    q[d] = {};
                    cq.Rv(Y, q[d], S + 4);
                    f4.j0(q[d], d);
                    break;
                case "CgEd":
                    var z = q.brit = io.g4("brit")
                        , p = {};
                    cq.Rv(Y, p, S + 4);
                    z.Brgh.v = p.Brgh ? p.Brgh.v : 0;
                    z.Cntr.v = p.Cntr ? p.Cntr.v : 0;
                    z.useLegacy.v = p.useLegacy ? p.useLegacy.v : 0;
                    break;
                case "brit":
                    if (q.brit == null) {
                        var z = q.brit = io.g4("brit")
                            , p = {};
                        z.Brgh.v = k.AV(Y, S);
                        z.Cntr.v = k.AV(Y, S + 2);
                        z.useLegacy.v = !1
                    }
                    break;
                case "levl":
                    var C = Y.buffer.slice(S, S + B);
                    q[d] = i9.z7(C);
                    break;
                case "curv":
                    q[d] = eM.ys(Y, S, B);
                    break;
                case "expA":
                    var T = k.PX(Y, S)
                        , A = q[d] = io.g4("expA");
                    A.Exps.v = k.k7(Y, S + 2);
                    A.Ofst.v = k.k7(Y, S + 6);
                    A.gammaCorrection.v = k.k7(Y, S + 10);
                    break;
                case "vibA":
                    q[d] = {};
                    cq.Rv(Y, q[d], S + 4);
                    break;
                case "hue2":
                    q[d] = c9.ys(Y, S, B);
                    break;
                case "blnc":
                    var A = q[d] = io.g4(d);
                    A.PrsL.v = Y[S + 18] == 1;
                    var i = ["ShdL", "MdtL", "HghL"];
                    for (var G = 0; G < 3; G++)
                        for (var e = 0; e < 3; e++)
                            A[i[G]].v[e].v = k.AV(Y, S + G * 6 + e * 2);
                    break;
                case "blwh":
                    var a = {};
                    cq.Rv(Y, a, S + 4);
                    var A = io.g4(d)
                        , Z = "Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
                    for (var G = 0; G < Z.length; G++) {
                        A[Z[G]] = a[Z[G]];
                        delete a[Z[G]]
                    }
                    q[d] = A;
                    break;
                case "phfl":
                    var A = q[d] = io.g4(d)
                        , O = A.Clr.v
                        , T = k.PX(Y, S);
                    if (T == 3) {
                        var c = [k.n(Y, S + 2), k.n(Y, S + 6), k.n(Y, S + 10)]
                            , s = 32768
                            , x = t.RP(c[0] / s, c[1] / s, c[2] / s);
                        O.Lmnc.v = x.sj;
                        O.A.v = x.R;
                        O.B.v = x.O
                    }
                    if (T == 2) {
                        var u = k.PX(Y, S + 2);
                        if (u != 7)
                            throw "e";
                        O.Lmnc.v = k.AV(Y, S + 4) / 100;
                        O.A.v = k.AV(Y, S + 6) / 100;
                        O.B.v = k.AV(Y, S + 8) / 100
                    }
                    var y = S + 2 + (T == 3 ? 12 : 10);
                    A.Dnst.v = k.n(Y, y);
                    y += 4;
                    A.PrsL.v = Y[y] == 1;
                    break;
                case "mixr":
                    var j = {
                        oU: k.PX(Y, S + 2) == 1,
                        G: []
                    };
                    for (var G = 0; G < 20; G++)
                        j.G.push(k.AV(Y, S + 4 + G * 2));
                    q[d] = dD.oG(j);
                    break;
                case "clrL":
                case "rplc":
                    q[d] = {};
                    cq.Rv(Y, q[d], S + 6);
                    break;
                case "nvrt":
                    q[d] = {};
                    break;
                case "post":
                    q[d] = io.g4("post");
                    q[d].Lvls.v = k.PX(Y, S);
                    break;
                case "thrs":
                    q[d] = io.g4("thrs");
                    q[d].Lvl.v = k.PX(Y, S);
                    break;
                case "grdm":
                    var v = {
                        rev: Y[S + 2] == 1,
                        a7C: Y[S + 3] == 1
                    }
                        , X = S + 4
                        , N = k.Nr(Y, X);
                    X += 4 + N.length * 2;
                    var V = eW.wY(Y, X, N)
                        , $ = V[0];
                    X = V[1];
                    var w = k.PX(Y, X);
                    X += 2;
                    $.Intr.v = k.PX(Y, X);
                    X += 2;
                    var m = k.PX(Y, X);
                    X += 2;
                    v.mode = k.PX(Y, X);
                    X += 2;
                    v.sU = k.n(Y, X);
                    X += 4;
                    v.akr = k.PX(Y, X) == 1;
                    X += 2;
                    v.a4E = k.PX(Y, X) == 1;
                    X += 2;
                    v.aho = k.n(Y, X);
                    X += 4;
                    v.aeG = k.PX(Y, X);
                    X += 2;
                    v.zC = [];
                    for (var G = 0; G < 4; G++)
                        v.zC.push(k.PX(Y, X + G * 2));
                    X += 8;
                    v.K8 = [];
                    for (var G = 0; G < 4; G++)
                        v.K8.push(k.PX(Y, X + G * 2));
                    X += 8;
                    var l = k.PX(Y, X);
                    X += 2;
                    var b = io.g4("grdm");
                    b.Rvrs.v = v.rev;
                    b.Grad.v = $;
                    q[d] = b;
                    break;
                case "selc":
                    q[d] = d_.ys(Y, S, B);
                    break;
                case "vmsk":
                case "vsms":
                    var K = q.vmsk = new M.cJ
                        , J = k.Ii(Y, S + 4)
                        , R = (J >> 0 & 1) == 1;
                    K.Pa = (J >> 1 & 1) == 0;
                    K.isEnabled = (J >> 2 & 1) == 0;
                    K.b = e$.ix(Y, S + 8, B - 8, I.d, I.v);
                    break;
                case "shmd":
                    q[d] = {};
                    var r = k.n(Y, S)
                        , y = S + 4;
                    for (var G = 0; G < r; G++) {
                        var E = k.Fe(Y, y, 4);
                        y += 4;
                        var gf = k.Fe(Y, y, 4);
                        y += 4;
                        var aa = Y[y];
                        y++;
                        if (Math.max(Y[y], Y[y + 1], Y[y + 2]) != 0)
                            throw "e";
                        y += 3;
                        var aA = k.n(Y, y);
                        y += 4;
                        if (gf == "cust" || gf == "cmls" || gf == "extn" || gf == "mlst") {
                            var e5 = k.n(Y, y);
                            if (e5 != 16)
                                y += 4;
                            if (k.n(Y, y) == 16) {
                                var a = {};
                                cq.Rv(Y, a, y + 4, !1);
                                q[d][gf] = a;
                                if (gf == "cmls")
                                    cU.yr.a13(q[d][gf])
                            }
                        } else {
                            console.log("unknown shmd key: " + gf + ", size: " + aA)
                        }
                        y += aA
                    }
                    break;
                case "shpa":
                    var T = k.n(Y, S)
                        , fk = k.n(Y, S + 4);
                    if (fk != 0)
                        console.log("some patterns present!");
                    break;
                case "TySh":
                    var o = q[d] = {}
                        , T = k.PX(Y, S);
                    o.J = k.uh(Y, S + 2);
                    var eY = k.PX(Y, S + 2 + 48);
                    o._j = {};
                    var du = cq.Rv(Y, o._j, S + 56)
                        , dV = ap.I9();
                    for (var hy in dV)
                        if (o._j[hy] == null)
                            o._j[hy] = dV[hy];
                    o.gO = {};
                    var bq = cq.Rv(Y, o.gO, S + 56 + du + 6);
                    o.tI = k.abU(Y, S + 56 + du + 6 + bq);
                    o.lV = h1.z7(o._j.EngineData.v);
                    ap.aeX(o.lV.EngineDict.StyleRun.RunArray);
                    if (o.lV.ResourceDict == null)
                        o.lV.ResourceDict = JSON.parse(JSON.stringify(o.lV.DocumentResources));
                    delete o._j.EngineData;
                    break;
                case "lfx2":
                case "lmfx":
                case "lfxs":
                    var i5 = k.n(Y, S)
                        , hX = k.n(Y, S + 4);
                    q.lmfx = {};
                    var du = cq.Rv(Y, q.lmfx, S + 8);
                    f4.cS(q.lmfx);
                    break;
                case "FMsk":
                    q[d] = k.wK(Y, S, B);
                    break;
                case "Txt2":
                    q[d] = {};
                    q[d].raw = k.wK(Y, S, B);
                    q[d].Wc = iI.z7(q[d].raw);
                    break;
                case "Patt":
                    q[d] = fG.x2(Y, S, B);
                    break;
                case "SoLd":
                    var bY = k.Fe(Y, S, 4)
                        , ds = k.n(Y, S + 4)
                        , hV = k.n(Y, S + 8);
                    q[d] = {};
                    var gF = cq.Rv(Y, q[d], S + 12);
                    if (q[d].nonAffineTransform == null)
                        q[d].nonAffineTransform = JSON.parse(JSON.stringify(q[d].Trnf));
                    if (q[d].Impr == null)
                        q[d].Impr = {
                            t: "Objc",
                            v: {
                                __name: "None",
                                classID: "none"
                            }
                        };
                    break;
                case "vstk":
                case "pths":
                    var ds = k.n(Y, S);
                    q[d] = {};
                    var gF = cq.Rv(Y, q[d], S + 4);
                    break;
                case "vscg":
                    var gf = k.Fe(Y, S, 4)
                        , ds = k.n(Y, S + 4);
                    q[gf] = {};
                    var gF = cq.Rv(Y, q[gf], S + 8);
                    f4.j0(q[gf], gf);
                    break;
                case "vogk":
                    var co = k.n(Y, S)
                        , ds = k.n(Y, S + 4);
                    q[d] = {};
                    var gF = cq.Rv(Y, q[d], S + 8);
                    q[d] = q[d].keyDescriptorList.v;
                    for (var G = 0; G < q[d].length; G++) { }
                    break;
                case "lnk2":
                case "lnkD__":
                case "lnk3__":
                    q[d] = [];
                    var X = S;
                    while (X < S + B) {
                        var c_ = new M.zs;
                        q[d].push(c_);
                        var m = k.Sx(Y, X);
                        X += 8;
                        var a5 = X;
                        c_.type = k.Fe(Y, X, 4);
                        X += 4;
                        if (c_.type != "liFD") {
                            alert("Unknown Linked Layer type: " + c_.type);
                            break;
                            throw c_.type
                        }
                        c_.GN = k.n(Y, X);
                        X += 4;
                        var gb = k.Ci(Y, X);
                        X += 1 + gb.V7.length;
                        c_._z = gb.V7;
                        c_.hg = k.CQ(Y, X);
                        X += 4 + c_.hg.length * 2 + 2;
                        c_.zH = k.Fe(Y, X, 4);
                        X += 4;
                        c_.kf = k.Fe(Y, X, 4);
                        X += 4;
                        var iC = k.Sx(Y, X);
                        X += 8;
                        c_.open = Y[X];
                        X += 1;
                        if (c_.open != 0) {
                            var cC = {}
                                , du = cq.Rv(Y, cC, X + 4);
                            if (du % 4 != 0)
                                du += 4 - du % 4;
                            console.log(cC);
                            X += du + 4
                        }
                        c_.open = 0;
                        c_.raw = k.wK(Y, X, iC);
                        X = a5 + m;
                        if (m % 4 != 0)
                            X += 4 - m % 4
                    }
                    break;
                case "FEid":
                    var X = S;
                    q[d] = [];
                    var aB = X + B
                        , T = k.n(Y, X);
                    X += 4;
                    while (X < aB) {
                        X += 4;
                        var m = k.n(Y, X);
                        X += 4;
                        var V = {};
                        q[d].push(V);
                        V.id = k.Ci(Y, X).V7;
                        X += V.id.length + 1;
                        var T = k.n(Y, X);
                        X += 4;
                        X += 4;
                        var cd = k.n(Y, X);
                        X += 4;
                        V.rect = k.yZ(Y, X);
                        X += 16;
                        var dZ = k.n(Y, X);
                        X += 4;
                        var en = k.n(Y, X);
                        X += 4;
                        var cD = new t.ho(0);
                        for (var G = 0; G < en + 2; G++) {
                            var hP = k.n(Y, X);
                            X += 4;
                            if (hP != 0) {
                                X += 4;
                                var ea = k.n(Y, X)
                                    , fp = null;
                                X += 4;
                                if (G < 3 || G == 25)
                                    fp = cW.YZ(!0, dZ, Y, V.rect.d, V.rect.v, X, ea);
                                if (G == 0)
                                    cD.h = fp;
                                if (G == 1)
                                    cD.l = fp;
                                if (G == 2)
                                    cD.O = fp;
                                if (G == 25)
                                    cD.R = fp;
                                X += ea
                            }
                        }
                        V.buffer = t.m(V.rect.e() * 4);
                        t.in(cD, V.buffer);
                        t.Wq(V);
                        var bC = Y[X];
                        X++;
                        if (bC != 0) {
                            V.r = new M.WB;
                            V.r.rect = k.yZ(Y, X);
                            X += 16;
                            X += 4;
                            var hG = k.n(Y, X);
                            X += 4;
                            V.r.channel = cW.YZ(!0, dZ, Y, V.r.rect.d, V.r.rect.v, X, hG);
                            V.r.color = 255;
                            V.r.Mq();
                            X += hG
                        }
                        if (m % 4 != 0)
                            X += 4 - m % 4
                    }
                    break;
                case "Lr16":
                    fV.y9(I, Y, S);
                    break;
                default:
                    console.log("unknown layer tag: " + d + ", size: " + B);
                    break
            }
            var b3 = "Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2".split(" ");
            if (b3.indexOf(d) == -1)
                if (B % 4 != 0)
                    console.log("size not multiple of 4!!!", d);
            if (d != "luni" && d != "TySh" && d != "tySh" && d != "lfx2")
                if (B % 4 != 0)
                    B += 4 - B % 4;
            S += B
        }
        var ct = [];
        for (var G = 0; G < ct.length; G++)
            delete q[ct[G]];
        return S
    }
        ;
    f4.nL = function (Y, S, h, q) {
        for (var H in h)
            if (h[H] == null) {
                alert("A bug occured (see console).");
                console.log("Please, report a bug, that \"" + H + "\" tag was present with a null value.");
                delete h[H]
            }
        for (var H in h) {
            k.pR(Y, S, "8BIM");
            S += 4;
            var I = S
                , E = 0;
            k.pR(Y, S, H);
            S += 4;
            k.jT(Y, S, 0);
            S += 4;
            switch (H) {
                case "iOpa":
                    k.x_(Y, S, h[H], 1);
                    E = 4;
                    break;
                case "brst":
                    E = 0;
                    for (var G = 0; G < 3; G++)
                        if (h[H][G] == 0) {
                            k.Qx(Y, S + E, G);
                            E += 4
                        }
                    break;
                case "knko":
                    k.x_(Y, S, h[H], 1);
                    E = 4;
                    break;
                case "infx":
                    k.x_(Y, S, h[H], 1);
                    E = 4;
                    break;
                case "clbl":
                    k.x_(Y, S, h[H], 1);
                    E = 4;
                    break;
                case "lmgm":
                    k.x_(Y, S, h[H], 1);
                    E = 4;
                    break;
                case "vmgm":
                    k.x_(Y, S, h[H], 1);
                    E = 4;
                    break;
                case "lyid":
                    k.Qx(Y, S, h[H]);
                    E = 4;
                    break;
                case "lsct":
                    k.Qx(Y, S, h[H].type);
                    E = 4;
                    if (h[H].XC) {
                        k.pR(Y, S + 4, "8BIM");
                        k.pR(Y, S + 8, h[H].XC);
                        E = 12
                    }
                    break;
                case "lyvr":
                    k.Qx(Y, S, h[H]);
                    E = 4;
                    break;
                case "lnsr":
                    k.pR(Y, S, h[H]);
                    E = 4;
                    break;
                case "lspf":
                    k.Qx(Y, S, h[H]);
                    E = 4;
                    break;
                case "lclr":
                    k.GE(Y, S, h[H]);
                    E = 8;
                    break;
                case "luni":
                    k.Xt(Y, S, h[H]);
                    E = 4 + 2 * h[H].length;
                    break;
                case "fxrp":
                    k.Ip(Y, S, h[H].x);
                    k.Ip(Y, S + 8, h[H].y);
                    E = 16;
                    break;
                case "artb":
                case "artd":
                    k.Qx(Y, S, 16);
                    E = cq.sG(Y, h[H], S + 4) + 4;
                    break;
                case "SoCo":
                    k.Qx(Y, S, 16);
                    E = cq.sG(Y, h[H], S + 4) + 4;
                    break;
                case "GdFl":
                    k.Qx(Y, S, 16);
                    E = cq.sG(Y, h[H], S + 4) + 4;
                    break;
                case "PtFl":
                    k.Qx(Y, S, 16);
                    E = cq.sG(Y, h[H], S + 4) + 4;
                    break;
                case "CgEd":
                    var d = {
                        classID: "null",
                        Vrsn: {
                            t: "long",
                            v: 1
                        },
                        Brgh: {
                            t: "long",
                            v: 24
                        },
                        Cntr: {
                            t: "long",
                            v: 54
                        },
                        means: {
                            t: "long",
                            v: 127
                        },
                        Lab: {
                            t: "bool",
                            v: !1
                        },
                        useLegacy: {
                            t: "bool",
                            v: !1
                        },
                        Auto: {
                            t: "bool",
                            v: !0
                        }
                    }
                        , B = d
                        , n = h[H];
                    B.Brgh.v = n.Brgh.v;
                    B.Cntr.v = n.Cntr.v;
                    B.useLegacy.v = n.useLegacy.v;
                    k.Qx(Y, S, 16);
                    E = cq.sG(Y, d, S + 4) + 4;
                    break;
                case "brit":
                    Y.$r(S, 8);
                    E = 8;
                    break;
                case "levl":
                    var g = new i6;
                    E = i9.nq(g, h[H]);
                    k.E6(Y, S, g.data);
                    break;
                case "curv":
                    E = eM.Ul(Y, S, h[H]);
                    break;
                case "expA":
                    E = 14;
                    Y.$r(S, 14);
                    k.gp(Y.data, S, 1);
                    k.iJ(Y.data, S + 2, h[H].Exps.v);
                    k.iJ(Y.data, S + 6, h[H].Ofst.v);
                    k.iJ(Y.data, S + 10, h[H].gammaCorrection.v);
                    break;
                case "vibA":
                    k.Qx(Y, S, 16);
                    E = cq.sG(Y, h[H], S + 4) + 4;
                    break;
                case "hue2":
                    E = c9.Ul(Y, S, h[H]);
                    break;
                case "blnc":
                    E = 19;
                    Y.$r(S, E);
                    var z = ["ShdL", "MdtL", "HghL"];
                    for (var G = 0; G < 3; G++) {
                        var p = h[H][z[G]].v;
                        for (var C = 0; C < 3; C++)
                            p.push(k.EX(Y.data, S + G * 6 + C * 2, p[C].v))
                    }
                    Y.data[S + 18] = h[H].PrsL.v ? 1 : 0;
                    break;
                case "blwh":
                    var d = {
                        classID: "null",
                        bwPresetKind: {
                            t: "long",
                            v: 1
                        },
                        blackAndWhitePresetFileName: {
                            t: "TEXT",
                            v: ""
                        }
                    }
                        , T = "Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
                    for (var G = 0; G < T.length; G++) {
                        d[T[G]] = h[H][T[G]]
                    }
                    k.Qx(Y, S, 16);
                    E = cq.sG(Y, d, S + 4) + 4;
                    break;
                case "phfl":
                    k.GE(Y, S, 2);
                    var A = h[H].Clr.v;
                    k.GE(Y, S + 2, 7);
                    k.GE(Y, S + 4, Math.round(A.Lmnc.v * 100));
                    k.GE(Y, S + 6, Math.round(A.A.v * 100));
                    k.GE(Y, S + 8, Math.round(A.B.v * 100));
                    k.GE(Y, S + 10, 0);
                    var i = S + 2 + 10;
                    Y.$r(i, 5);
                    k._6(Y.data, i, h[H].Dnst.v);
                    i += 4;
                    Y.data[i] = h[H].PrsL.v ? 1 : 0;
                    i++;
                    E = i - S;
                    break;
                case "mixr":
                    E = 44;
                    Y.$r(S, E);
                    var e = dD.Ea(h[H]);
                    k.gp(Y.data, S, 1);
                    k.gp(Y.data, S + 2, e.oU ? 1 : 0);
                    for (var G = 0; G < 20; G++)
                        k.EX(Y.data, S + 4 + G * 2, e.G[G]);
                    break;
                case "clrL":
                case "rplc":
                    k.GE(Y, S, 1);
                    k.Qx(Y, S + 2, 16);
                    E = cq.sG(Y, h[H], S + 6) + 6;
                    break;
                case "nvrt":
                    E = 0;
                    break;
                case "post":
                    k.GE(Y, S, h[H].Lvls.v);
                    E = 2;
                    break;
                case "thrs":
                    k.GE(Y, S, h[H].Lvl.v);
                    E = 2;
                    break;
                case "grdm":
                    var a = {
                        rev: h[H].Rvrs.v,
                        a7C: !1,
                        mode: 0,
                        sU: 867527939,
                        akr: !1,
                        a4E: !0,
                        aho: 2048,
                        aeG: 3,
                        zC: [0, 0, 0, 0],
                        K8: [32768, 32768, 32768, 32768]
                    }
                        , Z = h[H].Grad.v;
                    Y.$r(S, 4);
                    k.gp(Y.data, S, 1);
                    Y.data[S + 2] = a.rev ? 1 : 0;
                    Y.data[S + 3] = a.a7C ? 1 : 0;
                    var O = S + 4;
                    k.Xt(Y, O, Z.Nm.v);
                    O += 4 + Z.Nm.v.length * 2;
                    O = eW.a8C(Y, O, Z);
                    k.GE(Y, O, 2);
                    O += 2;
                    k.GE(Y, O, Z.Intr.v);
                    O += 2;
                    k.GE(Y, O, 32);
                    O += 2;
                    k.GE(Y, O, a.mode);
                    O += 2;
                    k.Qx(Y, O, a.sU);
                    O += 4;
                    k.GE(Y, O, a.akr ? 1 : 0);
                    O += 2;
                    k.GE(Y, O, a.a4E ? 1 : 0);
                    O += 2;
                    k.Qx(Y, O, a.aho);
                    O += 4;
                    k.GE(Y, O, a.aeG);
                    O += 2;
                    for (var G = 0; G < 4; G++)
                        k.GE(Y, O + G * 2, a.zC[G]);
                    O += 8;
                    for (var G = 0; G < 4; G++)
                        k.GE(Y, O + G * 2, a.K8[G]);
                    O += 8;
                    O += 2;
                    E = O - S;
                    break;
                case "selc":
                    E = d_.Ul(Y, S, h[H]);
                    break;
                case "FMsk":
                    k.E6(Y, S, h[H]);
                    E = h[H].length;
                    break;
                case "Txt2":
                    var c = new i6
                        , s = iI.zN(h[H].Wc, c)
                        , x = t.m(s, !0);
                    for (var G = 0; G < s; G++)
                        x[G] = c.data[G];
                    k.E6(Y, S, x);
                    E = x.length;
                    break;
                case "vmsk":
                    var u = h[H]
                        , y = 0;
                    k.Qx(Y, S, 3);
                    if (!u.Pa)
                        y += 1 << 1;
                    if (!u.isEnabled)
                        y += 1 << 2;
                    k.Qx(Y, S + 4, y);
                    E = 8;
                    var j = u.b.length;
                    Y.$r(S + 8, j * 26);
                    e$.oV(Y.data, S + 8, u.b, q.d, q.v);
                    E += j * 26;
                    break;
                case "shmd":
                    k.Qx(Y, S, Object.keys(h[H]).length);
                    var i = S + 4;
                    for (var v in h[H]) {
                        k.pR(Y, i, "8BIM");
                        i += 4;
                        k.pR(Y, i, v);
                        i += 4;
                        k.Qx(Y, i, 0);
                        i += 4;
                        k.Qx(Y, i, 0);
                        i += 4;
                        k.Qx(Y, i, 16);
                        i += 4;
                        var X = cq.sG(Y, h[H][v], i);
                        if (X % 4 != 0)
                            X += 4 - X % 4;
                        k.Qx(Y, i - 8, X + 4);
                        i += X
                    }
                    E = i - S;
                    break;
                case "TySh":
                    var i = S;
                    k.So(Y, i, 1);
                    i += 2;
                    var N = h[H]
                        , c = new i6;
                    N.lV.DocumentResources = JSON.parse(JSON.stringify(N.lV.ResourceDict));
                    var s = h1.zN(N.lV, c)
                        , x = t.m(s, !0);
                    for (var G = 0; G < s; G++)
                        x[G] = c.data[G];
                    N._j.EngineData = {
                        t: "tdta",
                        v: x
                    };
                    var V = N.lV.EngineDict.Editor.Text;
                    N._j.Txt.v = V.substring(0, V.length - 1);
                    k.a6O(Y, i, N.J);
                    i += 48;
                    k.So(Y, i, 50);
                    i += 2;
                    k.Qx(Y, i, 16);
                    i += 4;
                    i += cq.sG(Y, N._j, i);
                    k.So(Y, i, 1);
                    i += 2;
                    k.Qx(Y, i, 16);
                    i += 4;
                    i += cq.sG(Y, N.gO, i);
                    k.anY(Y, i, N.tI);
                    i += 16;
                    E = i - S;
                    break;
                case "lmfx":
                    k.Qx(Y, S, 0);
                    k.Qx(Y, S + 4, 16);
                    var d = JSON.parse(JSON.stringify(h[H]))
                        , $ = !1;
                    f4.S5(d);
                    for (var G = 0; G < ai.m6.length; G++)
                        if (d[ai.m6[G]] != null)
                            $ = !0;
                    k.pR(Y, I, $ ? "lmfx" : "lfx2");
                    E = cq.sG(Y, d, S + 8) + 8;
                    break;
                case "Patt":
                    var i = fG.d_(Y, S, h[H]);
                    E = i - S;
                    break;
                case "SoLd":
                    k.pR(Y, S, "soLD");
                    k.Qx(Y, S + 4, 4);
                    k.Qx(Y, S + 8, 16);
                    E = cq.sG(Y, h[H], S + 12) + 12;
                    break;
                case "vstk":
                case "pths":
                    k.Qx(Y, S, 16);
                    E = cq.sG(Y, h[H], S + 4) + 4;
                    break;
                case "vscg__":
                    k.pR(Y, S, h[H].key);
                    k.Qx(Y, S + 4, 16);
                    E = cq.sG(Y, h[H].G, S + 8) + 8;
                    break;
                case "vogk":
                    k.Qx(Y, S, 1);
                    k.Qx(Y, S + 4, 16);
                    t.tx.aaB(h[H]);
                    for (var G = 0; G < h[H].length; G++) {
                        var w = h[H][G].v.keyOriginResolution;
                        if (w)
                            w.v = q.PW
                    }
                    var m = {
                        classID: "null",
                        keyDescriptorList: {
                            t: "VlLs",
                            v: h[H]
                        }
                    };
                    E = cq.sG(Y, m, S + 8) + 8;
                    break;
                case "lnkD":
                case "lnk2":
                case "lnk3":
                    var O = S;
                    for (var G = 0; G < h[H].length; G++) {
                        var l = h[H][G]
                            , b = O;
                        k.an(Y, O, 0);
                        O += 8;
                        k.pR(Y, O, l.type);
                        O += 4;
                        k.Qx(Y, O, l.GN);
                        O += 4;
                        Y.$r(O, 1);
                        Y.data[O] = l._z.length;
                        O++;
                        k.pR(Y, O, l._z);
                        O += l._z.length;
                        k.Xt(Y, O, l.hg + "\0");
                        O += 4 + l.hg.length * 2 + 2;
                        k.pR(Y, O, l.zH);
                        O += 4;
                        k.pR(Y, O, l.kf);
                        O += 4;
                        k.an(Y, O, l.raw.length);
                        O += 8;
                        Y.$r(O, 1);
                        Y.data[O] = l.open;
                        O++;
                        k.E6(Y, O, l.raw);
                        O += l.raw.length;
                        k.Qx(Y, O, 1);
                        O += 4;
                        O += 11;
                        var K = O - b - 8;
                        k.an(Y, b, K);
                        if (K % 4 != 0) {
                            Y.$r(O, 4 - K % 4);
                            O += 4 - K % 4
                        }
                    }
                    E = O - S;
                    break;
                case "FEid":
                    var O = S;
                    k.Qx(Y, O, 3);
                    O += 4;
                    for (var J = 0; J < h[H].length; J++) {
                        var R = h[H][J];
                        O += 4;
                        var r = O;
                        O += 4;
                        k.JZ(Y, O, R.id);
                        O += R.id.length + 1;
                        k.Qx(Y, O, 1);
                        O += 4;
                        O += 4;
                        var f = O;
                        O += 4;
                        k.T2(Y, O, R.rect);
                        O += 16;
                        k.Qx(Y, O, 8);
                        O += 4;
                        k.Qx(Y, O, 24);
                        O += 4;
                        var gf = new t.ho(R.rect.e());
                        t.vK(R.buffer, gf);
                        for (var G = 0; G < 24 + 2; G++) {
                            var aa = null;
                            if (G == 0)
                                aa = gf.h;
                            if (G == 1)
                                aa = gf.l;
                            if (G == 2)
                                aa = gf.O;
                            if (G == 25)
                                aa = gf.R;
                            k.Qx(Y, O, aa != null ? 1 : 0);
                            O += 4;
                            if (aa != null) {
                                O += 4;
                                var aA = O;
                                O += 4;
                                Y.$r(O, R.rect.e() + 2);
                                O = cW.NH(aa, Y.data, R.rect.d, R.rect.v, O, 3);
                                k.Qx(Y, aA, O - (aA + 4))
                            }
                        }
                        k.Qx(Y, f, O - (f + 4));
                        Y.$r(O, 1);
                        Y.data[O] = R.r ? 1 : 0;
                        O++;
                        if (R.r != null) {
                            var e5 = R.r.rect
                                , fk = R.r.channel;
                            e5 = R.rect;
                            fk = t.m(e5.e());
                            fk.fill(R.r.color);
                            t.m7(R.r.channel, R.r.rect, fk, e5);
                            k.T2(Y, O, e5);
                            O += 16;
                            O += 4;
                            var o = O;
                            O += 4;
                            Y.$r(O, e5.e() + 2);
                            O = cW.NH(fk, Y.data, e5.d, e5.v, O, 3);
                            k.Qx(Y, o, O - (o + 4))
                        }
                        var K = O - (r + 4);
                        k.Qx(Y, r, K);
                        if (K % 4 != 0)
                            O += 4 - K % 4
                    }
                    E = O - S;
                    break;
                default:
                    console.log("unknown layer tag: " + H + ", size: " + E);
                    S -= 12;
                    continue
            }
            var eY = ["Txt2", "artd", "extd", "luni", "pths"];
            if (eY.indexOf(H) == -1)
                if (E % 4 != 0)
                    E += 4 - E % 4;
            k.jT(Y, S - 4, E);
            if (H != "luni" && H != "TySh")
                if (E % 4 != 0)
                    E += 4 - E % 4;
            S += E
        }
        return S
    }
        ;
    f4.cS = function (Y) {
        for (var G = 0; G < ai.order.length; G++) {
            var S = ai.order[G]
                , h = ai.m6[G];
            if (Y[h] == null)
                Y[h] = {
                    t: "VlLs",
                    v: []
                };
            if (Y[S] != null) {
                Y[h].v.push(Y[S]);
                delete Y[S]
            }
            var q = [];
            for (var H = 0; H < Y[h].v.length; H++) {
                var I = Y[h].v[H];
                if (I.v.present == null || I.v.present.v == !0)
                    q.push(I)
            }
            Y[h].v = q
        }
    }
        ;
    f4.S5 = function (Y) {
        for (var G = 0; G < ai.order.length; G++) {
            var S = ai.order[G]
                , h = ai.m6[G]
                , q = Y[h].v.length;
            if (q == 0) {
                delete Y[h];
                continue
            }
            if (q == 1) {
                Y[S] = Y[h].v[0];
                delete Y[h];
                continue
            }
        }
    }
        ;
    f4.j0 = function (Y, S) {
        if (S == "GdFl") {
            if (Y.Angl == null)
                Y.Angl = {
                    v: {
                        type: "#Ang",
                        val: 0
                    },
                    t: "UntF"
                };
            if (Y.Algn == null)
                Y.Algn = {
                    v: !0,
                    t: "bool"
                };
            if (Y.Scl == null)
                Y.Scl = {
                    v: {
                        type: "#Prc",
                        val: 100
                    },
                    t: "UntF"
                };
            if (Y.Ofst == null)
                Y.Ofst = {
                    v: {
                        classID: "Pnt",
                        Hrzn: {
                            v: {
                                type: "#Prc",
                                val: 0
                            },
                            t: "UntF"
                        },
                        Vrtc: {
                            v: {
                                type: "#Prc",
                                val: 0
                            },
                            t: "UntF"
                        }
                    },
                    t: "Objc"
                };
            if (Y.Rvrs == null)
                Y.Rvrs = {
                    v: !1,
                    t: "bool"
                };
            if (Y.Dthr == null)
                Y.Dthr = {
                    v: !1,
                    t: "bool"
                }
        }
        if (S == "PtFl") {
            if (Y.Algn == null)
                Y.Algn = {
                    v: !0,
                    t: "bool"
                };
            if (Y.Scl == null)
                Y.Scl = {
                    v: {
                        type: "#Prc",
                        val: 100
                    },
                    t: "UntF"
                };
            if (Y.phase == null)
                Y.phase = {
                    v: {
                        classID: "Pnt",
                        Hrzn: {
                            v: 0,
                            t: "doub"
                        },
                        Vrtc: {
                            v: 0,
                            t: "doub"
                        }
                    },
                    t: "Objc"
                }
        }
    }
        ;
    f4.clone = function (Y, S) {
        var h = {};
        if (Y == "TySh") {
            h.J = S.J.clone();
            h._j = JSON.parse(JSON.stringify(S._j));
            h.gO = JSON.parse(JSON.stringify(S.gO));
            h.tI = S.tI.clone();
            h.lV = JSON.parse(JSON.stringify(S.lV));
            if (S.add)
                h.add = {
                    vmsk: S.add.vmsk.clone(),
                    vogk: JSON.parse(JSON.stringify(S.add.vogk))
                };
            return h
        } else if (Y == "fxrp")
            return S.clone();
        else if (Y == "vmsk")
            return S.clone();
        else
            return JSON.parse(JSON.stringify(S))
    }
        ;
    function eR(Y, S) { }
    eR.z7 = function (Y, S, h, q) {
        q = eR.a0Z(Y, S, h, q);
        return q
    }
        ;
    eR.zN = function (Y, S, h, q, H) {
        q = eR.adI(Y, S, h, q, H);
        return q
    }
        ;
    eR.a0Z = function (Y, S, h, q) {
        var H = q;
        Y.rect = k.yZ(h, q);
        q += 16;
        var I = k.PX(h, q);
        q += 2;
        Y.qe = [];
        var E = S.X4;
        for (var G = 0; G < I; G++) {
            Y.qe[G] = {
                id: k.AV(h, q),
                length: (E ? k.Sx : k.n)(h, q + 2)
            };
            q += E ? 10 : 6
        }
        var d = k.Fe(h, q, 4);
        q += 4;
        if (d != "8BIM") {
            console.log("Invalid Blend mode signature: " + d);
            alert("Error in Photoshop file: wrong signature.");
            throw "e"
        }
        Y.XC = k.Fe(h, q, 4);
        q += 4;
        Y.opacity = h[q];
        q += 1;
        Y.f6 = h[q] == 1;
        q += 1;
        Y.xa = h[q];
        q += 1;
        if (h[q] != 0)
            console.log("error in filler!");
        q += 1;
        var B = k.n(h, q);
        q += 4;
        var n = q;
        q = eR.a2w(Y, h, q);
        q = eR.a1W(Y, h, q);
        var g = k.Ci(h, q);
        Y.name = g.V7;
        q += g.length;
        if (g.length % 4 != 0)
            q += 4 - g.length % 4;
        q = f4.s1(h, q, n + B, Y.add, E, S);
        if (Y.nh) {
            var z = Y.nh;
            if (Y.Qn()) {
                Y.Qn().G0 = z[0];
                Y.Qn().Cm = z[1]
            }
            if (Y.add.vmsk) {
                Y.add.vmsk.G0 = z[2];
                Y.add.vmsk.Cm = z[3]
            }
        }
        if (Y.add.lsct) {
            if (Y.add.lsct.XC)
                Y.XC = Y.add.lsct.XC;
            Y.add.lsct = Y.add.lsct.type
        }
        return q
    }
        ;
    eR.adI = function (Y, S, h, q, H) {
        var I = q;
        k.T2(h, q, Y.rect);
        q += 16;
        var E = Y.Xh();
        k.GE(h, q, E.length);
        q += 2;
        H.push(q);
        for (var G = 0; G < E.length; G++) {
            k.So(h, q, E[G]);
            k.Qx(h, q + 2, 0);
            q += 6
        }
        k.pR(h, q, "8BIM");
        q += 4;
        k.pR(h, q, Y.XC);
        q += 4;
        k.x_(h, q, Y.opacity, 1);
        q += 1;
        k.x_(h, q, Y.f6 ? 1 : 0, 1);
        q += 1;
        k.x_(h, q, Y.xa, 1);
        q += 1;
        k.x_(h, q, 0, 1);
        q += 1;
        var d = q;
        k.Qx(h, q, 0);
        q += 4;
        var B = q;
        q = eR.a31(Y, h, q);
        q = eR.a9U(Y, h, q);
        var n = k.JZ(h, q, Y.name.slice(0, 255));
        q += n;
        if (n % 4 != 0)
            q += 4 - n % 4;
        if (Y.add.lsct) {
            Y.add.lsct = {
                type: Y.add.lsct
            };
            if (Y.XC == "pass") {
                Y.add.lsct.XC = "pass";
                Y.XC = "norm"
            }
        }
        if (Y.XC == "pass")
            Y.add.lsct = {
                type: Y.add.lsct,
                XC: "pass"
            };
        if (Y.add.brit)
            Y.add.CgEd = Y.add.brit;
        q = f4.nL(h, q, Y.add, S);
        delete Y.add.CgEd;
        if (Y.add.lsct) {
            if (Y.add.lsct.XC)
                Y.XC = Y.add.lsct.XC;
            Y.add.lsct = Y.add.lsct.type
        }
        var g = q - B;
        k.Qx(h, d, g);
        return q
    }
        ;
    eR.a2w = function (Y, S, h) {
        var q = k.n(S, h);
        h += 4;
        if (q == 0)
            return h;
        var H = h;
        Y.r = new M.WB;
        Y.r.rect = k.yZ(S, h);
        h += 16;
        Y.r.color = S[h];
        h += 1;
        var I = eR.It(Y.r, S, h);
        h += 1;
        if (I) {
            var E = !1
                , d = 255
                , B = 0
                , n = 255
                , g = 0;
            for (var G = 0; G < Y.qe.length; G++)
                if (Y.qe[G].id == -3)
                    E = !0;
            if (E) {
                Y.sK = eR.Kv(S, h);
                h += 18
            }
            var z = h
                , p = S[h];
            h++;
            if (p >> 0 & 1) {
                d = S[h];
                h++
            }
            if (p >> 1 & 1) {
                B = k._3(S, h);
                h += 8
            }
            if (p >> 2 & 1) {
                n = S[h];
                h++
            }
            if (p >> 3 & 1) {
                g = k._3(S, h);
                h += 8
            }
            if ((h - z & 1) == 1)
                h++;
            Y.nh = [d, B, n, g]
        } else {
            if (q == 20)
                h += 2;
            else {
                Y.sK = eR.Kv(S, h);
                h += 18
            }
        }
        return H + q
    }
        ;
    eR.a31 = function (Y, S, h) {
        k.Qx(S, h, 0);
        h += 4;
        if (Y.r == null)
            return h;
        var q = h
            , H = !0;
        k.Qx(S, h, 0);
        k.T2(S, h, Y.r.rect);
        h += 16;
        k.x_(S, h, Y.r.color);
        h += 1;
        eR.DO(Y.r, S, h, H);
        h += 1;
        if (H) {
            if (Y.sK) {
                eR.a4K(S, h, Y.sK);
                h += 18
            }
            k.x_(S, h, 15);
            h += 1;
            var I = Y.Qn()
                , E = Y.add.vmsk;
            k.x_(S, h, I ? I.G0 : 255);
            h += 1;
            k.Ip(S, h, I ? I.Cm : 0);
            h += 8;
            k.x_(S, h, E ? E.G0 : 255);
            h += 1;
            k.Ip(S, h, E ? E.Cm : 0);
            h += 8;
            h++;
            k.Qx(S, q - 4, h - q)
        }
        return h
    }
        ;
    eR.Kv = function (Y, S) {
        var h = new M.WB;
        eR.It(h, Y, S);
        S += 1;
        h.color = Y[S];
        S += 1;
        h.rect = k.yZ(Y, S);
        S += 16;
        return h
    }
        ;
    eR.a4K = function (Y, S, h) {
        eR.DO(h, Y, S, !1);
        S += 1;
        k.x_(Y, S, h.color);
        S += 1;
        k.T2(Y, S, h.rect);
        S += 16
    }
        ;
    eR.It = function (Y, S, h) {
        var q = S[h];
        Y.Pa = (q >> 0 & 1) == 0;
        Y.isEnabled = (q >> 1 & 1) == 0;
        Y.ZD = (q >> 3 & 1) == 1;
        return q >> 4 & 1
    }
        ;
    eR.DO = function (Y, S, h, q) {
        var H = 0;
        if (!Y.Pa)
            H += 1 << 0;
        if (!Y.isEnabled)
            H += 1 << 1;
        if (Y.ZD)
            H += 1 << 3;
        if (q)
            H += 1 << 4;
        k.x_(S, h, H)
    }
        ;
    eR.a1W = function (Y, S, h) {
        var q = k.n(S, h);
        h += 4;
        if (q == 0)
            return h;
        if (q != 5 * 8)
            console.log("unexpected Layer Blending Ranges content, size:", q);
        for (var G = 0; G < q; G++)
            Y.s9[G] = S[h + G];
        return h + 40
    }
        ;
    eR.a9U = function (Y, S, h) {
        k.Qx(S, h, Y.s9.length);
        h += 4;
        S.$r(h, 40);
        for (var G = 0; G < 40; G++) {
            S.data[h + G] = Y.s9[G]
        }
        return h + 40
    }
        ;
    function cW() { }
    cW.z7 = function (Y, S, h, q) {
        q = cW.aeU(S.X4, S.$V, S.PJ, Y, h, q);
        return q
    }
        ;
    cW.nq = function (Y, S, h, q, H) {
        h = cW.a1z(Y, S, h, q, H);
        return h
    }
        ;
    cW.aeU = function (Y, S, h, q, H, I) {
        var E = q.qe
            , d = {}
            , B = I;
        for (var G = 0; G < E.length; G++) {
            var n = E[G], g = n.id, z = n.length, p;
            if (g == -3)
                p = q.sK.rect;
            else if (g == -2)
                p = q.r.rect;
            else
                p = q.rect;
            var C = cW.YZ(Y, S, H, p.d, p.v, I, z);
            I += z;
            if (g == -3)
                q.sK.channel = C;
            else if (g == -2)
                q.r.channel = C;
            else
                d["c" + g] = C
        }
        var T = new t.ho(0);
        T.R = null;
        if (h == 3) {
            T.h = d.c0;
            T.l = d.c1;
            T.O = d.c2;
            T.R = d["c-1"]
        } else if (h == 1) {
            T.h = d.c0;
            T.l = d.c0;
            T.O = d.c0;
            T.R = d["c-1"]
        } else if (h == 4) {
            var A = d.c0
                , i = d.c1
                , e = d.c2
                , a = d.c3
                , Z = A.length
                , O = 1 / 255;
            for (var G = 0; G < Z; G++) {
                var c = A[G]
                    , s = i[G]
                    , x = e[G]
                    , u = a[G] * O;
                A[G] = Math.round(c * u);
                i[G] = Math.round((.2 * c + .8 * s) * u);
                e[G] = Math.round((.2 * s + .8 * x) * u)
            }
            T.h = A;
            T.l = i;
            T.O = e;
            T.R = d["c-1"];
            console.log("converting from CMYK to RGB")
        }
        if (T.h == null)
            T.h = t.m(0);
        if (T.R == null && T.h != null) {
            T.R = T.h.slice(0);
            T.R.fill(255)
        }
        if (T.l == null)
            T.l = T.h.slice(0);
        if (T.O == null)
            T.O = T.h.slice(0);
        q.buffer = t.m(Math.max(0, q.rect.e() * 4));
        t.in(T, q.buffer);
        return I
    }
        ;
    cW.a1z = function (Y, S, h, q, H) {
        var I = Y.Xh()
            , E = new t.ho(Y.rect.e());
        t.vK(Y.buffer, E);
        for (var G = 0; G < I.length; G++) {
            var d = I[G], B, n;
            if (d == -3)
                B = Y.sK.rect;
            else if (d == -2)
                B = Y.r.rect;
            else
                B = Y.rect;
            if (d == -3)
                n = Y.sK.channel;
            if (d == -2)
                n = Y.r.channel;
            if (d == -1)
                n = E.R;
            if (d == 0)
                n = E.h;
            if (d == 1)
                n = E.l;
            if (d == 2)
                n = E.O;
            S.$r(h, B.e() * 3 + 4);
            var g = h;
            h = cW.NH(n, S.data, B.d, B.v, h, H[1] ? 3 : 1);
            var z = h - g;
            if (z % 2 != 0) {
                z += z % 2;
                h++
            }
            k._6(S.data, q + G * 6 + 2, z)
        }
        return h
    }
        ;
    cW.YZ = function (Y, S, h, q, H, I, E) {
        var d = k.PX(h, I);
        I += 2;
        return cW.rc(Y, S, h, q, H, I, d, E - 2)
    }
        ;
    cW.NH = function (Y, S, h, q, H, I) {
        k.EX(S, H, I);
        H += 2;
        H = cW.cn(Y, S, h, q, H, I);
        return H
    }
        ;
    cW.rc = function (Y, S, h, q, H, I, E, d) {
        var B, n = q * H * (S >>> 3), g = n & 3, z = n + (g == 0 ? 0 : 4 - g);
        if (d <= 0) {
            return t.m(z)
        }
        if (E > 3) {
            console.log("unknown compression: " + E, q, H, q * H, d);
            E = 0
        }
        if (E == 0) {
            if (I + z <= h.length)
                B = h.slice(I, I + z);
            else {
                B = t.m(n);
                for (var G = 0; G < n; G++)
                    B[G] = h[I + G]
            }
            I += n
        } else if (E == 1) {
            B = t.m(n);
            var p = Y ? 4 : 2
                , C = cW.m9(h, B, q, H, I, I + p * H, p);
            I += p * H + C
        } else if (E == 2 || E == 3) {
            var T = new Uint8Array(h.buffer, I + 2, d - 6)
                , A = pako.inflateRaw(T);
            if (E == 3) {
                if (S == 8)
                    for (var i = 0; i < H; i++) {
                        var e = i * q + 1
                            , a = e + q - 1
                            , Z = A[e - 1];
                        for (var O = e; O < a; O++) {
                            Z += A[O];
                            A[O] = Z & 255
                        }
                    }
                else
                    for (var i = 0; i < H; i++) {
                        var e = i * q + 1
                            , a = e + q - 1
                            , Z = A[2 * e - 2] << 8 | A[2 * e - 1];
                        for (var O = e; O < a; O++) {
                            var c = O << 1;
                            Z += A[c] << 8 | A[c + 1];
                            A[c] = Z >>> 8;
                            A[c + 1] = Z & 255
                        }
                    }
            }
            if (A.length == z)
                B = A;
            else {
                B = t.m(z);
                for (var G = 0; G < A.length; G++)
                    B[G] = A[G]
            }
        }
        if (S == 16) {
            var s = t.m(q * H);
            for (var G = 0; G < n; G += 2)
                s[G >>> 1] = B[G];
            B = s
        }
        return B
    }
        ;
    cW.cn = function (Y, S, h, q, H, I) {
        var E = h * q;
        if (I == 0)
            for (var G = 0; G < E; G++)
                S[H++] = Y[G];
        else if (I == 1) {
            var d = cW.xA(Y, S, h, q, H, H + 2 * q);
            H += 2 * q + d
        } else if (I == 2 || I == 3) {
            if (I == 3) {
                var B = new Uint8Array(Y.length);
                for (var n = 0; n < q; n++) {
                    var g = n * h + 1
                        , z = g + h - 1
                        , p = Y[g - 1];
                    B[g - 1] = p;
                    for (var C = g; C < z; C++) {
                        B[C] = Y[C] + (256 - p) & 255;
                        p = Y[C]
                    }
                }
                Y = B
            }
            S[H] = 120;
            S[H + 1] = 156;
            H += 2;
            var T = pako.deflateRaw(Y, {
                aaz: 4
            });
            k.Wa(S, H, T);
            H += T.length + 4
        } else
            console.log("Unknown compression: " + I);
        return H
    }
        ;
    cW.m9 = function (Y, S, h, q, H, I, E) {
        var d = I
            , B = q | 0;
        if (E == 2)
            for (var G = 0; G < B; G++) {
                var n = k.PX(Y, H + (G << 1));
                cW.NU(Y, I, n, S, G * h, h);
                I += n
            }
        else
            for (var G = 0; G < B; G++) {
                var n = k.n(Y, H + (G << 2));
                cW.NU(Y, I, n, S, G * h, h);
                I += n
            }
        return I - d
    }
        ;
    cW.xA = function (Y, S, h, q, H, I) {
        var E = I;
        for (var G = 0; G < q; G++) {
            var d = cW.ac$(Y, G * h, h, S, I);
            k.gp(S, H + G * 2, d);
            I += d
        }
        return I - E
    }
        ;
    cW.ac$ = function (Y, S, D, h, q) {
        var H, I, E, d, B, iL, n;
        d = S + D;
        for (E = S,
            I = q; D > 0; E = H,
            D -= iL) {
            n = D < 128 ? D : 128;
            if (E <= d - 3 && Y[E + 1] == Y[E + 0] && Y[E + 2] == Y[E + 0]) {
                for (H = E + 3; H < E + n && Y[H] == Y[E + 0];)
                    ++H;
                iL = H - E;
                h[I++] = 1 + 256 - iL;
                h[I++] = Y[E + 0]
            } else {
                for (H = E; H < E + n;)
                    if (H <= d - 3 && Y[H + 1] == Y[H + 0] && Y[H + 2] == Y[H + 0])
                        break;
                    else
                        ++H;
                iL = H - E;
                h[I++] = iL - 1;
                for (var G = 0; G < iL; G++)
                    h[I + G] = Y[E + G];
                I += iL
            }
        }
        return I - q
    }
        ;
    cW.NU = function (Y, S, h, q, H, I) {
        for (var E = 0; E < h;) {
            var D = Y[S++];
            if (D >= 128) {
                var d = Y[S++]
                    , B = H + (257 - D);
                while (H + 1 < B) {
                    q[H++] = q[H++] = d
                }
                if (H < B)
                    q[H++] = d;
                E += 2
            } else {
                for (var G = 0; G <= D; G++)
                    q[H + G] = Y[S + G];
                S += D + 1;
                H += D + 1;
                E += 1 + 1 + D
            }
        }
    }
        ;
    function fV() { }
    fV.z7 = function (Y, S) {
        S.X4 = !1;
        S.$V = 8;
        var h = new Uint8Array(Y), q = 0, H = 0, f, bq = !1, i5 = !0, hX = !1, bY = 0;
        H = fV.si(S, h, q);
        q = H;
        H = fV.a5W(S, h, q);
        q = H;
        H = fV.acM(S, h, q);
        q = H;
        H = fV.aaJ(S, h, q);
        q = H;
        H = fV.aaZ(S, h, q);
        q = H;
        if (S.t.length == 0) {
            var I = S.rY();
            I.wN("Background");
            S.t.push(I);
            I.buffer = S.buffer.slice(0);
            I.rect = new W(0, 0, S.d, S.v)
        }
        if (S.aR.r1005) {
            S.PW = k.ajw(S.aR.r1005, 0)
        }
        if (S.aR.r1026) {
            var h = S.aR.r1026;
            for (var G = 0; G < h.length; G += 2) {
                var H = S.t[G >>> 1];
                if (H)
                    H.BN = k.PX(h, G)
            }
        }
        if (S.aR.r1032) {
            var h = S.aR.r1032
                , E = k.n(h, 12);
            for (var G = 0; G < E; G++) {
                var d = h[16 + G * 5 + 4]
                    , B = k.Ii(h, 16 + G * 5) / 32;
                S.E9[d].push(B)
            }
        }
        delete S.aR.r1036;
        delete S.aR.r1039;
        if (S.aR.r1050) {
            var n = k.n
                , g = S.aR.r1050
                , z = k.n(g, 0);
            if (z == 6) {
                var p = 4
                    , C = k.yZ(g, p);
                p += 16;
                var T = k.Nr(g, p);
                p += 4 + T.length * 2;
                var A = n(g, p);
                p += 4;
                var i = S.r1;
                for (var G = 0; G < A; G++) {
                    var e = U.ng.Vx(), Z;
                    i.push(e);
                    e = e.v;
                    e.sliceID.v = n(g, p);
                    p += 4;
                    e.groupID.v = n(g, p);
                    p += 4;
                    var a = n(g, p);
                    p += 4;
                    if (a == 1) {
                        Z = n(g, p);
                        p += 4
                    }
                    var T = k.Nr(g, p);
                    p += 4 + T.length * 2;
                    var O = n(g, p);
                    p += 4;
                    var c = [n(g, p), n(g, p + 4), n(g, p + 8), n(g, p + 12)];
                    p += 16;
                    U.ng.EW(i, i.length - 1, c);
                    var s = e.url.v = k.Nr(g, p);
                    p += 4 + s.length * 2;
                    var x = e.null.v = k.Nr(g, p);
                    p += 4 + x.length * 2;
                    var u = e.Msge.v = k.Nr(g, p);
                    p += 4 + u.length * 2;
                    var y = e.altTag.v = k.Nr(g, p);
                    p += 4 + y.length * 2;
                    e.cellTextIsHTML.v = g[p] == 1;
                    p++;
                    var j = e.cellText.v = k.Nr(g, p);
                    p += 4 + j.length * 2;
                    var v = n(g, p);
                    p += 4;
                    var X = n(g, p);
                    p += 4;
                    var N = g.slice(p, p + 4);
                    p += 4;
                    if (a != 2)
                        i.pop()
                }
            } else if (z == 8) {
                var V = {};
                cq.Rv(g, V, 8, !1);
                var g = S.r1 = V.slices.v;
                for (var G = 0; G < g.length; G++) {
                    if (g[G].v.origin.v.ESliceOrigin != "userGenerated") {
                        g.splice(G, 1);
                        G--
                    }
                }
            }
        }
        if (S.aR.r1058) {
            var $ = S.aR.r1058
                , w = UTIF.decode($.buffer, {
                    parseMN: !1,
                    debug: !1
                });
            dc.aB(w[0], S.wH);
            delete S.aR.r1058
        }
        if (S.aR.r1060) {
            var m = k.Dt(S.aR.r1060);
            dc.Xv(m, S.wH);
            delete S.aR.r1060
        }
        if (S.aR.r1065) {
            var h = S.aR.r1065;
            S.bL = {};
            cq.Rv(h, S.bL, 4, !1)
        }
        if (S.aR.r1069) {
            var h = S.aR.r1069
                , l = [];
            for (var G = 2; G < h.length; G += 4) {
                var Z = k.n(h, G);
                for (var b = 0; b < S.t.length; b++) {
                    var H = S.t[b];
                    if (H.add.lyid == Z && H.add.lsct != 3)
                        l.push(b)
                }
            }
            S.C = l
        }
        if (S.aR.r1025) {
            var K = S.aR.r1025;
            delete S.aR.r1025;
            var J = e$.ix(K, 0, K.length, S.d, S.v)
                , R = new M.cJ;
            R.b = J;
            debugger
            S._b[0] = dh.KK("Working Path", {
                vmsk: R
            })
        }
        var r = S.add.pths;
        delete S.add.pths;
        var gf = S.aR.r3000;
        if (gf) {
            f = {};
            cq.Rv(gf, f, 4, !1);
            delete S.aR.r3000
        }
        for (var aa = 0; aa <= 997; aa++) {
            var aA = "r" + (2e3 + aa)
                , K = S.aR[aA];
            if (K == null)
                break;
            var J = e$.ix(K, 0, K.length, S.d, S.v)
                , e5 = r ? r.pathList.v[aa].v.pathUnicodeName.v : "Path " + aa
                , fk = f ? f.keyRootDescriptorList.v[aa].v.keyDescriptorList.v : M.Ir(J)
                , R = new M.cJ;
            R.b = J;
            debugger
            S._b[aa + 1] = dh.KK(e5, {
                vmsk: R,
                vogk: fk
            });
            delete S.aR[aA]
        }
        delete S.X4;
        var o = new W(0, 0, S.d, S.v)
            , eY = S.add.Txt2
            , du = eY;
        if (du) {
            du = du.Wc;
            if (du._DocumentResources == null)
                du = aE.a1n(du)
        }
        if (eY && eY.Wc._DocumentResources != null) {
            var dV = "_Type _FrameMatrix _TextOnPathTRange _PathData _FirstBaselineAlignment _LineOrientation _RowGutter _ColumnGutter".split(" ")
                , hy = eY.Wc._DocumentResources._TextFrameSet._Resources;
            for (var G = 0; G < hy.length; G++) { }
        }
        for (var G = 0; G < S.t.length; G++) {
            var H = S.t[G]
                , ds = H.add.lsct
                , hV = H.add.vmsk
                , gF = H.Qn();
            if (ds == hg._q) {
                bY++;
                H.add.lspf = 0
            } else if (ds == hg.fC || ds == hg.N4)
                bY--;
            if (H.name == "") {
                H.name = "Layer " + (G + 1);
                hX = !0
            }
            if (hX && H.i4() && H.XC == "norm")
                H.XC = "pass";
            if (H.ef() && H.$l(S).r) {
                var co = H.$l(S);
                co.r.isEnabled = H.add.SoLd.filterFX.v.filterMaskEnable.v
            }
            if (hV && H.uy()) {
                var c_ = ai.Ig.default;
                if (H.add.vstk == null)
                    H.add.vstk = JSON.parse(JSON.stringify(c_));
                else {
                    var a5 = "strokeStyleLineDashSet";
                    if (H.add.vstk[a5] == null)
                        H.add.vstk[a5] = JSON.parse(JSON.stringify(c_[a5]))
                }
                H.add.vstk.strokeStyleResolution.v = S.PW
            }
            if (hV && (H.add.vogk == null || t.Y.Id(hV.b) != H.add.vogk.length))
                H.Ir();
            if (H.add.SoLd && H.rect.fa()) {
                console.log("redrawing smart instance");
                H.rH(S)
            }
            if (gF == null && H.r != null) {
                if (H.r.ZD == !1) {
                    H.r.ZD = !0;
                    H.sK = H.r.clone()
                } else {
                    hV.sK = H.r;
                    hV.Uh = !1;
                    H.r.Cm = hV.Cm;
                    H.r.G0 = hV.G0
                }
            }
            if (gF != null && hV != null && (gF.Cm + hV.Cm != 0 || gF.G0 + hV.G0 != 2 * 255))
                H._A(S);
            var gb = H.add.artb;
            if (gb && gb.artboardBackgroundType == null)
                gb.artboardBackgroundType = {
                    t: "long",
                    v: 1
                };
            if (gb && bY != 0)
                delete H.add.artb;
            var iC = H.add.vstk;
            if (H.uy() && (H.rect.fa() || hV && hV.Cm != 0 || iC && !iC.fillEnabled.v && (!iC.strokeEnabled.v || iC.strokeStyleLineWidth.v.val == 0)))
                H.$T(S);
            if (H.add.TySh) {
                bq = !0;
                if (!H.rect.fa())
                    i5 = !1
            }
            if (H.add.TySh && du) {
                debugger
                var cC = H.add.TySh._j.TextIndex.v
                    , aB = H.add.TySh.lV
                    , cd = ap.mu(aB)
                    , dZ = aB.ResourceDict.StyleSheetSet[0].StyleSheetData.FontSize;
                if (dZ == null)
                    dZ = 12;
                var en = aB.EngineDict.StyleRun.RunArray;
                for (var cD = 0; cD < en.length; cD++) {
                    var hP = en[cD].StyleSheet.StyleSheetData;
                    if (hP.FontSize == null) {
                        if (hP.BaselineDirection == null)
                            hP.FontSize = Math.round(dZ * S.PW / 72)
                    }
                }
                var ea = aB.EngineDict.ParagraphRun.RunArray
                    , fp = du._DocumentObjects._TextObjects;
                if (fp.length <= cC) {
                    console.log("Txt2 incomplete");
                    continue
                }
                fp = fp[cC]._Model._ParagraphRun._RunArray;
                if (fp == null)
                    fp = [];
                var bC = Math.min(fp.length, ea.length);
                for (var b = 0; b < bC; b++) {
                    var hG = ea[b].ParagraphSheet.Properties
                        , b3 = du._DocumentResources._ParagraphSheetSet._Resources
                        , ct = fp[b]._RunData._ParagraphSheet;
                    if (typeof ct == "string")
                        ct = b3[parseInt(ct.slice(1))]._Resource;
                    var fQ = ct._Parent == null ? ct : b3[parseInt(ct._Parent.slice(1))]._Resource
                        , cj = ct._Features._ParagraphDirection;
                    if (cj == null)
                        cj = fQ._Features._ParagraphDirection;
                    if (cj)
                        hG._Direction = parseInt(cj.slice(1))
                }
                var fJ = du._DocumentResources
                    , cM = fJ._TextFrameSet._Resources
                    , cc = cM[cC]._Resource
                    , cr = cc._Data
                    , bZ = new d5(1, 0, 0, 1, 0, 0);
                if (cc._0) {
                    var eb = parseFloat(cc._0[0].slice(1))
                        , gL = parseFloat(cc._0[1].slice(1));
                    bZ.translate(eb, gL)
                }
                if (cd) {
                    bZ.translate(cd[0], cd[1]);
                    ap.h6(aB, [0, 0, cd[2] - cd[0], cd[3] - cd[1]])
                } else {
                    if (cc._Bezier && cc._Bezier._Points) {
                        var J = cc._Bezier._Points
                            , eb = parseFloat(J[0].slice(1))
                            , gL = parseFloat(J[1].slice(1));
                        if (eb != 0 || gL != 0) {
                            bZ.translate(eb, gL)
                        }
                    }
                }
                if (cc._Data && cc._Data._FrameMatrix) {
                    var fn = cc._Data._FrameMatrix;
                    fn = fn.map(function (ej) {
                        return parseFloat(ej.slice(1))
                    });
                    bZ.concat(new d5(fn[0], fn[1], fn[2], fn[3], fn[4], fn[5]))
                }
                bZ.concat(H.add.TySh.J);
                H.add.TySh.J = bZ;
                var O = cr._Type ? parseInt(cr._Type.slice(1)) : 0;
                if (O == 2 || O == 1 && cr._PathData._Spacing == "i-3") {
                    var aq = function (ej) {
                        return parseFloat(ej.slice(1))
                    }
                        , J = cc._Bezier._Points.map(aq);
                    if (cd)
                        t.a.J(J, new d5(1, 0, 0, 1, -cd[0], -cd[1]), J);
                    var di = cr._PathData ? cr._PathData._Reversed : !1;
                    aB.Curve = {
                        Points: J,
                        TextOnPathTRange: cr._TextOnPathTRange.map(aq),
                        Reversed: di == null ? !1 : di
                    };
                    H.add.TySh.add = {
                        vmsk: new M.cJ,
                        vogk: null
                    };
                    ap.yA(H.add.TySh)
                }
            }
        }
        cU.yr.bU(S, !0)
    }
        ;
    fV.zN = function (Y, S, h) {
        cU.yr.WF(Y);
        cU.yr.bU(Y, !1);
        var q = []
            , H = []
            , I = []
            , E = []
            , d = []
            , y = 16
            , fk = 0;
        for (var G = 0; G < Y.t.length; G++) {
            var B = Y.t[G];
            if (B.ef() && B.$l(Y).r) {
                B.add.SoLd.filterFX.v.filterMaskEnable.v = B.$l(Y).r.isEnabled
            }
            if (B.add.SoLd) {
                H.push(B.add.SoLd.Idnt.v);
                I.push(B.add.SoLd.placed.v)
            }
            if (B.add.TySh) {
                var n = B.add.TySh.lV
                    , g = ap.Vu(n);
                B.add.TySh._j.TextIndex = {
                    t: "long",
                    v: q.length
                };
                q.push(n);
                if (g == 2)
                    ap.Kl(B.add.TySh)
            }
            if (B.add.PtFl)
                E.push(B.add.PtFl.Ptrn.v.Idnt.v);
            if (B.add.lmfx) {
                for (var z = 0; z < ai.m6.length; z++) {
                    var p = B.add.lmfx[ai.m6[z]].v;
                    for (var C = 0; C < p.length; C++)
                        if (p[C].v.Ptrn)
                            E.push(p[C].v.Ptrn.v.Idnt.v)
                }
            }
            var T = B.add.vstk;
            if (T && T.strokeStyleContent.v.classID == "patternLayer") {
                E.push(T.strokeStyleContent.v.Ptrn.v.Idnt.v)
            }
            if (T)
                T.strokeStyleResolution.v = Y.PW;
            if (B.uy() || h[2] && B.add.SoLd) {
                d[G] = [B.rect, B.buffer];
                B.rect = new W;
                B.buffer = t.m(0)
            }
        }
        if (q.length > 0) {
            var A = Y.add.Txt2 ? Y.add.Txt2.Wc : null;
            Y.add.Txt2 = {};
            Y.add.Txt2.Wc = hI.a9I(q, null, A)
        }
        var i = Y.add.lnk2;
        if (i) {
            var e = Y.add.lnk2 = [];
            for (var G = 0; G < i.length; G++)
                if (H.indexOf(i[G]._z) != -1)
                    e.push(i[G]);
            if (e.length == 0)
                delete Y.add.lnk2
        }
        var a = Y.add.FEid;
        if (a) {
            var Z = Y.add.FEid = [];
            for (var G = 0; G < a.length; G++)
                if (I.indexOf(a[G].id) != -1)
                    Z.push(a[G]);
            if (Z.length == 0)
                delete Y.add.FEid
        }
        var O = Y.add.Patt;
        if (O) {
            var c = Y.add.Patt = [];
            for (var G = 0; G < O.length; G++)
                if (E.indexOf(O[G].id) != -1)
                    c.push(O[G])
        }
        Y.aR.r1005 = new Uint8Array([0, 0, 0, 0, 0, 1, 0, 2, 0, 0, 0, 0, 0, 1, 0, 2]);
        k.$D(Y.aR.r1005, 0, Y.PW);
        k.$D(Y.aR.r1005, 8, Y.PW);
        if (Y.ns()) {
            Y.aR.r1022 = new Uint8Array([0, 3 + Y.h3.length - 1, 0])
        } else
            delete Y.aR.r1022;
        Y.aR.r1026 = new Uint8Array(Y.t.length * 2);
        for (var G = 0; G < Y.t.length; G++)
            k.gp(Y.aR.r1026, G * 2, Y.t[G].BN);
        var s = Y.E9
            , x = s[0].length + s[1].length
            , u = Y.aR.r1032 = t.m(16 + 5 * x, !0);
        k._6(u, 0, 1);
        k._6(u, 4, 576);
        k._6(u, 8, 576);
        k._6(u, 12, x);
        for (var G = 0; G < 2; G++)
            for (var C = 0; C < s[G].length; C++) {
                k.Mp(u, y, Math.round(s[G][C] * 32));
                u[y + 4] = G;
                y += 5
            }
        var j = t.eM(Y.buffer)
            , v = [];
        if (j)
            v.push({
                name: "Transparency",
                oA: {
                    h: 255,
                    l: 0,
                    O: 0
                },
                Sr: 100,
                I7: 1
            });
        v = v.concat(Y.h3);
        delete Y.aR.r1045;
        delete Y.aR.r1006;
        delete Y.aR.r1077;
        var X = new i6;
        y = 0;
        var N = new Uint8Array(4 + v.length * 13);
        N[3] = 1;
        for (var G = 0; G < v.length; G++) {
            var V = v[G]
                , $ = V.name + "\0";
            k.Xt(X, y, $);
            y += 4 + $.length * 2;
            var w = 4 + G * 13;
            eg.mW(N, w, V.oA);
            N[w + 11] = V.Sr;
            N[w + 12] = V.I7
        }
        Y.aR.r1045 = X.data.slice(0, y);
        Y.aR.r1077 = N;
        for (var G = 0; G < Y.r1.length; G++)
            Y.r1[Y.r1.length - G - 1].v.sliceID.v = 2 + G * 3;
        var m = {
            classID: "null",
            baseName: {
                t: "TEXT",
                v: "User"
            },
            bounds: {
                t: "Objc",
                v: {
                    classID: "Rct1",
                    Top: {
                        t: "long",
                        v: 0
                    },
                    Left: {
                        t: "long",
                        v: 0
                    },
                    Btom: {
                        t: "long",
                        v: 0
                    },
                    Rght: {
                        t: "long",
                        v: 0
                    }
                }
            },
            slices: {
                t: "VlLs",
                v: Y.r1
            }
        }
            , X = new i6;
        k.Qx(X, 0, 8);
        k.Qx(X, 4, 16);
        var l = cq.sG(X, m, 8);
        Y.aR.r1050 = X.data.slice(0, l + 8);
        var X = new i6;
        k.Qx(X, 0, 16);
        var l = cq.sG(X, Y.bL, 4);
        Y.aR.r1065 = X.data.slice(0, l + 4);
        var b = Y.C;
        u = Y.aR.r1069 = t.m(2 + b.length * 4, !0);
        k.gp(u, 0, b.length);
        for (var G = 0; G < b.length; G++)
            k._6(u, 2 + 4 * G, Y.t[b[G]].add.lyid);
        delete Y.aR.r1058;
        delete Y.aR.r1060;
        if (Object.keys(Y.wH).length != 0) {
            var K = [{
                t274: [1],
                t282: [[72, 1]],
                t283: [[72, 1]],
                t296: [2]
            }, {
                t259: [6],
                t282: [[72, 1]],
                t283: [[72, 1]],
                t296: [2],
                t513: [302],
                t514: [0]
            }];
            dc.ay(Y.wH, K[0], h[0] && h[1]);
            Y.aR.r1058 = new Uint8Array(UTIF.encode(K));
            var J = dc.H$(Y.wH);
            Y.aR.r1060 = k.gN(J)
        }
        var R = []
            , r = [];
        for (var G = 0; G < Y._b.length; G++) {
            var f = Y._b[G]
                , aa = f.add.vmsk.b;
            if (G == 0 && aa.length == 2)
                continue;
            var aA = t.m(aa.length * 26);
            e$.oV(aA, 0, aa, Y.d, Y.v);
            var e5 = G == 0 ? 1025 : 2e3 + G - 1;
            Y.aR["r" + e5] = aA;
            if (G != 0) {
                R.push({
                    t: "Objc",
                    v: {
                        classID: "pathInfoClass",
                        pathUnicodeName: {
                            t: "TEXT",
                            v: f.name
                        }
                    }
                });
                r.push({
                    t: "Objc",
                    v: {
                        classID: "null",
                        keyDescriptorList: {
                            t: "VlLs",
                            v: f.add.vogk
                        }
                    }
                })
            }
        }
        if (R.length != 0) {
            Y.add.pths = {
                classID: "pathsDataClass",
                pathList: {
                    t: "VlLs",
                    v: R
                }
            };
            r = {
                classID: "null",
                keyRootDescriptorList: {
                    t: "VlLs",
                    v: r
                }
            };
            var X = new i6;
            k.Qx(X, 0, 16);
            var l = cq.sG(X, r, 4);
            Y.aR.r3000 = X.data.slice(0, l + 4)
        } else {
            delete Y.add.pths;
            delete Y.aR.r3000
        }
        fk = fV.agX(Y, S, fk, 3 + v.length);
        fk = fV.aaT(Y, S, fk);
        fk = fV.acd(Y, S, fk);
        fk = fV.aaY(Y, S, fk, h, j);
        fk = fV.a6P(Y, S, fk, h[0], j);
        var o = [1025, 2e3, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016];
        for (var G = 0; G < o.length; G++)
            delete Y.aR["r" + o[G]];
        for (var G = 0; G < Y.t.length; G++) {
            var B = Y.t[G];
            if (B.uy() || h[2] && B.add.SoLd) {
                B.rect = d[G][0];
                B.buffer = d[G][1]
            }
        }
        if (i)
            Y.add.lnk2 = i;
        if (a)
            Y.add.FEid = a;
        if (O)
            Y.add.Patt = O;
        cU.yr.bU(Y, !0);
        return fk
    }
        ;
    fV.si = function (Y, S, h) {
        var q = k.Fe(S, h, 4);
        h += 4;
        if (q != "8BPS")
            alert("invalid header signature: " + q);
        var H = k.PX(S, h);
        h += 2;
        Y.X4 = H == 2;
        if (H != 1 && H != 2)
            alert("invalid version: " + H);
        h += 6;
        Y.bD = k.PX(S, h);
        h += 2;
        Y.v = k.Ii(S, h);
        h += 4;
        Y.d = k.Ii(S, h);
        h += 4;
        Y.$V = k.PX(S, h);
        h += 2;
        Y.PJ = k.PX(S, h);
        h += 2;
        return h
    }
        ;
    fV.agX = function (Y, S, h, q) {
        S.$r(0, 64);
        k.St(S.data, h, "8BPS");
        h += 4;
        k.gp(S.data, h, 1);
        h += 2;
        k._6(S.data, h, 0);
        h += 4;
        k.gp(S.data, h, 0);
        h += 2;
        k.gp(S.data, h, q);
        h += 2;
        k.Mp(S.data, h, Y.v);
        h += 4;
        k.Mp(S.data, h, Y.d);
        h += 4;
        k.gp(S.data, h, 8);
        h += 2;
        k.gp(S.data, h, 3);
        h += 2;
        return h
    }
        ;
    fV.a5W = function (Y, S, h) {
        var q = k.Ii(S, h);
        h += 4;
        if (q != 0)
            Y.i1 = S.slice(h, h + q);
        h += q;
        return h
    }
        ;
    fV.aaT = function (Y, S, h) {
        k.jT(S, h, 0);
        h += 4;
        return h
    }
        ;
    fV.acM = function (Y, S, h) {
        var q = k.n(S, h)
            , H = 0;
        h += 4;
        var I = [];
        while (H < q) {
            var E = k.Fe(S, h + H, 4);
            H += 4;
            var d = k.PX(S, h + H);
            H += 2;
            var B = k.Ci(S, h + H);
            H += B.length;
            if (E != "8BIM") {
                I.push(d);
                console.log("Unknown Image Resources signature: " + E + ", ID: " + d)
            }
            var n = k.n(S, h + H);
            H += 4;
            if (Y.aR["r" + d] != null)
                console.log("--- two resources with same ID");
            Y.aR["r" + d] = k.wK(S, h + H, n);
            H += n + (n & 1)
        }
        for (var G = 0; G < I.length; G++)
            delete Y.aR["r" + I[G]];
        return h + q
    }
        ;
    fV.acd = function (Y, S, h) {
        var q = h
            , E = 0;
        h += 4;
        var H = [];
        for (var I in Y.aR) {
            H.push(parseInt(I.slice(1)))
        }
        H.sort(function (z, p) {
            return z - p
        });
        for (var G = 0; G < H.length; G++) {
            k.pR(S, h + E, "8BIM");
            E += 4;
            var d = H[G];
            k.GE(S, h + E, d);
            E += 2;
            var B = k.JZ(S, h + E, "");
            E += B;
            var n = Y.aR["r" + d]
                , g = n.length;
            k.Qx(S, h + E, g);
            E += 4;
            k.E6(S, h + E, n);
            E += g;
            if (g % 2 == 1)
                E++
        }
        k.Qx(S, q, E);
        return h + E
    }
        ;
    fV.aaJ = function (Y, S, h) {
        var q = h, H, I = Y.X4 ? 8 : 4;
        if (Y.X4)
            H = k.Sx(S, h);
        else
            H = k.n(S, h);
        h += I;
        if (H == 0)
            return q + I;
        h = fV.ai0(Y, S, h);
        h = fV.akA(Y, S, h);
        h = f4.s1(S, h, q + I + H, Y.add, Y.X4, Y);
        return q + I + H
    }
        ;
    fV.aaY = function (Y, S, h, q, H) {
        var I = h;
        k.Qx(S, h, 0);
        h += 4;
        h = fV.a3$(Y, S, h, q, H);
        h = fV.ad1(Y, S, h);
        h = f4.nL(S, h, Y.add, Y);
        k.Qx(S, I, h - I - 4);
        return h
    }
        ;
    fV.ai0 = function (Y, S, h) {
        var q, H = Y.X4 ? 8 : 4;
        if (Y.X4)
            q = k.Sx(S, h);
        else
            q = k.n(S, h);
        h += H;
        if (q != 0)
            fV.y9(Y, S, h);
        return h + q
    }
        ;
    fV.y9 = function (Y, S, h) {
        var q = k.AV(S, h);
        h += 2;
        var H = Math.abs(q);
        for (var G = 0; G < H; G++) {
            var I = new M;
            h = eR.z7(I, Y, S, h);
            Y.t[G] = I
        }
        var E = new W(0, 0, Y.d, Y.v);
        for (var G = 0; G < H; G++) {
            var d = Y.t[G]
                , B = d.Qn();
            h = cW.z7(d, Y, S, h);
            fV.MC(d, E);
            if (B)
                fV.MC(B, E)
        }
    }
        ;
    fV.MC = function (Y, S) {
        var h = Y.rect.e()
            , q = Y.rect.lF(S)
            , H = q.e() / h;
        if (h > 2e3 * 3e3 && H < .5) {
            if (Y.buffer) {
                var I = t.m(q.e() * 4);
                t.rd(Y.buffer, Y.rect, I, q);
                Y.buffer = I;
                Y.rect = q
            } else {
                var I = t.m(q.e());
                t.m7(Y.channel, Y.rect, I, q);
                Y.channel = I;
                Y.rect = q
            }
            alert("Removing hidden parts of layers")
        }
    }
        ;
    fV.a3$ = function (Y, S, h, q, H) {
        var I = h;
        k.Qx(S, h, 0);
        h += 4;
        var E = Y.t.length;
        k.GE(S, h, H ? -E : E);
        h += 2;
        var d = [];
        for (var G = 0; G < E; G++)
            h = eR.zN(Y.t[G], Y, S, h, d);
        for (var G = 0; G < E; G++)
            h = cW.nq(Y.t[G], S, h, d[G], q);
        var B = h - I - 4;
        if (B % 2 != 0)
            B++;
        k.Qx(S, I, B);
        return I + B + 4
    }
        ;
    fV.akA = function (Y, S, h) {
        var q = k.n(S, h);
        h += 4;
        h += q;
        return h
    }
        ;
    fV.ad1 = function (Y, S, h) {
        var q = k.Qx(S, h, 0);
        h += 4;
        return h
    }
        ;
    fV.aaZ = function (Y, S, h) {
        var q = Y.PJ, H = "Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "), I = [1, 1, 1, 3, 4, 1, 1, 3], E, A;
        if (q != 3) {
            if (q == 1 || q == 2 || q == 4)
                alert("Project will be converted from " + H[q] + " to " + H[3] + " mode.");
            else {
                alert("Color mode " + H[q] + " is not supported yet :(")
            }
        }
        if (Y.aR.r1045) {
            E = [];
            var d = Y.aR.r1045
                , B = 0;
            while (B < d.length) {
                var n = k.CQ(d, B);
                E.push(n);
                B += 4 + 2 + n.length * 2
            }
        }
        var g = I[q] + (E == null || E[0] == "Transparency" ? 1 : 0)
            , z = Y.d
            , p = Y.v
            , C = z * p
            , T = k.PX(S, h);
        h += 2;
        Y.buffer = t.m(C * 4);
        t.A5(Y.buffer, 4278190080);
        var i = h;
        for (var e = 0; e < Y.bD; e++) {
            if (T == 0) {
                A = cW.rc(Y.X4, Y.$V, S, z, p, h, T);
                h += C * (Y.$V >>> 3)
            } else if (T == 1) {
                A = t.m(C);
                var a = Y.X4 ? 4 : 2;
                if (e == 0)
                    h += Y.bD * p * a;
                h += cW.m9(S, A, z, p, i + e * p * a, h, a)
            } else {
                console.log("unknown compression of image data: ", T);
                return
            }
            if (e < g) {
                t.Vj(A, Y.buffer, e);
                if (Y.bD == 1 && e == 0) {
                    t.Vj(A, Y.buffer, 1);
                    t.Vj(A, Y.buffer, 2)
                }
            } else {
                var Z = new M.WB
                    , O = e - g
                    , c = e - I[Y.PJ];
                Z.name = E ? E[c] : "Alpha";
                if (Z.name == "Quick Mask") {
                    Z.Qb = !0;
                    Y.AN.push(O)
                }
                Z.rect = new W(0, 0, z, p);
                Z.channel = A;
                Z.color = 0;
                Z.Mq();
                Y.h3[O] = Z;
                if (Y.aR.r1077) {
                    var d = Y.aR.r1077.slice(4 + c * 13);
                    Z.oA = eg.v_(d, 0);
                    Z.Sr = d[11];
                    Z.I7 = d[12];
                    if (Z.I7 == 2)
                        Z.Qb = !0
                }
            }
        }
        Y.bD = 4;
        if (Y.PJ == 2)
            for (var G = 0; G < C; G++) {
                var s = G * 4
                    , x = Y.buffer[s];
                Y.buffer[s] = Y.i1[0 + x];
                Y.buffer[s + 1] = Y.i1[256 + x];
                Y.buffer[s + 2] = Y.i1[512 + x]
            }
        return h
    }
        ;
    fV.a6P = function (Y, S, h, q, H) {
        var I = 1, E = 16, d = Y.d, B = Y.v, g, z;
        k.GE(S, h, I);
        h += 2;
        var n = d * B;
        if (!q) {
            z = new t.ho(d * B);
            t.vK(Y.buffer, z);
            var p = z.h
                , C = z.l
                , T = z.O
                , A = z.R;
            for (var G = 0; G < n; G++) {
                var i = A[G] * (1 / 255);
                p[G] = ~~(p[G] * i + 255 * (1 - i));
                C[G] = ~~(C[G] * i + 255 * (1 - i));
                T[G] = ~~(T[G] * i + 255 * (1 - i))
            }
        } else
            g = t.m(n);
        var e = [g, g, g];
        if (!q)
            e = [z.h, z.l, z.O];
        if (H)
            e.push(q ? g : z.R);
        for (var G = 0; G < Y.h3.length; G++) {
            e.push(Y.h3[G].Ga(new W(0, 0, Y.d, Y.v)))
        }
        var a = h;
        for (var Z = 0; Z < e.length; Z++) {
            S.$r(h, d * B + 4);
            g = e[Z];
            if (I == 0 || I == 2 || I == 3)
                h = cW.cn(g, S.data, d, B, h, I);
            else {
                if (Z == 0)
                    h += e.length * B * 2;
                var O = h;
                h += cW.xA(g, S.data, d, B, a + Z * B * 2, h)
            }
        }
        return h
    }
        ;
    function h1() { }
    h1.z7 = function (Y) {
        var S = {};
        h1.qt(Y, S, 0, 0);
        return S
    }
        ;
    h1.zN = function (Y, S) {
        var h = 0;
        h = h1.MT(Y, S, h, 0);
        return h
    }
        ;
    h1.qt = function (Y, S, h, q) {
        while (Y[h] != "<".charCodeAt(0))
            h++;
        h += 2;
        while (!0) {
            if (Y[h] == "/".charCodeAt(0)) {
                h++;
                var H = k.indexOf(Y, " ".charCodeAt(0), h, h + 50)
                    , I = k.indexOf(Y, "\n".charCodeAt(0), h, h + 50);
                if (I == -1)
                    I = Infinity;
                if (H == -1)
                    H = Infinity;
                var E = Math.min(I, H)
                    , d = k.Fe(Y, h, E - h)
                    , B = h1.ag(Y, E + 1, q + 1, d);
                S[d] = B.G;
                h = E + 1;
                h += B.size
            } else if (Y[h] == ">".charCodeAt(0)) {
                h += 2;
                break
            } else {
                var n = Y[h];
                if (n == 10 || n == 9 || n == 32)
                    h++;
                else {
                    console.log("unknown byte: " + n + ", char: " + String.fromCharCode(n), h);
                    h++
                }
            }
        }
        return h
    }
        ;
    h1.MT = function (Y, S, h, q) {
        k.pR(S, h, "<<\n");
        h += 3;
        var H = h1.adE;
        for (var I in Y) {
            k.x_(S, h, "\t".charCodeAt(0), q + 1);
            h += q + 1;
            k.pR(S, h, "/" + I);
            h += 1 + I.length;
            if (H(Y[I]) || Y[I] instanceof Array) {
                k.pR(S, h, " ");
                h++
            } else {
                k.pR(S, h, "\n");
                h++;
                k.x_(S, h, "\t".charCodeAt(0), q + 1);
                h += q + 1
            }
            h = h1.Xj(Y[I], S, h, q + 1);
            k.pR(S, h, "\n");
            h++
        }
        k.x_(S, h, "\t".charCodeAt(0), q);
        h += q;
        k.pR(S, h, ">>");
        h += 2;
        return h
    }
        ;
    h1.ag = function (Y, S, h, q) {
        var H = S
            , I = {
                size: 0,
                G: 0
            };
        while (!0) {
            while (Y[S] == " ".charCodeAt(0) || Y[S] == "\t".charCodeAt(0) || Y[S] == "\n".charCodeAt(0))
                S++;
            if (Y[S] == "<".charCodeAt(0)) {
                I.G = {};
                S = h1.qt(Y, I.G, S, h + 1);
                break
            } else if (Y[S] == "(".charCodeAt(0)) {
                S += 3;
                var E = S;
                while (!0) {
                    if (Y[E - 1] != "\\".charCodeAt(0) && Y[E] == ")".charCodeAt(0) && (Y[E + 1] == "\n".charCodeAt(0) || Y[E + 1] == " ".charCodeAt(0)))
                        break;
                    else
                        E++
                }
                I.G = k.N$(Y, S, E);
                S = E + 2;
                break
            } else if (Y[S] == "[".charCodeAt(0)) {
                S++;
                I.G = [];
                while (Y[S] == " ".charCodeAt(0) || Y[S] == "\t".charCodeAt(0) || Y[S] == "\n".charCodeAt(0))
                    S++;
                while (Y[S] != "]".charCodeAt(0)) {
                    var d = h1.ag(Y, S, h + 1, q);
                    I.G.push(d.G);
                    S += d.size;
                    while (Y[S] == " ".charCodeAt(0) || Y[S] == "\t".charCodeAt(0) || Y[S] == "\n".charCodeAt(0))
                        S++
                }
                S++;
                break
            } else {
                var B = k.indexOf(Y, " ".charCodeAt(0), S, S + 50)
                    , n = k.indexOf(Y, "\n".charCodeAt(0), S, S + 50);
                if (n == -1)
                    n = Infinity;
                if (B == -1)
                    B = Infinity;
                var g = k.Fe(Y, S, Math.min(B, n) - S).trim()
                    , z = parseFloat(g);
                if (!isNaN(z)) {
                    I.G = parseFloat(g);
                    S = Math.min(B, n) + 1;
                    break
                } else if (g == "true" || g == "false") {
                    I.G = g == "true";
                    S = Math.min(B, n) + 1;
                    break
                } else if (g == "null" || g == "NaN" || g == "undefined") {
                    I.G = 0;
                    S = Math.min(B, n) + 1;
                    break
                } else {
                    console.log("unknown identifier: " + g);
                    throw "e"
                }
                S = Math.min(B, n) + 1
            }
        }
        I.size = S - H;
        return I
    }
        ;
    h1.Xj = function (Y, S, h, q) {
        if (Y instanceof Array) {
            var H = Y.length == 0 || typeof Y[0] == "number";
            if (H) {
                k.pR(S, h, "[ ");
                h += 2;
                for (var G = 0; G < Y.length; G++) {
                    var I = Y[G] + " ";
                    k.pR(S, h, I);
                    h += I.length
                }
                k.pR(S, h, "]");
                h += 1
            } else {
                k.pR(S, h, "[\n");
                h += 2;
                for (var G = 0; G < Y.length; G++) {
                    k.x_(S, h, "\t".charCodeAt(0), q);
                    h += q;
                    h = h1.Xj(Y[G], S, h, q);
                    k.pR(S, h, "\n");
                    h++
                }
                k.x_(S, h, "\t".charCodeAt(0), q);
                h += q;
                k.pR(S, h, "]");
                h += 1
            }
        } else if (Y instanceof Object) {
            h = h1.MT(Y, S, h, q)
        } else if (typeof Y == "string") {
            k.pR(S, h, "(");
            h++;
            k.x_(S, h, 254);
            h++;
            k.x_(S, h, 255);
            h++;
            h = k.rV(S, h, Y);
            k.pR(S, h, ")");
            h += 1
        } else {
            var I = Y + "";
            k.pR(S, h, I);
            h += I.length
        }
        return h
    }
        ;
    h1.adE = function (Y) {
        var S = typeof Y;
        return S == "string" || S == "number" || S == "boolean"
    }
        ;
    function iI() { }
    iI.z7 = function (Y) {
        var S = {};
        iI.Au(Y, S, 0, 0);
        return S
    }
        ;
    iI.zN = function (Y, S) {
        var h = 0;
        k.pR(S, h, " ");
        h++;
        h = iI.HC(Y, S, h, 0);
        h--;
        S.$r(h, 2);
        S.data[h] = S.data[h + 1] = 0;
        h += 2;
        return h
    }
        ;
    iI.qt = function (Y, S, h, q) {
        while (Y[h] != "<".charCodeAt(0)) {
            h++;
            console.log("\u0161ipka")
        }
        h += 2;
        h = iI.Au(Y, S, h, q);
        return h
    }
        ;
    iI.MT = function (Y, S, h, q) {
        k.pR(S, h, "<< ");
        h += 3;
        h = iI.HC(Y, S, h, q);
        k.pR(S, h, ">>");
        h += 2;
        return h
    }
        ;
    iI.ej = function (Y) {
        return Y == 9 || Y == 10 || Y == 32
    }
        ;
    iI.Au = function (Y, S, h, q) {
        while (!0) {
            while (iI.ej(Y[h]) || Y[h] == 0)
                h++;
            if (h >= Y.length)
                break;
            if (Y[h] == "/".charCodeAt(0)) {
                h++;
                var H = h;
                while (!iI.ej(Y[H]))
                    H++;
                var I = k.Fe(Y, h, H - h);
                h = H + 1;
                var E = iI.ag(Y, h, q, I);
                S["_" + I] = E.G;
                h += E.size
            } else if (Y[h] == ">".charCodeAt(0)) {
                h += 2;
                break
            } else {
                var d = Y[h];
                console.log(k.Fe(Y, h, h + 100));
                console.log("unknown byte: " + d + ", char: " + String.fromCharCode(d) + ", offset: " + h);
                h++;
                throw "e";
                return -1
            }
        }
        return h
    }
        ;
    iI.HC = function (Y, S, h, q) {
        for (var H in Y) {
            var I = H.substring(1, H.length);
            k.pR(S, h, "/" + I);
            h += 1 + I.length;
            k.pR(S, h, " ");
            h++;
            h = iI.Xj(Y[H], S, h, q + 1);
            k.pR(S, h, " ");
            h++
        }
        return h
    }
        ;
    iI.ag = function (Y, S, h, q) {
        var H = S
            , I = {
                type: "",
                size: 0,
                G: 0
            };
        while (iI.ej(Y[S]))
            S++;
        if (Y[S] == "<".charCodeAt(0)) {
            I.type = "Object";
            I.G = {};
            S = iI.qt(Y, I.G, S, h + 1)
        } else if (Y[S] == "(".charCodeAt(0)) {
            I.type = "String";
            S++;
            if (Y[S] == ")".charCodeAt(0)) {
                I.G = "s";
                S++
            } else {
                S += 2;
                var E = S
                    , cs = 0;
                while (!0) {
                    if (Y[E] == ")".charCodeAt(0) && Y[E - 1] != "\\".charCodeAt(0))
                        break;
                    else
                        E += 1
                }
                I.G = "s" + k.N$(Y, S, E);
                S = E + 2
            }
        } else if (Y[S] == "[".charCodeAt(0)) {
            S++;
            I.G = [];
            I.type = "Array";
            while (iI.ej(Y[S]))
                S++;
            while (Y[S] != "]".charCodeAt(0)) {
                var d = iI.ag(Y, S, h + 1, q);
                if (d == -1)
                    return -1;
                I.G.push(d.G);
                S += d.size;
                delete d.size;
                while (iI.ej(Y[S]))
                    S++
            }
            S++
        } else {
            var B = S;
            while (!iI.ej(Y[B]))
                B++;
            var n = k.Fe(Y, S, B - S)
                , g = parseFloat(n);
            if (!isNaN(g) && n.indexOf(".") != -1) {
                I.type = "Float";
                var z = parseFloat(n);
                I.G = "f" + z
            } else if (!isNaN(g) && n.indexOf(".") == -1) {
                I.type = "Integer";
                I.G = "i" + parseInt(n)
            } else if (n == "true" || n == "false") {
                I.type = "Boolean";
                I.G = n == "true"
            } else if (n.charAt(0) == "/") {
                I.type = "BString";
                I.G = n
            } else if (n == "NaN") {
                I.type = "Float";
                I.G = "f0"
            } else {
                console.log("unknown value", JSON.stringify(n));
                throw "e"
            }
            S = B + 1
        }
        I.size = S - H;
        return I
    }
        ;
    iI.amB = function (Y) {
        if (Y == Math.round(Y))
            return Y + ".0";
        var S = Y.toFixed(5);
        if (0 < Y && Y < 1)
            S = S.substring(1, S.length);
        if (-1 < Y && Y < 0)
            S = "-" + S.substring(2, S.length);
        return S
    }
        ;
    iI.Xj = function (Y, S, h, q) {
        var H = typeof Y == "string" ? Y.charAt(0) : "";
        if (Y instanceof Array) {
            k.pR(S, h, "[ ");
            h += 2;
            for (var G = 0; G < Y.length; G++) {
                h = iI.Xj(Y[G], S, h, q);
                k.pR(S, h, " ");
                h++
            }
            k.pR(S, h, "]");
            h += 1
        } else if (Y instanceof Object) {
            h = iI.MT(Y, S, h, q)
        } else if (H == "s") {
            k.pR(S, h, "(");
            h++;
            k.x_(S, h, 254);
            h++;
            k.x_(S, h, 255);
            h++;
            h = k.rV(S, h, Y.substring(1));
            k.pR(S, h, ")");
            h++
        } else if (H == "/") {
            k.pR(S, h, Y);
            h += Y.length
        } else if (H == "f") {
            var I = parseFloat(Y.substring(1))
                , E = iI.amB(I);
            k.pR(S, h, E);
            h += E.length
        } else if (H == "i") {
            k.pR(S, h, Y.substring(1));
            h += Y.length - 1
        } else {
            var E = Y + "";
            k.pR(S, h, E);
            h += E.length
        }
        return h
    }
        ;
    function aV(Y, S) {
        if (!Y)
            Y = 0;
        if (!S)
            S = 0;
        this.x = Y;
        this.y = S
    }
    aV.prototype.add = function (Y) {
        return new aV(this.x + Y.x, this.y + Y.y)
    }
        ;
    aV.prototype.clone = function () {
        return new aV(this.x, this.y)
    }
        ;
    aV.prototype.jX = function (Y) {
        this.x = Y.x;
        this.y = Y.y
    }
        ;
    aV.prototype.ma = function (Y) {
        return this.x == Y.x && this.y == Y.y
    }
        ;
    aV.prototype.normalize = function (Y) {
        var S = Math.sqrt(this.x * this.x + this.y * this.y);
        this.x *= Y / S;
        this.y *= Y / S
    }
        ;
    aV.prototype.offset = function (Y, S) {
        this.x += Y;
        this.y += S
    }
        ;
    aV.prototype.bm = function (Y, S) {
        this.x = Y;
        this.y = S
    }
        ;
    aV.prototype.KB = function (Y) {
        return new aV(this.x - Y.x, this.y - Y.y)
    }
        ;
    aV.kr = function (Y, S) {
        return aV.agz(Y.x, Y.y, S.x, S.y)
    }
        ;
    aV.AZ = function (Y, S, h) {
        return new aV(Y.x + h * (S.x - Y.x), Y.y + h * (S.y - Y.y))
    }
        ;
    aV.aah = function (Y, S) {
        return new aV(Y * Math.cos(S), Y * Math.sin(S))
    }
        ;
    aV.agz = function (Y, S, h, q) {
        return Math.sqrt((h - Y) * (h - Y) + (q - S) * (q - S))
    }
        ;
    aV.DV = {};
    aV.xY = {};
    aV.DV.create = function () {
        var Y = new Float32Array(4);
        return Y
    }
        ;
    aV.xY.create = function (Y) {
        var S = new Float32Array(16);
        S[0] = S[5] = S[10] = S[15] = 1;
        if (Y)
            aV.xY.set(Y, S);
        return S
    }
        ;
    aV.DV.add = function (Y, S, h) {
        h[0] = Y[0] + S[0];
        h[1] = Y[1] + S[1];
        h[2] = Y[2] + S[2];
        h[3] = Y[3] + S[3]
    }
        ;
    aV.DV.set = function (Y, S) {
        S[0] = Y[0];
        S[1] = Y[1];
        S[2] = Y[2];
        S[3] = Y[3]
    }
        ;
    aV.xY.set = function (Y, S) {
        S[0] = Y[0];
        S[1] = Y[1];
        S[2] = Y[2];
        S[3] = Y[3];
        S[4] = Y[4];
        S[5] = Y[5];
        S[6] = Y[6];
        S[7] = Y[7];
        S[8] = Y[8];
        S[9] = Y[9];
        S[10] = Y[10];
        S[11] = Y[11];
        S[12] = Y[12];
        S[13] = Y[13];
        S[14] = Y[14];
        S[15] = Y[15]
    }
        ;
    aV.xY.multiply = function (Y, S, h) {
        var q = Y[0]
            , H = Y[1]
            , I = Y[2]
            , E = Y[3]
            , d = Y[4]
            , B = Y[5]
            , n = Y[6]
            , g = Y[7]
            , z = Y[8]
            , p = Y[9]
            , C = Y[10]
            , T = Y[11]
            , A = Y[12]
            , i = Y[13]
            , e = Y[14]
            , a = Y[15]
            , Z = S[0]
            , O = S[1]
            , c = S[2]
            , s = S[3];
        h[0] = Z * q + O * d + c * z + s * A;
        h[1] = Z * H + O * B + c * p + s * i;
        h[2] = Z * I + O * n + c * C + s * e;
        h[3] = Z * E + O * g + c * T + s * a;
        Z = S[4];
        O = S[5];
        c = S[6];
        s = S[7];
        h[4] = Z * q + O * d + c * z + s * A;
        h[5] = Z * H + O * B + c * p + s * i;
        h[6] = Z * I + O * n + c * C + s * e;
        h[7] = Z * E + O * g + c * T + s * a;
        Z = S[8];
        O = S[9];
        c = S[10];
        s = S[11];
        h[8] = Z * q + O * d + c * z + s * A;
        h[9] = Z * H + O * B + c * p + s * i;
        h[10] = Z * I + O * n + c * C + s * e;
        h[11] = Z * E + O * g + c * T + s * a;
        Z = S[12];
        O = S[13];
        c = S[14];
        s = S[15];
        h[12] = Z * q + O * d + c * z + s * A;
        h[13] = Z * H + O * B + c * p + s * i;
        h[14] = Z * I + O * n + c * C + s * e;
        h[15] = Z * E + O * g + c * T + s * a;
        return h
    }
        ;
    aV.xY.inverse = function (Y, S) {
        var h = Y[0]
            , q = Y[1]
            , H = Y[2]
            , I = Y[3]
            , E = Y[4]
            , d = Y[5]
            , B = Y[6]
            , n = Y[7]
            , g = Y[8]
            , z = Y[9]
            , p = Y[10]
            , C = Y[11]
            , T = Y[12]
            , A = Y[13]
            , i = Y[14]
            , e = Y[15]
            , a = h * d - q * E
            , Z = h * B - H * E
            , O = h * n - I * E
            , c = q * B - H * d
            , s = q * n - I * d
            , x = H * n - I * B
            , u = g * A - z * T
            , y = g * i - p * T
            , j = g * e - C * T
            , v = z * i - p * A
            , X = z * e - C * A
            , N = p * e - C * i
            , V = a * N - Z * X + O * v + c * j - s * y + x * u;
        if (!V) {
            return null
        }
        V = 1 / V;
        S[0] = (d * N - B * X + n * v) * V;
        S[1] = (H * X - q * N - I * v) * V;
        S[2] = (A * x - i * s + e * c) * V;
        S[3] = (p * s - z * x - C * c) * V;
        S[4] = (B * j - E * N - n * y) * V;
        S[5] = (h * N - H * j + I * y) * V;
        S[6] = (i * O - T * x - e * Z) * V;
        S[7] = (g * x - p * O + C * Z) * V;
        S[8] = (E * X - d * j + n * u) * V;
        S[9] = (q * j - h * X - I * u) * V;
        S[10] = (T * s - A * O + e * a) * V;
        S[11] = (z * O - g * s - C * a) * V;
        S[12] = (d * y - E * v - B * u) * V;
        S[13] = (h * v - q * y + H * u) * V;
        S[14] = (A * Z - T * c - i * a) * V;
        S[15] = (g * c - z * Z + p * a) * V;
        return S
    }
        ;
    aV.xY.akd = function (Y, S, h) {
        var q = S[0]
            , H = S[1];
        h[0] = q * Y[0] + H * Y[4] + Y[12];
        h[1] = q * Y[1] + H * Y[5] + Y[13]
    }
        ;
    aV.xY.a3G = function (Y, S, h) {
        var q = S[0]
            , H = S[1]
            , I = S[2]
            , E = S[3];
        h[0] = Y[0] * q + Y[4] * H + Y[8] * I + Y[12] * E;
        h[1] = Y[1] * q + Y[5] * H + Y[9] * I + Y[13] * E;
        h[2] = Y[2] * q + Y[6] * H + Y[10] * I + Y[14] * E;
        h[3] = Y[3] * q + Y[7] * H + Y[11] * I + Y[15] * E
    }
        ;
    function d5(Y, S, h, q, H, I) {
        if (typeof Y === "undefined") {
            Y = 1;
            S = 0;
            h = 0;
            q = 1;
            H = 0;
            I = 0
        }
        this.R = Y;
        this.O = S;
        this.Pb = h;
        this.RH = q;
        this.TR = H;
        this.Un = I
    }
    d5.prototype.Fu = function () {
        return Math.sqrt(Math.abs(this.R * this.RH - this.O * this.Pb))
    }
        ;
    d5.prototype.pS = function () {
        var Y = this
            , S = function (h) {
                return Math.abs(h) < 1e-9 ? 0 : h
            };
        Y.R = S(Y.R);
        Y.O = S(Y.O);
        Y.Pb = S(Y.Pb);
        Y.RH = S(Y.RH);
        Y.TR = S(Y.TR);
        Y.Un = S(Y.Un)
    }
        ;
    d5.prototype.I_ = function (Y) {
        return new aV(Y.x * this.R + Y.y * this.Pb + this.TR, Y.x * this.O + Y.y * this.RH + this.Un)
    }
        ;
    d5.prototype.translate = function (Y, S) {
        this.TR += Y;
        this.Un += S
    }
        ;
    d5.prototype.rotate = function (Y) {
        var S = new d5(Math.cos(Y), -Math.sin(Y), Math.sin(Y), Math.cos(Y), 0, 0);
        this.concat(S)
    }
        ;
    d5.prototype.scale = function (Y, S) {
        var h = new d5(Y, 0, 0, S, 0, 0);
        this.concat(h)
    }
        ;
    d5.prototype.concat = function (Y) {
        this.jX(new d5(this.R * Y.R + this.O * Y.Pb, this.R * Y.O + this.O * Y.RH, this.Pb * Y.R + this.RH * Y.Pb, this.Pb * Y.O + this.RH * Y.RH, this.TR * Y.R + this.Un * Y.Pb + Y.TR, this.TR * Y.O + this.Un * Y.RH + Y.Un))
    }
        ;
    d5.prototype.fb = function () {
        var Y = this.R * this.RH - this.O * this.Pb;
        this.jX(new d5(this.RH / Y, -this.O / Y, -this.Pb / Y, this.R / Y, (this.Pb * this.Un - this.RH * this.TR) / Y, (this.O * this.TR - this.R * this.Un) / Y))
    }
        ;
    d5.prototype.clone = function () {
        return new d5(this.R, this.O, this.Pb, this.RH, this.TR, this.Un)
    }
        ;
    d5.prototype.jX = function (Y) {
        this.R = Y.R;
        this.O = Y.O;
        this.Pb = Y.Pb;
        this.RH = Y.RH;
        this.TR = Y.TR;
        this.Un = Y.Un
    }
        ;
    function k() { }
    k.a3s = function (D) {
        var Y = "";
        for (var G = 3; G >= 0; G--)
            Y += String.fromCharCode(D >> G * 8 & 255);
        return Y
    }
        ;
    k.a8N = function (Y) {
        var D = 0;
        for (var G = Y.length - 1; G >= 0; G--)
            D |= Y.charCodeAt(G) << (3 - G) * 8;
        return D
    }
        ;
    k.indexOf = function (Y, S, h, q) {
        if (h == null)
            h = 0;
        if (q == null)
            q = Y.length;
        q = Math.min(q, Y.length);
        for (var G = h; G < q; G++)
            if (Y[G] == S)
                return G;
        return -1
    }
        ;
    k.Qq = function (Y, S, h) {
        if (h == null)
            h = 0;
        if (typeof S == "string") {
            var q = [];
            for (var G = 0; G < S.length; G++)
                q.push(S.charCodeAt(G));
            S = q
        }
        for (var G = h; G < Y.length; G++) {
            var H = !0;
            for (var I = 0; I < S.length; I++)
                if (S[I] != Y[G + I]) {
                    H = !1;
                    break
                }
            if (H)
                return G
        }
        return -1
    }
        ;
    k.N$ = function (Y, S, h) {
        var q = []
            , I = "";
        while (S < h) {
            var H = Y[S++];
            if (H == "\\".charCodeAt(0))
                q.push(Y[S++]);
            else
                q.push(H)
        }
        for (var G = 0; G < q.length; G += 2)
            I += String.fromCharCode(q[G] << 8 | q[G + 1]);
        return I
    }
        ;
    k.ahi = function (Y, S, h) {
        var q = new Uint8Array(2);
        for (var G = 0; G < h.length; G++) {
            k.gp(q, 0, h.charCodeAt(G));
            if (q[0] == ")".charCodeAt(0) || q[0] == "(".charCodeAt(0) || q[0] == "\\".charCodeAt(0)) {
                Y[S] = "\\".charCodeAt(0);
                S++
            }
            Y[S] = q[0];
            S++;
            if (q[1] == ")".charCodeAt(0) || q[1] == "(".charCodeAt(0) || q[1] == "\\".charCodeAt(0)) {
                Y[S] = "\\".charCodeAt(0);
                S++
            }
            Y[S] = q[1];
            S++
        }
        return S
    }
        ;
    k.rV = function (Y, S, h) {
        Y.$r(S, 4 * h.length);
        return k.ahi(Y.data, S, h)
    }
        ;
    k.RN = function (Y, S, h) {
        var q = "";
        for (var G = 0; G < h; G++) {
            var H = Y[S++] | Y[S++] << 8;
            q += String.fromCharCode(H)
        }
        return q
    }
        ;
    k._$ = function (Y, S, h) {
        var q = "";
        for (var G = 0; G < h; G++) {
            var H = Y[S++] << 8 | Y[S++];
            q += String.fromCharCode(H)
        }
        return q
    }
        ;
    k.a0X = function (Y, S, h) {
        for (var G = 0; G < h.length; G++) {
            var q = h.charCodeAt(G);
            k.Na(Y, S + 2 * G, q)
        }
    }
        ;
    k.S2 = function (Y, S, h) {
        for (var G = 0; G < h.length; G++) {
            var q = h.charCodeAt(G);
            k.gp(Y, S + 2 * G, q)
        }
    }
        ;
    k.ahQ = function (Y, S, h) {
        Y.$r(S, 2 * h.length);
        k.S2(Y.data, S, h)
    }
        ;
    k.aj3 = function (Y, G, S) {
        var h = []
            , q = 0
            , H = 0;
        S += G;
        while (G < S) {
            q = Y[G++];
            if ((q & 128) == 0)
                H = q;
            else if ((q & 224) == 192) {
                H = (q & 31) << 6;
                q = Y[G++];
                H |= q & 63
            } else if ((q & 240) == 224) {
                H = (q & 15) << 12;
                q = Y[G++];
                H |= (q & 63) << 6;
                q = Y[G++];
                H |= q & 63
            } else if ((q & 248) == 240) {
                H = (q & 7) << 18;
                q = Y[G++];
                H |= (q & 63) << 12;
                q = Y[G++];
                H |= (q & 63) << 6;
                q = Y[G++];
                H |= q & 63
            } else
                throw "e";
            h.push(H)
        }
        return h
    }
        ;
    k.Re = window.TextDecoder ? new window.TextDecoder("utf8") : null;
    k.Dt = function (Y, S, h) {
        if (S == null)
            S = 0;
        if (h == null)
            h = Y.length;
        if (k.Re && S == 0 && h == Y.length)
            return k.Re.decode(Y);
        var q = k.aj3(Y, S, h)
            , H = q.length;
        for (var G = 0; G < H; G++)
            q[G] = String.fromCharCode(q[G]);
        return q.join("")
    }
        ;
    k.TS = window.TextEncoder ? new window.TextEncoder("utf8") : null;
    k.gN = function (Y) {
        if (k.TS)
            return k.TS.encode(Y);
        var S = new Uint8Array(Y.length * 4)
            , h = k.U9(Y, S, 0);
        return S.slice(0, h)
    }
        ;
    k.U9 = function (Y, S, h) {
        var q = Y.length
            , G = 0;
        for (var H = 0; H < q; H++) {
            var I = Y.charCodeAt(H);
            if ((I & 4294967295 - (1 << 7) + 1) == 0) {
                S[h + G] = I;
                G++
            } else if ((I & 4294967295 - (1 << 11) + 1) == 0) {
                S[h + G] = 192 | I >> 6;
                S[h + G + 1] = 128 | I >> 0 & 63;
                G += 2
            } else if ((I & 4294967295 - (1 << 16) + 1) == 0) {
                S[h + G] = 224 | I >> 12;
                S[h + G + 1] = 128 | I >> 6 & 63;
                S[h + G + 2] = 128 | I >> 0 & 63;
                G += 3
            } else if ((I & 4294967295 - (1 << 21) + 1) == 0) {
                S[h + G] = 240 | I >> 18;
                S[h + G + 1] = 128 | I >> 12 & 63;
                S[h + G + 2] = 128 | I >> 6 & 63;
                S[h + G + 3] = 128 | I >> 0 & 63;
                G += 4
            } else
                throw "e"
        }
        return G
    }
        ;
    k.UP = function (Y, S) {
        var h = k.n(Y, S)
            , q = k.Dt(Y, S + 4, h - 1);
        return {
            D1: q,
            _I: 4 + h
        }
    }
        ;
    k.adX = function (Y, S) {
        var h = k.iV(Y, S)
            , q = k.RN(Y, S + 4, h);
        return q
    }
        ;
    k.Nr = function (Y, S) {
        var h = k.n(Y, S)
            , q = k._$(Y, S + 4, h);
        return q
    }
        ;
    k.CQ = function (Y, S) {
        var h = k.n(Y, S)
            , q = k._$(Y, S + 4, h - 1);
        return q
    }
        ;
    k.abT = function (Y, S, h) {
        k.C_(Y, S, h.length);
        S += 4;
        k.a0X(Y, S, h)
    }
        ;
    k.a5Y = function (Y, S, h) {
        k._6(Y, S, h.length);
        S += 4;
        k.S2(Y, S, h)
    }
        ;
    k.Xt = function (Y, S, h) {
        Y.$r(S, 4 + 2 * h.length);
        k.a5Y(Y.data, S, h)
    }
        ;
    k.afA = function (Y, S, h) {
        Y.$r(S, 4 + 2 * h.length);
        k.abT(Y.data, S, h)
    }
        ;
    k.f3 = function (Y, S, h) {
        var q = [];
        for (var G = 0; G < h; G++)
            q.push(String.fromCharCode(Y[S + G]));
        return q
    }
        ;
    k.af4 = function (Y, S, h) {
        var q = !1
            , H = Y.length - h.length;
        for (var G = S; G < H; G++) {
            for (var I = 0; I < h.length; I++) {
                if (Y[G + I] != h.charCodeAt(I))
                    break;
                if (I == h.length - 1)
                    return G
            }
        }
    }
        ;
    k.Fe = function (Y, S, h) {
        var q = "";
        for (var G = 0; G < h; G++)
            q += String.fromCharCode(Y[S + G]);
        return q
    }
        ;
    k.St = function (Y, S, h) {
        for (var G = 0; G < h.length; G++)
            Y[S + G] = h.charCodeAt(G)
    }
        ;
    k.pR = function (Y, S, h) {
        Y.$r(S, h.length);
        k.St(Y.data, S, h)
    }
        ;
    k.ac1 = function (Y, S, h) {
        var q = "";
        for (var G = 0; G < h; G++) {
            var H = Y[S + G];
            if (H < 10)
                q += "  ";
            else if (H < 100)
                q += " ";
            q += H + ", "
        }
        return q
    }
        ;
    k.PX = function (Y, S) {
        return Y[S] << 8 | Y[S + 1]
    }
        ;
    k.gp = function (Y, S, D) {
        Y[S] = D >> 8 & 255;
        Y[S + 1] = D & 255
    }
        ;
    k.GE = function (Y, S, D) {
        Y.$r(S, 4);
        k.gp(Y.data, S, D)
    }
        ;
    k.ajw = function (Y, S) {
        var h = k.PX(Y, S)
            , q = k.PX(Y, S + 2);
        return h + q * (1 / 65536)
    }
        ;
    k.$D = function (Y, S, D) {
        var h = Math.floor(D)
            , q = Math.floor((D - h) * 65536);
        k.gp(Y, S, h);
        k.gp(Y, S + 2, q)
    }
        ;
    k.Gz = function (Y, S) {
        return Y[S + 1] << 8 | Y[S]
    }
        ;
    k.Na = function (Y, S, D) {
        Y[S + 1] = D >> 8 & 255;
        Y[S] = D & 255
    }
        ;
    k._u = function (Y, S, D) {
        Y.$r(S, 4);
        k.Na(Y.data, S, D)
    }
        ;
    k.AV = function (Y, S) {
        k.RY[0] = Y[S + 1];
        k.RY[1] = Y[S];
        return k.RE[0]
    }
        ;
    k.YP = function (Y, S) {
        k.RY[0] = Y[S];
        k.RY[1] = Y[S + 1];
        return k.RE[0]
    }
        ;
    k.EX = k.gp;
    k.So = k.GE;
    k.Ii = function (Y, S) {
        k.oO[0] = Y[S + 3];
        k.oO[1] = Y[S + 2];
        k.oO[2] = Y[S + 1];
        k.oO[3] = Y[S];
        return k.lz[0]
    }
        ;
    k.Mp = function (Y, S, D) {
        k.lz[0] = D;
        Y[S + 3] = k.oO[0];
        Y[S + 2] = k.oO[1];
        Y[S + 1] = k.oO[2];
        Y[S + 0] = k.oO[3]
    }
        ;
    k.jT = function (Y, S, D) {
        Y.$r(S, 4);
        k.Mp(Y.data, S, D)
    }
        ;
    k.CS = function (Y, S, h, q) {
        h[q + 0] = Y[S + 0];
        h[q + 1] = Y[S + 1];
        h[q + 2] = Y[S + 2];
        h[q + 3] = Y[S + 3]
    }
        ;
    k.iV = function (Y, S) {
        k.CS(Y, S, k.oO, 0);
        return k.j$[0]
    }
        ;
    k.C_ = function (Y, S, D) {
        k.j$[0] = D;
        k.CS(k.oO, 0, Y, S)
    }
        ;
    k.X9 = function (Y, S, D) {
        Y.$r(S, 4);
        k.C_(Y.data, S, D)
    }
        ;
    k.ka = function (Y, S) {
        k.CS(Y, S, k.oO, 0);
        return k.lz[0]
    }
        ;
    k.abW = function (Y, S, D) {
        k.lz[0] = D;
        k.CS(k.oO, 0, Y, S)
    }
        ;
    k.a54 = function (Y, S, D) {
        Y.$r(S, 4);
        k.abW(Y.data, S, D)
    }
        ;
    k.n = function (Y, S) {
        var h = Y[S] * (256 * 256 * 256) + (Y[S + 1] << 16 | Y[S + 2] << 8 | Y[S + 3]);
        return h
    }
        ;
    k._6 = function (Y, S, D) {
        Y[S] = D >> 24 & 255;
        Y[S + 1] = D >> 16 & 255;
        Y[S + 2] = D >> 8 & 255;
        Y[S + 3] = D >> 0 & 255
    }
        ;
    k.Qx = function (Y, S, D) {
        Y.$r(S, 4);
        k._6(Y.data, S, D)
    }
        ;
    k.Sx = function (Y, S) {
        return k.n(Y, S) << 32 | k.n(Y, S + 4)
    }
        ;
    k.alo = function (Y, S, D) {
        k._6(Y, S, D >> 16 >> 16);
        k._6(Y, S + 4, D & 4294967295)
    }
        ;
    k.an = function (Y, S, D) {
        Y.$r(S, 8);
        k.alo(Y.data, S, D)
    }
        ;
    k._3 = function (Y, S) {
        var h = new Uint8Array(8);
        for (var G = 0; G < 8; G++)
            h[G] = Y[S + 7 - G];
        var q = new Float64Array(h.buffer);
        return q[0]
    }
        ;
    k.a0p = function (Y, S) {
        var h = new Uint8Array(8);
        for (var G = 0; G < 8; G++)
            h[G] = Y[S + G];
        var q = new Float64Array(h.buffer);
        return q[0]
    }
        ;
    k.I0 = function (Y, S, D) {
        var h = new Float64Array(1);
        h[0] = D;
        var q = new Uint8Array(h.buffer);
        for (var G = 0; G < 4; G++) {
            var H = q[G];
            q[G] = q[7 - G];
            q[7 - G] = H
        }
        for (var G = 0; G < 8; G++)
            Y[S + G] = q[G]
    }
        ;
    k.Ip = function (Y, S, D) {
        Y.$r(S, 8);
        k.I0(Y.data, S, D)
    }
        ;
    k.k7 = function (Y, S) {
        k.oO[0] = Y[S + 3];
        k.oO[1] = Y[S + 2];
        k.oO[2] = Y[S + 1];
        k.oO[3] = Y[S + 0];
        return k.HN[0]
    }
        ;
    k.Hp = function (Y, S) {
        k.oO[0] = Y[S + 0];
        k.oO[1] = Y[S + 1];
        k.oO[2] = Y[S + 2];
        k.oO[3] = Y[S + 3];
        return k.HN[0]
    }
        ;
    k.iJ = function (Y, S, D) {
        k.HN[0] = D;
        Y[S + 0] = k.oO[3];
        Y[S + 1] = k.oO[2];
        Y[S + 2] = k.oO[1];
        Y[S + 3] = k.oO[0]
    }
        ;
    k.a0B = function (Y, S, D) {
        Y.$r(S, 4);
        k.iJ(Y.data, S, D)
    }
        ;
    k.N0 = function (Y, S, D) {
        k.HN[0] = D;
        Y[S + 0] = k.oO[0];
        Y[S + 1] = k.oO[1];
        Y[S + 2] = k.oO[2];
        Y[S + 3] = k.oO[3]
    }
        ;
    k.a8x = function (Y, S, D) {
        Y.$r(S, 4);
        k.N0(Y.data, S, D)
    }
        ;
    k.ale = function (Y, S) {
        var h = k.Ii(Y, S)
            , q = h * (1 / (1 << 24));
        return q
    }
        ;
    k.wr = function (Y, S, h) {
        var q = Math.floor(h * (1 << 24));
        k.Mp(Y, S, q)
    }
        ;
    k.a5Q = function (Y, S, h) {
        Y.$r(S, 4);
        k.wr(Y.data, S, h)
    }
        ;
    k.Ci = function (Y, S) {
        var h = Y[S]
            , q = k.Fe(Y, S + 1, h);
        h += 1 - h % 2;
        return {
            V7: q,
            length: h + 1
        }
    }
        ;
    k.ala = function (Y, S, h) {
        var q = h.length;
        Y[S] = q;
        k.St(Y, S + 1, h);
        if (q % 2 == 0) {
            Y[S + 1 + q] = 0;
            ++q
        }
        return q + 1
    }
        ;
    k.JZ = function (Y, S, h) {
        Y.$r(S, h.length + 2);
        return k.ala(Y.data, S, h)
    }
        ;
    k.uh = function (Y, S) {
        var h = new d5;
        h.R = k._3(Y, S + 0 * 8);
        h.O = k._3(Y, S + 1 * 8);
        h.Pb = k._3(Y, S + 2 * 8);
        h.RH = k._3(Y, S + 3 * 8);
        h.TR = k._3(Y, S + 4 * 8);
        h.Un = k._3(Y, S + 5 * 8);
        return h
    }
        ;
    k.Ow = function (Y, S, h) {
        k.I0(Y, S + 0 * 8, h.R);
        k.I0(Y, S + 1 * 8, h.O);
        k.I0(Y, S + 2 * 8, h.Pb);
        k.I0(Y, S + 3 * 8, h.RH);
        k.I0(Y, S + 4 * 8, h.TR);
        k.I0(Y, S + 5 * 8, h.Un)
    }
        ;
    k.a6O = function (Y, S, h) {
        Y.$r(S, 48);
        k.Ow(Y.data, S, h)
    }
        ;
    k.abU = function (Y, S) {
        var h = k.k7(Y, S)
            , q = k.k7(Y, S + 4)
            , H = k.k7(Y, S + 8)
            , I = k.k7(Y, S + 12);
        return new W(h, q, H - h, I - q)
    }
        ;
    k.a1s = function (Y, S, h) {
        k.iJ(Y, S, h.x);
        k.iJ(Y, S + 4, h.y);
        k.iJ(Y, S + 8, h.x + h.d);
        k.iJ(Y, S + 12, h.y + h.v)
    }
        ;
    k.anY = function (Y, S, h) {
        Y.$r(S, 16);
        k.a1s(Y.data, S, h)
    }
        ;
    k.yZ = function (Y, S) {
        var h = k.Ii(Y, S)
            , q = k.Ii(Y, S + 4)
            , H = k.Ii(Y, S + 8)
            , I = k.Ii(Y, S + 12);
        return new W(q, h, I - q, H - h)
    }
        ;
    k.CI = function (Y, S, h) {
        k.Mp(Y, S, h.y);
        k.Mp(Y, S + 4, h.x);
        k.Mp(Y, S + 8, h.y + h.v);
        k.Mp(Y, S + 12, h.x + h.d)
    }
        ;
    k.T2 = function (Y, S, h) {
        Y.$r(S, 16);
        k.CI(Y.data, S, h)
    }
        ;
    k.wK = function (Y, S, h) {
        var q = new Uint8Array(h);
        for (var G = 0; G < h; G++)
            q[G] = Y[S + G];
        return q
    }
        ;
    k.Wa = function (Y, S, h) {
        Y.set(h, S)
    }
        ;
    k.E6 = function (Y, S, h) {
        Y.$r(S, h.length);
        k.Wa(Y.data, S, h)
    }
        ;
    k.abY = function (Y, S, h, D) {
        if (!D)
            D = 1;
        for (var G = 0; G < D; G++)
            Y[S + G] = h
    }
        ;
    k.x_ = function (Y, S, h, D) {
        if (!D)
            D = 1;
        Y.$r(S, D);
        k.abY(Y.data, S, h, D)
    }
        ;
    k.RE = new Int16Array(1);
    k.RY = new Uint8Array(k.RE.buffer);
    k.lz = new Int32Array(1);
    k.j$ = new Uint32Array(k.lz.buffer);
    k.oO = new Uint8Array(k.lz.buffer);
    k.HN = new Float32Array(k.lz.buffer);
    function W(Y, S, h, q) {
        if (!Y)
            Y = 0;
        if (!S)
            S = 0;
        if (!h)
            h = 0;
        if (!q)
            q = 0;
        this.x = Y;
        this.y = S;
        this.d = h;
        this.v = q
    }
    W.prototype.e = function () {
        return this.d * this.v
    }
        ;
    W.prototype.clone = function () {
        return new W(this.x, this.y, this.d, this.v)
    }
        ;
    W.prototype.contains = function (Y, S) {
        return Y >= this.x && Y <= this.x + this.d && (S >= this.y && S <= this.y + this.v)
    }
        ;
    W.prototype.uU = function (Y) {
        return this.contains(Y.x, Y.y)
    }
        ;
    W.prototype.HS = function (Y) {
        return this.x <= Y.x && this.y <= Y.y && Y.x + Y.d <= this.x + this.d && Y.y + Y.v <= this.y + this.v
    }
        ;
    W.prototype.jX = function (Y) {
        this.x = Y.x;
        this.y = Y.y;
        this.d = Y.d;
        this.v = Y.v
    }
        ;
    W.prototype.ma = function (Y) {
        return this.x == Y.x && this.y == Y.y && this.d == Y.d && this.v == Y.v
    }
        ;
    W.prototype.vo = function (Y, S) {
        this.x -= Y;
        this.y -= S;
        this.d += 2 * Y;
        this.v += 2 * S
    }
        ;
    W.prototype.a6v = function (Y) {
        this.vo(Y.x, Y.y)
    }
        ;
    W.prototype.lF = function (Y) {
        var S = Math.max(this.x, Y.x)
            , h = Math.max(this.y, Y.y)
            , q = Math.min(this.x + this.d, Y.x + Y.d)
            , H = Math.min(this.y + this.v, Y.y + Y.v);
        if (q < S || H < h)
            return new W;
        else
            return new W(S, h, q - S, H - h)
    }
        ;
    W.prototype.CO = function (Y) {
        if (Y.y + Y.v < this.y || Y.x > this.x + this.d || Y.y > this.y + this.v || Y.x + Y.d < this.x)
            return !1;
        return !0
    }
        ;
    W.prototype.fa = function () {
        return this.d <= 0 || this.v <= 0
    }
        ;
    W.prototype.offset = function (Y, S) {
        this.x += Y;
        this.y += S
    }
        ;
    W.prototype.JC = function (Y) {
        this.offset(Y.x, Y.y)
    }
        ;
    W.prototype.anw = function () {
        this.x = this.y = this.d = this.v = 0
    }
        ;
    W.prototype.bm = function (Y, S, h, q) {
        this.x = Y;
        this.y = S;
        this.d = h;
        this.v = q
    }
        ;
    W.prototype.TG = function (Y) {
        if (this.fa())
            return Y.clone();
        if (Y.fa())
            return this.clone();
        var S = this.clone();
        S.a5V(Y);
        return S
    }
        ;
    W.zL = new Float32Array(2);
    W.prototype.a5V = function (Y) {
        if (Y.fa())
            return;
        if (this.fa()) {
            this.jX(Y);
            return
        }
        this.t0(Y.x, Y.y);
        this.t0(Y.x + Y.d, Y.y + Y.v)
    }
        ;
    W.prototype.t0 = function (Y, S) {
        var h = Math.min(this.x, Y)
            , q = Math.min(this.y, S);
        this.d = Math.max(this.x + this.d, Y) - h;
        this.v = Math.max(this.y + this.v, S) - q;
        this.x = h;
        this.y = q
    }
        ;
    W.prototype.a8p = function (Y, S, h, q) {
        if (this.d == 0 && this.v == 0)
            this.a7K(Y, S);
        else
            this.t0(Y, S);
        this.t0(h, q)
    }
        ;
    W.prototype.a7K = function (Y, S) {
        this.x = Y;
        this.y = S;
        this.d = this.v = 0
    }
        ;
    function bB() { }
    bB.z7 = function (Y, S) {
        var h = new Uint8Array(Y)
            , q = 0
            , H = k.Fe(h, q, 9)
            , d = 4
            , B = 100;
        q += 9;
        var I = k.Fe(h, q, 4);
        q += 4;
        q++;
        S.d = k.n(h, q);
        q += 4;
        S.v = k.n(h, q);
        q += 4;
        var E = k.n(h, q);
        q += 4;
        if (E != 0)
            alert("Unsupported image format, not RGB!");
        if (["file", "v001", "v002", "v003"].indexOf(I) == -1) {
            B = k.n(h, q);
            q += 4;
            if (parseInt(I.slice(1)) >= 7) {
                B = B
            } else
                alert("Unknown XCF version: " + I);
            d = 8
        }
        var n = {};
        q = bB.LZ(h, q, n);
        var g = [];
        q = bB.vB(h, q, g, d);
        var z = [];
        q = bB.vB(h, q, z, d);
        S.Fb = 0;
        for (var G = 0; G < g.length; G++)
            bB.alx(h, g[G], S, n, d, B);
        while (S.Fb > 0) {
            S.t.push(S.Ue());
            S.Fb--
        }
        S.t.reverse();
        delete S.Fb;
        S.buffer = t.m(S.d * S.v * 4);
        if (S.t.length == 0)
            console.log("No layers!!!");
        for (var G = 0; G < z.length; G++) {
            var p = bB.L_(h, z[G], n, d, B);
            if (p.J6[aU.ak_])
                S.N = {
                    channel: p.OQ,
                    rect: new W(0, 0, S.d, S.v)
                }
        }
    }
        ;
    bB.alx = function (Y, S, h, q, H, I) {
        var E = h.rY()
            , d = k.n(Y, S)
            , z = 0;
        S += 4;
        var B = k.n(Y, S);
        S += 4;
        E.rect = new W(0, 0, d, B);
        var n = k.n(Y, S);
        S += 4;
        var g = k.UP(Y, S);
        S += g._I;
        E.wN(g.D1);
        var p = {};
        S = bB.LZ(Y, S, p);
        if (p[aU.cL]) {
            var C = p[aU.cL];
            z = C.length / 4 - 1
        }
        if (p[aU.nl]) {
            E.rect.x = k.Ii(p[aU.nl], 0);
            E.rect.y = k.Ii(p[aU.nl], 4)
        }
        if (p[aU.fM]) {
            E.opacity = k.n(p[aU.fM], 0)
        }
        if (p[aU.agQ]) {
            E.add.lsct = hg.fC;
            E.rect = new W(0, 0, 0, 0);
            E.buffer = t.m(0);
            E.xa = 24
        }
        if (p[aU.mZ]) {
            var T = k.n(p[aU.mZ], 0);
            E.XC = aU.ahx[T];
            if (E.i4() && E.XC == "norm")
                E.XC = "pass"
        }
        if (p[aU.Vy]) {
            if (k.n(p[aU.Vy], 0) == 0)
                E.xa += 2
        }
        if (p[aU.lq]) {
            var A = k.n(p[aU.lq], 0);
            E.add.lsct = A & 1 == 1 ? hg.fC : hg.N4
        }
        if (p[aU.vp]) {
            var i = p[aU.vp];
            for (var e in i) {
                var a = i[e];
                if (e == "gimp-text-layer") {
                    var Z = bB.aoi(a)
                        , O = Z.text
                        , c = Z.font
                        , s = Z.color
                        , x = Z["font-size"];
                    if (O == null && Z.markup) {
                        var u = new DOMParser
                            , y = u.parseFromString(Z.markup, "image/svg+xml");
                        while (y.firstChild != null && y.firstChild.tagName != null) {
                            y = y.firstChild;
                            var j = y.getAttribute("font")
                                , v = y.getAttribute("foreground")
                                , X = y.getAttribute("size");
                            if (j != null)
                                c = j;
                            if (v != null) {
                                v = CSS.v_(v);
                                s = [1, v.h / 255, v.l / 255, v.O / 255]
                            }
                            if (X != null) {
                                x = "" + parseFloat(X) / 245
                            }
                        }
                        O = y.textContent
                    }
                    E.add.lnsr = "rend";
                    debugger
                    E.add.TySh = ap.Hr(0, 0);
                    E.add.TySh.tI = new W(0, 0, 100, 100);
                    E.add.TySh.J = new d5(1, 0, 0, 1, E.rect.x, E.rect.y);
                    var N = E.add.TySh.lV;
                    ap.LB(N, 0, O);
                    var V = ap.Rm(N, 0, 0)
                        , $ = Z.justify
                        , w = Z["line-spacing"];
                    if (s)
                        V.cD.FillColor = {
                            Type: 1,
                            Values: [1, parseFloat(s[1]), parseFloat(s[2]), parseFloat(s[3])]
                        };
                    if (x) {
                        x = Math.round(parseFloat(x));
                        V.cD.FontSize = x;
                        E.add.TySh.J.Un += Math.min(17, x * .17)
                    }
                    if (w) {
                        w = Math.round(parseFloat(w) + V.cD.FontSize * 1.2);
                        V.cD.Leading = w;
                        V.cD.AutoLeading = !1
                    }
                    if ($)
                        V.vY.Justification = ["left", "right", "center", "fill"].indexOf($);
                    if (c && c != "Sans-serif") {
                        var m = c.toLowerCase()
                            , l = "bold italic semi extra regular condensed light".split(" ")
                            , b = m.length;
                        for (var G = 0; G < l.length; G++) {
                            var K = m.indexOf(l[G]);
                            if (K != -1 && K < b && m[K - 1] == " ")
                                b = K
                        }
                        if (b != m.length)
                            c = c.slice(0, b - 1).split(" ").join("") + "-" + c.slice(b).split(" ").join("");
                        ap.UB(V, c)
                    }
                    ap.aN(N, 0, O.length, V);
                    var J = Z["box-width"]
                        , R = Z["box-height"]
                        , r = J ? parseFloat(J) : E.rect.d
                        , f = R ? parseFloat(R) : E.rect.v;
                    ap.sI(N, 1);
                    ap.h6(N, [0, 0, Math.ceil(r), Math.ceil(f)])
                } else
                    console.log("Unknown property " + e)
            }
        }
        while (h.Fb > z) {
            h.t.push(h.Ue());
            h.Fb--
        }
        h.Fb = z;
        if (E.add.lsct == hg.fC || E.add.lsct == hg.N4)
            h.Fb++;
        var aa = H == 4 ? k.n : k.Sx;
        if (E.Ac()) {
            E.buffer = t.m(E.rect.e() * 4);
            var aA = new t.ho(E.rect.e())
                , e5 = aa(Y, S);
            S += H;
            var fk = aa(Y, S);
            S += H;
            bB.zz(Y, e5, aA, q, H, I);
            t.in(aA, E.buffer);
            if (fk != 0) {
                E.r = new M.WB;
                E.r.color = 0;
                E.r.rect = E.rect.clone();
                E.r.channel = bB.L_(Y, fk, q, H, I).OQ;
                if (p[aU.R2])
                    E.r.isEnabled = k.n(p[aU.R2], 0) == 1
            }
        }
        h.t.push(E)
    }
        ;
    bB.aoi = function (Y) {
        var S = "(" + k.Dt(Y, 0, Y.length - 1) + ")"
            , h = []
            , q = {};
        bB.lJ(S, 1, h);
        bB.aba(h, q);
        return q
    }
        ;
    bB.aba = function (Y, S) {
        for (var G = 0; G < Y.length; G++) {
            var h = Y[G]
                , q = h[0];
            if (h.length == 2)
                S[q] = h[1];
            else
                S[q] = h.slice(1)
        }
    }
        ;
    bB.lJ = function (Y, S, h) {
        while (!0) {
            if (S >= Y.length)
                throw "e";
            var q = Y.charAt(S);
            S++;
            if (q == "(") {
                var H = [];
                S = bB.lJ(Y, S, H);
                h.push(H)
            } else if (q == " " || q == "\n" || q == "\r") { } else if (q == ")")
                return S;
            else if (q == "\"") {
                var I = S;
                while (!0) {
                    var E = Y[S];
                    S++;
                    if (E == "\"")
                        break;
                    if (E == "\\")
                        S++
                }
                h.push(JSON.parse(Y.slice(I - 1, S)))
            } else {
                var I = S - 1;
                while (Y[S] != " " && Y[S] != ")")
                    S++;
                h.push(Y.slice(I, S))
            }
        }
    }
        ;
    bB.L_ = function (Y, S, h, q, H) {
        var I = k.n(Y, S);
        S += 4;
        var E = k.n(Y, S);
        S += 4;
        var d = k.UP(Y, S);
        S += d._I;
        var B = {};
        S = bB.LZ(Y, S, B);
        var n = new t.ho(I * E)
            , g = q == 4 ? k.n : k.Sx
            , z = g(Y, S);
        S += q;
        bB.zz(Y, z, n, h, q, H);
        return {
            OQ: n.h,
            J6: B
        }
    }
        ;
    bB.zz = function (Y, S, h, q, H, I) {
        var E = k.n(Y, S);
        S += 4;
        var d = k.n(Y, S);
        S += 4;
        var B = k.n(Y, S);
        S += 4;
        var n = H == 4 ? k.n : k.Sx
            , g = n(Y, S);
        S += H;
        bB.abd(Y, g, h, q, B, H, I)
    }
        ;
    bB.abd = function (Y, S, h, q, H, I, E) {
        var d = k.n(Y, S)
            , g = 0
            , G = 0;
        S += 4;
        var B = k.n(Y, S);
        S += 4;
        var n = new W(0, 0, d, B);
        if (E == 100 || E == 150)
            g = 1;
        else if (E == 200 || E == 250)
            g = 2;
        else if (E == 300 || E == 350)
            g = 4;
        else if (E == 500 || E == 550)
            g = 2;
        else if (E == 600 || E == 650)
            g = 4;
        else if (E == 700 || E == 750)
            g = 8;
        else {
            alert("unsupported bit depth " + E);
            throw "e"
        }
        var z = H / g
            , g = Math.round(H / z)
            , p = [];
        S = bB.vB(Y, S, p, I);
        var C = new t.ho(64 * 64 * g)
            , T = new W
            , A = q[aU.acF][0]
            , i = [C.h, C.l, C.O, C.R];
        if (z == 3)
            C.R.fill(255);
        var e = Date.now();
        for (var a = 0; a < B; a += 64)
            for (var Z = 0; Z < d; Z += 64) {
                var O = Math.min(d - Z, 64)
                    , c = Math.min(B - a, 64)
                    , s = O * c;
                T.bm(Z, a, O, c);
                bB.a8V(Y, p[G++], s * g, A, z, i);
                if (E == 100 || E == 150) { } else if (E == 250) {
                    for (var x = 0; x < z; x++) {
                        var u = i[x];
                        for (var y = 0; y < s; y++) {
                            var j = u[y] << 8 | u[s + y];
                            u[y] = Math.min(j >>> 8, 255)
                        }
                    }
                } else if (E == 600) {
                    var v = bB.alY()
                        , X = new Uint32Array(1)
                        , N = new Float32Array(X.buffer);
                    for (var x = 0; x < z; x++) {
                        var u = i[x];
                        for (var y = 0; y < s; y++) {
                            X[0] = u[y] << 24 | u[s + y] << 16 | u[(s << 1) + y] << 8 | u[(s << 1) + s + y] << 0;
                            var V = N[0];
                            if (V < 0)
                                V = 0;
                            else if (V > 1)
                                V = 1;
                            u[y] = v[~~(.5 + V * 1e3)]
                        }
                    }
                } else
                    console.log("unknown data format", E);
                t.Jb(C, T, h, n)
            }
    }
        ;
    bB.alY = function () {
        var Y = bB.ack;
        if (Y != null)
            return Y;
        Y = bB.ack = new Uint8Array(1001);
        for (var G = 0; G < 1001; G++)
            Y[G] = ~~(.49 + 255 * t.BX(G * .001));
        return Y
    }
        ;
    bB.a8V = function (Y, S, h, q, H, I) {
        if (q == 1) {
            for (var E = 0; E < H; E++) {
                var d = I[E]
                    , B = 0;
                while (B < h) {
                    var D = Y[S];
                    S++;
                    if (D < 127) {
                        var n = Y[S];
                        S++;
                        D++;
                        for (var G = 0; G < D; G++)
                            d[B + G] = n
                    } else if (D == 127) {
                        var g = Y[S];
                        S++;
                        var z = Y[S];
                        S++;
                        var n = Y[S];
                        S++;
                        D = g << 8 | z;
                        for (var G = 0; G < D; G++)
                            d[B + G] = n
                    } else if (D == 128) {
                        var g = Y[S];
                        S++;
                        var z = Y[S];
                        S++;
                        D = g << 8 | z;
                        for (var G = 0; G < D; G++)
                            d[B + G] = Y[S + G];
                        S += D
                    } else {
                        D = 256 - D;
                        for (var G = 0; G < D; G++)
                            d[B + G] = Y[S + G];
                        S += D
                    }
                    B += D
                }
            }
        } else if (q == 2) {
            var p = pako.inflate(Y.slice(S))
                , C = Math.round(p.length / h);
            for (var G = 0; G < h; G++) {
                var T = G * C;
                I[0][G] = p[T];
                I[1][G] = p[T + 1];
                I[2][G] = p[T + 2];
                I[3][G] = C == 3 ? 255 : p[T + 3]
            }
        } else
            alert("Unknown compression " + q)
    }
        ;
    bB.vB = function (Y, S, h, q) {
        var H = q == 4 ? k.n : k.Sx;
        while (!0) {
            var I = H(Y, S);
            S += q;
            if (I == 0)
                break;
            else
                h.push(I)
        }
        return S
    }
        ;
    bB.LZ = function (Y, S, h) {
        while (!0) {
            var q = k.n(Y, S);
            S += 4;
            var H = k.n(Y, S);
            S += 4;
            if (q == aU.amV)
                break;
            else if (q == aU.vp)
                h[q] = bB.a8E(Y, S, S + H);
            else
                h[q] = k.wK(Y, S, H);
            S += H
        }
        return S
    }
        ;
    bB.a8E = function (Y, S, h) {
        var q = {};
        while (S < h) {
            var H = k.UP(Y, S);
            S += H._I;
            var I = k.n(Y, S);
            S += 4;
            if (I != 1)
                console.log("unknown flags", I);
            var E = k.n(Y, S);
            S += 4;
            q[H.D1] = k.wK(Y, S, E);
            S += E
        }
        return q
    }
        ;
    var aU = {
        amV: 0,
        ajr: 1,
        afQ: 2,
        ajI: 3,
        ak_: 4,
        a3X: 5,
        fM: 6,
        mZ: 7,
        Vy: 8,
        afR: 9,
        aod: 10,
        R2: 11,
        a5H: 12,
        aic: 13,
        ahf: 14,
        nl: 15,
        a3D: 16,
        acF: 17,
        agq: 18,
        ama: 19,
        an0: 20,
        vp: 21,
        agA: 22,
        akG: 23,
        ac2: 24,
        aes: 25,
        a3c: 26,
        agE: 27,
        a4F: 28,
        agQ: 29,
        cL: 30,
        lq: 31,
        ael: 32,
        a0N: 33,
        a62: 34,
        acc: 35,
        alM: 36,
        ai9: 37,
        ah3: 38,
        a9N: 0,
        a53: 1,
        ai3: 2,
        aot: 3,
        a3B: 1,
        abm: 2,
        a3A: 0,
        ade: 1,
        anV: 1
    };
    aU.ahx = "norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
    function f7() { }
    f7.z7 = function (Y, S) {
        var h = f7
            , q = fw.parse(Y)
            , I = 0;
        if (q.pages.length > 1)
            console.log(q.pages.length, "pages");
        var H = []
            , E = new W;
        for (var d = 0; d < q.pages.length; d++) {
            var B = q.pages[d]
                , n = B.layers
                , g = h.Zu(n, d)
                , p = !1;
            if (g.e() > 8e3 * 8e3 || g.d > 3e4 || g.v > 3e4) {
                h.Pn(n, !0);
                var z = h.Zu(n, d);
                if (z.e() >= g.e())
                    h.Pn(n, !1)
            }
            g = h.Zu(n, d);
            for (var C = 0; C < n.length; C++) {
                var T = n[C];
                if (h.sT(T) == "artboard")
                    p = !0
            }
            if (!p) {
                console.log("no artboard");
                var A = {};
                for (var i in B)
                    A[i] = B[i];
                A._class = "group";
                B.layers = [A]
            }
            H.push(g.clone());
            if (g.fa())
                continue;
            g.x = 0;
            g.y = I;
            I += g.v + 200;
            E = E.TG(g)
        }
        var e = {};
        if (q.foreignSymbols)
            for (var G = 0; G < q.foreignSymbols.length; G++) {
                var a = q.foreignSymbols[G].symbolMaster;
                e[a.symbolID] = {
                    YS: a
                }
            }
        h.CR(q.pages, e, S);
        for (var Z in e) {
            var T = e[Z].YS
                , O = h.pL(T.layers)
        }
        var c = f7.R7(E, 8192 * 8192);
        S.Wm = !0;
        S.d = Math.round(E.d / c);
        S.v = Math.round(E.v / c);
        S.buffer = t.m(S.d * S.v * 4);
        S.Eo(q.pages[0].layers.length);
        S.El = {};
        S.bl = [];
        I = 0;
        for (var d = 0; d < q.pages.length; d++) {
            var s = q.pages[d]
                , g = H[d]
                , x = new d5(c, 0, 0, c, g.x, g.y - I);
            h.Nm(s.layers, S, x, q, e, {}, []);
            I += g.v + 200
        }
        delete S.El;
        delete S.bl;
        if (c != 1)
            alert("File scaled down " + c + "x");
        S.ahL()
    }
        ;
    f7.ah9 = 0;
    f7.sT = function (Y) {
        return Y._class ? Y._class : Y.$class
    }
        ;
    f7.R7 = function (Y, S) {
        var h = 1;
        while (Math.round(Y.d / h) * Math.round(Y.v / h) > S || Math.max(Math.round(Y.d / h), Math.round(Y.v / h)) > 3e4)
            h++;
        if (h != 1 && !window.confirm("Your image is quite large (" + Y.d + " x " + Y.v + " px).\n" + "Press OK to scale it down " + h + "x, or Cancel to keep the size."))
            h = 1;
        return h
    }
        ;
    f7.Zu = function (Y, S) {
        var h = []
            , q = f7;
        for (var H = 0; H < Y.length; H++) {
            var I = Y[H]
                , E = q.yZ(I.frame);
            if (S == 0 || q.sT(I) == "artboard")
                h.push(E)
        }
        return t.rect.n_(h)
    }
        ;
    f7.Pn = function (Y, S) {
        var h = []
            , q = f7;
        for (var H = 0; H < Y.length; H++) {
            var I = Y[H]
                , E = q.yZ(I.frame);
            E.d += 150;
            E.v += 150;
            h.push(E)
        }
        var d = t.rect.n_(h);
        t.rect.adq(h, S);
        var B = t.rect.n_(h);
        if (B.e() * 1.5 < d.e() || d.d > 3e4 && B.d <= 3e4 || d.v > 3e4 && B.v <= 3e4) {
            alert("Re-arranging artboards");
            for (var H = 0; H < Y.length; H++) {
                var n = h[H]
                    , I = Y[H]
                    , g = I.frame;
                g.x = n.x;
                g.y = n.y
            }
        }
    }
        ;
    f7.CR = function (Y, S, h) {
        var q = f7;
        for (var H = 0; H < Y.length; H++) {
            var I = Y[H]
                , E = q.sT(I);
            if (["page", "artboard", "group"].indexOf(E) != -1)
                q.CR(I.layers, S, h);
            else if (E == "symbolMaster")
                S[I.symbolID] = {
                    YS: I
                }
        }
    }
        ;
    f7.pL = function (Y) {
        var S = f7;
        for (var h = 0; h < Y.length; h++) {
            var q = Y[h]
                , H = S.sT(q)
                , I = null;
            if (["page", "artboard", "group"].indexOf(H) != -1)
                I = S.pL(q.layers);
            if (H == "symbolMaster" || H == "symbolInstance")
                I = q;
            if (I != null)
                return I
        }
        return null
    }
        ;
    f7.Nm = function (Y, S, h, q, H, I, E) {
        var d = f7
            , B = [];
        for (var n = 0; n < Y.length; n++) {
            var g = Y[n]
                , z = g.frame ? d.yZ(g.frame) : null
                , p = g.style
                , e = ""
                , x = null
                , u = !1;
            if (p == null) {
                console.log("no styles")
            }
            var C = d.AA(g, h)
                , T = d.sT(g)
                , A = T == "shapeGroup" || T == "shapePath" || T == "rectangle" || T == "oval" || T == "triangle" || T == "polygon"
                , i = ["page", "artboard", "group"].indexOf(T) != -1;
            if (T == "shapeGroup") {
                for (var G = 0; G < g.layers.length; G++)
                    if (d.sT(g.layers[G]) == "shapeGroup")
                        i = !0
            }
            var a = g.exportOptions;
            if (a) {
                var Z = a.exportFormats;
                if (Z == null)
                    Z = a.sizes;
                if (T != "artboard" && (Z && Z.length != 0)) {
                    var O = Z[0].scale
                }
            }
            var c = S.rY();
            c.yR(g.isVisible);
            var s = g.name;
            if (!(typeof s == "string"))
                s = T;
            c.wN(e + s.slice(0, 250));
            if (p != null)
                x = d.aaq(q, S, p, z, C, c.getName(), A || T == "artboard" || i);
            if (T == "rectangle" && p && p.fills && p.fills[0]) {
                var y = p.fills[0];
                if (y.fillType == 4 && y.patternFillType > 1 && y.image != null)
                    u = !0
            }
            if (g.shouldBreakMaskChain) {
                while (B.length != 0)
                    d.kv(B.pop(), S)
            }
            if (i) {
                c.add.lsct = g.layerListExpandedType == 2 ? hg.fC : hg.N4;
                c.XC = "pass";
                c.xa = 24;
                c.yR(g.isVisible);
                S.t.push(S.Ue());
                if (T == "artboard") {
                    var j = z.clone()
                        , v = C.Fu();
                    j.x = -Math.floor(C.TR / v);
                    j.y = -Math.floor(C.Un / v);
                    j.d = Math.floor(j.d / v);
                    j.v = Math.floor(j.v / v);
                    c.SV(j);
                    var X = g.backgroundColor
                        , N = X ? {
                            h: 255 * X.red,
                            l: 255 * X.green,
                            O: 255 * X.blue
                        } : {
                                h: 255,
                                l: 255,
                                O: 255
                            };
                    c.add.artb.Clr = {
                        t: "Objc",
                        v: t.W.Da(N)
                    };
                    c.add.artb.artboardBackgroundType = {
                        t: "long",
                        v: 4
                    }
                }
                d.Nm(g.layers, S, C, q, H, I, E)
            } else if (A && !u) {
                debugger
                c.add.vmsk = new M.cJ;
                c.add.vstk = JSON.parse(JSON.stringify(ai.Ig.default));
                c.add.vstk.strokeEnabled.v = !1;
                c.add.vogk = [];
                var V = x != null && x.frameFXMulti.v.length == 1
                    , $ = p ? p.fills : null
                    , w = p ? d.r4(q, $, z, C, c.getName(), S, d.ri(E, g.do_objectID + "_image")) : [];
                if (w.length == 0) {
                    if (V)
                        c.add.vstk.fillEnabled.v = !1;
                    else
                        c.add.iOpa = 0;
                    c.add.SoCo = {
                        classID: "null",
                        Clr: {
                            t: "Objc",
                            v: t.W.Da({
                                h: 0,
                                l: 0,
                                O: 0
                            })
                        }
                    }
                } else {
                    var m = w[0]
                        , l = null
                        , b = null;
                    if (m.type == "SoFi") {
                        l = "SoCo";
                        b = ai.pJ
                    }
                    if (m.type == "GrFl") {
                        l = "GdFl";
                        b = ai.eK
                    }
                    if (m.type == "patternFill") {
                        l = "PtFl";
                        b = ai.PV
                    }
                    if (l != null) {
                        c.add[l] = {
                            classID: "null"
                        };
                        for (var G = 0; G < b.length; G++) {
                            var K = b[G];
                            c.add[l][K] = m.G.v[K]
                        }
                        var J = m.G.v.Opct.v.val;
                        if (V && J == 0)
                            c.add.vstk.fillEnabled.v = !1;
                        else
                            c.add.iOpa = Math.round(255 * J / 100)
                    }
                }
                c.xa |= 16;
                c.add.vmsk.b = d.Kp(g.layers ? g.layers : [g], g.layers ? C : h, c.add.vogk);
                var R = p ? p.blur : null;
                if (R && R.isEnabled && R.type <= 1)
                    c.add.vmsk.Cm = R.radius;
                if (c.add.vmsk.b.length == 2) {
                    console.log("shape with no content:", c.getName())
                }
                if (V) {
                    var r = x.frameFXMulti.v[0].v
                        , f = c.add.vstk
                        , gf = p.borders[0];
                    x.frameFXMulti.v = [];
                    av.jo(r, f);
                    var aa = p.borderOptions
                        , aA = p.miterLimit;
                    if (aa) {
                        var e5 = aa.dashPattern;
                        f.strokeStyleLineCapType.v.strokeStyleLineCapType = ai.Ig.Og[aa.lineCapStyle];
                        f.strokeStyleLineJoinType.v.strokeStyleLineJoinType = ai.Ig.join[aa.lineJoinStyle];
                        if (e5)
                            f.strokeStyleLineDashSet.v = av.wL(e5, 1 / r.Sz.v.val);
                        if (aA != null)
                            f.strokeStyleMiterLimit.v = aA
                    }
                }
                c._A(S)
            } else if (T == "bitmap" || u) {
                var fk = u ? p.fills[0] : null
                    , o = u ? fk.image.bdata : g.image.bdata
                    , eY = S.IC(o, c.getName(), 0, 0);
                eY.xa = c.xa;
                c = eY;
                var R = p ? p.blur : null
                    , du = p ? p.colorControls : null;
                if (R || du) {
                    c.add.SoLd.filterFX = io.JP();
                    S.Af({
                        id: c.add.SoLd.placed.v,
                        rect: new W,
                        buffer: t.m(1),
                        r: new M.WB
                    });
                    var $ = c.add.SoLd.filterFX.v.filterFXList.v;
                    if (R) {
                        var dV = io.gW("GsnB", {});
                        dV.v.enab.v = R.isEnabled;
                        dV.v.Fltr.v.Rds.v.val = R.radius;
                        $.push(dV)
                    }
                    if (du) {
                        var hy = du.brightness
                            , bq = du.contrast
                            , i5 = du.hue
                            , hX = du.saturation;
                        if (i5 != 0 || hX != 1) {
                            var dV = io.gW("hue2", {});
                            dV.v.enab.v = du.isEnabled;
                            c9.SK(dV.v.Fltr.v, 0, [Math.round(i5 * 180 / Math.PI), Math.round((hX - 1) * 100), 0]);
                            $.push(dV)
                        }
                        if (hy != 0 || bq != 1) {
                            var dV = io.gW("brit", {});
                            dV.v.enab.v = du.isEnabled;
                            bq = bq - 1;
                            if (bq > 0)
                                bq /= 2;
                            var bY = dV.v.Fltr.v;
                            bY.Brgh.v = Math.round(hy * 255);
                            bY.Cntr.v = Math.round(bq * 255);
                            bY.useLegacy.v = !0;
                            $.push(dV)
                        }
                    }
                }
                if (u) {
                    var ds = fk.patternFillType;
                    if (ds == 3) {
                        var hV = c.rect.d / c.rect.v
                            , gF = z.d / z.v;
                        if (hV < gF) {
                            C.translate(-(z.d * (1 - hV / gF)) / 2, 0);
                            C.scale(gF / hV, 1)
                        } else {
                            C.translate(0, -(z.v * (1 - gF / hV)) / 2);
                            C.scale(1, hV / gF)
                        }
                    }
                }
                z.x = z.y = 0;
                var co = t.a.yP(z).H;
                C.fb();
                t.a.J(co, C, co);
                c.add.SoLd.Trnf = U.o.FQ(co);
                c.add.SoLd.nonAffineTransform = U.o.FQ(co);
                c.rH(S, !1)
            } else if (T == "text") {
                if (g.attributedString == null)
                    continue;
                var c_ = C.clone(), a5, gb, dZ = 0;
                c_.fb();
                c_.R = c_.RH = Math.min(c_.R, c_.RH);
                c.add.lnsr = "rend";
                debugger
                c.add.TySh = ap.Hr(0, 0);
                c.add.TySh.tI = new W(0, 0, z.d, z.v);
                c.add.TySh.J = c_;
                var iC = g.attributedString;
                if (iC.archivedAttributedString)
                    iC = iC.archivedAttributedString;
                var cC = iC.NSString;
                if (cC == null)
                    cC = iC.string;
                if (cC == null)
                    cC = "";
                if (cC["NS.string"])
                    cC = cC["NS.string"];
                if (I[g.do_objectID] != null)
                    cC = I[g.do_objectID];
                var aB = d.ri(E, g.do_objectID + "_stringValue");
                if (aB)
                    cC = aB.value;
                if (iC.attributes != null) {
                    a5 = [];
                    gb = [];
                    var cd = iC.attributes;
                    for (var G = 0; G < cd.length; G++) {
                        a5.push(cd[G].length, G);
                        gb.push(cd[G].attributes)
                    }
                } else if (iC.NSAttributeInfo == null) {
                    a5 = [cC.length, 0];
                    gb = [iC.NSAttributes]
                } else {
                    a5 = iC.NSAttributeInfo["NS.data"];
                    gb = iC.NSAttributes;
                    a5 = f7.aap(a5, gb)
                }
                for (var G = 0; G < a5.length; G += 2)
                    dZ += a5[G];
                if (dZ != cC.length) {
                    while (dZ > cC.length) {
                        a5[a5.length - 2]--;
                        dZ--;
                        if (a5[a5.length - 2] == 0) {
                            a5.pop();
                            a5.pop()
                        }
                    }
                    a5[a5.length - 2] += cC.length - dZ
                }
                cC = cC.replace(/\u2028/g, "\n");
                cC = cC.replace(/\u2029/g, "\n");
                cC = cC.replace(/\r/g, "\n");
                var en = c.add.TySh.lV;
                ap.LB(en, 0, cC);
                if (cC != "") {
                    var cD = g.textBehaviour
                        , hP = p.textStyle
                        , ea = hP ? hP.verticalAlignment : 0
                        , fp = d.a7E(en, a5, gb, cC)
                        , v = c_.Fu()
                        , bC = ap.Rm(en, 0, 1)
                        , ct = 0;
                    if (bC.cD.Font) {
                        var hG = bC.GZ[bC.cD.Font].Name;
                        if (hG == "FontAwesome" || hG == "Ionicons")
                            fp *= .87
                    }
                    var b3 = bC.cD.AutoLeading ? 0 : bC.cD.Leading * .6
                        , fQ = Math.max(fp, b3) * v
                        , cj = z.d
                        , fJ = z.v;
                    if (cD == 0) {
                        ap.sI(en, 0);
                        var cM = ap.Xl(bC.vY);
                        if (cM == 1)
                            ct = cj * v;
                        if (cM == 2)
                            ct = cj * v * .5;
                        if (ea == 0)
                            fQ *= 1;
                        else
                            fQ *= .9
                    } else {
                        ap.sI(en, 1);
                        ap.h6(en, [0, 0, Math.round(cj), Math.round(fJ)]);
                        if (cD == 2 && ea == 0)
                            fQ = fQ * .2;
                        else if (cD == 2 && ea == 1) {
                            fQ = v * .5 * (fJ - bC.cD.FontSize)
                        } else if (cD == 1 && ea == 0)
                            fQ = fQ * .2;
                        else
                            fQ = fQ * .35
                    }
                    c.add.TySh.J.translate(ct, fQ)
                }
            } else if (T == "symbolInstance" || T == "symbolMaster") {
                var cc = g.symbolID;
                if (I[g.do_objectID])
                    cc = I[g.do_objectID].symbolID;
                var cr = d.ri(E, g.do_objectID + "_symbolID");
                if (cr)
                    cc = cr.value;
                if (cc == "")
                    continue;
                var bZ = {};
                for (var K in I)
                    bZ[K] = I[K];
                if (g.overrides)
                    for (var K in g.overrides)
                        bZ[K] = g.overrides[K];
                var eb = E.slice(0);
                if (g.overrideValues)
                    eb = eb.concat(g.overrideValues);
                var gL = H[cc];
                if (gL == null) {
                    console.log("Unknown master master", g.symbolID);
                    continue
                }
                var fn = f7.yZ(gL.YS.frame)
                    , aq = fn.d / z.d
                    , di = fn.v / z.v
                    , ej = C.clone();
                ej.scale(aq, di);
                c.add.lsct = hg.N4;
                c.XC = "pass";
                c.xa = 24;
                c.yR(g.isVisible);
                S.t.push(S.Ue());
                var cn = gL.YS;
                if (S.bl.indexOf(cn) == -1) {
                    S.bl.push(cn);
                    d.Nm(cn.layers, S, ej, q, H, bZ, eb);
                    S.bl.pop()
                }
            } else if (T == "slice") {
                console.log("slice layers are ignored by now");
                continue
            } else {
                console.log("unknown layer type: " + T, g);
                continue
            }
            if (p && p.contextSettings) {
                var aj = p.contextSettings
                    , a6 = aj.blendMode;
                if (a6 < d.gl.length) {
                    c.XC = iS.LQ[iS.Qu.indexOf(d.gl[a6])];
                    if (i && c.XC == "norm")
                        c.XC = "pass"
                }
                c.opacity = Math.round(c.opacity * aj.opacity)
            }
            if (x != null) {
                c.add.lmfx = x
            }
            S.t.push(c);
            if (g.hasClippingMask && Y.length > 1) {
                B.push(c);
                S.t.push(S.Ue())
            }
        }
        while (B.length != 0)
            d.kv(B.pop(), S)
    }
        ;
    f7.ri = function (Y, S) {
        for (var G = 0; G < Y.length; G++)
            if (Y[G].overrideName.startsWith(S))
                return Y[G]
    }
        ;
    f7.aap = function (Y, S) {
        var h = 0
            , q = [];
        while (h + 1 < Y.length) {
            var H = Y[h];
            h++;
            if (H > 127) {
                H += 128 * (Y[h] - 1);
                h++;
                if (Y[h - 1] > 127) {
                    H += 128 * (Y[h] - 1);
                    h++
                }
            }
            var I = Y[h];
            h++;
            q.push(H, I)
        }
        return q
    }
        ;
    f7.a7E = function (Y, S, h, q) {
        var H = f7
            , I = 0
            , g = 0
            , z = 0;
        for (var G = 0; G < q.length; G++) {
            var E = q.charCodeAt(G)
                , d = 1473 <= E && E <= 1479 || 1488 <= E && E <= 1514 || 1520 <= E && E <= 1524
                , B = 1569 <= E && E <= 1594 || 1600 <= E && E <= 1749;
            if (d || B)
                I++
        }
        var n = I > q.length / 2;
        for (var G = 0; G < S.length; G += 2) {
            var p = S[G]
                , c = 14
                , s = "DejaVuSans";
            if (p == 0)
                continue;
            var C = S[G + 1]
                , T = h[C]
                , A = ap.Rm(Y, g, g + p - 1)
                , i = T.NSColor;
            if (i == null) {
                var i = T.MSAttributedStringColorDictionaryAttribute;
                if (i == null)
                    i = T.MSAttributedStringColorAttribute;
                if (i == null)
                    i = "0 0 0";
                else
                    i = [i.red, i.green, i.blue].join(" ")
            } else if (H.sT(i) == "MSArchivedColor")
                i = i.dr + " " + i.dg + " " + i.db;
            else if (i.NSRGB) {
                i = i.NSRGB;
                i = k.Fe(i, 0, i.length - 1)
            } else if (i.NSCMYK) {
                i = i.NSCMYK;
                i = k.Fe(i, 0, i.length - 1);
                i = i.split(" ").map(parseFloat);
                var e = 1 - i[0]
                    , a = 1 - i[1]
                    , Z = 1 - i[2]
                    , O = 1 - i[3];
                i = e * O + " " + a * O + " " + Z * O
            } else if (i.NSWhite) {
                i = "1 1 1"
            }
            i = i.split(" ");
            A.cD.FillColor = {
                Type: 1,
                Values: [1, parseFloat(i[0]), parseFloat(i[1]), parseFloat(i[2])]
            };
            var x = T.MSAttributedStringFontAttribute;
            if (T.NSFont) {
                c = T.NSFont.NSSize;
                s = T.NSFont.NSName
            } else if (x) {
                if (x.attributes) {
                    x = x.attributes;
                    c = x.size;
                    s = x.name
                } else {
                    var u = x.NSFontDescriptorAttributes;
                    if (u == null)
                        u = x.UIFontDescriptorAttributes;
                    x = u;
                    c = x.NSFontSizeAttribute;
                    s = x.NSFontNameAttribute
                }
                if (s == null)
                    s = "DejaVuSans"
            }
            var z = Math.max(z, c);
            A.cD.FontSize = Math.round(c);
            ap.UB(A, s);
            var y = T.NSKern;
            if (y == null)
                y = T.kerning;
            if (y != null)
                A.cD.Tracking = Math.round(1e3 * y / c);
            if (T.NSUnderline != null)
                A.cD.Underline = T.NSUnderline > 0;
            var j = T.NSStrikethrough;
            if (j == null)
                j = T.strikethroughStyle;
            if (j != null)
                A.cD.Strikethrough = j > 0;
            if (T.MSAttributedStringTextTransformAttribute == 1)
                A.cD.FontCaps = 2;
            var v = T.NSParagraphStyle;
            if (v == null)
                v = T.paragraphStyle;
            if (v) {
                var X = v.paragraphSpacing;
                if (X != null) {
                    A.vY.SpaceAfter = X
                }
                var N = v.NSAlignment;
                if (N == null)
                    N = v.alignment;
                if (N != null) {
                    var V = 0;
                    if (!1) { } else if (N == 1)
                        V = 1;
                    else if (N == 2)
                        V = 2;
                    else if (N == 4)
                        V = 0;
                    else {
                        V = N;
                        console.log("unknown align", N)
                    }
                    if (n && V < 2)
                        V = 1 - V;
                    A.vY.Justification = V
                }
                var $ = v.NSMinLineHeight;
                if ($ == null)
                    $ = v.minimumLineHeight;
                if ($ != null) {
                    A.cD.AutoLeading = !1;
                    A.cD.Leading = $
                }
            }
            A.vY._Direction = n ? 1 : 0;
            ap.aN(Y, g, g + p, A);
            g += p
        }
        return z
    }
        ;
    f7.aaq = function (Y, S, h, q, H, I, E) {
        var d = f7
            , B = JSON.parse(ai.default)
            , n = !1;
        for (var G = 0; G < ai.order.length; G++)
            B[ai.m6[G]] = {
                t: "VlLs",
                v: []
            };
        var g = h.fills
            , z = d.r4(Y, g, q, H, I, S);
        for (var p = 0; p < 2; p++) {
            var C = h[["shadows", "innerShadows"][p]];
            if (C == null)
                continue;
            var T = ["DrSh", "IrSh"][p]
                , A = ai.m6[ai.order.indexOf(T)];
            for (var G = 0; G < C.length; G++) {
                var i = C[G];
                if (!i.isEnabled)
                    continue;
                if (i.contextSettings.opacity == 0 || i.color.alpha == 0)
                    continue;
                var e = JSON.parse(ai.l_[ai.order.indexOf(T)]);
                B[A].v.unshift({
                    t: "Objc",
                    v: e
                });
                n = !0;
                e.Clr.v = d.v_(i.color);
                e.blur.v.val = Math.round(i.blurRadius / H.Fu());
                var a = H.clone();
                a.TR = a.Un = 0;
                a.fb();
                var Z = a.I_(new aV(i.offsetX, i.offsetY))
                    , O = Math.sqrt(Z.x * Z.x + Z.y * Z.y);
                e.Dstn.v.val = Math.round(O);
                e.lagl.v.val = Math.round(Math.atan2(Z.y, -Z.x) * (180 / Math.PI));
                if (e.layerConceals)
                    e.layerConceals.v = z.length != 0;
                d.LF(i, e)
            }
        }
        var c = h.borders;
        if (c != null && (z.length == 0 || h.blur == null || !h.blur.isEnabled))
            for (var G = 0; G < c.length; G++) {
                var s = c[G];
                if (!s.isEnabled)
                    continue;
                var e = JSON.parse(ai.l_[ai.order.indexOf("FrFX")])
                    , A = ai.m6[ai.order.indexOf("FrFX")];
                B[A].v.unshift({
                    t: "Objc",
                    v: e
                });
                n = !0;
                e.Clr.v = d.v_(s.color);
                if (s.fillType != 0 && s.gradient) {
                    var x = d.OD(s.gradient, q, H, I)
                        , u = ["Type", "Angl", "Ofst", "Scl"];
                    for (var G = 0; G < u.length; G++)
                        e[u[G]] = x[u[G]];
                    e.Grad.v = x.Grad.v;
                    e.PntT.v.FrFl = "GrFl"
                }
                e.Sz.v.val = s.thickness / H.Fu();
                e.Styl.v.FStl = ["CtrF", "InsF", "OutF"][s.position];
                d.LF(s, e)
            }
        for (var G = E ? 1 : 0; G < z.length; G++) {
            var y = z[G]
                , A = ai.m6[ai.order.indexOf(y.type)];
            B[A].v.unshift(y.G);
            n = !0
        }
        return n ? B : null
    }
        ;
    f7.r4 = function (Y, S, h, q, H, I, E) {
        if (S == null)
            return [];
        var d = f7
            , B = [];
        for (var G = 0; G < S.length; G++)
            if (S[G].isEnabled)
                B.push(S[G]);
        S = B;
        var n = [];
        for (var G = 0; G < S.length; G++) {
            var g = S[G]
                , z = null
                , p = null;
            if (g.fillType == 0) {
                z = "SoFi";
                var C = JSON.parse(ai.l_[ai.order.indexOf("SoFi")]);
                p = {
                    t: "Objc",
                    v: C
                };
                p.v.Clr.v = d.v_(g.color)
            } else if (g.fillType == 1) {
                z = "GrFl";
                p = {
                    t: "Objc",
                    v: d.OD(g.gradient, h, q, H)
                }
            } else if (g.fillType == 4 && g.image != null) {
                var T = g.image;
                if (E)
                    T = E.value;
                var A = eD.hj(T.bdata.buffer);
                if (A != null && A != "pdf" && A != "eps") {
                    var i, s = 0, x = 0, u = 0;
                    if (I.El[T.key])
                        i = I.El[T.key];
                    else {
                        var e = eD.Oh(A).C3(T.bdata)[0]
                            , a = e.jJ.clone();
                        i = {};
                        i.id = dh.$C() + "-d71c-11e5-b1ae-a548a96e5f9f";
                        i.name = "someImage";
                        i.ar = [new Uint8Array(e.data), a];
                        I.pj(i);
                        I.El[T.key] = i
                    }
                    var Z = i.ar[1]
                        , C = JSON.parse(ai.l_[ai.order.indexOf("patternFill")]);
                    z = "patternFill";
                    p = {
                        t: "Objc",
                        v: C
                    };
                    var O = g.patternFillType
                        , c = g.patternTileScale;
                    C.Algn.v = !0;
                    C.Ptrn.v.Idnt.v = i.id;
                    if (O == 0) {
                        s = c * Z.d / Math.min(Z.d, Z.v);
                        x = -q.TR;
                        u = -q.Un
                    } else {
                        s = Math.max(h.d / Z.d, h.v / Z.v);
                        x = -q.TR - (Z.d * s - h.d) / 2;
                        u = -q.Un - (Z.v * s - h.v) / 2
                    }
                    C.Scl.v.val = 100 * s * (1 / q.Fu());
                    C.phase.v.Hrzn.v = Math.round(x / q.Fu());
                    C.phase.v.Vrtc.v = Math.round(u / q.Fu())
                }
            } else if (g.fillType == 5) {
                console.log("fill type Noise not supported yet")
            } else
                console.log("unknown fill type", g.fillType);
            if (z != null) {
                d.LF(g, p.v);
                n.push({
                    type: z,
                    G: p
                })
            }
        }
        return n
    }
        ;
    f7.abX = function (Y) {
        var S = f7
            , h = new W(0, 0, 1, 1);
        Y = Y.slice(0);
        while (!0) {
            var q = !1;
            for (var G = 0; G < Y.length - 1; G++) {
                var H = Y[G]
                    , I = Y[G + 1]
                    , E = null
                    , d = H.contextSettings;
                if (H.fillType == 0 && (d == null || d.opacity == 1 && d.blendMode == 0) && H.color.alpha == 1) {
                    var B = "norm"
                        , n = 1
                        , d = I.contextSettings;
                    if (d) {
                        n = d.opacity;
                        B = iS.Gn(S.gl[d.blendMode])
                    }
                    if (I.fillType == 0) {
                        E = JSON.parse(JSON.stringify(I));
                        S.Ey(E.color, H.color, E.color, h, B, n)
                    }
                    if (I.fillType == 1) {
                        E = JSON.parse(JSON.stringify(I));
                        var g = E.gradient.stops;
                        for (var z = 0; z < g.length; z++)
                            S.Ey(g[z].color, H.color, g[z].color, h, B, n)
                    }
                    if (E != null && E.contextSettings) {
                        var d = E.contextSettings;
                        d.opacity = 1;
                        d.blendMode = 0
                    }
                }
                if (E != null) {
                    Y.splice(G, 0, E);
                    q = !0;
                    break
                }
            }
            if (!q || Y.length < 2)
                break
        }
        return Y
    }
        ;
    f7.Ey = function (Y, S, h, q, H, I) {
        var E = f7
            , d = t.m(4);
        E.Ho(Y, d);
        var B = t.m(4);
        E.Ho(S, B);
        t.Q.Bc(H, d, q, B, q, q, I);
        E.ahZ(B, h)
    }
        ;
    f7.Ho = function (Y, S) {
        S[0] = 255 * Y.red;
        S[1] = 255 * Y.green;
        S[2] = 255 * Y.blue;
        S[3] = 255 * Y.alpha
    }
        ;
    f7.ahZ = function (Y, S) {
        S.red = Y[0] / 255;
        S.green = Y[1] / 255;
        S.blue = Y[2] / 255;
        S.alpha = Y[3] / 255
    }
        ;
    f7.kv = function (Y, S) {
        Y = Y.clone();
        Y.xa = 24;
        Y.wN("Mask by " + Y.getName());
        S.t.push(Y);
        Y.add.lsct = hg.fC;
        Y.add.lyid = S.dL();
        delete Y.add.lmfx;
        delete Y.add.SoCo;
        delete Y.add.GdFl;
        delete Y.add.PtFl;
        delete Y.add.iOpa;
        if (Y.add.vmsk)
            Y.add.vmsk.Uh = !0;
        Y._A(S);
        if ((Y.xa & 16) == 16)
            Y.xa -= 16;
        if ((Y.xa & 2) == 2)
            Y.xa -= 2;
        Y.XC = "pass";
        Y.opacity = 255
    }
        ;
    f7.gl = "Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
    f7.OD = function (Y, S, h, q) {
        h = h.clone();
        h.fb();
        h.TR = h.Un = 0;
        var H = h.Fu()
            , p = 0
            , C = 0;
        h.scale(1 / H, 1 / H);
        var I = f7
            , E = JSON.parse(ai.l_[ai.order.indexOf("GrFl")])
            , d = E.Grad.v;
        d.Intr.v = 0;
        if (Y == null)
            return E;
        var B = Y.gradientType
            , n = I.Gf(Y.from)
            , g = I.Gf(Y.to);
        n.offset(-.5, -.5);
        g.offset(-.5, -.5);
        n = h.I_(n);
        g = h.I_(g);
        var z = Math.atan2(-(g.y - n.y), g.x - n.x);
        E.Type.v.GrdT = ["Lnr", "Rdl", "Angl"][B];
        E.Scl.v.val = 100 * aV.kr(n, g);
        if (B == 0) {
            E.Angl.v.val = 180 / Math.PI * z;
            E.Scl.v.val = 100 * aV.kr(n, g);
            p = (n.x + g.x) / 2;
            C = (n.y + g.y) / 2
        }
        if (B == 1) {
            E.Scl.v.val = 200 * aV.kr(n, g);
            p = n.x;
            C = n.y
        }
        if (B == 2) {
            E.Angl.v.val = 180 / Math.PI * (z - Math.PI / 2)
        }
        var T = E.Ofst.v;
        T.Hrzn.v.val = p * 100;
        T.Vrtc.v.val = C * 100;
        var A = [];
        for (var G = 0; G < Y.stops.length; G++) {
            var i = Y.stops[G]
                , e = i.color;
            A.push([i.position, e ? [e.red, e.green, e.blue] : [0, 0, 0], e.alpha])
        }
        t.W.uX(A, d);
        return E
    }
        ;
    f7.LF = function (Y, S) {
        var h = f7
            , q = 1
            , H = Y.contextSettings;
        if (H != null) {
            S.Md.v.BlnM = h.gl[H.blendMode];
            q *= H.opacity
        } else
            S.Md.v.BlnM = h.gl[0];
        S.enab.v = Y.isEnabled;
        if (S.uglg != null)
            S.uglg.v = !1;
        if (Y.color != null)
            q *= Y.color.alpha;
        S.Opct.v.val = Math.round(q * 100)
    }
        ;
    f7.v_ = function (Y) {
        return t.W.Da(Y ? {
            h: Y.red * 255,
            l: Y.green * 255,
            O: Y.blue * 255
        } : {
                h: 0,
                l: 0,
                O: 0
            })
    }
        ;
    f7.Kp = function (Y, S, h) {
        var q = f7
            , H = [{
                type: 6
            }, {
                type: 8,
                all: 0
            }];
        for (var I = 0; I < Y.length; I++) {
            var E = Y[I]
                , d = E.booleanOperation
                , B = 0
                , n = E._class
                , A = !1;
            if (n == "group" || n == "text" || n == "symbolInstance" || n == "slice") {
                console.log(n + " inside ShapeGroup");
                continue
            }
            if (d == -1)
                B = 0;
            else if (d == 0)
                B = 1;
            else if (d == 1)
                B = 2;
            else if (d == 2)
                B = 3;
            else if (d == 3)
                B = 0;
            if (I == 0)
                B = 1;
            var g = f7.yZ(E.frame)
                , z = q.AA(E, S)
                , p = E.path ? E.path : E
                , C = [{
                    type: 0,
                    length: 0,
                    Mg: B,
                    rq: 2,
                    LW: 0,
                    xx: 0
                }]
                , T = p.points;
            for (var G = 0; G < T.length; G++) {
                var i = T[G]
                    , e = q.Gf(i.curveTo)
                    , a = q.Gf(i.point)
                    , Z = q.Gf(i.curveFrom);
                A = A || i.hasCurveFrom && !Z.ma(a) || i.hasCurveTo && !e.ma(a)
            }
            var O = [];
            if (!A) {
                var c = []
                    , D = T.length;
                if (D == 0)
                    continue;
                for (var G = 0; G < D; G++) {
                    O[G] = T[G].cornerRadius;
                    var i = q.Gf(T[G].point);
                    c.push(i.x, i.y)
                }
                z.scale(1 / g.d, 1 / g.v);
                z.fb();
                t.a.J(c, z, c);
                var s = t.Y.O5(c, O);
                C = C.concat(s);
                C[0].length = C.length - 1
            } else {
                var x = T.length;
                C[0].length = x;
                for (var G = 0; G < x; G++) {
                    var i = T[G]
                        , u = i.curveMode
                        , y = q.Gf(i.point);
                    C[1 + G] = {
                        type: u == 2 || u == 4 ? 1 : 2,
                        c4: i.hasCurveTo ? q.Gf(i.curveTo) : y.clone(),
                        D: y,
                        TA: i.hasCurveFrom ? q.Gf(i.curveFrom) : y.clone()
                    }
                }
                z.scale(1 / g.d, 1 / g.v);
                z.fb();
                t.Y.$M(C, z);
                var O = [];
                for (var G = 0; G < x; G++) {
                    var i = T[G]
                        , u = i.curveMode
                        , j = i.cornerRadius;
                    if (u == 1 && j != 0)
                        O.push(j);
                    else
                        O.push(0)
                }
            }
            if (!p.isClosed)
                for (var G = 0; G < C.length; G++)
                    C[G].type += 3;
            H = H.concat(C);
            var v = t.tx.QO()
                , X = q.sT(E);
            if (z.O == 0 && z.Pb == 0) {
                var N = z.TR
                    , V = z.Un
                    , $ = N + z.R
                    , w = V + z.RH
                    , m = [N, V, $, w];
                if (X == "rectangle" && O.length == 4)
                    v = t.tx.A8(2, m, O);
                if (X == "oval")
                    v = t.tx.A8(5, m)
            }
            h.push(v)
        }
        return H
    }
        ;
    f7.AA = function (Y, S) {
        var h = S.clone()
            , q = Y.frame ? f7.yZ(Y.frame) : null;
        if (q)
            h.translate(-q.x - q.d / 2, -q.y - q.v / 2);
        if (Y.isFlippedHorizontal)
            h.scale(-1, 1);
        if (Y.isFlippedVertical)
            h.scale(1, -1);
        h.rotate(-Y.rotation * (Math.PI / 180));
        if (q)
            h.translate(q.d / 2, q.v / 2);
        return h
    }
        ;
    f7.Gf = function (Y) {
        Y = Y.slice(1, Y.length - 1).split(",");
        return new aV(parseFloat(Y[0]), parseFloat(Y[1]))
    }
        ;
    f7.yZ = function (Y) {
        return new W(Y.x, Y.y, Y.width, Y.height)
    }
        ;
    f7.CI = function (Y) {
        return {
            _class: "rect",
            constrainProportions: !1,
            x: Y.x,
            y: Y.y,
            width: Y.d,
            height: Y.v
        }
    }
        ;
    function fT() { }
    fT.z7 = function (Y, S) {
        var h = Date.now()
            , q = fT
            , H = UZIP.parse(Y)
            , I = JSON.parse(k.Dt(H.manifest))
            , E = JSON.parse(k.Dt(H["resources/graphics/graphicContent.agc"])).resources
            , d = []
            , B = I.children;
        for (var G = 0; G < B.length; G++) {
            var n = B[G];
            if (n.name == "artwork") {
                var g = n.children;
                for (var z = 0; z < g.length; z++)
                    if (g[z]["uxdesign#bounds"]) {
                        var p = g[z]
                            , C = JSON.parse(k.Dt(H["artwork/" + p.path + "/graphics/graphicContent.agc"]));
                        if (C.children.length != 1)
                            throw "e";
                        p._node = C.children[0];
                        d.push(p)
                    }
            }
        }
        var T = []
            , A = new W;
        for (var G = 0; G < d.length; G++) {
            var p = d[G]
                , i = f7.yZ(p["uxdesign#bounds"]);
            T.push(i);
            A = A.TG(i)
        }
        var e = f7.R7(A, 8192 * 8192);
        S.Wm = !0;
        S.d = Math.round(A.d / e);
        S.v = Math.round(A.v / e);
        S.buffer = t.m(S.d * S.v * 4);
        S.Eo(d.length);
        var a = new d5(e, 0, 0, e, A.x, A.y);
        S.El = {};
        for (var G = 0; G < d.length; G++) {
            var p = d[G]
                , i = f7.yZ(p["uxdesign#bounds"])
                , Z = p._node
                , O = a.clone()
                , c = i.clone()
                , s = O.Fu();
            O.translate(-i.x, -i.y);
            c.x = -Math.floor(O.TR / s);
            c.y = -Math.floor(O.Un / s);
            c.d = Math.floor(c.d / s);
            c.v = Math.floor(c.v / s);
            O.translate(i.x, i.y);
            fT.M5(Z, S, O, E, H, c);
            var x = S.t[S.t.length - 1];
            x.wN(p.name);
            x.SV(c);
            if (G != d.length - 1)
                x.add.lsct = hg.N4
        }
        delete S.El
    }
        ;
    fT.uh = function (Y) {
        if (Y == null)
            return new d5;
        return new d5(Y.a, Y.b, Y.c, Y.d, Y.tx, Y.ty)
    }
        ;
    fT.M5 = function (Y, S, h, q, H, I) {
        var E = fT, d = Y.type, B = Y[d], n = Y.style, g = E.uh(Y.transform), T, A = "none", i, e = "none", a, Z;
        g.fb();
        var z = h.clone();
        z.concat(g);
        var p = S.rY()
            , C = Y.name;
        p.wN(C ? C.slice(0, 250) : "Layer");
        if (Y.visible != null)
            p.yR(Y.visible);
        if (n) {
            T = n.stroke;
            A = T ? T.type : "none";
            i = n.fill;
            e = i ? i.type : "none";
            a = n.filters;
            Z = n.clipPath;
            if (Z && q.clipPaths[Z.ref])
                Z = q.clipPaths[Z.ref].children;
            else
                Z = null;
            if (n.opacity)
                p.opacity = Math.round(255 * n.opacity);
            if (e == "solid" && i.color.alpha)
                p.opacity = Math.round(p.opacity * i.color.alpha);
            if (a) {
                p.add.lmfx = E.a5K(a);
                for (var G = 0; G < a.length; G++)
                    if (a[G].type == "uxdesign#blur") {
                        var O = a[G]
                            , c = O.params
                            , s = c.brightnessAmount;
                        if (s == null)
                            s = 0;
                        s = Math.abs(s / 100);
                        if ((O.visible == null || O.visible == !0) && c.backgroundEffect)
                            p.opacity = Math.round(p.opacity * (s + (1 - s) * c.fillOpacity))
                    }
            }
            if (e == "pattern" && i.pattern.meta.ux.uid == "")
                e = "none"
        }
        if (Z == null && Y.meta && Y.meta.ux && Y.meta.ux.clipPathResources)
            Z = Y.meta.ux.clipPathResources.children;
        if (d == "artboard" || d == "group") {
            if (Z) {
                var x = Z[0]
                    , u = x.shape
                    , y = u != null && u.type == "rect" && u.width * u.height > 1e6;
                if (x.type != "text" && !y) {
                    if (u) {
                        var g = E.uh(x.transform);
                        g.fb();
                        var j = z.clone();
                        j.concat(g);
                        debugger
                        p.add.vmsk = new M.cJ;
                        p.add.vmsk.b = E.Kp(u);
                        j = j.clone();
                        j.fb();
                        t.Y.$M(p.add.vmsk.b, j);
                        p._A(S)
                    }
                } else if (!y)
                    alert("Clipping by text has been ignored")
            }
            p.add.lsct = hg.fC;
            p.XC = "pass";
            p.xa = 24;
            if (Y.visible != null)
                p.yR(Y.visible);
            S.t.push(S.Ue());
            var v = B.children
                , X = i;
            if (X)
                X = X.color;
            if (X)
                X = X.value;
            if (i) {
                if (d == "artboard" && e == "solid") {
                    p.SV(new W(0, 0, 10, 10));
                    p.add.artb.Clr = {
                        t: "Objc",
                        v: t.W.Da({
                            h: X.r,
                            l: X.g,
                            O: X.b
                        })
                    };
                    p.add.artb.artboardBackgroundType = {
                        t: "long",
                        v: 4
                    }
                } else {
                    var N = S.rY();
                    N.wN("BACKGROUND");
                    N.xa |= 16;
                    N.add.vstk = JSON.parse(JSON.stringify(ai.Ig.default));
                    debugger
                    N.add.vmsk = new M.cJ;
                    N.add.vmsk.b = E.Kp({
                        type: "rect",
                        x: I.x,
                        y: I.y,
                        width: I.d,
                        height: I.v
                    });
                    E.X1(i, e, z, I, I, N, S, q, H);
                    N._A(S);
                    S.t.push(N)
                }
            }
            for (var G = 0; G < v.length; G++) {
                fT.M5(v[G], S, z, q, H, I)
            }
        } else if (d == "shape" && Y.shape.type == "rect" && (Y.shape.r == null || Y.shape.r == 0) && e == "pattern" && Math.abs(Y.shape.width / Y.shape.height - i.pattern.width / i.pattern.height) < .01) {
            var V = i.pattern
                , $ = V.meta.ux
                , w = $.uid
                , m = H["resources/" + w];
            if (m == null) {
                console.log(V);
                return
            }
            var l = S.IC(m, p.getName(), 0, 0);
            l.xa = p.xa;
            l.opacity = p.opacity;
            p = l;
            var b = t.a.yP(new W(0, 0, V.width, V.height)).H
                , K = new d5;
            K.scale(V.width / Y.shape.width, V.height / Y.shape.height);
            if ($.offsetX)
                K.translate(-$.offsetX * V.width, 0);
            if ($.offsetY)
                K.translate(0, -$.offsetY * V.height);
            z.concat(K);
            z.fb();
            t.a.J(b, z, b);
            p.add.SoLd.Trnf = U.o.FQ(b);
            p.add.SoLd.nonAffineTransform = U.o.FQ(b);
            p.rH(S, !1)
        } else if (d == "shape") {
            p.xa |= 16;
            p.add.vstk = JSON.parse(JSON.stringify(ai.Ig.default));
            debugger
            p.add.vmsk = new M.cJ;
            p.add.vmsk.b = E.Kp(B);
            var J = t.Y.c9(p.add.vmsk.b, null)
                , j = z.clone();
            j.fb();
            t.Y.$M(p.add.vmsk.b, j);
            var R = t.Y.c9(p.add.vmsk.b, null);
            if (A == "none") { } else {
                var r = T.color.value, f, gf;
                f = "SoFi";
                var aa = JSON.parse(ai.l_[ai.order.indexOf("SoFi")]);
                gf = {
                    t: "Objc",
                    v: aa
                };
                gf.v.Clr.v = t.W.Da({
                    h: r.r,
                    l: r.g,
                    O: r.b
                });
                var aA = T.align
                    , e5 = T.cap;
                if (aA == null)
                    aA = "center";
                var fk = p.add.vstk;
                fk.strokeEnabled.v = !0;
                fk.strokeStyleLineWidth.v.val = T.width;
                if (aA)
                    fk.strokeStyleLineAlignment.v.strokeStyleLineAlignment = ai.Ig.ZK[["inside", "center", "outside"].indexOf(aA)];
                if (e5)
                    fk.strokeStyleLineCapType.v.strokeStyleLineCapType = ai.Ig.Og[["butt", "round", "square"].indexOf(e5)];
                var o = ["SoFi", "GrFl", "patternFill"].indexOf(f)
                    , eY = [ai.pJ, ai.eK, ai.PV][o];
                fk.strokeStyleContent.v = {
                    classID: ai.Ig.bj[0]
                };
                var du = fk.strokeStyleContent.v = {
                    classID: ai.Ig.bj[o]
                };
                for (var G = 0; G < eY.length; G++)
                    du[eY[G]] = gf.v[eY[G]]
            }
            if (a)
                for (var G = 0; G < a.length; G++)
                    if (a[G].type == "uxdesign#blur" && a[G].visible) {
                        var dV = a[G];
                        p.add.vmsk.Cm = dV.params.blurAmount
                    }
            E.X1(i, e, z, J, R, p, S, q, H);
            p._A(S)
        } else if (d == "text" && Y.text) {
            var hy = Y.text
                , bq = hy.frame
                , i5 = n.font
                , hX = n.textAttributes
                , g = z.clone()
                , c_ = 0;
            g.fb();
            p.add.lnsr = "rend";
            debugger
            p.add.TySh = ap.Hr(0, 0);
            p.add.TySh.tI = new W(0, 0, 100, 100);
            p.add.TySh.J = g;
            var bY = p.add.TySh.lV
                , ds = hy.rawText.replace(/\r/g, "\n").replace(/\u000b/g, "\n");
            ap.LB(bY, 0, ds);
            if (ds != "") {
                var hV = ap.Rm(bY, 0, 1)
                    , gF = i5.postscriptName;
                if (gF == null)
                    gF = i5.family;
                ap.UB(hV, gF);
                hV.cD.FontSize = Math.round(i5.size);
                if (i) {
                    var r = i.color.value;
                    hV.cD.FillColor = {
                        Type: 1,
                        Values: [1, r.r / 255, r.g / 255, r.b / 255]
                    }
                }
                if (hX) {
                    if (hX.paragraphAlign)
                        hV.vY.Justification = ["left", "right", "center"].indexOf(hX.paragraphAlign);
                    if (hX.letterSpacing)
                        hV.cD.Tracking = Math.round(hX.letterSpacing);
                    if (hX.lineHeight) {
                        hV.cD.AutoLeading = !1;
                        hV.cD.Leading = Math.round(hX.lineHeight)
                    }
                }
                ap.aN(bY, 0, ds.length, hV)
            }
            var co = Y.meta.ux.rangedStyles;
            if (co)
                for (var G = 0; G < co.length; G++) {
                    var B = co[G]
                        , a5 = Math.min(B.length, ds.length - c_)
                        , hV = ap.Rm(bY, c_, c_ + a5)
                        , gF = B.postscriptName;
                    if (gF == null)
                        gF = B.family;
                    if (gF != null)
                        ap.UB(hV, gF);
                    var gb = B.textScript
                        , iC = B.underline
                        , cC = B.fontSize
                        , O = B.fill
                        , aB = B.textTransform;
                    if (gb && gb != "none")
                        hV.cD.FontBaseline = gb == "superscript" ? 1 : 2;
                    if (iC != null)
                        hV.cD.Underline = iC;
                    if (cC != null)
                        hV.cD.FontSize = Math.round(cC);
                    if (aB != null)
                        hV.cD.FontCaps = aB == "uppercase" ? 2 : 0;
                    if (O != null) {
                        var cd = O.value;
                        hV.cD.FillColor = {
                            Type: 1,
                            Values: [1, (cd >>> 16 & 255) / 255, (cd >>> 8 & 255) / 255, (cd >>> 0 & 255) / 255]
                        }
                    }
                    ap.aN(bY, c_, c_ + a5, hV);
                    c_ += a5
                }
            if (bq.type == "area" || bq.type == "autoHeight") {
                var dZ = bq.width
                    , en = bq.height;
                ap.sI(bY, 1);
                ap.h6(bY, [0, 0, dZ, en != null ? en : dZ * 2])
            }
        } else
            console.log(d, Y);
        S.t.push(p)
    }
        ;
    fT.Kp = function (Y) {
        var S = Y.type
            , h = [{
                type: 6
            }, {
                type: 8,
                all: 0
            }];
        if (S == "rect") {
            var q = Y.r
                , H = Y.x
                , I = Y.y
                , E = Y.width
                , d = Y.height;
            if (q == null)
                h = t.Y.jZ.Rect(H, I, E, d, 0);
            else
                h = h.concat([{
                    type: 0,
                    Mg: 1,
                    length: 8,
                    LW: 0,
                    xx: 0,
                    rq: 1
                }]).concat(t.Y.O5([H, I, H + E, I, H + E, I + d, H, I + d], q, !1))
        } else if (S == "circle") {
            var q = Y.r;
            h = t.Y.jZ.Xu(Y.cx - q, Y.cy - q, 2 * q, 2 * q)
        } else if (S == "ellipse") {
            var B = Y.rx
                , n = Y.ry;
            h = t.Y.jZ.Xu(Y.cx - B, Y.cy - n, 2 * B, 2 * n)
        } else if (S == "path" || S == "compound") {
            var g = Typr.U.SVGToPath(Y.path);
            h = t.a.QG({
                Z: g.cmds,
                H: g.crds
            }, !1)
        } else if (S == "line") {
            var z = Y.x1
                , p = Y.x2
                , C = Y.y1
                , T = Y.y2;
            h = h.concat([{
                type: 0,
                Mg: 1,
                length: 2,
                LW: 0,
                xx: 0,
                rq: 1
            }]).concat(t.Y.O5([z, C, p, T], 0, !0))
        } else if (S == "polygon") {
            var A = Y.points
                , i = [];
            for (var G = 0; G < A.length; G++)
                i.push(A[G].x, A[G].y);
            h = h.concat(t.Y.jZ.BB(i, 0, !1).slice(2))
        } else
            console.log(S, Y);
        return h
    }
        ;
    fT.a5K = function (Y) {
        var S = JSON.parse(ai.default);
        for (var G = 0; G < ai.order.length; G++)
            S[ai.m6[G]] = {
                t: "VlLs",
                v: []
            };
        for (var G = 0; G < Y.length; G++) {
            var h = Y[G]
                , q = h.type
                , H = h.params
                , I = h.visible;
            if (q == "dropShadow") {
                var E = ai.m6[ai.order.indexOf("DrSh")]
                    , d = JSON.parse(ai.l_[ai.order.indexOf("DrSh")]);
                S[E].v.unshift({
                    t: "Objc",
                    v: d
                });
                var B = H.dropShadows;
                if (B.length != 1)
                    throw "e";
                var n = B[G]
                    , g = n.color
                    , z = g.value
                    , p = n.dx
                    , C = n.dy;
                d.Clr.v = t.W.Da({
                    h: z.r,
                    l: z.g,
                    O: z.b
                });
                d.Opct.v.val = Math.round((g.alpha != null ? g.alpha : 1) * 100);
                d.uglg.v = !1;
                d.enab.v = I != null ? I : !0;
                d.lagl.v.val = Math.round(180 / Math.PI * Math.atan2(C, -p));
                d.Dstn.v.val = Math.round(Math.sqrt(p * p + C * C));
                d.blur.v.val = Math.round(n.r * 2.3)
            }
        }
        return S
    }
        ;
    fT.X1 = function (Y, S, h, q, H, I, E, d, B) {
        var n = fT;
        if (S == "none") {
            I.add.vstk.fillEnabled.v = !1;
            I.add.SoCo = {
                classID: "null",
                Clr: {
                    t: "Objc",
                    v: t.W.Da({
                        h: 0,
                        l: 0,
                        O: 0
                    })
                }
            }
        } else {
            var g, z, p;
            if (S == "solid") {
                var C = Y.color.value;
                g = "SoCo";
                z = ai.pJ;
                var T = JSON.parse(ai.l_[ai.order.indexOf("SoFi")]);
                p = {
                    t: "Objc",
                    v: T
                };
                p.v.Clr.v = t.W.Da({
                    h: C.r,
                    l: C.g,
                    O: C.b
                })
            } else if (S == "gradient") {
                g = "GdFl";
                z = ai.eK;
                var T = JSON.parse(ai.l_[ai.order.indexOf("GrFl")]), A = T.Grad.v, O, c, s;
                A.Intr.v = 0;
                var i = Y[S]
                    , e = i.ref ? d.gradients[i.ref] : i.meta.ux.gradientResources
                    , a = ["linear", "radial"].indexOf(e.type)
                    , Z = e.stops;
                T.Type.v.GrdT = ["Lnr", "Rdl", "Angl"][a];
                if (a == 0) {
                    var O = new aV(i.x1, i.y1)
                        , c = new aV(i.x2, i.y2);
                    O.x = c.x + .5 * (O.x - c.x);
                    O.y = c.y + .5 * (O.y - c.y)
                } else {
                    var O = new aV(i.cx, i.cy)
                        , c = new aV(i.cx + i.r, i.cy)
                }
                s = H;
                if (i.units == "objectBoundingBox") {
                    var x = new d5(q.d, 0, 0, q.v, q.x, q.y);
                    O = x.I_(O);
                    c = x.I_(c)
                }
                var x = n.uh(i.transform);
                O = x.I_(O);
                c = x.I_(c);
                x = h.clone();
                x.fb();
                O = x.I_(O);
                c = x.I_(c);
                t.W.Nd(O, c, s, T);
                var u = [];
                for (var G = 0; G < Z.length; G++) {
                    var y = Z[G]
                        , j = y.color
                        , C = j.value
                        , v = j.alpha;
                    if (v == null)
                        v = 1;
                    u.push([y.offset, [C.r / 255, C.g / 255, C.b / 255], v])
                }
                t.W.uX(u, A);
                p = {
                    t: "Objc",
                    v: T
                }
            } else if (S == "pattern") {
                g = "PtFl";
                z = ai.PV;
                var T = JSON.parse(ai.l_[ai.order.indexOf("patternFill")]), m, R = 1, r = 0, f = 0, gf = 1;
                p = {
                    t: "Objc",
                    v: T
                };
                var X = Y[S]
                    , N = X.meta.ux
                    , V = N.uid
                    , $ = B["resources/" + V].buffer
                    , w = eD.hj($);
                if (E.El[V])
                    m = E.El[V];
                else {
                    var l = new W(0, 0, X.width, X.height), b;
                    if (l.fa()) {
                        l = new W(0, 0, 1, 1);
                        b = new ArrayBuffer(4)
                    } else {
                        var K = eD.Oh(w);
                        if (K.M4) {
                            var J = new dh;
                            K.C3($, J);
                            b = J.Q3().buffer
                        } else
                            b = K.C3($)[0].data
                    }
                    m = {};
                    m.id = dh.$C() + "-d71c-11e5-b1ae-a548a96e5f9f";
                    m.name = "someImage";
                    m.ar = [new Uint8Array(b), l];
                    E.pj(m);
                    E.El[V] = m
                }
                var l = m.ar[1];
                T.Algn.v = !0;
                T.Ptrn.v.Idnt.v = m.id;
                if (N.scaleBehavior == "cover") {
                    R = gf * Math.max(H.d / l.d, H.v / l.v);
                    var aa = R;
                    if (N.scale != null)
                        R *= N.scale;
                    r = H.x - (l.d * R - H.d) / 2;
                    f = H.y - (l.v * R - H.v) / 2;
                    if (N.offsetX != null)
                        r += N.offsetX * l.d * aa;
                    if (N.offsetY != null)
                        f += N.offsetY * l.v * aa
                } else if (N.scaleBehavior == "fill") {
                    R = gf * Math.min(H.d, H.v) / Math.max(l.d, l.v);
                    r = H.x - (l.d * R - H.d) / 2;
                    f = H.y - (l.v * R - H.v) / 2
                } else
                    throw "Unknown scale behaviour";
                T.Scl.v.val = 100 * R;
                T.phase.v.Hrzn.v = Math.round(r);
                T.phase.v.Vrtc.v = Math.round(f)
            } else
                console.log(S);
            if (g != null) {
                I.add[g] = {
                    classID: "null"
                };
                for (var G = 0; G < z.length; G++) {
                    var aA = z[G];
                    I.add[g][aA] = p.v[aA]
                }
            }
        }
    }
        ;
    function g9() { }
    g9.z7 = function (Y, S, h) {
        Y = new Uint8Array(Y);
        var q = k.Dt(Y, 0, Y.length)
            , H = new DOMParser
            , I = H.parseFromString(q, "image/svg+xml")
            , E = I.getElementsByTagName("style")[0]
            , C = 1;
        if (E)
            E = Typr.U.SVG.cssMap(E.textContent);
        else
            E = {};
        var d = I.firstChild;
        while (d.tagName != "svg")
            d = d.nextSibling;
        var B = new W(0, 0, 100, 100)
            , n = d.getAttribute("viewBox")
            , g = d.getAttribute("width")
            , z = d.getAttribute("height");
        if (n) {
            var p = g9.N7(n);
            B.x = p[0];
            B.y = p[1];
            B.d = p[2];
            B.v = p[3]
        } else if (g != null || z != null) {
            B.d = g != null ? parseFloat(g) : parseFloat(z);
            B.v = z != null ? parseFloat(z) : parseFloat(g)
        }
        B = t.a.Ca(B);
        while (h && Math.max(B.d * C, B.v * C) < Math.max(h[0], h[1]))
            C++;
        while (h == null && Math.max(B.d, B.v) * C > 8192)
            C *= .5;
        S.Wm = !0;
        S.d = ~~(B.d * C);
        S.v = ~~(B.v * C);
        S.buffer = t.m(S.d * S.v * 4);
        var T = new d5(C, 0, 0, C, -B.x * C, -B.y * C)
            , A = {
                a7: g9.yK(d),
                a7k: E
            };
        g9.y9(I, d.children, S, T, A, new d5, 0);
        if (S.t.length == 0) {
            var i = S.rY();
            i.wN("Layer");
            S.t.push(i)
        }
    }
        ;
    g9.N7 = function (Y) {
        var S = " ";
        if (Y.indexOf(",") != -1)
            S = ",";
        return Y.split(S).map(parseFloat)
    }
        ;
    g9.y9 = function (Y, S, h, q, H, I, E) {
        var d = g9
            , B = ["display", "opacity", "fill-opacity"];
        for (var n = 0; n < S.length; n++) {
            var g = S[n]
                , z = g.tagName
                , p = g.getAttribute("id")
                , C = d.yK(g, H.a7k)
                , A = 13
                , O = 1
                , x = "clip-path"
                , u = null;
            for (var T in H.a7)
                if (B.indexOf(T) == -1 && C[T] == null)
                    C[T] = H.a7[T];
            if (C["font-size"])
                A = d.$A(C["font-size"], A);
            if (g.getAttribute("dx"))
                q.TR += d.$A(g.getAttribute("dx"), A);
            if (g.getAttribute("dy"))
                q.Un += d.$A(g.getAttribute("dy"), A);
            var i = d.Jf(g);
            i.concat(q);
            var e = g.getAttribute("visibility")
                , a = C.display
                , Z = h.rY();
            if (e == "hidden" || a == "none")
                Z.yR(!1);
            Z.wN(p != null ? p.split(":::")[0] : "Layer");
            if (C.opacity)
                O *= parseFloat(C.opacity);
            if (C["fill-opacity"]) {
                var c = parseFloat(C["fill-opacity"]);
                if (c != 0)
                    O *= c
            }
            Z.opacity = Math.round(255 * O);
            if (C["mix-blend-mode"]) {
                var s = iS.ZR.indexOf(C["mix-blend-mode"]);
                if (s != -1)
                    Z.XC = iS.LQ[s]
            }
            if (g.getAttribute(x) == null)
                x = "mask";
            if (g.getAttribute(x) != null) {
                var y = g.getAttribute(x);
                y = y.slice(4, y.length - 1);
                var j = Y.getElementById(y.slice(1));
                if (j) {
                    var v = j.children;
                    u = h.rY();
                    u.wN("Clip-Path" + (p ? ": " + p : ""));
                    u.add.lsct = E < 2 ? hg.fC : hg.N4;
                    u.XC = "pass";
                    u.xa = 24;
                    debugger
                    var X = u.add.vmsk = new M.cJ;
                    h.t.push(h.Ue());
                    var N = [];
                    if (j.getAttribute(x)) {
                        var y = j.getAttribute(x);
                        y = y.slice(4, y.length - 1);
                        N = Y.getElementById(y.slice(1)).children
                    }
                    for (var G = 0; G < v.length; G++) {
                        var V = d.Jf(v[G]);
                        V.concat(i);
                        var $ = d.Kp(Y, v[G], !1).slice(2);
                        t.Y.$M($, V);
                        X.b = X.b.concat($)
                    }
                    for (var G = 0; G < N.length; G++) {
                        var V = d.Jf(v[G]);
                        V.concat(i);
                        var $ = d.Kp(Y, N[G], !1).slice(2);
                        for (var w = 0; w < $.length; w++)
                            if ($[G].Mg != null)
                                $[G].Mg = 3;
                        t.Y.$M($, V);
                        X.b = X.b.concat($)
                    }
                    u.Ir();
                    u._A();
                    E++
                }
            }
            if (z == "g" || z == "a" || z == "svg" || z == "switch" || (z == "text" || z == "textPath") && g.children.length > 0) {
                if (z == "text")
                    I = d.dl(g, I);
                var m = g.getAttribute("viewBox")
                    , l = g.getAttribute("width")
                    , b = g.getAttribute("height");
                if (m && l && b) {
                    var K = g9.N7(m)
                        , J = d.dl(g)
                        , R = new d5;
                    R.translate(-K[0], -K[1]);
                    R.scale(parseFloat(l) / K[2], parseFloat(b) / K[3]);
                    R.translate(J.TR, J.Un);
                    R.concat(i);
                    i = R
                }
                var r = g.children.length
                    , f = H.a7;
                H.a7 = C;
                var gf = z != "text" && z != "textPath" || r > 1;
                if (gf) {
                    var aa = Z.yj();
                    Z.add.lsct = E < 2 && aa && (p == null || !p.endsWith(":::")) ? hg.fC : hg.N4;
                    Z.XC = "pass";
                    Z.xa = 24;
                    Z.yR(aa);
                    h.t.push(h.Ue())
                }
                d.y9(Y, g.children, h, i, H, I, E + 1);
                if (gf)
                    h.t.push(Z);
                else {
                    var aA = h.t[h.t.length - 1];
                    aA.opacity = Z.opacity;
                    aA.XC = Z.XC
                }
                H.a7 = f
            } else if (z == "use") {
                var R = d.dl(g);
                R.concat(i);
                var e5 = d.h_(g)
                    , fk = Y.getElementById(e5.slice(1))
                    , f = H.a7;
                H.a7 = C;
                d.y9(Y, [fk], h, R, H, I, E + 1);
                H.a7 = f
            } else if (z == "path" || z == "rect" || z == "circle" || z == "ellipse" || z == "polygon" || z == "polyline" || z == "line") {
                Z.xa |= 16;
                debugger
                Z.add.vmsk = new M.cJ;
                Z.add.vstk = JSON.parse(JSON.stringify(ai.Ig.default));
                Z.add.vstk.strokeEnabled.v = !1;
                var o = Z.add.vstk
                    , X = Z.add.vmsk;
                X.b = d.Kp(Y, g, C["fill-rule"] == "evenodd");
                t.Y.$M(X.b, i);
                var eY = t.Y.c9(X.b)
                    , du = C.stroke
                    , dV = C["stroke-width"]
                    , hy = C["stroke-dasharray"]
                    , bq = C.fill
                    , i5 = C["stroke-linejoin"]
                    , hX = C["stroke-linecap"]
                    , bY = C["paint-order"];
                if (du == null || du == "none" || du == "null") { } else {
                    var ds = d.SY(Y, du, i, eY)
                        , hV = ["SoFi", "GrFl", "patternFill"].indexOf(ds.type)
                        , gF = ds.G.v.Opct.v
                        , a5 = 1;
                    if (gF.val != 100) {
                        Z.opacity = Math.round(Z.opacity * gF.val / 100);
                        gF.val = 100
                    }
                    var co = [ai.pJ, ai.eK, ai.PV][hV]
                        , c_ = o.strokeStyleContent.v = {
                            classID: ai.Ig.bj[hV]
                        };
                    for (var G = 0; G < co.length; G++)
                        c_[co[G]] = ds.G.v[co[G]];
                    dV = dV ? parseFloat(dV) : 1;
                    if (bY && bY.replace(/\s\s+/g, " ").slice(0, 11) == "stroke fill") {
                        a5 = 2;
                        dV /= 2
                    }
                    o.strokeEnabled.v = !0;
                    if (i5)
                        o.strokeStyleLineJoinType.v.strokeStyleLineJoinType = ai.Ig.join[["miter", "round", "bevel"].indexOf(i5)];
                    if (hX)
                        o.strokeStyleLineCapType.v.strokeStyleLineCapType = ai.Ig.Og[["butt", "round", "square"].indexOf(hX)];
                    o.strokeStyleLineWidth.v.val = dV * U.o.Fu(i);
                    o.strokeStyleLineAlignment.v.strokeStyleLineAlignment = ai.Ig.ZK[a5];
                    o.strokeStyleOpacity.v.val = 100 * (C["stroke-opacity"] ? parseFloat(C["stroke-opacity"]) : 1);
                    if (hy != null && hy != "none")
                        o.strokeStyleLineDashSet.v = av.wL(hy.split(",").map(parseFloat), 1 / dV)
                }
                if (bq == "none" || C["fill-opacity"] && parseFloat(C["fill-opacity"]) == 0) {
                    Z.add.vstk.fillEnabled.v = !1;
                    Z.add.SoCo = {
                        classID: "null",
                        Clr: {
                            t: "Objc",
                            v: t.W.Da({
                                h: 0,
                                l: 0,
                                O: 0
                            })
                        }
                    }
                } else {
                    var ds = d.SY(Y, bq, i, eY)
                        , gb = null
                        , iC = null;
                    if (ds.type == "SoFi") {
                        gb = "SoCo";
                        iC = ai.pJ
                    }
                    if (ds.type == "GrFl") {
                        gb = "GdFl";
                        iC = ai.eK
                    }
                    if (ds.type == "patternFill") {
                        gb = "PtFl";
                        iC = ai.PV
                    }
                    if (gb != null) {
                        Z.add[gb] = {
                            classID: "null"
                        };
                        for (var G = 0; G < iC.length; G++) {
                            var T = iC[G];
                            Z.add[gb][T] = ds.G.v[T]
                        }
                    }
                }
                if (C.filter && C.filter != "none") {
                    var cC = C.filter;
                    cC = cC.slice(5, cC.length - 1);
                    if (Y.getElementById(cC)) {
                        var aB = Y.getElementById(cC).children[0];
                        if (aB.tagName == "feGaussianBlur") {
                            Z.add.vmsk.Cm = parseFloat(aB.getAttribute("stdDeviation")) * U.o.Fu(i)
                        }
                    }
                }
                Z.Ir();
                Z._A(h);
                h.t.push(Z)
            } else if ((z == "text" || z == "tspan") && g.textContent != "") {
                I = d.dl(g, I);
                var R = I.clone()
                    , hG = 0;
                R.concat(i);
                if (g.children.length > 0) {
                    var cd = d.yK(g.children[0], H.a7k);
                    for (var T in cd)
                        if (B.indexOf(T) == -1)
                            C[T] = cd[T]
                }
                var dZ = C["xml:space"]
                    , en = g.textContent;
                if (dZ == "preserve")
                    en = en.replace(/\t/g, " ").replace(/\n/g, " ");
                if (p == null)
                    Z.wN(en);
                Z.add.lnsr = "rend";
                debugger
                Z.add.TySh = ap.Hr(0, 0);
                Z.add.TySh.tI = new W(0, 0, 100, 100);
                Z.add.TySh.J = R.clone();
                var cD = Z.add.TySh.lV;
                ap.LB(cD, 0, en);
                var bq = C.fill
                    , hP = C["font-weight"]
                    , ea = C["font-family"]
                    , fp = C["text-decoration"]
                    , du = C.stroke
                    , dV = C["stroke-width"]
                    , bC = C["dominant-baseline"];
                if (bC == "text-before-edge")
                    hG = A;
                else if (bC == "middle")
                    hG = A / 2;
                else if (bC == "hanging")
                    hG = A;
                if (hG != 0)
                    Z.add.TySh.J.translate(0, hG);
                var b3 = ap.Rm(cD, 0, 1);
                if (bq && bq != "none") {
                    var ct = CSS.v_(bq);
                    b3.cD.FillColor = {
                        Type: 1,
                        Values: [1, ct.h / 255, ct.l / 255, ct.O / 255]
                    }
                }
                if (fp == "underline")
                    b3.cD.Underline = !0;
                b3.cD.FontSize = Math.round(A);
                ap.UB(b3, "LiberationSans");
                if (hP == "bold")
                    ap.UB(b3, "LiberationSans-Bold");
                if (ea) {
                    ea = ea.split(",")[0].trim();
                    if (ea[0] == "\"")
                        ea = ea.slice(1);
                    if (ea[ea.length - 1] == "\"")
                        ea = ea.slice(0, ea.length - 1);
                    var fQ = ea + ":" + (hP ? hP : "normal")
                        , cj = {
                            "'DejaVu Sans':normal": "DejaVuSans",
                            "'DejaVu Sans':bold": "DejaVuSans-Bold",
                            "'Nimbus Sans L':normal": "NimbusSanL-Reg",
                            "'Nimbus Sans L':bold": "NimbusSanL-Bol",
                            "Libre Franklin:300": "LibreFranklin-Light",
                            "Libre Franklin:400": "LibreFranklin-Regular",
                            "Libre Franklin:500": "LibreFranklin-Medium",
                            "Libre Franklin:600": "LibreFranklin-SemiBold",
                            "Libre Franklin:700": "LibreFranklin-Bold"
                        };
                    if (cj[fQ])
                        ap.UB(b3, cj[fQ]);
                    else
                        ap.UB(b3, ea)
                }
                if (C["text-anchor"])
                    b3.vY.Justification = ["start", "end", "middle"].indexOf(C["text-anchor"]);
                ap.aN(cD, 0, en.length, b3);
                if (du == null || du == "none") { } else {
                    var fJ = JSON.parse(ai.l_[ai.order.indexOf("FrFX")]);
                    fJ.Clr.v = t.W.Da(CSS.v_(du));
                    fJ.Sz.v.val = Math.round(parseFloat(dV) * U.o.Fu(R));
                    var cM = JSON.parse(ai.default);
                    for (var G = 0; G < ai.order.length; G++)
                        cM[ai.m6[G]] = {
                            t: "VlLs",
                            v: []
                        };
                    cM.frameFXMulti.v.push({
                        t: "Objc",
                        v: fJ
                    });
                    Z.add.lmfx = cM
                }
                h.t.push(Z)
            } else if (z == "image") {
                var e5 = d.h_(g);
                if (e5.slice(0, 4) == "data") {
                    var cc = eD.PY(e5)
                        , cr = cc
                        , bZ = h.IC(cr, Z.getName(), 0, 0);
                    bZ.xa = Z.xa;
                    Z = bZ;
                    var eb = Z.rect.clone();
                    eb.x = eb.y = 0;
                    var gL = g.getAttribute("width")
                        , fn = g.getAttribute("height");
                    if (gL)
                        eb.d = parseFloat(gL);
                    if (fn)
                        eb.v = parseFloat(fn);
                    var aq = d.dl(g);
                    aq.concat(i);
                    var di = t.a.yP(eb).H;
                    t.a.J(di, aq, di);
                    Z.add.SoLd.Trnf = U.o.FQ(di);
                    Z.add.SoLd.nonAffineTransform = U.o.FQ(di);
                    Z.rH(h, !1);
                    h.t.push(Z)
                }
            } else
                console.log("unknown tag: " + z, g.children.length, g.textContent.length);
            if (u != null) {
                h.t.push(u);
                E--
            }
        }
    }
        ;
    g9.Kp = function (Y, S, h) {
        var q = g9
            , H = [{
                type: 6
            }, {
                type: 8,
                all: 0
            }]
            , I = S.tagName;
        if (I == "use") {
            var E = q.h_(S)
                , d = Y.getElementById(E.slice(1))
                , B = new d5;
            if (d.tagName != "rect")
                B = q.dl(d);
            B.concat(q.Jf(d));
            H = q.Kp(Y, d, h);
            t.Y.$M(H, B)
        } else if (I == "path") {
            var n = S.getAttribute("d");
            if (n == null)
                return H;
            var g = Typr.U.SVGToPath(n);
            H = t.a.QG({
                H: g.crds,
                Z: g.cmds
            }, h)
        } else if (I == "rect") {
            var z = S.getAttribute("rx")
                , p = q.dl(S);
            H = t.Y.jZ.Rect(p.TR, p.Un, parseFloat(S.getAttribute("width")), parseFloat(S.getAttribute("height")), z ? parseFloat(z) : 0)
        } else if (I == "circle" || I == "ellipse") {
            var C = [0, 0, 0, 0]
                , T = ["cx", "cy", "rx", "ry", "r"];
            for (var G = 0; G < 5; G++) {
                var A = S.getAttribute(T[G]);
                if (A) {
                    A = parseFloat(A);
                    if (G < 4)
                        C[G] = A;
                    else
                        C[2] = C[3] = A
                }
            }
            H = t.Y.jZ.Xu(C[0] - C[2], C[1] - C[3], 2 * C[2], 2 * C[3])
        } else if (I == "polygon" || I == "polyline" || I == "line") {
            var i;
            if (I == "line")
                i = [S.getAttribute("x1"), S.getAttribute("y1"), S.getAttribute("x2"), S.getAttribute("y2")].map(parseFloat);
            else
                i = S.getAttribute("points").trim().replace(/\s\s+/g, " ").split(",").join(" ").split(" ").map(parseFloat);
            H = t.Y.jZ.BB(i, 0, I != "polygon")
        }
        return H
    }
        ;
    g9.$A = function (Y, S) {
        if (Y.charAt(Y.length - 1) == "m")
            return S * parseFloat(Y.slice(0, Y.length - 2));
        else
            return parseFloat(Y)
    }
        ;
    g9.SY = function (Y, S, h, q) {
        var H, I, E = g9, d = JSON.parse(ai.l_[ai.order.indexOf("SoFi")]), B = S != null ? S.indexOf("(") : -1;
        if (B != -1) {
            var n = S.indexOf(")")
                , g = S.slice(0, B).trim()
                , z = S.slice(B + 1, n).trim();
            if (z.charAt(0) == "'")
                z = z.slice(1, z.length - 1);
            if (g == "url") {
                if (z.charAt(0) == "#") {
                    var p = Y.getElementById(z.slice(1));
                    if (p && p.tagName.toLowerCase().endsWith("gradient")) {
                        var C = E.OD(Y, p, h, q);
                        H = "GrFl";
                        I = {
                            t: "Objc",
                            v: C
                        }
                    } else {
                        H = "SoFi";
                        I = {
                            t: "Objc",
                            v: d
                        }
                    }
                } else
                    console.log("unknown url", z)
            } else if (g == "rgb" || g == "rgba") {
                H = "SoFi";
                I = {
                    t: "Objc",
                    v: d
                };
                I.v.Clr.v = t.W.Da(CSS.v_(S));
                if (g == "rgba")
                    I.v.Opct.v.val = Math.round(100 * parseFloat(S.split(",").pop()))
            } else
                console.log("unknown fill", S)
        } else {
            H = "SoFi";
            I = {
                t: "Objc",
                v: d
            };
            I.v.Clr.v = t.W.Da(CSS.v_(S))
        }
        return {
            type: H,
            G: I
        }
    }
        ;
    g9.Jf = function (Y) {
        var S = new d5
            , h = Y.getAttribute("transform");
        if (h)
            S = g9.BS(h);
        var q = Y.getAttribute("style");
        if (q != null) {
            var H = {};
            g9.Kw(H, q, ["transform"]);
            q = H.transform;
            if (q)
                S.concat(g9.BS(q))
        }
        return S
    }
        ;
    g9.dl = function (Y, S) {
        var h = new d5
            , q = Y.getAttribute("x")
            , H = Y.getAttribute("y");
        if (q)
            h.TR = parseFloat(q);
        else if (S)
            h.TR = S.TR;
        if (H)
            h.Un = parseFloat(H);
        else if (S)
            h.Un = S.Un;
        return h
    }
        ;
    g9.BS = function (Y) {
        var S = Typr.U.SVG.readTrnf(Y);
        return new d5(S[0], S[1], S[2], S[3], S[4], S[5])
    }
        ;
    g9.yK = function (Y, S) {
        var h = {}
            , q = "fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
        for (var G = 0; G < q.length; G++) {
            var H = Y.getAttribute(q[G]);
            if (H != null && H != "inherit")
                h[q[G]] = H
        }
        var I = Y.getAttribute("class");
        if (S != null && I != null && S["." + I] != null)
            g9.Kw(h, S["." + I], q);
        var E = Y.getAttribute("id");
        if (S != null && E != null && S["#" + E] != null)
            g9.Kw(h, S["#" + E], q);
        var d = Y.getAttribute("style");
        if (d != null)
            g9.Kw(h, d, q);
        return h
    }
        ;
    g9.Kw = function (Y, S, h) {
        S = S.trim().split(";");
        for (var G = 0; G < S.length; G++) {
            var q = S[G].split(":")
                , H = q[0] ? q[0].trim() : ""
                , I = q[1] ? q[1].trim() : "";
            for (var E = 0; E < h.length; E++)
                if (H == h[E] && I != "inherit")
                    Y[h[E]] = I
        }
    }
        ;
    g9.h_ = function (Y) {
        var S = Y.getAttribute("xlink:href");
        if (S == null)
            S = Y.getAttribute("href");
        return S
    }
        ;
    g9.OD = function (Y, S, h, q) {
        var H = g9
            , I = new d5
            , E = S.getAttribute("gradientTransform");
        if (E)
            I = H.BS(E);
        I.concat(h);
        var d = JSON.parse(ai.l_[ai.order.indexOf("GrFl")])
            , B = d.Grad.v;
        B.Intr.v = 0;
        var n = S.tagName
            , g = new aV(0, 0)
            , z = new aV(q.d, 0);
        if (n == "linearGradient") {
            d.Type.v.GrdT = "Lnr";
            if (S.getAttribute("x1"))
                g.x = parseFloat(S.getAttribute("x1"));
            if (S.getAttribute("y1"))
                g.y = parseFloat(S.getAttribute("y1"));
            if (S.getAttribute("x2"))
                z.x = parseFloat(S.getAttribute("x2"));
            if (S.getAttribute("y2"))
                z.y = parseFloat(S.getAttribute("y2"));
            g.x = z.x + .5 * (g.x - z.x);
            g.y = z.y + .5 * (g.y - z.y)
        }
        if (n == "radialGradient") {
            d.Type.v.GrdT = "Rdl";
            if (S.getAttribute("cx"))
                g.x = parseFloat(S.getAttribute("cx"));
            if (S.getAttribute("cy"))
                g.y = parseFloat(S.getAttribute("cy"));
            z.bm(g.x, g.y);
            if (S.getAttribute("r"))
                z.x += parseFloat(S.getAttribute("r"))
        }
        if (S.getAttribute("gradientUnits") == "userSpaceOnUse") {
            g = I.I_(g);
            z = I.I_(z)
        } else {
            g.x = q.x + g.x * q.d;
            g.y = q.y + g.y * q.v;
            z.x = q.x + z.x * q.d;
            z.y = q.y + z.y * q.v
        }
        t.W.Nd(g, z, q, d);
        var p = S.children;
        if (p.length == 0) {
            var C = H.h_(S);
            if (C == null)
                throw "gradient has no stops";
            var T = Y.getElementById(C.slice(1));
            if (T == null) {
                console.log(C.slice(1));
                throw "e"
            }
            var A = H.OD(Y, T, I, q);
            d.Grad = A.Grad
        } else {
            var i = [];
            for (var G = 0; G < p.length; G++) {
                var e = p[G]
                    , a = H.yK(e)
                    , Z = a["stop-color"]
                    , O = a["stop-opacity"]
                    , c = e.getAttribute("offset");
                if (Z == null)
                    Z = "#000000";
                if (O == null)
                    O = "1";
                var s = c ? parseFloat(c) : 0;
                Z = CSS.v_(Z);
                i.push([s, [Z.h / 255, Z.l / 255, Z.O / 255], parseFloat(O)])
            }
            t.W.uX(i, B)
        }
        return d
    }
        ;
    g9.nq = function (Y, S, h) {
        var q = []
            , H = g9;
        H.WR = S.al$ ? "\t" : "";
        var I = S.aon
            , E = S.a96;
        q.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 " + Y.d + " " + Y.v + "\" width=\"" + I + "\" height=\"" + E + "\">");
        var d = {
            QM: [],
            Eq: [],
            Sw: 0,
            uM: 0,
            QD: 0,
            dW: {},
            RZ: {},
            S3: 0,
            pB: {},
            pN: {},
            f5: 0,
            Z7: []
        };
        g9.GB(Y, d, Y.root.children, 1, S, h);
        if (d.QM.length != 0) {
            q.push(H.Iu(1) + "<defs>");
            q = q.concat(d.QM);
            q.push(H.Iu(1) + "</defs>")
        }
        q.push(H.Iu(1) + "<style>");
        q.push(H.Iu(2) + "tspan { white-space:pre }");
        for (var B in d.pB)
            q.push(H.Iu(2) + "." + B + " { " + d.pB[B] + " } ");
        q.push(H.Iu(1) + "</style>");
        q = q.concat(d.Eq);
        q.push("</svg>");
        q = q.join(S.al$ ? "\n" : "");
        var n = t.m(Math.round(q.length * 1.5))
            , g = k.U9(q, n, 0);
        if (H.HX) {
            console.log(H.HX);
            var z = "SVGParser.gen.db = [\n";
            for (var G = 0; G < H.HX.length; G++) {
                var p = H.HX[G];
                z += "{\n\tnam: \"" + p.Us + "\",\n\tpts: [\n";
                for (var C = 0; C < p.YF.length; C++) {
                    var T = p.YF[C];
                    z += "\t\t[\"" + T[0] + "\", { cmds: " + JSON.stringify(T[1].Z) + ", crds:" + JSON.stringify(T[1].H) + " } ]" + (C == p.YF.length - 1 ? "" : ",") + "\n"
                }
                z += "\t]\n}" + (G == H.HX.length - 1 ? "" : ",") + "\n"
            }
            z += "]\n";
            console.log(z)
        }
        return n.buffer.slice(0, g)
    }
        ;
    g9.WR = "";
    g9.Iu = function (D) {
        var Y = "";
        for (var G = 0; G < D; G++)
            Y += g9.WR;
        return Y
    }
        ;
    g9.cG = function (D) {
        return "" + parseFloat(D.toFixed(3))
    }
        ;
    g9.GB = function (Y, S, h, q, H, I) {
        var E = g9;
        for (var d = 0; d < h.length; d++) {
            var B = h[d].$
                , n = B.add.lsct
                , g = B.add.vmsk
                , z = B.add.vstk
                , p = B.add.TySh
                , C = [];
            if (!H.hidden && !B.yj())
                continue;
            var T = B.opacity / 255
                , A = B.add.iOpa ? B.add.iOpa / 255 : 1;
            if (T != 1)
                C.push("opacity: " + E.cG(T));
            if (A != 1)
                C.push("fill-opacity: " + E.cG(A));
            if (B.XC != "norm") {
                var i = iS.ZR[iS.LQ.indexOf(B.XC)];
                if (i != null)
                    C.push("mix-blend-mode: " + i)
            }
            if (!B.yj())
                C.push("display: none");
            var e = []
                , a = []
                , Z = B.getName()
                , O = Z.indexOf(" .");
            if (O != -1) {
                a.push(Z.slice(O + 2));
                Z = Z.slice(0, O)
            }
            if (H.names)
                e.push("id=\"" + E.V7(Z) + "\"");
            var c = B.add.lmfx;
            if (c)
                c = c.solidFillMulti.v[0];
            if (c)
                c = c.v;
            if (c && !c.enab.v)
                c = null;
            if (B.i4()) {
                var s = h[d].children;
                if (!(s.length == 1 && s[0].$.add.SoLd && !H.MU)) {
                    if (E.HX && B.getName().split("-").length == 3) {
                        E.HX.push({
                            Us: B.getName(),
                            Li: 0,
                            YF: []
                        })
                    }
                    if (g || B.add.artb) {
                        var x;
                        if (g)
                            x = t.Y.iT(g.b).adD;
                        else {
                            var u = B.aG()
                                , y = t.a.yP(u);
                            x = Typr.U.pathToSVG({
                                crds: y.H,
                                cmds: y.Z
                            }, 2)
                        }
                        S.QD++;
                        e.push("clip-path=\"url(#cp" + S.QD + ")\"");
                        S.QM.push(E.Iu(2) + "<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp" + S.QD + "\">");
                        S.QM.push(E.Iu(3) + "<path d=\"" + x + "\" />");
                        S.QM.push(E.Iu(2) + "</clipPath>")
                    }
                    if (C.length != 0)
                        e.push("style=\"" + C.join(";") + "\"");
                    S.Eq.push(E.Iu(q) + "<g " + E.d5(e, a) + ">");
                    E.GB(Y, S, s, q + 1, H, I);
                    S.Eq.push(E.Iu(q) + "</g>")
                }
            } else if (B.uy() && g == null) {
                var j = new W(0, 0, Y.d, Y.v);
                E._M(C, B.add, S, j);
                if (C.length != 0)
                    e.push("style=\"" + C.join(";") + "\"");
                S.Eq.push(E.Iu(q) + "<rect width=\"" + Y.d + "\" height=\"" + Y.v + "\" " + E.d5(e, a) + " />")
            } else if (g) {
                var j = t.Y.c9(g.b)
                    , x = t.Y.iT(g.b);
                if (x.Cq != 0) {
                    e.push("fill-rule=\"evenodd\"")
                }
                var v = x.adD;
                E._M(C, B.add, S, j);
                if (C.length != 0) {
                    var X = C.join(";")
                        , N = S.pN[X];
                    if (N == null) {
                        N = "shp" + S.f5;
                        S.f5++;
                        S.pN[X] = N;
                        S.pB[N] = X
                    }
                    a.push(N)
                }
                S.Eq.push(E.Iu(q) + "<path " + E.d5(e, a) + " d=\"" + v + "\" />");
                if (E.HX && E.HX[E.HX.length - 1]) {
                    var V = t.a.df(g.b);
                    V.H = V.H.map(Math.round);
                    var $ = E.HX[E.HX.length - 1];
                    $.Li += JSON.stringify(V).length;
                    $.YF.push([C[0].split("#").pop(), V])
                }
            } else if (p && H.afO) {
                var w = p.lV
                    , m = new cm(w, I);
                if (c)
                    e.push("fill=\"" + CSS.Qj(c.Clr.v) + "\"");
                var l = gd.Ht(m, p)
                    , b = t.a.eD(l);
                for (var K in b) {
                    if (c == null)
                        e.push("fill=\"" + K + "\"");
                    var y = b[K]
                        , v = Typr.U.pathToSVG({
                            crds: y.H,
                            cmds: y.Z
                        }, 2);
                    S.Eq.push(E.Iu(q) + "<path " + E.d5(e, a) + " d=\"" + v + "\" />");
                    if (c == null)
                        e.pop()
                }
            } else if (p && !H.a5w) {
                var w = p.lV
                    , J = p.J.clone()
                    , du = 0
                    , dV = 0;
                if (ap.Vu(w) == 1) {
                    var R = ap.Rm(w, 0, 0).vY.Justification
                        , r = 0
                        , f = ap.mu(w)[2];
                    if (R == 2)
                        r = f / 2;
                    if (R == 1)
                        r = f;
                    J.translate(r, 0)
                }
                C.push("transform: " + E.Ow(J));
                var aa = ap.lo(w)
                    , aA = w.EngineDict.ParagraphRun
                    , e5 = aA.RunArray
                    , fk = aA.RunLengthArray;
                if (C.length != 0)
                    e.push("style=\"" + C.join(";") + "\"");
                S.Eq.push(E.Iu(q) + "<text " + E.d5(e, a) + " >");
                var o = B.add.lmfx;
                if (o)
                    o = o.frameFXMulti.v[0];
                if (o)
                    o = o.v;
                var eY = c ? CSS.Qj(c.Clr.v) : null;
                for (var G = 0; G < e5.length; G++) {
                    var hy = []
                        , bq = fk[G]
                        , i5 = aa.slice(du, du + bq - 1)
                        , hX = ap.Rm(w, du, du)
                        , bY = hX.GZ[hX.cD.Font].Name;
                    if (S.Z7.indexOf(bY) == -1)
                        S.Z7.push(bY);
                    CSS.xs(hy, hX, p.J, !0, !0, eY);
                    if (o) {
                        C.push("stroke: " + CSS.Qj(o.Clr.v));
                        C.push("stroke-width: " + o.Sz.v.val)
                    }
                    var ds = hX.cD.FontSize * 1.12;
                    if (G == 0)
                        ds = ap.Vu(w) == 0 ? 0 : hX.cD.FontSize;
                    dV += ds;
                    if (i5 != "") {
                        var X = hy.join(";")
                            , N = S.pN[X]
                            , gF = "";
                        if (N == null) {
                            N = "txt" + S.f5;
                            S.f5++;
                            S.pN[X] = N;
                            S.pB[N] = X
                        }
                        var hV = hX.cD.Tracking;
                        if (hV != null && hV != 0) {
                            hV = Math.round(hV * hX.cD.FontSize / 1e3);
                            gF = " dx=\"0";
                            for (var co = 1; co < i5.length; co++)
                                gF += " " + hV;
                            gF += "\" "
                        }
                        S.Eq.push(E.Iu(q + 1) + "<tspan x=\"0\" y=\"" + E.cG(dV) + "\" class=\"" + N + "\"" + gF + ">" + E.V7(i5) + "</tspan>")
                    }
                    du += bq
                }
                S.Eq.push(E.Iu(q) + "</text>")
            } else if (B.add.SoLd && H.MU) {
                var c_ = B.add.SoLd
                    , a5 = c_.Idnt.v
                    , gb = 0
                    , iC = c_.Crop ? c_.Crop.v : null;
                if (S.RZ[a5] != null)
                    gb = S.RZ[a5];
                else {
                    S.S3++;
                    gb = S.S3;
                    S.RZ[a5] = S.S3;
                    var cC = Y.Ky(a5, iC)
                        , dZ = "";
                    if (cC == null)
                        return;
                    var aB = cC.aE
                        , cd = eD.hj(cC.raw.buffer);
                    if (cd == "pdf") {
                        var en = new dh("h");
                        eD.Oh("PDF").C3(cC.raw.buffer, en);
                        en.Ko();
                        en.gQ();
                        en.s();
                        en.aj();
                        if (c_.Crop && c_.Crop.v == 1) {
                            U.AQ.Yf(en, en.root.i6(en, !0))
                        }
                        var cD = eD.Oh("SVG").rr(en, en.d, en.v, null, {
                            Z7: I
                        });
                        dZ = "data:image/svg+xml;base64," + eD.iS(cD)
                    } else if (cd == "jpg" || cd == "png" || cd == "gif" || cd == "svg") {
                        var hP = {
                            jpg: "image/jpg",
                            png: "image/png",
                            jpg: "image/jpg",
                            svg: "image/svg+xml"
                        };
                        dZ = "data:" + hP[cd] + ";base64," + eD.iS(cC.raw.buffer)
                    } else {
                        dZ = eD.Z9(aB[0].buffer, aB[1].d, aB[1].v)
                    }
                    S.QM.push(E.Iu(2) + "<image width=\"" + aB[1].d + "\" height=\"" + aB[1].v + "\" id=\"img" + gb + "\" href=\"" + dZ + "\"/>")
                }
                var ea = t.I.to(c_);
                if (C.length != 0)
                    e.push("style=\"" + C.join(";") + "\"");
                var fp = E.d5(e, a);
                S.Eq.push(E.Iu(q) + "<use " + fp + " href=\"#img" + gb + "\" transform=\"" + E.Ow(ea) + "\"/>")
            } else if (!B.rect.fa() && (H.MU || p)) {
                if (C.length != 0)
                    e.push("style=\"" + C.join(";") + "\"");
                var fp = E.d5(e, a)
                    , bC = B.buffer;
                if (c)
                    bC = av.Lg(bC, c, B.rect);
                var hG = B.rect;
                S.S3++;
                var dZ = eD.Z9(bC.buffer, hG.d, hG.v, "png", null, !0);
                S.QM.push(E.Iu(2) + "<image width=\"" + B.rect.d + "\" height=\"" + B.rect.v + "\" id=\"img" + S.S3 + "\" href=\"" + dZ + "\"/>");
                S.Eq.push(E.Iu(q) + "<use " + fp + " href=\"#img" + S.S3 + "\" x=\"" + hG.x + "\" y=\"" + hG.y + "\" />")
            }
        }
    }
        ;
    g9.d5 = function (Y, S) {
        if (S.length != 0)
            Y.push("class=\"" + S.join(" ") + "\"");
        return Y.join(" ")
    }
        ;
    g9.V7 = function (Y) {
        return String(Y).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/\u0022/g, "&quot;")
    }
        ;
    g9.Ow = function (Y) {
        var S = [Y.R, Y.O, Y.Pb, Y.RH, Y.TR, Y.Un].map(g9.cG);
        return "matrix(" + S.join(",") + ")"
    }
        ;
    g9._M = function (Y, S, h, q) {
        var H = g9
            , I = S.vstk
            , E = S.vmsk
            , d = S.lmfx;
        if (E && E.Cm != 0) {
            var B = H.cG(E.Cm);
            if (h.dW[B] == null) {
                h.uM++;
                h.dW[B] = h.uM;
                h.QM.push(H.Iu(2) + "<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"flt" + h.uM + "\"> <feGaussianBlur stdDeviation=\"" + B + "\" /> </filter>")
            }
            Y.push("filter: url(#flt" + h.dW[B] + ")")
        }
        var n = av.qk(d, S)
            , g = n[0]
            , z = n[1];
        if (I && !I.fillEnabled.v)
            Y.push("fill: none");
        else if (g) {
            var p = CSS.Qj(g.Clr.v);
            Y.push("fill: " + p)
        } else if (z) {
            H.g_(z, h, q);
            Y.push("fill: url(#grd" + h.Sw + ")")
        }
        if (I == null || !I.strokeEnabled.v)
            I = av.qW(d);
        if (I && I.strokeEnabled.v) {
            var C = I.strokeStyleContent.v
                , T = C.classID;
            if (T == "solidColorLayer")
                Y.push("stroke: " + CSS.Qj(C.Clr.v));
            else {
                H.g_(C, h, q);
                Y.push("stroke: url(#grd" + h.Sw + ")")
            }
            var A = ai.Ig.Og.indexOf(I.strokeStyleLineCapType.v.strokeStyleLineCapType)
                , i = ai.Ig.join.indexOf(I.strokeStyleLineJoinType.v.strokeStyleLineJoinType)
                , e = I.strokeStyleOpacity.v.val / 100
                , a = I.strokeStyleLineWidth.v.val
                , Z = ai.Ig.ZK.indexOf(I.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
            if (Z == 2) {
                a *= 2;
                Y.push("paint-order:stroke fill markers")
            }
            var O = I.strokeStyleLineDashSet.v
                , c = [];
            for (var G = 0; G < O.length; G++)
                c.push(Math.round(O[G].v.val * a));
            if (A != 0)
                Y.push("stroke-linecap:" + ["butt", "round", "square"][A]);
            if (i != 0)
                Y.push("stroke-linejoin:" + ["miter", "round", "bevel"][i]);
            if (e != 1)
                Y.push("stroke-opacity:" + H.cG(e));
            if (a != 1)
                Y.push("stroke-width: " + H.cG(a));
            if (c.length != 0)
                Y.push("stroke-dasharray: " + c.join(","))
        }
    }
        ;
    g9.g_ = function (Y, S, h) {
        S.Sw++;
        var q = g9
            , H = Y.Grad.v
            , I = H.Clrs.v.slice(0)
            , E = H.Trns.v.slice(0)
            , d = Y.Ofst.v
            , B = Y.Type.v.GrdT == "Rdl" ? 1 : 0
            , n = (B == 1 ? "radial" : "linear") + "Gradient"
            , g = t.W.RR(Y, h);
        if (B == 0) {
            g[0].x = g[1].x + 2 * (g[0].x - g[1].x);
            g[0].y = g[1].y + 2 * (g[0].y - g[1].y)
        }
        var z = q.Iu(2) + "<" + n + " id=\"grd" + S.Sw + "\" gradientUnits=\"userSpaceOnUse\" ";
        if (B == 0)
            S.QM.push(z + " x1=\"" + q.cG(g[0].x) + "\" y1=\"" + q.cG(g[0].y) + "\" x2=\"" + q.cG(g[1].x) + "\" y2=\"" + q.cG(g[1].y) + "\">");
        if (B == 1)
            S.QM.push(z + " cx=\"" + q.cG(g[0].x) + "\" cy=\"" + q.cG(g[0].y) + "\" r=\"" + q.cG(aV.kr(g[0], g[1])) + "\">");
        var p = Y.Rvrs.v;
        if (p) {
            I.reverse();
            E.reverse()
        }
        for (var G = 0; G < I.length; G++) {
            var C = I[G].v
                , T = G < E.length ? E[G].v.Opct.v.val / 100 : 1
                , T = T == 1 ? "" : "stop-opacity=\"" + q.cG(T) + "\""
                , A = C.Lctn.v / 4096;
            if (p)
                A = 1 - A;
            S.QM.push(q.Iu(3) + "<stop offset=\"" + q.cG(A) + "\" stop-color=\"" + CSS.Qj(C.Clr.v) + "\" " + T + " />")
        }
        S.QM.push(q.Iu(2) + "</" + n + ">")
    }
        ;
    g9.jZ = function (Y, S, h, q, H) {
        var I = []
            , E = g9.jZ
            , d = !1
            , B = {
                rz: Y,
                UR: S,
                Lf: [!0, !0, !0],
                Wy: !1,
                sU: h,
                adF: 0
            };
        B.PA = Math.round(Math.max(Y, S) * (.02 + E.TL(B) * .03));
        B.Uv = E.ae3(B);
        B.eV = E.ad7(B.Uv, (E.TL(B) < .5 ? -1 : 1) * (.2 + E.TL(B) * .3));
        if (E.TL(B) < .5) {
            var n = B.Uv;
            B.Uv = B.eV;
            B.eV = n
        }
        B.aiR = E.TL(B) < .4 && E.ann(B.eV, {
            h: 1,
            l: 1,
            O: 1
        }) > .3;
        B.aou = E.TL(B) < .5 ? 0 : 1;
        I.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 " + Y + " " + S + "\" width=\"" + Y + "\" height=\"" + S + "\">");
        B.gb = q[Math.floor(E.HI(B) * q.length)];
        B.ge = q[Math.floor(E.HI(B) * q.length)];
        I.push("<style>");
        I.push("@font-face {  font-family: " + B.gb[2] + ";  src: url(rsrc/fonts/" + B.gb[5] + ");  }");
        I.push("@font-face {  font-family: " + B.ge[2] + ";  src: url(rsrc/fonts/" + B.ge[5] + ");  }");
        I.push("</style>");
        var g = [0, 0, Y, S]
            , z = g;
        if (H == null)
            I.push("<path style=\"fill: " + E.oP(B.Uv) + "\" d=\"" + E.Rect(g[0], g[1], g[2] - g[0], g[3] - g[1]) + "\" id=\"Background\" />");
        else {
            B.Wy = !0;
            E.GJ(B, g, I, H)
        }
        if (E.TL(B) < .25 && !B.Wy) {
            B.Lf[0] = B.Lf[2] = !1;
            E.afY(g, B, I);
            z = g
        } else if (E.TL(B) < .25 || B.Wy)
            z = g;
        else {
            var p = .52 + E.TL(B) * .2;
            if (E.TL(B) < .5)
                p = 1 - p;
            var C = g.slice(0)
                , T = g.slice(0);
            if (E.TL(B) < .5)
                C[2] = T[0] = Math.round(p * Y);
            else
                C[3] = T[1] = Math.round(p * S);
            if (E.TL(B) < .5) {
                var n = C;
                C = T;
                T = n
            }
            z = C;
            E.a5z(B, T, I, H)
        }
        E.aaN(B, z, I);
        I.push("</svg>");
        I = I.join("\n");
        var A = t.m(Math.round(I.length * 1.5))
            , i = k.U9(I, A, 0);
        return [A.buffer.slice(0, i), B.Vi]
    }
        ;
    g9.jZ.afY = function (Y, S, h) {
        var q = g9.jZ
            , H = Y[2] - Y[0]
            , I = Y[3] - Y[1];
        if (q.TL(S) < .5) {
            h.push("<path id=\"Border\" style=\"fill: " + q.oP(S.eV) + "\" d=\"" + q.afh(Y[0], Y[1], Y[2] - Y[0], Y[3] - Y[1], S.PA) + "\" />")
        } else if (q.TL(S) < -.4) {
            q.ady(S, Y, h)
        } else {
            var E = q.TL(S) < .5 ? 0 : 1
                , d = (E == 0 ? I : H) / 4
                , B = q.nz(S, E, Y, h, d, !0)
                , B = q.nz(S, E + 2, Y, h, d, !0, B)
        }
    }
        ;
    g9.jZ.aaN = function (Y, S, h) {
        var q = g9.jZ
            , H = "Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-")
            , I = 2 * Math.floor(q.TL(Y) * H.length / 2)
            , E = S[2] - S[0]
            , d = S[3] - S[1]
            , n = 0
            , z = 0;
        Y.Hh = (Y.rz + E) * .5 * (.04 + q.TL(Y) * .05);
        Y.Hh = Math.min(Y.Hh, d * .4, E * .12);
        Y.Hh = Math.round(Y.Hh);
        var B = Math.min(Y.Hh * H[I].length * (.35 + .3 * q.TL(Y)), E * .9)
            , g = (S[1] + S[3]) / 2
            , p = t.s4(Y.Uv) < .85 ? {
                h: 1,
                l: 1,
                O: 1
            } : {
                    h: .1,
                    l: .1,
                    O: .1
                };
        if (q.TL(Y) < .25 && Y.Lf[0]) {
            z = 0;
            n = S[0] + Y.PA
        } else if (q.TL(Y) < .33 && Y.Lf[2]) {
            z = 2;
            n = S[2] - Y.PA
        } else {
            z = 1;
            n = (S[0] + S[2]) / 2
        }
        var C = p.h == 1 ? "0,0,0" : "255,255,255"
            , T = Y.Wy && q.TL(Y) < 1;
        if (T) {
            var A = S[0]
                , i = E
                , e = g - Y.Hh * 1.1
                , a = Y.Hh * 2.2
                , Z = .7;
            if (z == 1 && q.TL(Y) < .5) {
                A = e = .2 * Math.min(E, d);
                i = E - 2 * e;
                a = d - e - e
            } else if (q.TL(Y) < .7) {
                A = e = 0;
                i = E;
                a = d;
                Z = .25
            }
            h.push("<path id=\"Strip\" style=\"fill: rgb(" + C + "); opacity: " + Z + "\" d=\"" + q.Rect(A, e, i, a) + "\" />")
        }
        if (q.TL(Y) < .4) {
            var O = Y.Hh * .07;
            O *= 1.5 + q.TL(Y) * 1;
            if (z == -1 && E / d < 3 && !T) {
                h.push("<path id=\"Bar-bottom\" style=\"fill: " + q.oP(p) + "\" d=\"" + q.Rect(n - B / 2, g + Y.Hh * 1.1 - O / 2, B, O) + "\" />");
                h.push("<path id=\"Bar-top\"    style=\"fill: " + q.oP(p) + "\" d=\"" + q.Rect(n - B / 2, g - Y.Hh * 1.1 - O / 2, B, O) + "\" />")
            }
            if (z != 1) {
                h.push("<path id=\"Bar\" style=\"fill: " + q.oP(p) + "\" d=\"" + q.Rect(n - O / 2, g - Y.Hh * .8, O, Y.Hh * .8 * 2) + "\" />");
                n += (z == 0 ? 1 : -1) * Y.Hh / 3
            }
        }
        var c = Y.Hh * .4;
        h.push(q.hH(H[I + 1], n, g + c * 1.6, c, p, z, Y.ge));
        h.push(q.hH(H[I], n, g + Y.Hh * .04, Y.Hh, p, z, Y.gb))
    }
        ;
    g9.jZ.a5z = function (Y, S, h, q) {
        var H = S[2] - S[0]
            , I = S[3] - S[1]
            , E = Math.max(H, I)
            , d = Math.min(H, I)
            , B = g9.jZ;
        if (E / d < 5 && !Y.Wy && !1) {
            B.GJ(Y, S, h, q)
        } else if (B.TL(Y) < 0)
            h.push("<path style=\"fill: " + B.oP(Y.eV) + "\" d=\"" + B.Rect(S[0], S[1], H, I) + "\" />");
        else {
            var n = 0;
            if (S[3] != Y.UR)
                n = 0;
            if (S[2] != Y.rz)
                n = 3;
            if (S[0] != 0)
                n = 1;
            if (S[1] != 0)
                n = 2;
            var g = n + 2 & 3;
            if (E / d < 3) {
                var z = B.akQ(g)
                    , p = z[Math.round(B.TL(Y) * (z.length - 1))]
                    , C = p.Us.slice(0, 4)
                    , T = C.indexOf(1);
                p = JSON.parse(JSON.stringify(p));
                var A = -1;
                if (C != "0000") {
                    var i = new d5;
                    if (p.Us[5] == "0") {
                        if (T == 3 && n == 1) {
                            A = 1;
                            i.scale(-1, 1)
                        } else
                            A = T
                    } else {
                        var e = g;
                        while (e == g)
                            e = Math.floor(B.TL(Y) * 4) & 3;
                        i.rotate((-T + e) * Math.PI / 2)
                    }
                    B.J(p, i)
                }
                var a = B.Zu(p)
                    , Z = H - 2 * Y.PA
                    , O = I - 2 * Y.PA;
                if (A != -1) {
                    if ((A & 1) == 0)
                        O -= Y.PA;
                    else
                        Z -= Y.PA
                }
                var c = Math.min(Z / a.d, O / a.v)
                    , s = new d5;
                s.translate(-a.x, -a.y);
                s.scale(c, c);
                var x = (H - a.d * c) / 2
                    , u = (I - a.v * c) / 2;
                if (A != -1) {
                    if (A == 3)
                        x = 0;
                    if (A == 0)
                        u = 0;
                    if (A == 1)
                        x = H - a.d * c;
                    if (A == 2)
                        u = I - a.v * c
                }
                s.translate(S[0] + x, S[1] + u);
                B.sX(Y, p, s, Y.eV, h)
            } else {
                B.nz(Y, n, S, h, 1e9)
            }
        }
    }
        ;
    g9.jZ.GJ = function (Y, S, h, q) {
        var H = S[2] - S[0], I = S[3] - S[1], E = Math.max(H, I), d = Math.min(H, I), B = g9.jZ, n = B.HI(Y), g, z, p, C = q[0] instanceof ArrayBuffer;
        if (C) {
            g = "data:image/jpg;base64," + gN.h1(q[0]);
            z = q[1];
            p = q[2]
        } else {
            var T = Math.floor(n * q.length)
                , A = q[T];
            Y.Vi = A;
            g = A.webformatURL;
            z = A.webformatWidth;
            p = A.webformatHeight
        }
        var i = S[0]
            , e = S[1]
            , a = H
            , Z = I;
        if (H / I > z / p) {
            Z = a * p / z;
            e = e - (Z - I) / 2
        } else {
            a = Z * z / p;
            i = i - (a - H) / 2
        }
        if (C) {
            h.push("<defs>");
            h.push("<image width=\"" + z + "\" height=\"" + p + "\" id=\"Background\" href=\"" + g + "\" />");
            h.push("</defs>");
            var O = a / z;
            h.push("<use href=\"#Background\" transform=\"" + g9.Ow(new d5(O, 0, 0, O, i, e)) + "\" />")
        } else {
            var c = "cp" + Math.random();
            h.push("<clipPath id=\"" + c + "\">");
            h.push("<path style=\"fill: " + B.oP(Y.eV) + "\" d=\"" + B.Rect(S[0], S[1], H, I) + "\" />");
            h.push("</clipPath>");
            h.push("<image  clip-path=\"url(#" + c + ")\" xlink:href=\"" + g + "\" x=\"" + i + "\" y=\"" + e + "\" width=\"" + a + "\" height=\"" + Z + "\" />")
        }
    }
        ;
    g9.jZ.hH = function (Y, S, h, q, H, I, E) {
        var d = g9.jZ;
        return "<text x=\"" + S + "\" y=\"" + h + "\" style=\"fill:" + d.oP(H) + "; font-size:" + q + "px; text-anchor:" + ["start", "middle", "end"][I] + "; font-family:" + E[2] + ";\"><tspan>" + Y + "</tspan></text>"
    }
        ;
    g9.jZ.sX = function (Y, S, h, q, H) {
        var I = g9.jZ
            , E = [];
        for (var G = 0; G < S.YF.length; G++) {
            E.push(q);
            if (Y.aiR) {
                q = (G & 1) == Y.aou ? {
                    h: 1,
                    l: 1,
                    O: 1
                } : E[0]
            }
        }
        H.push("<g id=\"" + S.Us.split("-")[2] + ":::\" style=\"transform: " + g9.Ow(h) + ";\" >");
        for (var G = 0; G < S.YF.length; G++) {
            var d = S.YF[G];
            q = E.pop();
            H.push("<path style=\"fill: " + (q ? I.oP(q) : "#" + d[0]) + "\" d=\"" + Typr.U.pathToSVG({
                crds: d[1].H,
                cmds: d[1].Z
            }) + "\" />")
        }
        H.push("</g>")
    }
        ;
    g9.jZ.ady = function (Y, S, h) {
        var q = g9.jZ
            , H = g9.jZ.pv
            , I = [];
        for (var G = 0; G < H.length; G++) {
            var E = H[G]
                , d = E.Us.slice(0, 4);
            if (d != "1001")
                continue;
            I.push(E)
        }
        var E = I[Math.floor(q.TL(Y) * I.length)];
        if (q.TL(Y) < .5)
            q.J(E, new d5(0, 1, 1, 0, 0, 0));
        var B = S[3] - S[1]
            , n = S[2] - S[0]
            , g = q.Zu(E)
            , z = .7 * Math.min(n, B, .5 * Math.max(n, B)) / Math.max(g.d, g.v)
            , p = new d5;
        p.scale(z, z);
        if (q.TL(Y) < .5) {
            p.scale(1, -1);
            p.translate(0, B)
        }
        q.sX(Y, E, p, Y.eV, h);
        p.rotate(Math.PI);
        p.translate(n, B);
        q.sX(Y, E, p, Y.eV, h)
    }
        ;
    g9.jZ.akQ = function (Y) {
        var S = g9.jZ.pv
            , h = [];
        for (var G = 0; G < S.length; G++) {
            var q = S[G]
                , H = q.Us.slice(0, 4);
            if (H == "0000") {
                h.push(q);
                continue
            }
            if (["1000", "0100", "0010", "0001"].indexOf(H) == -1)
                continue;
            var I = H.indexOf("1");
            if (q.Us[5] == "0" && Y == I && I != 3)
                continue;
            h.push(q)
        }
        return h
    }
        ;
    g9.jZ.nz = function (Y, S, h, q, H, I, E) {
        var d = g9.jZ.pv, B = g9.jZ, n = [], a, Z;
        for (var G = 0; G < d.length; G++) {
            var g = d[G]
                , z = g.Us.slice(0, 4);
            if (["1110", "1101", "1011", "0111"].indexOf(z) == -1)
                continue;
            var p = z.indexOf("0") + 2 & 3;
            if (g.Us[5] == "0")
                if (I == !0 || S != p && !(S == 1 && p == 3))
                    continue;
            n.push(g)
        }
        var C = E != null ? E : Math.floor(B.TL(Y) * n.length)
            , g = n[C]
            , g = JSON.parse(JSON.stringify(g))
            , z = g.Us.slice(0, 4)
            , p = z.indexOf("0") + 2 & 3;
        if (p == 3 && S == 1)
            t.J(g, new d5(1, 0, 0, -1, 0, 1e3));
        var T = new d5;
        T.translate(-500, -500);
        T.rotate(-p * Math.PI / 2);
        T.translate(500, 500);
        B.J(g, T);
        var A = h[3] - h[1]
            , i = h[2] - h[0]
            , e = B.Zu(g);
        if (e.y < 0) {
            e.v += e.y;
            e.y = 0
        }
        if (e.y > 0) {
            e.v += e.y;
            e.y = 0
        }
        if ((S & 1) == 0) {
            Z = A;
            a = i
        } else {
            a = A;
            Z = i
        }
        var O = Math.min(Math.min(.5 + .5 * B.TL(Y)) * Math.min(i, A), H) / e.v
            , c = Math.ceil(a / (1e3 * O))
            , s = new d5
            , x = new d5;
        x.scale(O, O);
        if (S == 0 || S == 2) {
            x.translate(-(i / 2), -(A / 2));
            x.rotate(-S * Math.PI / 2);
            x.translate(i / 2 + h[0], A / 2 + h[1])
        } else {
            x.rotate(Math.PI / 2);
            x.scale(1, -1);
            x.translate(h[0], h[1]);
            if (S == 1) {
                x.scale(-1, 1);
                x.translate(i, 0)
            }
        }
        q.push("<g id=\"Border-" + ["top", "right", "bottom", "left"][S] + ":::\">");
        for (var G = 0; G < c; G++) {
            var u = s.clone();
            u.concat(x);
            B.sX(Y, g, u, Y.eV, q);
            s.translate(1e3 - 2, 0)
        }
        q.push("</g>");
        return C
    }
        ;
    g9.jZ.Rect = function (Y, S, h, q) {
        return Typr.U.pathToSVG({
            crds: [Y, S, Y + h, S, Y + h, S + q, Y, S + q],
            cmds: ["M", "L", "L", "L", "Z"]
        })
    }
        ;
    g9.jZ.afh = function (Y, S, h, q, H) {
        var I = [Y, S, Y + h, S, Y + h, S + q, Y, S + q];
        Y += H;
        S += H;
        h -= 2 * H;
        q -= 2 * H;
        I.push(Y, S, Y, S + q, Y + h, S + q, Y + h, S);
        return Typr.U.pathToSVG({
            crds: I,
            cmds: "M L L L Z M L L L Z".split(" ")
        })
    }
        ;
    g9.jZ.ad7 = function (Y, S) {
        var h = t.kX(Y.h, Y.l, Y.O);
        h._I = Math.max(.1, Math.min(.9, h._I + S));
        return t.Uf(h.UR, h.D1, h._I)
    }
        ;
    g9.jZ.agM = function (Y, S) {
        var h = t.kX(Y.h, Y.l, Y.O);
        h.UR += S;
        return t.Uf(h.UR, h.D1, h._I)
    }
        ;
    g9.jZ.a8w = function (Y) {
        var S = t.kX(Y.h, Y.l, Y.O);
        S._I = 1 - S._I;
        return t.Uf(S.UR, S.D1, S._I)
    }
        ;
    g9.jZ.ann = function (Y, S) {
        var h = Y.h - S.h
            , q = Y.l - S.l
            , H = Y.O - S.O;
        return Math.sqrt(h * h + q * q + H * H)
    }
        ;
    g9.jZ.ae3 = function (Y) {
        var S = g9.jZ;
        return {
            h: S.TL(Y),
            l: S.TL(Y),
            O: S.TL(Y)
        }
    }
        ;
    g9.jZ.oP = function (Y) {
        return CSS.mW({
            h: Y.h * 255,
            l: Y.l * 255,
            O: Y.O * 255
        })
    }
        ;
    g9.jZ.Zu = function (Y) {
        var S = Y.YF
            , h = new W;
        for (var G = 0; G < S.length; G++)
            h = h.TG(t.a.Zu(S[G][1].H));
        return h
    }
        ;
    g9.jZ.J = function (Y, S) {
        var h = Y.YF;
        for (var G = 0; G < h.length; G++)
            t.a.J(h[G][1].H, S, h[G][1].H)
    }
        ;
    g9.jZ.TL = function (Y) {
        Y.adF++;
        var S = Y.adF & 3;
        if (S == 0)
            Y.sU = g9.jZ.aP(Y.sU);
        var h = Y.sU >>> 8 * S & 255;
        return h * (.99999999 / 255)
    }
        ;
    g9.jZ.HI = function (Y) {
        var S = g9.jZ.aP(Y.sU);
        Y.sU = g9.jZ.aP(S);
        return S * (1 / 4294967295)
    }
        ;
    g9.jZ.aP = function (Y) {
        Y = (Y ^ 61 ^ Y >>> 16) >>> 0;
        Y = Y + (Y << 3) >>> 0;
        Y = (Y ^ Y >>> 4) >>> 0;
        Y = Y * 668265261 >>> 0;
        Y = (Y ^ Y >>> 15) >>> 0;
        return Y
    }
        ;
    g9.jZ.pv = [{
        Us: "0001-0-bird",
        YF: [["4b3c34", {
            Z: "M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),
            H: [208, 16, 253, 5, 247, 86, 228, 104, 218, 108, 253, 60, 235, 12, 211, 18, 210, 18, 209, 17, 208, 16, 208, 16, 187, 140, 238, 125, 326, 133, 319, 189, 318, 198, 307, 210, 299, 207, 297, 205, 307, 208, 316, 195, 317, 188, 320, 126, 208, 137, 174, 149, 187, 140, 137, 75, 156, 79, 177, 94, 164, 157, 173, 147, 177, 101, 165, 79, 142, 75, 137, 75, 368, 59, 165, 59, 182, 233, 0, 210, 0, 225, 161, 250, 194, 61, 364, 63, 367, 61, 368, 59, 368, 59, 368, 59]
        }], ["3c7040", {
            Z: "M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),
            H: [345, 123, 324, 113, 331, 70, 284, 80, 287, 79, 310, 89, 314, 103, 314, 104, 306, 90, 284, 82, 281, 81, 270, 85, 268, 86, 274, 117, 335, 119, 345, 123, 345, 123, 270, 0, 283, 29, 282, 58, 244, 66, 258, 62, 265, 40, 269, 27, 265, 37, 256, 56, 249, 58, 242, 31, 263, 18, 270, 0, 270, 0, 89, 100, 81, 136, 47, 182, 101, 196, 90, 189, 92, 157, 91, 145, 94, 160, 93, 191, 109, 195, 148, 158, 96, 129, 89, 100, 89, 100, 230, 187, 201, 240, 160, 226, 133, 198, 150, 191, 172, 197, 187, 198, 166, 193, 153, 190, 134, 193, 159, 162, 207, 194, 230, 187, 230, 187, 126, 177, 131, 159, 129, 150, 119, 139, 122, 122, 145, 112, 147, 97, 166, 128, 164, 155, 134, 168, 139, 154, 146, 142, 145, 131, 143, 145, 133, 159, 126, 177, 126, 177, 209, 86, 195, 86, 166, 91, 173, 109, 177, 102, 181, 97, 191, 96, 180, 99, 174, 113, 175, 113, 194, 114, 200, 96, 209, 86, 209, 86, 278, 175, 254, 167, 235, 168, 231, 143, 245, 143, 248, 151, 256, 158, 252, 147, 243, 144, 240, 142, 276, 147, 265, 171, 278, 175]
        }], ["b588c1", {
            Z: "M C C C C C C C C C C C C L Z".split(" "),
            H: [189, 40, 188, 42, 186, 44, 184, 47, 184, 52, 183, 55, 181, 59, 175, 70, 160, 78, 147, 79, 142, 79, 131, 78, 127, 75, 118, 74, 95, 71, 93, 70, 89, 70, 88, 70, 69, 72, 74, 66, 82, 68, 93, 65, 78, 64, 83, 62, 95, 59, 128, 50, 128, 33, 155, 29, 162, 16, 180, 13, 189, 31, 193, 31, 196, 34, 198, 37, 197, 37, 193, 39, 189, 40, 189, 40]
        }]]
    }, {
        Us: "0001-0-bird2",
        YF: [["ff7f2a", {
            Z: "M L L L Z M L L L Z".split(" "),
            H: [296, 0, 296, 62, 335, 62, 296, 0, 357, 0, 357, 62, 318, 62, 357, 0]
        }], ["b588c1", {
            Z: "M C C C C C C C C C C C L Z".split(" "),
            H: [321, 48, 344, 48, 379, 67, 396, 121, 408, 176, 396, 230, 337, 255, 303, 265, 265, 268, 217, 235, 191, 217, 170, 188, 186, 180, 195, 177, 199, 187, 205, 192, 203, 185, 199, 178, 207, 172, 217, 165, 224, 178, 225, 182, 227, 196, 231, 203, 250, 206, 273, 205, 290, 196, 292, 165, 289, 133, 269, 118, 268, 101, 267, 77, 288, 49, 321, 48, 321, 48]
        }], ["74439e", {
            Z: "M C C C C C C L Z M C C Z".split(" "),
            H: [337, 187, 329, 202, 317, 204, 304, 204, 293, 204, 284, 205, 293, 224, 286, 216, 278, 209, 268, 214, 257, 220, 262, 237, 269, 243, 284, 258, 310, 256, 323, 243, 337, 227, 339, 208, 337, 187, 337, 187, 340, 77, 310, 78, 287, 81, 315, 96, 269, 83, 309, 75, 340, 77]
        }], ["000000", {
            Z: "M L L L Z M L L L Z".split(" "),
            H: [326, 258, 334, 315, 323, 316, 326, 258, 298, 262, 296, 318, 286, 317, 298, 262]
        }], ["4b3c34", {
            Z: "M L C C C C C C C C L Z".split(" "),
            H: [0, 272, 0, 336, 63, 296, 119, 296, 175, 320, 205, 330, 229, 339, 278, 338, 322, 337, 354, 322, 405, 325, 443, 329, 482, 332, 501, 377, 501, 366, 502, 348, 474, 328, 464, 320, 440, 312, 384, 309, 296, 309, 300, 333, 186, 293, 118, 264, 54, 250, 0, 272, 0, 272]
        }], ["3c7040", {
            Z: "M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),
            H: [58, 260, 44, 247, 27, 239, 20, 208, 15, 188, 32, 182, 43, 198, 59, 227, 56, 242, 58, 260, 181, 323, 167, 336, 150, 345, 143, 375, 138, 396, 155, 401, 166, 385, 182, 356, 179, 342, 181, 323, 60, 260, 79, 249, 100, 243, 113, 214, 122, 194, 102, 186, 86, 200, 62, 227, 65, 242, 60, 260, 60, 260, 499, 378, 479, 377, 462, 372, 435, 388, 417, 399, 425, 415, 444, 411, 476, 403, 484, 390, 499, 378, 499, 378, 501, 379, 494, 397, 482, 411, 488, 442, 491, 463, 511, 461, 514, 442, 520, 410, 508, 397, 501, 379, 501, 379, 503, 378, 513, 390, 516, 402, 531, 413, 546, 421, 557, 412, 548, 401, 534, 382, 519, 379, 503, 378]
        }]]
    }, {
        Us: "0000-1-flower",
        YF: [["7a59a2", {
            Z: "M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),
            H: [468, 470, 411, 473, 371, 480, 351, 495, 332, 509, 322, 536, 325, 581, 325, 601, 328, 621, 325, 637, 346, 634, 371, 638, 397, 637, 427, 636, 456, 626, 465, 611, 478, 596, 485, 553, 489, 490, 477, 489, 470, 483, 468, 470, 445, 563, 435, 583, 425, 591, 415, 590, 401, 588, 401, 572, 410, 549, 388, 558, 375, 557, 369, 546, 366, 533, 374, 524, 390, 517, 416, 506, 441, 498, 465, 495, 463, 519, 455, 542, 445, 563, 445, 563, 489, 450, 486, 392, 480, 352, 465, 332, 451, 313, 425, 302, 380, 305, 360, 305, 340, 307, 324, 304, 327, 324, 322, 350, 323, 376, 323, 406, 332, 435, 347, 444, 362, 457, 405, 465, 468, 470, 469, 458, 476, 451, 489, 450, 489, 450, 395, 424, 376, 415, 368, 405, 369, 394, 371, 380, 387, 380, 410, 390, 402, 368, 403, 355, 414, 349, 427, 346, 436, 355, 443, 370, 454, 397, 460, 422, 463, 446, 439, 443, 417, 435, 395, 424, 395, 424, 508, 470, 566, 468, 606, 462, 626, 447, 645, 433, 656, 407, 654, 362, 654, 342, 652, 322, 655, 306, 634, 309, 609, 304, 583, 305, 553, 305, 524, 314, 514, 329, 501, 344, 493, 387, 488, 449, 500, 451, 507, 457, 508, 470, 508, 470, 534, 377, 544, 357, 554, 350, 564, 351, 578, 353, 578, 369, 568, 392, 590, 384, 604, 385, 609, 396, 612, 409, 603, 418, 588, 425, 561, 435, 536, 442, 512, 445, 515, 421, 523, 399, 534, 377, 534, 377, 488, 490, 492, 547, 499, 587, 514, 607, 528, 626, 554, 636, 600, 633, 619, 632, 640, 630, 656, 633, 652, 612, 656, 587, 655, 560, 655, 531, 645, 502, 629, 493, 614, 480, 571, 473, 508, 469, 507, 481, 501, 488, 488, 490, 488, 490, 582, 513, 602, 523, 610, 533, 609, 543, 607, 557, 591, 557, 568, 548, 577, 570, 576, 583, 565, 589, 552, 592, 542, 584, 535, 568, 524, 542, 517, 517, 514, 493, 538, 495, 560, 503, 582, 513, 582, 513]
        }]]
    }, {
        Us: "0000-1-flower",
        YF: [["d13777", {
            Z: "M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),
            H: [474, 503, 457, 528, 452, 530, 450, 528, 450, 523, 469, 498, 464, 493, 388, 522, 332, 552, 314, 585, 297, 628, 322, 660, 372, 639, 361, 698, 421, 709, 450, 665, 467, 649, 477, 596, 482, 505, 474, 503, 474, 503, 439, 563, 431, 563, 424, 556, 424, 548, 424, 539, 431, 532, 439, 532, 447, 532, 454, 539, 454, 548, 454, 556, 447, 563, 439, 563, 462, 475, 432, 467, 429, 463, 430, 460, 435, 458, 465, 469, 468, 463, 417, 399, 371, 356, 335, 348, 288, 345, 265, 379, 300, 420, 241, 428, 249, 488, 301, 503, 321, 513, 374, 507, 462, 483, 462, 475, 462, 475, 394, 460, 391, 452, 396, 444, 404, 441, 412, 438, 420, 443, 423, 451, 426, 459, 421, 467, 413, 470, 405, 473, 396, 468, 394, 460, 484, 455, 483, 424, 486, 419, 489, 420, 492, 424, 492, 456, 498, 457, 543, 389, 570, 332, 566, 294, 554, 249, 515, 238, 487, 284, 461, 231, 406, 256, 408, 310, 405, 333, 427, 381, 477, 458, 484, 455, 484, 455, 477, 385, 484, 380, 494, 382, 499, 389, 504, 396, 502, 405, 496, 410, 489, 415, 479, 414, 474, 407, 469, 400, 471, 390, 477, 385, 511, 470, 539, 459, 545, 461, 545, 463, 542, 467, 512, 477, 513, 483, 592, 505, 654, 513, 688, 497, 728, 472, 726, 432, 674, 419, 717, 378, 675, 334, 625, 353, 602, 356, 563, 393, 506, 464, 511, 470, 511, 470, 575, 442, 581, 447, 583, 456, 578, 463, 573, 470, 563, 472, 557, 467, 550, 462, 548, 452, 553, 445, 558, 438, 568, 437, 575, 442, 505, 499, 524, 523, 524, 529, 521, 531, 517, 529, 498, 503, 492, 506, 496, 588, 508, 650, 533, 677, 570, 707, 607, 693, 603, 639, 656, 667, 685, 614, 651, 572, 641, 551, 594, 525, 509, 493, 505, 499, 505, 499, 551, 552, 548, 560, 540, 564, 532, 561, 524, 559, 519, 550, 522, 542, 524, 534, 533, 530, 541, 532, 549, 535, 554, 543, 551, 552]
        }]]
    }, {
        Us: "0000-1-flower",
        YF: [["ffac42", {
            Z: "M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),
            H: [646, 471, 646, 446, 626, 426, 601, 426, 599, 426, 597, 426, 595, 427, 596, 426, 598, 424, 599, 423, 616, 406, 616, 378, 599, 360, 581, 343, 553, 343, 536, 360, 534, 361, 533, 363, 532, 364, 532, 363, 532, 361, 532, 359, 532, 335, 512, 315, 488, 315, 463, 315, 443, 335, 443, 359, 443, 361, 443, 363, 443, 365, 442, 364, 441, 363, 440, 362, 422, 344, 394, 344, 377, 362, 359, 379, 359, 407, 377, 425, 378, 426, 380, 427, 381, 429, 379, 428, 378, 428, 376, 428, 351, 428, 331, 448, 331, 473, 331, 498, 351, 518, 376, 518, 378, 518, 380, 517, 382, 517, 381, 518, 379, 519, 378, 521, 361, 538, 361, 566, 378, 584, 396, 601, 424, 601, 441, 584, 443, 582, 444, 581, 445, 579, 445, 581, 445, 583, 445, 584, 445, 609, 465, 629, 490, 629, 514, 629, 534, 609, 534, 584, 534, 582, 534, 580, 534, 579, 535, 580, 536, 581, 537, 582, 555, 600, 583, 600, 600, 582, 618, 565, 618, 537, 600, 519, 599, 518, 597, 516, 596, 515, 598, 515, 599, 516, 601, 516, 626, 516, 646, 496, 646, 471, 489, 552, 444, 552, 409, 516, 409, 472, 409, 428, 444, 392, 489, 392, 533, 392, 569, 428, 569, 472, 569, 516, 533, 552, 489, 552]
        }]]
    }, {
        Us: "0000-1-flower",
        YF: [["d04040", {
            Z: "M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),
            H: [691, 424, 690, 369, 680, 330, 660, 303, 634, 320, 601, 361, 568, 406, 568, 406, 568, 327, 578, 326, 585, 317, 585, 306, 585, 294, 576, 284, 564, 284, 552, 284, 542, 294, 542, 306, 542, 317, 550, 326, 560, 327, 560, 406, 559, 406, 540, 359, 522, 311, 501, 291, 475, 319, 453, 360, 433, 407, 431, 406, 431, 327, 441, 326, 448, 317, 448, 306, 448, 294, 439, 284, 427, 284, 415, 284, 405, 294, 405, 306, 405, 317, 412, 326, 423, 327, 423, 404, 390, 363, 360, 326, 341, 308, 296, 401, 299, 489, 360, 567, 396, 613, 443, 639, 500, 638, 624, 636, 694, 524, 692, 424, 691, 424, 389, 543, 370, 514, 379, 498, 399, 504, 439, 518, 470, 564, 488, 613, 455, 600, 414, 580, 389, 543, 481, 480, 488, 445, 505, 441, 515, 459, 533, 497, 524, 552, 501, 599, 487, 567, 472, 523, 481, 480, 481, 480, 624, 523, 610, 563, 565, 595, 515, 613, 528, 580, 548, 538, 585, 514, 614, 494, 629, 503, 624, 523, 624, 523]
        }]]
    }, {
        Us: "0000-1-flower",
        YF: [["ec7272", {
            Z: "M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),
            H: [447, 475, 452, 450, 452, 438, 437, 423, 422, 407, 407, 412, 390, 383, 398, 418, 421, 415, 433, 434, 445, 453, 446, 474, 447, 475, 495, 446, 520, 439, 529, 433, 535, 412, 542, 390, 529, 380, 546, 351, 520, 376, 533, 394, 523, 414, 513, 434, 495, 445, 495, 446, 545, 473, 564, 490, 574, 495, 595, 490, 617, 485, 620, 469, 653, 468, 619, 459, 610, 479, 587, 480, 565, 482, 546, 472, 545, 473, 545, 473, 549, 533, 543, 558, 543, 569, 559, 585, 574, 601, 589, 596, 606, 624, 597, 590, 575, 592, 563, 573, 551, 555, 550, 534, 549, 533, 549, 533, 504, 562, 480, 570, 470, 575, 464, 596, 458, 618, 470, 628, 454, 657, 479, 632, 466, 614, 476, 594, 486, 575, 504, 563, 504, 562, 459, 536, 440, 519, 430, 513, 409, 518, 387, 524, 384, 539, 351, 540, 385, 549, 394, 529, 417, 528, 439, 527, 457, 536, 459, 536, 459, 536]
        }], ["333333", {
            Z: "M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),
            H: [534, 455, 584, 415, 579, 358, 577, 335, 574, 315, 585, 304, 585, 304, 585, 304, 568, 308, 561, 312, 554, 316, 520, 333, 500, 363, 479, 392, 493, 437, 486, 456, 479, 476, 452, 485, 452, 485, 452, 485, 471, 474, 475, 454, 479, 434, 460, 402, 482, 365, 505, 328, 565, 292, 597, 294, 612, 295, 591, 298, 587, 316, 583, 333, 593, 373, 584, 404, 574, 440, 533, 456, 534, 455, 534, 455, 559, 506, 619, 530, 666, 497, 685, 483, 701, 471, 716, 475, 716, 475, 716, 475, 704, 463, 697, 459, 690, 454, 657, 434, 622, 431, 587, 428, 554, 462, 534, 465, 513, 469, 492, 451, 492, 451, 492, 451, 511, 461, 530, 455, 549, 448, 568, 416, 611, 417, 654, 418, 716, 452, 730, 481, 737, 495, 724, 478, 706, 483, 689, 489, 660, 516, 628, 524, 592, 534, 558, 506, 559, 506, 559, 506, 524, 552, 534, 615, 586, 640, 607, 649, 625, 657, 629, 672, 629, 672, 629, 672, 634, 655, 634, 647, 634, 639, 636, 601, 621, 569, 606, 537, 560, 525, 547, 509, 534, 494, 539, 466, 539, 466, 539, 466, 539, 488, 554, 501, 569, 514, 607, 514, 627, 552, 648, 590, 650, 660, 632, 687, 623, 700, 631, 680, 617, 667, 605, 656, 566, 644, 543, 621, 517, 594, 524, 551, 524, 552, 524, 552, 467, 546, 417, 585, 421, 643, 424, 665, 426, 686, 415, 697, 415, 697, 415, 697, 432, 693, 439, 689, 446, 684, 481, 667, 501, 638, 521, 609, 508, 563, 515, 544, 522, 524, 548, 515, 548, 515, 548, 515, 530, 527, 526, 546, 522, 566, 540, 598, 518, 635, 496, 672, 436, 709, 404, 706, 388, 705, 409, 702, 413, 684, 417, 667, 408, 628, 417, 596, 426, 561, 467, 544, 467, 546, 467, 546, 442, 495, 383, 472, 336, 504, 317, 518, 301, 530, 286, 526, 286, 526, 286, 526, 298, 539, 305, 543, 312, 547, 344, 568, 380, 571, 415, 574, 448, 539, 468, 536, 488, 532, 510, 551, 510, 551, 510, 551, 490, 540, 471, 547, 452, 553, 434, 585, 391, 584, 348, 583, 286, 550, 272, 521, 265, 507, 278, 524, 296, 518, 313, 513, 342, 485, 373, 477, 409, 468, 444, 495, 442, 495, 442, 495, 476, 449, 467, 386, 415, 361, 394, 352, 375, 344, 371, 329, 371, 329, 371, 329, 366, 346, 366, 354, 366, 362, 364, 400, 379, 433, 394, 465, 440, 476, 453, 492, 467, 508, 462, 535, 462, 535, 462, 535, 461, 513, 446, 500, 431, 487, 394, 487, 373, 449, 352, 411, 350, 341, 368, 314, 377, 301, 369, 321, 383, 334, 396, 345, 434, 357, 457, 380, 483, 407, 477, 450, 476, 449, 476, 449]
        }]]
    }, {
        Us: "0000-0-hearts",
        YF: [["d17070", {
            Z: "M C C C C C C C C C L Z".split(" "),
            H: [415, 584, 413, 585, 411, 586, 409, 587, 392, 596, 389, 620, 395, 633, 401, 647, 414, 663, 450, 668, 485, 674, 487, 681, 494, 690, 491, 679, 487, 673, 507, 643, 527, 613, 524, 593, 518, 579, 512, 566, 493, 552, 475, 558, 467, 561, 451, 566, 448, 586, 435, 578, 423, 581, 415, 584, 415, 584]
        }], ["6bcc6b", {
            Z: "M C C C C C C C C C L Z".split(" "),
            H: [595, 451, 593, 449, 590, 448, 588, 448, 563, 439, 537, 457, 529, 475, 521, 493, 516, 520, 542, 560, 568, 601, 563, 609, 559, 623, 568, 611, 571, 602, 618, 595, 666, 589, 684, 567, 692, 550, 700, 532, 697, 501, 674, 488, 665, 482, 645, 472, 622, 486, 619, 465, 606, 456, 595, 451, 595, 451]
        }], ["5c5cc2", {
            Z: "M C C C C C C C C C L Z".split(" "),
            H: [341, 362, 338, 364, 335, 366, 332, 368, 304, 385, 301, 424, 312, 446, 323, 468, 345, 494, 405, 501, 465, 508, 468, 520, 480, 534, 475, 516, 468, 506, 499, 455, 531, 404, 524, 370, 514, 348, 503, 325, 470, 304, 440, 315, 427, 320, 401, 331, 397, 364, 374, 351, 355, 356, 341, 362, 341, 362]
        }]]
    }, {
        Us: "0000-0-anchor",
        YF: [["2a3b66", {
            Z: "M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),
            H: [495, 315, 490, 315, 488, 318, 489, 323, 491, 328, 502, 326, 502, 320, 502, 317, 501, 316, 497, 315, 496, 315, 496, 315, 495, 315, 495, 315, 496, 303, 509, 303, 521, 320, 514, 327, 511, 330, 513, 345, 517, 348, 519, 350, 531, 352, 546, 354, 570, 357, 572, 357, 578, 354, 588, 347, 592, 351, 592, 369, 592, 385, 588, 390, 580, 385, 576, 383, 570, 383, 552, 384, 524, 387, 519, 389, 517, 397, 515, 404, 517, 515, 520, 554, 522, 583, 525, 599, 530, 606, 534, 610, 555, 617, 565, 617, 584, 616, 607, 602, 635, 572, 639, 568, 641, 566, 644, 563, 633, 559, 616, 557, 616, 557, 675, 533, 675, 533, 671, 605, 669, 609, 667, 611, 664, 591, 658, 577, 657, 579, 657, 580, 656, 582, 628, 638, 603, 660, 565, 664, 545, 666, 521, 672, 514, 675, 512, 677, 507, 682, 504, 688, 501, 693, 497, 698, 496, 698, 494, 698, 490, 693, 487, 688, 484, 682, 480, 677, 477, 675, 471, 672, 447, 666, 427, 664, 391, 660, 367, 640, 340, 591, 335, 604, 332, 621, 331, 619, 329, 615, 325, 544, 325, 544, 384, 568, 384, 568, 368, 569, 357, 573, 385, 602, 408, 616, 426, 617, 437, 617, 458, 610, 461, 606, 466, 599, 470, 583, 472, 554, 474, 515, 476, 404, 475, 397, 473, 389, 468, 387, 440, 384, 422, 383, 416, 383, 412, 385, 403, 390, 400, 385, 400, 369, 400, 351, 403, 347, 414, 354, 419, 357, 421, 357, 446, 354, 460, 352, 473, 350, 475, 348, 478, 345, 481, 330, 478, 327, 470, 320, 483, 303, 496, 303, 496, 303]
        }]]
    }, {
        Us: "0000-1-leaf",
        YF: [["fbb600", {
            Z: "M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),
            H: [642, 726, 633, 723, 632, 707, 591, 631, 570, 582, 526, 521, 537, 547, 535, 579, 517, 598, 501, 619, 486, 602, 414, 634, 412, 606, 379, 609, 346, 611, 394, 557, 406, 547, 401, 539, 386, 532, 319, 519, 337, 508, 332, 493, 320, 478, 326, 464, 302, 450, 287, 436, 303, 436, 324, 441, 330, 432, 346, 434, 359, 434, 359, 415, 377, 428, 397, 431, 417, 432, 442, 440, 437, 418, 417, 416, 406, 372, 401, 370, 395, 367, 389, 355, 417, 363, 408, 339, 406, 323, 416, 312, 427, 303, 417, 276, 433, 295, 444, 297, 452, 294, 479, 321, 490, 313, 496, 294, 503, 322, 510, 329, 517, 338, 522, 353, 530, 371, 530, 379, 546, 402, 551, 389, 555, 378, 578, 333, 606, 333, 628, 304, 652, 280, 646, 306, 644, 327, 657, 329, 649, 356, 658, 374, 679, 384, 666, 392, 656, 415, 645, 432, 627, 457, 653, 451, 661, 457, 692, 460, 698, 473, 715, 481, 697, 485, 678, 488, 669, 509, 656, 523, 655, 533, 666, 539, 659, 537, 659, 542, 643, 531, 630, 535, 613, 543, 608, 539, 598, 535, 594, 542, 590, 553, 590, 566, 594, 564, 596, 569, 568, 575, 551, 543, 531, 519, 575, 577, 597, 628, 639, 708, 642, 726]
        }]]
    }, {
        Us: "0000-1-acorn",
        YF: [["a05a2c", {
            Z: "M C C C C C C C L Z".split(" "),
            H: [506, 453, 450, 426, 413, 422, 398, 444, 374, 480, 374, 533, 384, 573, 391, 602, 407, 625, 430, 645, 451, 658, 487, 654, 509, 647, 554, 633, 587, 605, 612, 565, 635, 527, 591, 500, 565, 482, 557, 476, 515, 457, 506, 453, 506, 453]
        }], ["502d16", {
            Z: "M C C C C C C C C C C C Z".split(" "),
            H: [640, 524, 639, 539, 623, 540, 623, 540, 627, 522, 607, 504, 583, 488, 547, 465, 507, 445, 470, 434, 439, 426, 412, 417, 400, 437, 400, 437, 391, 424, 400, 414, 434, 370, 498, 356, 551, 376, 555, 349, 583, 317, 597, 321, 612, 326, 621, 346, 620, 350, 619, 354, 594, 352, 584, 368, 580, 375, 577, 382, 575, 387, 619, 412, 649, 460, 640, 524]
        }]]
    }, {
        Us: "0000-0-skull",
        YF: [["808080", {
            Z: "M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),
            H: [396, 410, 398, 415, 398, 420, 398, 424, 420, 437, 433, 404, 465, 382, 501, 382, 538, 382, 569, 404, 582, 435, 602, 424, 602, 419, 603, 415, 604, 410, 604, 410, 609, 392, 622, 379, 633, 382, 643, 384, 648, 402, 643, 420, 643, 421, 642, 421, 642, 422, 643, 422, 643, 422, 644, 422, 662, 427, 675, 440, 672, 450, 669, 461, 652, 465, 633, 460, 628, 459, 624, 457, 620, 455, 589, 473, 588, 491, 582, 507, 572, 520, 607, 540, 611, 538, 615, 536, 620, 535, 639, 530, 656, 535, 659, 545, 662, 556, 649, 568, 630, 573, 630, 574, 629, 574, 629, 574, 629, 574, 629, 575, 629, 575, 634, 594, 630, 611, 619, 614, 609, 617, 596, 604, 591, 585, 590, 580, 589, 576, 589, 571, 565, 557, 564, 592, 536, 619, 501, 619, 466, 619, 438, 591, 437, 557, 412, 572, 411, 576, 411, 580, 410, 585, 410, 585, 405, 604, 392, 617, 381, 614, 371, 611, 366, 593, 371, 575, 371, 574, 371, 574, 372, 574, 371, 573, 371, 573, 370, 573, 352, 568, 339, 556, 342, 545, 345, 534, 362, 530, 381, 535, 385, 536, 390, 538, 394, 540, 430, 519, 421, 507, 415, 491, 414, 475, 380, 455, 376, 457, 372, 459, 367, 460, 367, 460, 349, 465, 331, 461, 328, 450, 326, 440, 338, 427, 357, 422, 357, 422, 358, 422, 358, 422, 358, 421, 358, 421, 358, 420, 353, 402, 357, 384, 368, 381, 379, 379, 391, 391, 396, 410, 463, 439, 445, 439, 431, 453, 431, 470, 431, 488, 445, 502, 463, 502, 480, 502, 494, 488, 494, 470, 494, 453, 480, 439, 463, 439, 540, 439, 522, 439, 508, 453, 508, 470, 508, 488, 522, 502, 540, 502, 557, 502, 571, 488, 571, 470, 571, 453, 557, 439, 540, 439, 483, 528, 518, 528, 500, 503, 483, 528]
        }]]
    }, {
        Us: "0000-0-ghost",
        YF: [["e6e6e6", {
            Z: "M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),
            H: [653, 486, 653, 574, 689, 597, 689, 638, 689, 661, 640, 644, 620, 656, 601, 666, 609, 682, 583, 692, 563, 700, 538, 666, 512, 666, 490, 666, 451, 695, 433, 686, 415, 677, 416, 646, 388, 644, 367, 641, 313, 671, 313, 648, 313, 619, 346, 588, 346, 486, 346, 388, 415, 308, 500, 308, 584, 308, 653, 388, 653, 486, 653, 486, 449, 396, 428, 396, 412, 415, 412, 439, 412, 462, 428, 482, 449, 482, 465, 482, 478, 470, 484, 454, 489, 470, 503, 482, 519, 482, 539, 482, 556, 462, 556, 439, 556, 415, 539, 396, 519, 396, 503, 396, 489, 407, 484, 423, 478, 407, 465, 396, 449, 396, 482, 505, 441, 505, 465, 560, 482, 560, 503, 560, 524, 505, 482, 505]
        }], ["000000", {
            Z: "M C C C C Z M C C C C Z".split(" "),
            H: [526, 446, 526, 455, 519, 462, 510, 462, 501, 462, 494, 455, 494, 446, 494, 437, 501, 430, 510, 430, 519, 430, 526, 437, 526, 446, 475, 446, 475, 455, 468, 462, 459, 462, 450, 462, 442, 455, 442, 446, 442, 437, 450, 430, 459, 430, 468, 430, 475, 437, 475, 446]
        }]]
    }, {
        Us: "1001-1-rose",
        YF: [["9e1460", {
            Z: "M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),
            H: [568, 83, 558, 83, 548, 88, 539, 96, 538, 98, 536, 99, 535, 101, 522, 115, 513, 134, 517, 149, 522, 172, 561, 200, 592, 207, 604, 210, 611, 215, 615, 221, 622, 234, 611, 258, 611, 258, 613, 260, 615, 264, 618, 264, 627, 266, 638, 241, 640, 236, 660, 188, 614, 83, 568, 83, 526, 125, 527, 97, 567, 68, 593, 75, 616, 81, 642, 121, 649, 152, 651, 165, 656, 172, 662, 176, 675, 183, 698, 173, 698, 173, 698, 173, 698, 173, 698, 173, 704, 176, 705, 179, 705, 180, 706, 189, 681, 199, 678, 200, 678, 200, 677, 201, 677, 201, 627, 220, 524, 170, 526, 125]
        }], ["020304", {
            Z: "M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),
            H: [60, 151, 60, 151, 37, 125, 60, 98, 83, 72, 95, 91, 115, 66, 134, 42, 117, 26, 120, 30, 123, 34, 146, 83, 132, 114, 114, 154, 60, 151, 60, 151, 280, 70, 280, 70, 258, 97, 283, 122, 308, 147, 318, 127, 339, 150, 361, 173, 344, 190, 347, 186, 350, 182, 370, 132, 354, 101, 333, 62, 280, 70, 280, 70, 61, 150, 61, 150, 27, 143, 30, 108, 33, 73, 54, 81, 55, 50, 57, 19, 33, 16, 38, 17, 43, 19, 91, 44, 98, 78, 107, 121, 61, 150, 61, 150, -27, 185, 184, 158, 222, 43, 352, 32, 444, 24, 538, 97, 538, 97, 538, 97, 453, 45, 354, 48, 241, 51, 185, 170, -27, 185]
        }]]
    }, {
        Us: "1001-1-curls",
        YF: [["53a7ab", {
            Z: "M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),
            H: [68, 114, 121, 103, 159, 110, 183, 135, 212, 169, 211, 204, 189, 237, 162, 277, 124, 291, 86, 276, 52, 263, 38, 236, 47, 202, 55, 168, 79, 151, 121, 156, 147, 162, 165, 177, 160, 205, 155, 228, 135, 241, 113, 237, 97, 234, 92, 221, 96, 205, 98, 195, 105, 194, 115, 200, 124, 205, 133, 204, 135, 197, 139, 183, 122, 167, 95, 171, 68, 176, 54, 193, 68, 220, 84, 252, 131, 261, 165, 238, 201, 202, 199, 164, 158, 136, 118, 113, 52, 122, -23, 151, 2, 134, 33, 122, 68, 114, 68, 114, 71, 83, 119, 75, 163, 79, 198, 107, 226, 129, 247, 174, 271, 207, 291, 229, 316, 241, 342, 232, 370, 222, 394, 206, 418, 209, 443, 212, 461, 238, 485, 258, 500, 272, 522, 276, 543, 271, 543, 271, 524, 279, 518, 281, 500, 287, 483, 277, 466, 256, 453, 243, 441, 230, 427, 223, 413, 217, 392, 220, 372, 229, 372, 230, 371, 230, 370, 230, 354, 241, 337, 251, 315, 250, 283, 248, 253, 222, 229, 172, 209, 133, 178, 106, 137, 94, 103, 84, 52, 94, -30, 133, -3, 108, 30, 91, 71, 83, 71, 83, 83, 54, 122, 46, 166, 49, 195, 67, 219, 82, 250, 122, 290, 168, 308, 186, 330, 194, 355, 192, 393, 183, 400, 145, 383, 118, 372, 101, 355, 91, 328, 91, 313, 92, 303, 98, 300, 109, 298, 116, 299, 125, 304, 131, 315, 147, 327, 152, 340, 149, 349, 149, 354, 132, 343, 131, 330, 131, 326, 129, 328, 120, 332, 97, 355, 100, 365, 114, 381, 137, 367, 165, 343, 168, 321, 170, 289, 150, 288, 117, 290, 77, 319, 58, 352, 64, 388, 74, 405, 104, 404, 141, 403, 177, 382, 202, 345, 207, 312, 211, 284, 191, 260, 161, 245, 141, 229, 122, 213, 106, 196, 84, 166, 73, 129, 67, 80, 62, 28, 79, -26, 108, 10, 79, 46, 63, 83, 54, 83, 54]
        }], ["bbdc54", {
            Z: "M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),
            H: [321, 315, 287, 324, 252, 312, 211, 219, 217, 284, 239, 326, 279, 341, 324, 352, 362, 329, 398, 291, 316, 305, 258, 269, 217, 196, 238, 284, 274, 319, 321, 315, 321, 315, 211, 261, 223, 300, 234, 345, 252, 374, 220, 378, 194, 367, 193, 324, 194, 306, 198, 288, 206, 270, 197, 315, 204, 340, 221, 351, 206, 327, 202, 297, 211, 261, 211, 261, 206, 246, 193, 301, 170, 317, 138, 297, 162, 281, 184, 254, 205, 222, 201, 246, 191, 267, 174, 283, 186, 279, 197, 267, 206, 246, 206, 246, 378, 233, 370, 286, 337, 299, 294, 270, 312, 277, 330, 276, 347, 267, 294, 278, 259, 252, 234, 203, 280, 259, 327, 278, 378, 233, 378, 233, 626, 217, 604, 273, 555, 313, 511, 315, 484, 316, 438, 289, 432, 232, 450, 253, 488, 296, 511, 291, 532, 286, 551, 277, 566, 261, 527, 269, 498, 263, 480, 243, 478, 241, 478, 237, 480, 235, 486, 230, 504, 220, 519, 226, 537, 233, 551, 242, 567, 241, 591, 236, 611, 228, 626, 217, 626, 217, 411, 192, 432, 183, 439, 166, 420, 136, 443, 144, 460, 158, 466, 182, 470, 165, 456, 149, 430, 133, 459, 136, 485, 145, 505, 165, 503, 143, 463, 133, 434, 128, 486, 127, 526, 124, 539, 118, 505, 123, 470, 124, 435, 122, 461, 111, 483, 96, 500, 76, 475, 95, 450, 110, 424, 118, 450, 96, 465, 72, 466, 48, 458, 75, 440, 98, 419, 112, 424, 106, 428, 99, 428, 91, 429, 68, 413, 57, 393, 51, 419, 70, 426, 92, 411, 110, 408, 77, 385, 58, 343, 52, 383, 26, 422, 25, 445, 62, 458, 47, 465, 29, 467, 8, 477, 27, 479, 51, 475, 76, 497, 64, 515, 49, 528, 29, 524, 57, 515, 82, 496, 103, 521, 113, 549, 111, 579, 99, 560, 122, 535, 136, 502, 137, 518, 149, 521, 173, 514, 205, 505, 181, 492, 166, 476, 158, 483, 188, 470, 205, 447, 216, 456, 183, 451, 166, 438, 157, 444, 193, 426, 211, 379, 207, 403, 193, 416, 172, 416, 140, 434, 156, 428, 173, 411, 192, 411, 192]
        }]]
    }, {
        Us: "0111-0-pines",
        YF: [["e9e9e9", {
            Z: "M C C C C C C C C L L L Z".split(" "),
            H: [0, 946, 0, 946, 54, 960, 99, 944, 149, 927, 182, 954, 205, 956, 245, 960, 298, 940, 382, 974, 435, 995, 478, 957, 538, 956, 571, 955, 597, 969, 631, 968, 663, 967, 701, 938, 749, 944, 805, 950, 851, 960, 893, 946, 950, 928, 1e3, 946, 1e3, 946, 1e3, 1e3, 0, 1e3, 0, 946]
        }], ["437a26", {
            Z: "M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),
            H: [119, 801, 120, 801, 148, 859, 148, 859, 137, 853, 137, 853, 155, 890, 155, 891, 156, 892, 138, 887, 140, 888, 141, 888, 171, 925, 171, 925, 126, 924, 125, 943, 125, 943, 105, 944, 106, 944, 107, 944, 106, 924, 106, 924, 61, 925, 93, 886, 77, 891, 100, 854, 89, 860, 89, 860, 119, 801, 119, 801, 286, 871, 286, 871, 303, 905, 303, 905, 296, 902, 296, 902, 307, 924, 307, 924, 307, 925, 297, 922, 297, 922, 298, 922, 316, 944, 316, 944, 289, 944, 289, 955, 289, 955, 277, 956, 278, 956, 278, 956, 278, 944, 278, 944, 251, 944, 270, 921, 260, 924, 274, 902, 268, 906, 268, 906, 285, 871, 286, 871, 526, 863, 526, 863, 546, 903, 546, 903, 538, 899, 538, 899, 550, 924, 550, 925, 550, 926, 539, 922, 540, 922, 540, 922, 561, 948, 561, 948, 530, 947, 529, 960, 529, 960, 516, 961, 517, 961, 518, 961, 517, 947, 517, 947, 486, 948, 508, 921, 497, 925, 513, 899, 505, 903, 505, 903, 526, 863, 526, 863, 731, 841, 731, 841, 752, 883, 752, 883, 744, 879, 744, 879, 757, 907, 757, 908, 758, 908, 745, 905, 746, 905, 747, 905, 769, 932, 769, 932, 736, 932, 735, 946, 735, 946, 721, 946, 721, 946, 722, 947, 721, 932, 721, 932, 688, 932, 712, 903, 700, 908, 717, 880, 709, 884, 709, 884, 731, 841, 731, 841, 889, 826, 889, 826, 914, 876, 914, 876, 904, 871, 904, 871, 920, 904, 920, 905, 920, 906, 906, 901, 907, 902, 908, 902, 934, 934, 934, 934, 894, 933, 894, 950, 894, 950, 877, 951, 878, 951, 879, 951, 878, 933, 878, 933, 838, 934, 866, 900, 852, 905, 872, 872, 862, 877, 862, 877, 889, 826, 889, 826]
        }]]
    }, {
        Us: "0111-0-flowers",
        YF: [["8cae40", {
            Z: "M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),
            H: [182, 866, 160, 879, 146, 903, 135, 929, 135, 844, 177, 842, 228, 831, 230, 796, 231, 770, 207, 765, 182, 779, 160, 792, 146, 816, 135, 843, 135, 713, 135, 711, 134, 710, 132, 710, 130, 710, 128, 711, 128, 713, 128, 841, 117, 815, 103, 791, 82, 779, 57, 764, 33, 769, 34, 795, 36, 830, 86, 841, 128, 844, 128, 930, 117, 903, 103, 880, 82, 867, 57, 853, 33, 858, 34, 884, 36, 919, 86, 930, 128, 932, 128, 1009, 128, 1010, 130, 1012, 132, 1012, 134, 1012, 135, 1010, 135, 1009, 135, 931, 177, 928, 228, 918, 230, 882, 231, 856, 207, 851, 182, 866, 182, 866, 447, 904, 430, 898, 412, 904, 394, 916, 394, 861, 413, 873, 431, 879, 447, 873, 458, 868, 458, 852, 447, 848, 430, 841, 412, 848, 394, 859, 394, 788, 394, 787, 393, 786, 391, 786, 389, 786, 388, 787, 388, 788, 388, 859, 370, 847, 352, 841, 336, 848, 325, 852, 325, 868, 336, 873, 352, 879, 370, 873, 388, 862, 388, 915, 370, 904, 352, 898, 336, 904, 325, 909, 325, 925, 336, 929, 352, 936, 370, 930, 388, 918, 388, 1009, 388, 1010, 389, 1011, 391, 1011, 393, 1011, 394, 1010, 394, 1009, 394, 918, 413, 930, 431, 936, 447, 929, 458, 925, 458, 909, 447, 904, 447, 904, 662, 943, 650, 954, 641, 972, 634, 993, 634, 914, 659, 907, 680, 895, 692, 873, 707, 846, 686, 836, 662, 859, 650, 870, 641, 888, 634, 909, 634, 818, 634, 816, 632, 815, 631, 815, 629, 815, 628, 816, 628, 818, 628, 908, 621, 887, 612, 870, 600, 859, 576, 836, 555, 846, 570, 873, 582, 895, 603, 907, 628, 914, 628, 992, 621, 971, 612, 954, 600, 943, 576, 920, 555, 930, 570, 957, 582, 978, 603, 990, 628, 998, 628, 1009, 628, 1010, 629, 1011, 631, 1011, 632, 1011, 634, 1010, 634, 1009, 634, 998, 659, 991, 680, 978, 692, 957, 707, 930, 686, 920, 662, 943, 662, 943, 892, 842, 875, 857, 862, 882, 850, 912, 850, 822, 874, 817, 896, 805, 908, 778, 919, 755, 896, 751, 877, 769, 866, 779, 857, 796, 850, 815, 850, 737, 850, 736, 848, 735, 847, 735, 845, 735, 844, 736, 844, 737, 844, 815, 836, 795, 828, 779, 817, 769, 798, 751, 775, 755, 785, 777, 797, 804, 820, 817, 844, 822, 844, 912, 832, 882, 818, 857, 801, 842, 772, 816, 737, 822, 753, 854, 772, 894, 806, 911, 844, 918, 844, 1009, 844, 1010, 845, 1011, 847, 1011, 848, 1011, 850, 1010, 850, 1009, 850, 918, 887, 911, 922, 894, 941, 854, 957, 822, 922, 816, 892, 842, 892, 842]
        }], ["d13777", {
            Z: "M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),
            H: [125, 603, 115, 617, 112, 619, 110, 618, 111, 615, 122, 600, 119, 597, 75, 614, 43, 631, 32, 650, 22, 675, 36, 694, 65, 682, 59, 716, 94, 722, 111, 696, 120, 687, 126, 657, 129, 604, 125, 603, 125, 603, 104, 638, 99, 638, 95, 634, 95, 629, 95, 624, 99, 620, 104, 620, 109, 620, 113, 624, 113, 629, 113, 634, 109, 638, 104, 638, 117, 587, 100, 582, 98, 579, 99, 578, 102, 577, 119, 583, 121, 580, 92, 543, 65, 517, 44, 513, 17, 512, 4, 531, 24, 555, -10, 560, -6, 594, 24, 603, 36, 609, 67, 605, 118, 591, 118, 587, 117, 587, 78, 578, 77, 573, 79, 568, 84, 567, 88, 565, 93, 568, 95, 573, 96, 577, 94, 582, 89, 584, 85, 585, 80, 583, 78, 578, 130, 575, 130, 557, 131, 554, 133, 555, 135, 557, 135, 575, 138, 576, 164, 537, 180, 504, 177, 482, 171, 456, 148, 449, 132, 476, 117, 445, 85, 460, 86, 491, 84, 504, 97, 532, 126, 577, 130, 575, 130, 575, 126, 535, 130, 532, 136, 533, 139, 537, 142, 541, 141, 546, 137, 549, 133, 552, 127, 551, 125, 547, 122, 543, 122, 538, 126, 535, 146, 584, 162, 577, 165, 578, 166, 580, 164, 582, 146, 588, 147, 591, 193, 604, 229, 609, 249, 600, 271, 585, 271, 562, 240, 554, 265, 530, 241, 505, 212, 516, 199, 518, 176, 539, 143, 580, 146, 584, 146, 584, 183, 567, 187, 570, 187, 576, 185, 580, 182, 584, 176, 585, 172, 582, 168, 579, 167, 573, 170, 569, 173, 565, 179, 565, 183, 567, 142, 601, 153, 615, 153, 618, 152, 619, 149, 618, 138, 603, 135, 605, 137, 652, 144, 688, 159, 704, 180, 721, 202, 713, 199, 681, 230, 698, 246, 667, 227, 643, 221, 631, 194, 616, 145, 597, 142, 601, 142, 601, 169, 631, 167, 636, 162, 638, 158, 637, 153, 635, 151, 630, 152, 625, 154, 621, 159, 618, 163, 620, 168, 621, 170, 626, 169, 631, 376, 691, 343, 693, 320, 697, 309, 706, 297, 714, 291, 729, 294, 756, 294, 767, 295, 779, 294, 788, 305, 786, 320, 788, 335, 788, 353, 787, 369, 782, 375, 773, 382, 764, 386, 739, 388, 703, 381, 702, 377, 699, 376, 691, 363, 745, 357, 757, 351, 761, 345, 761, 337, 760, 337, 751, 343, 737, 330, 742, 322, 742, 319, 735, 317, 728, 322, 723, 331, 718, 346, 712, 360, 708, 374, 706, 373, 720, 369, 733, 363, 745, 363, 745, 388, 680, 387, 646, 383, 623, 375, 612, 366, 600, 351, 594, 325, 596, 314, 596, 302, 597, 293, 595, 295, 607, 292, 622, 292, 637, 292, 654, 298, 671, 306, 676, 315, 684, 340, 689, 376, 692, 377, 684, 381, 680, 388, 680, 388, 680, 334, 665, 323, 659, 318, 654, 319, 648, 320, 639, 329, 640, 343, 645, 338, 632, 339, 625, 345, 621, 352, 620, 358, 625, 362, 634, 368, 649, 372, 664, 373, 677, 360, 676, 347, 671, 334, 665, 334, 665, 399, 691, 433, 690, 456, 686, 467, 678, 479, 670, 485, 655, 484, 629, 484, 617, 482, 606, 484, 597, 472, 598, 458, 595, 442, 596, 425, 596, 409, 601, 403, 610, 395, 618, 391, 643, 388, 679, 395, 680, 399, 684, 399, 691, 399, 691, 414, 638, 420, 626, 426, 622, 432, 622, 440, 624, 440, 633, 434, 646, 447, 641, 455, 642, 458, 648, 459, 656, 454, 661, 445, 665, 430, 671, 416, 675, 402, 677, 403, 663, 408, 650, 414, 638, 414, 638, 388, 703, 390, 736, 394, 759, 403, 770, 411, 782, 426, 788, 452, 785, 464, 785, 475, 784, 485, 785, 483, 774, 485, 759, 485, 744, 484, 726, 479, 710, 470, 704, 461, 697, 436, 693, 400, 691, 399, 698, 395, 702, 388, 703, 388, 703, 442, 716, 453, 722, 458, 728, 458, 734, 456, 742, 447, 742, 434, 736, 439, 749, 438, 757, 432, 760, 425, 762, 419, 757, 415, 748, 409, 733, 404, 719, 403, 705, 416, 706, 429, 710, 442, 716, 442, 716, 722, 716, 722, 701, 710, 690, 696, 690, 695, 690, 694, 690, 693, 690, 693, 689, 694, 689, 695, 688, 705, 678, 705, 662, 695, 651, 685, 641, 668, 641, 658, 651, 658, 652, 657, 653, 656, 654, 656, 653, 656, 652, 656, 651, 656, 637, 645, 625, 630, 625, 616, 625, 605, 637, 605, 651, 605, 652, 605, 653, 605, 654, 604, 654, 604, 653, 603, 652, 593, 642, 576, 642, 566, 652, 556, 662, 556, 679, 566, 689, 567, 690, 568, 690, 569, 691, 568, 691, 567, 691, 566, 691, 552, 691, 540, 702, 540, 717, 540, 731, 552, 743, 566, 743, 567, 743, 568, 743, 569, 742, 569, 743, 568, 744, 567, 744, 557, 754, 557, 771, 567, 781, 577, 791, 594, 791, 604, 781, 605, 780, 605, 779, 606, 778, 606, 779, 606, 780, 606, 781, 606, 795, 617, 807, 632, 807, 646, 807, 657, 795, 657, 781, 657, 780, 657, 779, 657, 778, 658, 779, 658, 779, 659, 780, 669, 790, 686, 790, 696, 780, 706, 770, 706, 754, 696, 743, 695, 743, 694, 742, 693, 741, 694, 741, 695, 741, 696, 741, 710, 741, 722, 730, 722, 716, 631, 762, 605, 762, 585, 742, 585, 716, 585, 691, 605, 670, 631, 670, 657, 670, 677, 691, 677, 716, 677, 742, 657, 762, 631, 762, 958, 602, 957, 570, 951, 547, 940, 532, 925, 541, 905, 565, 887, 591, 886, 591, 886, 546, 892, 545, 897, 540, 897, 533, 897, 527, 891, 521, 884, 521, 877, 521, 872, 527, 872, 533, 872, 540, 876, 545, 882, 546, 882, 591, 882, 591, 870, 564, 860, 536, 848, 525, 833, 541, 820, 565, 808, 592, 807, 592, 807, 546, 813, 545, 817, 540, 817, 533, 817, 527, 812, 521, 805, 521, 798, 521, 792, 527, 792, 533, 792, 540, 797, 545, 802, 546, 802, 590, 784, 567, 766, 545, 755, 534, 729, 588, 731, 639, 766, 684, 787, 711, 814, 726, 847, 725, 919, 724, 960, 659, 958, 602, 958, 602, 783, 671, 772, 653, 777, 645, 789, 648, 812, 656, 830, 682, 840, 711, 821, 704, 797, 692, 783, 671, 836, 634, 840, 614, 850, 612, 856, 622, 867, 644, 861, 676, 848, 703, 840, 684, 831, 659, 836, 634, 836, 634, 919, 659, 911, 682, 885, 701, 856, 711, 863, 692, 875, 668, 896, 654, 913, 642, 922, 647, 919, 659, 919, 659]
        }]]
    }, {
        Us: "1101-1-confetti",
        YF: [["e789ff", {
            Z: "M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),
            H: [170, 439, 169, 438, 59, 370, 108, 300, 152, 238, 298, 276, 318, 337, 338, 398, 265, 380, 285, 358, 312, 328, 185, 247, 121, 307, 72, 353, 171, 440, 170, 439, 318, 338, 336, 399, 262, 408, 184, 346, 138, 309, 73, 237, 112, 174, 167, 88, 345, 115, 377, 222, 393, 276, 296, 260, 335, 236, 375, 212, 236, 111, 155, 183, 73, 254, 265, 380, 285, 358, 312, 328, 318, 338, 318, 338, 377, 222, 394, 276, 318, 288, 243, 236, 187, 197, 146, 120, 201, 56, 254, -5, 365, 26, 407, 68, 407, 68, 414, 94, 378, 71, 344, 50, 258, 31, 221, 89, 178, 154, 297, 260, 336, 235, 374, 211, 377, 222, 377, 222, 406, 70, 452, 115, 432, 189, 324, 115, 214, 39, 323, -85, 322, -85, 320, -85, 229, 38, 331, 100, 439, 166, 413, 95, 377, 72, 343, 51, 364, 28, 406, 70, 346, 405, 369, 418, 356, 441, 333, 428, 346, 405, 513, 298, 536, 311, 523, 334, 500, 321, 513, 298, 891, 91, 914, 104, 901, 127, 878, 114, 891, 91, 24, 123, 47, 136, 34, 159, 11, 146, 24, 123, 664, 33, 687, 46, 674, 69, 651, 56, 664, 33, 910, 482, 933, 495, 920, 518, 897, 505, 910, 482]
        }], ["666666", {
            Z: "M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),
            H: [919, 442, 917, 443, 802, 510, 764, 432, 730, 364, 837, 250, 901, 261, 965, 272, 913, 329, 903, 301, 889, 262, 755, 338, 777, 424, 794, 490, 920, 442, 919, 442, 901, 261, 964, 274, 936, 345, 842, 386, 787, 410, 690, 435, 654, 370, 604, 279, 716, 132, 827, 153, 883, 164, 821, 244, 819, 197, 817, 150, 659, 228, 682, 335, 706, 443, 913, 329, 903, 301, 889, 262, 901, 261, 901, 261, 827, 153, 884, 163, 857, 238, 774, 281, 711, 313, 622, 313, 593, 233, 564, 157, 647, 71, 705, 54, 705, 54, 732, 60, 694, 82, 658, 102, 599, 170, 632, 231, 669, 301, 822, 244, 819, 197, 816, 150, 827, 153, 827, 153, 706, 54, 769, 34, 825, 87, 706, 149, 583, 213, 527, 56, 526, 57, 526, 59, 590, 200, 696, 137, 807, 70, 732, 60, 694, 82, 658, 102, 648, 73, 706, 54, 362, 328, 383, 340, 371, 361, 350, 349, 362, 328, 52, 189, 73, 201, 61, 222, 40, 210, 52, 189, 509, 119, 530, 131, 517, 152, 496, 140, 509, 119, 912, 16, 933, 28, 921, 49, 900, 37, 912, 16, 629, 380, 650, 392, 638, 413, 617, 401, 629, 380, 77, 414, 98, 426, 86, 447, 65, 435, 77, 414, 240, 76, 261, 88, 249, 109, 228, 97, 240, 76]
        }]]
    }, {
        Us: "1101-1-branch",
        YF: [["7f500b", {
            Z: "M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),
            H: [144, -14, 144, -14, 149, -12, 150, -12, 150, -12, 106, 22, 86, 75, 63, 137, 93, 193, 69, 238, 64, 236, 89, 174, 53, 146, 80, 72, 99, 19, 144, -14, 144, -14, 280, -18, 281, -18, 276, -20, 276, -20, 276, -20, 282, 23, 264, 64, 244, 113, 196, 129, 185, 168, 189, 170, 209, 120, 244, 123, 269, 66, 288, 25, 280, -18, 280, -18, 429, -5, 429, -5, 434, -4, 434, -4, 435, -4, 405, 28, 396, 72, 386, 124, 415, 164, 402, 203, 398, 202, 410, 150, 379, 132, 391, 70, 399, 26, 429, -5, 429, -5, 514, -7, 514, -7, 519, -12, 519, -12, 520, -12, 532, 50, 577, 96, 630, 151, 703, 150, 738, 197, 733, 201, 681, 144, 635, 166, 571, 101, 526, 54, 514, -7, 514, -7, 666, -67, 666, -68, 663, -65, 662, -64, 662, -64, 704, -52, 734, -18, 768, 22, 763, 72, 793, 99, 796, 96, 760, 57, 778, 26, 737, -22, 708, -56, 666, -67, 666, -67, 936, -8, 936, -8, 932, -9, 931, -9, 931, -9, 947, 32, 938, 76, 927, 127, 884, 154, 881, 194, 886, 195, 895, 142, 930, 138, 943, 76, 952, 32, 936, -8, 936, -8]
        }], ["5c7f0b", {
            Z: "M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),
            H: [119, 6, 121, 16, 113, 31, 81, 33, 58, 34, 27, 27, 27, 27, 27, 27, 53, 5, 70, -1, 93, -9, 117, -4, 119, 6, 124, 8, 132, 1, 151, 12, 165, 33, 179, 54, 180, 87, 180, 87, 180, 87, 153, 75, 139, 60, 122, 41, 115, 14, 124, 8, 78, 74, 82, 83, 76, 97, 48, 103, 27, 108, -2, 105, -2, 105, -2, 105, 19, 81, 33, 74, 53, 64, 75, 65, 78, 74, 83, 75, 90, 68, 108, 76, 124, 93, 139, 110, 144, 140, 144, 140, 144, 140, 117, 132, 104, 121, 85, 105, 76, 83, 83, 75, 72, 152, 75, 159, 72, 172, 48, 179, 30, 185, 6, 185, 6, 185, 6, 185, 22, 163, 33, 156, 49, 145, 68, 145, 72, 152, 76, 153, 81, 146, 98, 151, 112, 165, 126, 178, 133, 203, 133, 203, 133, 203, 110, 199, 97, 190, 80, 178, 70, 160, 76, 153, 73, 206, 75, 213, 71, 224, 49, 228, 34, 232, 12, 230, 12, 230, 12, 230, 28, 212, 39, 206, 53, 199, 70, 200, 73, 206, 76, 207, 81, 202, 95, 207, 107, 220, 118, 233, 122, 255, 122, 255, 122, 255, 102, 250, 92, 241, 78, 230, 71, 213, 76, 207, 70, 232, 78, 236, 76, 252, 66, 269, 56, 286, 33, 297, 33, 297, 33, 297, 33, 274, 39, 260, 46, 241, 62, 228, 70, 232, 285, 3, 278, 8, 274, 21, 291, 39, 304, 52, 325, 63, 325, 63, 325, 63, 323, 36, 316, 24, 308, 7, 291, -2, 285, 3, 281, 1, 280, -7, 263, -10, 244, -5, 224, 1, 205, 20, 205, 20, 205, 20, 228, 27, 244, 25, 264, 22, 283, 10, 281, 1, 270, 65, 264, 69, 259, 80, 272, 99, 281, 112, 299, 125, 299, 125, 299, 125, 300, 100, 296, 88, 290, 72, 277, 61, 270, 65, 267, 64, 267, 56, 252, 51, 234, 53, 216, 56, 197, 71, 197, 71, 197, 71, 216, 80, 230, 80, 249, 80, 267, 72, 267, 64, 231, 116, 225, 119, 220, 128, 230, 145, 237, 157, 251, 170, 251, 170, 251, 170, 254, 148, 251, 138, 248, 123, 237, 113, 231, 116, 228, 114, 229, 108, 217, 102, 201, 103, 186, 103, 168, 115, 168, 115, 168, 115, 184, 124, 196, 126, 212, 127, 228, 121, 228, 114, 201, 148, 196, 151, 192, 160, 202, 174, 209, 184, 222, 194, 222, 194, 222, 194, 223, 175, 220, 166, 216, 154, 206, 145, 201, 148, 198, 147, 198, 141, 187, 137, 174, 139, 160, 141, 145, 152, 145, 152, 145, 152, 160, 159, 171, 159, 185, 160, 198, 153, 198, 147, 188, 165, 182, 163, 173, 174, 170, 190, 167, 205, 173, 224, 173, 224, 173, 224, 186, 210, 191, 198, 197, 183, 195, 166, 188, 165, 415, 10, 417, 18, 413, 31, 389, 36, 371, 39, 347, 37, 347, 37, 347, 37, 364, 16, 377, 9, 393, 0, 412, 2, 415, 10, 418, 11, 424, 4, 440, 11, 453, 27, 466, 43, 470, 69, 470, 69, 470, 69, 448, 62, 436, 52, 420, 38, 412, 17, 418, 11, 391, 69, 394, 76, 392, 89, 371, 96, 355, 102, 333, 103, 333, 103, 333, 103, 346, 81, 357, 74, 371, 64, 388, 63, 391, 69, 395, 70, 399, 63, 414, 68, 428, 80, 441, 92, 448, 116, 448, 116, 448, 116, 427, 113, 415, 105, 400, 94, 390, 77, 395, 70, 395, 133, 398, 139, 397, 150, 379, 158, 367, 164, 348, 167, 348, 167, 348, 167, 358, 148, 366, 140, 377, 130, 391, 128, 395, 133, 398, 134, 401, 128, 414, 130, 427, 140, 439, 149, 447, 169, 447, 169, 447, 169, 429, 167, 418, 162, 404, 154, 394, 140, 398, 134, 401, 177, 404, 182, 402, 192, 386, 198, 374, 202, 358, 203, 358, 203, 358, 203, 368, 187, 375, 181, 386, 173, 399, 172, 401, 177, 404, 178, 408, 173, 419, 176, 429, 185, 439, 194, 445, 212, 445, 212, 445, 212, 429, 210, 420, 204, 408, 196, 401, 183, 404, 178, 402, 198, 408, 201, 409, 214, 403, 229, 397, 244, 381, 255, 381, 255, 381, 255, 378, 236, 381, 224, 385, 208, 396, 196, 402, 198, 519, 23, 531, 26, 543, 42, 528, 75, 518, 99, 495, 125, 495, 125, 495, 125, 485, 87, 487, 67, 490, 40, 508, 19, 519, 23, 523, 19, 521, 7, 542, -6, 571, -8, 600, -10, 636, 6, 636, 6, 636, 6, 609, 27, 586, 32, 557, 39, 526, 32, 523, 19, 570, 100, 581, 102, 594, 115, 585, 147, 579, 170, 562, 197, 562, 197, 562, 197, 548, 163, 547, 145, 547, 120, 560, 98, 570, 100, 574, 97, 570, 86, 587, 72, 613, 66, 639, 60, 673, 71, 673, 71, 673, 71, 652, 93, 632, 101, 607, 110, 578, 107, 574, 97, 649, 149, 659, 150, 670, 160, 666, 188, 662, 208, 650, 232, 650, 232, 650, 232, 635, 205, 633, 189, 631, 168, 640, 149, 649, 149, 652, 146, 648, 137, 662, 123, 683, 116, 705, 109, 734, 116, 734, 116, 734, 116, 718, 137, 702, 145, 681, 155, 657, 155, 652, 146, 707, 178, 715, 179, 724, 189, 718, 213, 714, 230, 701, 250, 701, 250, 701, 250, 690, 225, 690, 211, 689, 193, 699, 177, 707, 178, 710, 175, 707, 167, 720, 156, 739, 151, 759, 147, 784, 155, 784, 155, 784, 155, 768, 172, 753, 177, 734, 185, 713, 183, 710, 175, 732, 194, 740, 189, 757, 199, 770, 218, 782, 237, 783, 266, 783, 266, 783, 266, 758, 254, 746, 240, 730, 223, 724, 199, 732, 194, 687, -62, 688, -54, 699, -45, 722, -53, 739, -59, 759, -73, 759, -73, 759, -73, 733, -82, 719, -82, 701, -81, 685, -71, 687, -62, 684, -60, 676, -62, 666, -48, 662, -28, 659, -9, 669, 17, 669, 17, 669, 17, 684, -1, 689, -16, 696, -35, 692, -57, 684, -60, 737, -23, 738, -15, 746, -5, 768, -9, 784, -12, 804, -23, 804, -23, 804, -23, 782, -34, 769, -36, 752, -38, 736, -30, 737, -23, 734, -20, 727, -24, 716, -13, 711, 5, 705, 22, 711, 46, 711, 46, 711, 46, 727, 33, 734, 20, 742, 3, 742, -17, 734, -20, 766, 35, 766, 41, 772, 50, 792, 48, 806, 47, 823, 40, 823, 40, 823, 40, 805, 28, 795, 26, 780, 23, 766, 28, 766, 35, 763, 37, 758, 33, 747, 42, 741, 56, 735, 70, 738, 91, 738, 91, 738, 91, 753, 81, 760, 71, 768, 57, 769, 40, 763, 37, 782, 76, 783, 82, 789, 89, 806, 86, 818, 84, 832, 76, 832, 76, 832, 76, 816, 67, 806, 66, 794, 65, 782, 70, 782, 76, 780, 78, 775, 75, 766, 84, 762, 97, 758, 110, 762, 128, 762, 128, 762, 128, 775, 118, 779, 108, 786, 95, 785, 80, 780, 78, 792, 94, 788, 100, 794, 112, 807, 122, 819, 131, 839, 133, 839, 133, 839, 133, 832, 116, 823, 107, 812, 95, 796, 89, 792, 94, 945, 11, 939, 18, 938, 31, 959, 45, 974, 55, 997, 62, 997, 62, 997, 62, 989, 36, 980, 25, 968, 11, 950, 5, 945, 11, 941, 11, 938, 3, 921, 3, 903, 13, 885, 22, 871, 45, 871, 45, 871, 45, 894, 47, 909, 42, 929, 35, 944, 19, 941, 11, 944, 75, 938, 80, 935, 93, 952, 108, 964, 119, 984, 128, 984, 128, 984, 128, 980, 104, 974, 93, 965, 78, 949, 70, 944, 75, 940, 75, 938, 67, 923, 65, 906, 71, 889, 77, 873, 96, 873, 96, 873, 96, 894, 101, 908, 99, 926, 95, 942, 82, 940, 75, 916, 133, 911, 137, 907, 147, 920, 162, 930, 172, 946, 182, 946, 182, 946, 182, 944, 160, 940, 151, 933, 137, 921, 129, 916, 133, 913, 132, 912, 125, 899, 123, 884, 127, 869, 130, 854, 145, 854, 145, 854, 145, 871, 151, 883, 150, 899, 148, 913, 139, 913, 132, 893, 171, 888, 175, 887, 184, 899, 196, 908, 204, 923, 211, 923, 211, 923, 211, 920, 193, 915, 184, 909, 173, 897, 167, 893, 171, 890, 170, 889, 165, 877, 163, 864, 168, 851, 172, 839, 187, 839, 187, 839, 187, 855, 190, 865, 188, 879, 186, 891, 176, 890, 170, 884, 190, 877, 190, 871, 202, 871, 218, 871, 234, 881, 251, 881, 251, 881, 251, 891, 234, 893, 222, 896, 206, 890, 190, 884, 190]
        }]]
    }, {
        Us: "1101-1-sticks",
        YF: [["ec7272", {
            Z: "M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),
            H: [260, 148, 297, 180, 286, 192, 249, 160, 260, 148, 114, 31, 161, 47, 155, 63, 109, 47, 114, 31, 931, 91, 902, 52, 915, 42, 945, 81, 931, 91, 711, 19, 746, -15, 758, -3, 723, 31, 711, 19, 812, 161, 782, 122, 795, 112, 825, 151, 812, 161, 389, 34, 424, 0, 436, 12, 401, 46, 389, 34, 431, 209, 465, 175, 477, 186, 442, 221, 431, 209, 282, 90, 282, 41, 299, 41, 299, 90, 282, 90, 58, 233, 29, 194, 42, 184, 72, 223, 58, 233, 574, 58, 621, 74, 615, 90, 569, 74, 574, 58]
        }], ["0000ff", {
            Z: "M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),
            H: [722, 208, 733, 161, 717, 157, 706, 205, 722, 208, 843, 12, 797, 28, 802, 44, 849, 28, 843, 12, 31, 74, 60, 35, 47, 25, 18, 64, 31, 74, 220, 21, 185, -13, 173, -1, 208, 33, 220, 21, 140, 166, 170, 127, 157, 117, 127, 156, 140, 166, 558, 148, 523, 114, 511, 126, 546, 160, 558, 148, 562, 9, 516, 25, 521, 41, 568, 25, 562, 9, 697, 105, 726, 66, 713, 56, 684, 95, 697, 105, 961, 180, 990, 141, 977, 131, 948, 170, 961, 180, 399, 97, 353, 113, 358, 129, 405, 113, 399, 97]
        }]]
    }, {
        Us: "1101-1-dots",
        YF: [["ec7272", {
            Z: "M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),
            H: [154, 47, 144, 47, 136, 39, 136, 29, 136, 19, 144, 11, 154, 11, 164, 11, 172, 19, 172, 29, 172, 39, 164, 47, 154, 47, 272, 164, 262, 164, 254, 156, 254, 146, 254, 136, 262, 128, 272, 128, 282, 128, 290, 136, 290, 146, 290, 156, 282, 164, 272, 164, 529, 48, 519, 48, 511, 40, 511, 30, 511, 20, 519, 12, 529, 12, 539, 12, 547, 20, 547, 30, 547, 40, 539, 48, 529, 48, 696, 101, 686, 101, 678, 93, 678, 83, 678, 73, 686, 65, 696, 65, 706, 65, 714, 73, 714, 83, 714, 93, 706, 101, 696, 101, 929, 91, 919, 91, 911, 83, 911, 73, 911, 63, 919, 55, 929, 55, 939, 55, 947, 63, 947, 73, 947, 83, 939, 91, 929, 91]
        }], ["0000ff", {
            Z: "M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),
            H: [66, 122, 56, 122, 48, 114, 48, 104, 48, 94, 56, 86, 66, 86, 76, 86, 84, 94, 84, 104, 84, 114, 76, 122, 66, 122, 309, 55, 299, 55, 291, 47, 291, 37, 291, 27, 299, 19, 309, 19, 319, 19, 327, 27, 327, 37, 327, 47, 319, 55, 309, 55, 785, 180, 775, 180, 767, 172, 767, 162, 767, 152, 775, 144, 785, 144, 795, 144, 803, 152, 803, 162, 803, 172, 795, 180, 785, 180, 459, 147, 449, 147, 441, 139, 441, 129, 441, 119, 449, 111, 459, 111, 469, 111, 477, 119, 477, 129, 477, 139, 469, 147, 459, 147, 811, 48, 801, 48, 793, 40, 793, 30, 793, 20, 801, 12, 811, 12, 821, 12, 829, 20, 829, 30, 829, 40, 821, 48, 811, 48]
        }], ["88a500", {
            Z: ["M", "C", "C", "Z"],
            H: [389, 224, 389, 224, 410, 230, 410, 230, 410, 230, 389, 224, 389, 224]
        }]]
    }, {
        Us: "1101-1-strips",
        YF: [["ffc88c", {
            Z: "M L L L L Z M L L L L Z M L L L L Z".split(" "),
            H: [-40, 0, 44, 0, 137, 99, 53, 99, -40, 0, 296, 0, 380, 0, 473, 99, 389, 99, 296, 0, 632, 0, 716, 0, 809, 99, 725, 99, 632, 0]
        }], ["88a500", {
            Z: "M L L L L Z M L L L L Z M L L L L Z".split(" "),
            H: [128, 0, 212, 0, 305, 99, 221, 99, 128, 0, 464, 0, 548, 0, 641, 99, 557, 99, 464, 0, 800, 0, 884, 0, 977, 99, 893, 99, 800, 0]
        }], ["88a500", {
            Z: ["M", "C", "C", "Z"],
            H: [407, 217, 407, 217, 428, 223, 428, 223, 428, 223, 407, 217, 407, 217]
        }]]
    }, {
        Us: "1101-1-circs",
        YF: [["ec7272", {
            Z: "M C C C C Z M C C C C Z".split(" "),
            H: [61, 209, 27, 209, 0, 181, 0, 147, 0, 113, 27, 86, 61, 86, 96, 86, 123, 113, 123, 147, 123, 181, 96, 209, 61, 209, 551, 209, 517, 209, 489, 181, 489, 147, 489, 113, 517, 86, 551, 86, 585, 86, 612, 113, 612, 147, 612, 181, 585, 209, 551, 209]
        }], ["217995", {
            Z: "M C C C C Z M C C C C Z".split(" "),
            H: [303, 209, 269, 209, 241, 181, 241, 147, 241, 113, 269, 86, 303, 86, 337, 86, 364, 113, 364, 147, 364, 181, 337, 209, 303, 209, 799, 209, 765, 209, 738, 181, 738, 147, 738, 113, 765, 86, 799, 86, 834, 86, 861, 113, 861, 147, 861, 181, 834, 209, 799, 209]
        }], ["88a500", {
            Z: ["M", "C", "C", "Z"],
            H: [530, 273, 530, 273, 551, 279, 551, 279, 551, 279, 530, 273, 530, 273]
        }]]
    }, {
        Us: "1101-1-squares",
        YF: [["014ea7", {
            Z: "M L L L L Z M L L L L Z".split(" "),
            H: [0, 120, 124, 120, 124, 244, 0, 244, 0, 120, 497, 120, 621, 120, 621, 244, 497, 244, 497, 120]
        }], ["fc54ff", {
            Z: "M L L L L Z M L L L L Z".split(" "),
            H: [249, 120, 373, 120, 373, 244, 249, 244, 249, 120, 746, 120, 870, 120, 870, 244, 746, 244, 746, 120]
        }], ["88a500", {
            Z: ["M", "C", "C", "Z"],
            H: [389, 354, 389, 354, 410, 360, 410, 360, 410, 360, 389, 354, 389, 354]
        }]]
    }, {
        Us: "1101-0-christmas",
        YF: [["014ea7", {
            Z: "M C C C C Z M C C C C Z M L L L L Z".split(" "),
            H: [255, 480, 178, 480, 116, 418, 116, 341, 116, 264, 178, 202, 255, 202, 332, 202, 394, 264, 394, 341, 394, 418, 332, 480, 255, 480, 255, 232, 236, 232, 221, 217, 221, 198, 221, 179, 236, 164, 255, 164, 274, 164, 289, 179, 289, 198, 289, 217, 274, 232, 255, 232, 251, -152, 260, -152, 260, 248, 251, 248, 251, -152]
        }], ["ff9518", {
            Z: "M C C C C Z M C C C C Z M L L L L Z".split(" "),
            H: [746, 623, 669, 623, 607, 561, 607, 484, 607, 407, 669, 345, 746, 345, 823, 345, 885, 407, 885, 484, 885, 561, 823, 623, 746, 623, 747, 376, 728, 376, 713, 361, 713, 342, 713, 323, 728, 308, 747, 308, 766, 308, 781, 323, 781, 342, 781, 361, 766, 376, 747, 376, 742, -8, 751, -8, 751, 392, 742, 392, 742, -8]
        }]]
    }];
    var fw = {};
    fw.parse = function (Y) {
        var S = new Uint8Array(Y)
            , h = null;
        if (S[0] == 80 && S[1] == 75) {
            var q = Date.now()
                , H = UZIP.parse(S.buffer)
                , h = H["document.json"];
            h = JSON.parse(k.Dt(h, 0, h.length));
            fw.GW(h, H)
        } else {
            var I = hZ.parse(Y);
            h = fw.h9(I[2][0][1])
        }
        return h
    }
        ;
    fw.GW = function (Y, S) {
        var h = typeof Y;
        if (h == "string" || h == "number" || h == "boolean")
            return Y;
        if (Y instanceof Array) {
            for (var G = 0; G < Y.length; G++)
                Y[G] = fw.GW(Y[G], S);
            return Y
        }
        var q = Y._class;
        if (q == null)
            return Y;
        if (q == "MSJSONFileReference") {
            var H = Y._ref;
            if (!1) { } else if (S[H + ".json"] != null) {
                var I = S[H + ".json"]
                    , E = I.length;
                for (var G = 0; G < E; G++)
                    if (I[G] == 11 || I[G] == 3)
                        I[G] = 32;
                var d = k.Dt(I, 0, E);
                Y = JSON.parse(d)
            } else if (S[H + ".png"] != null)
                return {
                    key: H.split("/").pop(),
                    bdata: S[H + ".png"]
                };
            else if (S[H + ".jpg"] != null)
                return {
                    key: H.split("/").pop(),
                    bdata: S[H + ".jpg"]
                };
            else if (S[H + ".pdf"] != null)
                return {
                    key: H.split("/").pop(),
                    bdata: S[H + ".pdf"]
                };
            else if (S[H] != null)
                return {
                    key: H.split("/").pop(),
                    bdata: S[H]
                };
            else {
                console.log(Y, S);
                return
            }
        } else if (q == "MSAttributedString") {
            var d = atob(Y.archivedAttributedString._archive)
                , B = d.length - 1
                , n = new Uint8Array(B);
            for (var G = 0; G < B; G++)
                n[G] = d.charCodeAt(G);
            Y.archivedAttributedString = fw.h9(n)
        }
        for (var g in Y)
            Y[g] = fw.GW(Y[g], S);
        return Y
    }
        ;
    fw.xW = function (Y, S, h, q) {
        if (Y instanceof Uint8Array)
            return null;
        if (q.indexOf(Y) != -1)
            return null;
        q.push(Y);
        if (Y == S)
            return h;
        for (var H in Y) {
            h.push(H);
            var I = fw.xW(Y[H], S, h, q);
            if (I) {
                console.log(Y, I);
                throw "e"
            }
            h.pop()
        }
    }
        ;
    fw.h9 = function (Y) {
        var S = cS.parse(Y, 0)
            , h = S.$objects
            , q = new Uint8Array(h.length)
            , H = fw.H8(h, q, S.$top.root);
        for (var G = 0; G < h.length; G++)
            if (q[G] == 0 && G != 0) {
                console.log(G, h[G]);
                fw.xW(H, G, [], [])
            }
        for (var G = 0; G < h.length; G++) {
            var I = h[G];
            if (I._class && (I._class == "bitmap" || I._class == "fill" && I.fillType == 4 && (I.image || I.imageSHA))) {
                var E = I.image
                    , d = I.imageSHA
                    , B = null
                    , n = null;
                if (E == "$null")
                    E = null;
                if (d == "$null")
                    d = null;
                if (E && E.data) {
                    n = E.sha1["NS.bytes"];
                    n = btoa(k.Fe(n, 0, n.length));
                    B = E.data instanceof Uint8Array ? E.data : E.data["NS.bytes"]
                } else if (E == null && d == null) {
                    var g = eD.Oh("PNG").rr([[t.m(4).buffer]], 1, 1);
                    B = new Uint8Array(g)
                } else {
                    var z = (H.assets ? H.assets.imageCollection : H.images).images;
                    if (d)
                        n = d instanceof Uint8Array ? d : d["NS.bytes"];
                    else
                        n = E.sha1["NS.bytes"];
                    n = btoa(k.Fe(n, 0, n.length));
                    var B = z[n].data;
                    if (B["NS.bytes"])
                        B = B["NS.bytes"]
                }
                B = new Uint8Array(B.buffer.slice(B.byteOffset, B.byteOffset + B.length));
                delete I.imageSHA;
                I.image = {
                    key: n,
                    bdata: B
                }
            }
        }
        return H
    }
        ;
    fw.aai = function (Y) {
        return Y.slice(0, 11) == "MSImmutable" ? "MS" + Y.slice(11) : Y
    }
        ;
    fw.H8 = function (Y, S, h) {
        var q = Y[h];
        if (S[h] == 1) {
            return q
        }
        S[h] = 1;
        if (typeof q == "string")
            return q;
        if (typeof q == "number")
            return q;
        if (typeof q == "boolean")
            return q;
        if (q instanceof Array)
            return q;
        if (q instanceof Uint8Array) {
            return q
        }
        if (Y[q.$class] == null) {
            if (q.$class == null && q["NS.data"] != null)
                return q;
            console.log(h, q);
            throw "e"
        }
        var H = Y[q.$class]
            , I = fw.aai(H.$classname);
        S[q.$class] = 1;
        q.$class = I;
        if (fw.Xf[I]) {
            delete q.$class;
            q._class = fw.Xf[I]
        }
        var E = fw.H8;
        if (I == "NSMutableArray" || I == "NSArray") {
            var d = [];
            if (q["NS.objects"] != null)
                for (var G = 0; G < q["NS.objects"].length; G++)
                    d.push(E(Y, S, q["NS.objects"][G]));
            else
                for (var G = 0; q["NS.object." + G] != null; G++)
                    d.push(E(Y, S, q["NS.object." + G]));
            Y[h] = d;
            return d
        }
        if (I == "NSDictionary" || I == "NSMutableDictionary") {
            var B = {
                $class: I
            };
            if (q["NS.keys"] != null)
                for (var G = 0; G < q["NS.keys"].length; G++) {
                    var n = E(Y, S, q["NS.keys"][G]);
                    if (n instanceof Uint8Array)
                        n = btoa(fw.Fs.Fe(n, 0, n.length));
                    else if (typeof n != "string" && typeof n != "number")
                        n = btoa(fw.Fs.Fe(n["NS.bytes"], 0, n["NS.bytes"].length));
                    B[n] = E(Y, S, q["NS.objects"][G])
                }
            else
                for (var G = 0; q["NS.key." + G] != null; G++) {
                    var n = E(Y, S, q["NS.key." + G]);
                    if (n instanceof Uint8Array)
                        n = btoa(fw.Fs.Fe(n, 0, n.length));
                    else if (typeof n != "string" && typeof n != "number")
                        n = btoa(fw.Fs.Fe(n["NS.bytes"], 0, n["NS.bytes"].length));
                    B[n] = E(Y, S, q["NS.object." + G])
                }
            for (var g in q)
                delete q[g];
            for (var g in B)
                q[g] = B[g];
            return q
        }
        if (I == "NSURL")
            return {
                $class: I,
                base: E(Y, S, q["NS.base"]),
                relative: E(Y, S, q["NS.relative"])
            };
        if (fw.afZ.indexOf(I) != -1) {
            Y[h] = E(Y, S, q.array_do);
            return Y[h]
        }
        if (q.do_objectID != null)
            q.do_objectID = E(Y, S, q.do_objectID);
        if (fw.adG.indexOf(I) != -1)
            return q;
        var z = fw.aaj[I];
        if (z == null) {
            console.log(Y, q);
            throw "unknown class " + I
        }
        for (var G = 0; G < z.length; G++)
            if (q[z[G]] != null)
                q[z[G]] = E(Y, S, q[z[G]]);
        if (I == "MSTextLayer") {
            var p = q, C, T, A, i;
            if (p.attributedString)
                C = p.attributedString.archivedAttributedString;
            else
                C = p.storage;
            i = C.NSString;
            if (typeof i != "string")
                i = k.Dt(i["NS.bytes"], 0, i["NS.bytes"].length);
            if (C.NSAttributeInfo)
                T = C.NSAttributeInfo["NS.bytes"];
            else {
                var e = i.length
                    , a = [];
                while (e > 0) {
                    var Z = Math.min(100, e);
                    a.push(Z, 0);
                    e -= Z
                }
                T = new Uint8Array(a)
            }
            A = C.NSAttributes instanceof Array ? C.NSAttributes : [C.NSAttributes];
            var O = {
                $class: "NSAttributedString",
                NSString: i,
                NSAttributes: A
            };
            p.attributedString = {
                _class: "MSAttributedString",
                archivedAttributedString: O
            };
            O.NSAttributeInfo = {
                $class: "NSMutableData",
                "NS.data": T
            };
            delete p.storage
        }
        return q
    }
        ;
    fw.Fs = {
        PX: function (Y, S) {
            return Y[S + 1] << 8 | Y[S]
        },
        n: function (Y, S) {
            return Y[S + 3] << 24 | Y[S + 2] << 16 | Y[S + 1] << 8 | Y[S]
        },
        Fe: function (Y, S, h) {
            var q = "";
            for (var G = 0; G < h; G++)
                q += String.fromCharCode(Y[S + G]);
            return q
        }
    };
    fw.Xf = {
        MSPage: "page",
        MSArtboardGroup: "artboard",
        MSShapeGroup: "shapeGroup",
        MSLayerGroup: "group",
        MSBitmapLayer: "bitmap",
        MSTextLayer: "text",
        MSSliceLayer: "slice",
        MSSymbolMaster: "symbolMaster",
        MSSymbolInstance: "symbolInstance",
        MSStyleFill: "fill",
        MSShapePathLayer: "shapePath",
        MSRectangleShape: "rectangle",
        MSOvalShape: "oval",
        MSTriangleShape: "triangle"
    };
    fw.afZ = ["MSArray", "MSFillStyleCollection", "MSBorderStyleCollection", "MSShadowStyleCollection", "MSInnerShadowStyleCollection"];
    fw.adG = "MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
    fw.aaj = {
        MSAssetCollection: ["gradients", "colors", "imageCollection", "images"],
        MSImageCollection: ["images"],
        MSSharedStyleContainer: ["objects"],
        MSSharedTextStyleContainer: ["objects"],
        MSSharedLayerStyleContainer: ["objects"],
        MSSharedLayerTextStyleContainer: ["objects"],
        MSSharedLayerContainer: ["objects"],
        MSSymbolContainer: ["objects"],
        MSGradient: ["stops", "from", "to", "points"],
        MSGradientStop: ["color"],
        MSStyleFill: ["color", "gradient", "contextSettings", "image", "imageSHA"],
        MSExportFormat: ["fileFormat", "name"],
        MSExportOptions: ["exportFormats", "includedLayerIds", "sizes"],
        MSRulerData: ["guides"],
        MSStyle: "textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),
        MSSharedStyle: ["name", "value"],
        MSSymbol: ["name", "value"],
        MSAttributedString: ["archivedAttributedString"],
        MSSharedLayerStyle: ["name", "value", "instances"],
        MSSharedLayer: ["name", "value", "instances"],
        MSDocumentData: "assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),
        MSShapePathLayer: "exportOptions frame name userInfo path originalObjectID".split(" "),
        MSOvalShape: "exportOptions frame name userInfo path originalObjectID".split(" "),
        MSRectangleShape: "exportOptions frame name userInfo path originalObjectID".split(" "),
        MSPolygonShape: "exportOptions frame name userInfo path originalObjectID".split(" "),
        MSTriangleShape: "exportOptions frame name userInfo path originalObjectID".split(" "),
        MSStarShape: "exportOptions frame name userInfo path originalObjectID".split(" "),
        MSBitmapLayer: "exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),
        MSTextLayer: "exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),
        MSShapeGroup: "exportOptions frame name userInfo style originalObjectID layers".split(" "),
        MSLayerGroup: "exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),
        MSArtboardGroup: "exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),
        MSPage: "exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),
        MSSymbolMaster: "exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),
        MSSymbolInstance: "exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),
        MSSliceLayer: ["exportOptions", "frame", "name", "userInfo", "backgroundColor"],
        MSTextStyle: ["attributes", "encodedAttributes"],
        MSShapePath: ["points"],
        MSPointArray: ["points"],
        MSImageData: ["data", "sha1", "name"],
        MSCurvePoint: ["curveFrom", "curveTo", "point"],
        MSImageProxy: ["sha1"],
        MSStyleBorder: ["color", "gradient", "contextSettings"],
        MSStyleBlur: ["center"],
        MSStyleShadow: ["color", "contextSettings"],
        MSStyleInnerShadow: ["color", "contextSettings"],
        MSExportSize: ["format", "name"],
        MSStyleBorderOptions: ["dashPattern"],
        NSFont: ["NSName", "NSDescriptor"],
        NSColor: ["NSCustomColorSpace"],
        NSFontDescriptor: ["NSFontDescriptorAttributes"],
        NSMutableParagraphStyle: ["NSTextBlocks", "NSTabStops", "NSTextLists"],
        NSAttributedString: ["NSAttributes", "NSString", "NSAttributeInfo"],
        NSTextStorage: ["NSAttributeInfo", "NSAttributes", "NSString"],
        NSColorSpace: ["NSICC"],
        NSParagraphStyle: ["NSTabStops", "NSTextBlocks", "NSTextLists"],
        NSTextList: ["NSMarkerFormat"],
        NSTextTab: ["NSTabOptions"],
        UIFontDescriptor: ["UIFontDescriptorAttributes"]
    };
    var cS = {};
    cS.parse = function (Y, S) {
        var h = k.Fe(Y, S, 8);
        S += 8;
        var q = cS.parse.aa9(Y, Y.length - 31)
            , H = [];
        if (q.t9 == 1) {
            var S = Y.length - 31 - q.t9 * q.I3;
            for (var G = 0; G < q.I3; G++)
                H.push(Y[S + G])
        } else if (q.t9 == 2) {
            var S = Y.length - 31 - q.t9 * q.I3;
            for (var G = 0; G < q.I3; G++)
                H.push(k.PX(Y, S + G * 2))
        } else if (q.t9 == 4) {
            var S = Y.length - 31 - q.t9 * q.I3;
            for (var G = 0; G < q.I3; G++)
                H.push(k.n(Y, S + G * 4))
        } else {
            throw "e"
        }
        var I = cS.parse.H8(Y, H, q.root, q);
        return I
    }
        ;
    cS.parse.H8 = function (Y, S, h, q) {
        var H = cS.Fs
            , I = q.a4I
            , E = I == 4 ? H.n : I == 2 ? H.PX : H.a1Q
            , d = cS.parse
            , B = S[h]
            , n = Y[B]
            , g = n >> 4
            , z = n & 15
            , C = null;
        B += 1;
        if ([4, 5, 6, 10, 12, 13].indexOf(g) != -1 && z == 15) {
            var p = d.Ii(Y, B);
            B += p.Li;
            z = p.G
        }
        if (!1) { } else if (g == 0)
            C = z == 8 ? !1 : z == 9 ? !0 : null;
        else if (g == 1)
            C = d.Ii(Y, B - 1).G;
        else if (g == 2)
            C = 1 << z == 4 ? k.k7(Y, B) : k._3(Y, B);
        else if (g == 3)
            C = k._3(Y, B);
        else if (g == 4)
            C = new Uint8Array(Y.buffer, B, z);
        else if (g == 5)
            C = k.Fe(Y, B, z);
        else if (g == 6)
            C = k._$(Y, B, z);
        else if (g == 8) {
            C = 0;
            for (var G = 0; G < z + 1; G++)
                C = C << 8 | Y[B + G]
        } else if (g == 10) {
            C = [];
            for (var G = 0; G < z; G++)
                C.push(d.H8(Y, S, E(Y, B + I * G), q))
        } else if (g == 12) {
            C = [];
            for (var G = 0; G < z; G++)
                C.push(d.H8(Y, S, E(Y, B + I * G), q))
        } else if (g == 13) {
            C = {};
            for (var G = 0; G < z; G++) {
                var T = d.H8(Y, S, E(Y, B + I * G), q)
                    , A = d.H8(Y, S, E(Y, B + I * (z + G)), q);
                C[T] = A
            }
        } else
            throw "unknown mask " + g;
        return C
    }
        ;
    cS.parse.Ii = function (Y, S) {
        var h = 1 << (Y[S] & 15)
            , q = 0;
        for (var G = 0; G < h; G++)
            q = q << 8 | Y[S + 1 + G];
        return {
            G: q,
            Li: h + 1
        }
    }
        ;
    cS.parse.aa9 = function (Y, S) {
        var h = {};
        S += 6;
        h.t9 = Y[S];
        S++;
        h.a4I = Y[S];
        S++;
        S += 4;
        h.I3 = k.n(Y, S);
        S += 4;
        S += 4;
        h.root = k.n(Y, S);
        S += 4;
        S += 4;
        h.aj5 = k.n(Y, S);
        S += 4;
        return h
    }
        ;
    cS.Fs = {
        a1Q: function (Y, S) {
            return Y[S]
        },
        PX: function (Y, S) {
            return Y[S] << 8 | Y[S + 1]
        },
        n: function (Y, S) {
            return Y[S] << 24 | Y[S + 1] << 16 | Y[S + 2] << 8 | Y[S + 3]
        },
        Fe: function (Y, S, h) {
            var q = "";
            for (var G = 0; G < h; G++)
                q += String.fromCharCode(Y[S + G]);
            return q
        }
    };
    var hZ = {
        parse: function (Y) {
            var S = new Uint8Array(Y)
                , h = hZ.si(S)
                , q = []
                , H = new Uint8Array(S.length)
                , I = [];
            q.push(I);
            hZ.c5(S, h, 1, H, I);
            for (var G = 0; G < I.length; G++) {
                var E = [];
                q.push(E);
                hZ.c5(S, h, I[G][3], H, E);
                I[G][3] = G + 1
            }
            return q
        },
        c5: function (Y, S, h, q, H) {
            h--;
            var I = h * S.Ev + (h == 0 ? 100 : 0)
                , E = Y[I]
                , d = hZ.PX(Y, I + 1);
            if (d != 0)
                throw "free block in a page";
            var B = hZ.PX(Y, I + 3)
                , n = hZ.PX(Y, I + 5);
            if (n == 0)
                n = 65536;
            var g = Y[I + 7]
                , z = hZ.PX(Y, I + 8);
            if (E == 2 || E == 5)
                I += 4;
            else
                z = 0;
            for (var p = 0; p < B; p++) {
                var C = h * S.Ev + hZ.PX(Y, I + 8 + 2 * p)
                    , T = -1
                    , A = 0
                    , i = 0
                    , e = 0;
                if (E == 2 || E == 5) {
                    T = hZ.n(Y, C);
                    C += 4
                }
                if (E == 2 || E == 10 || E == 13) {
                    A = hZ.hy(Y, C);
                    C += A.Li
                }
                if (E == 5 || E == 13) {
                    i = hZ.hy(Y, C);
                    C += i.Li
                }
                if (E == 5) {
                    hZ.c5(Y, S, T, q, H);
                    continue
                }
                var a = S.Ev - (h == 0 ? 100 : 0)
                    , Z = A.w1
                    , O = E == 13 ? a - 35 : Math.floor((a - 12) * 64 / 255) - 23
                    , c = Math.floor((a - 12) * 32 / 255) - 23
                    , s = c + (Z - c) % (a - 4);
                if (Z <= O) {
                    hZ.vx(Y, C, q, 0, Z)
                } else {
                    var x = s <= O ? s : c
                        , u = 0;
                    hZ.vx(Y, C, q, 0, x);
                    u += x;
                    e = hZ.n(Y, C + x);
                    while (e != 0) {
                        var y = (e - 1) * S.Ev;
                        e = hZ.n(Y, y);
                        var j = Math.min(S.Ev - 4, Z - u);
                        hZ.vx(Y, y + 4, q, u, j);
                        u += j
                    }
                }
                H.push(hZ.aeZ(q, Z))
            }
        },
        aeZ: function (Y, S) {
            var h = 0
                , q = hZ.hy(Y, h);
            h += q.Li;
            var H = []
                , I = [];
            while (h < q.w1) {
                var E = hZ.hy(Y, h);
                h += E.Li;
                H.push(E.w1)
            }
            if (h != q.w1)
                throw "e";
            for (var G = 0; G < H.length; G++) {
                var E = H[G];
                if (!1) { } else if (E == 0)
                    I.push(null);
                else if (E == 1) {
                    I.push(hZ.ah4(Y, h));
                    h += 1
                } else if (E == 2) {
                    I.push(hZ.AV(Y, h));
                    h += 2
                } else if (E == 3) {
                    I.push(hZ.a87(Y, h));
                    h += 3
                } else if (E == 4) {
                    I.push(hZ.Ii(Y, h));
                    h += 4
                } else if (E == 7) {
                    I.push(hZ.a3l(Y, h));
                    h += 16
                } else if (E == 8)
                    I.push(0);
                else if (E == 9)
                    I.push(1);
                else if (E >= 12 && (E & 1) == 0) {
                    var d = E - 13 >> 1
                        , B = new Uint8Array(d);
                    hZ.vx(Y, h, B, 0, d);
                    I.push(B);
                    h += d
                } else if (E >= 13 && (E & 1) == 1) {
                    var d = E - 12 >> 1;
                    I.push(hZ.Dt(Y, h, d));
                    h += d
                } else
                    throw "unknonw type " + E
            }
            return I
        },
        si: function (Y) {
            if (!(Y[18] == 1 && Y[19] == 1 && Y[20] == 0 && Y[21] == 64 && Y[22] == 32 && Y[23] == 32))
                throw "unexpected SQL3 header";
            var S = {
                ep: hZ.Fe(Y, 0, 15),
                Ev: hZ.PX(Y, 16),
                a6E: hZ.n(Y, 24),
                size: hZ.n(Y, 28),
                amu: hZ.n(Y, 32),
                aob: hZ.n(Y, 36),
                a8M: hZ.n(Y, 40),
                a9n: hZ.n(Y, 44),
                a4G: hZ.n(Y, 48),
                anz: hZ.n(Y, 52),
                a2Q: hZ.n(Y, 56),
                anS: hZ.n(Y, 60),
                adJ: hZ.n(Y, 64) != 0,
                a4D: hZ.n(Y, 68),
                ad4: hZ.n(Y, 92),
                a6f: hZ.n(Y, 96)
            };
            if (S.Ev == 1)
                S.Ev = 65536;
            if (S.a2Q != 1)
                throw "unsupported text encoding " + S.a2Q;
            return S
        },
        aeq: function (Y, S) {
            return Y[S] << 16 | Y[S + 1] << 8 | Y[S + 2]
        },
        a87: function (Y, S) {
            var h = hZ.aeq(Y, S)
                , q = h & 8388608;
            return q ? -(16777215 - h + 1) : h
        },
        ah4: function (Y, S) {
            hZ.pW[0] = Y[S];
            return hZ.a2a[0]
        },
        Ii: function (Y, S) {
            var h = hZ.pW;
            for (var G = 0; G < 4; G++)
                h[G] = Y[S + 3 - G];
            return hZ.akz[0]
        },
        AV: function (Y, S) {
            var h = hZ.pW;
            h[0] = Y[S + 1];
            h[1] = Y[S];
            return hZ.ae5[0]
        },
        PX: function (Y, S) {
            return Y[S] << 8 | Y[S + 1]
        },
        n: function (Y, S) {
            return Y[S] << 24 | Y[S + 1] << 16 | Y[S + 2] << 8 | Y[S + 3]
        },
        a3l: function (Y, S) {
            var h = hZ.pW;
            for (var G = 0; G < 8; G++)
                h[G] = Y[S + 7 - G];
            return hZ.ad$[0]
        },
        hy: function (Y, S) {
            var h = S
                , D = 0;
            while (!0) {
                var q = Y[S];
                S++;
                D = D * 128 + (q & 127);
                if (q < 128)
                    break
            }
            return {
                w1: D,
                Li: S - h
            }
        },
        Fe: function (Y, S, h) {
            var q = "";
            for (var G = 0; G < h; G++)
                q += String.fromCharCode(Y[S + G]);
            return q
        },
        Dt: function (Y, S, h) {
            var q = "";
            for (var G = 0; G < h; G++)
                q += "%" + hZ.a1S(Y[S + G].toString(16));
            return decodeURIComponent(q)
        },
        vx: function (Y, S, h, q, H) {
            if (Y[S + H - 1] == null || h[q + H - 1] == null) {
                console.log(S, q, H);
                throw "e"
            }
            for (var G = 0; G < H; G++)
                h[q + G] = Y[S + G]
        },
        a1S: function (D) {
            return D.length < 2 ? "0" + D : D
        }
    };
    hZ.pW = new Uint8Array(8);
    hZ.a2a = new Int8Array(hZ.pW.buffer);
    hZ.ae5 = new Int16Array(hZ.pW.buffer);
    hZ.akz = new Int32Array(hZ.pW.buffer);
    hZ.ad$ = new Float64Array(hZ.pW.buffer);
    function ic(Y, S, h) {
        this.Tw = Y;
        this.Qp = S;
        this.a0w = h;
        this.LX = new aV(0, 0);
        this.qE = -1;
        this.bi = 0;
        this.aU = 0;
        this.$S = new W;
        this.Qz = [];
        this.yH = null;
        this.alm = null;
        this.ew = null;
        this.ky = null;
        this.SD = null;
        this.anB = null
    }
    ic.prototype.StartPage = function (Y, S, h, q, H) {
        var I = this.Qp
            , E = I.Fu()
            , d = 1
            , B = (h - Y) * (q - S);
        if (H != null)
            B = H;
        while (B * E * E / (d * d) > 2 * 8192 * 8192)
            d++;
        I.scale(1 / d, 1 / d);
        this.alm = [Y, S, h, q];
        var d = I.Fu();
        Y = Math.round(Y * d);
        S = Math.round(S * d);
        h = Math.round(h * d);
        q = Math.round(q * d);
        var n = this.Tw
            , g = this.ew;
        if (g == null) {
            I.TR = -Y
        } else {
            var z = g[2] - g[0] + 30
                , p = Math.round(h - Y) + 30;
            if (this.LX.x + z + p > 8192) {
                I.TR = -Y;
                this.LX.x = 0;
                this.LX.y += this.aU + 120;
                this.aU = 0
            } else {
                I.TR += z;
                this.LX.x += z
            }
        }
        I.Un = this.LX.y + (this.a0w ? q : -S);
        this.aU = Math.max(this.aU, Math.round(q - S));
        this.ew = [Y, S, h, q];
        n.t.push(n.Ue())
    }
        ;
    ic.prototype.zo = function () {
        var Y = this.Tw
            , S = Y.t[Y.t.length - 1];
        return S
    }
        ;
    ic.prototype.P4 = function () {
        var Y = JSON.parse(JSON.stringify(ai.Ig.default));
        Y.strokeStyleLineAlignment.v.strokeStyleLineAlignment = "strokeStyleAlignCenter";
        Y.strokeEnabled.v = !1;
        Y.fillEnabled.v = !1;
        return Y
    }
        ;
    ic.prototype.FD = function () {
        var Y = this.Tw
            , S = Y.rY();
        S.wN("Path " + Y.t.length);
        this.Tw.t.push(S);
        S.xa |= 16;
        S.add.SoCo = {
            classID: "null",
            Clr: {
                t: "Objc",
                v: t.W.Da({
                    h: 0,
                    l: 0,
                    O: 0
                })
            }
        };
        debugger
        S.add.vmsk = new M.cJ;
        S.add.vstk = this.P4();
        return S
    }
        ;
    ic.prototype.U3 = function (Y) {
        var S = {
            H: Y.crds,
            Z: Y.cmds
        }
            , h = t.a.QG(S, !1);
        t.Y.$M(h, this.Qp);
        return h
    }
        ;
    ic.aaO = function (Y, S) {
        for (var G = 0; G < Y.length; G++)
            if (Y[G].Mg != null)
                Y[G].Mg = S
    }
        ;
    ic.a65 = function (Y) {
        return Math.sqrt(Math.abs(Y[0] * Y[3] - Y[1] * Y[2]))
    }
        ;
    ic.ue = function (Y) {
        return t.W.Da({
            h: Y[0] * 255,
            l: Y[1] * 255,
            O: Y[2] * 255
        })
    }
        ;
    ic.Ex = function (Y) {
        return new d5(Y[0], Y[1], Y[2], Y[3], Y[4], Y[5])
    }
        ;
    ic.prototype.Stroke = function (Y) {
        if (this.qE != -1 && this.qE != this.bi)
            return;
        if (Y.pth.cmds.length <= 1)
            return;
        var S = this.U3(Y.pth);
        if (S.length <= 2)
            return;
        this.Df(Y);
        ic.aaO(S, -1);
        S[2].Mg = 1;
        var h = ic.ue(Y.COLR)
            , q = this.zo()
            , H = this.P4();
        ic.alW(H, Y, this.Qp.Fu(), h);
        var I = q != null && q.add.vmsk != null && !q.i4()
            , E = I && !q.add.vstk.strokeEnabled.v && M.cJ.aep(q.add.vmsk.b, S, !0)
            , d = I && !q.add.vstk.fillEnabled.v && JSON.stringify(H) == JSON.stringify(q.add.vstk);
        if (d) {
            q.add.vmsk.b = q.add.vmsk.b.concat(S.slice(2))
        } else if (E) {
            q.add.vstk = H;
            H.fillEnabled.v = !0
        } else {
            q = this.FD();
            q.add.vmsk.b = S;
            q.add.vstk = H
        }
    }
        ;
    ic.alW = function (Y, S, h, q) {
        Y.strokeEnabled.v = !0;
        Y.strokeStyleMiterLimit.v = S.mlimit;
        Y.strokeStyleLineDashSet.v = av.wL(S.dash, 1 / S.lwidth);
        Y.strokeStyleLineDashOffset.v.val = S.doff;
        Y.strokeStyleLineJoinType.v.strokeStyleLineJoinType = ai.Ig.join[S.ljoin];
        Y.strokeStyleLineCapType.v.strokeStyleLineCapType = ai.Ig.Og[S.lcap];
        Y.strokeStyleLineWidth.v.val = Math.max(.4, S.lwidth * ic.a65(S.ctm) * h);
        Y.strokeStyleContent.v.Clr.v = q
    }
        ;
    ic.prototype.Fill = function (Y, S) {
        if (this.qE != -1 && this.qE != this.bi)
            return;
        if (Y.ca == 0)
            return;
        var h = Y.pth.cmds;
        if (h.length == 0)
            return;
        if (h.length == 2 && JSON.stringify(h) == "[\"M\",\"L\"]")
            return;
        var q = t.a.Zu(Y.cpth.crds)
            , H = t.a.Zu(Y.pth.crds);
        if (H.lF(q).fa())
            return;
        var I = Y.pth;
        if (this.ky == null && UDOC.G.isBox(I, [H.x, H.y, H.x + H.d, H.y + H.v]) && H.HS(q)) {
            I = Y.cpth
        } else
            this.Df(Y);
        var E = this.U3(I)
            , d = t.a.yP(H);
        t.a.J(d.H, this.Qp, d.H);
        H = t.a.Zu(d.H);
        var B = ic.XX(Y.colr, this.Qp, H)
            , n = this.zo()
            , g = n != null && n.opacity == Math.round(255 * Y.ca) && n.add.vstk != null && !n.add.vstk.strokeEnabled.v && n.add.SoCo && B.type == "SoFi" && JSON.stringify(n.add.SoCo.Clr.v) == JSON.stringify(B.G.v.Clr.v);
        if (g) {
            var z = !1;
            for (var G = 0; G < E.length; G++) {
                if (E[G].Mg == 0 || E[G].Mg == 2)
                    z = !0
            }
            if (z) {
                var p = t.a.Zu(t.Y.AD(n.add.vmsk.b))
                    , C = t.a.Zu(t.Y.AD(E));
                g = p.lF(C).fa()
            }
        }
        if (g) {
            var T = n.add.vmsk.b;
            for (var G = 2; G < E.length; G++)
                T.push(E[G])
        } else {
            n = this.FD();
            delete n.add.SoCo;
            n.add.vmsk.b = M.cJ.s7(E);
            ic.X1(Y.colr, n, this.Qp, H);
            ic.hw(Y, n)
        }
    }
        ;
    ic.X1 = function (Y, S, h, q) {
        var H = ic.XX(Y, h, q)
            , I = null
            , E = null;
        S.add.vstk.fillEnabled.v = !0;
        if (H.type == "SoFi") {
            I = "SoCo";
            E = ai.pJ
        }
        if (H.type == "GrFl") {
            I = "GdFl";
            E = ai.eK
        }
        if (H.type == "patternFill") {
            I = "PtFl";
            E = ai.PV
        }
        if (I != null) {
            S.add[I] = {
                classID: "null"
            };
            for (var G = 0; G < E.length; G++) {
                var d = E[G];
                S.add[I][d] = H.G.v[d]
            }
        }
    }
        ;
    ic.prototype.Df = function (Y) {
        var S = this.Tw
            , h = Y.cpth
            , q = h.cmds.join("")
            , H = h.crds
            , I = q + " " + H.join(",")
            , E = UDOC.G.isBox(h, this.alm);
        if (E && this.ky == null)
            return;
        if (I == this.ky)
            return;
        this.xV();
        if (!E) {
            this.ky = I;
            S.t.push(S.Ue());
            var d = S.rY();
            d.wN("Mask");
            d.add.lsct = hg.N4;
            d.XC = "pass";
            d.xa = 24;
            debugger
            var B = d.add.vmsk = new M.cJ;
            B.b = this.U3(Y.cpth);
            if (UDOC.G.isBox(h)) {
                this.SD = t.Y.c9(B.b);
                this.SD.vo(3, 3)
            } else
                this.SD = null;
            this.anB = d
        }
    }
        ;
    ic.prototype.xV = function () {
        var Y = this.Tw;
        if (this.ky != null) {
            var S = Y.t.length - 1
                , G = S
                , h = !1;
            while (G >= 0 && Y.t[G].add.lsct != hg._q)
                G--;
            var q = this.SD;
            if (q) {
                var H = new W
                    , I = S;
                while (I > G) {
                    H = Y.t[I].ZA(this.Tw, !1, !0);
                    I--
                }
                h = q.HS(H)
            }
            if (h) {
                this.Qz.splice(G, 1);
                Y.t.splice(G, 1)
            } else {
                Y.t.push(this.anB)
            }
            this.ky = null
        }
    }
        ;
    ic.XX = function (Y, S, h) {
        var q, H;
        if (Y.length != null) {
            q = "SoFi";
            var I = JSON.parse(ai.l_[ai.order.indexOf("SoFi")]);
            H = {
                t: "Objc",
                v: I
            };
            H.v.Clr.v = ic.ue(Y)
        } else {
            var E = ic.a34(Y, S, h);
            q = "GrFl";
            H = {
                t: "Objc",
                v: E
            }
        }
        return {
            type: q,
            G: H
        }
    }
        ;
    ic.a34 = function (Y, S, h) {
        var q = JSON.parse(ai.l_[ai.order.indexOf("GrFl")])
            , H = q.Grad.v;
        H.Intr.v = 0;
        var I = ic.Ex(Y.mat);
        I.concat(S);
        var E = new aV(0, 0)
            , d = new aV(h.d, 0)
            , B = Y.crds;
        if (Y.typ == "rad") {
            q.Type.v.GrdT = "Rdl";
            var n = .7;
            E.x = (1 - n) * B[0] + n * B[3];
            E.y = (1 - n) * B[1] + n * B[4];
            d.x = E.x;
            d.y = E.y;
            d.x += Math.max(B[2], B[5])
        } else {
            q.Type.v.GrdT = "Lnr";
            E.x = B[0];
            E.y = B[1];
            d.x = B[2];
            d.y = B[3];
            E.x = d.x + .5 * (E.x - d.x);
            E.y = d.y + .5 * (E.y - d.y)
        }
        E = I.I_(E);
        d = I.I_(d);
        t.W.Nd(E, d, h, q);
        var g = Y.grad;
        t.W.uX(g, H);
        return q
    }
        ;
    ic.prototype.PutText = function (Y, S, h, q) {
        var H = S.charCodeAt(0)
            , p = null;
        if (this.qE != -1 && this.qE != this.bi)
            return;
        if (S.length == 0 || S.length == 1 && (H == 0 || H == 8203))
            return;
        this.Df(Y);
        var I = this.Tw
            , E = Y.font
            , d = ic.Ex(Y.ctm);
        d.concat(this.Qp);
        var B = ic.Ex(E.Tm);
        B.concat(d);
        var n = U.o.Fu(B)
            , g = new d5(1 / n, 0, 0, -1 / n, 0, 0);
        g.concat(B);
        var z = E.Tfs * n;
        if (E.Th != 100 || E.Trise != 0) {
            console.log(E)
        }
        var C = I.t.length - 1;
        while (C >= 0 && I.t[C].add.TySh == null)
            C--;
        if (g.O * g.O + g.Pb * g.Pb < .001 && q == null && C >= 0 && I.t[C].add.TySh && I.t[C].opacity == Math.round(255 * Y.ca)) {
            var T = I.t[C]
                , A = this.Qz[C]
                , i = T.add.TySh.J
                , e = (i.TR + A.fX - g.TR) / z
                , a = Math.abs(e)
                , Z = S.indexOf(" ") == -1
                , O = i.R == g.R && i.O == g.O && i.Pb == g.Pb && i.RH == g.RH
                , c = O && Math.abs(A.p7 - g.Un) < 1e-5 && a < .6
                , s = g.Un - A.p7;
            if (c) {
                p = T;
                A.fX = g.TR - i.TR;
                if (e > .2 && Z && [".", ",", "?", ":", "!"].indexOf(S) == -1)
                    S = " " + S
            } else if (O && Math.abs(g.TR - i.TR) < 1e-5 && 0 < s && s < z * 1.7 && A.a7u == z) {
                p = T;
                this.pO(A);
                A.p7 = g.Un;
                S = "\n" + S
            }
        }
        if (p == null) {
            C = I.t.length;
            this.Qz[C] = {
                Uz: [],
                fX: 0,
                p7: g.Un,
                sF: "",
                a7u: z
            };
            p = I.rY();
            I.t.push(p);
            p.add.lnsr = "rend";
            debugger
            p.add.TySh = ap.Hr(0, 0);
            p.add.TySh.J = g
        }
        var A = this.Qz[C];
        A.fX += h * z;
        A.sF += S;
        var x = p.add.TySh.lV
            , u = ap.lo(x);
        if (q) {
            ap.sI(x, 1);
            var y = [0, 0, Math.ceil(q[0] * n), Math.ceil(q[1] * n)];
            ap.h6(x, y)
        }
        var j = u.length - 1
            , v = j + S.length;
        ap.LB(x, j, S);
        if (this.yH == null)
            this.yH = ap.Rm(x, j, j);
        var X = this.yH;
        X.cD.FontSize = Math.round(z);
        X.cD.Tracking = Math.round(E.Tc * 100);
        X.cD.Underline = E.Tun == 1;
        X.cD.FillColor = {
            Type: 1,
            Values: [1, Y.colr[0], Y.colr[1], Y.colr[2]]
        };
        if (E.Tal != null)
            X.vY.Justification = E.Tal;
        if (A.Uz.length != 0) {
            X.cD.AutoLeading = !1;
            X.cD.Leading = A.p7 - A.Uz[A.Uz.length - 1].y
        }
        var N = E.Tf;
        N = N.replace(/#2B/g, "+");
        N = N.replace(/#2C/g, "-");
        N = N.split("+").pop();
        var V = {
            "NimbusRomNo9L-Medi": "NimbusRomNo9L-Med",
            "NimbusRomNo9L-Regu": "NimbusRomNo9L-Reg",
            "NimbusRomNo9L-MediItal": "NimbusRomNo9L-MedIta",
            "NimbusRomNo9L-ReguItal": "NimbusRomNo9L-RegIta",
            CMTT9: "NimbusMono-Regular",
            Arial: "ArialMT",
            "BebasNeue-Regular": "BebasNeueRegular"
        };
        if (V[N])
            N = V[N];
        ap.UB(X, N);
        ap.aN(x, j, v - 1, X);
        p.cC();
        p.opacity = Math.round(255 * Y.ca)
    }
        ;
    ic.prototype.pO = function (Y) {
        Y.Uz.push({
            rz: Y.fX,
            qa: Y.sF.slice(Y.Uz.length == 0 ? 0 : 1) + "\n",
            y: Y.p7,
            D1: Y.a7u
        });
        Y.fX = 0;
        Y.sF = ""
    }
        ;
    ic.prototype.PutImage = function (Y, S, h, q, H, I, E) {
        if (this.qE != -1 && this.qE != this.bi)
            return;
        var d = this.Tw
            , B = Y.font.Tmode;
        if (B == 7 && d.t[d.t.length - 1].add.TySh) {
            return
        }
        this.Df(Y);
        var n = ic.Ex(Y.ctm);
        n.concat(this.Qp);
        var g = new d5(1 / h, 0, 0, -1 / q, 0, 1);
        g.concat(n);
        n = g;
        S = ic.xc(S, h, q);
        if (H)
            H = ic.xc(H, h, q);
        if (H == null) {
            if (S.length == h * q * 4)
                S = new Uint8Array(eD.Oh("PNG").rr([[S.buffer, 0]], h, q))
        } else {
            S = this.Ui(S, h, q, I, !1);
            H = this.Ui(H, h, q, E, !0);
            var z = t.m(h * q);
            t.Ft(H, z, 0);
            t.Vj(z, S, 3);
            S = new Uint8Array(eD.Oh("PNG").rr([[S.buffer, 0]], h, q))
        }
        var p = d.IC(S, "Bitmap", 0, 0)
            , C = p.rect.clone();
        C.x = C.y = 0;
        var T = t.a.yP(C).H;
        t.a.J(T, n, T);
        p.add.SoLd.Trnf = U.o.FQ(T);
        p.add.SoLd.nonAffineTransform = U.o.FQ(T);
        p.rH(d, !1);
        ic.hw(Y, p);
        d.t.push(p)
    }
        ;
    ic.hw = function (Y, S) {
        S.opacity = Math.round(255 * Y.ca);
        var h = ic.uF[Y.bmode];
        if (h == null)
            console.log("Unknown blend mode", h);
        else
            S.XC = h
    }
        ;
    ic.uF = {
        "/Normal": "norm",
        "/Multiply": "mul ",
        "/Screen": "scrn",
        "/Overlay": "over",
        "/Darken": "dark",
        "/Lighten": "lite",
        "/ColorDodge": "div ",
        "/ColorBurn": "idiv",
        "/HardLight": "hLit",
        "/SoftLight": "sLit",
        "/Difference": "diff",
        "/Exclusion": "smud",
        "/Hue": "hue ",
        "/Saturation": "sat ",
        "/Color": "colr",
        "/Luminosity": "lum "
    };
    ic.O8 = function (Y) {
        for (var S in ic.uF)
            if (ic.uF[S] == Y)
                return S
    }
        ;
    ic.xc = function (Y, S, h) {
        var q = eD.hj(Y.buffer);
        if (q == "jpg") {
            try {
                Y = new Uint8Array(eD.Oh("JPG").abn(Y.buffer))
            } catch (gx) {
                Y = new Uint8Array(S * h * 4)
            }
        } else if (Y.length != S * h * 4) {
            var H = new Uint8Array(S * h * 4)
                , I = new Uint8Array(Math.ceil(S * h / 8));
            UTIF.decode._decodeG4(Y, 0, Y.length, I, 0, S, 1);
            for (var G = 0; G < S * h; G++) {
                var E = G * 4
                    , d = (I[G >> 3] >> 7 - (G & 7) & 1) * 255;
                H[E] = d;
                H[E + 1] = d;
                H[E + 2] = d;
                H[E + 3] = 255
            }
            Y = H
        }
        return Y
    }
        ;
    ic.prototype.Ui = function (Y, S, h, q, H) {
        if (Y.length != S * h * 4) {
            var I = eD.hj(Y.buffer)
                , E = eD.Oh(I);
            if (E == null || I == "tga")
                E = eD.Oh("jpg");
            Y = new Uint8Array(E.C3(Y, q, H)[0].data)
        }
        return Y
    }
        ;
    ic.prototype.ShowPage = function () {
        var Y = this.Tw;
        this.bi++;
        var S = this.ew;
        this.xV();
        var h = Y.rY();
        Y.t.push(h);
        var q = new W(Math.round(this.LX.x), Math.round(this.LX.y), Math.round(S[2] - S[0]), Math.round(S[3] - S[1]));
        this.$S = this.$S.TG(q);
        h.SV(q);
        h.add.artb.artboardBackgroundType.v = 3;
        h.wN("Page " + this.bi);
        h.add.lsct = hg.N4;
        h.XC = "pass";
        h.xa = 24
    }
        ;
    ic.prototype.Print = function (Y) {
        console.log("Print:", Y)
    }
        ;
    ic.prototype.Done = function () {
        var Y = this.Tw;
        if (this.bi == 1)
            Y.t[Y.t.length - 1].add.lsct = hg.fC;
        Y.Eo(this.bi);
        for (var G = 0; G < Y.t.length; G++) {
            var S = Y.t[G]
                , h = S.add.vmsk
                , q = S.add.TySh
                , H = this.Qz[G];
            S.Ir();
            if (h) {
                var I = !1;
                for (var E = 0; E < h.b.length; E++) {
                    var d = h.b[E];
                    if ((d.type == 0 || d.type == 3) && d.length > 32767)
                        I = !0
                }
                if (I) {
                    Y.t.splice(G, 1);
                    G--;
                    continue
                }
            }
            S._A(Y);
            if (q && H.Uz.length != 0) {
                this.pO(H);
                var B = q.lV
                    , n = H.Uz.length
                    , g = H.Uz[0]
                    , z = 0
                    , p = 0;
                for (var E = 0; E < n; E++)
                    z = Math.max(z, H.Uz[E].rz);
                ap.sI(B, 1);
                q.J.Un -= g.D1 * .7;
                ap.h6(B, [0, 0, Math.ceil(z * 1.1), Math.ceil(H.Uz[n - 1].y - g.y + g.D1 * 2)])
            }
            if (q) {
                var B = q.lV;
                ap.abZ(B);
                var C = ap.lo(B).split("\n");
                for (var E = 0; E < C.length - 1; E++) {
                    var T = C[E]
                        , A = 0;
                    for (var i = 0; i < T.length; i++) {
                        var e = T.charCodeAt(i);
                        if (1473 <= e && e <= 1524)
                            A++
                    }
                    if (A > T.length / 2) {
                        C[E] = T.split("").reverse().join("");
                        var a = B.EngineDict.ParagraphRun.RunArray[E].ParagraphSheet.Properties;
                        a._Direction = 1;
                        a.Justification = ap.Xl(a)
                    }
                }
                ap.ql(B, C.join("\n"))
            }
        }
        Y.Wm = !0;
        Y.d = this.$S.d;
        Y.v = this.$S.v;
        Y.buffer = t.m(this.$S.e() * 4)
    }
        ;
    var bp = {};
    bp.nq = function (Y, S, h, q) {
        var H = !1
            , I = [Y.root]
            , E = Y.root.children;
        if (Y.add.artd) {
            H = !0;
            for (var G = 0; G < E.length; G++)
                if (E[G].$.add.artb == null)
                    H = !1;
            if (H)
                I = E
        }
        var d = new W(0, 0, Y.d, Y.v)
            , B = S[0];
        B = B.replace(/,/g, " ").replace(/\-/g, " - ").replace(/  +/g, " ").trim();
        B = B.split(" ");
        var n = [];
        for (var G = 0; G < B.length; G++) {
            var g = B[G];
            if (g == "-") {
                var z = n.pop()
                    , p = parseInt(B[G + 1]);
                while (z < p) {
                    n.push(z);
                    z++
                }
            } else
                n.push(parseInt(g))
        }
        B = n;
        for (var G = 0; G < B.length; G++)
            if (isNaN(B[G]) || B[G] < 1 || B[G] > I.length) {
                B.splice(G, 1);
                G--
            }
        var C = 72 / Y.PW;
        for (var G = 0; G < I.length; G++) {
            if (B.length != 0 && B.indexOf(G + 1) == -1)
                continue;
            var T = I[G]
                , A = H ? T.$.aG() : d
                , i = Math.round(A.d * C)
                , e = Math.round(A.v * C);
            h.StartPage(0, 0, i, e);
            var a = UDOC.getState([[0, 0, i, e]])
                , Z = new d5;
            Z.translate(-A.x, -A.y - A.v);
            Z.scale(C, -C);
            if (S[2]) {
                var O = Y.Q3();
                if (!d.ma(A)) {
                    O = t.m(A.e() * 4);
                    t.rd(Y.Q3(), d, O, A)
                }
                if (S[1] != 100) {
                    var c = eD.Oh("JPG").rr([[O.buffer]], A.d, A.v, [S[1]]);
                    O = new Uint8Array(c)
                }
                var s = new d5;
                s.translate(A.x, A.y);
                bp.A3(a, h, O, A, s, Z)
            } else
                bp.en(Y, T, a, h, Z, S, q);
            h.ShowPage()
        }
        h.Done()
    }
        ;
    bp.pr = function (Y) {
        Y = t.W.cd(Y);
        return [Y.h / 255, Y.l / 255, Y.O / 255]
    }
        ;
    bp.en = function (Y, S, h, q, H, I, E) {
        var d = S.$, B = d.add.lsct, n = d.add.lmfx, g = d.add.vmsk, z = d.add.vstk, p = d.add.TySh, i, e;
        if (!d.yj())
            return;
        var C = d.opacity / 255
            , T = d.add.iOpa ? d.add.iOpa / 255 : 1;
        h.bmode = ic.O8(d.XC);
        h.ca = h.CA = C * T;
        var A = n;
        if (A)
            A = A.solidFillMulti.v[0];
        if (A)
            A = A.v;
        if (A && !A.enab.v)
            A = null;
        if (d.Xz() && !d.i4()) {
            i = t.m(d.rect.e());
            t.Ft(d.buffer, i, 3);
            e = av.wb(n, null, i, d.rect, Y, d.rect).type
        }
        if (e)
            bp.vE(d, i, e, h, q, H, I, !0);
        if (d.i4()) {
            for (var G = 0; G < S.children.length; G++)
                bp.en(Y, S.children[G], h, q, H, I, E)
        } else if (g) {
            var a = g.b
                , Z = t.Y.c9(a)
                , O = t.a.df(a)
                , c = !1
                , s = !1
                , x = !1;
            t.a.J(O.H, H, O.H);
            h.pth = {
                cmds: O.Z,
                crds: O.H
            };
            if (z.fillEnabled.v) {
                var u = av.qk(n, d.add)
                    , y = u[0]
                    , j = u[1];
                if (y) {
                    h.colr = bp.pr(y.Clr.v)
                } else if (j) {
                    var v = j, X = [], N, V = v.Type.v.GrdT == "Rdl" ? "rad" : "lin", $ = t.W.RR(v, Z), w = H.I_($[0]), m = H.I_($[1]);
                    if (V == "rad")
                        N = [w.x, w.y, 0, w.x, w.y, aV.kr(w, m)];
                    else {
                        w.bm(m.x + (w.x - m.x) * 2, m.y + (w.y - m.y) * 2);
                        N = [w.x, w.y, m.x, m.y]
                    }
                    var l = v.Grad.v.Clrs.v;
                    for (var G = 0; G < l.length; G++) {
                        var b = l[G].v;
                        X.push([b.Lctn.v / 4096, bp.pr(b.Clr.v)])
                    }
                    h.colr = {
                        typ: V,
                        mat: [1, 0, 0, 1, 0, 0],
                        grad: X,
                        crds: N
                    }
                }
                c = !0
            }
            var K = av.qW(n);
            if (!z.strokeEnabled.v && K)
                z = K;
            if (z.strokeEnabled.v) {
                var J = z.strokeStyleContent.v
                    , R = z.strokeStyleLineDashSet.v
                    , r = ai.Ig.ZK.indexOf(z.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
                if (J.Clr == null)
                    return;
                var f = t.W.cd(J.Clr.v);
                h.COLR = [f.h / 255, f.l / 255, f.O / 255];
                h.lwidth = z.strokeStyleLineWidth.v.val * (r == 2 ? 2 : 1) * H.Fu();
                h.mlimit = z.strokeStyleMiterLimit.v;
                h.doff = z.strokeStyleLineDashOffset.v.val;
                h.ljoin = ai.Ig.join.indexOf(z.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
                h.lcap = ai.Ig.Og.indexOf(z.strokeStyleLineCapType.v.strokeStyleLineCapType);
                h.dash = [];
                for (var G = 0; G < R.length; G++)
                    h.dash.push(R[G].v.val * h.lwidth);
                if (h.dash.length == 1 && h.dash[0] == 0)
                    h.dash = [];
                s = !0;
                if (r == 2)
                    x = !0
            }
            if (c && !x)
                q.Fill(h);
            if (s)
                q.Stroke(h);
            if (c && x)
                q.Fill(h)
        } else if (p && I[4]) {
            var gf = p.lV
                , aa = new cm(gf, E)
                , O = gd.Ht(aa, p)
                , aA = t.a.eD(O);
            for (var f in aA) {
                var e5 = parseInt(f.slice(1), 16);
                h.colr = A ? bp.pr(A.Clr.v) : [(e5 >>> 16 & 255) / 255, (e5 >>> 8 & 255) / 255, (e5 & 255) / 255];
                var fk = aA[f];
                t.a.J(fk.H, H, fk.H);
                fk = t.a.a5A(fk);
                h.pth = {
                    cmds: fk.Z,
                    crds: fk.H
                };
                q.Fill(h)
            }
        } else if (p && I[3] == !1) {
            var gf = p.lV
                , o = p.J.clone()
                , eY = new d5(1, 0, 0, -1, 0, 0);
            eY.concat(o);
            eY.concat(H);
            var du = ap.lo(gf)
                , aa = new cm(gf, E);
            for (var G = 0; G < aa.vY.length; G++) {
                var dV = aa.vY[G];
                if (dV.O9.length == 1 && dV.O9[0].jC)
                    continue;
                for (var hy = 0; hy < dV.rm.length; hy++) {
                    var bq = dV.rm[hy]
                        , i5 = dV.Pl.y + bq.Pl.y
                        , hX = dV.O9[bq.start].start
                        , bY = dV.O9[bq.end - 1].end
                        , ds = ap.a20(gf, hX, bY);
                    for (var hV = 0; hV < ds.length; hV++) {
                        var gF = aa.NV(hX)
                            , co = ds[hV]
                            , c_ = ap.Rm(gf, hX, hX)
                            , a5 = c_.GZ[c_.cD.Font].Name;
                        h.font.Tf = a5;
                        var f = ap.cd(c_.cD);
                        h.colr = A ? bp.pr(A.Clr.v) : [f.h / 255, f.l / 255, f.O / 255];
                        h.font.Tfs = Math.round(c_.cD.FontSize);
                        var gb = du.slice(hX, hX + co);
                        if (c_.cD.FontCaps == 2)
                            gb = gb.toUpperCase();
                        var iC = new d5;
                        iC.translate(gF._.x, -i5);
                        iC.concat(eY);
                        h.ctm = [iC.R, iC.O, iC.Pb, iC.RH, iC.TR, iC.Un];
                        q.PutText(h, gb, 0);
                        h.ctm = [1, 0, 0, 1, 0, 0];
                        hX += co
                    }
                }
            }
        } else if (!d.rect.fa()) {
            var cC, aB, cd = !1, dZ = new d5;
            if (d.add.SoLd) {
                var en = d.add.SoLd
                    , cD = en.Idnt.v
                    , hP = Y.Ky(cD, en.Crop ? en.Crop.v : null)
                    , bC = "";
                if (hP == null)
                    return;
                var ea = hP.aE
                    , fp = eD.hj(hP.raw.buffer);
                if (I[5].indexOf(fp) != -1) {
                    cC = hP.raw;
                    cd = !0
                } else
                    cC = ea[0];
                aB = ea[1];
                dZ = t.I.to(en)
            } else {
                cC = d.buffer;
                aB = d.rect;
                dZ.translate(aB.x, aB.y)
            }
            if (A && !cd)
                cC = av.Lg(cC, A, aB);
            bp.A3(h, q, cC, aB, dZ, H);
            if (A && cd) {
                var N = [0, 0, aB.d, 0, aB.d, aB.v, 0, aB.v];
                t.a.J(N, dZ, N);
                t.a.J(N, H, N);
                var hG = JSON.parse(JSON.stringify(h));
                hG.ca = A.Opct.v.val / 100;
                hG.pth = {
                    cmds: ["M", "L", "L", "L", "Z"],
                    crds: N
                };
                hG.colr = bp.pr(A.Clr.v);
                q.Fill(hG)
            }
        }
        if (e)
            bp.vE(d, i, e, h, q, H, I, !1)
    }
        ;
    bp.vE = function (Y, S, h, q, H, I, E, d) {
        var B = Y.rect.clone()
            , n = S;
        if (Y.add.TySh && !E[3] && !E[4])
            return;
        console.log(E);
        var g = q.ca
            , z = q.bmode;
        for (var G = ai.order.length - 1; G >= 0; G--) {
            var p = ai.order[G];
            if (p == "GrFl" || p == "SoFi")
                continue;
            if (Y.add.vmsk && p == "FrFX")
                continue;
            var C = h[p]
                , T = G > 7 || p == "FrFX";
            if (T != d)
                continue;
            for (var A = 0; A < C.length; A++) {
                var i = C[A];
                console.log(T, p, i);
                var e = i.sE.clone();
                e.offset(Y.rect.x, Y.rect.y);
                if (!T) {
                    if (!B.HS(e)) {
                        var a = B.TG(e)
                            , Z = t.m(a.e());
                        t.m7(n, B, Z, a);
                        n = Z;
                        B = a
                    }
                    t.jK(n, B, i.nP, e)
                }
                if (T && p == "FrFX" && i.JU)
                    t.jK(i.JU, e, i.nP, e);
                var O = new d5;
                O.translate(e.x, e.y);
                q.ca = i.wn;
                q.bmode = ic.O8(i.D4);
                bp.A3(q, H, i.nP, e, O, I)
            }
        }
        q.ca = g;
        q.bmode = z
    }
        ;
    bp.A3 = function (Y, S, h, q, H, I) {
        var E = new d5;
        E.scale(q.d, -q.v);
        E.translate(0, q.v);
        E.concat(H);
        E.concat(I);
        Y.ctm = [E.R, E.O, E.Pb, E.RH, E.TR, E.Un];
        S.PutImage(Y, h, q.d, q.v);
        Y.ctm = [1, 0, 0, 1, 0, 0]
    }
        ;
    var eP = {};
    eP.z7 = function (Y) {
        var S = new Uint8Array(Y);
        return eP.lQ(S, 0)
    }
        ;
    eP.lQ = function (Y, S) {
        var h = k.n
            , q = k.Fe
            , H = {
                _z: q(Y, S, 4),
                T: S + 8,
                size: h(Y, S + 4)
            }
            , I = H._z == "FORM" || H._z == "LIST" || H._z == "CAT ";
        if (I)
            H.bj = q(Y, S + 8, 4);
        if (H.size < 0 || H.T + H.size > Y.length)
            throw "e";
        if (I) {
            H.sub = [];
            S += 12;
            var E = H.T + H.size;
            while (S < E) {
                var d = eP.lQ(Y, S);
                H.sub.push(d);
                S += 8 + d.size + (d.size & 1)
            }
        }
        return H
    }
        ;
    var dY = {};
    dY.z7 = function (Y, S) {
        var h = new Uint8Array(Y);
        return dY.lQ(h, 0, S)
    }
        ;
    dY.lQ = function (Y, S, h) {
        var q = k.iV
            , H = k.Fe
            , I = {
                _z: H(Y, S, 4),
                T: S + 8,
                size: q(Y, S + 4)
            };
        if (h && h[I.size] != null)
            I.size = h[I.size];
        if (I._z == "RIFF" || I._z == "LIST") {
            I.bj = H(Y, S + 8, 4)
        }
        if (I.size < 0 || I.T + I.size > Y.length)
            throw "e";
        if (I._z == "RIFF" || I._z == "LIST" && (I.bj != "cmpr" && I.bj != "stlt")) {
            I.sub = [];
            S += 12;
            var E = I.T + I.size;
            while (S < E) {
                var d = dY.lQ(Y, S, h);
                I.sub.push(d);
                S += 8 + d.size + (d.size & 1)
            }
        }
        return I
    }
        ;
    var eP = {};
    eP.z7 = function (Y) {
        var S = new Uint8Array(Y);
        return eP.lQ(S, 0)
    }
        ;
    eP.lQ = function (Y, S) {
        var h = k.n
            , q = k.Fe
            , H = {
                _z: q(Y, S, 4),
                T: S + 8,
                size: h(Y, S + 4)
            }
            , I = H._z == "FORM" || H._z == "LIST" || H._z == "CAT ";
        if (I)
            H.bj = q(Y, S + 8, 4);
        if (H.size < 0 || H.T + H.size > Y.length)
            throw "e";
        if (I) {
            H.sub = [];
            S += 12;
            var E = H.T + H.size;
            while (S < E) {
                var d = eP.lQ(Y, S);
                H.sub.push(d);
                S += 8 + d.size + (d.size & 1)
            }
        }
        return H
    }
        ;
    function df() { }
    df.z7 = function (Y, S) {
        var h = new Uint8Array(Y);
        S.Wm = !0;
        var q = k.Fe(h, 0, 2);
        if (q == "WL") {
            alert("Unsupported CDR version")
        } else {
            var H = df.PH
                , I = dY.z7(h.buffer)
                , E = {
                    data: h,
                    T: 0,
                    eW: df.a8q(h[11])
                }
                , p = 300;
            E.J0 = E.eW < 600 ? 16 : 32;
            df.nT(E, I.sub, S, 0);
            var d = H(I, "cmpr").sub
                , B = d[0]
                , n = d.slice(1)
                , g = H(B, "mcfg").G
                , z = g.a4u;
            p /= f7.R7(new W(0, 0, Math.round(z.x * p), Math.round(z.y * p)), 8192 * 8192);
            var C = Math.round(z.x * p)
                , T = Math.round(z.y * p);
            S.d = C;
            S.v = T;
            S.buffer = t.m(S.d * S.v * 4);
            var A = H(B, "filt").sub
                , i = H(B, "otlt").sub;
            B.ea = {};
            for (var G = 0; G < A.length; G++)
                B.ea[A[G].sub[0].G.id] = A[G].sub[0].G;
            B.rg = {};
            for (var G = 0; G < i.length; G++)
                B.rg[i[G].G.id] = i[G].G;
            var e = new d5(p, 0, 0, -p, z.x * p / 2, z.y * p / 2)
                , a = n[1];
            df.M5(a, B, S, e);
            S.Eo(1);
            S.t[S.t.length - 1].SV(new W(0, 0, C, T))
        }
    }
        ;
    df.PH = function (Y, S) {
        var h = null;
        for (var G = 0; G < Y.sub.length; G++) {
            var q = Y.sub[G];
            if (q._z == S || q.bj == S)
                h = q
        }
        return h
    }
        ;
    df.M5 = function (Y, S, h, q) {
        var H = df.PH, I = Y.bj ? Y.bj : Y._z, E = H(Y, "lgob"), d = H(Y, "txsm"), B, n;
        if (E) {
            B = H(E, "trfl");
            n = H(E, "loda")
        }
        var g = B ? B.sub[0].cu.clone() : new d5;
        g.concat(q);
        var z = h.rY();
        if (I == "page" || I == "layr" || I == "grp ") {
            z.wN((I == "page" ? "Page" : "Group") + " " + h.t.length);
            z.add.lsct = hg.fC;
            z.XC = "pass";
            z.xa = 24;
            var p = [];
            if (I == "page")
                p = H(Y, "gobj").sub;
            if (I == "layr")
                p = Y.sub.slice(2);
            if (I == "grp ")
                p = Y.sub.slice(4);
            if (p.length == 0)
                return;
            h.t.push(h.Ue());
            for (var G = p.length - 1; G >= 0; G--)
                df.M5(p[G], S, h, q)
        } else if (I == "obj " && n.G && n.G.path) {
            z.wN("Object " + h.t.length);
            var C = S.ea[n.G.ab_]
                , T = S.rg[n.G.a7g]
                , A = z.getName()
                , i = C && C.type != 0
                , e = i && C.G != null ? C.G : [0, 0, 0];
            z.xa |= 16;
            z.add.vstk = JSON.parse(JSON.stringify(ai.Ig.default));
            var a = z.add.vstk;
            a.strokeEnabled.v = !1;
            debugger
            z.add.vmsk = new M.cJ;
            if (T && T.aiS != 1) {
                a.strokeEnabled.v = !0;
                a.strokeStyleLineAlignment.v.strokeStyleLineAlignment = "strokeStyleAlignCenter";
                a.strokeStyleLineWidth.v.val = T.lineWidth * q.Fu();
                var Z = T.color;
                a.strokeStyleContent.v.Clr.v = t.W.Da({
                    h: Z[0] * 255,
                    l: Z[1] * 255,
                    O: Z[2] * 255
                })
            }
            var O = n.G.path;
            z.add.vmsk.b = t.a.QG(O, !1);
            t.Y.$M(z.add.vmsk.b, g);
            ic.X1(e, z, g, t.Y.c9(z.add.vmsk.b));
            a.fillEnabled.v = i;
            z.Ir();
            z._A(h)
        } else if (I == "obj " && d) {
            var c = n.G.ajg
                , s = n.G.acw
                , y = "";
                debugger
            z.add.TySh = ap.Hr(0, 0);
            var x = g.Fu();
            z.add.TySh.J.translate(g.TR, g.Un);
            var u = z.add.TySh.lV
                , j = d.G.anM;
            for (var G = 0; G < j.length; G++) {
                var v = j[G]
                    , X = y.length;
                y += v.text + "\n";
                ap.LB(u, X, v.text + "\n");
                var N = df.a9G(v.aoy, S)
                    , V = ap.Rm(u, X, y.length);
                if (N.align == 3)
                    V.vY.Justification = 1;
                else
                    V.vY.Justification = 0;
                var $ = N.fill.G;
                V.cD.FillColor = {
                    Type: 1,
                    Values: [1, $[0], $[1], $[2]]
                };
                V.cD.FontSize = Math.round(N.a4l.fontSize * g.Fu());
                ap.aN(u, X, y.length - 1, V)
            }
            if (s) {
                ap.sI(u, 0)
            } else {
                ap.sI(u, 1);
                ap.h6(u, [0, 0, Math.round(c.x * g.R), Math.round(-c.y * g.RH)])
            }
            z.wN(y.slice(0, 10))
        } else {
            z = null
        }
        if (z)
            h.t.push(z)
    }
        ;
    df.a9G = function (Y, S) {
        var h = df.PH(S, "stlt").G
            , q = JSON.parse(JSON.stringify(h.Y_[Y]));
        if (q.mR != 0) {
            var H = h.Y_[q.mR];
            for (var I in H)
                if (q[I] == null || q[I] == 0)
                    q[I] = H[I];
            delete q.mR
        }
        q.align = h.aaA[q.a8n];
        q.fill = S.ea[h.a0k[q.a2P]];
        q.a5P = S.rg[h.adZ[q.ai6]];
        q.a4l = h.alb[q.acm];
        return q
    }
        ;
    df.adY = function (G) {
        var D = G.data[G.T];
        G.T += 1;
        return D
    }
        ;
    df.Fa = function (G) {
        var D = k.Gz(G.data, G.T);
        G.T += 2;
        return D
    }
        ;
    df.LI = function (G) {
        var D = k.iV(G.data, G.T);
        G.T += 4;
        return D
    }
        ;
    df.a36 = function (G) {
        var D = k.iV(G.data, G.T);
        G.T += 8;
        return D
    }
        ;
    df.a6 = function (G) {
        var D = k.YP(G.data, G.T);
        G.T += 2;
        return D
    }
        ;
    df.pK = function (G) {
        var D = k.ka(G.data, G.T);
        G.T += 4;
        return D
    }
        ;
    df._3 = function (G) {
        var D = k.a0p(G.data, G.T);
        G.T += 8;
        return D
    }
        ;
    df.W7 = function (G) {
        if (G.T >= G.data.length)
            throw "e";
        var Y = 0;
        while (G.data[G.T + Y] != 0)
            Y++;
        var S = k.Fe(G.data, G.T, Y);
        G.T += Y + 1;
        return S
    }
        ;
    df.a46 = function (Y) {
        if (Y.eW < 600)
            return Math.PI * df.a6(Y) / 1800;
        return Math.PI * df.pK(Y) / 18e7
    }
        ;
    df.a6j = function (Y) {
        if (Y.eW < 1500)
            return df.Fo(Y);
        else
            return df._3(Y) / 254e3
    }
        ;
    df.Fo = function (Y) {
        if (Y.eW < 600)
            return df.a6(Y) / 1e3;
        else
            return df.pK(Y) / 254e3
    }
        ;
    df.aoe = function (Y) {
        if (Y.eW < 600)
            return CRDParser.Fa(Y);
        else
            return df.LI(Y)
    }
        ;
    df.a35 = function (Y) {
        if (Y.eW < 600)
            return CRDParser.a6(Y);
        else
            return df.pK(Y)
    }
        ;
    df.nT = function (Y, S, h, q) {
        var H = df
            , I = H.adY
            , E = H.Fa
            , d = H.LI
            , B = H.a36
            , n = H.a6
            , g = H.pK
            , z = H._3
            , p = H.Fo
            , C = H.a6j
            , T = H.a46
            , A = H.aoe
            , i = H.a35;
        for (var e = 0; e < S.length; e++) {
            var a = Y.eW
                , Z = S[e];
            Y.T = Z.T + (Z._z == "LIST" ? 4 : 0);
            if (Z._z == "vrsn") {
                var O = E(Y);
                Y.eW = O;
                console.log("Version", O);
                Y.J0 = O < 600 ? 16 : 32
            } else if (Z._z == "DISP") { } else if (Z._z == "LIST" && Z.bj == "cmpr") {
                var c = d(Y)
                    , s = d(Y)
                    , x = d(Y)
                    , u = d(Y)
                    , y = new Uint8Array(Y.data.buffer, Y.T + 8 + 2, c - 6 - 8)
                    , j = pako.inflateRaw(y)
                    , V = 0;
                Y.T += c;
                y = new Uint8Array(Y.data.buffer, Y.T + 8 + 2);
                var v = pako.inflateRaw(y)
                    , X = [];
                for (var N = 0; N < v.length; N += 4)
                    X.push(k.iV(v, N));
                Z.sub = [];
                while (V < j.length) {
                    var $ = dY.lQ(j, V, X);
                    V = $.T + $.size;
                    Z.sub.push($)
                }
                var w = {
                    data: j,
                    T: 0,
                    eW: a,
                    J0: Y.J0
                };
                df.nT(w, Z.sub, h, q + 1)
            } else if (Z._z == "LIST" && Z.bj == "stlt") {
                var m = Y.T
                    , du = 32;
                Z.G = {};
                var l = d(Y);
                if (l == 0)
                    return;
                Z.G.a0k = df.H9(Y, a >= 1300);
                Z.G.adZ = df.H9(Y);
                Z.G.alb = {};
                var b = d(Y);
                for (var G = 0; G < b; G++) {
                    var K = d(Y);
                    Y.T += a < 1e3 ? 12 : 20;
                    var J = E(Y)
                        , R = E(Y);
                    Y.T += 8;
                    var r = p(Y);
                    Y.T += a < 1e3 ? 12 : 20;
                    Z.G.alb[K] = {
                        adC: J,
                        ajt: R,
                        fontSize: r
                    }
                }
                Z.G.aaA = df.H9(Y);
                var f = d(Y);
                Y.T += 52 * f;
                var gf = d(Y);
                Y.T += 152 * gf;
                var aa = d(Y);
                Y.T += 784 * aa;
                var aA = d(Y);
                for (var G = 0; G < aA; G++) {
                    Y.T += 40;
                    if (a > 1300)
                        Y.T += 4;
                    if (a >= 1300) {
                        if (d(Y))
                            Y.T += 68;
                        else
                            Y.T += 12
                    } else {
                        Y.T += 20;
                        if (a >= 1e3)
                            Y.T += 8;
                        if (d(Y))
                            Y.T += 8;
                        Y.T += 8
                    }
                }
                var e5 = d(Y);
                Z.G.amx = {};
                for (var G = 0; G < e5; G++) {
                    var fk = d(Y)
                        , o = {};
                    Y.T += 12;
                    o.right = p(Y);
                    o.ac0 = p(Y);
                    o.left = p(Y);
                    Z.G.amx[fk] = o
                }
                var eY = d(Y);
                if (a >= 1300)
                    du += 4;
                Y.T += du * eY;
                var dV = d(Y);
                Y.T += 28 * dV;
                if (a > 800) {
                    var hy = d(Y);
                    Y.T += 12 * hy
                }
                Z.G.Y_ = {};
                for (var G = 0; G < l; G++) {
                    var bq = d(Y)
                        , i5 = d(Y)
                        , hX = {};
                    hX.mR = d(Y);
                    Y.T += 8;
                    var bY = d(Y);
                    if (a >= 1200)
                        bY *= 2;
                    Y.T += bY;
                    hX.a2P = d(Y);
                    hX.ai6 = d(Y);
                    if (bq > 1) {
                        hX.acm = d(Y);
                        hX.a8n = d(Y);
                        hX.agk = d(Y);
                        hX.abh = d(Y);
                        if (a > 800)
                            hX.agZ = d(Y)
                    }
                    if (bq > 2) {
                        hX.ahm = d(Y);
                        hX.acp = d(Y);
                        hX.a9F = d(Y);
                        hX.ajh = d(Y);
                        hX.a5q = d(Y)
                    }
                    Z.G.Y_[i5] = hX
                }
            } else if (Z._z == "LIST")
                df.nT(Y, Z.sub, h, q + 1);
            else if (Z._z == "txsm") {
                Z.G = {};
                if (a < 600)
                    throw "e";
                if (a < 700)
                    throw "e";
                if (a >= 1600)
                    throw "e";
                if (a >= 1500)
                    Y.T += 37;
                else
                    Y.T += 36;
                if (d(Y)) {
                    if (a < 800)
                        Y.T += 32
                }
                if (a < 800)
                    Y.T += 4;
                Z.G.aaC = d(Y);
                Z.G.anM = [];
                Y.T += 48;
                if (a >= 800) {
                    if (d(Y)) {
                        Y.T += 32;
                        if (a >= 1300)
                            Y.T += 8
                    }
                }
                if (a >= 1500)
                    Y.T += 12;
                var bq = d(Y)
                    , ds = 1
                    , hV = !1;
                if (!bq) {
                    if (a >= 800)
                        Y.T += 4;
                    if (a > 800)
                        Y.T += 2;
                    if (a >= 1400)
                        Y.T += 2;
                    Y.T += 24;
                    if (a < 800)
                        Y.T += 8;
                    ds = d(Y)
                }
                for (var N = 0; N < ds; N++) {
                    var gF = d(Y)
                        , G = 0;
                    if (a >= 1300 && bq)
                        Y.T++;
                    Y.T++;
                    var l = d(Y)
                        , co = [];
                    for (G = 0; G < l; G++) {
                        var c_ = I(Y)
                            , gb = 0;
                        I(Y);
                        var a5 = I(Y);
                        if (a >= 800)
                            gb = I(Y);
                        var hX = {};
                        if (a5 & 1) {
                            hX.adC = E(Y);
                            var iC = E(Y);
                            if (iC)
                                hX.a4O = iC
                        }
                        if (a5 & 2)
                            Y.T += 4;
                        if (a5 & 4)
                            hX.aci = p(Y);
                        if (a5 & 8)
                            Y.T += 4;
                        if (a5 & 16)
                            Y.T += 4;
                        if (a5 & 32)
                            Y.T += 4;
                        if (a5 & 64) {
                            hX.a2P = d(Y);
                            if (a >= 1500)
                                Y.T += 48
                        }
                        if (a5 & 128) {
                            hX.ai6 = d(Y)
                        }
                        if (gb & 8) {
                            if (a >= 1300) {
                                var cC = d(Y);
                                if (Y.T + cC * 2 >= Y.data.length) {
                                    hV = !0;
                                    break
                                }
                                Y.T += cC * 2
                            } else
                                Y.T += 4
                        }
                        if (gb & 32) {
                            var aB = I(Y);
                            if (aB)
                                Y.T += 52
                        }
                        if (c_ == 2)
                            if (a >= 1300)
                                Y.T += 48;
                        co.push(hX)
                    }
                    if (hV) {
                        break
                    }
                    var cd = d(Y);
                    if (Y.T + cd * 4 > Y.data.length)
                        break;
                    var dZ = [];
                    for (G = 0; G < cd; G++) {
                        var en = 0;
                        if (a >= 1200)
                            en = B(Y) & 4294967295;
                        else
                            en = d(Y);
                        dZ[G] = en >> 16 | en & 1
                    }
                    var cD = cd;
                    if (a >= 1200)
                        cD = d(Y);
                    var hP = df.W7(Y);
                    Z.G.anM.push({
                        aoy: gF,
                        text: hP,
                        Y_: co
                    })
                }
            } else if (Z._z == "font") {
                var ea = E(Y)
                    , fp = E(Y);
                Y.T += 14;
                var bC = df.W7(Y);
                Z.G = {
                    id: ea,
                    alX: fp,
                    name: bC
                }
            } else if (["IKEY", "ICMT", "pfrd", "bcfg"].indexOf(Z._z) != -1) { } else if (Z._z == "flgs")
                Z.G = d(Y);
            else if (Z._z == "bbox") {
                var hG = p(Y)
                    , b3 = p(Y)
                    , ct = p(Y)
                    , fQ = p(Y);
                Z.G = new W(hG, b3, ct - hG, fQ - b3)
            } else if (Z._z == "fild") {
                var cj = d(Y), fJ = 0, cc;
                if (a >= 1300) {
                    Y.T += 4;
                    fJ = E(Y);
                    Y.T += 2
                }
                var cM = E(Y);
                if (cM == 0) { } else if (cM == 1) {
                    Y.T += a >= 1300 ? 13 : 2;
                    cc = df.v_(Y)
                } else if (cM == 2) {
                    Y.T += a >= 1300 ? 8 : 2;
                    var cr = I(Y)
                        , bZ = 0;
                    if (a >= 1300) {
                        Y.T += 17;
                        bZ = n(Y)
                    } else if (a >= 600) {
                        Y.T += 19;
                        bZ = g(Y)
                    } else {
                        Y.T += 11;
                        bZ = n(Y)
                    }
                    var eb = T(Y)
                        , gL = .5 + i(Y)
                        , fn = .5 + i(Y) - .5;
                    if (a >= 600)
                        Y.T += 2;
                    var aq = A(Y) & 255
                        , di = I(Y) / 100;
                    Y.T++;
                    var ej = A(Y) & 65535;
                    if (a >= 1300)
                        Y.T += 3;
                    var cn = [];
                    for (var G = 0; G < ej; G++) {
                        var aj = df.v_(Y);
                        if (a >= 1300) {
                            if (fJ == 158 || a >= 1600 && fJ == 150)
                                Y.T += 26;
                            else
                                Y.T += 5
                        }
                        var a6 = A(Y) / 100;
                        if (a >= 1300)
                            Y.T += 3;
                        cn.push([a6, aj])
                    }
                    cc = {
                        typ: cr == 1 ? "lin" : "rad",
                        crds: [gL - Math.cos(eb) / 2, fn - Math.sin(eb) / 2, gL, fn],
                        grad: cn,
                        mat: [1, 0, 0, 1, 0, 0]
                    }
                } else
                    console.log("Unknown fill type", cM);
                Z.G = {
                    id: cj,
                    type: cM,
                    G: cc
                }
            } else if (Z._z == "outl") {
                var hJ = d(Y);
                if (a >= 1300) {
                    var dv = 0
                        , bi = 0;
                    while (dv != 1) {
                        Y.T += bi;
                        dv = d(Y);
                        bi = d(Y)
                    }
                }
                var cT = E(Y)
                    , cO = E(Y)
                    , bD = E(Y);
                if (a < 1300 && a >= 600)
                    Y.T += 2;
                var hS = p(Y)
                    , fi = E(Y) / 100;
                if (a >= 600)
                    Y.T += 2;
                var em = T(Y);
                if (a >= 1300)
                    Y.T += 46;
                else if (a >= 600)
                    Y.T += 52;
                var cc = df.v_(Y, hJ == 270963208 || hJ == 276198e3, hJ);
                Z.G = {
                    id: hJ,
                    aiS: cT,
                    a1b: cO,
                    alU: bD,
                    lineWidth: hS,
                    color: cc
                }
            } else if (Z._z == "mcfg") {
                if (1300 <= a)
                    Y.T += 12;
                else if (900 <= a)
                    Y.T += 4;
                else if (600 <= a && a < 700)
                    Y.T += 28;
                var gA = 0
                    , aK = 0;
                if (a < 400)
                    throw "e";
                else {
                    gA = p(Y);
                    aK = p(Y)
                }
                Z.G = {
                    a4u: new aV(gA, aK)
                }
            } else if (Z._z == "loda") {
                var m = Y.T
                    , bR = A(Y)
                    , aP = A(Y)
                    , al = A(Y)
                    , d6 = A(Y)
                    , hx = A(Y)
                    , hn = []
                    , fX = [];
                Y.T = m + al;
                for (var G = 0; G < aP; G++)
                    hn[G] = A(Y);
                Y.T = m + d6;
                for (var G = aP - 1; G >= 0; G--)
                    fX[G] = A(Y);
                Z.G = {};
                for (var G = 0; G < aP; G++) {
                    Y.T = m + hn[G];
                    var d1 = fX[G];
                    if (d1 == 10)
                        Z.G.a7g = d(Y);
                    else if (d1 == 20)
                        Z.G.ab_ = d(Y);
                    else if (d1 == 200)
                        Z.G.acX = A(Y);
                    else if (d1 == 30) {
                        if (a < 400)
                            hx--;
                        if (hx == 1) {
                            var hG = C(Y)
                                , b3 = C(Y)
                                , h$ = 0
                                , f9 = 0
                                , e6 = 0
                                , cy = 0;
                            if (a < 1500) {
                                cy = C(Y);
                                e6 = a < 900 ? cy : C(Y);
                                f9 = a < 900 ? cy : C(Y);
                                h$ = a < 900 ? cy : C(Y)
                            } else
                                throw "e";
                            Z.G.path = t.a.df(t.Y.jZ.Rect(0, 0, hG, b3, h$))
                        } else if (hx == 2) {
                            var cN = p(Y)
                                , gZ = p(Y)
                                , el = T(Y)
                                , cx = T(Y)
                                , gu = Math.abs(cN)
                                , i7 = Math.abs(gZ);
                            Z.G.path = t.a.df(t.Y.jZ.Xu(0, 0, gu, -i7))
                        } else if (hx == 3) {
                            Z.G.path = df.a24(Y)
                        } else if (hx == 4) {
                            Z.G.acw = df.aeT(Y)
                        } else if (hx == 6) {
                            Z.G.ajg = df.amX(Y)
                        } else if (hx == 37) {
                            Z.G.path = df.yA(Y)
                        } else
                            console.log(hx)
                    }
                }
            } else if (Z._z == "trfd") {
                var m = Y.T
                    , bR = A(Y)
                    , aP = A(Y)
                    , al = A(Y);
                Y.T = m + al;
                var hn = [];
                for (var G = 0; G < aP; G++)
                    hn[G] = A(Y);
                for (var G = 0; G < aP; G++) {
                    Y.T = m + hn[G];
                    if (a >= 1300)
                        Y.T += 8;
                    var gK = E(Y);
                    if (gK == 8) {
                        var dp, fg, hG, dS, ii, b3;
                        if (a >= 600)
                            Y.T += 6;
                        if (a >= 500) {
                            dp = z(Y);
                            fg = z(Y);
                            hG = z(Y) / (a < 600 ? 1e3 : 254e3);
                            dS = z(Y);
                            ii = z(Y);
                            b3 = z(Y) / (a < 600 ? 1e3 : 254e3)
                        } else
                            throw "e";
                        Z.cu = new d5(dp, dS, fg, ii, hG, b3)
                    } else
                        console.log(gK)
                }
            } else if (!1) {
                console.log(Z);
                var hK = Math.min(Z.size, 32);
                console.log(k.f3(data, Z.T, hK));
                console.log(k.ac1(data, Z.T, hK))
            }
        }
    }
        ;
    df.H9 = function (Y, S) {
        var h = df.LI
            , q = {}
            , H = h(Y);
        for (var G = 0; G < H; G++) {
            var I = h(Y);
            Y.T += 4;
            var E = h(Y);
            q[I] = E;
            if (S)
                Y.T += 48
        }
        return q
    }
        ;
    df.aeT = function (Y) {
        var S = df
            , h = S.Fo
            , q = h(Y)
            , H = h(Y);
        return new aV(q, H)
    }
        ;
    df.amX = function (Y) {
        var S = df
            , h = S.Fo;
        Y.T += 4;
        var q = h(Y)
            , H = h(Y);
        return new aV(q, H)
    }
        ;
    df.yA = function (Y) {
        var S = df
            , h = S.LI
            , q = S.Fa
            , H = S.Fo;
        Y.T += 4;
        var I = q(Y) + q(Y);
        Y.T += 16;
        var E = df.vS(Y, I);
        return E
    }
        ;
    df.a24 = function (Y) {
        var S = df.Fa(Y);
        Y.T += 2;
        return df.vS(Y, S)
    }
        ;
    df.vS = function (Y, S) {
        var h = df
            , q = h.Fo
            , H = Y.eW < 600 ? 2 : 4
            , I = Y.T
            , E = {
                H: [],
                Z: []
            }
            , d = 0
            , B = 0
            , n = 0;
        for (var G = 0; G < S; G++) {
            var d = q(Y)
                , B = q(Y)
                , g = Y.data[I + S * H * 2 + G];
            if (!(g & 64) && !(g & 128)) {
                E.H.push(d, B);
                E.Z.push("M");
                n += 2
            } else if (g & 64 && !(g & 128)) {
                E.H.push(d, B);
                E.Z.push("L");
                n += 2
            } else if (!(g & 64) && g & 128) {
                E.H.push(d, B);
                E.Z.push("C");
                n += 6
            } else if (g & 64 && g & 128) {
                E.H.push(d, B)
            }
        }
        if (n != E.H.length)
            throw "e";
        return E
    }
        ;
    df.a2u = function (Y, S) {
        var h = k.iV;
        S += 8;
        var q = h(Y, S);
        S += 4;
        var H = h(Y, S);
        S += 4;
        S += 4 * 7;
        var I = S
            , E = t.m(q * H * 4);
        S += 1024;
        for (var d = 0; d < H; d++)
            for (var B = 0; B < q; B++) {
                var G = d * q + B
                    , n = (H - d - 1) * q + B
                    , g = Y[S + G] << 2
                    , z = n << 2;
                E[z + 0] = Y[I + g + 2];
                E[z + 1] = Y[I + g + 1];
                E[z + 2] = Y[I + g + 0];
                E[z + 3] = 255
            }
        return {
            nP: E,
            rect: new W(0, 0, q, H)
        }
    }
        ;
    df.a8q = function (Y) {
        if (Y == 32)
            return 300;
        else if (Y < 49)
            return 0;
        else if (Y < 58)
            return 100 * (Y - 48);
        else if (Y < 65)
            return 0;
        return 100 * (Y - 55)
    }
        ;
    df.v_ = function (Y, S, h) {
        var q = df.Fa
            , H = df.LI
            , I = Y.eW
            , E = 0
            , d = 0;
        if (I >= 500) {
            E = q(Y);
            if (E == 1 && I >= 1300)
                E = 25;
            if (E == 25 || E == 30) {
                var B = 0;
                if (E == 30) {
                    E = 25;
                    B = 30
                } else {
                    B = q(Y);
                    Y.T += 4
                }
                var n = q(Y)
                    , g = q(Y)
            } else if (E == 14)
                throw "e";
            else {
                Y.T += 6;
                d = H(Y)
            }
        } else
            throw "e";
        var z = [];
        if (E == 2 || E == 9 || E == 17) {
            var p = [d >>> 0 & 255, d >>> 8 & 255, d >>> 16 & 255, d >>> 24 & 255];
            if (E == 2)
                for (var G = 0; G < 4; G++)
                    p[G] = Math.round(255 * p[G] / 100);
            for (var G = 0; G < 4; G++)
                p[G] /= 255;
            z = UDOC.C.cmykToRgb(p)
        } else if (E == 1 || E == 5) {
            z = [d >>> 0 & 255, d >>> 8 & 255, d >>> 16 & 255];
            for (var G = 0; G < 3; G++)
                z[G] = z[G] / 255
        } else
            console.log("Unknown color model " + E, d, d.toString(16));
        return z
    }
        ;
    var h7 = function () {
        var Y, S, h = new ArrayBuffer(4), q = new Uint8Array(h), H = new Uint32Array(h), I = new Float32Array(h);
        function E(p, C) {
            for (var T = 0; T < p.length; T++)
                if (p[T][0] == C)
                    return p[T]
        }
        function d() {
            var p = 0
                , C = 0
                , T = 0;
            do {
                T = Y[S++];
                p |= (T & 127) << C;
                C += 7
            } while (T & 128 && C < 35); return p >>> 0
        }
        function B(p, C, T, A, i) {
            Y = p;
            S = C;
            var e = A[0] == "mesg"
                , a = A[2]
                , Z = {}
                , O = 1
                , c = e ? 1e9 : a.length;
            while (O <= c) {
                var s = O;
                if (e) {
                    s = d();
                    if (s == 0)
                        break
                }
                var x = E(a, s)
                    , u = x[2]
                    , y = x[1] == 1
                    , j = y ? d() : 1
                    , v = new Array(j);
                if (u == 3) {
                    if (!y)
                        throw "e";
                    v = Y.slice(S, S + j);
                    S += j
                } else
                    for (var G = 0; G < j; G++) {
                        var X;
                        if ((u & 1) == 1) {
                            if (u == 1)
                                X = Y[S++] == 1;
                            else if (u == 3)
                                X = Y[S++];
                            else if (u == 5) {
                                var N = d();
                                X = N & 1 ? ~(N >>> 1) : N >>> 1
                            } else if (u == 7)
                                X = d();
                            else if (u == 9) {
                                if (Y[S] == 0) {
                                    X = 0;
                                    S++
                                } else {
                                    q[0] = Y[S];
                                    q[1] = Y[S + 1];
                                    q[2] = Y[S + 2];
                                    q[3] = Y[S + 3];
                                    var V = H[0];
                                    H[0] = V << 23 | V >>> 9;
                                    X = I[0];
                                    S += 4
                                }
                            } else if (u == 11) {
                                var $ = n(Y, S);
                                X = $[0];
                                S += $[1] + 1
                            } else
                                throw u
                        } else {
                            var w = T[u >>> 1];
                            if (w[0] == "enum") {
                                var m = Y[S++];
                                if (m > 127)
                                    throw "e";
                                X = w[2][m]
                            } else {
                                var l = B(Y, S, T, w, i + 1);
                                X = l[0];
                                S = l[1]
                            }
                        }
                        v[G] = X
                    }
                Z[x[3]] = y ? v : v[0];
                O++
            }
            return [Z, S]
        }
        function n(p, C) {
            var T = C;
            while (p[T] != 0)
                T++;
            return [k.Dt(p, C, T - C), T - C]
        }
        function g(p, C) {
            var T = C;
            while (p[T] != 0)
                T++;
            for (var G = C; G < T; G++)
                if (p[G] > 127)
                    throw "e";
            return k.Fe(p, C, T - C)
        }
        function z(p) {
            Y = p;
            S = 1;
            var C = [];
            while (S < p.length) {
                var T = S
                    , A = C.length
                    , i = g(p, S);
                S += i.length + 1;
                var e = d();
                if (e > 2)
                    throw "e";
                var a = d()
                    , Z = [];
                for (var G = 0; G < a; G++) {
                    var O = g(p, S);
                    S += O.length + 1;
                    var c = d()
                        , s = d()
                        , x = d();
                    Z.push(e == 0 ? O : [x, s, c, O])
                }
                C.push([["enum", "strc", "mesg"][e], i, Z])
            }
            return C
        }
        return {
            afo: z,
            aol: B
        }
    }();
    function aZ() { }
    aZ.z7 = function (Y, S) {
        var h = new Uint8Array(Y)
            , q = 8
            , H = k.iV(h, q)
            , n = 0
            , w = 0;
        q += 4;
        var I = [];
        while (q < h.length) {
            var E = k.iV(h, q);
            q += 4;
            var d = h.slice(q, q + E);
            if (h[q] == 137 && h[q + 1] == 80) { } else
                d = UZIP.inflateRaw(d);
            I.push(d);
            q += E
        }
        var B = h7.afo(I[0]);
        for (var G = 0; G < B.length; G++)
            if (B[G][1] == "Message")
                n = G;
        var g = h7.aol(I[1], 0, B, B[n], 0)[0]
            , z = {
                Y5: {},
                wE: {},
                a29: {}
            }
            , p = g.nodeChanges;
        for (var C = 0; C < p.length; C++) {
            var T = p[C]
                , A = T.guid;
            z.wE[A.sessionID + "," + A.localID] = T
        }
        for (var C = 0; C < p.length; C++) {
            var T = p[C]
                , A = T.parentIndex;
            if (A) {
                var i = aZ.m$(z.wE, A.guid);
                if (i.children == null)
                    i.children = [];
                i.children.push(T)
            }
        }
        var e = p[0]
            , a = e.children
            , Z = new W
            , O = []
            , c = [];
        for (var A = 0; A < a.length; A++) {
            var s = a[A]
                , x = s.children;
            if (s.name == "Internal Only Canvas" || x == null)
                continue;
            var u = new W;
            for (var G = 0; G < x.length; G++) {
                var y = x[G]
                    , j = y.transform
                    , v = y.size;
                if (j.m00 == 1 && j.m10 == 0 && j.m01 == 0 && j.m11 == 1) {
                    var X = new W(j.m02, j.m12, v.x, v.y);
                    u = u.TG(X)
                }
            }
            var N = Z.v == 0 ? 0 : Z.v + 100
                , V = u.clone();
            V.x = 0;
            V.y = N;
            Z = Z.TG(V);
            O[A] = u;
            c[A] = N
        }
        var $ = f7.R7(new W(0, 0, Z.d, Z.v), 8192 * 8192);
        S.d = Math.round(Z.d / $);
        S.v = Math.round(Z.v / $);
        S.buffer = t.m(S.d * S.v * 4);
        for (var A = 0; A < a.length; A++) {
            var s = a[A]
                , x = s.children;
            if (s.name == "Internal Only Canvas" || x == null)
                continue;
            x.sort(aZ.Rw);
            var m = new d5(1, 0, 0, 1, -O[A].x, c[A] - O[A].y);
            m.scale(1 / $, 1 / $);
            for (var G = 0; G < x.length; G++) {
                var y = x[G];
                aZ.M5(y, [], m, g.blobs, S, 0, z);
                w++
            }
        }
        S.Eo(w);
        S.Wm = !0;
        if ($ != 1)
            alert("File scaled down " + $ + "x")
    }
        ;
    aZ.M5 = function (Y, S, h, q, H, I, E) {
        var d = aZ, y = !1, j, v, N, V, $;
        for (var G = 0; G < S.length; G++) {
            var B = S[G]
                , n = B.guidPath.guids[0];
            if (d.a47(n, Y.guid)) {
                var g = {};
                for (var z in Y)
                    g[z] = B[z] != null ? B[z] : Y[z];
                Y = g
            }
        }
        var p = Y.type
            , C = Y.children
            , T = Y.size
            , A = Y.effects
            , i = H.rY();
        i.wN(Y.name);
        i.yR(Y.visible);
        i.opacity = Math.round(Y.opacity * 255);
        var e = d.uh(Y.transform)
            , a = e.clone();
        a.concat(h);
        var Z = new W(Math.round(a.TR), Math.round(a.Un), Math.round(T.x * a.Fu()), Math.round(T.y * a.Fu()))
            , O = Y.fillPaints
            , c = Y.inheritFillStyleID;
        if (c) {
            var g = d.m$(E.wE, c);
            if (g)
                O = g.fillPaints
        }
        if (O == null)
            O = [];
        var O = d.g7(O)
            , s = O[0]
            , x = Y.strokePaints
            , c = Y.inheritFillStyleIDForStroke;
        if (c) {
            var g = d.m$(E.wE, c);
            if (g)
                x = g.fillPaints
        }
        if (x == null)
            x = [];
        var x = d.g7(x)
            , u = "BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON".split(" ").indexOf(p) != -1;
        if (u || p == "FRAME") {
            j = new M.cJ;
            v = [];
            d.js(Y, q, j, v);
            y = t.Y.rC(j.b);
            t.Y.$M(j.b, a);
            Z = t.a.Ca(t.Y.c9(j.b));
            if (E.Y5.Ze && s) {
                var X = M.cJ.s7(E.Y5.Ze.b);
                for (var G = 2; G < X.length; G++)
                    if (X[G].Mg != null)
                        X[G].Mg = 3;
                j.b = j.b.concat(X.slice(2));
                v = v.concat(JSON.parse(JSON.stringify(E.Y5.tx)))
            }
        }
        if (s && s.type == "IMAGE") {
            $ = s.imageScaleMode;
            N = d.Q3(q, s.image.dataBlob);
            var w = N.jJ.d / N.jJ.v
                , m = T.x / T.y;
            V = Math.abs(w - m)
        }
        if (p == "FRAME") { } else if (u && y && N && ($ == "FIT" || $ == "FILL" && V <= .05)) {
            var l = q[s.image.dataBlob].bytes
                , b = H.IC(l, i.getName(), 0, 0);
            b.xa = i.xa;
            b.opacity = i.opacity;
            i = b;
            var K = new W(0, 0, T.x, T.y);
            if ($ == "FIT") {
                var J = N.jJ.d
                    , R = N.jJ.v
                    , r = Math.min(T.x / J, T.y / R)
                    , f = J * r
                    , gf = R * r;
                K = new W(K.x + (K.d - f) / 2, K.y + (K.v - gf) / 2, f, gf)
            }
            var aa = t.a.yP(K).H;
            t.a.J(aa, a, aa);
            i.add.SoLd.Trnf = U.o.FQ(aa);
            i.add.SoLd.nonAffineTransform = U.o.FQ(aa);
            var aA = []
                , A = Y.effects
                , e5 = s.paintFilter;
            if (A)
                for (var G = 0; G < A.length; G++)
                    if (A[G].type == "FOREGROUND_BLUR") {
                        var fk = A[G]
                            , o = io.gW("GsnB", {});
                        aA.push(o);
                        o.v.enab.v = fk.visible;
                        o.v.Fltr.v.Rds.v.val = fk.radius / 2.4
                    }
            if (e5 && e5.exposure != 0) {
                var o = io.gW("brit", {});
                aA.push(o);
                o.v.Fltr.v.Brgh.v = Math.round(e5.exposure * 160);
                o.v.Fltr.v.useLegacy.v = !0
            }
            if (aA.length != 0) {
                i.add.SoLd.filterFX = io.JP();
                H.Af({
                    id: i.add.SoLd.placed.v,
                    rect: new W,
                    buffer: t.m(1),
                    r: new M.WB
                });
                i.add.SoLd.filterFX.v.filterFXList.v = aA
            }
            i.rH(H, !1);
            d.UJ(E, i, H)
        } else if (u) {
            d.fk(i, v, j, Y, s, a, Z, q, H, E);
            var eY = d.lE(Y, x[0], a, Z, q, H, E);
            if (eY[0] != "None") {
                var du = i.add.vstk;
                du.strokeEnabled.v = !0;
                du.strokeStyleLineWidth.v.val = Y.strokeWeight * a.Fu();
                du.strokeStyleLineAlignment.v.strokeStyleLineAlignment = ai.Ig.ZK[["INSIDE", "CENTER", "OUTSIDE"].indexOf(Y.strokeAlign)];
                var dV = {
                    SoCo: "SoFi",
                    GdFl: "GrFl"
                }[eY[0]]
                    , hy = ["SoFi", "GrFl", "patternFill"].indexOf(dV)
                    , bq = [ai.pJ, ai.eK, ai.PV][hy];
                du.strokeStyleContent.v = {
                    classID: ai.Ig.bj[0]
                };
                du.strokeStyleLineDashSet.v = av.wL(Y.dashPattern, 1 / Y.strokeWeight);
                var i5 = du.strokeStyleContent.v = {
                    classID: ai.Ig.bj[hy]
                };
                for (var G = 0; G < bq.length; G++)
                    i5[bq[G]] = eY[1][bq[G]]
            }
            if (A)
                for (var G = 0; G < A.length; G++) {
                    var fk = A[G];
                    if (fk.type != "FOREGROUND_BLUR")
                        continue;
                    j.Cm = fk.radius / 2.4
                }
            i._A(H)
        } else if (p == "TEXT") {
            var hX = Y.textData
                , bY = hX.layoutSize
                , ds = ["LEFT", "RIGHT", "CENTER"].indexOf(Y.textAlignHorizontal);
            i.add.lnsr = "rend";
            debugger
            i.add.TySh = ap.Hr(0, 0);
            i.add.TySh.tI = new W(0, 0, 100, 100);
            var hV = a.clone();
            i.add.TySh.J = hV;
            var gF = i.add.TySh.lV
                , co = hX.characters;
            if (Y.textCase == "TITLE") {
                for (var G = 0; G < co.length; G++)
                    if (G == 0 || co[G - 1] == " ") {
                        var c_ = co.slice(0, G)
                            , a5 = co.slice(G + 1);
                        co = c_ + co[G].toUpperCase() + a5
                    }
            }
            co = co.replace(/\u2028/g, "\n");
            co = co.replace(/\u2029/g, "\n");
            co = co.replace(/\r/g, "\n");
            ap.LB(gF, 0, co);
            var gb = Y.textAutoResize
                , iC = hX.baselines;
            if (gb == "WIDTH_AND_HEIGHT") {
                var cC = ds == 0 ? 0 : ds == 1 ? bY.x : bY.x / 2
                    , aB = iC ? iC[0].position.y : 0;
                hV.translate(cC * a.Fu(), aB * a.Fu());
                ap.sI(gF, 0)
            } else if (gb == "HEIGHT" || gb == "NONE" || gb == null) {
                var aB = iC ? iC[0].position.y - Y.fontSize * .7 : 0;
                hV.translate(0, aB * a.Fu());
                ap.sI(gF, 1);
                ap.h6(gF, [0, 0, Math.round(bY.x), Math.round(1.2 * bY.y)])
            } else
                throw gb;
            if (co != "") {
                var cd = ap.Rm(gF, 0, 1);
                d.yT(Y, a, T, cd, i, q, H, E);
                ap.aN(gF, 0, co.length, cd);
                var dZ = hX.characterStyleIDs
                    , en = hX.styleOverrideTable;
                if (dZ) {
                    dZ = dZ.slice(0);
                    for (var G = 0; G < dZ.length; G++)
                        if (co[G] == "\n")
                            dZ[G] = -G - 1;
                    var cD = [0]
                        , hP = 0
                        , ea = 0;
                    for (var G = 0; G < dZ.length; G++) {
                        ea++;
                        var fp = dZ[G];
                        if (G == 0 || fp == dZ[G - 1]) { } else {
                            cD.push(ea - 1, G);
                            ea = 1
                        }
                    }
                    cD.push(ea);
                    for (var G = 0; G < cD.length; G += 2) {
                        var bC = cD[G]
                            , hG = cD[G + 1];
                        if (co[bC] == "\n")
                            continue;
                        var fp = dZ[bC];
                        if (fp != 0) {
                            var b3;
                            for (var ct = 0; ct < en.length; ct++)
                                if (en[ct].styleID == fp)
                                    b3 = en[ct];
                            var cd = ap.Rm(gF, bC, bC + 1);
                            d.yT(b3, a, T, cd, i, q, H, E);
                            ap.aN(gF, bC, bC + hG, cd)
                        }
                    }
                }
            }
        } else if (p == "SYMBOL") { } else if (p == "INSTANCE") {
            var fQ = Y.symbolData
                , cj = fQ.symbolOverrides
                , g = d.m$(E.wE, fQ.symbolID);
            if (g)
                C = g.children;
            else
                console.log(Y.name, "symbol not found", fQ.symbolID);
            S = S.slice(0);
            for (var G = 0; G < cj.length; G++)
                S.push(cj[G])
        } else
            console.log(p);
        if (!1) { } else if (C && !u) {
            H.t.push(H.Ue());
            var fJ = !1;
            if (I == 0 && p != "SYMBOL" && p != "INSTANCE") {
                i.SV(Z);
                var cM = O ? O[0] : null;
                if (cM && cM.type == "SOLID") {
                    var cc = cM.color;
                    i.add.artb.artboardBackgroundType.v = 4;
                    i.add.artb.Clr = d.v_(cc)
                }
            } else if (s && j) {
                var cr = H.rY();
                cr.wN("Background");
                d.fk(cr, v, j, Y, s, a, Z, q, H, E);
                cr._A(H);
                H.t.push(cr);
                fJ = !0
            }
            C.sort(d.Rw);
            var bZ = E.Y5;
            E.Y5 = {};
            for (var eb = 0; eb < C.length; eb++)
                d.M5(C[eb], S, a, q, H, I + 1, E);
            E.Y5 = bZ;
            i.add.lsct = !1 ? hg.fC : hg.N4;
            i.XC = "pass";
            var gL = i.yj();
            i.xa = 24;
            i.yR(gL);
            var fn = I != 0 && O.length != 0 && !Y.frameMaskDisabled && Y.containerSupportsFillStrokeAndCorners;
            if (!fJ && fn && j) {
                debugger
                i.add.vmsk = j;
                i.add.vogk = v;
                i._A(H)
            } else
                d.UJ(E, i, H);
            H.t.push(i)
        } else if (Y.mask) {
            if (j) {
                E.Y5.Ze = j;
                E.Y5.tx = v
            }
        } else {
            var aq = []
                , dv = 1;
            if (A)
                for (var di = 0; di < A.length; di++) {
                    var fk = A[di]
                        , ej = fk.color
                        , cn = fk.type
                        , aj = ["DROP_SHADOW", "INNER_SHADOW"].indexOf(cn);
                    if (aj != -1) {
                        var a6 = ["DrSh", "IrSh"][aj]
                            , hJ = JSON.parse(ai.l_[ai.order.indexOf(a6)]);
                        aq.push([a6, hJ]);
                        hJ.enab.v = fk.visible;
                        hJ.Md.v.BlnM = iS.zw(d.a3L(fk.blendMode));
                        hJ.Opct.v.val = Math.round(100 * ej.a);
                        hJ.blur.v.val = Math.round(fk.radius * a.Fu());
                        hJ.Clr = d.v_(ej);
                        var cC = fk.offset.x
                            , aB = fk.offset.y;
                        hJ.uglg.v = !1;
                        hJ.lagl.v.val = Math.round(180 / Math.PI * Math.atan2(aB, -cC));
                        hJ.Dstn.v.val = Math.round(Math.sqrt(cC * cC + aB * aB) * a.Fu())
                    }
                }
            if (p == "TEXT" && O[0] && O[0].type != "SOLID")
                dv = 0;
            for (var G = dv; G < O.length; G++) {
                var bi = O[G]
                    , cT = d.lE(Y, bi, a, Z, q, H, E);
                if (cT[0] == "GdFl")
                    aq.push(["GrFl", cT[1]]);
                else if (cT[0] == "SoCo")
                    aq.push(["SoFi", cT[1]]);
                else if (cT[0] == "PtFl")
                    aq.push(["patternFill", cT[1]]);
                else
                    throw cT
            }
            if (aq.length != 0) {
                var cO = JSON.parse(ai.default);
                for (var G = 0; G < ai.order.length; G++)
                    cO[ai.m6[G]] = {
                        t: "VlLs",
                        v: []
                    };
                for (var G = 0; G < aq.length; G++) {
                    var bD = aq[G]
                        , a6 = ai.m6[ai.order.indexOf(bD[0])];
                    cO[a6].v.unshift({
                        t: "Objc",
                        v: bD[1]
                    })
                }
                if (C == null)
                    i.add.lmfx = cO
            }
            H.t.push(i)
        }
    }
        ;
    aZ.fk = function (Y, S, h, q, H, I, E, d, B, n) {
        var g = aZ;
        Y.xa |= 16;
        Y.add.vogk = S;
        debugger
        Y.add.vmsk = h;
        var z = Y.add.vstk = JSON.parse(JSON.stringify(ai.Ig.default))
            , p = g.lE(q, H, I, E, d, B, n);
        if (p[0] == "None") {
            z.fillEnabled.v = !1;
            Y.add.SoCo = p[1]
        } else {
            var C = p[1].Opct.v.val;
            if (C != 100)
                Y.opacity = Math.round(Y.opacity / 255 * (C / 100) * 255);
            Y.add[p[0]] = p[1]
        }
    }
        ;
    aZ.Rw = function (Y, S) {
        var h = Y.parentIndex.position
            , q = S.parentIndex.position;
        return h > q ? 1 : -1
    }
        ;
    aZ.g7 = function (Y) {
        for (var G = 1; G < Y.length; G++) {
            var S = Y[G];
            if (S.type == "IMAGE" && S.opacity == 1) {
                Y = Y.slice(G);
                break
            }
        }
        for (var G = 0; G < Y.length; G++) {
            var S = Y[G]
                , h = S.imageThumbnail;
            if (S.type == "IMAGE" && S.image.dataBlob == null && h && h.dataBlob)
                S.image = h;
            if (!S.visible || S.type == "IMAGE" && S.image.dataBlob == null) {
                Y.splice(G, 1);
                G--
            }
        }
        return Y
    }
        ;
    aZ.UJ = function (Y, S, h) {
        if (Y.Y5.Ze) {
            debugger
            S.add.vmsk = Y.Y5.Ze.clone();
            S.add.vogk = JSON.parse(JSON.stringify(Y.Y5.tx));
            S._A(h)
        }
    }
        ;
    aZ.yT = function (Y, S, h, q, H, I, E, d) {
        var B = Y.fontSize
            , n = Y.lineHeight
            , g = Y.fontName
            , z = Y.textAlignHorizontal
            , p = Y.textTracking
            , C = Y.textCase;
        if (B == null)
            B = q.cD.FontSize;
        if (g)
            ap.UB(q, g.postscript);
        if (B != null)
            q.cD.FontSize = Math.round(B);
        if (p)
            q.cD.Tracking = Math.round(p * 1e3);
        if (C)
            q.cD.FontCaps = C == "UPPER" ? 2 : 0;
        if (n && (n.units != "PERCENT" || n.value != 100)) {
            if (B == null)
                B = 15;
            var T = n.value;
            if (n.units == "PERCENT")
                T = 1 * B * T / 100;
            if (n.units == "RAW")
                T = 1 * B * T;
            q.cD.AutoLeading = !1;
            q.cD.Leading = Math.round(T)
        }
        if (z)
            q.vY.Justification = ["LEFT", "RIGHT", "CENTER"].indexOf(z);
        var A = Y.fillPaints
            , i = Y.inheritFillStyleID;
        if (i) {
            var e = aZ.m$(d.wE, i);
            if (e)
                A = e.fillPaints
        }
        if (A && A[0]) {
            var a = aZ.lE(Y, A[0], S, h, I, E, d);
            if (a[0] == "SoCo") {
                var Z = t.W.cd(a[1].Clr.v);
                q.cD.FillColor = {
                    Type: 1,
                    Values: [1, Z.h / 255, Z.l / 255, Z.O / 255]
                };
                H.opacity = Math.round(H.opacity / 255 * (a[1].Opct.v.val / 100) * 255)
            }
        }
    }
        ;
    aZ.lE = function (Y, S, h, q, H, I, E) {
        var d = aZ, B, n, g = Y.size;
        if (S) {
            var z = S.type
                , p = ["GRADIENT_LINEAR", "GRADIENT_RADIAL", "GRADIENT_DIAMOND", "GRADIENT_ANGULAR"].indexOf(z);
            if (z == "SOLID") {
                B = "SoCo";
                var C = S.color;
                n = JSON.parse(ai.l_[ai.order.indexOf("SoFi")]);
                n.Clr = d.v_(C)
            } else if (p != -1) {
                var T = JSON.parse(ai.l_[ai.order.indexOf("GrFl")])
                    , A = T.Grad.v;
                A.Intr.v = 0;
                T.Type.v.GrdT = ["Lnr", "Rdl", "Dmnd", "Angl"][p];
                var i = []
                    , e = S.stops;
                for (var G = 0; G < e.length; G++) {
                    var a = e[G]
                        , Z = a.color;
                    i.push([a.position, [Z.r, Z.g, Z.b], Z.a])
                }
                t.W.uX(i, A);
                var O = d.uh(S.transform);
                O.fb();
                var c = O.clone();
                if (g)
                    c.scale(g.x, g.y);
                c.concat(h);
                var s = new aV(0, .5)
                    , x = new aV(1, .5);
                s = c.I_(s);
                x = c.I_(x);
                if (!0) {
                    s.x = x.x + .5 * (s.x - x.x);
                    s.y = x.y + .5 * (s.y - x.y)
                }
                t.W.Nd(s, x, q, T);
                if (p == 3) {
                    if (c.R * c.RH - c.O * c.Pb < 0)
                        T.Rvrs.v = !T.Rvrs.v
                }
                B = "GdFl";
                n = T
            } else if (z == "IMAGE") {
                var T = JSON.parse(ai.l_[ai.order.indexOf("patternFill")])
                    , u = T.phase.v
                    , y = S.image.dataBlob
                    , j = E.a29[y]
                    , b = 1;
                if (j == null) {
                    var v = d.Q3(H, y);
                    j = E.a29[y] = {};
                    j.id = dh.$C() + "-d71c-11e5-b1ae-a548a96e5f9f";
                    j.ar = [new Uint8Array(v.data), v.jJ];
                    j.name = "someImage";
                    I.pj(j)
                }
                T.Algn.v = !0;
                T.Ptrn.v.Idnt.v = j.id;
                var X = h.TR
                    , N = h.Un
                    , V = S.imageScaleMode
                    , O = d.uh(S.transform);
                O.fb();
                var $ = q.d
                    , w = q.v
                    , m = j.ar[1].d
                    , l = j.ar[1].v;
                if (V == "FILL") {
                    b = Math.max($ / m, w / l);
                    b = Math.round(b * 100) / 100
                } else if (V == "FIT") {
                    b = Math.min($ / m, w / l);
                    b = Math.round(b * 100) / 100
                } else if (V == "STRETCH") {
                    var K = $ * O.R
                        , J = w * O.RH;
                    b = .5 * (K / m + J / l);
                    b = Math.round(b * 100) / 100;
                    X += (K - $) / 2 + O.TR * $;
                    N += (J - w) / 2 + O.Un * w
                } else if (V == "TILE") {
                    b = S.scale;
                    b = Math.round(b * 100) / 100;
                    X += (K - $) / 2;
                    N += (J - w) / 2
                }
                var R = b * m
                    , r = b * l;
                X += -(R - $) / 2;
                N += -(r - w) / 2;
                T.Scl.v.val = Math.round(100 * b);
                u.Hrzn.v = Math.round(X);
                u.Vrtc.v = Math.round(N);
                B = "PtFl";
                n = T
            } else
                throw z;
            if (n)
                n.Opct = {
                    t: "UntF",
                    v: {
                        type: "#Prc",
                        val: Math.round(S.opacity * 100)
                    }
                }
        } else {
            B = "None";
            n = {
                classID: "null",
                Clr: {
                    t: "Objc",
                    v: t.W.Da({
                        h: 0,
                        l: 0,
                        O: 0
                    })
                }
            }
        }
        return [B, n]
    }
        ;
    aZ.Q3 = function (Y, S) {
        var h = Y[S];
        if (h.rslt)
            return h.rslt;
        var q = h.bytes.buffer
            , H = eD.hj(q)
            , I = eD.Oh(H);
        try {
            h.rslt = I.C3(q)[0]
        } catch (gx) {
            h.rslt = {
                data: t.m(4),
                jJ: new W(0, 0, 1, 1)
            }
        }
        return h.rslt
    }
        ;
    aZ.js = function (Y, S, h, q) {
        var H = Y.type, I = Y.size, E = Y.cornerRadius, z;
        if (E == null)
            E = 0;
        var d = t.tx.QO()
            , B = I.x
            , n = I.y
            , g = [E, E, E, E]
            , p = ["rectangleTopLeftCornerRadius", "rectangleTopRightCornerRadius", "rectangleBottomRightCornerRadius", "rectangleBottomLeftCornerRadius"];
        for (var G = 0; G < 4; G++)
            if (Y[p[G]] != null)
                g[G] = Y[p[G]];
        if (H == "RECTANGLE" || H == "ROUNDED_RECTANGLE" || H == "FRAME") {
            z = t.Y.jZ.Rect(0, 0, B, n, g)
        } else if (H == "ELLIPSE") {
            var C = Y.arcData
                , T = C ? C.startingAngle : 0
                , A = C ? C.endingAngle : 2 * Math.PI
                , i = C ? C.innerRadius : 0;
            if (T == 0 && A > 1.999 * Math.PI)
                z = t.Y.jZ.Xu(0, 0, B, n, 0);
            else
                z = t.Y.jZ.amj(B / 2, n / 2, n / 2, T, A);
            if (i != 0 && i != 1) {
                var e = M.cJ.s7(z).slice(3);
                e.reverse();
                for (var G = 0; G < e.length; G++) {
                    var a = e[G]
                        , Z = a.c4;
                    a.c4 = a.TA;
                    a.TA = Z
                }
                var O = new d5;
                O.translate(-B / 2, -n / 2);
                O.scale(i, i);
                O.translate(B / 2, n / 2);
                t.Y.$M(e, O);
                z = z.concat(e);
                z[2].length *= 2
            }
        } else if (H == "LINE") {
            z = t.Y.jZ.Rect(0, 0, B, n, 0);
            z.pop();
            z.pop();
            z[2].length = 2
        } else if (H == "REGULAR_POLYGON") {
            z = t.Y.jZ.as(.5, .5, .5, Math.PI / 2, Y.count, 0);
            var c = new d5;
            c.scale(B, n);
            t.Y.$M(z, c)
        } else if (H == "BOOLEAN_OPERATION") {
            z = [{
                type: 6
            }, {
                type: 8,
                all: 0
            }];
            var s = Y.children
                , x = ["XOR", "UNION", "SUBTRACT", "INTERSECT"].indexOf(Y.booleanOperation);
            if (x == -1)
                throw Y;
            if (s == null)
                s = [];
            for (var G = 0; G < s.length; G++) {
                var u = s[G]
                    , y = new M.cJ
                    , j = []
                    , v = aZ.js(u, S, y, j);
                if (y.b == null)
                    continue;
                t.Y.$M(y.b, aZ.uh(u.transform));
                z = z.concat(y.b.slice(2));
                for (var X = 0; X < j.length; X++)
                    q.push(j[X])
            }
            for (var G = 3; G < z.length; G++)
                if (z[G].Mg != null)
                    z[G].Mg = x;
            d = null
        } else if (H == "VECTOR") {
            var N, V;
            if (!0) {
                var $ = Y.vectorData;
                N = $.normalizedSize;
                V = $.vectorNetworkBlob
            } else {
                N = I;
                V = hn[0].commandsBlob;
                console.log(hn)
            }
            var w = S[V].bytes
                , m = new Uint32Array(w.buffer)
                , l = new Float32Array(w.buffer)
                , b = m[0]
                , K = m[1]
                , J = [];
            for (var G = 0; G < b; G++) {
                var r = 3 + G * 3
                    , f = new aV(l[r + 1], l[r + 2]);
                J.push(f)
            }
            var gf = []
                , aa = 3 + b * 3;
            for (var G = 0; G < K; G++) {
                var aA = aa + G * 7
                    , e5 = m[aA + 1]
                    , fk = m[aA + 4];
                gf.push([e5, fk, l[aA + 2], l[aA + 3], l[aA + 5], l[aA + 6]])
            }
            var o = -1;
            for (var G = 0; G < K; G++) {
                if (o == -1) { } else {
                    var eY = -1;
                    for (var X = G; X < K; X++)
                        if (gf[X][1] == o)
                            eY = X;
                    for (var X = G; X < K; X++)
                        if (gf[X][0] == o)
                            eY = X;
                    if (eY != -1) {
                        var du = 0
                            , Z = gf[eY];
                        gf[eY] = gf[G];
                        gf[G] = Z;
                        if (Z[0] != o) {
                            du = Z[0];
                            Z[0] = Z[1];
                            Z[1] = du;
                            du = Z[2];
                            Z[2] = Z[4];
                            Z[4] = du;
                            du = Z[3];
                            Z[3] = Z[5];
                            Z[5] = du
                        }
                    }
                }
                o = gf[G][1]
            }
            var dV = []
                , hy = []
                , bq = -1;
            o = -1;
            for (var G = 0; G < K; G++) {
                var i5 = gf[G]
                    , e5 = i5[0]
                    , fk = i5[1]
                    , hX = J[e5]
                    , bY = J[fk];
                if (o != e5) {
                    hy.push("M");
                    dV.push(hX.x, hX.y);
                    bq = e5
                }
                dV.push(hX.x + i5[2], hX.y + i5[3]);
                dV.push(bY.x + i5[4], bY.y + i5[5]);
                hy.push("C");
                dV.push(bY.x, bY.y);
                o = fk;
                if (bq == fk) {
                    hy.push("Z");
                    bq = o = -1
                }
            }
            z = t.a.QG({
                H: dV,
                Z: hy
            }, !0);
            if (E != 0) {
                var g = []
                    , ds = z[2].length;
                for (var G = 0; G < ds; G++)
                    g.push(E);
                if (t.Y.YA(z))
                    t.Y.c8(z, 2, g)
            }
            var hV = new d5;
            hV.scale(N.x == 0 ? 1 : I.x / N.x, N.y == 0 ? 1 : I.y / N.y);
            t.Y.$M(z, hV)
        }
        h.b = z;
        if (d)
            q.push(d)
    }
        ;
    aZ.m$ = function (Y, S) {
        return Y[S.sessionID + "," + S.localID]
    }
        ;
    aZ.a47 = function (Y, S) {
        return Y.sessionID == S.sessionID && Y.localID == S.localID
    }
        ;
    aZ.a3L = function (Y) {
        var S = {
            NORMAL: "norm",
            MULTIPLY: "mul ",
            SCREEN: "scrn"
        }[Y];
        if (S == null)
            throw Y;
        return S
    }
        ;
    aZ.v_ = function (Y) {
        return {
            t: "Objc",
            v: t.W.Da({
                h: Y.r * 255,
                l: Y.g * 255,
                O: Y.b * 255
            })
        }
    }
        ;
    aZ.uh = function (Y) {
        var S = [Y.m00, Y.m10, Y.m01, Y.m11, Y.m02, Y.m12];
        for (var G = 0; G < 6; G++)
            if (Math.abs(S[G]) < 1e-20)
                S[G] = 0;
        return new d5(S[0], S[1], S[2], S[3], S[4], S[5])
    }
        ;
    function iO() { }
    iO.z7 = function () {
        var Y = k.Fe;
        function S(B, n, g, z) {
            var p = z ? [] : {};
            while (n < B.length - 1 && B[n] != 125) {
                var C = Y(B, n, 3), T = Y(B, n + 3, 1), A;
                n += 4;
                n++;
                if (T == "v") {
                    var i = S(B, n, g + 1, C == "ELM" || C == "TIL");
                    A = i.G;
                    n = i.T
                } else if (T == "i" || T == "f") {
                    var e = n;
                    while (B[e] != 125)
                        e++;
                    var a = Y(B, n, e - n);
                    A = T == "i" ? parseInt(a, 16) : parseFloat(a);
                    n = e + 1
                } else if (T == "s") {
                    var Z = B[n + 1]
                        , a = "";
                    n += 2;
                    for (var G = 0; G < Z; G++)
                        a += String.fromCharCode(B[n + 2 * G + 1]);
                    A = a;
                    n = n + 2 * Z + 1
                } else if (T == "b") {
                    A = B[n] == 49;
                    n = n + 2
                }
                if (z)
                    p.push([C, A]);
                else if (p[C] == null)
                    p[C] = A;
                else {
                    if (!(p[C] instanceof Array))
                        p[C] = [p[C]];
                    p[C].push(A)
                }
            }
            n++;
            return {
                G: p,
                T: n
            }
        }
        function h(B, n) {
            var g = q(B).slice(1)
                , B = n.Clr.v;
            B.Rd.v = g[0] * 255;
            B.Grn.v = g[1] * 255;
            B.Bl.v = g[2] * 255
        }
        function q(B) {
            return [(B >>> 24 & 255) / 255, (B >>> 16 & 255) / 255, (B >>> 8 & 255) / 255, (B >>> 0 & 255) / 255]
        }
        function H(B, n) {
            var g = n & 4278190080 | (n & 255) << 16 | (n >>> 8 & 255) << 8 | n >>> 16 & 255;
            new Uint32Array(B.buffer).fill(g)
        }
        function I(B, n) {
            var g = B.TSZ
                , z = B.WPX
                , p = B.HPX
                , C = B.TIL
                , T = new W(0, 0, z, p)
                , A = t.m(z * p * 4)
                , i = 0;
            for (var e = 0; e < p; e += g)
                for (var a = 0; a < z; a += g) {
                    var Z = new W(a, e, g, g), O, c = C[i];
                    if (c[0] == "TMC") {
                        O = t.m(Z.e() * 4);
                        H(O, c[1])
                    } else if (c[0] == "TID") {
                        O = n[c[1]]
                    }
                    t.rd(O, Z, A, T);
                    i++
                }
            return [A, T]
        }
        function E(B, n) {
            B = new Uint8Array(B);
            var g = 8, z, p = {};
            while (g < B.length) {
                var C = k.n(B, g);
                g += 4;
                var T = Y(B, g, 4);
                g += 4;
                if (T == "mkTS") {
                    var A = pako.inflate(B.slice(g, g + C))
                        , i = S(A, 0, 0);
                    z = i.G
                } else if (T == "mkBT") {
                    var e = k.n(B, g + 4)
                        , a = k.n(B, g + 8)
                        , A = pako.inflate(B.slice(g + 76, g + C));
                    if (a == 0)
                        for (var G = 0; G < A.length; G += 4) {
                            var Z = A[G]
                                , O = A[G + 1]
                                , c = A[G + 2]
                                , s = A[G + 3];
                            A[G + 3] = Z;
                            A[G + 2] = s;
                            A[G + 1] = c;
                            A[G] = O
                        }
                    else {
                        var x = t.m(A.length * 4);
                        x.fill(255);
                        t.xe(A, x);
                        A = x
                    }
                    p[e] = A
                }
                g += C + 4
            }
            z = z.MKB;
            var u = z.WID
                , y = z.HIT
                , j = z.BGC;
            n.d = u;
            n.v = y;
            if (j >>> 24 != 0) {
                var v = n.rY();
                v.wN("Background");
                n.t.push(v);
                v.rect = new W(0, 0, u, y);
                v.buffer = t.m(v.rect.e() * 4);
                H(v.buffer, j)
            }
            var X = z.LYL.LAY;
            for (var G = X.length - 1; G >= 0; G--)
                d(X[G], n, null, p);
            n.Wm = !0
        }
        function d(B, n, g, z) {
            var p = n.rY();
            if (B.CLL) {
                p.wN(B.LNM);
                n.t.push(n.Ue());
                var C = B.CLL.CEL.ELM;
                for (var G = C.length - 1; G >= 0; G--)
                    d(C[G][1], n, C[G][0], z);
                p.add.lsct = hg.fC;
                p.XC = "pass";
                p.xa = 24
            } else if (g == "IMG") {
                p.wN(B.OBN);
                var T = I(B, z);
                p.rect = T[1].clone();
                p.rect.x = B.XLC;
                p.rect.y = B.YLC;
                p.buffer = T[0]
            } else if (g == "TXT") {
                var A = B.TFS
                    , i = A.TRN;
                p.wN(i.slice(0, 255));
                p.add.lnsr = "rend";
                debugger
                p.add.TySh = ap.Hr(0, 0);
                p.add.TySh.tI = new W(0, 0, 100, 100);
                p.add.TySh.J = new d5(1, 0, 0, 1, B.LFT, B.TOP);
                var e = p.add.TySh.lV;
                ap.LB(e, 0, i);
                var a = ap.Rm(e, 0, 1);
                ap.UB(a, B.CFT);
                a.cD.FontSize = Math.round(B.PTS);
                var Z = A.FCL;
                a.cD.FillColor = {
                    Type: 1,
                    Values: q(Z)
                };
                var O = B.RIT - B.LFT
                    , c = B.BOT - B.TOP;
                ap.aN(e, 0, i.length, a);
                ap.sI(e, 1);
                ap.h6(e, [0, 0, O, c])
            } else if (g == "PTH") {
                p.wN(B.OBN);
                p.xa |= 16;
                debugger
                var s = p.add.vmsk = new M.cJ
                    , x = p.add.vstk = JSON.parse(JSON.stringify(ai.Ig.default))
                    , u = B.PBL.PBP
                    , y = u.PBT;
                s.b.push({
                    type: 0,
                    length: y.length,
                    Mg: 0,
                    rq: 2,
                    LW: 0,
                    xx: 0
                });
                for (var G = 0; G < y.length; G++) {
                    var j = y[G]
                        , v = new aV(j.XLC, j.YLC);
                    s.b.push({
                        type: 2,
                        D: v,
                        c4: v.clone(),
                        TA: v.clone()
                    })
                }
                p.Ir();
                var X = t.Y.c9(s.b)
                    , N = B.PAT
                    , V = N.BPL
                    , $ = N.FPL
                    , w = N.TXF;
                if (V) {
                    x.strokeEnabled.v = !0;
                    x.strokeStyleLineWidth.v.val = V.BDI;
                    if (V.BDI == 1)
                        x.strokeStyleLineAlignment.v.strokeStyleLineAlignment = "strokeStyleAlignInside";
                    h(N.BCL, x.strokeStyleContent.v)
                }
                if ($.CAT == "fc_Solid") {
                    p.add.SoCo = JSON.parse(ai.l_[ai.order.indexOf("SoFi")]);
                    h(B.PAT.FCL, p.add.SoCo)
                }
                if ($.CAT == "fc_Linear") {
                    var m = p.add.GdFl = JSON.parse(ai.l_[ai.order.indexOf("GrFl")])
                        , l = m.Grad.v
                        , b = []
                        , K = $.FGL.FGV.FGI;
                    for (var G = 0; G < K.length; G++) {
                        var J = K[G];
                        b.push([J.FGP, q(J.FGC).slice(1)])
                    }
                    t.W.uX(b, l);
                    l.Intr.v = 0;
                    var R = B.PRI
                        , r = new aV(R.PSX, R.PSY)
                        , f = new aV(R.PEX, R.PEY);
                    r.x = (r.x + f.x) / 2;
                    r.y = (r.y + f.y) / 2;
                    t.W.Nd(r, f, X, m)
                }
                var aa = JSON.parse(ai.default);
                for (var G = 0; G < ai.order.length; G++)
                    aa[ai.m6[G]] = {
                        t: "VlLs",
                        v: []
                    };
                if (B.EFL) {
                    var aA = B.EFL.EPS;
                    if (!(aA instanceof Array))
                        aA = [aA];
                    for (var G = 0; G < aA.length; G++) {
                        var e5 = aA[G].DCE
                            , fk = {};
                        for (var o = 0; o < e5.length; o++)
                            fk[e5[o].DCK] = e5[o].DCV;
                        var g = fk.mkbFile_WriteOnly_TemporaryEffectUiName
                            , eY = ["Drop Shadow", "Inner Bevel"].indexOf(g);
                        if (eY == -1) {
                            continue
                        }
                        var du = ["DrSh", "ebbl"][eY]
                            , dV = ai.m6[ai.order.indexOf(du)]
                            , m = JSON.parse(ai.l_[ai.order.indexOf(du)]);
                        aa[dV].v.unshift({
                            t: "Objc",
                            v: m
                        });
                        if (du == "DrSh") {
                            var hy = fk.ShadowDistance;
                            if (hy)
                                m.Dstn.v.val = parseInt(hy);
                            var bq = fk.ShadowBlur;
                            if (bq)
                                m.blur.v.val = parseInt(bq);
                            var i5 = fk.ShadowAngle;
                            if (i5) {
                                m.lagl.v.val = parseInt(i5) + 180;
                                m.uglg.v = !1
                            }
                            var hX = fk.ShadowColor;
                            if (hX) {
                                hX = hX.slice(1);
                                if (hX.length == 6)
                                    hX = hX + "ff";
                                if (hX.length != 8)
                                    throw "e";
                                var bY = q(parseInt(hX, 16))
                                    , Z = m.Clr.v;
                                Z.Rd.v = bY[0] * 255;
                                Z.Grn.v = bY[1] * 255;
                                Z.Bl.v = bY[2] * 255;
                                m.Opct.v.val = Math.round(bY[3] * 100)
                            }
                        }
                        if (du == "ebbl") {
                            var bq = fk.BevelWidth;
                            if (bq)
                                m.blur.v.val = parseInt(bq);
                            var bq = fk.AngleSoftness;
                            if (bq)
                                m.Sftn.v.val = parseInt(bq);
                            var ds = fk.BevelContrast;
                            if (ds)
                                m.srgR.v.val = parseInt(ds);
                            var i5 = fk.LightAngle;
                            if (i5) {
                                m.lagl.v.val = parseInt(i5);
                                m.uglg.v = !1
                            }
                        }
                    }
                }
                if ($.FTB != 0) {
                    var T = I(w.MSK, z)
                        , hV = {};
                    hV.id = dh.$C() + "-d71c-11e5-b1ae-a548a96e5f9f";
                    hV.name = "someImage";
                    hV.ar = T;
                    n.pj(hV);
                    var gF = T[0];
                    for (var G = 0; G < gF.length; G += 4) {
                        gF[G + 3] = 255 - gF[G];
                        gF[G] = gF[G + 1] = gF[G + 2] = 255
                    }
                    var m = JSON.parse(ai.l_[ai.order.indexOf("patternFill")]);
                    m.Opct.v.val = Math.round($.FTB / 10);
                    m.Algn.v = !0;
                    m.Ptrn.v.Idnt.v = hV.id;
                    aa.patternFillMulti.v.unshift({
                        t: "Objc",
                        v: m
                    })
                }
                p.add.lmfx = aa;
                p._A(n)
            } else
                console.log("unknown layer type", g);
            n.t.push(p)
        }
        return E
    }();
    function eD() { }
    eD.T9 = {
        aj7: ["PNG", "JPG", "SVG", "GIF", "PDF"],
        ahC: "WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")
    };
    eD.wg = {
        ah_: function (Y, S) {
            fetch(Y).then(function (h) {
                return h.arrayBuffer()
            }).then(function (h) {
                var q = new Uint8Array(h)
                    , H = 0
                    , B = "";
                if (S) {
                    H = q.length;
                    var I = {
                        level: 9
                    }
                        , E = pako.deflateRaw(q, I)
                        , d = UZIP.deflateRaw(q, I);
                    console.log(H, E.length, d.length);
                    q = E.length < d.length ? E : d
                }
                for (var G = 0; G < q.length; G++)
                    B += String.fromCharCode(q[G]);
                var n = btoa(B);
                console.log(JSON.stringify([H, n]))
            })
        },
        get: function (Y, S) {
            var h = BINDB[Y]
                , q = Date.now()
                , H = atob(h[1])
                , I = H.length
                , E = new Uint8Array(I);
            for (var G = 0; G < I; G++)
                E[G] = H.charCodeAt(G);
            if (h[0] != 0) {
                var d = new Uint8Array(h[0]);
                UZIP.inflateRaw(E, d);
                E = d
            }
            if (S) {
                var B = eD.hj(E.buffer);
                E = eD.Oh(B).C3(E.buffer)
            }
            return E
        }
    };
    eD.hj = function (Y) {
        if (!(Y instanceof ArrayBuffer)) {
            console.log("Input is not ArrayBuffer")
        }
        var S = new Uint8Array(Y), h = eD.E4, q, H = 0, I = S.length - 1;
        if (h(S, [239, 187, 191]))
            H = 3;
        while (H < S.length && (S[H] == 9 || S[H] == 10 || S[H] == 13 || S[H] == 32))
            H++;
        while (I != 0 && (S[I] == 9 || S[I] == 10 || S[I] == 13 || S[I] == 32))
            I--;
        if (h(S, [56, 66, 80, 83]))
            q = "psd";
        if (h(S, [120]))
            q = "pxd";
        if (h(S, [103, 105, 109, 112, 32, 120, 99, 102, 32]))
            q = "xcf";
        if (h(S, [102, 105, 103, 45, 107, 105, 119, 105]))
            q = "fig";
        if (h(S, [137, 80, 78, 71, 13, 10, 26, 10])) {
            q = "png";
            var E = 8;
            while (E < S.length) {
                var d = k.n(S, E);
                E += 4;
                var B = k.Fe(S, E, 4);
                E += 4;
                if (B == "mkTS")
                    q = "fpng";
                E += d + 4
            }
        }
        if (h(S, [87, 76]))
            q = "cdr";
        if (h(S, [82, 73, 70, 70])) {
            var n = dY.z7(S)
                , g = n.bj;
            if (g == "WEBP")
                q = "webp";
            else if (g.slice(0, 3) == "CDR")
                q = "cdr";
            else
                q = g
        }
        if (h(S, [70, 79, 82, 77]) || h(S, [76, 73, 83, 84]) || h(S, [67, 65, 84, 32])) {
            var n = eP.z7(S)
                , g = n.bj;
            if (g == "ILBM")
                q = "ilbm";
            else
                q = g
        }
        if (h(S, [255, 216, 255]))
            q = "jpg";
        if (h(S, [0, 0, 0, 12, 106, 80, 32, 32]))
            q = "jpg";
        if (h(S, [48, 0, 1, 0], 4))
            q = "jpg";
        if (h(S, [71, 73, 70, 56]))
            q = "gif";
        if (h(S, [0, 0, 0, 2, 121, 102, 113, 76]))
            q = "msh";
        if (h(S, [0, 0, 0, 3, 121, 102, 113, 76]))
            q = "msh";
        if (h(S, [0, 0, 0, 16]))
            q = "atn";
        if (h(S, [0, 1]))
            q = "aco";
        if (h(S, [0, 2]))
            q = "aco";
        if ([0, 1].indexOf(S[1]) != -1 && [1, 2, 3, 9, 10, 11].indexOf(S[2]) != -1 && [0, 16, 24, 32].indexOf(S[7]) != -1)
            q = "tga";
        if (h(S, [0, 2, 56, 66, 83, 76]))
            q = "asl";
        if (h(S, [0, 1, 0, -1, 0, 2, 0]))
            q = "abr";
        if (h(S, [0, 2, 0, -1, 0, 2, 0]))
            q = "abr";
        if (h(S, [0, 6, 0, 1]))
            q = "abr";
        if (h(S, [0, 6, 0, 2]))
            q = "abr";
        if (h(S, [0, 7, 0, 2]))
            q = "abr";
        if (h(S, [0, 9, 0, 2]))
            q = "abr";
        if (h(S, [0, 10, 0, 2]))
            q = "abr";
        if (h(S, [56, 66, 70, 83]))
            q = "shc";
        if (h(S, [56, 66, 80, 84]))
            q = "pat";
        if (h(S, [56, 66, 71, 82]))
            q = "grd";
        if (h(S, [56, 66, 84, 80]))
            q = "tpl";
        if (h(S, [0, 4, 0, 5]))
            q = "acv";
        if (h(S, [99, 117, 115, 104]))
            q = "csh";
        if (h(S, [0, 1, 0, 0, 0]))
            q = "otf";
        if (h(S, [79, 84, 84, 79]))
            q = "otf";
        if (h(S, [116, 116, 99, 102]))
            q = "otf";
        if (h(S, [68, 68, 83, 32]))
            q = "dds";
        if (h(S, [80, 86, 82, 3]))
            q = "pvr";
        if (h(S, [86, 84, 70, 0]))
            q = "vtf";
        if (h(S, [83, 73, 77, 80]))
            q = "fits";
        if (h(S, [0, 0, 1, 0]))
            q = "ico";
        if (h(S, [66, 77]))
            q = "bmp";
        if (h(S, [40, 0, 0, 0]))
            q = "bmp";
        if (h(S, [80, 49]))
            q = "ppm";
        if (h(S, [80, 50]))
            q = "ppm";
        if (h(S, [80, 51]))
            q = "ppm";
        if (h(S, [80, 52]))
            q = "ppm";
        if (h(S, [80, 53]))
            q = "ppm";
        if (h(S, [80, 54]))
            q = "ppm";
        if (h(S, [73, 73, 42, 0]))
            q = "tiff";
        if (h(S, [77, 77, 0, 42]))
            q = "tiff";
        if (h(S, [70, 85, 74, 73, 70, 73, 76, 77]))
            q = "raf";
        if (h(S, [112]))
            q = "lif";
        if (h(S, [73, 73, 26, 0]))
            q = "ciff";
        if (h(S, [83, 81, 76, 105]))
            q = "sketch";
        if (h(S, [80, 75])) {
            var z = UZIP.parse(Y, !0);
            if (z["document.json"])
                q = "sketch";
            else if (z.manifest)
                q = "xd";
            else
                q = "zip"
        }
        if (h(S, [123]))
            q = "json";
        if (k.n(S, 0) == S.length)
            q = "icc";
        if (h(S, [35]))
            q = "icc";
        if (h(S, [84, 73, 84, 76]))
            q = "icc";
        if (h(S, [76, 85, 84, 95]))
            q = "icc";
        if (h(S, [60, 63, 120, 109], H)) {
            if (k.Qq(S, "<look>") != -1)
                q = "icc";
            else
                q = "svg"
        }
        if (h(S, [60, 115, 118, 103], H))
            q = "svg";
        if (h(S, [60, 33, 100, 111], H) || h(S, [60, 33, 68, 79], H)) {
            if (k.Qq(S, "<svg") != -1)
                q = "svg";
            else
                q = "html"
        }
        if (h(S, [37, 33]) || h(S, [197, 208, 211, 198])) {
            q = "eps"
        }
        if (h(S, [37, 80, 68, 70], H)) {
            q = "pdf"
        } else if (h(S, [10, 69, 79, 70], I - 3))
            q = "dxf";
        if (h(S, [215, 205, 198, 154]))
            q = "wmf";
        if (h(S, [1, 0, 0, 0]))
            q = "emf";
        if (h(S, [118, 47, 49, 1]))
            q = "exr";
        if (h(S, [10, 10, 10, 10]))
            q = "jsx";
        if (h(S, [77, 90]))
            q = "exe";
        if (q == null && t.raw.FK(S.length) != null)
            return "tiff";
        return q
    }
        ;
    eD.E4 = function (Y, S, h) {
        if (h == null)
            h = 0;
        for (var G = 0; G < S.length; G++)
            if (S[G] != -1 && Y[h + G] != S[G])
                return !1;
        return !0
    }
        ;
    eD.Oh = function (Y) {
        var S = {
            BMP: eD.a6U,
            CDR: eD.G1,
            DDS: eD.Dm,
            EMF: eD.co,
            DXF: eD.RT,
            EPS: eD.q4,
            FIG: eD.R0,
            FPNG: eD.EQ,
            GIF: eD.P6,
            ICO: eD.hE,
            ILBM: eD.iM,
            FITS: eD.su,
            EXR: eD.I6,
            JPG: eD.mO,
            LIF: eD._8,
            PDF: eD.WD,
            PNG: eD.jV,
            PPM: eD.ir,
            PSD: eD.N8,
            PXD: eD.Hn,
            RAF: eD.WE,
            RAW: eD.Lw,
            SKETCH: eD.K0,
            SVG: eD.LA,
            TGA: eD.qG,
            TIFF: eD.MF,
            VTF: eD.ab,
            WEBP: eD.FZ,
            WMF: eD.me,
            XCF: eD.tA,
            XD: eD.ur,
            EXE: eD.fy,
            AI: eD.am4
        };
        return S[Y.toUpperCase()]
    }
        ;
    eD.pe = function (G) {
        var Y = eD.T9.aj7, S = eD.T9.ahC, h, q = [];
        if (G == null)
            h = Y.concat(S);
        else
            h = G == 0 ? Y : S;
        for (var G = 0; G < h.length; G++)
            if (eD.Oh(h[G]).rr)
                q.push(h[G]);
        return q
    }
        ;
    eD.lK = function (Y, S, h, q, H) {
        var I = eD.Z9(Y, S, h, q, H)
            , E = eD.PY(I);
        return E.buffer
    }
        ;
    eD.PY = function (Y) {
        var S = atob(Y.split(",").pop())
            , h = new Uint8Array(S.length);
        for (var G = 0; G < S.length; G++)
            h[G] = S.charCodeAt(G);
        return h
    }
        ;
    eD.Z9 = function (Y, S, h, q, H, I) {
        if (!(Y instanceof ArrayBuffer))
            throw "e";
        if (q == null)
            q = "png";
        if (q == "png" && I == !0) {
            var E = eD.Oh("PNG").rr([[Y, 0]], S, h);
            return "data:image/png;base64," + eD.iS(E)
        }
        var d = eD.mX;
        if (d == null)
            d = eD.mX = P.w("canvas");
        if (d.width != S || d.height != h) {
            d.width = S;
            d.height = h
        }
        var B = d.getContext("2d")
            , n = new ImageData(new Uint8ClampedArray(Y, 0, S * h * 4), S, h);
        B.putImageData(n, 0, 0);
        return d.toDataURL("image/" + q, H)
    }
        ;
    eD.ac7 = function (Y, S, h, q, H) {
        if (H == null)
            H = 0;
        var I = "<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>"
            , E = "<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> " + I + "<g transform=\"translate(64 64) scale(" + .25 * Math.round(P.M()) + ")\">";
        if (Y == 1)
            E += "<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">" + "<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>" + "</g>";
        E += "<g filter=\"url(#sofGlow)\"><image transform=\"rotate(" + H + ")\" xlink:href=\"" + S + "\" x=\"" + 80 * h + "\" y=\"" + 80 * q + "\" height=\"80\" width=\"80\"/></g>" + "</g>" + "</svg>";
        var d = new Uint8Array(E.length);
        k.U9(E, d, 0);
        var B = "data:image/svg+xml;base64," + eD.iS(d.buffer);
        return {
            Vi: B,
            _: new W(0, 0, 128, 128),
            qy: new aV(64, 64)
        }
    }
        ;
    eD.iS = function (Y) {
        var S = new Uint8Array(Y)
            , h = "";
        for (var G = 0; G < S.length; G++)
            h += String.fromCharCode(S[G]);
        return btoa(h)
    }
        ;
    eD.alT = function (Y) {
        var S = atob(Y)
            , h = S.length
            , q = new Uint8Array(h);
        for (var G = 0; G < h; G++)
            q[G] = S.charCodeAt(G);
        return q.buffer
    }
        ;
    eD.wG = function (Y) {
        var S = []
            , h = [];
        for (var G = 0; G < Y.t.length; G++) {
            var q = Y.t[G];
            if (q.getName().slice(0, 3) == "_a_") {
                S.push(G);
                h.push(q.yj())
            }
        }
        return [S, h]
    }
        ;
    eD.mE = function (Y, S, h, q, H, I) {
        if (h == null)
            h = Y.d;
        if (q == null)
            q = Y.v;
        var E = new W(0, 0, Y.d, Y.v), d = new d5(h / (Y.d + .001), 0, 0, q / (Y.v + .001), 0, 0), n;
        S = S.toUpperCase();
        var B = eD.Oh(S);
        if (B.M4) {
            Y.Q3();
            n = B.rr(Y, h, q, H, I)
        } else {
            var g = eD.wG(Y), z = g[0], p = g[1], C;
            if (Y.h3.length != 0) {
                C = [];
                for (var G = 0; G < Y.h3.length; G++)
                    C.push(Y.h3[G].Ga(E))
            }
            if (z.length < 2) {
                var T;
                if (h == Y.d && q == Y.v)
                    T = Y.Q3().buffer;
                else {
                    var A = U.o.dG([Y.Q3(), E], d);
                    T = A.buffer.buffer
                }
                n = B.rr([[T, 0, Y.PW, Y.wH, C]], h, q, H)
            } else {
                var i = [];
                for (var G = 0; G < z.length; G++) {
                    var e = z[G], T;
                    for (var a = 0; a < z.length; a++)
                        Y.t[z[a]].yR(z[a] == e);
                    Y.Ko();
                    Y.s();
                    Y.aj();
                    if (h == Y.d && q == Y.v)
                        T = Y.Q3().buffer.slice(0);
                    else {
                        var A = U.o.dG([Y.Q3(), E], d);
                        T = A.buffer.buffer
                    }
                    var Z = Y.t[e].getName().split(",");
                    i.push([T, Z[1] ? parseInt(Z[1]) : 100, Y.PW, Y.wH, C])
                }
                for (var G = 0; G < z.length; G++)
                    Y.t[z[G]].yR(p[G]);
                Y.s();
                Y.aj();
                if (H) {
                    var O = H.length
                        , c = H[O - 2]
                        , s = H[O - 1]
                        , x = H[O - 4] / 100;
                    if (x != 1)
                        for (var G = 0; G < i.length; G++)
                            i[G][1] = Math.round((i[G][1] == 0 ? 16 : i[G][1]) / x);
                    if (c)
                        i.reverse();
                    if (s) {
                        var u = i.slice(1, i.length - 1);
                        u.reverse();
                        i = i.concat(u)
                    }
                }
                n = B.rr(i, h, q, H)
            }
        }
        return n
    }
        ;
    eD.y8 = function (Y, S) {
        
        var h = S[0].Sd && S[0].Sd.startsWith("_a_"), q, H = new dh(Y + ".psd"), I = new W(0, 0, 1, 1);
        if (h) {
            q = H.rY();
            q.add.lsct = hg.fC;
            q.wN(Y);
            q.XC = "pass";
            q.xa = 24;
            q.yR(!0);
            H.t.push(H.Ue())
        }
        for (var G = 0; G < S.length; G++) {
            var E = S[G];
            I = I.TG(E.jJ);
            var d = H.rY();
            d.yR(G == 0);
            d.wN(S.length == 1 ? "Background" : "Layer " + G);
            if (G == 0 && E.PW)
                H.PW = E.PW;
            if (G == 0 && E.wH)
                H.wH = E.wH;
            if (E.Sd)
                d.wN(E.Sd);
            if (E.dJ) {
                debugger
                for (var G = 0; G < E.dJ.length; G++) {
                    var B = E.dJ[G]
                        , n = dh.KK(B[0]);
                    n.add.vmsk.b = B[1];
                    t.Y.$M(B[1], new d5(I.d, 0, 0, I.v, 0, 0));
                    H._b.push(n)
                }
            }
            d.rect = E.jJ.clone();
            d.buffer = new Uint8Array(E.data);
            t.Wq(d);
            H.t.push(d)
        }
        if (h)
            H.t.push(q);
        if (S[0].h3) {
            for (var G = 0; G < S[0].h3.length; G++) {
                var g = new M.WB;
                H.h3.push(g);
                g.rect = S[0].jJ.clone();
                g.channel = S[0].h3[G]
            }
        }
        H.C = [h ? H.t.length - 1 : 0];
        H.d = I.d;
        H.v = I.v;
        H.buffer = t.m(I.e() * 4);
        H.s();
        return H
    }
        ;
    eD.jV = {};
    eD.jV.rr = function (Y, S, h, q) {
        if (q == null)
            q = [100, !1, 0, 0, 0];
        var H = {
            sRGB: 1,
            loop: q[3]
        };
        if (Y[0][2] != null) {
            var I = Math.round(Y[0][2] * (1e4 / 254));
            H.pHYs = [I, I, 1]
        }
        var E = q[0]
            , d = E == 100 ? 0 : Math.max(2, Math.floor(E * 5));
        if (d == 5)
            d = 4;
        var B = []
            , n = [];
        for (var G = 0; G < Y.length; G++) {
            B.push(Y[G][0]);
            n.push(Y[G][1])
        }
        var g = UPNG.encode(B, S, h, d, n, H, q[1]);
        return g
    }
        ;
    eD.jV.ae8 = function (Y, S, h) {
        return UPNG.encodeLL([Y], S, h, 3, 1, 8)
    }
        ;
    eD.jV.C3 = function (Y) {
        var S = Date.now()
            , h = UPNG.decode(Y)
            , q = UPNG.toRGBA8(h)
            , H = h.width
            , I = h.height
            , E = 0;
        if (h.tabs.pHYs)
            E = Math.round(h.tabs.pHYs[0] * 254 / 1e4);
        if (q.length == 1)
            return [{
                jJ: new W(0, 0, H, I),
                data: q[0],
                PW: E
            }];
        var d = [];
        for (var G = 0; G < q.length; G++) {
            d.push({
                Sd: "_a_frm" + G + "," + h.frames[G].delay,
                jJ: new W(0, 0, H, I),
                data: q[G],
                PW: E
            })
        }
        return d
    }
        ;
    eD.ir = {};
    eD.ir.rr = function (Y, S, h, q) {
        var H = new Uint8Array(Y[0][0])
            , I = S * h
            , E = I * 3
            , d = "P6\n" + S + " " + h + "\n255\n"
            , B = d.length
            , n = t.m(B + E, !0);
        for (var G = 0; G < B; G++)
            n[G] = d.charCodeAt(G);
        for (var G = 0; G < I; G++) {
            var g = G * 4
                , z = G * 3 + B;
            n[z] = H[g];
            n[z + 1] = H[g + 1];
            n[z + 2] = H[g + 2]
        }
        return n.buffer
    }
        ;
    eD.ir.C3 = function (Y) {
        Y = new Uint8Array(Y);
        var S = [" ".charCodeAt(0), "\n".charCodeAt(0), "\t".charCodeAt(0), "\r".charCodeAt(0)]
            , h = 0
            , q = String.fromCharCode(Y[0]) + String.fromCharCode(Y[1])
            , H = []
            , I = 0
            , E = q == "P1" || q == "P4" ? 2 : 3;
        for (h = 2; h < Y.length; h++) {
            var d = Y[h]
                , B = String.fromCharCode(d);
            if (d == "#".charCodeAt(0)) {
                while (Y[h] != "\n".charCodeAt(0))
                    h++;
                continue
            }
            var n = S.indexOf(d) != -1;
            if (I == 0 && !n) {
                H.push(B);
                I = 1;
                continue
            }
            if (I == 1 && !n) {
                H[H.length - 1] += B;
                continue
            }
            if (I == 1 && n) {
                I = 0;
                if (H.length == E)
                    break;
                continue
            }
        }
        var g = parseInt(H[0])
            , z = parseInt(H[1])
            , p = g * z * 4
            , C = q == "P1" || q == "P4" ? 1 : 255 / parseInt(H[2])
            , T = t.m(p);
        if (q == "P1" || q == "P2" || q == "P3") {
            var A = ""
                , i = 0
                , I = 0
                , e = "#".charCodeAt(0);
            for (var G = h; G < Y.length; G++) {
                var d = Y[G]
                    , B = String.fromCharCode(d)
                    , n = S.indexOf(d) != -1;
                if (d == e) {
                    while (Y[G] != "\n".charCodeAt(0))
                        G++
                } else if (I == 0 && !n) {
                    A = B;
                    I = 1
                } else if (I == 1) {
                    if (n) {
                        I = 0;
                        var a = parseInt(A);
                        A = "";
                        if (q == "P1") {
                            T[i] = T[i + 1] = T[i + 2] = (1 - a) * 255;
                            T[i + 3] = 255;
                            i += 4
                        }
                        if (q == "P2") {
                            T[i] = T[i + 1] = T[i + 2] = Math.round(a * C);
                            T[i + 3] = 255;
                            i += 4
                        }
                        if (q == "P3") {
                            T[i] = Math.round(a * C);
                            i++;
                            if ((i & 3) == 3) {
                                T[i] = 255;
                                i++
                            }
                        }
                    } else
                        A += B
                }
            }
        }
        var Z = g * z;
        if (q == "P4")
            for (var O = 0; O < z; O++) {
                var c = O * 8 * Math.ceil(g / 8);
                for (var s = 0; s < g; s++) {
                    var G = c + s
                        , x = Y[h + 1 + (G >> 3)];
                    x = x >> 7 - (G & 7) & 1;
                    var u = O * g + s << 2;
                    T[u] = T[u + 1] = T[u + 2] = (1 - x) * 255;
                    T[u + 3] = 255
                }
            }
        if (q == "P5")
            for (var G = 0; G < Z; G++) {
                var u = 4 * G;
                T[u] = T[u + 1] = T[u + 2] = Math.round(Y[h + 1 + G] * C);
                T[u + 3] = 255
            }
        if (q == "P6")
            for (var G = 0; G < Z; G++) {
                var u = 4 * G
                    , y = h + 1 + 3 * G;
                T[u] = Math.round(Y[y] * C);
                T[u + 1] = Math.round(Y[y + 1] * C);
                T[u + 2] = Math.round(Y[y + 2] * C);
                T[u + 3] = 255
            }
        return [{
            jJ: new W(0, 0, g, z),
            data: T.buffer
        }]
    }
        ;
    eD.Dm = {};
    eD.Dm.rr = function (Y, S, h, q) {
        var H = new Uint8Array(Y[0][0]);
        if ((S & 3) != 0 || (h & 3) != 0) {
            var I = S + (4 - (S & 3))
                , E = h + (4 - (h & 3))
                , d = new Uint8Array(I * E * 4);
            t.A5(d, 4278190080);
            t.rd(H, new W(0, 0, S, h), d, new W(0, 0, I, E));
            H = d;
            S = I;
            h = E
        }
        return UTEX.DDS.encode(H.buffer, S, h)
    }
        ;
    eD.Dm.C3 = function (Y) {
        var S = UTEX.DDS.decode(Y)[0];
        return [{
            jJ: new W(0, 0, S.width, S.height),
            data: S.image
        }]
    }
        ;
    eD.ab = {};
    eD.ab.C3 = function (Y) {
        var S = UTEX.VTF.decode(Y).pop();
        return [{
            jJ: new W(0, 0, S.width, S.height),
            data: S.image
        }]
    }
        ;
    eD.mO = {};
    eD.mO.RA = null;
    eD.mO.a9Y = function (Y, S) {
        var h = eD.mO.RA
            , q = Y.byteLength
            , H = S.width
            , I = S.height
            , E = H * I
            , d = 5e6 + 2 * q + E * (S.progressive ? Math.max(2, S.numComponents) * 4 + 1 : 8)
            , B = h.instance.exports
            , n = B.memory.buffer.byteLength;
        if (n < d)
            B.memory.grow(d - n >>> 16);
        var g = new Uint8Array(B.memory.buffer)
            , z = B.malloc(q);
        g.set(new Uint8Array(Y), z);
        var p = B.malloc(4)
            , C = B.malloc(4)
            , D = B.malloc(4)
            , T = B.stbi_load_from_memory(z, q, p, C, D, 4);
        B.free(z);
        B.free(p, C, D);
        B.free(T);
        var A = g.slice(T, T + E * 4);
        return A
    }
        ;
    (function () {
        var Y = eD.wg.get("wasm/jpg").buffer;
        if (window.WebAssembly == null)
            window.alert("Your browser is too old. Please, update it.");
        WebAssembly.instantiate(Y).then(function (S) {
            eD.mO.RA = S
        })
    }());
    eD.mO.rr = function (Y, S, h, q) {
        if (q == null)
            q = [70];
        var H = Y[0]
            , I = new Uint8Array(H[0]);
        if (t.eM(I)) {
            var E = new Uint8Array(I.length)
                , d = new W(0, 0, S, h);
            t.A5(E, 4294967295);
            t.Q.Bc("norm", I, d, E, d, d, 1);
            I = E
        }
        var B = new Uint8Array(eD.lK(I.buffer, S, h, "jpeg", q[0] / 100));
        if (H[2] != null) {
            var n = eD.mO.kZ(B)[224][0] + 2;
            n += 9;
            B[n] = 1;
            k.gp(B, n + 1, H[2]);
            k.gp(B, n + 3, H[2])
        }
        if (H[3] != null && q[1] == !0 && Object.keys(H[3]).length != 0) {
            var g = 0
                , z = 0
                , p = 0
                , C = dc.ay(H[3])
                , T = new Uint8Array(UTIF.encode([C]))
                , A = "http://ns.adobe.com/xap/1.0/"
                , Z = 0
                , s = 0
                , v = 20;
            g = 4 + 6 + T.length;
            var i = dc.H$(H[3])
                , e = k.gN(i);
            z = 4 + A.length + 1 + e.length;
            var a = dc.ak6(H[3]);
            for (var G = 0; G < a.length; G++)
                Z += 5 + a[G][1].length;
            var O = Z + (Z & 1)
                , c = t.m(14 + 4 + 2 + 4 + O);
            k.St(c, s, "Photoshop 3.0");
            s += 14;
            k.St(c, s, "8BIM");
            s += 4;
            c[s++] = 4;
            c[s++] = 4;
            s += 2;
            k._6(c, s, Z);
            s += 4;
            for (var G = 0; G < a.length; G++) {
                var x = a[G]
                    , u = x[1];
                c[s++] = 28;
                c[s++] = 2;
                c[s++] = x[0];
                k.gp(c, s, u.length);
                s += 2;
                k.St(c, s, u);
                s += u.length
            }
            p = 4 + c.length;
            var y = g + z + p
                , j = new Uint8Array(B.length + y);
            for (var G = 0; G < 20; G++)
                j[G] = B[G];
            for (var G = 20; G < B.length; G++)
                j[G + y] = B[G];
            j[v] = 255;
            j[v + 1] = 225;
            k.gp(j, v + 2, g - 2);
            k.St(j, v + 4, "Exif");
            for (var G = 0; G < T.length; G++)
                j[v + 10 + G] = T[G];
            v += g;
            j[v] = 255;
            j[v + 1] = 225;
            k.gp(j, v + 2, z - 2);
            k.St(j, v + 4, A);
            for (var G = 0; G < e.length; G++)
                j[v + 4 + A.length + 1 + G] = e[G];
            v += z;
            j[v] = 255;
            j[v + 1] = 237;
            k.gp(j, v + 2, p - 2);
            for (var G = 0; G < c.length; G++)
                j[v + 4 + G] = c[G];
            v += p;
            B = j
        }
        return B.buffer
    }
        ;
    eD.mO.kZ = function (Y) {
        var S = 0
            , h = []
            , q = Y.length;
        while (S < q) {
            while (Y[S] == 255)
                S++;
            var H = Y[S];
            S++;
            if (h[H] == null)
                h[H] = [];
            h[H].push(S - 2);
            if (H == 216)
                continue;
            if (H == 217)
                break;
            if (224 <= H && H <= 239 || H == 218 || H == 219 || H == 192 || H == 193 || H == 194 || H == 196 || H == 221 || H == 254) {
                var I = k.PX(Y, S);
                S += I;
                if (H == 218)
                    while (S < q && (Y[S] != 255 || (Y[S + 1] == 0 || 208 <= Y[S + 1] && Y[S + 1] <= 215)))
                        S++;
                continue
            }
            console.log("unknown marker ", H.toString(16), S);
            break
        }
        if (h[217] == null) {
            console.log("EOI marker missing");
            var E = Y.length - 2;
            Y[E] = 255;
            Y[E + 1] = 217;
            h[217] = [E]
        }
        return h
    }
        ;
    eD.mO.abn = function (Y) {
        Y = new Uint8Array(Y);
        if (Y[0] != 255)
            return Y.buffer;
        var S = eD.mO.kZ(Y)
            , h = eD.mO.iW(Y, S);
        if (h.numComponents != 4)
            return Y.buffer;
        var q = h.width
            , H = h.height
            , I = eD.mO.Sn(Y, S, !0);
        return eD.mO.rr([[I[0].data]], q, H, [85])
    }
        ;
    eD.mO.iW = function (Y, S) {
        var h = (S[192] ? S[192] : S[193] ? S[193] : S[194])[0] + 4
            , q = {};
        q.progressive = S[194] != null;
        q.precision = Y[h];
        h++;
        q.height = k.PX(Y, h);
        h += 2;
        q.width = k.PX(Y, h);
        h += 2;
        q.numComponents = Y[h];
        h++;
        if (S[224]) {
            var H = q.jfif = {};
            h = S[224][0] + 2 + 2 + 5 + 2;
            H.densityUnits = Y[h];
            h++;
            H.xDensity = k.PX(Y, h);
            h += 2;
            H.yDensity = k.PX(Y, h);
            h += 2
        }
        if (S[238]) {
            var H = q.adobe = {};
            h = S[238][0] + 2 + 2 + 6;
            H.version = Y[h];
            h++;
            H.flags0 = k.PX(Y, h);
            h += 2;
            H.flags1 = k.PX(Y, h);
            h += 2;
            H.transform = Y[h];
            h++
        }
        return q
    }
        ;
    eD.mO.a1d = function (Y, S, h) {
        var q = S
            , H = k.PX(Y, q);
        q += 2;
        var I = k.Fe(Y, q, 4);
        if (I == "Exif") {
            q += 6;
            var E = Y.slice(q, q + H - 8), d;
            try {
                d = UTIF.decode(E.buffer, {
                    parseMN: !1,
                    debug: !1
                })
            } catch (gx) { }
            if (d)
                h.exif = d
        } else if (I == "http") {
            var B = 0;
            while (Y[q + B] != 0)
                B++;
            var n = k.Fe(Y, q, B);
            q += B + 1;
            if (n == "http://ns.adobe.com/xmp/extension/") {
                var g = k.Fe(Y, q, 32);
                q += 32;
                q += 8;
                var z = S + H - q;
                while (Y[q + z - 1] == 0)
                    z--;
                if (h.xmp_extn == null)
                    h.xmp_extn = "";
                try {
                    h.xmp_extn += k.Dt(Y, q, z)
                } catch (gx) { }
            } else if (n == "http://ns.adobe.com/xap/1.0/") {
                var p = k.Dt(Y.slice(q, q + H - B - 3));
                if (p[0] == "?")
                    p = "<" + p;
                h.xmp = p
            }
        } else
            console.log(I)
    }
        ;
    eD.mO.Sn = function (Y, S, h) {
        var q = eD.mO.iW(Y, S), H = q.width, I = q.height, E = H * I, d, B = -1, A = 72, i;
        if (q.adobe)
            B = q.adobe.transform;
        if (h || H * I > 15e7 || B == 0 || B == 2) {
            var n = new PDFJS.JpegImage;
            n.parse(Y);
            var g = n.getData({
                width: H,
                height: I,
                forceRGB: !0,
                isSourcePDF: h
            })
                , d = t.m(E * 4);
            for (var G = 0; G < E; G++) {
                var z = G << 2
                    , p = z - G;
                d[z] = g[p];
                d[z + 1] = g[p + 1];
                d[z + 2] = g[p + 2];
                d[z + 3] = 255
            }
        } else {
            d = eD.mO.a9Y(Y.buffer, q)
        }
        var C = S[225];
        if (C)
            for (var G = 0; G < C.length; G++)
                eD.mO.a1d(Y, C[G] + 2, q);
        var T = S[217][0] + 2;
        if (T != Y.length)
            q.suffix = Y.slice(T);
        var e = [H, I, 1, 0, 0, 0, 1, 0];
        if (q.jfif && q.jfif.densityUnits != 0) {
            A = Math.round([72, 1, 2.54][q.jfif.densityUnits] * q.jfif.xDensity)
        } else if (q.exif && q.exif[0].t282 != null) {
            var a = q.exif[0].t282[0];
            A = a[0] / a[1]
        }
        if (q.exif) {
            var Z = q.exif;
            i = dc.aB(Z[0]);
            var O = Z[0].t274;
            if (O)
                O = O[0];
            if (O != null && O > 1 && O < 20)
                e = t.raw.aI(O, H, I)
        }
        if (q.xmp) {
            i = dc.Xv(q.xmp, i)
        }
        var c = S[237]
            , s = []
            , x = [];
        if (c) {
            var u = new Uint8Array(65536)
                , y = 0
                , j = 0;
            for (var G = 0; G < c.length; G++) {
                j = c[G] + 2;
                var v = j + k.PX(Y, j);
                j += 2;
                var X = j;
                while (Y[j] != 0)
                    j++;
                j++;
                var N = k.Fe(Y, X, j - X - 1)
                    , V = v - j;
                while (y + V > u.length) {
                    var $ = new Uint8Array(u.length * 2);
                    $.set(u);
                    u = $
                }
                var w = new Uint8Array(Y.buffer, j, V);
                u.set(w, y);
                y += V
            }
            j = 0;
            Y = u;
            while (j < y) {
                var m = k.Fe(Y, j, 4);
                j += 4;
                if (m != "8BIM" && m != "AgHg" && m != "PHUT" && m != "DCSR")
                    throw m;
                var l = k.PX(Y, j);
                j += 2;
                var b = Y[j++]
                    , K = k.Fe(Y, j, b);
                j += b;
                if ((b & 1) == 0)
                    j++;
                var J = k.n(Y, j);
                j += 4;
                var T = j + J + (J & 1);
                if (l == 1028) {
                    while (j + 4 < T) {
                        var R = Y[j++]
                            , r = Y[j++]
                            , f = Y[j++]
                            , gf = k.PX(Y, j);
                        j += 2;
                        if (R == 28 && r == 2)
                            s.push([f, k.Fe(Y, j, gf)]);
                        j += gf
                    }
                } else if ((l & 2e3) == 2e3) {
                    var aa = e$.ix(Y, j, J);
                    x.push([K, aa])
                } else { }
                j = T
            }
            if (s.length != 0)
                i = dc.a7X(s, i)
        }
        var aA = [{
            jJ: new W(0, 0, H, I),
            data: d.buffer,
            PW: A,
            wH: i,
            dJ: x.length == 0 ? null : x
        }]
            , i = q.xmp_extn;
        if (i) {
            var e5 = new DOMParser
                , fk = e5.parseFromString(i, "image/svg+xml")
                , fk = fk.children[0].children[0].children[0]
                , o = [fk.getAttribute("GImage:Data"), fk.getAttribute("GDepth:Data")];
            for (var G = 0; G < o.length; G++)
                if (o[G]) {
                    var eY = atob(o[G])
                        , du = new Uint8Array(eY.length);
                    k.St(du, 0, eY);
                    du = du.buffer;
                    var dV = eD.hj(du)
                        , hy = eD.Oh(dV).C3(du);
                    aA.push(hy[0])
                }
        }
        if (q.suffix) {
            var bq = q.suffix
                , i5 = k.Fe(bq, 4, 4)
                , hX = k.Qq(bq, String.fromCharCode(255) + String.fromCharCode(216) + String.fromCharCode(255));
            if (eD.E4(bq, [0, 0, 1, 10, 14, 0, 0, 0])) {
                var j = 0;
                while (j != bq.length) {
                    var bY = k.Gz(bq, j + 2);
                    j += 4;
                    var ds = {
                        2272: 12,
                        2320: 21,
                        2561: 13,
                        2625: 21,
                        2721: 3,
                        2608: 0
                    }[bY];
                    if (ds != null) {
                        var hV = k.iV(bq, j);
                        j += 4;
                        var gF = k.Fe(bq, j, hV);
                        j += hV;
                        var co = k.Fe(bq, j, ds);
                        j += ds;
                        if (bY == 2608) {
                            var c_ = k.n(bq, j + 24);
                            j += c_ + 24;
                            var a5 = k.n(bq, j);
                            j += a5;
                            alert("Photopea found a " + ac.Fd(c_) + " MP4 video inside your image.", 4e3)
                        }
                    } else if (bY == 18502) {
                        while (k.Fe(bq, j, 4) != "SEFT")
                            j += 4;
                        j += 4
                    } else {
                        break;
                        console.log(k.f3(bq, j, 128));
                        console.log(bq.slice(j));
                        throw bY.toString(16)
                    }
                }
            } else if (i5 == "ftyp") {
                alert("Photopea found a " + ac.Fd(bq.length) + " MP4 video inside your image.", 4e3)
            } else if (k.Fe(bq, 0, 4) == "fixe") {
                alert("Unknown data - " + bq.length + " B - at the end of the file", 3e3);
                var j = 4
                    , J = k.iV(bq, j);
                j += 4;
                var gb = k.iV(bq, j);
                j += 4;
                var iC = k.iV(bq, j);
                j += 4;
                console.log(J, gb, iC, bq.slice(j, j + 84));
                j += 84;
                var cC = k.Fe(bq, j, 32);
                j += 32;
                j += 8;
                var cC = k.Fe(bq, j, 32);
                j += 32
            } else if (k.Fe(bq, 8, 13) == "FocusShot_Map") {
                var aB = k.n(bq, 0)
                    , gf = k.iV(bq, 4)
                    , du = t.m(E * 4)
                    , cd = t.m(E * 4);
                for (var dZ = 0; dZ < I; dZ++)
                    for (var en = 0; en < H; en++) {
                        var G = dZ * H + en
                            , z = G << 2
                            , cD = 8 + 13 + ((dZ >>> 1) * H + en >>> 1)
                            , hP = bq[cD]
                            , ea = bq[cD + (E >>> 2)];
                        du[z] = du[z + 1] = du[z + 2] = hP;
                        du[z + 3] = 255;
                        cd[z] = cd[z + 1] = cd[z + 2] = ea;
                        cd[z + 3] = 255
                    }
                aA.push({
                    jJ: new W(0, 0, H, I),
                    data: du.buffer
                }, {
                    jJ: new W(0, 0, H, I),
                    data: cd.buffer
                })
            } else if (i5 == "edof") {
                var O = bq[8 + 7];
                console.log(O.toString(16));
                var j = 8 + 16
                    , fp = k.Gz(bq, j)
                    , bC = k.Gz(bq, j + 2)
                    , E = fp * bC;
                j += 4;
                j += 32 + 16;
                var hG = t.m(E * 4);
                for (var G = 0; G < E; G++) {
                    var z = G << 2;
                    hG[z] = hG[z + 1] = hG[z + 2] = bq[j + G];
                    hG[z + 3] = 255
                }
                if (O == 16) { } else if (O == 19) {
                    var b3 = hG.slice(0);
                    t.I.N6(hG, b3, fp, bC);
                    var ct = fp;
                    fp = bC;
                    bC = ct;
                    t.I.aj9(b3, hG, fp, bC)
                } else
                    throw "Unknown orientation of a depth map";
                aA.push({
                    jJ: new W(0, 0, fp, bC),
                    data: hG.buffer
                })
            } else if (hX != -1 && !(bq[0] == 255 && bq[1] == 129)) {
                try {
                    if (hX != 0)
                        bq = bq.slice(hX);
                    var hy = eD.Oh("jpg").C3(bq.buffer);
                    for (var G = 0; G < hy.length; G++)
                        aA.push(hy[G])
                } catch (gx) { }
            }
        }
        if (aA.length > 1) {
            var fQ = aA[0].jJ;
            aA[0].Sd = "Main";
            for (var G = 1; G < aA.length; G++) {
                aA[G].Sd = eD.mO.ae4(new Uint8Array(aA[G].data)) ? "Depth Map" : null;
                var cj = aA[G].jJ;
                if (!cj.ma(fQ)) {
                    var fJ = fQ.d / cj.d
                        , cM = fQ.v / cj.v
                        , cc = new d5;
                    cc.scale(fJ, cM);
                    var cr = U.o.Hz([new Uint8Array(aA[G].data), cj], 1, t.I.gA(cc));
                    aA[G].jJ = cr.rect;
                    aA[G].data = cr.buffer
                }
            }
        }
        if (eD.mO.a3 == 1)
            if (e[2] != 1 || e[6] != 1)
                for (var G = 0; G < aA.length; G++) {
                    var bZ = aA[G]
                        , eb = new Uint8Array(bZ.data)
                        , H = bZ.jJ.d
                        , I = bZ.jJ.v
                        , fp = e[0]
                        , bC = e[1]
                        , d = t.m(fp * bC * 4);
                    t.I.cw(eb, H, I, d, e);
                    bZ.jJ = new W(0, 0, fp, bC);
                    bZ.data = d.buffer
                }
        return aA
    }
        ;
    eD.mO.ae4 = function (Y) {
        var S = !0;
        for (var G = 0; G < Y.length; G += 4) {
            S = S && Y[G] == Y[G + 1] && Y[G + 1] == Y[G + 2]
        }
        return S
    }
        ;
    eD.mO.a3 = 0;
    eD.mO.C3 = function (Y, S, h) {
        
        Y = new Uint8Array(Y);
        if (Y[0] == 255) {
            var q = eD.mO.kZ(Y);
            if (q[195] == null) {
                eD.mO.a3++;
                var H = eD.mO.Sn(Y, q, !1);
                eD.mO.a3--;
                return H
            }
            var I = k.PX(Y, q[195][0] + 5)
                , E = k.PX(Y, q[195][0] + 7)
                , d = UTIF.LosslessJpegDecode(Y)
                , B = E * I
                , n = t.m(B * 4);
            for (var G = 0; G < B; G++) {
                var g = G << 2
                    , z = g - G;
                n[g] = d[z];
                n[g + 1] = d[z + 1];
                n[g + 2] = d[z + 2];
                n[g + 3] = 255
            }
            return [{
                jJ: new W(0, 0, E, I),
                data: n.buffer
            }]
        } else if (Y[0] == 0 && Y[4] == 48 && Y[6] == 1) {
            var p = Y
                , C = new PDFJS.Jbig2Image
                , T = [];
            if (S)
                T.push({
                    data: S,
                    start: 0,
                    end: S.length
                });
            T.push({
                data: p,
                start: 0,
                end: p.length
            });
            var d = C.parseChunks(T);
            if (!h)
                for (var G = 0; G < d.length; G++)
                    d[G] = ~d[G];
            var E = k.n(Y, 11)
                , I = k.n(Y, 15)
                , A = Math.ceil(E / 8)
                , i = t.m(E * I * 4);
            for (var e = 0; e < I; e++) {
                var a = e * A;
                for (var Z = 0; Z < E; Z++) {
                    var g = (e * E + Z) * 4
                        , O = d[a + (Z >>> 3)] >>> 7 - (Z & 7) & 1
                        , c = O * 255;
                    i[g] = c;
                    i[g + 1] = c;
                    i[g + 2] = c;
                    i[g + 3] = 255
                }
            }
            return [{
                jJ: new W(0, 0, E, I),
                data: i.buffer
            }]
        } else {
            var C = new PDFJS.JpxImage;
            C.parse(Y);
            var E = C.width
                , I = C.height
                , s = C.tiles
                , x = C.componentsCount
                , u = new Uint8Array(E * I * 4)
                , y = new W(0, 0, E, I);
            for (var C = 0; C < s.length; C++) {
                var j = s[C]
                    , v = j.width
                    , X = j.height
                    , N = v * X
                    , cs = j.items
                    , V = new W(j.left, j.top, v, X)
                    , $ = new Uint8Array(N * 4);
                if (x == 1)
                    for (var G = 0; G < N; G++) {
                        var w = cs[G]
                            , g = G * 4;
                        $[g] = w;
                        $[g + 1] = w;
                        $[g + 2] = w;
                        $[g + 3] = 255
                    }
                else if (x == 3)
                    for (var G = 0; G < N; G++) {
                        var z = G * 3
                            , g = G * 4;
                        $[g] = cs[z];
                        $[g + 1] = cs[z + 1];
                        $[g + 2] = cs[z + 2];
                        $[g + 3] = 255
                    }
                else
                    console.log("Unknown number of components: " + x);
                t.rd($, V, u, y)
            }
            return [{
                jJ: y,
                data: u.buffer
            }]
        }
    }
        ;
    eD.FZ = {};
    eD.FZ.rr = function (Y, S, h, q) {
        if (q == null)
            q = [70, 0, 0, 0];
        var H = q[0] / 100
            , B = 0;
        if (Y.length == 1)
            return eD.lK(Y[0][0], S, h, "webp", H);
        var I = k.pR
            , E = k.X9
            , d = new i6;
        I(d, B, "RIFF    WEBPVP8X");
        B += 16;
        E(d, B, 10);
        B += 4;
        E(d, B, 18);
        B += 4;
        E(d, B, S - 1);
        B += 3;
        E(d, B, h - 1);
        B += 3;
        I(d, B, "ANIM");
        B += 4;
        E(d, B, 6);
        B += 4;
        d.$r(B, 4);
        d.data[B + 3] = 255;
        k._u(d, B + 4, q[2]);
        B += 6;
        var n = [];
        for (var G = 0; G < Y.length; G++) {
            n.push(Y[G][0])
        }
        var g = UPNG.encode.compress(n, S, h, H == 1 ? 0 : Math.max(2, Math.floor(H * 500)), [!1, !0, !0, 0, !0]).frames;
        for (var G = 0; G < Y.length; G++) {
            I(d, B, "ANMF");
            B += 4;
            var z = B;
            B += 4;
            var p = g[G]
                , C = p.rect
                , T = [C.x >>> 1, C.y >>> 1, C.width - 1, C.height - 1, Y[G][1]];
            for (var A = 0; A < 5; A++)
                E(d, B + 3 * A, T[A]);
            B += 15;
            d.$r(B, 1);
            d.data[B] = 1 - p.blend << 1 | p.dispose;
            B++;
            var i = new Uint8Array(eD.lK(p.img.buffer, C.width, C.height, "webp", 1))
                , e = dY.z7(i.buffer).sub
                , a = k.Fe(i, 12, 4);
            if (a != "VP8L" && a != "VP8 " && a != "VP8X")
                throw "e";
            var Z = a == "VP8 " ? 0 : a == "VP8L" ? 12 : 30
                , O = i.length - Z;
            d.$r(B, O);
            for (var A = 0; A < O; A++)
                d.data[B + A] = i[Z + A];
            B += O;
            var c = B - z - 4;
            E(d, z, c);
            if ((c & 1) == 1) {
                d.$r(B, 1);
                B++
            }
        }
        E(d, 4, B - 8);
        return d.data.slice(0, B).buffer
    }
        ;
    (function () {
        var Y = eD.wg.get("wasm/webp").buffer;
        WebAssembly.instantiate(Y).then(function (S) {
            var h = S.instance.exports;
            eD.FZ.exp = h
        })
    }());
    eD.FZ.C3 = function (Y) {
        var S = new Uint8Array(Y)
            , h = eD.FZ.abR
            , q = null
            , H = dY.z7(Y).sub
            , I = {};
        for (var G = 0; G < H.length; G++)
            I[H[G]._z] = H[G];
        var E = I.ANIM
            , d = I.VP8L
            , B = I["VP8 "]
            , n = I.VP8X;
        if (E == null) {
            var g, z;
            if (B) {
                g = k.Gz(S, B.T + 6);
                z = k.Gz(S, B.T + 8)
            } else if (d) {
                var p = k.iV(S, d.T + 1);
                g = (p & (1 << 14) - 1) + 1;
                z = (p >>> 14 & (1 << 14) - 1) + 1
            } else
                throw "e";
            var C = [h(q, Y, {
                T: 0,
                size: S.length
            }, g, z)];
            return C
        }
        var T = n.T
            , g = 1 + (k.iV(S, T + 4) & 16777215)
            , z = 1 + (k.iV(S, T + 7) & 16777215)
            , A = []
            , i = new W(0, 0, g, z)
            , e = t.m(g * z * 4);
        for (var G = 0; G < H.length; G++) {
            var a = H[G];
            if (a._z != "ANMF")
                continue;
            var Z = [];
            for (var O = 0; O < 5; O++)
                Z.push(k.iV(S, a.T + O * 3) & 16777215);
            var c = new W(Z[0] * 2, Z[1] * 2, Z[2] + 1, Z[3] + 1)
                , s = Z[4]
                , x = h(q, Y, {
                    T: a.T + 16,
                    size: a.size - 16
                }, g, z)
                , u = new Uint8Array(x.data)
                , y = S[a.T + 15];
            if (y >>> 1 == 0)
                t.Q.Bc("norm", u, c, e, i, c, 1);
            else
                t.rd(u, c, e, i);
            A.push({
                Sd: "_a_" + A.length + "," + s,
                jJ: i.clone(),
                data: e.buffer.slice(0)
            });
            if ((y & 1) == 1) {
                t.A5(u, 0);
                t.rd(u, c, e, i)
            }
        }
        return A
    }
        ;
    eD.FZ.abR = function (Y, S, h, q, H) {
        var I = eD.FZ.exp
            , E = 5e6 + 2 * h.size + q * H * 10
            , d = I.memory
            , B = d.buffer.byteLength;
        if (B < E) {
            I.memory.grow((E - B >>> 16) + 1)
        }
        var n = new Uint8Array(d.buffer)
            , g = I.malloc(h.size);
        n.set(new Uint8Array(S, h.T, h.size), g);
        var z = I.malloc(8)
            , p = I.WebPDecodeARGB(g, h.size, z, z + 4)
            , C = k.iV(n, z)
            , T = k.iV(n, z + 4)
            , A = C * T * 4
            , i = t.m(A);
        for (var G = 0; G < A; G += 4) {
            i[G] = n[p + G + 1];
            i[G + 1] = n[p + G + 2];
            i[G + 2] = n[p + G + 3];
            i[G + 3] = n[p + G]
        }
        I.WebPFree(p);
        I.free(z);
        I.free(g);
        return {
            jJ: new W(0, 0, C, T),
            data: i.buffer
        }
    }
        ;
    eD.a6U = function () {
        function Y(d, B, n, g) {
            var z = new Uint8Array(d[0][0])
                , p = new Uint32Array(z.buffer)
                , C = []
                , T = {}
                , i = 24
                , e = 0
                , s = 0;
            for (var G = 0; G < p.length; G++) {
                var A = p[G] & 16777215;
                if (T[A] == null) {
                    T[A] = C.length;
                    C.push(A);
                    if (C.length > 256) {
                        C = null;
                        break
                    }
                }
            }
            if (C) {
                i = 1;
                while (1 << i < C.length)
                    i *= 2;
                if (i == 2)
                    i = 4
            }
            var a = {
                rz: B,
                UR: n,
                Ge: 1,
                yf: i,
                _X: 0,
                a5G: e
            }
                , Z = 4 * Math.floor((a.yf * a.rz + 31) / 32);
            a.size = Z * a.UR + 2;
            var O = new i6
                , c = C ? (1 << i) * 4 : 0;
            k.pR(O, s, "BM");
            s += 2;
            k.X9(O, s, Z * n + 16 + 40 + c);
            s += 4;
            k.X9(O, s, 0);
            s += 4;
            k.X9(O, s, 54 + c);
            s += 4;
            O.$r(s, 40);
            k.X9(O, s, 40);
            s += 4;
            E(O.data, s, a, Z);
            s += 36;
            if (C) {
                O.$r(s, c);
                var x = O.data;
                for (var G = 0; G < C.length; G++) {
                    var u = s + G * 4
                        , y = C[G] >>> 16
                        , j = C[G] >>> 8 & 255
                        , v = C[G] & 255;
                    x[u] = y;
                    x[u + 1] = j;
                    x[u + 2] = v
                }
                s += c
            }
            O.$r(s, Z * n);
            if (i == 24)
                for (var X = 0; X < n; X++) {
                    var N = s + (n - 1 - X) * Z;
                    for (var V = 0; V < B; V++) {
                        var $ = (X * B + V) * 4;
                        O.data[N + V * 3 + 2] = z[$];
                        O.data[N + V * 3 + 1] = z[$ + 1];
                        O.data[N + V * 3 + 0] = z[$ + 2]
                    }
                }
            else if (i == 8)
                for (var X = 0; X < n; X++) {
                    var N = s + (n - 1 - X) * Z;
                    for (var V = 0; V < B; V++) {
                        var $ = X * B + V
                            , w = T[p[$] & 16777215];
                        O.data[N + V] |= w
                    }
                }
            else if (i == 4)
                for (var X = 0; X < n; X++) {
                    var N = s + (n - 1 - X) * Z;
                    for (var V = 0; V < B; V++) {
                        var $ = X * B + V
                            , w = T[p[$] & 16777215];
                        O.data[N + (V >>> 1)] |= w << 4 - (V & 1) * 4
                    }
                }
            else if (i == 1)
                for (var X = 0; X < n; X++) {
                    var N = s + (n - 1 - X) * Z;
                    for (var V = 0; V < B; V++) {
                        var $ = X * B + V
                            , w = T[p[$] & 16777215];
                        O.data[N + (V >>> 3)] |= w << 7 - (V & 7)
                    }
                }
            s += Z * n + 2;
            return O.data.slice(0, s).buffer
        }
        function S(d) {
            d = new Uint8Array(d);
            if (k.iV(d, 0) == 40)
                return [h(d.buffer, 0)];
            var B = 0
                , n = k.Fe(d, B, 2);
            B += 2;
            if (n != "BM") {
                alert("Unsupported BMP format: " + n);
                return
            }
            var g = k.iV(d, B);
            B += 4;
            B += 4;
            var z = k.iV(d, B);
            B += 4;
            return [h(d.buffer, B, z)]
        }
        function h(d, B, n) {
            d = new Uint8Array(d);
            var g = k.iV(d, B)
                , z = I(d, B + 4);
            if (z.Ge != 1)
                alert("unsupported number of color planes: " + z.Ge);
            if (z._X != 0 && z._X != 1 && z._X != 2 && z._X != 3) {
                alert("Unsupported BMP compression: " + z._X);
                return
            }
            B += g;
            var p = B
                , C = d;
            if (n == null)
                n = B;
            if (z._X == 1 || z._X == 2) {
                var T = H(d, n, z);
                z.yf = 8;
                d = T;
                n = 0
            }
            var A = 4 * Math.floor((z.yf * z.rz + 31) / 32)
                , i = z.rz
                , e = Math.abs(z.UR)
                , a = new Uint8Array(i * e * 4);
            a.fill(255);
            if (z.yf == 32)
                for (var Z = 0; Z < e; Z++) {
                    var O = n + (e - 1 - Z) * A;
                    for (var c = 0; c < i; c++) {
                        var s = (Z * i + c) * 4;
                        a[s] = d[O + c * 4 + 2];
                        a[s + 1] = d[O + c * 4 + 1];
                        a[s + 2] = d[O + c * 4 + 0];
                        a[s + 3] = d[O + c * 4 + 3]
                    }
                }
            else if (z.yf == 24)
                for (var Z = 0; Z < e; Z++) {
                    var O = n + (e - 1 - Z) * A;
                    for (var c = 0; c < i; c++) {
                        var s = (Z * i + c) * 4;
                        a[s] = d[O + c * 3 + 2];
                        a[s + 1] = d[O + c * 3 + 1];
                        a[s + 2] = d[O + c * 3 + 0]
                    }
                }
            else if (z.yf == 16)
                for (var Z = 0; Z < e; Z++) {
                    var O = n + (e - 1 - Z) * A;
                    for (var c = 0; c < i; c++) {
                        var s = (Z * i + c) * 4
                            , x = d[O + c * 2 + 1] << 8 | d[O + c * 2];
                        a[s] = (x >>> 11) * (255 / 31);
                        a[s + 1] = (x >>> 5 & 63) * (255 / 63);
                        a[s + 2] = (x & 31) * (255 / 31)
                    }
                }
            else if (z.yf == 8)
                for (var Z = 0; Z < e; Z++) {
                    var O = n + (e - 1 - Z) * A;
                    for (var c = 0; c < i; c++) {
                        var s = (Z * i + c) * 4
                            , u = d[O + c];
                        a[s] = C[p + 4 * u + 2];
                        a[s + 1] = C[p + 4 * u + 1];
                        a[s + 2] = C[p + 4 * u + 0]
                    }
                }
            else if (z.yf == 4)
                for (var Z = 0; Z < e; Z++) {
                    var O = n + (e - 1 - Z) * A;
                    for (var c = 0; c < i; c++) {
                        var s = (Z * i + c) * 4
                            , u = d[O + (c >> 1)];
                        u = u >> 4 - 4 * (c & 1);
                        u = u & 15;
                        a[s] = C[p + 4 * u + 2];
                        a[s + 1] = C[p + 4 * u + 1];
                        a[s + 2] = C[p + 4 * u + 0]
                    }
                }
            else if (z.yf == 1)
                for (var Z = 0; Z < e; Z++) {
                    var O = n + (e - 1 - Z) * A;
                    for (var c = 0; c < i; c++) {
                        var s = (Z * i + c) * 4
                            , y = d[O + (c >> 3)];
                        y = y >> 7 - (c & 7);
                        y = y & 1;
                        a[s] = C[p + 4 * y + 2];
                        a[s + 1] = C[p + 4 * y + 1];
                        a[s + 2] = C[p + 4 * y + 0]
                    }
                }
            else
                throw "Unknown bit depth " + z.yf;
            if (z.UR < 0) {
                var j = new Uint32Array(a.buffer)
                    , v = e >>> 1;
                for (var Z = 0; Z < v; Z++) {
                    var X = Z * i
                        , N = (e - Z - 1) * i;
                    for (var c = 0; c < i; c++) {
                        var V = j[X + c];
                        j[X + c] = j[N + c];
                        j[N + c] = V
                    }
                }
            }
            return {
                jJ: new W(0, 0, i, e),
                data: a.buffer
            }
        }
        function q(d, G) {
            return d >>> 4 - ((G & 1) << 2) & 15
        }
        function H(d, B, n) {
            var g = n.rz
                , z = Math.abs(n.UR)
                , p = new Uint8Array(g * z)
                , C = 0
                , T = 0
                , G = 0;
            while (T < z) {
                var A = d[B++]
                    , i = d[B++]
                    , e = T * g + C;
                if (A > 0) {
                    if (n.yf == 4)
                        for (G = 0; G < A; G++) {
                            p[e + G] = q(i, G)
                        }
                    else
                        for (G = 0; G < A; G++) {
                            p[e + G] = i
                        }
                    C += A
                } else if (A == 0 && i == 0) {
                    T++;
                    C = 0
                } else if (A == 0 && i == 1) {
                    break
                } else if (A == 0 && i == 2) {
                    C += d[B++];
                    T += d[B++]
                } else {
                    var a = i;
                    if (n.yf == 4) {
                        for (G = 0; G < i; G++) {
                            p[e + G] = q(d[B + (G >>> 1)], G)
                        }
                        a = Math.ceil(i / 2)
                    } else {
                        for (G = 0; G < i; G++) {
                            p[e + G] = d[B + G]
                        }
                    }
                    if ((a & 1) != 0)
                        a++;
                    B += a;
                    C += i
                }
            }
            return p
        }
        function I(d, B) {
            var n = k.ka
                , g = k.iV
                , z = k.Gz
                , p = {};
            p.rz = n(d, B);
            B += 4;
            p.UR = n(d, B);
            B += 4;
            p.Ge = z(d, B);
            B += 2;
            p.yf = z(d, B);
            B += 2;
            p._X = g(d, B);
            B += 4;
            p.size = g(d, B);
            B += 4;
            var C = n(d, B);
            B += 4;
            var T = n(d, B);
            B += 4;
            p.a5G = g(d, B);
            B += 4;
            B += 4;
            return p
        }
        function E(d, B, n, g) {
            k.C_(d, B, n.rz);
            B += 4;
            k.C_(d, B, n.UR);
            B += 4;
            k.Na(d, B, n.Ge);
            B += 2;
            k.Na(d, B, n.yf);
            B += 2;
            k.C_(d, B, n._X);
            B += 4;
            k.C_(d, B, n.size);
            B += 4;
            k.C_(d, B, 2834);
            B += 4;
            k.C_(d, B, 2834);
            B += 4;
            k.C_(d, B, n.a5G);
            B += 4;
            B += 4
        }
        return {
            C3: S,
            rr: Y,
            ajZ: h
        }
    }();
    eD.P6 = {};
    eD.P6.rr = function (Y, S, h, q) {
        if (q == null)
            q = [100, 0, 0, 0, 0];
        var H = []
            , I = []
            , E = S * h * 4
            , A = null;
        for (var d = 0; d < Y.length; d++) {
            var B = new Uint8Array(Y[d][0].slice(0));
            for (var G = 0; G < E; G += 4) {
                var n = B[G + 3] = B[G + 3] > 127 ? 255 : 0;
                if (n == 0)
                    B[G] = B[G + 1] = B[G + 2] = 0
            }
            H.push(B.buffer);
            I.push(Y[d][1])
        }
        var g = Math.round(2 + 254 * q[0] / 100)
            , z = UPNG.encode.compress(H, S, h, g, [!0, !1, !1, 8, !1])
            , p = z.plte
            , C = new Uint8Array(4)
            , T = new Uint32Array(C.buffer);
        for (var G = 0; G < p.length; G++) {
            T[0] = p[G];
            var i = C[0];
            C[0] = C[2];
            C[2] = i;
            p[G] = T[0];
            if (T[0] == 0)
                A = G
        }
        while (p.length < 256)
            p.push(0);
        var e = new Uint8Array(2e3 + S * h * Y.length)
            , a = q[2]
            , Z = {
                palette: p
            };
        if (a != 1)
            Z.loop = a == 0 ? 0 : a - 1;
        var O = new GifWriter(e, S, h, Z);
        for (var G = 0; G < Y.length; G++) {
            var c = z.frames[G]
                , s = c.rect
                , x = c.blend
                , u = c.dispose;
            O.addFrame(s.x, s.y, s.width, s.height, c.img, {
                transparent: A,
                disposal: u + 1,
                delay: Math.round(I[G] / 10)
            })
        }
        return e.slice(0, O.end()).buffer
    }
        ;
    eD.P6.C3 = function (Y) {
        var S = Date.now()
            , h = []
            , q = UGIF.decode(Y)
            , H = UGIF.toRGBA8(q)
            , I = new W(0, 0, q.width, q.height);
        for (var G = 0; G < H.length; G++) {
            var E = q.frames[G];
            h.push({
                jJ: I.clone(),
                Sd: "_a_frm" + G + "," + E.delay * 10,
                data: H[G]
            })
        }
        return h
    }
        ;
    eD.hE = {};
    eD.hE.rr = function (Y, S, h, q) {
        console.log(Y);
        if (S > 256 || h > 256) {
            alert("Maximum ICO size is 256x256 px. Will be cropped.", 4e3);
            var H = Math.min(S, 256)
                , I = Math.min(h, 256)
                , E = new W(0, 0, H, I)
                , d = t.m(E.e() * 4)
                , B = new W(0, 0, S, h)
                , n = new Uint8Array(Y[0][0]);
            t.rd(n, B, d, E);
            Y[0][0] = d.buffer;
            S = H;
            h = I
        }
        var g = new i6
            , z = 0
            , p = q && q[0] == !0;
        k._u(g, z, 0);
        z += 2;
        k._u(g, z, p ? 2 : 1);
        z += 2;
        k._u(g, z, 1);
        z += 2;
        var C = new Uint8Array(eD.Oh("png").rr(Y, S, h));
        g.$r(z, 16);
        g.data[z] = S == 256 ? 0 : S;
        z++;
        g.data[z] = h == 256 ? 0 : h;
        z++;
        z += 2;
        k._u(g, z, p ? Math.round(S / 2) : 1);
        z += 2;
        k._u(g, z, p ? Math.round(h / 2) : 32);
        z += 2;
        k.X9(g, z, C.length);
        z += 4;
        k.X9(g, z, 6 + 16);
        z += 4;
        g.$r(z, C.length);
        for (var G = 0; G < C.length; G++)
            g.data[z + G] = C[G];
        z += C.length;
        var T = new Uint8Array(z);
        for (var G = 0; G < z; G++)
            T[G] = g.data[G];
        return T.buffer
    }
        ;
    eD.hE.C3 = function (Y) {
        Y = new Uint8Array(Y);
        var S = 4
            , h = k.Gz(Y, S);
        S += 2;
        var q = [];
        for (var G = 0; G < h; G++) {
            var H = eD.hE.agC(Y, S + G * 16)
                , I = Y.buffer.slice(H.offset, H.offset + H.size)
                , E = eD.hj(I);
            E = E ? E : "bmp";
            if (E == "png") {
                var d = eD.Oh(E)
                    , B = d.C3(I);
                H.yE = B[0]
            } else {
                var n = eD.Oh("BMP").ajZ(I, 0)
                    , I = t.m(H.rz * H.UR * 4);
                t.rd(new Uint8Array(n.data), new W(0, 0, n.jJ.d, n.jJ.v), I, new W(0, H.UR, H.rz, H.UR));
                n.data = I.buffer;
                n.jJ.v = H.UR;
                H.yE = n
            }
            q.push(H)
        }
        q.sort(function (g, z) {
            if (g.rz != z.rz)
                return g.rz - z.rz;
            return g.a8B - z.a8B
        });
        return [q.pop().yE]
    }
        ;
    eD.hE.agC = function (Y, S) {
        var h = {};
        h.rz = Y[S];
        S++;
        if (h.rz == 0)
            h.rz = 256;
        h.UR = Y[S];
        S++;
        if (h.UR == 0)
            h.UR = 256;
        h.aaM = Y[S];
        S++;
        S++;
        h.aof = k.Gz(Y, S);
        S += 2;
        h.a8B = k.Gz(Y, S);
        S += 2;
        h.size = k.iV(Y, S);
        S += 4;
        h.offset = k.iV(Y, S);
        S += 4;
        return h
    }
        ;
    eD.MF = {};
    eD.MF.C3 = function (Y) {
        var S = Date.now(), q, z = !0;
        if (t.raw.FK(Y.byteLength))
            return [t.raw.a7j(Y)];
        var h = UTIF.decode(Y);
        if (h[0].t33421)
            q = h[0];
        else if (h[0].subIFD && h[0].t271 && h[0].t271[0] == "Hasselblad") {
            q = h[0].subIFD[0];
            q.t33421 = [2, 2]
        } else if (h[0].subIFD && h[0].subIFD[0].t33421) {
            q = h[0].subIFD[0];
            if (q.t50706 == null) {
                if (q.t258[0] == 8)
                    q.t258[0] = 12
            }
        } else if (h[0].subIFD && h[0].subIFD[0] && h[0].subIFD[0].t262 && h[0].subIFD[0].t262[0] == 34892)
            q = h[0].subIFD[0];
        else if (h[0].subIFD && h[0].subIFD[1] && h[0].subIFD[1].t33421)
            q = h[0].subIFD[1];
        else if (h[0].subIFD && h[0].subIFD[2] && h[0].subIFD[2].t33421)
            q = h[0].subIFD[2];
        else if (h[3] && h[3].t50648) {
            var H = h[0].exifIFD
                , I = H.makerNote;
            q = h[3];
            var E = I.t224[1]
                , d = I.t224[2];
            q.t256 = [E];
            q.t257 = [d];
            q.t258 = [16];
            q.t259 = [7];
            q.t262 = [32803];
            q.t277 = [1];
            q.t33421 = [2, 2];
            var B = q.t50656[0]
                , n = t.raw.$b[B];
            if (n == null)
                throw "e";
            q.t33422 = n
        }
        if (q) {
            UTIF.decodeImage(Y, q, h);
            for (var g in h[0])
                if ((g[0] == "t" || g[0] == "e" || g[0] == "d") && q[g] == null)
                    q[g] = h[0][g];
            q.fE = h[0].t274 ? h[0].t274[0] : 1;
            return [q]
        }
        var p = 1 / 256;
        for (var G = 0; G < h.length; G++)
            if (h[G].t258 && h[G].t258[0] == 16 && h[G].t277 && h[G].t277[0] == 1) { } else
                z = !1;
        if (z) {
            var C = 0
                , T = 0
                , A = 0;
            for (var G = 0; G < h.length; G++) {
                UTIF.decodeImage(Y, h[G], h);
                var i = h[G].data;
                for (var e = 0; e < i.length; e += 2) {
                    var a = i[e + 1] << 8 | i[e];
                    if (a > C)
                        C = a;
                    T += a;
                    A++
                }
            }
            p = 1 / 256 * 65535 / (.5 * C + .5 * (2 * T / A))
        }
        var Z = [];
        for (var G = 0; G < h.length; G++) {
            var O = h[G]
                , c = 72;
            UTIF.decodeImage(Y, O, h);
            var s = O.t282
                , x = O.t296;
            if (s != null && x != null) {
                c = s[0][0] / s[0][1];
                if (x[0] == 3)
                    c = Math.round(c / 2.54)
            }
            if (O.width == null)
                continue;
            var u = UTIF.toRGBA8(O, p).buffer
                , y = dc.aB(O);
            Z.push({
                jJ: new W(0, 0, O.width, O.height),
                data: u,
                PW: c,
                wH: y
            })
        }
        return Z
    }
        ;
    eD.MF.rr = function (Y, S, h, q) {
        if (q == null)
            q = [!1];
        var H = {}
            , I = Y[0];
        if (I[3] != null && q[0])
            H = dc.ay(I[3]);
        if (I[2] != null) {
            H.t282 = H.t283 = [[Math.round(I[2]), 1]];
            H.t296 = [2]
        }
        return UTIF.encodeImage(I[0], S, h, H)
    }
        ;
    eD.N8 = {};
    eD.N8.M4 = !0;
    eD.N8.C3 = function (Y, S) {
        fV.z7(Y, S)
    }
        ;
    eD.N8.a5F = function (Y, S, h, q) {
        if (q == null)
            q = [!1, !1, !1];
        if (!q[0])
            Y.Q3();
        var H = new i6
            , I = fV.zN(Y, H, q);
        return [H.data.buffer, I]
    }
        ;
    eD.N8.rr = function (Y, S, h, q) {
        var H = eD.N8.a5F(Y, S, h, q)
            , I = H[0]
            , E = H[1];
        return I.byteLength == E ? I : I.slice(0, E)
    }
        ;
    eD.Hn = {};
    eD.Hn.M4 = !0;
    eD.Hn.C3 = function (Y, S) {
        var h = pako.inflate(new Uint8Array(Y))
            , q = k.PX(h, 0)
            , H = k.PX(h, 2)
            , I = 4;
        S.d = k.n(h, I);
        I += 4;
        S.v = k.n(h, I);
        I += 4;
        S.buffer = t.m(S.d * S.v * 4);
        var E = k.PX(h, I);
        I += 2;
        I += 4;
        for (var d = 0; d < E; d++) {
            var B = S.rY()
                , u = 1
                , y = 2
                , j = 3
                , v = 0;
            S.t.push(B);
            var n = k.n(h, I);
            I += 4;
            var g = I
                , z = k.PX(h, g);
            g += 2;
            var p = k.Dt(h, g, z);
            g += z;
            B.wN(p);
            g++;
            B.rect.x = k.Ii(h, g);
            g += 4;
            B.rect.y = k.Ii(h, g);
            g += 4;
            B.rect.d = k.n(h, g);
            g += 4;
            B.rect.v = k.n(h, g);
            g += 4;
            if (q > 3)
                g += 4;
            B.opacity = Math.round(255 * h[g] / 100);
            g++;
            B.yR(h[g] != 0);
            g++;
            B.XC = "norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[h[g]];
            g++;
            g++;
            if (q > 3) {
                var C = k.PX(h, g);
                g += 2;
                if (C != 0) {
                    var T = JSON.parse(k.Dt(h, g, C));
                    g += C;
                    var A = T.text
                        , i = T.textSettings
                        , e = i.font
                        , a = i.size
                        , Z = i.padding
                        , O = parseInt(i.color.slice(1), 16);
                    B.add.lnsr = "rend";
                    debugger
                    B.add.TySh = ap.Hr(0, 0);
                    B.add.TySh.tI = new W(0, 0, 100, 100);
                    B.add.TySh.J = new d5(1, 0, 0, 1, B.rect.x + Z, B.rect.y + Z);
                    var c = B.add.TySh.lV;
                    ap.sI(c, 1);
                    ap.h6(c, [0, 0, B.rect.d - Z * 2, B.rect.v]);
                    ap.LB(c, 0, A);
                    var s = ap.Rm(c, 0, 1);
                    s.cD.FontSize = a;
                    s.cD.FillColor = {
                        Type: 1,
                        Values: [1, (O >>> 16 & 255) / 255, (O >>> 8 & 255) / 255, (O >>> 0 & 255) / 255]
                    };
                    if (i.bold)
                        e += "-Bold";
                    ap.UB(s, e);
                    s.vY.Justification = ["left", "right", "center"].indexOf(i.align);
                    ap.aN(c, 0, A.length, s)
                }
            }
            var x = k.n(h, g);
            g += 4;
            if (x != B.rect.e() * 4)
                throw "e";
            B.buffer = t.m(x);
            if (q > 3) {
                u = 0;
                y = 1;
                j = 2;
                v = 3
            }
            for (var G = 0; G < x; G += 4) {
                B.buffer[G] = h[g + G + u];
                B.buffer[G + 1] = h[g + G + y];
                B.buffer[G + 2] = h[g + G + j];
                B.buffer[G + 3] = h[g + G + v]
            }
            g += x;
            var X = k.n(h, g);
            g += 4;
            if (X == 0 && q > 3) {
                I += n;
                continue
            }
            var N = h[g];
            g++;
            var V = k.PX(h, g);
            g += 2;
            if (X != 0) {
                B.r = new M.WB;
                B.r.rect = B.rect.clone();
                B.r.channel = t.m(B.rect.e());
                for (var G = 0; G < X; G += 4)
                    B.r.channel[G >>> 2] = h[g + G + 1];
                g += X
            }
            if (N != 0) {
                var $ = JSON.parse(ai.default);
                B.add.lmfx = $;
                for (var G = 0; G < ai.order.length; G++)
                    $[ai.m6[G]] = {
                        t: "VlLs",
                        v: []
                    };
                var w = {
                    "102": 9,
                    "101": 2,
                    "103": 0,
                    "104": 3,
                    "105": 8
                };
                for (var G = 0; G < N; G++) {
                    var m = k.PX(h, g)
                        , l = g + m + 4
                        , b = h.slice(g, l)
                        , K = h[g + 2];
                    g += 3;
                    var J = w[K + ""]
                        , R = JSON.parse(ai.l_[J]);
                    $[ai.m6[J]].v.push({
                        t: "Objc",
                        v: R
                    });
                    if (J != 0) {
                        R.Md.v.BlnM = iS.zw("norm");
                        R.Opct.v.val = h[g];
                        g++;
                        if (J == 9 || J == 2) {
                            R.Dstn.v.val = h[g + 1];
                            g += 2
                        } else
                            g += 2;
                        R.blur.v.val = Math.round(h[g] * 1.2);
                        g++;
                        if (J == 9 || J == 2) {
                            R.uglg.v = !1;
                            R.lagl.v.val = 180 - k.PX(h, g);
                            g += 2
                        }
                        R.Clr.v = t.W.Da({
                            h: h[g + 1],
                            l: h[g + 2],
                            O: h[g + 3]
                        })
                    } else {
                        R.hglM.v.BlnM = R.sdwM.v.BlnM = iS.zw("norm");
                        g += 2;
                        var r = h[g++]
                            , f = h[g++];
                        R.blur.v.val = Math.round(Math.sqrt(f * r) * 1.3);
                        R.srgR.v.val = Math.round(100 * r / f);
                        R.uglg.v = !1;
                        R.lagl.v.val = 180 - k.PX(h, g);
                        g += 2;
                        R.hglO.v.val = h[g++];
                        R.hglC.v = t.W.Da({
                            h: h[g + 1],
                            l: h[g + 2],
                            O: h[g + 3]
                        });
                        g += 4;
                        R.sdwO.v.val = h[g++];
                        R.sdwC.v = t.W.Da({
                            h: h[g + 1],
                            l: h[g + 2],
                            O: h[g + 3]
                        });
                        g += 4
                    }
                    g = l
                }
            }
            if (g - I != n) {
                var aa = k.n(h, g)
                    , fk = 0;
                g += 4;
                g++;
                var z = k.PX(h, g);
                g += 2;
                var A = k.Dt(h, g, z);
                g += z;
                A = A.replace(/\r/g, "\n");
                var z = k.PX(h, g);
                g += 2;
                var e = k.Dt(h, g, z);
                g += z;
                var a = k.PX(h, g);
                g += 2;
                var aA = B.rect.x
                    , e5 = B.rect.d;
                if (aa & 4)
                    fk = 1;
                if (aa & 2)
                    fk = 2;
                var o = Math.round(a * .4);
                if (fk == 0 || fk == 2)
                    e5 += o;
                if (fk == 1 || fk == 2) {
                    e5 += o;
                    aA -= o
                }
                B.add.lnsr = "rend";
                debugger
                debugger
                B.add.TySh = ap.Hr(0, 0);
                B.add.TySh.tI = new W(0, 0, 100, 100);
                B.add.TySh.J = new d5(1, 0, 0, 1, aA, B.rect.y + a * .25);
                var c = B.add.TySh.lV;
                ap.sI(c, 1);
                ap.h6(c, [0, 0, e5, B.rect.v]);
                ap.LB(c, 0, A);
                var s = ap.Rm(c, 0, 1);
                s.cD.FontSize = a;
                s.cD.FillColor = {
                    Type: 1,
                    Values: [1, h[g + 1] / 255, h[g + 2] / 255, h[g + 3] / 255]
                };
                g += 4;
                if (h[g + 5])
                    e += "-Bold";
                if (h[g + 6])
                    e += "-Italic";
                ap.UB(s, e);
                s.vY.Justification = fk;
                g += 8;
                ap.aN(c, 0, A.length, s)
            }
            I += n
        }
    }
        ;
    eD.K0 = {};
    eD.K0.M4 = !0;
    eD.K0.C3 = function (Y, S) {
        f7.z7(Y, S)
    }
        ;
    eD.ur = {};
    eD.ur.M4 = !0;
    eD.ur.C3 = function (Y, S) {
        fT.z7(Y, S)
    }
        ;
    eD.R0 = {};
    eD.R0.M4 = !0;
    eD.R0.C3 = function (Y, S) {
        aZ.z7(Y, S)
    }
        ;
    eD.tA = {};
    eD.tA.M4 = !0;
    eD.tA.C3 = function (Y, S) {
        bB.z7(Y, S)
    }
        ;
    eD.EQ = {};
    eD.EQ.M4 = !0;
    eD.EQ.C3 = function (Y, S) {
        iO.z7(Y, S)
    }
        ;
    eD.LA = {};
    eD.LA.M4 = !0;
    eD.LA.rr = function (Y, S, h, q, H) {
        if (q == null)
            q = [!0, !1, !1, !1, !0, !0];
        var I = g9.nq(Y, {
            MU: q[0],
            hidden: q[1],
            afO: q[2],
            a5w: q[3],
            names: q[4],
            al$: q[5],
            aon: S,
            a96: h
        }, H.Z7);
        return I
    }
        ;
    eD.LA.C3 = function (Y, S, h) {
        g9.z7(Y, S, h)
    }
        ;
    eD.q4 = {};
    eD.q4.M4 = !0;
    eD.q4.C3 = function (Y, S) {
        var h = 150
            , q = new d5(1, 0, 0, -1, 0, 0);
        q.scale(h / 72, h / 72);
        S.PW = h;
        var H = new ic(S, q, !0);
        FromPS.Parse(Y, H)
    }
        ;
    eD.WD = {};
    eD.WD.M4 = !0;
    eD.WD.rr = function (Y, S, h, q, H) {
        if (q == null)
            q = ["", 100, !1, !1, !1];
        q[5] = ["jpg"];
        var I = new ToPDF;
        bp.nq(Y, q, I, H.Z7);
        return I.buffer
    }
        ;
    eD.WD.C3 = function (Y, S, h) {
        var q = 2;
        while (!0) {
            var H = q * 72
                , I = new d5(1, 0, 0, -1, 0, 0);
            I.scale(H / 72, H / 72);
            S.PW = H;
            var E = new ic(S, I, !0);
            FromPDF.Parse(Y, E);
            var d = Math.max(S.d, S.v);
            if (h && d < Math.max(h[0], h[1])) {
                S.t = [];
                var B = q;
                while (d * (q / B) < Math.max(h[0], h[1]))
                    q++
            } else
                break
        }
    }
        ;
    eD.me = {};
    eD.me.M4 = !0;
    eD.me.C3 = function (Y, S) {
        var h = 72
            , q = new d5(1, 0, 0, 1, 0, 0);
        q.scale(h / 72, h / 72);
        S.PW = h;
        var H = new ic(S, q, !1);
        FromWMF.Parse(Y, H)
    }
        ;
    eD.co = {};
    eD.co.vj = !0;
    eD.co.M4 = !0;
    eD.co.rr = function (Y, S, h, q, H) {
        if (q == null)
            q = ["", !1, !1, !1];
        q[4] = [];
        var I = new ToEMF;
        bp.nq(Y, q, I, H.Z7);
        return I.buffer
    }
        ;
    eD.co.C3 = function (Y, S) {
        var h = 72
            , q = new d5(1, 0, 0, 1, 0, 0);
        q.scale(h / 72, h / 72);
        S.PW = h;
        var H = new ic(S, q, !1);
        FromEMF.Parse(Y, H)
    }
        ;
    eD.G1 = {};
    eD.G1.M4 = !0;
    eD.G1.C3 = function (Y, S) {
        return df.z7(Y, S)
    }
        ;
    eD.iM = {};
    eD.iM.C3 = function (Y, S) {
        var h = eP.z7(Y), q = new Uint8Array(Y), H = 0, I, E, d, B, n, g, z, p, C = 0, T = 0, A = 0, i = 0, e = 0;
        for (var a = 0; a < h.sub.length; a++) {
            var Z = h.sub[a]
                , H = Z.T;
            if (Z._z == "BMHD") {
                var O = [];
                for (var G = 0; G < 4; G++)
                    O[G] = k.PX(q, H + 2 * G);
                H += 8;
                B = O[2];
                n = O[3];
                E = O[0];
                d = O[1];
                I = t.m(E * d * 4);
                g = q[H++];
                z = q[H++];
                p = q[H++]
            } else if (Z._z == "CMAP")
                C = H;
            else if (Z._z == "CAMG") {
                var c = k.n(q, H);
                T = c & 32768,
                    A = c & 4,
                    i = c & 2048;
                e = c & 128
            } else if (Z._z == "BODY") {
                var s = E + 15 >>> 4 << 1, x = g + z, u = t.m(s * d * x), X, N, V;
                cW.NU(q, H, Z.size, u, 0, u.length);
                var y = g - 2
                    , j = (1 << y) - 1
                    , v = Math.round(255 / j);
                for (var n = 0; n < d; n++)
                    for (var B = 0; B < E; B++) {
                        var $ = 0;
                        for (var w = 0; w < x; w++) {
                            var m = (n * x + w) * s * 8 + B
                                , l = u[m >>> 3] >>> 7 - (m & 7) & 1;
                            $ |= l << w
                        }
                        var b = $ >>> g
                            , $ = $ & (1 << g) - 1
                            , G = n * E + B
                            , K = G << 2;
                        if (C != 0) {
                            if (i != 0 && $ >>> y != 0) {
                                var J = $ >>> y
                                    , R = ($ & j) * v;
                                if (J == 1)
                                    V = R;
                                else if (J == 2)
                                    X = R;
                                else if (J == 3)
                                    N = R
                            } else {
                                var R = C + $ * 3;
                                X = q[R + 0];
                                N = q[R + 1];
                                V = q[R + 2]
                            }
                        } else {
                            X = $ >>> 0 & 255;
                            N = $ >>> 8 & 255;
                            V = $ >>> 16 & 255
                        }
                        I[K + 0] = X;
                        I[K + 1] = N;
                        I[K + 2] = V;
                        I[K + 3] = 255
                    }
            }
        }
        return [{
            jJ: new W(0, 0, E, d),
            data: I.buffer
        }]
    }
        ;
    eD.qG = {};
    eD.qG.M4 = !1;
    eD.qG.rr = function (Y, S, h, q) {
        var H = Y[0][4]
            , I = new Uint8Array(Y[0][0])
            , E = 2
            , d = H ? !0 : !1
            , B = d ? 4 : 3
            , n = new Uint8Array(S * h * B);
        for (var g = 0; g < h; g++)
            for (var z = 0; z < S; z++) {
                var p = g * S + z << 2
                    , C = ((h - g - 1) * S + z) * B;
                n[C] = I[p + 2];
                n[C + 1] = I[p + 1];
                n[C + 2] = I[p + 0];
                if (d)
                    n[C + 3] = H[0][g * S + z]
            }
        if (!0) {
            var T = n.length
                , A = 0
                , i = new Uint8Array(T * 2)
                , e = 0
                , a = 0
                , Z = S * B;
            while (a < T) {
                var O = a
                    , c = 0
                    , s = Z * (Math.floor(a / Z) + 1);
                while (O < s && c < 128) {
                    var x = !0;
                    for (var G = 0; G < B; G++)
                        x = x & n[a + G] == n[O + G];
                    if (!x)
                        break;
                    O += B;
                    c++
                }
                if (c == 1) {
                    var u = 1;
                    while (u < 128 && a + (u + 1) * B < s) {
                        var x = !0
                            , y = a + u * B;
                        for (var G = 0; G < B; G++)
                            x = x & n[y + G] == n[y + B + G];
                        if (x)
                            break;
                        u++
                    }
                    i[e++] = u - 1;
                    for (var j = 0; j < u; j++)
                        for (var G = 0; G < B; G++)
                            i[e++] = n[a++]
                } else {
                    i[e++] = 127 + c;
                    for (var G = 0; G < B; G++)
                        i[e + G] = n[a + G];
                    e += B;
                    a += B * c;
                    A += c
                }
            }
            n = i.slice(0, e);
            E += 8
        }
        var v = new Uint8Array(18 + n.length + 26);
        v[2] = E;
        k.Na(v, 12, S);
        k.Na(v, 14, h);
        v[16] = B * 8;
        v[17] = B == 4 ? 8 : 0;
        v.set(n, 18);
        k.St(v, 18 + n.length + 8, "TRUEVISION-XFILE.");
        return v.buffer
    }
        ;
    eD.qG.C3 = function (Y) {
        var S = new Uint8Array(Y)
            , h = 0
            , q = S[0]
            , H = S[1]
            , I = S[2]
            , E = S[4] * 256 + S[3]
            , d = S[6] * 256 + S[5]
            , B = S[7]
            , n = S[9] * 256 + S[8]
            , g = S[11] * 256 + S[10]
            , z = S[13] * 256 + S[12]
            , p = S[15] * 256 + S[14]
            , C = S[16]
            , T = S[17]
            , A = T >>> 4
            , i = k.Fe(S, 18, q)
            , e = t.m(z * p * 4)
            , h = 18 + q + (d * B >>> 3)
            , a = new Uint8Array(S.buffer, h);
        if (I > 3) {
            var Z = 0
                , O = S
                , c = new Uint8Array(z * p * C >>> 3)
                , s = h
                , x = 0
                , u = S.length
                , y = C >>> 3;
            while (x < c.length) {
                var D = O[s];
                s++;
                if (D < 128)
                    for (var G = 0; G < D + 1; G++) {
                        for (var j = 0; j < y; j++) {
                            c[x] = O[s];
                            x++;
                            s++
                        }
                    }
                else {
                    for (var G = 0; G < D - 127; G++) {
                        for (var j = 0; j < y; j++) {
                            c[x] = O[s + j];
                            x++
                        }
                    }
                    s += y
                }
            }
            I -= 8;
            a = c;
            h = s
        } else
            h += z * p * C >>> 3;
        var v = new Uint8Array(4)
            , X = eD.qG.a5C;
        for (var N = 0; N < p; N++)
            for (var V = 0; V < z; V++) {
                var $ = (A & 2) == 0 ? (p - N - 1) * z + V : N * z + V, w = N * z + V, m, l, b, K = 255, J = $ * C >>> 3;
                if (I == 1) {
                    var R = 0;
                    if (C == 8)
                        R = a[J];
                    else
                        throw "e";
                    X(S, 18 + q + E + (R * B >>> 3), B, v);
                    m = v[0];
                    l = v[1];
                    b = v[2];
                    K = v[3]
                } else if (I == 2) {
                    X(a, J, C, v);
                    m = v[0];
                    l = v[1];
                    b = v[2];
                    K = v[3]
                } else if (I == 3) {
                    if (C == 8)
                        m = l = b = a[J];
                    else
                        throw "e"
                }
                var r = w * 4;
                e[r] = m;
                e[r + 1] = l;
                e[r + 2] = b;
                e[r + 3] = K
            }
        var v = {
            jJ: new W(0, 0, z, p),
            data: e.buffer,
            Sd: i
        };
        if (t.eM(e)) {
            var f = t.m(z * p);
            t.Ft(e, f, 3);
            t.A5(e, 4278190080, 16777215);
            v.h3 = [f]
        }
        return [v]
    }
        ;
    eD.qG.a5C = function (Y, S, h, q) {
        var H, I, E, d = 255;
        if (h == 24 || h == 32) {
            E = Y[S];
            I = Y[S + 1];
            H = Y[S + 2];
            if (h == 32)
                d = Y[S + 3]
        } else if (h == 16) {
            var B = Y[S + 1] << 8 | Y[S + 0];
            H = B >>> 10 & 31;
            I = B >>> 5 & 31;
            E = B >>> 0 & 31;
            H = Math.round(H * (255 / 31));
            I = Math.round(I * (255 / 31));
            E = Math.round(E * (255 / 31))
        } else
            throw "e";
        q[0] = H;
        q[1] = I;
        q[2] = E;
        q[3] = d
    }
        ;
    eD._8 = {};
    eD._8.C3 = function (Y) {
        var S = new Uint8Array(Y), h = 0, q = 112, H = 42, I = k.iV, g;
        h += 8;
        var E = S[h];
        h++;
        if (E != H)
            throw "e";
        var d = I(S, h);
        h += 4;
        var B = k.RN(S, h, d);
        h += d * 2;
        var n = [];
        while (h < S.length) {
            g = I(S, h);
            h += 4;
            if (g != q)
                throw g;
            h += 4;
            g = S[h];
            h++;
            if (g != H)
                throw g;
            var z = I(S, h);
            h += 4;
            var p = S[h];
            h++;
            if (p != H) {
                h -= 5;
                z = I(S, h);
                h += 8;
                g = S[h];
                h++;
                if (g != H)
                    throw g
            }
            var C = I(S, h) * 2;
            h += 4;
            if (z > 0)
                n.push(h + C);
            h += C + z
        }
        var T = new DOMParser
            , A = T.parseFromString(B, "image/svg+xml").firstChild.firstChild
            , i = [];
        eD._8.Z0(A, S, n, i);
        return i
    }
        ;
    eD._8.Z0 = function (Y, S, h, q) {
        var H = Y.firstChild.firstChild;
        if (H.tagName == "Image") {
            var I = H.getElementsByTagName("ImageDescription")[0]
                , E = I.children[0].children
                , d = I.children[1].children
                , B = h.shift()
                , n = [];
            for (var G = 0; G < d.length; G++)
                n.push(parseInt(d[G].getAttribute("NumberOfElements")));
            while (n.length > 3)
                n[2] *= n.pop();
            var g = E.length
                , z = n[0]
                , p = n[1]
                , C = n[2]
                , T = parseInt(d[0].getAttribute("BytesInc"));
            for (var A = 0; A < C; A++) {
                var i = t.m(z * p * 4);
                t.A5(i, 4278190080);
                for (var e = 0; e < g; e++) {
                    var a = t.m(z * p);
                    if (T == 1)
                        for (var Z = 0; Z < a.length; Z++)
                            a[Z] = S[B + Z];
                    else if (T == 2)
                        for (var Z = 0; Z < a.length; Z++)
                            a[Z] = Math.min(255, (S[B + Z * 2 + 1] << 8 | S[B + Z * 2]) >>> 2);
                    else
                        throw T;
                    if (e != 3)
                        t.Vj(a, i, e);
                    if (g == 1) {
                        t.Vj(a, i, 1);
                        t.Vj(a, i, 2)
                    }
                    B += z * p * T
                }
                q.push({
                    jJ: new W(0, 0, z, p),
                    data: i.buffer
                })
            }
        } else {
            var O = Y.children
                , c = 0;
            while (c < O.length && O[c].tagName != "Children")
                c++;
            if (c == O.length)
                throw "e";
            O = O[c].children;
            for (var s = 0; s < O.length; s++)
                eD._8.Z0(O[s], S, h, q)
        }
    }
        ;
    eD.su = {};
    eD.su.C3 = function (Y) {
        var S = new Uint8Array(Y)
            , h = 0
            , q = {}
            , g = 1e9;
        for (var G = 0; G < 306; G++) {
            var H = k.Fe(S, h, 8).trim()
                , I = k.Fe(S, h + 9, 71).split("/")[0].trim();
            q[H] = I;
            h += 80;
            if (H == "END") {
                h = Math.ceil(h / 2880) * 2880;
                break
            }
        }
        var E = parseInt(q.NAXIS1)
            , d = parseInt(q.NAXIS2)
            , B = E * d
            , n = parseInt(q.BITPIX)
            , z = -1e9
            , p = new Float32Array(B)
            , C = new Float32Array(Y, h, Y.byteLength - h >>> 2);
        for (var G = 0; G < B; G++) {
            var T = G << 2
                , A = G << 1;
            if (n == -32) {
                var i = S[h + T + 0];
                S[h + T + 0] = S[h + T + 3];
                S[h + T + 3] = i;
                var i = S[h + T + 1];
                S[h + T + 1] = S[h + T + 2];
                S[h + T + 2] = i;
                p[G] = C[G]
            } else if (n == 16) {
                p[G] = k.Gz(S, h + A)
            } else
                throw n;
            var e = p[G];
            if (e < g)
                g = e;
            if (e > z)
                z = e
        }
        var a = t.m(B * 4)
            , Z = 1 / z;
        for (var O = 0; O < d; O++)
            for (var c = 0; c < E; c++) {
                var G = O * E + c
                    , s = (d - O - 1) * E + c
                    , T = s << 2
                    , e = p[G] * Z;
                a[T] = a[T + 1] = a[T + 2] = 255 * e;
                a[T + 3] = 255
            }
        return [{
            jJ: new W(0, 0, E, d),
            data: a,
            Sd: q.OBJECT
        }]
    }
        ;
    eD.WE = {};
    eD.WE.C3 = function (Y) {
        var S = new Uint8Array(Y), h = 16, q = k.Fe(S, h, 4), I = 32, e = 0, a = 0, Z = !1, l;
        h += 4;
        var H = k.Fe(S, h, 8);
        h += 8;
        while (S[h + I - 1] == 0)
            I--;
        var E = k.Fe(S, h, I);
        h += 32;
        var d = k.Fe(S, h, 4);
        h += 4;
        h += 20;
        var B = k.n(S, h);
        h += 4;
        var n = k.n(S, h);
        h += 4;
        var g = k.n(S, h);
        h += 4;
        var z = k.n(S, h);
        h += 4;
        var p = k.n(S, h);
        h += 4;
        var C = k.n(S, h);
        h += 4;
        var T = "FujiFilm " + E
            , A = [0, 1, 1, 2];
        if (T == "FujiFilm X10") {
            T = "FujiFilm FinePix X10";
            A = [2, 1, 1, 0]
        }
        var i = {
            t271: ["FujiFilm"],
            t272: [T],
            t277: [1],
            t33421: [2, 2],
            t33422: A,
            fE: 1
        };
        h = g;
        var O = []
            , c = k.PX
            , s = k.n(S, h);
        h += 4;
        for (var G = 0; G < s; G++) {
            var x = c(S, h);
            h += 2;
            var u = c(S, h);
            h += 2;
            if (x == 256) {
                a = c(S, h);
                e = c(S, h + 2)
            } else if (x == 272) {
                O = [c(S, h), c(S, h + 2)]
            } else if (x == 273) {
                O.push(c(S, h), c(S, h + 2))
            } else if (x == 304) {
                Z = !(S[h] >>> 7)
            } else if (x == 305) {
                var y = Math.round(Math.sqrt(u))
                    , j = [];
                for (var v = 0; v < u; v++)
                    j.push(S[h + v]);
                j.reverse();
                i.t33421 = [y, y];
                i.t33422 = j
            } else if (x == 12272) {
                var X = c(S, h)
                    , N = c(S, h + 2)
                    , V = c(S, h + 6);
                i.t50728 = [X / N, 1, X / V]
            }
            h += u
        }
        var $ = e < a
            , w = S.slice(p, p + C)
            , m = Math.round(C * 8 / (e * a));
        if (w[0] == 73 && w[1] == 73 && w[2] == 42) {
            l = UTIF.decode(w.buffer)[0].fujiIFD;
            m = l.t61443[0];
            var b = l.t61454;
            i.t50728 = [b[0] / b[1], 1, b[0] / b[2]];
            var K = l.t61447[0];
            w = w.slice(K, K + l.t61448[0])
        }
        var C = w.length
            , J = C * 8 < e * a * m;
        if (J)
            alert("Compressed RAF is not supported yet :(");
        function R(aA, e5, fk) {
            fk = fk << 8 - (e5 & 7);
            var o = e5 >>> 3;
            aA[o] |= fk >>> 16;
            aA[o + 1] |= fk >>> 8;
            aA[o + 2] |= fk
        }
        var r = C * 8 / (e * a);
        if (r == 16)
            for (var G = 0; G < C; G += 2) {
                var f = w[G];
                w[G] = w[G + 1];
                w[G + 1] = f
            }
        else if (r == 14) {
            for (var G = 0; G < C; G += 4) {
                var f = w[G];
                w[G] = w[G + 3];
                w[G + 3] = f;
                f = w[G + 1];
                w[G + 1] = w[G + 2];
                w[G + 2] = f
            }
        } else if (r == 12)
            for (var G = 0; G < C; G += 3) {
                var gf = w[G + 2] << 16 | w[G + 1] << 8 | w[G + 0];
                gf = gf >>> 12 | (gf & 4095) << 12;
                w[G] = gf >>> 16 & 255;
                w[G + 1] = gf >>> 8 & 255;
                w[G + 2] = gf & 255
            }
        if ($)
            w = eD.WE.a9B(w, e, a);
        var aa = $ ? 2 : 1;
        e *= aa;
        i.t256 = [e];
        i.t257 = [a];
        i.t258 = [m];
        i.t50719 = [O[1], O[0] * aa];
        i.t50720 = [O[3], O[2] * aa];
        i.width = e;
        i.height = a;
        i.data = new Uint8Array(w.buffer);
        return [i]
    }
        ;
    eD.WE.a9B = function (Y, S, h) {
        Y = new Uint16Array(Y.buffer);
        var q = new Uint16Array(S * h * 2);
        for (var H = 0; H < h; H += 2)
            for (var I = 0; I < S; I++) {
                var E = H * S + I
                    , d = E * 2
                    , B = Y[E]
                    , n = Y[E + S];
                q[d + 1] = q[d + 2 * S] = n;
                if (((H >>> 1) + I & 1) == 0) {
                    q[d] = B;
                    q[d + 2 * S + 1] = Y[E + 1]
                } else {
                    q[d] = Y[E - 1];
                    q[d + 2 * S + 1] = B
                }
            }
        return q
    }
        ;
    eD.Lw = {};
    eD.Lw.vj = !0;
    eD.Lw.rr = function (Y, S, h, q) {
        var H = new Uint8Array(Y[0][0])
            , I = S * h
            , E = [1, 3, 4][q[0]]
            , d = 8 + 8 * q[1]
            , B = q[2];
        if (E == 1) {
            var n = new Uint8Array(S * h);
            t.Ft(H, n, 0);
            H = n
        }
        if (E == 3) {
            var n = new Uint8Array(S * h * 3);
            for (var G = 0; G < I; G++) {
                var g = G * 4
                    , z = G * 3;
                n[z] = H[g];
                n[z + 1] = H[g + 1];
                n[z + 2] = H[g + 2]
            }
            H = n
        }
        if (d == 16) {
            var p = H.length
                , n = new Uint8Array(p * 2);
            for (var G = 0; G < p; G++) {
                var C = Math.round(H[G] * (65535 / 255));
                n[G * 2 + B] = C >>> 8;
                n[G * 2 + 1 - B] = C & 255
            }
            H = n
        }
        return H.buffer
    }
        ;
    eD.I6 = {};
    eD.I6.C3 = function (Y, S) {
        function h(B) {
            return ~~(.5 + t.BX(Math.max(0, Math.min(1, B))) * 255)
        }
        var q = EXRLoader.parse(Y)
            , H = q.width
            , I = q.height
            , E = t.m(H * I * 4);
        for (var d = 0; d < I; d++)
            for (var B = 0; B < H; B++) {
                var G = (d * H + B) * 4
                    , n = ((I - d - 1) * H + B) * 4;
                E[G] = h(q.data[n + 0]);
                E[G + 1] = h(q.data[n + 1]);
                E[G + 2] = h(q.data[n + 2]);
                E[G + 3] = h(q.data[n + 3])
            }
        return [{
            jJ: new W(0, 0, H, I),
            data: E.buffer
        }]
    }
        ;
    eD.RT = {};
    eD.RT.vj = !0;
    eD.RT.M4 = !0;
    eD.RT.rr = function (Y, S, h, q, H) {
        q = ["", 100, !1, !1, !1];
        q[5] = ["jpg"];
        var I = new ToDXF;
        bp.nq(Y, q, I, H.Z7);
        return I.buffer
    }
        ;
    eD.RT.C3 = function (Y, S) {
        var h = 72
            , q = new d5(1, 0, 0, 1, 0, 0);
        q.scale(h / 72, h / 72);
        S.PW = h;
        var H = new ic(S, q, !1);
        FromDXF.Parse(Y, H)
    }
        ;
    eD.fy = {};
    eD.fy.C3 = function () {
        var Y = k.Gz, S = k.iV, h = k.Fe, q;
        function H(E, d, B, n, g) {
            var z = S(E, B)
                , p = S(E, B + 4)
                , C = S(E, B + 8)
                , T = Y(E, B + 12)
                , A = Y(E, B + 14);
            B += 16;
            var i = {};
            for (var G = 0; G < T + A; G++) {
                var e = S(E, B), a = S(E, B + 4), Z, O;
                if (e >>> 31 == 1) {
                    e = e & 16777215
                }
                if (G < T)
                    Z = k.RN(E, d + e + 2, Y(E, d + e));
                else
                    Z = "id" + e;
                var c = n.slice(0);
                c.push(Z);
                if (a >>> 31 == 1) {
                    a = a & 268435455;
                    O = H(E, d, d + a, c, g)
                } else {
                    var s = S(E, d + a)
                        , x = S(E, d + a + 4)
                        , u = S(E, d + a + 8)
                        , y = S(E, d + a + 12);
                    if (y != 0)
                        throw "e";
                    if (s < g[0] || s > g[0] + g[1])
                        throw "e";
                    var j = g[2] + s - g[0];
                    O = E.slice(j, j + x);
                    var v = eD.hj(O.buffer);
                    if (v && ["bmp", "png", "ico"].indexOf(v) != -1) {
                        var X = eD.Oh(v);
                        if (!X.M4) {
                            var N = null;
                            try {
                                N = X.C3(O.buffer)
                            } catch (gx) { }
                            if (N) {
                                N[0].Sd = c[1];
                                q.push(N[0])
                            }
                        }
                    } else if (v)
                        console.log(v)
                }
                i[Z] = O;
                B += 8
            }
            return i
        }
        function I(E) {
            q = [];
            var d = new Uint8Array(E)
                , B = 0
                , n = Y(d, B);
            B += 2;
            B += 58;
            var g = S(d, B);
            B += 4;
            B = g;
            var z = h(d, B, 4);
            B += 4;
            var p = Y(d, B);
            B += 2;
            var C = Y(d, B);
            B += 2;
            var T = S(d, B);
            B += 4;
            var A = S(d, B);
            B += 4;
            var i = S(d, B);
            B += 4;
            var e = Y(d, B);
            B += 2;
            var a = Y(d, B);
            B += 2;
            B += e;
            var Z = {};
            for (var G = 0; G < C; G++) {
                var O = B;
                while (d[O] != 0)
                    O++;
                var c = h(d, B, O - B)
                    , s = S(d, B + 8)
                    , x = S(d, B + 12)
                    , u = S(d, B + 16)
                    , y = S(d, B + 20)
                    , j = S(d, B + 24)
                    , v = S(d, B + 28)
                    , X = Y(d, B + 32)
                    , N = Y(d, B + 34)
                    , a = S(d, B + 36);
                Z[c] = [x, s, y, u, a];
                if (j + v != 0)
                    throw "e";
                B += 40
            }
            for (var V in Z) {
                var $ = Z[V];
                B = $[2];
                if (V == ".rsrc") {
                    var w = H(d, B, B, [], $)
                        , m = "id134"
                }
            }
            return q
        }
        return I
    }();
    function t() { }
    t.q0 = {};
    t.Eh = document.createElement("canvas");
    t.Eq = t.Eh.getContext("2d");
    t.M0 = function (Y, S, h, q, H, I) {
        if (H == null)
            H = I = 0;
        q = Math.log(q) / Math.log(2);
        q = Math.round(q);
        for (var G = 0; G < h; G++)
            for (var E = 0; E < S; E++) {
                var d = G * S + E << 2
                    , B = t.iw(G + I, E + H, q);
                Y[d] = Y[d + 1] = Y[d + 2] = B;
                Y[d + 3] = 255
            }
    }
        ;
    t.iw = function (G, Y, S) {
        return 255 - ((G >>> S) + (Y >>> S) & 1) * 51
    }
        ;
    t.u9 = function (Y) {
        var S = Y.toString(16);
        while (S.length < 6)
            S = "0" + S;
        return S
    }
        ;
    t.B2 = function (Y) {
        return parseInt(Y, 16)
    }
        ;
    t.s4 = function (Y) {
        return .3 * Y.h + .59 * Y.l + .11 * Y.O
    }
        ;
    t.eP = function (Y) {
        return Math.max(Y.h, Y.l, Y.O) - Math.min(Y.h, Y.l, Y.O)
    }
        ;
    t.re = function (Y, S, h) {
        return .3 * Y + .59 * S + .11 * h
    }
        ;
    t.a21 = function (Y, S, h) {
        return Math.max(Y, S, h) - Math.min(Y, S, h)
    }
        ;
    t.KF = function (Y, S) {
        var h = S - Y
            , q = Math.abs(h)
            , H = h - 1
            , I = h + 1;
        if (Math.abs(H) < q)
            h = H;
        else if (Math.abs(I) < q)
            h = I;
        return h
    }
        ;
    t.xb = function (Y, S, h, q) {
        return (S - h) * q / (Y - h)
    }
        ;
    t.BX = function (Y) {
        return Y < .0031308 ? 12.92 * Y : 1.055 * Math.pow(Y, 1 / 2.4) - .055
    }
        ;
    t.a7c = function (Y) {
        return Y < .04045 ? Y / 12.92 : Math.pow((Y + .055) / 1.055, 2.4)
    }
        ;
    t.a45 = function (Y, S) {
        var h = Math.min(Y.length, S.length);
        for (var G = 0; G < h; G += 4) {
            var q = Y[G]
                , H = Y[G + 1]
                , I = Y[G + 2];
            S[G] = 16 + Math.floor(65.481 / 255 * q + 128.553 / 255 * H + 24.966 / 255 * I + .5);
            S[G + 1] = 128 - Math.floor(37.797 / 255 * q - 74.203 / 255 * H + 112 / 255 * I + .5);
            S[G + 2] = 128 + Math.floor(112 / 255 * q - 93.786 / 255 * H - 18.214 / 255 * I + .5);
            S[G + 3] = Y[G + 3]
        }
    }
        ;
    t.kX = function (Y, S, h) {
        var q = Math.max(Y, S, h)
            , H = Math.min(Y, S, h)
            , I = 0
            , E = 0
            , d = (q + H) * .5;
        if (q != H) {
            var B = q - H;
            E = d > .5 ? B / (2 - (q + H)) : B / (q + H);
            switch (q) {
                case Y:
                    I = (S - h) / B + (S < h ? 6 : 0);
                    break;
                case S:
                    I = (h - Y) / B + 2;
                    break;
                case h:
                    I = (Y - S) / B + 4;
                    break
            }
            I *= 1 / 6
        }
        return {
            UR: I,
            D1: E,
            _I: d
        }
    }
        ;
    t.Uf = function (Y, S, h) {
        var q, H, I;
        if (S == 0)
            q = H = I = h;
        else {
            var E = h < .5 ? h * (1 + S) : h + S - h * S
                , d = 2 * h - E;
            q = t.Dv(d, E, Y + 1 / 3);
            H = t.Dv(d, E, Y);
            I = t.Dv(d, E, Y - 1 / 3)
        }
        return {
            h: q,
            l: H,
            O: I
        }
    }
        ;
    t.Dv = function (Y, S, h) {
        if (h < 0)
            h += 1;
        if (h > 1)
            h -= 1;
        if (h < 1 / 6)
            return Y + (S - Y) * 6 * h;
        if (h < 1 / 2)
            return S;
        if (h < 2 / 3)
            return Y + (S - Y) * (2 / 3 - h) * 6;
        return Y
    }
        ;
    t.Yl = function (Y, S, h) {
        var q = Math.max(Y, S, h), H = Math.min(Y, S, h), I, E, d = q, B = q - H;
        E = q == 0 ? 0 : B / q;
        if (q == H)
            I = 0;
        else {
            switch (q) {
                case Y:
                    I = (S - h) / B + (S < h ? 6 : 0);
                    break;
                case S:
                    I = (h - Y) / B + 2;
                    break;
                case h:
                    I = (Y - S) / B + 4;
                    break
            }
            I *= 1 / 6
        }
        return {
            UR: I,
            D1: E,
            w1: d
        }
    }
        ;
    t.im = function (Y, S, h) {
        var q, H, I, G, E, d, B, n;
        G = Math.floor(Y * 6);
        E = Y * 6 - G;
        d = h * (1 - S);
        B = h * (1 - E * S);
        n = h * (1 - (1 - E) * S);
        switch (G % 6) {
            case 0:
                q = h,
                    H = n,
                    I = d;
                break;
            case 1:
                q = B,
                    H = h,
                    I = d;
                break;
            case 2:
                q = d,
                    H = h,
                    I = n;
                break;
            case 3:
                q = d,
                    H = B,
                    I = h;
                break;
            case 4:
                q = n,
                    H = d,
                    I = h;
                break;
            case 5:
                q = h,
                    H = d,
                    I = B;
                break
        }
        return {
            h: q,
            l: H,
            O: I
        }
    }
        ;
    t.XW = function () {
        var Y = []
            , S = [];
        for (var G = 0; G < 2e3; G++) {
            var h = G / 1e3;
            Y[G] = t.a7c(h);
            S[G] = h > .008856 ? Math.pow(h, 1 / 3) : (903.3 * h + 16) * (1 / 116)
        }
        return [Y, S]
    }();
    t.XT = function (Y, S, h) {
        var q = t.XW[0]
            , H = t.XW[1];
        Y = q[~~(Y * (1e3 / 255))];
        S = q[~~(S * (1e3 / 255))];
        h = q[~~(h * (1e3 / 255))];
        var I = t.eC.a11
            , E = I[0] * Y + I[1] * S + I[2] * h
            , d = I[4] * Y + I[5] * S + I[6] * h
            , B = I[8] * Y + I[9] * S + I[10] * h;
        E = E * (100 / 96.72);
        d = d * (100 / 100);
        B = B * (100 / 81.427);
        return t.RP(E, d, B)
    }
        ;
    t.RP = function (Y, S, h) {
        var q = t.XW[1]
            , H = q[~~(Y * 1e3)]
            , I = q[~~(S * 1e3)]
            , E = q[~~(h * 1e3)];
        return {
            sj: 116 * I - 16,
            R: 500 * (H - I),
            O: 200 * (I - E)
        }
    }
        ;
    t.Zy = function (Y, S, h) {
        var q = 903.3
            , H = .008856
            , I = (Y + 16) / 116
            , E = I * I * I
            , d = I - h / 200
            , B = d * d * d
            , n = S / 500 + I
            , g = n * n * n
            , z = B > H ? B : (116 * d - 16) / q
            , p = E > H ? E : (116 * I - 16) / q
            , C = g > H ? g : (116 * n - 16) / q
            , T = C * 96.72
            , A = p * 100
            , i = z * 81.427
            , e = t.eC.qB(t.eC.au, [T / 100, A / 100, i / 100, 0]);
        for (var G = 0; G < 4; G++)
            e[G] = Math.max(0, Math.min(255, t.BX(e[G]) * 255));
        return {
            h: e[0],
            l: e[1],
            O: e[2]
        }
    }
        ;
    t.AF = function (Y, S, h, q, H) {
        var I = Y.sj
            , E = Y.R
            , d = Y.O
            , B = (I < S.sj ? S.sj - I : h.sj < I ? h.sj - I : 0) * (1 / 100)
            , n = (E < S.R ? S.R - E : h.R < E ? h.R - E : 0) * (1 / 116)
            , g = (d < S.O ? S.O - d : h.O < d ? h.O - d : 0) * (1 / 116)
            , z = Math.sqrt(B * B + n * n + g * g) * 1.35;
        return z <= q ? Math.min(1, 1.17 * (1 - z * H)) : 0
    }
        ;
    t.VU = function (Y, S, h) {
        var q = S - t.s4(Y);
        h.h = Y.h + q;
        h.l = Y.l + q;
        h.O = Y.O + q;
        t.a5k(h)
    }
        ;
    t.I4 = function (Y, S, h) {
        var q = Y.h
            , H = Y.l
            , I = Y.O;
        if (q == H && H == I) {
            h.h = h.l = h.O = 0
        } else if (q > H) {
            if (q > I) {
                if (H > I) {
                    h.h = S;
                    h.l = t.xb(q, H, I, S);
                    h.O = 0
                } else {
                    h.h = S;
                    h.O = t.xb(q, I, H, S);
                    h.l = 0
                }
            } else {
                h.O = S;
                h.h = t.xb(I, q, H, S);
                h.l = 0
            }
        } else {
            if (q < I) {
                if (H > I) {
                    h.l = S;
                    h.O = t.xb(H, I, q, S);
                    h.h = 0
                } else {
                    h.O = S;
                    h.l = t.xb(I, H, q, S);
                    h.h = 0
                }
            } else {
                h.l = S;
                h.h = t.xb(H, q, I, S);
                h.O = 0
            }
        }
    }
        ;
    t.a5k = function (Y) {
        var S = Y.h
            , h = Y.l
            , q = Y.O
            , H = t.re(S, h, q)
            , D = Math.min(S, h, q)
            , I = Math.max(S, h, q);
        if (D < 0) {
            var E = H / (H - D);
            S = H + (S - H) * E;
            h = H + (h - H) * E;
            q = H + (q - H) * E
        }
        if (I > 1) {
            var E = (1 - H) / (I - H);
            S = H + (S - H) * E;
            h = H + (h - H) * E;
            q = H + (q - H) * E
        }
        Y.h = S;
        Y.l = h;
        Y.O = q
    }
        ;
    t.ei = function (Y, S, h) {
        var q = Y.length
            , H = .3
            , I = .59
            , E = .11;
        if (h) {
            H = h[0];
            I = h[1];
            E = h[2]
        }
        for (var G = 0; G < q; G += 4)
            S[G >> 2] = ~~(Y[G + 0] * H + Y[G + 1] * I + Y[G + 2] * E + .5)
    }
        ;
    t.xe = function (Y, S) {
        var h = S.length;
        for (var G = 0; G < h; G += 4) {
            var q = Y[G >>> 2];
            S[G] = q;
            S[G + 1] = q;
            S[G + 2] = q
        }
    }
        ;
    t.in = function (Y, S) {
        var h = Y.R
            , q = Y.h
            , H = Y.l
            , I = Y.O
            , E = Math.min(Y.R.length, S.buffer.byteLength >>> 2)
            , d = 4 * Math.floor(E / 4)
            , B = new Uint32Array(S.buffer)
            , n = new Uint32Array(h.buffer)
            , g = new Uint32Array(q.buffer)
            , z = new Uint32Array(H.buffer)
            , p = new Uint32Array(I.buffer);
        for (var G = 0; G < d; G += 4) {
            var C = n[G >> 2]
                , T = p[G >> 2]
                , A = z[G >> 2]
                , i = g[G >> 2];
            B[G] = C << 24 | (T & 255) << 16 | (A & 255) << 8 | i & 255;
            B[G + 1] = (C & 65280) << 16 | (T & 65280) << 8 | A & 65280 | (i & 65280) >>> 8;
            B[G + 2] = (C & 16711680) << 8 | T & 16711680 | (A & 16711680) >>> 8 | (i & 16711680) >>> 16;
            B[G + 3] = C & 4278190080 | (T & 4278190080) >>> 8 | (A & 4278190080) >>> 16 | (i & 4278190080) >>> 24
        }
        for (var G = d; G < E; G++)
            B[G] = h[G] << 24 | I[G] << 16 | H[G] << 8 | q[G]
    }
        ;
    t.vK = function (Y, S) {
        var h = S.R
            , q = S.h
            , H = S.l
            , I = S.O
            , E = Math.min(S.R.length, Y.buffer.byteLength >>> 2)
            , d = 4 * Math.floor(E / 4)
            , B = new Uint32Array(Y.buffer)
            , n = new Uint32Array(h.buffer)
            , g = new Uint32Array(q.buffer)
            , z = new Uint32Array(H.buffer)
            , p = new Uint32Array(I.buffer);
        for (var G = 0; G < d; G += 4) {
            var C = B[G]
                , T = B[G + 1]
                , A = B[G + 2]
                , i = B[G + 3];
            g[G >> 2] = C & 255 | (T & 255) << 8 | (A & 255) << 16 | i << 24;
            z[G >> 2] = (C & 65280) >> 8 | T & 65280 | (A & 65280) << 8 | (i & 65280) << 16;
            p[G >> 2] = (C & 16711680) >> 16 | (T & 16711680) >> 8 | A & 16711680 | (i & 16711680) << 8;
            n[G >> 2] = C >>> 24 | T >>> 24 << 8 | A >>> 24 << 16 | i & 4278190080
        }
        for (var G = d; G < E; G++) {
            var e = B[G];
            q[G] = e >> 0 & 255;
            H[G] = e >> 8 & 255;
            I[G] = e >> 16 & 255;
            h[G] = e >> 24 & 255
        }
    }
        ;
    t.Ft = function (Y, S, h) {
        var q = new Uint8Array(Y.buffer)
            , H = Math.min(q.length / 4, S.length);
        for (var G = 0; G < H; G++) {
            S[G] = q[(G << 2) + h]
        }
    }
        ;
    t.Vj = function (Y, S, h) {
        var q = new Uint8Array(S.buffer)
            , H = new Uint32Array(Y.buffer)
            , I = Math.min(q.length / 4, Y.length)
            , G = 0;
        while (G + 4 < I) {
            var E = H[G >>> 2];
            q[(G << 2) + h] = E & 255;
            q[(G << 2) + h + 4] = E >>> 8 & 255;
            q[(G << 2) + h + 8] = E >>> 16 & 255;
            q[(G << 2) + h + 12] = E >>> 24;
            G += 4
        }
        while (G < I) {
            q[(G << 2) + h] = Y[G];
            G++
        }
    }
        ;
    t.A5 = function (Y, S, h) {
        if (h == null)
            h = 0;
        var q = new Uint32Array(Y.buffer)
            , H = q.length;
        for (var G = 0; G < H; G++)
            q[G] = q[G] & h | S
    }
        ;
    t.akg = function (Y, S, h, q, H) {
        if (H == null)
            H = 0;
        var I = new Uint32Array(Y.buffer);
        h = h.lF(S);
        var E = h.x - S.x
            , d = h.y - S.y
            , B = h.d
            , n = h.v
            , g = S.d;
        for (var z = 0; z < n; z++) {
            var G = (d + z) * g + E;
            for (var p = 0; p < B; p++) {
                I[G] = I[G] & H | q;
                G++
            }
        }
    }
        ;
    t.vx = function (Y, S) {
        var h = Math.min(Y.buffer.byteLength, S.buffer.byteLength)
            , q = h >>> 2
            , Y = new Uint32Array(Y.buffer, 0, q)
            , S = new Uint32Array(S.buffer, 0, q);
        S.set(Y)
    }
        ;
    t.ma = function (Y, S) {
        var h = Y.buffer.byteLength
            , q = S.buffer.byteLength
            , H = new Uint32Array(Y.buffer, 0, h >> 2)
            , I = new Uint32Array(S.buffer, 0, q >> 2);
        if (h != q)
            return !1;
        var E = H.length;
        for (var G = 0; G < E; G++)
            if (I[G] != H[G])
                return !1;
        return !0
    }
        ;
    t.fb = function (Y) {
        var S = new Uint32Array(Y.buffer)
            , h = S.length;
        for (var G = 0; G < h; G++)
            S[G] = ~S[G]
    }
        ;
    t.a1B = function (Y) {
        var S = Y.length;
        for (var G = 0; G < S; G += 4) {
            Y[G] = ~Y[G];
            Y[G + 1] = ~Y[G + 1];
            Y[G + 2] = ~Y[G + 2]
        }
    }
        ;
    t.abA = function (Y) {
        var S = Y.length;
        for (var G = 3; G < S; G += 4)
            Y[G] = ~Y[G]
    }
        ;
    t.aiy = function (Y) {
        return Y + (Y % 4 == 0 ? 0 : 4 - Y % 4)
    }
        ;
    t.m = function (Y, S) {
        if (S == null)
            S = !1;
        if (!S)
            Y = t.aiy(Y);
        try {
            var h = new Uint8Array(Y)
        } catch (gx) {
            alert("Not enough RAM! (need " + Math.round(Y / (1 << 20)) + " MB)", 7e3);
            throw "low_ram"
        }
        return h
    }
        ;
    t.zU = function (Y) {
        var S = Y.length
            , h = Y[S - 2]
            , q = Y[S - 1];
        while (q.d >= 2 && q.v >= 2) {
            var H = t.ga(h, q);
            Y.push(H.nP, H.rect);
            h = H.nP;
            q = H.rect
        }
    }
        ;
    t.h2 = function (Y) {
        var S = Y.length
            , h = Y[S - 2]
            , q = Y[S - 1];
        while (q.d >= 2 && q.v >= 2) {
            var H = t.Ur(h, q);
            Y.push(H.nP, H.rect);
            h = H.nP;
            q = H.rect
        }
    }
        ;
    t.ga = function (Y, S, h) {
        var q = S.d
            , H = S.v
            , I = q >> 1
            , E = H >> 1
            , d = new W(S.x, S.y, I, E)
            , B = h && h.length == I * E * 4 ? h : t.m(I * E * 4)
            , n = new Uint32Array(Y.buffer)
            , g = new Uint32Array(B.buffer);
        for (var z = 0; z < E; z++)
            for (var p = 0; p < I; p++) {
                var C = z * I + p
                    , T = (z << 1) * q + (p << 1)
                    , A = n[T]
                    , i = n[T + 1]
                    , e = n[T + q]
                    , a = n[T + q + 1]
                    , Z = A >>> 24
                    , O = i >>> 24
                    , c = e >>> 24
                    , s = a >>> 24
                    , x = Z + O + c + s;
                if (x == 1020) {
                    var u = (A >>> 0 & 255) + (i >>> 0 & 255) + (e >>> 0 & 255) + (a >>> 0 & 255) + 2 >>> 2
                        , y = (A >>> 8 & 255) + (i >>> 8 & 255) + (e >>> 8 & 255) + (a >>> 8 & 255) + 2 >>> 2
                        , j = (A >>> 16 & 255) + (i >>> 16 & 255) + (e >>> 16 & 255) + (a >>> 16 & 255) + 2 >>> 2;
                    g[C] = 255 << 24 | j << 16 | y << 8 | u
                } else if (x == 0)
                    g[C] = 0;
                else {
                    var u = (A >>> 0 & 255) * Z + (i >>> 0 & 255) * O + (e >>> 0 & 255) * c + (a >>> 0 & 255) * s
                        , y = (A >>> 8 & 255) * Z + (i >>> 8 & 255) * O + (e >>> 8 & 255) * c + (a >>> 8 & 255) * s
                        , j = (A >>> 16 & 255) * Z + (i >>> 16 & 255) * O + (e >>> 16 & 255) * c + (a >>> 16 & 255) * s
                        , v = 1 / x;
                    u = ~~(u * v + .5);
                    y = ~~(y * v + .5);
                    j = ~~(j * v + .5);
                    g[C] = x + 2 >>> 2 << 24 | j << 16 | y << 8 | u
                }
            }
        return {
            rect: d,
            nP: B
        }
    }
        ;
    t.b8 = function (Y, S, h) {
        var q = S.d
            , H = S.v
            , I = q >> 1
            , E = H >> 1
            , d = new W(S.x, S.y, I, E)
            , B = h && h.length == I * E * 4 ? h : t.m(I * E * 4)
            , n = new Uint32Array(Y.buffer)
            , g = new Uint32Array(B.buffer);
        for (var z = 0; z < E; z++)
            for (var p = 0; p < I; p++) {
                var C = z * I + p
                    , T = (z << 1) * q + (p << 1)
                    , A = n[T]
                    , i = n[T + 1]
                    , e = n[T + q]
                    , a = n[T + q + 1]
                    , Z = 2 + (A >>> 0 & 255) + (i >>> 0 & 255) + (e >>> 0 & 255) + (a >>> 0 & 255) >>> 2
                    , O = 2 + (A >>> 8 & 255) + (i >>> 8 & 255) + (e >>> 8 & 255) + (a >>> 8 & 255) >>> 2
                    , c = 2 + (A >>> 16 & 255) + (i >>> 16 & 255) + (e >>> 16 & 255) + (a >>> 16 & 255) >>> 2
                    , s = 2 + (A >>> 24 & 255) + (i >>> 24 & 255) + (e >>> 24 & 255) + (a >>> 24 & 255) >>> 2;
                g[C] = s << 24 | c << 16 | O << 8 | Z
            }
        return {
            rect: d,
            nP: B
        }
    }
        ;
    t.af$ = function (Y, S, h) {
        var q = S.d
            , H = S.v
            , I = 2 * Math.floor(q / 3)
            , E = 2 * Math.floor(H / 3)
            , d = new W(S.x, S.y, I, E)
            , B = h && h.length == I * E * 4 ? h : t.m(I * E * 4)
            , n = new Uint32Array(Y.buffer)
            , g = new Uint32Array(B.buffer);
        for (var z = 0; z < E; z += 2)
            for (var p = 0; p < I; p += 2) {
                var C = z * I + p
                    , T = (z * 3 >>> 1) * q + (p * 3 >>> 1)
                    , A = n[T]
                    , i = n[T + 1]
                    , e = n[T + 2]
                    , a = n[T + q]
                    , Z = n[T + 1 + q]
                    , O = n[T + 2 + q]
                    , c = n[T + q + q]
                    , s = n[T + 1 + q + q]
                    , x = n[T + 2 + q + q]
                    , u = A >>> 24 << 2
                    , y = (A >>> 16 & 255) * u
                    , j = (A >>> 8 & 255) * u
                    , v = (A & 255) * u
                    , X = i >>> 24 << 1
                    , N = (i >>> 16 & 255) * X
                    , V = (i >>> 8 & 255) * X
                    , $ = (i & 255) * X
                    , w = e >>> 24 << 2
                    , m = (e >>> 16 & 255) * w
                    , l = (e >>> 8 & 255) * w
                    , b = (e & 255) * w
                    , K = a >>> 24 << 1
                    , J = (a >>> 16 & 255) * K
                    , R = (a >>> 8 & 255) * K
                    , r = (a & 255) * K
                    , f = Z >>> 24
                    , gf = (Z >>> 16 & 255) * f
                    , aa = (Z >>> 8 & 255) * f
                    , aA = (Z & 255) * f
                    , e5 = O >>> 24 << 1
                    , fk = (O >>> 16 & 255) * e5
                    , o = (O >>> 8 & 255) * e5
                    , eY = (O & 255) * e5
                    , du = c >>> 24 << 2
                    , dV = (c >>> 16 & 255) * du
                    , hy = (c >>> 8 & 255) * du
                    , bq = (c & 255) * du
                    , i5 = s >>> 24 << 1
                    , hX = (s >>> 16 & 255) * i5
                    , bY = (s >>> 8 & 255) * i5
                    , ds = (s & 255) * i5
                    , hV = x >>> 24 << 2
                    , gF = (x >>> 16 & 255) * hV
                    , co = (x >>> 8 & 255) * hV
                    , c_ = (x & 255) * hV
                    , a5 = u + X + K + f
                    , gb = w + X + e5 + f
                    , iC = du + i5 + K + f
                    , cC = hV + i5 + e5 + f
                    , aB = a5 == 0 ? 0 : 1 / a5
                    , cd = gb == 0 ? 0 : 1 / gb
                    , dZ = iC == 0 ? 0 : 1 / iC
                    , en = cC == 0 ? 0 : 1 / cC
                    , cD = 0
                    , hP = 0
                    , ea = 0
                    , fp = 0;
                cD = ~~(.5 + (v + $ + r + aA) * aB);
                hP = ~~(.5 + (j + V + R + aa) * aB);
                ea = ~~(.5 + (y + N + J + gf) * aB);
                fp = ~~(.5 + a5 * (1 / 9));
                g[C] = fp << 24 | ea << 16 | hP << 8 | cD;
                cD = ~~(.5 + (b + $ + eY + aA) * cd);
                hP = ~~(.5 + (l + V + o + aa) * cd);
                ea = ~~(.5 + (m + N + fk + gf) * cd);
                fp = ~~(.5 + gb * (1 / 9));
                g[C + 1] = fp << 24 | ea << 16 | hP << 8 | cD;
                cD = ~~(.5 + (bq + ds + r + aA) * dZ);
                hP = ~~(.5 + (hy + bY + R + aa) * dZ);
                ea = ~~(.5 + (dV + hX + J + gf) * dZ);
                fp = ~~(.5 + iC * (1 / 9));
                g[C + I] = fp << 24 | ea << 16 | hP << 8 | cD;
                cD = ~~(.5 + (c_ + ds + eY + aA) * en);
                hP = ~~(.5 + (co + bY + o + aa) * en);
                ea = ~~(.5 + (gF + hX + fk + gf) * en);
                fp = ~~(.5 + cC * (1 / 9));
                g[C + I + 1] = fp << 24 | ea << 16 | hP << 8 | cD
            }
        return {
            rect: d,
            nP: B
        }
    }
        ;
    t.abL = function (Y, S, h) {
        var q = S.d
            , H = S.v
            , I = 2 * Math.floor(q / 3)
            , E = 2 * Math.floor(H / 3)
            , d = new W(S.x, S.y, I, E)
            , B = h && h.length == I * E * 4 ? h : t.m(I * E * 4)
            , n = new Uint32Array(Y.buffer)
            , g = new Uint32Array(B.buffer);
        for (var z = 0; z < E; z += 2)
            for (var p = 0; p < I; p += 2) {
                var C = z * I + p
                    , T = (z * 3 >>> 1) * q + (p * 3 >>> 1)
                    , A = n[T]
                    , i = n[T + 1]
                    , e = n[T + 2]
                    , a = n[T + q]
                    , Z = n[T + 1 + q]
                    , O = n[T + 2 + q]
                    , c = n[T + q + q]
                    , s = n[T + 1 + q + q]
                    , x = n[T + 2 + q + q]
                    , u = (A >>> 16 & 255) << 2
                    , y = (A >>> 8 & 255) << 2
                    , j = (A & 255) << 2
                    , v = (i >>> 16 & 255) << 1
                    , X = (i >>> 8 & 255) << 1
                    , N = (i & 255) << 1
                    , V = (e >>> 16 & 255) << 2
                    , $ = (e >>> 8 & 255) << 2
                    , w = (e & 255) << 2
                    , m = (a >>> 16 & 255) << 1
                    , l = (a >>> 8 & 255) << 1
                    , b = (a & 255) << 1
                    , K = Z >>> 16 & 255
                    , J = Z >>> 8 & 255
                    , R = Z & 255
                    , r = (O >>> 16 & 255) << 1
                    , f = (O >>> 8 & 255) << 1
                    , gf = (O & 255) << 1
                    , aa = (c >>> 16 & 255) << 2
                    , aA = (c >>> 8 & 255) << 2
                    , e5 = (c & 255) << 2
                    , fk = (s >>> 16 & 255) << 1
                    , o = (s >>> 8 & 255) << 1
                    , eY = (s & 255) << 1
                    , du = (x >>> 16 & 255) << 2
                    , dV = (x >>> 8 & 255) << 2
                    , hy = (x & 255) << 2
                    , bq = 0
                    , i5 = 0
                    , hX = 0;
                bq = ~~(.5 + (j + N + b + R) * (1 / 9));
                i5 = ~~(.5 + (y + X + l + J) * (1 / 9));
                hX = ~~(.5 + (u + v + m + K) * (1 / 9));
                g[C] = 255 << 24 | hX << 16 | i5 << 8 | bq;
                bq = ~~(.5 + (w + N + gf + R) * (1 / 9));
                i5 = ~~(.5 + ($ + X + f + J) * (1 / 9));
                hX = ~~(.5 + (V + v + r + K) * (1 / 9));
                g[C + 1] = 255 << 24 | hX << 16 | i5 << 8 | bq;
                bq = ~~(.5 + (e5 + eY + b + R) * (1 / 9));
                i5 = ~~(.5 + (aA + o + l + J) * (1 / 9));
                hX = ~~(.5 + (aa + fk + m + K) * (1 / 9));
                g[C + I] = 255 << 24 | hX << 16 | i5 << 8 | bq;
                bq = ~~(.5 + (hy + eY + gf + R) * (1 / 9));
                i5 = ~~(.5 + (dV + o + f + J) * (1 / 9));
                hX = ~~(.5 + (du + fk + r + K) * (1 / 9));
                g[C + I + 1] = 255 << 24 | hX << 16 | i5 << 8 | bq
            }
        return {
            rect: d,
            nP: B
        }
    }
        ;
    t.eM = function (Y) {
        var S = 255
            , h = Y.length;
        h -= h & 31;
        for (var G = 3; G < h; G += 32)
            S = S & Y[G] & Y[G + 4] & Y[G + 8] & Y[G + 12] & Y[G + 16] & Y[G + 20] & Y[G + 24] & Y[G + 28];
        return S != 255
    }
        ;
    t.a3Y = function (Y, S, h, q) {
        var H = t.ga
            , I = t.af$
            , d = 0;
        if (!t.eM(Y)) {
            H = t.b8;
            I = t.abL
        }
        var E = {
            nP: Y,
            rect: S
        }
            , B = h;
        while (B < .499) {
            d++;
            B *= 2
        }
        for (var G = 0; G < d; G++)
            E = H(E.nP, E.rect, q);
        if (B < .5001)
            E = H(E.nP, E.rect, q);
        else
            E = I(E.nP, E.rect, q);
        return E
    }
        ;
    t.abe = function (Y, S, h, q) {
        var H = t.Ur
            , I = t.YR
            , E = {
                nP: Y,
                rect: S
            }
            , d = 0
            , B = h;
        while (B < .499) {
            d++;
            B *= 2
        }
        for (var G = 0; G < d; G++)
            E = H(E.nP, E.rect, q);
        if (B < .5001)
            E = H(E.nP, E.rect, q);
        else
            E = I(E.nP, E.rect, q);
        return E
    }
        ;
    t.Ur = function (Y, S, h) {
        var q = S.d
            , H = S.v
            , I = q >> 1
            , E = H >> 1
            , d = new W(S.x, S.y, I, E);
        if (Y == null)
            return {
                rect: d
            };
        var B = h && h.length >= I * E ? h : t.m(I * E);
        for (var n = 0; n < E; n++) {
            var g = n * I;
            for (var z = 0; z < I; z++) {
                var p = (n << 1) * q + (z << 1);
                B[g + z] = 2 + Y[p] + Y[p + 1] + Y[p + q] + Y[p + q + 1] >>> 2
            }
        }
        return {
            rect: d,
            nP: B
        }
    }
        ;
    t.YR = function (Y, S, h) {
        var q = S.d
            , H = S.v
            , I = 2 * Math.floor(q / 3)
            , E = 2 * Math.floor(H / 3)
            , d = new W(S.x, S.y, I, E);
        if (Y == null)
            return {
                rect: d
            };
        var B = h && h.length >= I * E ? h : t.m(I * E);
        for (var n = 0; n < E; n += 2)
            for (var g = 0; g < I; g += 2) {
                var z = n * I + g
                    , p = (n * 3 >>> 1) * q + (g * 3 >>> 1)
                    , C = Y[p] << 2
                    , T = Y[p + 1] << 1
                    , A = Y[p + 2] << 2
                    , i = Y[p + q] << 1
                    , e = Y[p + 1 + q]
                    , a = Y[p + 2 + q] << 1
                    , Z = Y[p + q + q] << 2
                    , O = Y[p + 1 + q + q] << 1
                    , c = Y[p + 2 + q + q] << 2;
                B[z] = ~~(.5 + (C + T + i + e) * (1 / 9));
                B[z + 1] = ~~(.5 + (A + T + a + e) * (1 / 9));
                B[z + I] = ~~(.5 + (Z + O + i + e) * (1 / 9));
                B[z + I + 1] = ~~(.5 + (c + O + a + e) * (1 / 9))
            }
        return {
            rect: d,
            nP: B
        }
    }
        ;
    t.m7 = function (Y, S, h, q, H) {
        var I = S.lF(q);
        if (H)
            I = I.lF(H);
        var E = Math.max(0, I.x - S.x)
            , d = Math.max(0, I.x - q.x)
            , B = Math.max(0, I.y - S.y)
            , n = Math.max(0, I.y - q.y)
            , g = I.d
            , z = I.v;
        for (var G = 0; G < z; G++) {
            var p = (B + G) * S.d + E
                , C = (n + G) * q.d + d;
            for (var T = 0; T < g; T++) {
                h[C + T] = Y[p + T]
            }
        }
    }
        ;
    t.xz = function (Y, S, h, q) {
        if (S.ma(q)) {
            t.Vj(Y, h, 3);
            return
        }
        var H = S.lF(q)
            , I = Math.max(0, H.x - S.x)
            , E = Math.max(0, H.x - q.x)
            , d = Math.max(0, H.y - S.y)
            , B = Math.max(0, H.y - q.y)
            , n = H.d
            , g = H.v;
        for (var G = 0; G < g; G++) {
            var z = (d + G) * S.d + I
                , p = (B + G) * q.d + E;
            for (var C = 0; C < n; C++)
                h[(p + C << 2) + 3] = Y[z + C]
        }
    }
        ;
    t.qu = function (Y, S, h, q) {
        var H = S.lF(q)
            , I = Math.max(0, H.x - S.x)
            , E = Math.max(0, H.x - q.x)
            , d = Math.max(0, H.y - S.y)
            , B = Math.max(0, H.y - q.y)
            , n = H.d
            , g = H.v;
        for (var G = 0; G < g; G++) {
            var z = (d + G) * S.d + I
                , p = (B + G) * q.d + E;
            for (var C = 0; C < n; C++)
                h[p + C] = Y[(z + C << 2) + 3]
        }
    }
        ;
    t.rd = function (Y, S, h, q, H) {
        if (S.ma(q) && (H == null || H.ma(q))) {
            t.vx(Y, h);
            return
        }
        Y = new Uint32Array(Y.buffer),
            h = new Uint32Array(h.buffer);
        var I = S.lF(q);
        if (H)
            I = I.lF(H);
        var E = Math.max(0, I.x - S.x)
            , d = Math.max(0, I.x - q.x)
            , B = Math.max(0, I.y - S.y)
            , n = Math.max(0, I.y - q.y)
            , g = I.d
            , z = I.v
            , p = g & 3
            , C = p == 0 ? g : g - p;
        for (var G = 0; G < z; G++) {
            var T = (B + G) * S.d + E
                , A = (n + G) * q.d + d;
            h.set(new Uint32Array(Y.buffer, T * 4, g), A)
        }
    }
        ;
    t.Jb = function (Y, S, h, q) {
        var H = S.lF(q)
            , I = Math.max(0, H.x - S.x)
            , E = Math.max(0, H.x - q.x)
            , d = Math.max(0, H.y - S.y)
            , B = Math.max(0, H.y - q.y)
            , n = H.d
            , g = H.v
            , z = Y.R
            , p = Y.h
            , C = Y.l
            , T = Y.O
            , A = h.R
            , i = h.h
            , e = h.l
            , a = h.O;
        for (var G = 0; G < g; G++) {
            var Z = (d + G) * S.d + I
                , O = (B + G) * q.d + E;
            for (var c = 0; c < n; c++) {
                A[O + c] = z[Z + c];
                i[O + c] = p[Z + c];
                e[O + c] = C[Z + c];
                a[O + c] = T[Z + c]
            }
        }
    }
        ;
    t.cH = function (Y) {
        var S = Y.length;
        for (var G = 0; G < S; G += 4) {
            var h = Y[G + 3];
            Y[G] = ~~(Y[G] * h * (1 / 255) + .5);
            Y[G + 1] = ~~(Y[G + 1] * h * (1 / 255) + .5);
            Y[G + 2] = ~~(Y[G + 2] * h * (1 / 255) + .5)
        }
    }
        ;
    t.Bj = function (Y) {
        var S = Y.length;
        for (var G = 0; G < S; G += 4) {
            var h = Y[G + 3];
            if (h == 0 || h == 255)
                continue;
            var q = 255 / h;
            Y[G] = ~~(Y[G] * q + .5);
            Y[G + 1] = ~~(Y[G + 1] * q + .5);
            Y[G + 2] = ~~(Y[G + 2] * q + .5)
        }
    }
        ;
    t.Aw = function (Y, S) {
        for (var G = 0; G < Y.length; G++)
            if (Y[G] != S)
                return !1;
        return !0
    }
        ;
    t.Fi = function (Y) {
        return Y + 1 + (Y >>> 8) >>> 8
    }
        ;
    t.round = function (Y, S) {
        if (S == null)
            S = 128;
        var h = Y.length;
        for (var G = 0; G < h; G++)
            Y[G] = Y[G] < S ? 0 : 255
    }
        ;
    t.d0 = function (Y, S) {
        var h = Y.length;
        for (var G = 0; G < h; G++)
            Y[G] = Math.round(Y[G] * S)
    }
        ;
    t._y = function (Y, S) {
        var h = new Uint32Array(Y.buffer)
            , q = new Uint32Array(S.buffer)
            , H = h.length;
        for (var G = 0; G < H; G++) {
            var I = h[G]
                , E = q[G];
            q[G] = t.Fi((I >>> 24) * (E >>> 24)) << 24 | t.Fi((I >>> 16 & 255) * (E >>> 16 & 255)) << 16 | t.Fi((I >>> 8 & 255) * (E >>> 8 & 255)) << 8 | t.Fi((I & 255) * (E & 255))
        }
    }
        ;
    t.gr = function (Y, S) {
        var h = Y.length;
        for (var G = 0; G < h; G++)
            S[(G << 2) + 3] = t.Fi(S[(G << 2) + 3] * Y[G])
    }
        ;
    t.aa2 = function (Y, S, h, q) {
        var H = Math.max(0, q.x - S.x)
            , I = Math.max(0, S.x - q.x)
            , E = Math.max(0, q.y - S.y)
            , d = Math.max(0, S.y - q.y)
            , B = Math.min(S.x + S.d, q.x + q.d) - Math.max(S.x, q.x)
            , n = Math.min(S.y + S.v, q.y + q.v) - Math.max(S.y, q.y);
        for (var G = 0; G < n; G++) {
            var g = (E + G) * S.d + H
                , z = (d + G) * q.d + I;
            for (var p = 0; p < B; p++) {
                h[z] = t.Fi(h[z] * Y[g]);
                g++;
                z++
            }
        }
    }
        ;
    t.jK = function (Y, S, h, q) {
        var H = Math.max(0, q.x - S.x)
            , I = Math.max(0, S.x - q.x)
            , E = Math.max(0, q.y - S.y)
            , d = Math.max(0, S.y - q.y)
            , B = Math.min(S.x + S.d, q.x + q.d) - Math.max(S.x, q.x)
            , n = Math.min(S.y + S.v, q.y + q.v) - Math.max(S.y, q.y);
        for (var G = 0; G < n; G++) {
            var g = (E + G) * S.d + H
                , z = ((d + G) * q.d + I << 2) + 3;
            for (var p = 0; p < B; p++) {
                h[z] = t.Fi(h[z] * Y[g]);
                g++;
                z += 4
            }
        }
    }
        ;
    t.N1 = function (Y, S, h, q) {
        var H = Math.max(0, q.x - S.x)
            , I = Math.max(0, S.x - q.x)
            , E = Math.max(0, q.y - S.y)
            , d = Math.max(0, S.y - q.y)
            , B = Math.min(S.x + S.d, q.x + q.d) - Math.max(S.x, q.x)
            , n = Math.min(S.y + S.v, q.y + q.v) - Math.max(S.y, q.y);
        for (var G = 0; G < n; G++) {
            var g = ((E + G) * S.d + H << 2) + 3
                , z = ((d + G) * q.d + I << 2) + 3;
            for (var p = 0; p < B; p++) {
                h[z] = t.Fi(h[z] * Y[g]);
                g += 4;
                z += 4
            }
        }
    }
        ;
    t.Po = function (Y) {
        var S = new Float64Array(256)
            , h = new Float64Array(256)
            , q = new Float64Array(256)
            , H = new Float64Array(256)
            , I = Y.length
            , E = 0;
        for (var G = 0; G < I; G += 4) {
            var d = Y[G + 3]
                , B = d * (1 / 255);
            h[Y[G + 0]] += B;
            q[Y[G + 1]] += B;
            H[Y[G + 2]] += B;
            E += d
        }
        for (var G = 0; G < 256; G++)
            S[G] = h[G] + q[G] + H[G];
        return [S, h, q, H, I >>> 2, E / 255]
    }
        ;
    t._Y = function (Y, S) {
        var h = new Uint32Array(Y.buffer)
            , q = h.length;
        for (var G = 0; G < q; G++) {
            var H = h[G]
                , I = H & 255
                , E = H >> 8 & 255
                , d = H >> 16 & 255
                , B = H >> 24 & 255;
            h[G] = S[I] | S[E] << 8 | S[d] << 16 | S[B] << 24
        }
    }
        ;
    t.ajG = function (Y, S, h, q, H, I, E) {
        var d = new Uint32Array(Y.buffer)
            , B = new Uint32Array(S.buffer)
            , n = d.length
            , g = 0;
        while (256 << g < h.length)
            g++;
        if (!E && !I) {
            for (var G = 0; G != n; G++) {
                var z = d[G]
                    , p = (z & 255) << g
                    , C = (z >>> 8 & 255) << g
                    , T = (z >>> 16 & 255) << g
                    , A = h[p]
                    , i = q[C]
                    , e = H[T];
                B[G] = A | i << 8 | e << 16 | z & 4278190080
            }
            return
        }
        for (var G = 0; G < n; G++) {
            var z = d[G]
                , p = (z & 255) << g
                , C = (z >>> 8 & 255) << g
                , T = (z >>> 16 & 255) << g;
            if (I)
                p = C = T = Math.round(p * .3 + C * .59 + T * .11);
            var A = h[p]
                , i = q[C]
                , e = H[T];
            if (E) {
                var a = t.re(p, C, T)
                    , Z = t.re(A, i, e);
                if (a > Z) {
                    var O = (a - Z) / (255 - Z);
                    A += O * (255 - A);
                    i += O * (255 - i);
                    e += O * (255 - e)
                } else if (Z == 0)
                    A = i = e = 0;
                else {
                    var O = a / Z;
                    A = O * A;
                    i = O * i;
                    e = O * e
                }
            }
            B[G] = A | i << 8 | e << 16 | z & 4278190080
        }
    }
        ;
    t.o9 = function (Y, S) {
        var h = S.d
            , q = S.v
            , top = 0
            , H = 0
            , I = 0
            , E = 0
            , d = 0;
        d = 0;
        for (var B = 0; B < q; B++) {
            var n = B * h;
            for (var G = 0; G < h; G++)
                d |= Y[n + G];
            if (d != 0)
                break;
            top++
        }
        if (top == q)
            return new W(0, 0, 0, 0);
        d = 0;
        for (var B = q - 1; B >= 0; B--) {
            var n = B * h;
            for (var G = 0; G < h; G++)
                d |= Y[n + G];
            if (d != 0)
                break;
            I++
        }
        var g = q - I;
        d = 0;
        for (var G = 0; G < h; G++) {
            for (var B = top; B < g; B++)
                d |= Y[B * h + G];
            if (d != 0)
                break;
            H++
        }
        d = 0;
        for (var G = h - 1; G >= 0; G--) {
            for (var B = top; B < g; B++)
                d |= Y[B * h + G];
            if (d != 0)
                break;
            E++
        }
        var z = new W(S.x + H, S.y + top, h - H - E, q - top - I);
        return z
    }
        ;
    t.VY = function (Y, S, h, q) {
        if (q == null)
            q = [!0, !0, !0, !0];
        if (h == null)
            h = 0;
        var H = new Uint32Array(Y.buffer)
            , I = S.d
            , E = S.v
            , top = 0
            , d = 0
            , B = 0
            , n = 0
            , g = !1
            , z = [H[0], H[H.length - 1], 0][h];
        g = !1;
        if (q[0])
            for (var p = 0; p < E; p++) {
                var C = p * I;
                for (var G = 0; G < I; G++)
                    if (H[C + G] != z)
                        g = !0;
                if (g)
                    break;
                top++
            }
        g = !1;
        if (q[2])
            for (var p = E - 1; p >= 0; p--) {
                var C = p * I;
                for (var G = 0; G < I; G++)
                    if (H[C + G] != z)
                        g = !0;
                if (g)
                    break;
                B++
            }
        g = !1;
        if (q[1])
            for (var G = 0; G < I; G++) {
                for (var p = 0; p < E; p++)
                    if (H[p * I + G] != z)
                        g = !0;
                if (g)
                    break;
                d++
            }
        g = !1;
        if (q[3])
            for (var G = I - 1; G >= 0; G--) {
                for (var p = 0; p < E; p++)
                    if (H[p * I + G] != z)
                        g = !0;
                if (g)
                    break;
                n++
            }
        var T = new W(S.x + d, S.y + top, I - d - n, E - top - B);
        return T.fa() ? new W(0, 0, 0, 0) : T
    }
        ;
    t.Mq = function (Y) {
        var S = t.o9(Y.channel, Y.rect);
        if (S.ma(Y.rect))
            return;
        var h = t.m(S.e());
        t.m7(Y.channel, Y.rect, h, S);
        Y.channel = h;
        Y.rect = S
    }
        ;
    t.Wq = function (Y) {
        var S = t.m(Y.buffer.length >> 2);
        t.Ft(Y.buffer, S, 3);
        var h = t.o9(S, Y.rect);
        if (h.ma(Y.rect))
            return;
        var q = new t.m(h.e() * 4);
        t.rd(Y.buffer, Y.rect, q, h);
        Y.buffer = q;
        Y.rect = h
    }
        ;
    t.extend = function (Y, S, h) {
        if (Y.rect.HS(S))
            return;
        var q = Y.rect.TG(S)
            , H = t.m(q.e());
        if (h != null)
            H.fill(h);
        t.m7(Y.channel, Y.rect, H, q);
        Y.rect = q;
        Y.channel = H
    }
        ;
    t.aeu = function (Y, S) {
        if (S.fa() || Y.rect.HS(S))
            return;
        var h = Y.rect.TG(S)
            , q = t.m(h.e() * 4);
        t.rd(Y.buffer, Y.rect, q, h);
        Y.rect = h;
        Y.buffer = q
    }
        ;
    t.h4 = function (Y, S, h) {
        if (!h.uU(Y))
            return !1;
        var q = Math.floor(Y.x) - h.x
            , H = Math.floor(Y.y) - h.y
            , G = H * h.d + q;
        return S[G] > 128
    }
        ;
    t.aa8 = function (Y, S, h) {
        if (!h.uU(Y))
            return !1;
        var q = Math.floor(Y.x) - h.x
            , H = Math.floor(Y.y) - h.y
            , G = H * h.d + q;
        return S[4 * G + 3] > 128
    }
        ;
    t.p2 = function (Y) {
        if (t.Si.length < Y) {
            t.Si = t.m(Y);
            t.Si.fill(255)
        }
        return t.Si
    }
        ;
    t.Si = t.m(0);
    t.QO = function (Y) {
        if (t.D_.length < Y)
            t.D_ = t.m(Y);
        return t.D_
    }
        ;
    t.D_ = t.m(0);
    t.ho = function (Y) {
        this.R = t.m(Y);
        this.h = t.m(Y);
        this.l = t.m(Y);
        this.O = t.m(Y)
    }
        ;
    t.ho.prototype.clone = function () {
        var Y = this.R.length
            , S = new t.ho(1);
        S.R = this.R.slice(0);
        S.h = this.h.slice(0);
        S.l = this.l.slice(0);
        S.O = this.O.slice(0);
        return S
    }
        ;
    t.q0.Fh = function () {
        function Y(a, Z) {
            return a[Z] + a[Z + 1] + a[Z + 2] + a[Z + 3]
        }
        function S(a, Z) {
            return a[Z] + a[Z + 1] + a[Z + 2] + 2 * a[Z + 3]
        }
        function h(a, Z, O, c) {
            a[Z] = O[c];
            a[Z + 1] = O[c + 1];
            a[Z + 2] = O[c + 2];
            a[Z + 3] = O[c + 3]
        }
        function q(a, Z, O) {
            a[Z] = a[O];
            a[Z + 1] = a[O + 1];
            a[Z + 2] = a[O + 2];
            a[Z + 3] = a[O + 3]
        }
        function H(a, Z, O) {
            a[O] = Z[O];
            a[O + 1] = Z[O + 1];
            a[O + 2] = Z[O + 2];
            a[O + 3] = 255 - Z[O + 3]
        }
        function I(a) {
            for (var G = 0, Z = a.length; G < Z; G += 4) {
                a[G + 3] = 255 - a[G + 3]
            }
        }
        function E() {
            var a = Math.random();
            if (a > .5)
                return 0;
            if (a > .25)
                return 1;
            if (a > .1)
                return 2;
            if (a > .02143)
                return 3;
            if (a > .00445)
                return 4;
            if (a > 65e-5)
                return 5;
            if (a > 415e-6)
                return 6;
            if (a > 55e-6)
                return 7;
            return 8
        }
        function d(a, Z, O, c, s, x) {
            a[Z] = O[c] + (s[x] - O[c] >> 1);
            a[Z + 1] = O[c + 1] + (s[x + 1] - O[c + 1] >> 1);
            a[Z + 2] = O[c + 2] + (s[x + 2] - O[c + 2] >> 1);
            a[Z + 3] = O[c + 3] + (s[x + 3] - O[c + 3] >> 1)
        }
        function B(a, Z, O, c, s, x) {
            a[Z] = s[x] + O[c] >> 1;
            a[Z + 1] = s[x + 1] + O[c + 1] >> 1;
            a[Z + 2] = s[x + 2] + O[c + 2] >> 1;
            a[Z + 3] = s[x + 3] + O[c + 3] >> 1
        }
        function n(a, Z, O, c, s, x, u, y, j) {
            var v = 0, X = 0, N = 0, G, V = s[x], $;
            d(y, 0, a, Z, a, O);
            for (G = 0; G < V; G++) {
                d(y, (G + 1) * 4, y, G * 4, a, O)
            }
            X = (V + 1) * 4;
            N += V;
            x--;
            h(a, Z, y, X - 4);
            c[x] = Y(a, Z);
            Z -= j;
            while (x > 0 && c[x - 1] < c[x]) {
                $ = y;
                y = u;
                u = $;
                v = X;
                B(y, 0, a, Z - j, u, 0);
                for (G = 4; G < v; G += 4) {
                    B(y, G, y, G - 4, u, G)
                }
                V = s[x];
                for (G = N; G < V; G++) {
                    d(y, X, y, X - 4, u, v - 4);
                    X += 4;
                    N++
                }
                x--;
                h(a, Z, y, X - 4);
                c[x] = Y(a, Z);
                Z -= j
            }
        }
        function g(a, Z, O, c, s) {
            var x = Z * 4, u = 0, y, j, v = new Uint8Array(Z + 1), X = new Uint8Array(10 * 4), N = new Uint8Array(10 * 4);
            for (var G = 0; G < O; G++) {
                H(c, a, u);
                s[0] = Y(c, u);
                v[0] = E();
                y = u;
                u += 4;
                for (var V = 1; V < Z; V++) {
                    H(c, a, u);
                    s[V] = Y(c, u);
                    j = E();
                    v[V] = j;
                    if (s[V - 1] < s[V] && j > 0) {
                        n(c, u - 4, u, s, v, V, X, N, 4)
                    }
                    u += 4
                }
                s[Z] = s[0];
                v[Z] = v[0];
                if (s[Z - 1] < s[Z] && j > 0) {
                    n(c, u, y, s, v, Z, X, N, 4)
                }
            }
            I(c)
        }
        function z() {
            var a = Math.random();
            if (a > .659755)
                return 0;
            if (a > .1625)
                return 10;
            if (a > .06)
                return 20;
            if (a > .01)
                return 30;
            if (a > .0035)
                return 40;
            if (a > 65e-5)
                return 50;
            if (a > 415e-6)
                return 60;
            if (a > 55e-6)
                return 70;
            return 80
        }
        function p(a, Z, O, c, s, x) {
            var u = z() + 1
                , y = c[s];
            for (var G = 1; G < u; G++) {
                if (0 > s)
                    break;
                if (c[s - G] < y) {
                    q(a, Z, O)
                } else {
                    break
                }
                Z += x
            }
        }
        function C(a, Z, O, c, s) {
            var x = Z * 4
                , u = 0;
            for (var G = 0; G < O; G++) {
                H(c, a, u);
                s[0] = Y(c, u);
                u += 4;
                for (var y = 1; y < Z; y++) {
                    H(c, a, u);
                    s[y] = Y(a, u);
                    if (s[y - 1] < s[y]) {
                        p(c, u - 4, u, s, y, -4)
                    }
                    u += 4
                }
                s[Z] = s[0];
                if (s[y - 1] < s[y]) {
                    p(c, u - 4, u - x, s, y, -4)
                }
            }
            I(c)
        }
        function T(a, Z, O, c, s, x) {
            var u = 1, y, j, v = new Uint8Array(4), X, N = Z;
            while (Math.random() < 1 / u) {
                N = Z;
                if (c <= 1)
                    break;
                y = O[c];
                j = O[c - 1];
                if (y <= j)
                    break;
                h(v, 0, a, N - x);
                X = !0;
                for (var G = c; G < s; G++) {
                    if (j > O[G]) {
                        h(a, N - x, v, 0);
                        O[G - 1] = j;
                        X = !1;
                        break
                    }
                    h(a, N - x, a, N);
                    O[G - 1] = O[G];
                    N += x
                }
                if (X) {
                    h(a, N - x, v, 0);
                    O[s - 1] = j
                }
                u++;
                c--;
                Z -= x
            }
        }
        function A(a, Z, O, c, s) {
            var x = 0
                , u = 0
                , y = Z * 4;
            for (var G = 0; G < O; G++) {
                u = x;
                for (var j = 0; j < Z; j++) {
                    H(c, a, x);
                    s[j] = S(c, x);
                    x += 4
                }
                x = u;
                for (var j = 1; j < Z; j++) {
                    if (s[j - 1] < s[j] && Math.random() < .66) {
                        T(c, x + 4, s, j, Z, 4)
                    }
                    x += 4
                }
                x += 4
            }
            I(c)
        }
        function i(a, Z, O, c, s) {
            var x = s[0], u = s[1], y = new Uint16Array(Z + 1), j = a, v = c, X;
            if (u) {
                X = c.slice(0);
                e(a, c, Z, O);
                j = c;
                v = X
            }
            if (x == 0)
                g(j, Z, O, v, y);
            else if (x == 1)
                C(j, Z, O, v, y);
            else if (x == 2)
                A(j, Z, O, v, y);
            if (u) {
                e(X, c, Z, O)
            }
        }
        function e(a, Z, O, c) {
            for (var s = 0; s < c; s++)
                for (var x = 0; x < O; x++) {
                    var u = s * O + x << 2
                        , y = s * O + (O - 1 - x) << 2;
                    Z[y] = a[u];
                    Z[y + 1] = a[u + 1];
                    Z[y + 2] = a[u + 2];
                    Z[y + 3] = a[u + 3]
                }
        }
        return i
    }();
    t.q0.ajs = function () {
        function Y(S, h, q, H) {
            var I = new Uint8Array(S.length)
                , E = new Uint8Array(S.length >>> 2)
                , d = new Uint8Array(S.length >>> 2);
            t.Hd.FH(S, I, h, q, t.Hd.XE[2], 0, !0);
            for (var G = 0; G < S.length; G += 4) {
                var B = I[G + 0] * .3 + I[G + 1] * .59 + I[G + 2] * .11;
                E[G >>> 2] = B;
                H[G + 0] = S[G + 0];
                H[G + 1] = S[G + 1];
                H[G + 2] = S[G + 2];
                H[G + 3] = S[G + 3]
            }
            t.Hd.xm(E, d, h, q);
            for (var G = 0; G < S.length; G += 4) {
                I[G + 3] = ~~(Math.max(0, 255 - d[G >>> 2] - 50) * (255 / 205))
            }
            for (var G = 0, n = S.length; G < n; G += 4) {
                var g = I[G + 3] / 255;
                H[G] = I[G] * g + H[G] * (1 - g);
                H[G + 1] = I[G + 1] * g + H[G + 1] * (1 - g);
                H[G + 2] = I[G + 2] * g + H[G + 2] * (1 - g)
            }
        }
        return Y
    }();
    t.q0.ad5 = function () {
        function Y(S, h, q, H) {
            var I = new Uint8Array(S.length >>> 2)
                , E = new Uint8Array(S.length >>> 2)
                , d = new Uint8Array(S.length);
            for (var G = 0; G < S.length; G += 4) {
                var B = S[G + 0] * .3 + S[G + 1] * .59 + S[G + 2] * .11;
                E[G >>> 2] = B;
                d[G] = S[G];
                d[G + 1] = S[G + 1];
                d[G + 2] = S[G + 2]
            }
            t.Hd.xm(E, I, h, q);
            t.Hd.FH(S, H, h, q, t.Hd.XE[1], 0, !0);
            for (var G = 0; G < S.length; G += 4) {
                d[G + 3] = 255 - I[G >>> 2]
            }
            for (var G = 0, n = S.length; G < n; G += 4) {
                var g = d[G + 3] / 255;
                H[G] = d[G] * g + H[G] * (1 - g);
                H[G + 1] = d[G + 1] * g + H[G + 1] * (1 - g);
                H[G + 2] = d[G + 2] * g + H[G + 2] * (1 - g)
            }
        }
        return Y
    }();
    t.q0.a9c = function () {
        function Y(I, E, d, B, n) {
            var g = new Uint32Array(I.buffer)
                , z = 0;
            for (var G = 0; G < d; G++) {
                for (var p = 0; p < E; p++,
                    z += 4) {
                    var C = g[G * E + p]
                        , T = C & 255
                        , A = C >>> 8 & 255
                        , i = C >>> 16 & 255
                        , e = C >>> 24 & 255
                        , a = ~~(Math.random() * 8)
                        , Z = a % 3
                        , O = 0
                        , c = 0;
                    if (a < 3) {
                        c--
                    } else if (a > 4) {
                        c++
                    }
                    if (Z == 0) {
                        O--
                    } else if (Z == 2) {
                        O++
                    }
                    var s = p + O
                        , x = G + c;
                    if (s < 0)
                        s = 0;
                    else if (s > E - 1)
                        s = E - 1;
                    if (x < 0)
                        x = 0;
                    else if (x > d - 1)
                        x = d - 1;
                    var C = g[x * E + s]
                        , u = C & 255
                        , y = C >>> 8 & 255
                        , j = C >>> 16 & 255
                        , v = C >>> 24 & 255;
                    B[z] = n(T, u);
                    B[z + 1] = n(A, y);
                    B[z + 2] = n(i, j);
                    B[z + 3] = n(e, v)
                }
            }
        }
        function S(I, E) {
            return E
        }
        function h(I, E) {
            return I > E ? E : I
        }
        function q(I, E) {
            return I < E ? E : I
        }
        function H(I, E, d, B, n) {
            var g = n[0];
            if (g == 0)
                Y(I, E, d, B, S);
            else if (g == 1)
                Y(I, E, d, B, h);
            else if (g == 2)
                Y(I, E, d, B, q);
            else if (g == 3) {
                console.error("Not implemented")
            } else
                console.error("Mew mew")
        }
        return H
    }();
    t.q0.amy = function () {
        var Y = [], S = new Uint8Array(512), h = new Float32Array(512), q = new Float32Array(512), H = [1, -1, 1, -1, 1, -1, 0, 0], I = [1, 1, -1, -1, 0, 0, 1, -1], E = 0, d, T = 0;
        for (; E < 256; E++)
            Y[E] = E;
        while (E != 0) {
            E--;
            d = Math.floor(Math.random() * E);
            Y[d] ^= Y[E] ^ (Y[E] = Y[d])
        }
        function B(B) {
            B = Math.floor(B * 65536);
            if (B < 256) {
                B |= B << 8
            }
            for (var G = 0; G < 256; G++) {
                var e = G + 256
                    , a = Y[G] ^ (G & 1 ? B : B >> 8) & 255;
                S[G] = S[e] = a;
                a = a % 8;
                h[G] = h[e] = H[a];
                q[G] = q[e] = I[a]
            }
        }
        function n(e) {
            return e * e * e * (e * (e * 6 - 15) + 10)
        }
        function g(e, a, Z) {
            return (1 - Z) * e + Z * a
        }
        function z(e, a) {
            return e & a
        }
        function p(e, a) {
            return e % a
        }
        function C(e, a, Z, O, c) {
            var s = Math.floor(e), x = Math.floor(a), E, u, y, j, v, X;
            e = e - s;
            a = a - x;
            s = s & 255;
            x = x & 255;
            E = s + S[x];
            j = h[E] * e + q[E] * a;
            E = s + S[c(x + 1, O)];
            y = h[E] * e + q[E] * (a - 1);
            E = c(s + 1, Z) + S[x];
            v = h[E] * (e - 1) + q[E] * a;
            E = c(s + 1, Z) + S[c(x + 1, O)];
            X = h[E] * (e - 1) + q[E] * (a - 1);
            u = n(e);
            return g(g(j, v, u), g(y, X, u), n(a))
        }
        function A(e, E, a) {
            e[E] = a
        }
        function i(e, a, Z, O, c) {
            var s = Math.min(Math.min(a, 256), Math.min(256, Z)), x = s == 256 || s < 8, u = 8, y = new Uint32Array(u), j = new Uint32Array(u), v = new Float32Array(u), X = new Float32Array(u), N = 1, V = 1, $ = x ? z : p, w = A, m;
            for (var G = 0; G < u; G++) {
                m = V * 1 / s;
                if (x) {
                    j[G] = (1 << Math.ceil(Math.log2(Z * m))) - 1;
                    y[G] = (1 << Math.ceil(Math.log2(a * m))) - 1
                } else {
                    j[G] = m * Z;
                    y[G] = m * a
                }
                v[G] = N;
                X[G] = m;
                N *= .5;
                V = V << 1
            }
            B(Math.random());
            for (var l = 0, E = 0; l < Z; l++) {
                for (var b = 0; b < a; b++) {
                    var K = 0;
                    for (var J = 0; J < u; J++) {
                        m = X[J];
                        K += C(b * m, l * m, y[J], j[J], $) * v[J]
                    }
                    w(O, E++, Math.round(Math.max(0, 255 * Math.min(1, .5 + K * .5))))
                }
            }
        }
        return i
    }();
    t.q0.akl = function () {
        function Y(S, h, q, H, I) {
            var E = I && I[0] ? I[0] : 4, d, B, n, g, z, p, C;
            for (var G = 0; G < q; G++) {
                var T = Math.max(G - E, 0)
                    , A = Math.min(G + E, q - 1);
                for (var i = 0; i < h; i++) {
                    var e = Math.max(i - E, 0)
                        , a = Math.min(i + E, h - 1);
                    d = T * h + e << 2;
                    g = S[d];
                    z = S[d + 1];
                    p = S[d + 2];
                    C = S[d + 3];
                    d = T * h + a << 2;
                    g += S[d];
                    z += S[d + 1];
                    p += S[d + 2];
                    C += S[d + 3];
                    d = A * h + e << 2;
                    g += S[d];
                    z += S[d + 1];
                    p += S[d + 2];
                    C += S[d + 3];
                    d = A * h + a << 2;
                    g += S[d];
                    z += S[d + 1];
                    p += S[d + 2];
                    C += S[d + 3];
                    d = G * h + i << 2;
                    H[d] = g + 2 >>> 2;
                    H[d + 1] = z + 2 >>> 2;
                    H[d + 2] = p + 2 >>> 2;
                    H[d + 3] = C + 2 >>> 2
                }
            }
        }
        return Y
    }();
    t.q0.al8 = function () {
        var Y = [-1e3, 34, 51, 61, 71, 80, 87, 95, 101, 108, 113, 119, 124, 129, 134, 139, 143, 148, 153, 157, 161, 165, 168, 172, 175, 180, 183, 186, 190, 194, 197, 200, 203, 207, 210, 213, 216, 218, 222, 225, 228, 230, 233, 236, 239, 241, 244, 247, 250, 252, 255];
        function S(h, q, H, I, E) {
            var d = E[0], B = E[1], n = B <= 50 ? Y[B] / 255 : 1 + (255 - Y[101 - B]) / 255, g = E[2], z = h.length, p = new Float32Array(z), C = 0, T, A = 1 + 1 / 10 * d, i = (1 - 1 / A) / 2, e = 16 / 256, a = q - 1, G, Z, O, c, s = 0, x = 1, u = 255;
            for (G = 0; G < I.length; G++) {
                p[G] = h[G] / 255;
                I[G] = d == 1 ? Math.random() < 1 / 255 ? u : x : x
            }
            function y(j, v) {
                var X = j * q + v;
                if (I[X] != x || j >= H || v >= q) {
                    return
                }
                var O = p[X]
                    , N = n - O
                    , V = Math.random()
                    , $ = V / A + i;
                if (C == 0 || Math.abs(c - O) > e) {
                    T = $ <= N ? s : u;
                    C = ~~(Math.random() * d)
                } else if (.1 < V) {
                    C--
                } else {
                    C = 0
                }
                I[X] = T;
                c = O
            }
            if (g == 0) {
                for (G = 0; G < q; G++) {
                    for (Z = 0; Z < q; Z++) {
                        O = G + Z;
                        if (O >= q)
                            break;
                        y(Z, a - O)
                    }
                    C = 0
                }
                for (G = 1; G < H; G++) {
                    for (Z = 0; Z < H; Z++) {
                        O = G + Z;
                        if (O >= H || Z >= q)
                            break;
                        y(O, a - Z)
                    }
                    C = 0
                }
            } else if (g == 1) {
                for (G = 0; G < H; G++) {
                    for (Z = 0; Z < q; Z++) {
                        y(G, Z)
                    }
                    C = 0
                }
            } else if (g == 2) {
                for (G = 0; G < q; G++) {
                    for (Z = 0; Z < q; Z++) {
                        O = G + Z;
                        if (O >= q)
                            break;
                        y(Z, O)
                    }
                    C = 0
                }
                for (G = 1; G < H; G++) {
                    for (Z = 0; Z < H; Z++) {
                        O = G + Z;
                        if (O >= H || Z >= q)
                            break;
                        y(O, Z)
                    }
                    C = 0
                }
            } else {
                for (G = 0; G < q; G++) {
                    for (Z = 0; Z < H; Z++) {
                        y(Z, G)
                    }
                    C = 0
                }
            }
        }
        return S
    }();
    t.q0.a1g = function () {
        function Y(d) {
            var B = new Uint8Array(256), n = new Uint8Array(256), g = 255, G;
            if (d < 2)
                g = d;
            else if (d < 12)
                g = 5 * d - 5;
            else if (d < 47)
                g = 2 * d + 28;
            else if (d < 50) {
                G = d - 47;
                g = 125 + 12.5 * G + 12.5 * G * G
            }
            for (var G = 0; G < 256; G++) {
                n[G] = g < G ? 0 : 255
            }
            for (var G = 0; G < 256; G++) {
                var z = G << 3;
                B[G] = n[z > 255 ? 255 : z]
            }
            return n
        }
        function S() {
            var d = new Uint8Array(256), G, B;
            for (G = 75,
                B = 15; B < 256; G++,
                B += 24)
                d[G] = B;
            for (; G < 256; G++)
                d[G] = 255;
            return d
        }
        function h(d, B, n, g) {
            H(d, B, n, 11, g)
        }
        function q(d, B, n, g) {
            H(d, B, n, 5, g);
            for (var G = 0; G < g.length; G++)
                g[G] = g[G] < 51 ? 0 : 255
        }
        function H(d, B, n, g, z) {
            t.n8.bc(d, z, new W(0, 0, B, n), g >>> 1)
        }
        function I(d, B) {
            var n = d.length, g;
            for (var G = 0; G < n; G++) {
                g = d[G] - B[G];
                B[G] = g < 0 ? 0 : g
            }
        }
        function E(d, B, n, g, z) {
            var p = z[0]
                , C = z[1]
                , T = Y(p)
                , A = S()
                , i = d.length
                , e = new Uint8Array(i)
                , a = g;
            h(d, B, n, e);
            h(e, B, n, a);
            I(a, d);
            for (var G = 0; G < i; G++) {
                var Z = d[G] * 8;
                d[G] = Z > 255 ? 255 : Z
            }
            I(a, d);
            for (var G = 0; G < i; G++) {
                d[G] = T[d[G]]
            }
            var O = C
                , c = C;
            if ((O & 1) == 0) {
                O++;
                c--
            }
            q(d, B, n, e);
            H(e, B, n, O, a);
            H(a, B, n, c, e);
            for (var G = 0; G < i; G++)
                g[G] = A[255 - e[G]]
        }
        return E
    }();
    t.q0.an1 = function () {
        var Y, H, I, E, d, B;
        function S(e) {
            var a = 0
                , Z = e.length
                , O = new Uint8Array(Z >> 2);
            for (var G = 0; G < Z; G += 4) {
                O[a++] = ~~((e[G] + e[G + 1] + e[G + 2]) / 3)
            }
            Y = O;
            return O
        }
        function h(e, a, Z, O, c) {
            var s = c
                , x = c >> 1
                , u = x - 1
                , y = s * s
                , j = 0;
            for (var G = 0; G < O; G++) {
                var v = 0;
                for (var X = 0; X < s; X++) {
                    for (var N = 0; N < s; N++) {
                        var V = 0 - x + N
                            , $ = G - x + X;
                        if (V < 0)
                            V = 0;
                        else if (V >= Z)
                            V = Z - 1;
                        if ($ < 0)
                            $ = 0;
                        else if ($ >= O)
                            $ = O - 1;
                        v += e[$ * Z + V]
                    }
                }
                a[j++] = ~~(v / y);
                for (var w = 1; w < Z; w++) {
                    for (var X = 0; X < s; X++) {
                        var m = w - x - 1
                            , l = m + s
                            , $ = G - x + X;
                        if (m < 0)
                            m = 0;
                        if (l >= Z)
                            l = Z - 1;
                        if ($ < 0)
                            $ = 0;
                        else if ($ >= O)
                            $ = O - 1;
                        v += e[$ * Z + l] - e[$ * Z + m]
                    }
                    a[j++] = ~~(v / y)
                }
            }
            Y = a
        }
        function q(e, a) {
            var Z = e.length;
            for (var G = 0; G < Z; G++) {
                a[G] = Math.max(e[G] - a[G], 0)
            }
            Y = a
        }
        var n = new Uint8Array(256)
            , g = new Uint8Array(256);
        function z(e) {
            I = e[0];
            d = e[1];
            B = e[2];
            H = 2 * I + 1;
            var a = 5 + 10 * d;
            a += d > 3 ? (d - 3) * 10 : 0;
            var Z = ~~(B * .73) + 50
                , O = Math.min(Z + a, 128)
                , c = O - Z
                , s = -255 * Z;
            E = I + 4;
            for (var G = 0; G < 256; G++) {
                var x = G * 65;
                n[G] = x >= 256 ? 255 : x;
                g[G] = Math.max(Math.min(~~(s / c), 255), 0);
                s += 255
            }
        }
        function p(e, a, Z, O, c, s, x, u, y, j) {
            var v = c + s - 1
                , X = c >> 1
                , N = v >> 1
                , V = 0
                , $ = new Int32Array(c)
                , w = new Int32Array(256)
                , m = new Int32Array(16);
            if (!x) {
                N
            }
            for (var G = 0; G < O; G++) {
                w.fill(0);
                m.fill(0);
                for (var l = 0; l < c; l++) {
                    var b = x ? v - l - s : l;
                    for (var K = b, J = s + b; K < J; K++) {
                        var R = 0 - N + K
                            , r = G - X + l;
                        if (K == b) {
                            $[l] = R
                        }
                        if (R < 0)
                            R = 0;
                        else if (R >= Z)
                            R = Z - 1;
                        if (r < 0)
                            r = 0;
                        else if (r >= O)
                            r = O - 1;
                        var f = e[r * Z + R];
                        w[f]++;
                        m[f >>> 4]++
                    }
                }
                var gf = 0, aa;
                for (aa = 0; aa < 256; aa++) {
                    gf += w[aa];
                    if (gf >= j)
                        break
                }
                a[V++] = aa;
                for (var aA = 1; aA < Z; aA++) {
                    for (var l = 0; l < c; l++) {
                        var r = G - X + l
                            , b = $[l] + 1;
                        $[l] = b;
                        var e5 = b - 1
                            , fk = b + s - 1;
                        if (r < 0)
                            r = 0;
                        else if (r >= O)
                            r = O - 1;
                        if (e5 < 0)
                            e5 = 0;
                        else if (e5 >= Z)
                            e5 = Z - 1;
                        if (fk < 0)
                            fk = 0;
                        else if (fk >= Z)
                            fk = Z - 1;
                        var o = e[r * Z + e5]
                            , eY = e[r * Z + fk];
                        w[o]--;
                        m[o >>> 4]--;
                        w[eY]++;
                        m[eY >>> 4]++
                    }
                    gf = 0;
                    aa = 0;
                    while (gf + m[aa >>> 4] < j) {
                        gf += m[aa >>> 4];
                        aa += 16
                    }
                    for (; aa < 256; aa++) {
                        gf += w[aa];
                        if (gf >= j)
                            break
                    }
                    a[V++] = aa
                }
            }
            Y = a
        }
        function C(e) {
            var a = e.length
                , Z = new Uint8Array(a)
                , G = 0;
            for (; G < a; G++) {
                Z[G] = e[G]
            }
            Y = Z;
            return Z
        }
        function T(e, a) {
            for (var G = 0, Z = e.length; G < Z; G++) {
                e[G] = a[e[G]]
            }
            Y = e
        }
        function A(e, a, Z, O) {
            var c = 0;
            for (var G = 0; G < Z; G++) {
                var s = G * O
                    , x = (G - 1) * O
                    , u = (G + 1) * O;
                if (x < 0)
                    x = s;
                if (u >= Z)
                    u = s;
                for (var y = 0; y < O; y++) {
                    var j = y - 1
                        , v = y + 1;
                    if (j < 0)
                        j = y;
                    if (v >= O)
                        v = y;
                    var X = e[s + j]
                        , N = e[s + v]
                        , V = e[x + y]
                        , $ = e[u + y]
                        , w = e[s + y];
                    a[c++] = Math.min(Math.max(w + 2 * (4 * w - (X + N + V + $)), 0), 255)
                }
            }
            Y = a
        }
        function i(e, a, Z, O, c) {
            z(c);
            var s = e.length
                , x = new Uint8Array(s)
                , u = C(e);
            h(e, x, a, Z, H);
            for (var G = 0; G < s; G++) {
                e[G] = Math.min(Math.max(x[G] - e[G], 0) * 65, 255)
            }
            p(e, x, a, Z, 9, 3, !0, 0, 65, 20);
            for (var G = 0; G < s; G++) {
                var y = u[G]
                    , j = x[G];
                if (j > 0)
                    e[G] = ~~((j * y + (255 - j) * 128) / 255);
                else
                    e[G] = 128
            }
            Y = e;
            h(e, x, a, Z, 3);
            p(x, e, a, Z, 15, 2, !0, 0, 1, 16);
            p(x, u, a, Z, 15, 2, !1, 0, 1, 15);
            for (var G = 0; G < s; G++) {
                u[G] = e[G] + u[G] >> 1
            }
            Y = u;
            A(u, x, Z, a);
            T(x, g);
            h(x, e, a, Z, 2);
            O.set(Y)
        }
        return i
    }();
    t.m2 = {
        amN: function (Y, S) {
            var G = Y.length;
            Y.push(S);
            var h = G >>> 1;
            while (h != 0 && Y[G][0] < Y[h][0]) {
                var q = Y[G];
                Y[G] = Y[h];
                Y[h] = q;
                G = h;
                h = G >>> 1
            }
        },
        a9m: function (Y) {
            if (Y.length == 2)
                return Y.pop();
            var top = Y[1]
                , G = 1;
            Y[1] = Y.pop();
            var S = Y.length;
            while (!0) {
                var h = G << 1
                    , q = h + 1
                    , H = G;
                if (h < S && Y[h][0] < Y[H][0])
                    H = h;
                if (q < S && Y[q][0] < Y[H][0])
                    H = q;
                if (H == G)
                    break;
                var I = Y[G];
                Y[G] = Y[H];
                Y[H] = I;
                G = H
            }
            return top
        },
        ahk: function (Y) {
            for (var G = 1; G < Y.length; G++) {
                var S = G
                    , h = 1e9;
                while (S != 0) {
                    var q = Y[S][0];
                    if (q > h) {
                        console.log(G);
                        throw "e"
                    }
                    h = q;
                    S = S >>> 1
                }
            }
        }
    };
    t.Q = {};
    t.Q.c2 = new Float64Array(256);
    t.Q.yz = new Uint8Array(256 * 256);
    t.Q.DG = new Uint8Array(256 * 256);
    (function () {
        for (var G = 0; G < 256; G++)
            t.Q.c2[G] = 255 / G;
        for (var G = 0; G < 256; G++)
            for (var Y = 0; Y < 256; Y++)
                t.Q.yz[G * 256 + Y] = G == 0 ? 0 : Math.round(Y * 255 / G);
        for (var G = 0; G < 256; G++)
            for (var Y = 0; Y < 256; Y++)
                t.Q.DG[G * 256 + Y] = Math.round(G * (255 - Y) / 255)
    }());
    t.Q.Bc = function (Y, S, h, q, H, I, E, d) {
        if (d == null)
            d = av.$N();
        if ("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(Y) == -1) {
            E = E * d.fill;
            d.fill = 1;
            d.style = !1
        }
        var B = "norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(",")
            , n = "dkCl,lgCl,hue ,sat ,colr,lum ".split(",")
            , g = t.Q[Y + "F"];
        if (d.$P == null && Y == "norm")
            t.Q.aj$(S, h, q, H, I, E, g, d.x6 ? 1 : 0);
        else if (Y == "diss")
            t.Q.aaF(S, h, q, H, I, E, g, d.x6 ? 1 : 0);
        else if (B.indexOf(Y) != -1)
            t.Q.agt(S, h, q, H, I, E, g, d);
        else if (n.indexOf(Y) != -1)
            t.Q.a5s(S, h, q, H, I, E, g, d)
    }
        ;
    t.Q.aos = function (Y, S, h) {
        var q = Y * h + 1 - h;
        return q < .001 ? 0 : 1 - Math.min(1, (1 - S) / q)
    }
        ;
    t.Q.amz = function (Y, S, h) {
        return Y * h == 1 ? 1 : Math.min(1, S / (1 - Y * h))
    }
        ;
    t.Q.My = function (Y) {
        return Y <= .25 ? ((16 * Y - 12) * Y + 4) * Y : Math.sqrt(Y)
    }
        ;
    t.Q.normF = function (Y, S, h) {
        return Y
    }
        ;
    t.Q.darkF = function (Y, S, h) {
        return Math.min(Y, S)
    }
        ;
    t.Q["mul F"] = function (Y, S, h) {
        return Y * S
    }
        ;
    t.Q.idivF = function (Y, S, h) {
        var q = Y * h + 1 - h;
        return S == 1 ? 1 : 1 - S >= q ? 0 : 1 - (1 - S) / q
    }
        ;
    t.Q.lbrnF = function (Y, S, h) {
        return Math.max(0, Y * h + S - h)
    }
        ;
    t.Q.dkClF = function (Y, S, h) {
        var q = t.s4(Y) < t.s4(S) ? Y : S;
        h.h = q.h;
        h.l = q.l;
        h.O = q.O;
        return h
    }
        ;
    t.Q.liteF = function (Y, S, h) {
        return Math.max(Y, S)
    }
        ;
    t.Q.scrnF = function (Y, S, h) {
        return S + Y - S * Y
    }
        ;
    t.Q["div F"] = function (Y, S, h) {
        Y *= h;
        return S == 0 ? 0 : S >= 1 - Y ? 1 : S / (1 - Y)
    }
        ;
    t.Q.lddgF = function (Y, S, h) {
        Y *= h;
        return Math.min(1, Y + S)
    }
        ;
    t.Q.lgClF = function (Y, S, h) {
        var q = t.s4(Y) > t.s4(S) ? Y : S;
        h.h = q.h;
        h.l = q.l;
        h.O = q.O;
        return h
    }
        ;
    t.Q.overF = function (Y, S, h) {
        return t.Q.hLitF(S, Y, h)
    }
        ;
    t.Q.sLitF = function (Y, S, h) {
        return Y <= .5 ? S - (1 - 2 * Y) * S * (1 - S) : S + (2 * Y - 1) * (t.Q.My(S) - S)
    }
        ;
    t.Q.hLitF = function (Y, S, h) {
        return Y <= .5 ? t.Q["mul F"](2 * Y, S, h) : t.Q.scrnF(2 * Y - 1, S, h)
    }
        ;
    t.Q.vLitF = function (Y, S, h) {
        return Y <= .5 ? t.Q.aos(2 * Y, S, h) : t.Q.amz(2 * Y - 1, S, h)
    }
        ;
    t.Q.lLitF = function (Y, S, h) {
        return Y <= .5 ? t.Q.lbrnF(2 * Y, S, h) : t.Q.lddgF(2 * Y - 1, S, h)
    }
        ;
    t.Q.pLitF = function (Y, S, h) {
        return Y <= .5 ? t.Q.darkF(2 * Y, S, h) : t.Q.liteF(2 * Y - 1, S, h)
    }
        ;
    t.Q.hMixF = function (Y, S, h) {
        if (h > .99)
            return Y + S < 1 ? 0 : 1;
        return Math.min(1, Math.max(0, (S + Y * h - h) / (1 - h + 1e-6)))
    }
        ;
    t.Q.diffF = function (Y, S, h) {
        Y *= h;
        return Math.abs(Y - S)
    }
        ;
    t.Q.smudF = function (Y, S, h) {
        return Y + S - 2 * Y * S
    }
        ;
    t.Q.fsubF = function (Y, S, h) {
        return Math.max(S - Y, 0)
    }
        ;
    t.Q.fdivF = function (Y, S, h) {
        return Math.min(S / Y, 1)
    }
        ;
    t.Q["hue F"] = function (Y, S, h) {
        t.I4(Y, t.eP(S), h);
        t.VU(h, t.s4(S), h)
    }
        ;
    t.Q["sat F"] = function (Y, S, h) {
        t.I4(S, t.eP(Y), h);
        t.VU(h, t.s4(S), h)
    }
        ;
    t.Q.colrF = function (Y, S, h) {
        t.VU(Y, t.s4(S), h)
    }
        ;
    t.Q["lum F"] = function (Y, S, h) {
        t.VU(S, t.s4(Y), h)
    }
        ;
    t.Q.aj$ = function (Y, S, h, q, H, I, E, d) {
        var B = S.lF(q).lF(H)
            , n = Math.max(0, B.x - S.x)
            , g = Math.max(0, B.x - q.x)
            , z = Math.max(0, B.y - S.y)
            , p = Math.max(0, B.y - q.y)
            , C = B.d
            , T = B.v
            , A = S.d
            , i = q.d
            , e = t.Q.yz
            , a = t.Q.DG
            , Z = new Uint32Array(Y.buffer)
            , O = new Uint32Array(h.buffer);
        for (var G = 0; G < T; G++) {
            var c = (z + G) * A + n
                , s = (p + G) * i + g;
            for (var x = 0; x < C; x++) {
                var u = Z[c + x]
                    , v = 255;
                if (u >>> 24 == 0)
                    continue;
                if (u >>> 24 == 255 && I == 1 && d == 0) {
                    O[s + x] = Z[c + x];
                    continue
                }
                var y = O[s + x]
                    , j = 255 * I & 255;
                if (d == 0) {
                    j = (u >>> 24) * I & 255;
                    v = y >>> 24
                }
                var X = a[v << 8 | j]
                    , N = j + X
                    , V = u & 255
                    , $ = u >>> 8 & 255
                    , w = u >>> 16 & 255
                    , m = y & 255
                    , l = y >>> 8 & 255
                    , b = y >>> 16 & 255;
                O[s + x] = d * (y >>> 24) + (1 - d) * N << 24 | e[N << 8 | t.Fi(w * j + b * X)] << 16 | e[N << 8 | t.Fi($ * j + l * X)] << 8 | e[N << 8 | t.Fi(V * j + m * X)]
            }
        }
    }
        ;
    t.Q.a2U = function (Y, S, h, q, H, I) {
        var E = S.lF(q).lF(H)
            , d = Math.max(0, E.x - S.x)
            , B = Math.max(0, E.x - q.x)
            , n = Math.max(0, E.y - S.y)
            , g = Math.max(0, E.y - q.y)
            , z = E.d
            , p = E.v
            , C = S.d
            , T = q.d
            , A = t.Q.yz
            , i = t.Q.DG
            , e = new Uint32Array(Y.buffer)
            , a = new Uint32Array(h.buffer)
            , Z = Math.floor(Math.random() * 16777215)
            , O = 0;
        for (var G = 0; G < p; G++) {
            var c = (n + G) * C + d
                , s = (g + G) * T + B;
            for (var x = 0; x < z; x++) {
                var u = e[c + x];
                if (u >>> 24 == 0)
                    continue;
                if (u >> 24 == 255 && I == 1) {
                    a[s + x] = u;
                    continue
                }
                var y = a[s + x]
                    , j = (u >>> 24) * I * (1 / 255)
                    , v = (y >>> 24) * (1 / 255)
                    , X = v * (1 - j)
                    , N = j + X
                    , V = u & 255
                    , $ = u >>> 8 & 255
                    , w = u >>> 16 & 255
                    , m = y & 255
                    , l = y >>> 8 & 255
                    , b = y >>> 16 & 255;
                O >>>= 8;
                if ((x & 3) == 0)
                    O = t.Q.aP(s + x + Z);
                var K = N == 0 ? 0 : 1 / N
                    , J = Math.floor(N * (256 * 255)) + (O & 255) >>> 8
                    , R = Math.floor((w * j + b * X) * K + .5)
                    , r = Math.floor(($ * j + l * X) * K + .5)
                    , f = Math.floor((V * j + m * X) * K + .5);
                a[s + x] = J << 24 | R << 16 | r << 8 | f
            }
        }
    }
        ;
    t.Q.ls = function (Y, S, h, q, H, I, E, d) {
        var B = t.re(Y, S, h)
            , n = t.re(q, H, I)
            , g = Math.min
            , z = t.Q.ago
            , p = z(B, d, 0);
        p = g(p, z(Y, d, 8));
        p = g(p, z(S, d, 16));
        p = g(p, z(h, d, 24));
        var C = z(n, d, 4);
        C = g(C, z(q, d, 12));
        C = g(C, z(H, d, 20));
        C = g(C, z(I, d, 28));
        C = Math.max(C, 1 - E);
        var T = Math.min(p, C);
        return T < 0 ? 0 : T > 1 ? 1 : T
    }
        ;
    t.Q.ago = function (Y, S, G) {
        return Math.min((Y - S[G]) * S[G + 1], (Y - S[G + 3]) * S[G + 2])
    }
        ;
    t.Q.agt = function (Y, S, h, q, H, I, E, d) {
        var B = 1 / 255
            , n = B * I
            , g = d.x6 ? 1 : 0
            , z = d.fill
            , p = d.style
            , C = S.lF(q).lF(H)
            , T = Math.max(0, C.x - S.x)
            , A = Math.max(0, C.x - q.x)
            , i = Math.max(0, C.y - S.y)
            , e = Math.max(0, C.y - q.y)
            , a = C.d
            , Z = C.v
            , O = S.d
            , c = q.d
            , s = new Uint32Array(Y.buffer)
            , x = new Uint32Array(h.buffer);
        for (var G = 0; G < Z; G++) {
            var u = (i + G) * O + T
                , y = (e + G) * c + A;
            for (var j = 0; j < a; j++,
                u++,
                y++) {
                var v = s[u]
                    , K = 1;
                if (v >>> 24 == 0)
                    continue;
                var X = x[y]
                    , N = (v & 255) * B
                    , V = (v >>> 8 & 255) * B
                    , $ = (v >>> 16 & 255) * B
                    , w = (X & 255) * B
                    , m = (X >>> 8 & 255) * B
                    , l = (X >>> 16 & 255) * B
                    , b = I;
                if (g == 0) {
                    b = (v >>> 24) * n;
                    K = (X >>> 24) * B
                }
                if (d.$P)
                    b *= t.Q.ls(N, V, $, w, m, l, K, d.$P);
                var J = K * (1 - b)
                    , R = b + J
                    , r = R == 0 ? 0 : 255 / R
                    , f = p ? 1 : b
                    , gf = ((1 - K) * b * N + (1 - f) * K * w + f * K * E(N, w, (1 + b - f) * z)) * r
                    , aa = ((1 - K) * b * V + (1 - f) * K * m + f * K * E(V, m, (1 + b - f) * z)) * r
                    , aA = ((1 - K) * b * $ + (1 - f) * K * l + f * K * E($, l, (1 + b - f) * z)) * r;
                R = b * z + K * (1 - b * z);
                var e5 = ~~(R * 255 + .5);
                x[y] = g * (X >>> 24) + (1 - g) * e5 << 24 | aA << 16 | aa << 8 | gf
            }
        }
    }
        ;
    t.Q.a5s = function (Y, S, h, q, H, I, E, d) {
        var B = 1 / 255
            , n = B * I
            , g = d.x6 ? 1 : 0
            , z = S.lF(q).lF(H)
            , p = Math.max(0, z.x - S.x)
            , C = Math.max(0, z.x - q.x)
            , T = Math.max(0, z.y - S.y)
            , A = Math.max(0, z.y - q.y)
            , i = z.d
            , e = z.v
            , a = new Uint32Array(Y.buffer)
            , Z = new Uint32Array(h.buffer)
            , O = {
                h: 0,
                l: 0,
                O: 0
            }
            , c = {
                h: 0,
                l: 0,
                O: 0
            }
            , s = {
                h: 0,
                l: 0,
                O: 0
            };
        for (var G = 0; G < e; G++) {
            var x = (T + G) * S.d + p
                , u = (A + G) * q.d + C;
            for (var y = 0; y < i; y++,
                x++,
                u++) {
                var j = a[x]
                    , v = Z[u]
                    , X = (j & 255) * B
                    , N = (j >>> 8 & 255) * B
                    , V = (j >>> 16 & 255) * B
                    , $ = (v & 255) * B
                    , w = (v >>> 8 & 255) * B
                    , m = (v >>> 16 & 255) * B
                    , l = I
                    , b = 1;
                if (g == 0) {
                    l = (j >>> 24) * n;
                    b = (v >>> 24) * B
                }
                if (d.$P)
                    l *= t.Q.ls(X, N, V, $, w, m, b, d.$P);
                var K = b * (1 - l)
                    , J = l + K
                    , R = 255 / J;
                O.h = X;
                O.l = N;
                O.O = V;
                c.h = $;
                c.l = w;
                c.O = m;
                E(O, c, s);
                var r = (((1 - b) * X + b * s.h) * l + $ * K) * R
                    , f = (((1 - b) * N + b * s.l) * l + w * K) * R
                    , gf = (((1 - b) * V + b * s.O) * l + m * K) * R
                    , aa = g * (v >>> 24) + (1 - g) * Math.round(J * 255);
                Z[u] = aa << 24 | gf << 16 | f << 8 | r
            }
        }
    }
        ;
    t.Q.tK = function (Y) {
        Y = Y ^ 61 ^ Y >>> 16;
        Y = Y + (Y << 3);
        Y = Y ^ Y >>> 4;
        Y = Y * 668265261;
        Y = Y ^ Y >> 15;
        return (Y & 16777215) * (1 / 16777215)
    }
        ;
    t.Q.aP = function (Y) {
        Y = Y ^ 61 ^ Y >>> 16;
        Y = Y + (Y << 3);
        Y = Y ^ Y >>> 4;
        Y = Y * 668265261;
        Y = Y ^ Y >>> 15;
        return Y
    }
        ;
    t.Q.On = function (Y) {
        this.sU = Y
    }
        ;
    t.Q.On.prototype.get = function () {
        var Y = this.sU = t.Q.aP(this.sU);
        return (Y & 16777215) * (1 / 16777215)
    }
        ;
    t.Q.aaF = function (Y, S, h, q, H, I, E, d) {
        var B = 1 / 255
            , n = B * I
            , g = Math.round(I * (256 * 256 * 256 / 255))
            , z = S.lF(q).lF(H)
            , p = Math.max(0, z.x - S.x)
            , C = Math.max(0, z.x - q.x)
            , T = Math.max(0, z.y - S.y)
            , A = Math.max(0, z.y - q.y)
            , i = z.d
            , e = z.v
            , a = new Uint32Array(Y.buffer)
            , Z = new Uint32Array(h.buffer);
        for (var G = 0; G < e; G++) {
            var O = (T + G) * S.d + p
                , c = (A + G) * q.d + C;
            for (var s = 0; s < i; s++,
                O++,
                c++) {
                var x = a[O]
                    , u = Z[c]
                    , y = d * 255 + (1 - d) * (x >>> 24);
                if ((t.Q.aP(O) & 16777215) >= y * g)
                    continue;
                Z[c] = x & 16777215 | d * (u >>> 24) + (1 - d) * 255 << 24
            }
        }
    }
        ;
    t.Q.akP = function (Y, S, h) {
        for (var G = 0; G < Y.length; G += 4) {
            var q = h[G >>> 2];
            if (q == 0)
                continue;
            var H = q * (1 / 255)
                , I = 1 / H
                , E = S[G]
                , d = S[G + 1]
                , B = S[G + 2]
                , n = Y[G]
                , g = Y[G + 1]
                , z = Y[G + 2];
            S[G] = Math.min(255, Math.max(0, Math.round((E - (1 - H) * n) * I)));
            S[G + 1] = Math.min(255, Math.max(0, Math.round((d - (1 - H) * g) * I)));
            S[G + 2] = Math.min(255, Math.max(0, Math.round((B - (1 - H) * z) * I)));
            S[G + 3] = 255
        }
    }
        ;
    t.Q.OA = function (Y, S, h, q, H, I, E, d, B, n, g) {
        if (n == null)
            n = !1;
        if (g == null)
            g = [1, 1, 1];
        var z = 255 << 24 | g[2] * 16711680 | g[1] * 65280 | g[0] * 255
            , p = ~z;
        if (H && !S.ma(I)) {
            var C = t.m(S.e() * 4);
            C.fill(E);
            t.m7(H, I, C, S);
            H = C;
            I = S
        }
        if (n) {
            if (H == null)
                t.Q.agW(Y, S, h, q, H, d, B, z, p);
            else
                t.Q.aeK(Y, S, h, q, H, d, B)
        } else {
            if (H == null)
                t.Q.a0f(Y, S, h, q, H, d, B, z, p);
            else
                t.Q.amJ(Y, S, h, q, H, d, B)
        }
    }
        ;
    t.Q.a0f = function (Y, S, h, q, H, I, E, d, B) {
        var n = 1 / 255
            , g = S.lF(q).lF(I)
            , z = Math.max(0, g.x - S.x)
            , p = Math.max(0, g.x - q.x)
            , C = Math.max(0, g.y - S.y)
            , T = Math.max(0, g.y - q.y)
            , A = g.d
            , i = g.v
            , e = new Uint32Array(Y.buffer)
            , a = new Uint32Array(h.buffer)
            , Z = t.Q.yz
            , O = E * 255 & 255;
        for (var G = 0; G < i; G++) {
            var c = (C + G) * S.d + z
                , s = (T + G) * q.d + p;
            for (var x = 0; x < A; x++,
                c++,
                s++) {
                var u = e[c]
                    , y = a[s]
                    , j = u >>> 24
                    , v = y >>> 24
                    , X = t.Fi(O * j + (255 - O) * v)
                    , N = t.Fi(j * O)
                    , V = t.Fi(v * (255 - O))
                    , $ = u & 255
                    , w = u >>> 8 & 255
                    , m = u >>> 16 & 255
                    , l = y & 255
                    , b = y >>> 8 & 255
                    , K = y >>> 16 & 255
                    , J = N * $ + l * V
                    , R = N * w + b * V
                    , r = N * m + K * V;
                J = Z[X << 8 | t.Fi(J)];
                R = Z[X << 8 | t.Fi(R)];
                r = Z[X << 8 | t.Fi(r)];
                var f = X << 24 | r << 16 | R << 8 | J;
                a[s] = B & y | d & f
            }
        }
    }
        ;
    t.Q.agW = function (Y, S, h, q, H, I, E, d, B) {
        var n = 1 / 255
            , g = S.lF(q).lF(I)
            , z = Math.max(0, g.x - S.x)
            , p = Math.max(0, g.x - q.x)
            , C = Math.max(0, g.y - S.y)
            , T = Math.max(0, g.y - q.y)
            , A = g.d
            , i = g.v
            , e = new Uint32Array(Y.buffer)
            , a = new Uint32Array(h.buffer)
            , Z = t.Q.yz
            , O = E * 16777215 & 16777215;
        for (var G = 0; G < i; G++) {
            var c = (C + G) * S.d + z
                , s = (T + G) * q.d + p;
            for (var x = 0; x < A; x++,
                c++,
                s++) {
                if ((t.Q.aP(c) & 16777215) < O) {
                    a[s] = B & a[s] | d & e[c]
                }
            }
        }
    }
        ;
    t.Q.amJ = function (Y, S, h, q, H, I, E) {
        var d = 1 / 255
            , B = S.lF(q).lF(I)
            , n = Math.max(0, B.x - S.x)
            , g = Math.max(0, B.x - q.x)
            , z = Math.max(0, B.y - S.y)
            , p = Math.max(0, B.y - q.y)
            , C = B.d
            , T = B.v
            , A = new Uint32Array(Y.buffer)
            , i = new Uint32Array(h.buffer)
            , e = t.Q.yz;
        for (var G = 0; G < T; G++) {
            var a = (z + G) * S.d + n
                , Z = (p + G) * q.d + g;
            for (var O = 0; O < C; O++,
                a++,
                Z++) {
                var c = H[a] * E & 255;
                if (c == 0)
                    continue;
                if (c == 255) {
                    i[Z] = A[a];
                    continue
                }
                var s = A[a]
                    , x = i[Z]
                    , u = s >>> 24
                    , y = x >>> 24
                    , j = t.Fi(c * u + (255 - c) * y)
                    , v = t.Fi(u * c)
                    , X = t.Fi(y * (255 - c))
                    , N = s & 255
                    , V = s >>> 8 & 255
                    , $ = s >>> 16 & 255
                    , w = x & 255
                    , m = x >>> 8 & 255
                    , l = x >>> 16 & 255
                    , b = e[j << 8 | t.Fi(v * N + w * X)]
                    , K = e[j << 8 | t.Fi(v * V + m * X)]
                    , J = e[j << 8 | t.Fi(v * $ + l * X)];
                i[Z] = j << 24 | J << 16 | K << 8 | b
            }
        }
    }
        ;
    t.Q.aeK = function (Y, S, h, q, H, I, E) {
        var d = 1 / 255
            , B = S.lF(q).lF(I)
            , n = Math.max(0, B.x - S.x)
            , g = Math.max(0, B.x - q.x)
            , z = Math.max(0, B.y - S.y)
            , p = Math.max(0, B.y - q.y)
            , C = B.d
            , T = B.v
            , A = new Uint32Array(Y.buffer)
            , i = new Uint32Array(h.buffer)
            , e = t.Q.yz
            , a = Math.round(E * 257);
        for (var G = 0; G < T; G++) {
            var Z = (z + G) * S.d + n
                , O = (p + G) * q.d + g;
            for (var c = 0; c < C; c++,
                Z++,
                O++) {
                var s = H[Z] * a;
                if ((t.Q.aP(Z) & 65535) < s)
                    i[O] = A[Z]
            }
        }
    }
        ;
    t.Q.zE = function (Y, S, h, q, H, I, E) {
        var d = 1 / 255
            , B = S.lF(q).lF(I)
            , n = Math.max(0, B.x - S.x)
            , g = Math.max(0, B.x - q.x)
            , z = Math.max(0, B.y - S.y)
            , p = Math.max(0, B.y - q.y)
            , C = B.d
            , T = B.v
            , A = new Uint32Array(Y.buffer)
            , i = new Uint32Array(h.buffer)
            , e = Math.floor(Math.random() * q.e())
            , a = t.Q.a9x;
        for (var G = 0; G < T; G++) {
            var Z = (z + G) * S.d + n
                , O = (p + G) * q.d + g;
            for (var c = 0; c < C; c++) {
                var s = H[Z + c] * E;
                if (s == 0)
                    continue;
                if (s == 255) {
                    i[O + c] = A[Z + c];
                    continue
                }
                var x = A[Z + c]
                    , u = i[O + c]
                    , y = x >>> 24
                    , j = u >>> 24
                    , v = y * s * (1 / 255)
                    , X = j * (255 - s) * (1 / 255)
                    , N = x & 255
                    , V = x >>> 8 & 255
                    , $ = x >>> 16 & 255
                    , w = u & 255
                    , m = u >>> 8 & 255
                    , l = u >>> 16 & 255
                    , b = t.Q.aP(O + c + e)
                    , K = Math.floor((v + X) * 256 + .5) + (b >>> 0 & 255) >>> 8
                    , J = K == 0 ? 0 : 256 / (v + X)
                    , R = N * v + w * X
                    , r = V * v + m * X
                    , f = $ * v + l * X
                    , gf = Math.floor(R * J + .5) + (b >>> 8 & 255) >>> 8
                    , aa = Math.floor(r * J + .5) + (b >>> 16 & 255) >>> 8
                    , aA = Math.floor(f * J + .5) + (b >>> 21 & 248) >>> 8;
                i[O + c] = K << 24 | aA << 16 | aa << 8 | gf
            }
        }
    }
        ;
    t.Q.a9x = function (Y) {
        return Math.floor(Y + Math.random())
    }
        ;
    t.Q.Oo = function (Y, S, h, q, H, I, E) {
        var d = 1 / 255
            , B = S.lF(q).lF(I)
            , n = Math.max(0, B.x - S.x)
            , g = Math.max(0, B.x - q.x)
            , z = Math.max(0, B.y - S.y)
            , p = Math.max(0, B.y - q.y)
            , C = B.d
            , T = B.v;
        for (var G = 0; G < T; G++) {
            var A = (z + G) * S.d + n
                , i = (p + G) * q.d + g;
            for (var e = 0; e < C; e++,
                A++,
                i++) {
                var a = E * H[A] * d;
                if (a == 0)
                    continue;
                if (a == 1) {
                    h[i] = Y[A];
                    continue
                }
                h[i] = Y[A] * a + h[i] * (1 - a)
            }
        }
    }
        ;
    t.FP = {};
    t.FP.a9a = function (Y, S, h, q, H, I) {
        t.FP.xt(Y, S, h, q, H, I, null, 0)
    }
        ;
    t.FP.a2M = function (Y, S, h, q, H) {
        t.FP.xt(Y, S, h, q, H, null, null, 0)
    }
        ;
    t.FP.a6Z = function (Y, S, h, q, H, I, E) {
        t.FP.xt(Y, S, h, q, H, null, I, E * .5)
    }
        ;
    t.FP.xt = function (Y, S, h, q, H, I, E, d) {
        var B = 0
            , X = 0
            , N = 1e9
            , V = 0
            , $ = 1e9
            , w = 0
            , m = 1e9
            , l = 0
            , b = 0
            , K = 0
            , J = 0;
        if (I) {
            B = H * .5;
            H = 3 + Math.round((H - 3) * .75)
        }
        if (E) {
            H = Math.round(H * 2.2)
        }
        var n = 1 / H
            , g = Math.floor(S * n) + 1
            , z = Math.floor(h * n) + 1
            , p = []
            , C = new Uint8Array(g * z * 4)
            , T = E ? .5 : 1
            , A = I ? 64 : 0;
        for (var i = 0; i < z; i++) {
            var e = E ? .5 * (i & 1) : 0;
            for (var a = 0; a < g; a++) {
                var Z = (a + Math.random() * T + e) * H
                    , O = (i + Math.random() * T) * H;
                p.push(Z, O);
                var c = Math.min(S - 1, Math.floor(Z))
                    , s = Math.min(h - 1, Math.floor(O))
                    , x = (s * S + c) * 4
                    , u = (i * g + a) * 4;
                for (var G = 0; G < 4; G++)
                    C[u + G] = Math.max(0, Math.min(255, Math.floor(Y[x + G] + (Math.random() - .5) * A)))
            }
        }
        var y = I ? I : E ? E : [0, 0, 0]
            , j = g * z * 2
            , v = [-g - 1, -g, -g + 1, -1, 0, 1, g - 1, g, g + 1];
        for (var i = 0; i < h; i++) {
            K = 0;
            for (var a = 0; a < S; a++) {
                var R = a + .5
                    , r = i + .5
                    , f = Math.floor(r * n)
                    , gf = Math.floor(R * n)
                    , aa = f * g + gf
                    , fk = 0
                    , o = 0;
                if (K > 1 + d) {
                    N = t.FP.w2(p, X, R, r);
                    l = Math.sqrt(N);
                    K--;
                    J++
                } else {
                    N = $ = m = 1e9;
                    for (var G = 0; G < v.length; G++) {
                        var aA = (aa + v[G]) * 2;
                        if (aA < 0 || aA >= j)
                            continue;
                        var e5 = t.FP.w2(p, aA, R, r);
                        if (e5 < m) {
                            if (e5 < $) {
                                if (e5 < N) {
                                    w = V;
                                    m = $;
                                    V = X;
                                    $ = N;
                                    X = aA;
                                    N = e5
                                } else {
                                    w = V;
                                    m = $;
                                    V = aA;
                                    $ = e5
                                }
                            } else {
                                w = aA;
                                m = e5
                            }
                        }
                    }
                    l = Math.sqrt(N);
                    b = Math.sqrt($);
                    K = b - (l + b) * .5
                }
                if (E == null) {
                    var eY = (l + b) * .5
                        , du = I ? Math.max(0, eY - B) : 0;
                    fk = Math.max(0, Math.min(1, .5 + eY - l - du));
                    o = Math.max(0, Math.min(1, 1 - (.5 + eY - l) - du))
                } else {
                    var dV = Math.min(t.FP.pi(p, X, V, R, r), t.FP.pi(p, X, w, R, r));
                    fk = Math.max(0, Math.min(1, dV - d * .5));
                    if (R < d || S - d < R || r < d || h - d < r)
                        fk = 0;
                    o = 0
                }
                var hy = 1 - o - fk
                    , u = i * S + a << 2
                    , bq = X << 1
                    , i5 = V << 1;
                q[u + 0] = Math.floor(.5 + fk * C[bq + 0] + o * C[i5 + 0] + hy * y[0]);
                q[u + 1] = Math.floor(.5 + fk * C[bq + 1] + o * C[i5 + 1] + hy * y[1]);
                q[u + 2] = Math.floor(.5 + fk * C[bq + 2] + o * C[i5 + 2] + hy * y[2]);
                q[u + 3] = Y[u + 3]
            }
        }
    }
        ;
    t.FP.w2 = function (Y, S, h, q) {
        var H = h - Y[S]
            , I = q - Y[S + 1];
        return H * H + I * I
    }
        ;
    t.FP.pi = function (Y, S, h, q, H) {
        var I = Y[S]
            , E = Y[S + 1]
            , d = Y[h]
            , B = Y[h + 1]
            , n = (I + d) * .5
            , g = (E + B) * .5
            , z = n + (B - E)
            , p = g - (d - I)
            , C = p - g
            , T = z - n;
        return Math.abs(C * q - T * H + z * g - p * n) / Math.sqrt(T * T + C * C)
    }
        ;
    t.n8 = {};
    t.n8.Ri = function (Y) {
        if (t.n8.zL.length < Y)
            t.n8.zL = t.m(Y);
        return t.n8.zL
    }
        ;
    t.n8.zL = t.m(0);
    t.n8.Pc = function (Y) {
        if (t.n8.tw.length < Y)
            t.n8.tw = new Float32Array(Y);
        return t.n8.tw
    }
        ;
    t.n8.tw = new Float32Array(0);
    t.n8.NC = function (Y, S, h, q) {
        var H = h.d
            , I = h.v;
        t.n8.amb(Y, S, H, I, q)
    }
        ;
    t.n8.MQ = function (Y, S, h, q) {
        var H = h.d
            , I = h.v;
        t.n8.aas(Y, S, H, I, q)
    }
        ;
    t.n8.ada = function (Y, S, h) {
        var q = S.d
            , H = S.v;
        t.n8.anG(Y, q, H, h)
    }
        ;
    t.n8.SL = function (Y, S, h, q, H) {
        var I = h.d
            , E = h.v;
        t.n8.ajj(Y, S, I, E, q, H)
    }
        ;
    t.n8.bc = function (Y, S, h, q) {
        var H = h.d
            , I = h.v;
        q = Math.round(q);
        var E = t.n8.Ri(H * I);
        t.vx(Y, S);
        t.n8.qO(S, E, H, I, q)
    }
        ;
    t.n8.nk = function (Y, S, h) {
        var q = S.d
            , H = S.v;
        h = Math.round(h);
        var I = t.n8.Ri(q * H * 4);
        t.n8.ZJ(Y, I, q, H, h)
    }
        ;
    t.n8.UY = function (Y, S, h, q) {
        var H = h.d
            , I = h.v;
        q = Math.round(q);
        var E = t.n8.Pc(H * I);
        t.vx(Y, S);
        t.n8.Xa(S, E, H, I, q)
    }
        ;
    t.n8.S1 = function (Y, S, h) {
        var q = S.d
            , H = S.v;
        h = Math.round(h);
        var I = t.n8.Ri(q * H * 4);
        t.n8.Oc(Y, I, q, H, h);
        t.vx(I, Y)
    }
        ;
    t.n8.Ve = function (Y, D) {
        var S = Math.sqrt(12 * Y * Y / D + 1)
            , h = Math.floor(S);
        if (h % 2 == 0)
            h--;
        var q = h + 2
            , H = (12 * Y * Y - D * h * h - 4 * D * h - 3 * D) / (-4 * h - 4)
            , I = Math.round(H)
            , E = [];
        for (var G = 0; G < D; G++)
            E.push(G < I ? h : q);
        return E
    }
        ;
    t.n8.amb = function (Y, S, h, q, H) {
        var I = t.n8.Ve(H, 3)
            , E = t.n8.Ri(h * q);
        t.vx(Y, S);
        t.n8.qO(S, E, h, q, I[0] - 1 >> 1);
        t.n8.qO(S, E, h, q, I[1] - 1 >> 1);
        t.n8.qO(S, E, h, q, I[2] - 1 >> 1)
    }
        ;
    t.n8.aas = function (Y, S, h, q, H) {
        var I = t.n8.Ve(H, 2)
            , E = t.n8.Ri(h * q);
        t.vx(Y, S);
        t.n8.qO(S, E, h, q, I[0] - 1 >> 1);
        t.n8.qO(S, E, h, q, I[1] - 1 >> 1)
    }
        ;
    t.n8.anG = function (Y, S, h, q) {
        var H = t.n8.Ve(q, 3)
            , I = t.n8.Ri(S * h * 4);
        t.n8.ZJ(Y, I, S, h, H[0] - 1 >> 1);
        t.n8.ZJ(Y, I, S, h, H[1] - 1 >> 1);
        t.n8.ZJ(Y, I, S, h, H[2] - 1 >> 1)
    }
        ;
    t.n8.ajj = function (Y, S, h, q, H, I) {
        if (I == null)
            I = 3;
        var E = t.n8.Ve(H, I)
            , d = t.n8.Pc(h * q);
        t.vx(Y, S);
        for (var G = 0; G < I; G++)
            t.n8.Xa(S, d, h, q, (E[G] - 1) / 2)
    }
        ;
    t.n8.qO = function (Y, S, h, q, H) {
        t.n8.anA(Y, S, h, q, H);
        t.n8.a2q(S, Y, h, q, H)
    }
        ;
    t.n8.ZJ = function (Y, S, h, q, H) {
        t.n8.Oc(Y, S, h, q, H);
        t.n8.aaV(S, Y, h, q, H)
    }
        ;
    t.n8.Xa = function (Y, S, h, q, H) {
        t.n8.a6R(Y, S, h, q, H);
        t.n8.ajN(S, Y, h, q, H)
    }
        ;
    t.n8.dR = [];
    t.n8.gD = function (Y) {
        if (t.n8.dR[Y])
            return t.n8.dR[Y];
        var S = 1 / (Y + Y + 1)
            , h = (Y + Y + 1) * 256
            , q = t.m(h);
        for (var G = 0; G < h; G++)
            q[G] = Math.round(G * S);
        t.n8.dR[Y] = q;
        return q
    }
        ;
    t.n8.anA = function (Y, S, h, q, H) {
        var I = 1 / (H + H + 1)
            , E = h - H - H - 1
            , d = t.n8.gD(H);
        for (var G = 0; G < q; G++) {
            var B = G * h
                , n = B
                , g = B + H
                , z = Y[B]
                , p = Y[B + h - 1]
                , C = (H + 1) * z;
            for (var T = 0; T < H; T++)
                C += Y[B + T];
            for (var T = 0; T <= H; T++) {
                C += Y[g + T] - z;
                S[B + T] = d[C]
            }
            g += H + 1;
            B += H + 1;
            for (var T = 0; T < E; T++) {
                C += Y[g + T] - Y[n + T];
                S[B + T] = d[C]
            }
            g += E;
            n += E;
            B += E;
            for (var T = h - H; T < h; T++) {
                C += p - Y[n++];
                S[B++] = d[C]
            }
        }
    }
        ;
    t.n8.Oc = function (Y, S, h, q, H) {
        var I = h << 2
            , E = H << 2
            , d = 1 / (H + H + 1)
            , B = h - H - H - 1
            , n = B << 2
            , g = t.n8.gD(H);
        for (var G = 0; G < q; G++) {
            var z = G * I
                , p = z
                , C = z + E
                , T = z + I
                , A = Y[z]
                , i = Y[z + 1]
                , e = Y[z + 2]
                , a = Y[z + 3]
                , Z = (H + 1) * A
                , O = (H + 1) * i
                , c = (H + 1) * e
                , s = (H + 1) * a;
            for (var x = 0; x < E; x += 4) {
                Z += Y[z + x];
                O += Y[z + x + 1];
                c += Y[z + x + 2];
                s += Y[z + x + 3]
            }
            for (var x = 0; x <= E; x += 4) {
                Z += Y[C] - A;
                S[z] = g[Z];
                O += Y[C + 1] - i;
                S[z + 1] = g[O];
                c += Y[C + 2] - e;
                S[z + 2] = g[c];
                s += Y[C + 3] - a;
                S[z + 3] = g[s];
                C += 4;
                z += 4
            }
            for (var x = 0; x < n; x += 4) {
                Z += Y[C + x] - Y[p + x];
                S[z + x] = g[Z];
                O += Y[C + x + 1] - Y[p + x + 1];
                S[z + x + 1] = g[O];
                c += Y[C + x + 2] - Y[p + x + 2];
                S[z + x + 2] = g[c];
                s += Y[C + x + 3] - Y[p + x + 3];
                S[z + x + 3] = g[s]
            }
            C += n;
            p += n;
            z += n;
            A = Y[T - 4];
            i = Y[T - 3];
            e = Y[T - 2];
            a = Y[T - 1];
            for (var x = h - H; x < h; x++) {
                Z += A - Y[p];
                S[z] = g[Z];
                O += i - Y[p + 1];
                S[z + 1] = g[O];
                c += e - Y[p + 2];
                S[z + 2] = g[c];
                s += a - Y[p + 3];
                S[z + 3] = g[s];
                p += 4;
                z += 4
            }
        }
    }
        ;
    t.n8.a6R = function (Y, S, h, q, H) {
        var I = 1 / (H + H + 1)
            , E = h - H - H - 1;
        for (var G = 0; G < q; G++) {
            var d = G * h
                , B = d
                , n = d + H
                , g = Y[d]
                , z = Y[d + h - 1]
                , p = (H + 1) * g;
            for (var C = 0; C < H; C++)
                p += Y[d + C];
            for (var C = 0; C <= H; C++) {
                p += Y[n + C] - g;
                S[d + C] = p * I
            }
            n += H + 1;
            d += H + 1;
            for (var C = 0; C < E; C++) {
                p += Y[n + C] - Y[B + C];
                S[d + C] = p * I
            }
            n += E;
            B += E;
            d += E;
            for (var C = h - H; C < h; C++) {
                p += z - Y[B++];
                S[d++] = p * I
            }
        }
    }
        ;
    t.n8.a2q = function (Y, S, h, q, H) {
        var I = 1 / (H + H + 1)
            , E = q - H - H - 1
            , d = t.n8.gD(H);
        for (var G = 0; G < h; G++) {
            var B = G
                , n = B
                , g = B + H * h
                , z = Y[B]
                , p = Y[B + h * (q - 1)]
                , C = (H + 1) * z;
            for (var T = 0; T < H; T++)
                C += Y[B + T * h];
            for (var T = 0; T <= H; T++) {
                C += Y[g] - z;
                S[B] = d[C];
                g += h;
                B += h
            }
            for (var T = 0; T < E; T++) {
                var A = T * h;
                C += Y[g + A] - Y[n + A];
                S[B + A] = d[C]
            }
            n += E * h;
            g += E * h;
            B += E * h;
            for (var T = q - H; T < q; T++) {
                C += p - Y[n];
                S[B] = d[C];
                n += h;
                B += h
            }
        }
    }
        ;
    t.n8.aaV = function (Y, S, h, q, H) {
        var I = h << 2
            , E = H << 2
            , d = 1 / (H + H + 1)
            , B = q - H - H - 1
            , n = B << 2
            , g = t.n8.gD(H);
        for (var G = 0; G < h; G++) {
            var z = G << 2
                , p = z
                , C = z + H * I
                , T = z + I * (q - 1)
                , A = Y[z]
                , i = Y[z + 1]
                , e = Y[z + 2]
                , a = Y[z + 3]
                , Z = (H + 1) * A
                , O = (H + 1) * i
                , c = (H + 1) * e
                , s = (H + 1) * a;
            for (var x = 0; x < H; x++) {
                var u = z + x * I;
                Z += Y[u];
                O += Y[u + 1];
                c += Y[u + 2];
                s += Y[u + 3]
            }
            for (var x = 0; x <= H; x++) {
                Z += Y[C] - A;
                S[z] = g[Z];
                O += Y[C + 1] - i;
                S[z + 1] = g[O];
                c += Y[C + 2] - e;
                S[z + 2] = g[c];
                s += Y[C + 3] - a;
                S[z + 3] = g[s];
                C += I;
                z += I
            }
            for (var x = 0; x < B; x++) {
                var y = x * I;
                Z += Y[C + y] - Y[p + y];
                S[z + y] = g[Z];
                O += Y[C + y + 1] - Y[p + y + 1];
                S[z + y + 1] = g[O];
                c += Y[C + y + 2] - Y[p + y + 2];
                S[z + y + 2] = g[c];
                s += Y[C + y + 3] - Y[p + y + 3];
                S[z + y + 3] = g[s]
            }
            p += B * I;
            C += B * I;
            z += B * I;
            A = Y[T];
            i = Y[T + 1];
            e = Y[T + 2];
            a = Y[T + 3];
            for (var x = q - H; x < q; x++) {
                Z += A - Y[p];
                S[z] = g[Z];
                O += i - Y[p + 1];
                S[z + 1] = g[O];
                c += e - Y[p + 2];
                S[z + 2] = g[c];
                s += a - Y[p + 3];
                S[z + 3] = g[s];
                p += I;
                z += I
            }
        }
    }
        ;
    t.n8.ajN = function (Y, S, h, q, H) {
        var I = 1 / (H + H + 1)
            , E = q - H - H - 1;
        for (var G = 0; G < h; G++) {
            var d = G
                , B = d
                , n = d + H * h
                , g = Y[d]
                , z = Y[d + h * (q - 1)]
                , p = (H + 1) * g;
            for (var C = 0; C < H; C++)
                p += Y[d + C * h];
            for (var C = 0; C <= H; C++) {
                p += Y[n] - g;
                S[d] = p * I;
                n += h;
                d += h
            }
            for (var C = 0; C < E; C++) {
                var T = C * h;
                p += Y[n + T] - Y[B + T];
                S[d + T] = p * I
            }
            B += E * h;
            n += E * h;
            d += E * h;
            for (var C = q - H; C < q; C++) {
                p += z - Y[B];
                S[d] = p * I;
                B += h;
                d += h
            }
        }
    }
        ;
    t.FL = {};
    t.FL.m = function (Y, S, h, q) {
        var H = [];
        for (var I = 0; I < 4; I++)
            for (var E = 0; E < 4; E++)
                H.push(Y + h * E / 3, S + q * I / 3);
        return H
    }
        ;
    t.FL.bQ = function (Y, S) {
        var h = Y.slice(0);
        for (var G = 0; G < 4; G++)
            for (var q = 0; q < 4; q++) {
                var H = 2 * (G * 4 + q)
                    , I = 2 * (q * 4 + (3 - G));
                if (S) {
                    var E = H;
                    H = I;
                    I = E
                }
                h[I] = Y[H];
                h[I + 1] = Y[H + 1]
            }
        return h
    }
        ;
    t.FL.agf = new Float64Array(16);
    t.FL.drawImage = function (Y, S, h, q, H, I, E) {
        if (E == null)
            E = !1;
        var d = I.d
            , B = I.v
            , p = 2;
        H = new Uint32Array(H.buffer);
        S = new Uint32Array(S.buffer);
        var n = t.FL.V.Nf(Y, 0, 1, 0, 1, h, q)
            , g = n.Nw
            , z = n.P3
            , C = 1 / p
            , T = t.FL.i3
            , A = new Float64Array(2)
            , i = new Uint32Array(30);
        for (var e = 0; e < B; e++)
            for (var a = 0; a < d; a++) {
                var Z = a + I.x + .5
                    , O = e + I.y + .5
                    , c = t.FL.V.a0e(g, z, Z, O, i)
                    , X = 0
                    , N = 0
                    , V = 0
                    , $ = 0;
                if (c == 0)
                    continue;
                var s = e * d + a
                    , x = t.FL.h4(Y, Z, O, g, i, c, !0)
                    , u = T[0] * h
                    , y = T[1] * q;
                if (E) {
                    if (x != -1 && 0 < u && u < h && 0 < y && y < q) {
                        var j = Math.floor(y) * h + Math.floor(u);
                        H[s] = S[j]
                    }
                    continue
                }
                var v = x != -1 && (1 < u && u < h - 1) && (1 < y && y < q - 1);
                if (g[x + 8] < .95) {
                    t.I.a5(u, y, S, h, q, H, s, 0);
                    continue
                }
                for (var G = 0; G < p; G++)
                    for (var w = 0; w < p; w++) {
                        var Z = a + I.x + (G + .5) * C
                            , O = e + I.y + (w + .5) * C
                            , x = 0;
                        x = t.FL.h4(Y, Z, O, g, i, c, !0);
                        if (x != -1) {
                            var u = T[0]
                                , y = T[1]
                                , u = Math.floor(u * h);
                            y = Math.floor(y * q);
                            var m = S[y * h + u]
                                , l = m >>> 24;
                            X += (m & 255) * l;
                            N += (m >>> 8 & 255) * l;
                            V += (m >>> 16 & 255) * l;
                            $ += l
                        }
                    }
                if ($ != 0) {
                    var b = 1 / $;
                    X = ~~(X * b + .5);
                    N = ~~(N * b + .5);
                    V = ~~(V * b + .5);
                    $ = ~~($ * C * C + .5);
                    H[s] = $ << 24 | V << 16 | N << 8 | X
                }
            }
    }
        ;
    t.FL.i3 = new Float64Array(5 * 20);
    t.FL.aey = new Uint32Array(5 * 5 * 20);
    t.FL.h4 = function (Y, S, h, q, H, I, E) {
        var d = t.FL.i3
            , B = t.FL.aey
            , n = 0
            , g = 0;
        for (var G = 0; G < I; G++) {
            var z = H[G]
                , p = n;
            n = t.FL.D8(Y, S, h, q, z + 4, E, d, n);
            if (n != p) {
                B[g] = z;
                g += 5
            }
        }
        if (n == 0)
            return -1;
        else if (n == 5)
            return B[0];
        else {
            var C = 0;
            for (var G = 0; G < n; G += 5)
                if (d[G + 4] < d[C + 4])
                    C = G;
            d[0] = d[C];
            d[1] = d[C + 1];
            d[2] = d[C + 2];
            d[3] = d[C + 3];
            return B[C]
        }
    }
        ;
    t.FL.j2 = new Array(10);
    t.FL.D8 = function (Y, S, h, q, H, I, E, d) {
        var B = t.FL.j2
            , n = 0
            , g = 0
            , z = 0
            , p = 0
            , C = 0
            , T = 0
            , A = 0
            , i = q[H]
            , e = q[H + 1]
            , a = q[H + 2]
            , Z = q[H + 3]
            , O = (a - S) * (a - S) + (Z - h) * (Z - h);
        for (var G = 0; G < 5 && O > .05; G++) {
            t.FL.Mb(B, 0, e);
            t.FL.Ba(B, 4, i);
            t.FL.p$(Y, B);
            n = B[8];
            g = B[9];
            t.FL.Ba(B, 0, e);
            t.FL.Mb(B, 4, i);
            t.FL.p$(Y, B);
            z = B[8];
            p = B[9];
            C = 1 / (n * p - g * z);
            T = (a - S) * C;
            A = (Z - h) * C;
            i += -p * T + z * A;
            e += +g * T - n * A;
            t.FL.yh(Y, i, e, B);
            a = B[8];
            Z = B[9];
            O = (a - S) * (a - S) + (Z - h) * (Z - h)
        }
        if (I && (i < 0 || i > 1 || e < 0 || e > 1 || O > .25))
            return d;
        E[d] = i;
        E[d + 1] = e;
        E[d + 2] = a;
        E[d + 3] = Z;
        E[d + 4] = n * p - g * z;
        return d + 5
    }
        ;
    t.FL.apply = function (Y, S, h) {
        var q = h.x
            , H = h.y
            , I = 1 / h.d
            , E = 1 / h.v
            , d = t.FL.j2;
        for (var B = 0; B < S.length; B += 2) {
            var n = (S[B] - q) * I
                , g = (S[B + 1] - H) * E;
            t.FL.yh(Y, n, g, d);
            S[B] = d[8];
            S[B + 1] = d[9]
        }
    }
        ;
    t.FL.yh = function (Y, S, h, q) {
        t.FL.Mb(q, 0, h);
        t.FL.Mb(q, 4, S);
        t.FL.p$(Y, q)
    }
        ;
    t.FL.Ba = function (Y, G, S) {
        var h = 1 - S;
        Y[G] = -3 * (h * h);
        Y[G + 1] = 3 * (h * h) - 6 * (S * h);
        Y[G + 2] = 6 * (S * h) - 3 * (S * S);
        Y[G + 3] = 3 * (S * S)
    }
        ;
    t.FL.Mb = function (Y, G, S) {
        var h = 1 - S;
        Y[G] = h * (h * h);
        Y[G + 1] = 3 * S * (h * h);
        Y[G + 2] = 3 * (S * S) * h;
        Y[G + 3] = S * S * S
    }
        ;
    t.FL.p$ = function (Y, S) {
        var h = 0
            , q = 0
            , H = 0;
        H = S[0] * S[4];
        h += Y[0] * H;
        q += Y[1] * H;
        H = S[0] * S[5];
        h += Y[2] * H;
        q += Y[3] * H;
        H = S[0] * S[6];
        h += Y[4] * H;
        q += Y[5] * H;
        H = S[0] * S[7];
        h += Y[6] * H;
        q += Y[7] * H;
        H = S[1] * S[4];
        h += Y[8] * H;
        q += Y[9] * H;
        H = S[1] * S[5];
        h += Y[10] * H;
        q += Y[11] * H;
        H = S[1] * S[6];
        h += Y[12] * H;
        q += Y[13] * H;
        H = S[1] * S[7];
        h += Y[14] * H;
        q += Y[15] * H;
        H = S[2] * S[4];
        h += Y[16] * H;
        q += Y[17] * H;
        H = S[2] * S[5];
        h += Y[18] * H;
        q += Y[19] * H;
        H = S[2] * S[6];
        h += Y[20] * H;
        q += Y[21] * H;
        H = S[2] * S[7];
        h += Y[22] * H;
        q += Y[23] * H;
        H = S[3] * S[4];
        h += Y[24] * H;
        q += Y[25] * H;
        H = S[3] * S[5];
        h += Y[26] * H;
        q += Y[27] * H;
        H = S[3] * S[6];
        h += Y[28] * H;
        q += Y[29] * H;
        H = S[3] * S[7];
        h += Y[30] * H;
        q += Y[31] * H;
        S[8] = h;
        S[9] = q
    }
        ;
    t.FL.V = {};
    t.FL.V.My = 12;
    t.FL.V.pn = new Uint32Array(50);
    t.FL.V.a0e = function (Y, S, h, q, H) {
        var I = 0
            , E = t.FL.V.pn
            , d = 1;
        E[0] = 0;
        while (d != 0) {
            var B = E[--d];
            if (Y[B + 0] <= h && Y[B + 1] <= q && h < Y[B + 2] && q < Y[B + 3]) {
                if (S[B + B + 18] == 0) {
                    H[I] = B;
                    I++
                } else {
                    E[d] = S[B + B + 18];
                    E[d + 1] = S[B + B + 19];
                    d += 2
                }
            }
        }
        return I
    }
        ;
    t.FL.V.ajK = function (Y, S, h, q, H) {
        var I = 0
            , E = t.FL.V.If
            , d = t.FL.V.pn
            , B = 1
            , n = 0
            , g = 999999999999;
        d[0] = 0;
        while (B != 0) {
            var z = d[--B]
                , p = E(h, q, Y[z + 0], Y[z + 1])
                , C = E(h, q, Y[z + 0], Y[z + 3])
                , T = E(h, q, Y[z + 2], Y[z + 1])
                , A = E(h, q, Y[z + 2], Y[z + 3])
                , i = Math.min(p, Math.min(C, Math.min(T, A)))
                , e = Math.max(p, Math.max(C, Math.max(T, A)));
            if (i > g)
                continue;
            if (S[z + z + 18] == 0) {
                if (e < g) {
                    g = e;
                    n = z
                }
            } else {
                d[B] = S[z + z + 18];
                d[B + 1] = S[z + z + 19];
                B += 2
            }
        }
        H[I] = n;
        I++;
        return I
    }
        ;
    t.FL.V.If = function (Y, S, h, q) {
        return (h - Y) * (h - Y) + (q - S) * (q - S)
    }
        ;
    t.FL.V._m = null;
    t.FL.V.B1 = null;
    t.FL.V.Nf = function (Y, S, h, q, H, I, E) {
        if (I == null) {
            I = 1;
            E = 1
        }
        t.FL.V.B1 = Y;
        if (t.FL.V._m == null) {
            t.FL.V._m = {
                Nw: new Float64Array(15e3 * 8),
                P3: null
            };
            t.FL.V._m.P3 = new Uint32Array(t.FL.V._m.Nw.buffer)
        }
        var d = t.FL.V._m;
        t.FL.V.VB(Y, S, h, q, H, 0, d.Nw, d.P3, 0, I, E);
        return d
    }
        ;
    t.FL.V.VB = function (Y, S, h, q, H, I, E, d, B, n, g) {
        var z = t.a.Zu(Y), p = B, C = t.FL.V.B1, T = (S + h) / 2, A = (q + H) / 2, i = t.FL.j2, e = t.FL.i3, a = t.FL.agf, aa, aA, e5;
        t.FL.yh(C, T, A, i);
        var Z = i[8]
            , O = i[9];
        a[0] = T;
        a[1] = A;
        a[2] = Z;
        a[3] = O;
        t.FL.D8(C, Z + 1, O, a, 0, !1, e, 0);
        var c = (T - e[0]) * n
            , s = (A - e[1]) * g
            , x = Math.sqrt(c * c + s * s);
        t.FL.D8(C, Z, O + 1, a, 0, !1, e, 0);
        var u = (T - e[0]) * n
            , y = (A - e[1]) * g
            , j = Math.sqrt(u * u + y * y);
        E[p] = z.x;
        E[p + 1] = z.y;
        E[p + 2] = z.x + z.d;
        E[p + 3] = z.y + z.v;
        E[p + 4] = T;
        E[p + 5] = A;
        E[p + 6] = Z;
        E[p + 7] = O;
        E[p + 8] = .5 * (x + j);
        d[p + p + 18] = 0;
        d[p + p + 19] = 0;
        B += 10;
        t.FL.Mb(i, 0, .1);
        t.FL.Ba(i, 4, .1);
        t.FL.p$(Y, i);
        var v = i[8]
            , X = i[9];
        t.FL.Ba(i, 0, .1);
        t.FL.Mb(i, 4, .7);
        t.FL.p$(Y, i);
        var N = i[8]
            , V = i[9];
        t.FL.Mb(i, 0, .8);
        t.FL.Ba(i, 4, .8);
        t.FL.p$(Y, i);
        var $ = i[8]
            , w = i[9];
        t.FL.Ba(i, 0, .9);
        t.FL.Mb(i, 4, .2);
        t.FL.p$(Y, i);
        var m = i[8]
            , l = i[9]
            , b = ($ - v) * ($ - v) + (m - N) * (m - N) + (w - X) * (w - X) + (l - V) * (l - V);
        if (B >= E.length) {
            console.log("Buffer not long enough");
            throw "e"
        }
        if (I == t.FL.V.My || b < 2)
            return B;
        var K = t.FL.V.Ni(Y, !0)
            , J = t.a.Zu(K[0])
            , R = t.a.Zu(K[1])
            , r = t.FL.V.Ni(Y, !1)
            , f = t.a.Zu(r[0])
            , gf = t.a.Zu(r[1]);
        if (J.d + J.v + R.d + R.v < f.d + f.v + gf.d + gf.v) {
            e5 = !0;
            aa = K[0];
            aA = K[1]
        } else {
            e5 = !1;
            aa = r[0];
            aA = r[1]
        }
        var fk = (S + h) / 2
            , o = (q + H) / 2
            , eY = S
            , du = q
            , dV = h
            , hy = H
            , bq = S
            , i5 = q
            , hX = h
            , bY = H;
        if (e5) {
            dV = bq = fk
        } else {
            hy = i5 = o
        }
        d[p + p + 18] = B;
        B = t.FL.V.VB(aa, eY, dV, du, hy, I + 1, E, d, B, n, g);
        d[p + p + 19] = B;
        B = t.FL.V.VB(aA, bq, hX, i5, bY, I + 1, E, d, B, n, g);
        var ds = d[p + p + 18]
            , hV = d[p + p + 19];
        E[p] = Math.min(E[ds], E[hV]);
        E[p + 1] = Math.min(E[ds + 1], E[hV + 1]);
        E[p + 2] = Math.max(E[ds + 2], E[hV + 2]);
        E[p + 3] = Math.max(E[ds + 3], E[hV + 3]);
        return B
    }
        ;
    t.FL.V.Ni = function (Y, S) {
        var h = 0
            , q = 0
            , H = 0
            , I = 0
            , E = 0
            , d = 0
            , B = 0
            , n = 0
            , g = Y.slice(0)
            , z = Y.slice(0);
        for (var G = 0; G < 4; G++) {
            h = S ? Y[G * 8 + 2 * 0] : Y[0 * 8 + 2 * G];
            q = S ? Y[G * 8 + 2 * 0 + 1] : Y[0 * 8 + 2 * G + 1];
            H = S ? Y[G * 8 + 2 * 1] : Y[1 * 8 + 2 * G];
            I = S ? Y[G * 8 + 2 * 1 + 1] : Y[1 * 8 + 2 * G + 1];
            E = S ? Y[G * 8 + 2 * 2] : Y[2 * 8 + 2 * G];
            d = S ? Y[G * 8 + 2 * 2 + 1] : Y[2 * 8 + 2 * G + 1];
            B = S ? Y[G * 8 + 2 * 3] : Y[3 * 8 + 2 * G];
            n = S ? Y[G * 8 + 2 * 3 + 1] : Y[3 * 8 + 2 * G + 1];
            var p = (h + H) / 2
                , C = (q + I) / 2
                , T = (H + E) / 2
                , A = (I + d) / 2
                , i = (E + B) / 2
                , e = (d + n) / 2
                , a = (p + T) / 2
                , Z = (C + A) / 2
                , O = (T + i) / 2
                , c = (A + e) / 2
                , s = (a + O) / 2
                , x = (Z + c) / 2;
            if (S) {
                g[G * 8 + 2 * 0] = h;
                g[G * 8 + 2 * 0 + 1] = q;
                g[G * 8 + 2 * 1] = p;
                g[G * 8 + 2 * 1 + 1] = C;
                g[G * 8 + 2 * 2] = a;
                g[G * 8 + 2 * 2 + 1] = Z;
                g[G * 8 + 2 * 3] = s;
                g[G * 8 + 2 * 3 + 1] = x;
                z[G * 8 + 2 * 0] = s;
                z[G * 8 + 2 * 0 + 1] = x;
                z[G * 8 + 2 * 1] = O;
                z[G * 8 + 2 * 1 + 1] = c;
                z[G * 8 + 2 * 2] = i;
                z[G * 8 + 2 * 2 + 1] = e;
                z[G * 8 + 2 * 3] = B;
                z[G * 8 + 2 * 3 + 1] = n
            } else {
                g[0 * 8 + 2 * G] = h;
                g[0 * 8 + 2 * G + 1] = q;
                g[1 * 8 + 2 * G] = p;
                g[1 * 8 + 2 * G + 1] = C;
                g[2 * 8 + 2 * G] = a;
                g[2 * 8 + 2 * G + 1] = Z;
                g[3 * 8 + 2 * G] = s;
                g[3 * 8 + 2 * G + 1] = x;
                z[0 * 8 + 2 * G] = s;
                z[0 * 8 + 2 * G + 1] = x;
                z[1 * 8 + 2 * G] = O;
                z[1 * 8 + 2 * G + 1] = c;
                z[2 * 8 + 2 * G] = i;
                z[2 * 8 + 2 * G + 1] = e;
                z[3 * 8 + 2 * G] = B;
                z[3 * 8 + 2 * G + 1] = n
            }
        }
        return [g, z]
    }
        ;
    t.Kx = {};
    t.Kx.a8U = function (Y, S, h) {
        var q = Date.now()
            , H = new ArrayBuffer(S * h * 16)
            , I = t.Kx.ahU(Y, S, h, H)
            , E = t.Kx.anq(S, h, H);
        return {
            n9: E,
            _I: I
        }
    }
        ;
    t.Kx.an3 = function (Y, S, h) {
        var q = Math.round(Y.length / 8)
            , H = new Uint32Array(q)
            , I = new Uint8Array(q)
            , E = new Uint32Array(q);
        t.A5(H, 4294967295, 0);
        H[h] = 0;
        var d = new d$(q);
        d.push(h, H[h]);
        var B = {
            n9: Y,
            _I: S,
            aO: H,
            _U: I,
            YH: E,
            sj: d,
            aoo: h
        };
        return B
    }
        ;
    t.Kx.Xx = function (Y, S) {
        var h = Y.n9
            , q = Y._I
            , H = Y.aO
            , I = Y._U
            , E = Y.YH
            , d = Y.sj;
        while (!d.fa() && (S == null || I[S] == 0)) {
            var B = d.pop();
            I[B] = 1;
            for (var G = 0; G < 8; G++) {
                var n = h[8 * B + G]
                    , g = B + n;
                if (n == 0 || I[g])
                    continue;
                var z = H[B] + q[8 * B + G];
                if (d.contains(g) && z < H[g])
                    d.remove(g, H[g]);
                if (!d.contains(g)) {
                    H[g] = z;
                    E[g] = B;
                    d.push(g, H[g])
                }
            }
        }
    }
        ;
    function d$(Y) {
        this.Db = new Uint32Array(Y);
        this.list = [];
        this.iA = 0;
        this.gG = 4294967295
    }
    d$.prototype.fa = function () {
        return this.iA == 0
    }
        ;
    d$.prototype.push = function (Y, S) {
        var h = this.list;
        if (h[S] == null)
            h[S] = [];
        h[S].push(Y);
        this.iA++;
        this.Db[Y] = h[S].length - 1 + 1;
        this.gG = Math.min(this.gG, S)
    }
        ;
    d$.prototype.pop = function () {
        this.iA--;
        var Y = this.list
            , S = this.gG
            , h = Y[S].pop();
        if (Y[S].length == 0)
            Y[S] = null;
        this.S_();
        this.Db[h] = 0;
        return h
    }
        ;
    d$.prototype.contains = function (Y) {
        return this.Db[Y] != 0
    }
        ;
    d$.prototype.remove = function (Y, S) {
        this.iA--;
        var h = this.list
            , G = this.Db[Y] - 1;
        if (G == h[S].length - 1)
            h[S].pop();
        else {
            var q = h[S].pop();
            h[S][G] = q;
            this.Db[q] = G + 1
        }
        if (h[S].length == 0)
            h[S] = null;
        this.Db[Y] = 0;
        this.S_()
    }
        ;
    d$.prototype.S_ = function () {
        if (this.iA == 0) {
            this.gG = 4294967295;
            return
        }
        var Y = this.gG
            , S = this.list;
        while (S[Y] == null)
            Y++;
        this.gG = Y
    }
        ;
    t.Kx.a90 = function (Y, S, h, q) {
        var H = new Int16Array(q);
        for (var I = 0; I < h; I++)
            for (var E = 0; E < S; E++) {
                var G = I * S + E
                    , d = 0;
                if (1 < E && E < S - 2 && 1 < I && I < h - 2) {
                    d += Y[G - S - S];
                    d += Y[G - S - 1] + 2 * Y[G - S] + Y[G - S + 1];
                    d += Y[G - 2] + 2 * Y[G - 1] - 16 * Y[G] + 2 * Y[G + 1] + Y[G + 2];
                    d += Y[G + S - 1] + 2 * Y[G + S] + Y[G + S + 1];
                    d += Y[G + S + S]
                } else
                    d = -16 * Y[G];
                H[G] = d
            }
        return H
    }
        ;
    t.Kx.a4f = function (Y, S, h, q) {
        if (q == null)
            q = 128;
        var H = new Uint8Array(S * h);
        for (var I = 1; I < h - 1; I++)
            for (var E = 1; E < S - 1; E++) {
                var G = I * S + E;
                H[G] = t.Kx.a33(Y[G], Y[G - 1], Y[G + 1], Y[G - S], Y[G + S], q)
            }
        return H
    }
        ;
    t.Kx.a33 = function (Y, S, h, q, H, I) {
        var E = Math.abs(Y);
        return Y * S < 0 && E < Math.abs(S) && Math.abs(S - Y) > I || Y * h < 0 && E < Math.abs(h) && Math.abs(h - Y) > I || Y * q < 0 && E < Math.abs(q) && Math.abs(q - Y) > I || Y * H < 0 && E < Math.abs(H) && Math.abs(H - Y) > I ? 1 : 0
    }
        ;
    t.Kx.aae = function (Y, S, h, q) {
        var H = new Float32Array(q)
            , I = 0;
        new Uint32Array(q).fill(0);
        for (var E = 0; E < h; E++)
            for (var d = 0; d < S; d++) {
                var B = 0
                    , n = 0
                    , G = E * S + d
                    , g = G * 3;
                if (0 < d && d < S - 1)
                    B = Y[G + 1] - Y[G - 1];
                if (0 < E && E < h - 1)
                    n = Y[G + S] - Y[G - S];
                var z = H[g + 2] = Math.sqrt(B * B + n * n);
                if (z != 0) {
                    var p = 1 / z;
                    H[g] = B * p;
                    H[g + 1] = n * p
                }
                if (z > I)
                    I = z
            }
        var C = S * h
            , T = I == 0 ? 0 : 1 / I;
        for (var G = 0; G < C; G++)
            H[G * 3 + 2] = 1 - H[G * 3 + 2] * T;
        return H
    }
        ;
    t.Kx.adv = function (Y, S, h) {
        return h[~~((.5 + .5 * Y) * 255)] + h[~~((.5 + .5 * S) * 255)]
    }
        ;
    t.Kx.ahU = function (Y, S, h, q) {
        var H = Date.now()
            , I = t.Kx.a90(Y, S, h, q)
            , E = t.Kx.a4f(I, S, h)
            , d = t.Kx.aae(Y, S, h, q)
            , B = new Float32Array(256);
        for (var G = 0; G < 256; G++)
            B[G] = Math.acos(-1 + 2 * G / 255) * (.95 / Math.PI);
        var n = [-1, 0, 1, 1, 1, 0, -1, -1]
            , g = [-1, -1, -1, 0, 1, 1, 1, 0];
        for (var G = 0; G < 8; G++) {
            var z = 1 / Math.sqrt(n[G] * n[G] + g[G] * g[G]);
            n[G] *= z;
            g[G] *= z
        }
        var p = [n[0], g[0], n[1], g[1], n[2], g[2], n[3], g[3]]
            , C = [-S - 1, -S, -S + 1, 1]
            , T = new Uint8Array(S * h * 8);
        new Uint32Array(T.buffer).fill(4294967295);
        var A = S * h;
        for (var i = 1; i < h - 1; i++)
            for (var e = 1; e < S - 1; e++) {
                var a = i * S + e
                    , Z = 1 - E[a]
                    , O = d[a * 3 + 2]
                    , c = d[3 * a + 1]
                    , s = -d[3 * a];
                for (var x = 0; x < 4; x++) {
                    var u = a + C[x];
                    t.Kx.a0z(a, u, x, T, E, d, Z, O, c, s, p, B)
                }
            }
        return T
    }
        ;
    t.Kx.a0z = function (Y, S, h, q, H, I, E, d, B, n, g, z) {
        var p = 1 - H[S]
            , C = (h & 1) == 0 ? 1 : Math.SQRT1_2
            , T = I[S * 3 + 2] * C
            , A = I[3 * S + 1]
            , i = -I[3 * S]
            , e = d * C
            , a = g[h + h]
            , Z = g[h + h + 1]
            , O = B * a + n * Z
            , c = A * a + i * Z;
        if (O + c < 0) {
            O = -O;
            c = -c
        }
        var s = t.Kx.adv(O, c, z);
        q[(Y << 3) + h] = t.Kx.Dz(p, s, T);
        q[(S << 3) + h + 4] = t.Kx.Dz(E, s, e)
    }
        ;
    t.Kx.Dz = function (Y, S, h) {
        return 1 + ~~(.5 + 20 * (.43 * Y + .43 * S + .14 * h))
    }
        ;
    t.Kx.anq = function (Y, S, h) {
        var q = new Int16Array(h)
            , H = q
            , G = 0
            , I = 0;
        new Uint32Array(h).fill(0);
        for (var E = 0; E < S; E++)
            for (var d = 0; d < Y; d++) {
                if (E > 0 && d > 0)
                    H[I + 0] = -Y - 1;
                if (E > 0)
                    H[I + 1] = -Y;
                if (E > 0 && d < Y - 1)
                    H[I + 2] = -Y + 1;
                if (d < Y - 1)
                    H[I + 3] = 1;
                if (E < S - 1 && d < Y - 1)
                    H[I + 4] = Y + 1;
                if (E < S - 1)
                    H[I + 5] = Y;
                if (E < S - 1 && d > 0)
                    H[I + 6] = Y - 1;
                if (d > 0)
                    H[I + 7] = -1;
                G++;
                I += 8
            }
        return q
    }
        ;
    t.Hd = {};
    t.Hd.Tt = function (Y) {
        var S = Y.slice(0)
            , h = 0;
        for (var G = 0; G < Y.length; G++)
            h += Y[G];
        for (var G = 0; G < Y.length; G++)
            S[G] /= h;
        return S
    }
        ;
    t.Hd.XE = [t.Hd.Tt([1, 2, 1, 2, 16, 2, 1, 2, 1]), t.Hd.Tt([1, 2, 1, 2, 4, 2, 1, 2, 1]), t.Hd.Tt([0, -1, 0, -1, 8, -1, 0, -1, 0]), t.Hd.Tt([-.7, -1, -.7, -1, 10, -1, -.7, -1, -.7]), [-1, 0, 1, -2, 0, 2, -1, 0, 1], [1, 2, 1, 0, 0, 0, -1, -2, -1]];
    t.Hd.FH = function (Y, S, h, q, H, I, E, d) {
        if (E == null)
            E = !1;
        if (d == null)
            d = !1;
        var B = Math.floor(Math.sqrt(H.length))
            , n = B - 1 >>> 1
            , g = new Uint32Array(Y.buffer)
            , S = new Uint8ClampedArray(S.buffer);
        for (var G = 0; G < q; G++)
            for (var z = 0; z < h; z++) {
                var p = 0
                    , C = 0
                    , T = 0
                    , A = 0;
                for (var i = 0; i < B; i++)
                    for (var e = 0; e < B; e++) {
                        var a = H[i * B + e];
                        if (a == 0)
                            continue;
                        var Z = z - n + e
                            , O = G - n + i;
                        if (Z < 0)
                            Z = 0;
                        else if (Z > h - 1)
                            Z = h - 1;
                        if (O < 0)
                            O = 0;
                        else if (O > q - 1)
                            O = q - 1;
                        if (d && g[O * h + Z] >>> 24 == 0) {
                            O = G;
                            Z = z
                        }
                        var c = g[O * h + Z];
                        p += (c & 255) * a;
                        C += (c >>> 8 & 255) * a;
                        T += (c >>> 16 & 255) * a;
                        A += (c >>> 24 & 255) * a
                    }
                if (E) {
                    if (p < 0)
                        p = -p;
                    if (C < 0)
                        C = -C;
                    if (T < 0)
                        T = -T;
                    if (A < 0)
                        A = -A
                }
                if (d) {
                    p = Math.max(0, Math.min(255, p));
                    C = Math.max(0, Math.min(255, C));
                    T = Math.max(0, Math.min(255, T));
                    A = Math.max(0, Math.min(255, A))
                }
                var s = G * h + z << 2;
                S[s] = ~~(.5 + p);
                S[s + 1] = ~~(.5 + C);
                S[s + 2] = ~~(.5 + T);
                S[s + 3] = 255 - I & S[s + 3] | I & ~~(.5 + A)
            }
    }
        ;
    t.Hd.yY = function (Y, S, h, q) {
        var H = Y.length
            , I = new Uint8Array(H);
        t.Hd.FH(Y, S, h, q, t.Hd.XE[4], 0, !0);
        t.Hd.FH(Y, I, h, q, t.Hd.XE[5], 0, !0);
        for (var G = 0; G < H; G += 4) {
            var E = S[G]
                , d = S[G + 1]
                , B = S[G + 2]
                , n = S[G + 3]
                , g = I[G]
                , z = I[G + 1]
                , p = I[G + 2]
                , C = I[G + 3];
            S[G] = 255 - Math.max(0, Math.min(255, Math.sqrt(E * E + g * g)));
            S[G + 1] = 255 - Math.max(0, Math.min(255, Math.sqrt(d * d + z * z)));
            S[G + 2] = 255 - Math.max(0, Math.min(255, Math.sqrt(B * B + p * p)))
        }
    }
        ;
    t.Hd.xm = function (Y, S, h, q) {
        var H = Y.length
            , I = new Uint8Array(H);
        t.Hd.zp(Y, S, h, q, t.Hd.XE[4], !0);
        t.Hd.zp(Y, I, h, q, t.Hd.XE[5], !0);
        for (var G = 0; G < H; G++) {
            var E = S[G]
                , d = I[G];
            S[G] = 255 - Math.max(0, Math.min(255, Math.sqrt(E * E + d * d)))
        }
    }
        ;
    t.Hd.zp = function (Y, S, h, q, H, I) {
        S = new Uint8ClampedArray(S.buffer);
        var E = [-h - 1, -h, -h + 1, -1, 0, 1, h - 1, h, h + 1]
            , d = q - 1
            , B = h - 1;
        for (var G = 1; G < d; G++)
            for (var n = 1; n < B; n++) {
                var g = G * h + n
                    , z = t.Hd.zB(Y, g, h, H);
                if (I) {
                    if (z < 0)
                        z = -z
                }
                S[g] = ~~(z + .5)
            }
    }
        ;
    t.Hd.zB = function (Y, S, h, q) {
        return Y[S - h - 1] * q[0] + Y[S - h] * q[1] + Y[S - h + 1] * q[2] + Y[S - 1] * q[3] + Y[S] * q[4] + Y[S + 1] * q[5] + Y[S + h - 1] * q[6] + Y[S + h] * q[7] + Y[S + h + 1] * q[8]
    }
        ;
    t.Hd.Z8 = function (Y, S, h, q, H) {
        var I = [-h - 1, -h, -h + 1, -1, 0, 1, h - 1, h, h + 1]
            , E = q - 1
            , d = h - 1;
        for (var G = 1; G < E; G++)
            for (var B = 1; B < d; B++) {
                var n = G * h + B;
                S[n] = t.Hd.a6Q(Y, n, h, H)
            }
    }
        ;
    t.Hd.a6Q = function (Y, S, h, q) {
        return Y[S - h - 1] * q[0] + Y[S - h] * q[1] + Y[S - h + 1] * q[2] + Y[S - 1] * q[3] + Y[S] * q[4] + Y[S + 1] * q[5] + Y[S + h - 1] * q[6] + Y[S + h] * q[7] + Y[S + h + 1] * q[8]
    }
        ;
    t.Ll = {};
    t.Ll.a30 = function () {
        function Y(E, d, B, n, g, z, p) {
            if (g == 0) {
                d.set(E);
                return
            }
            var C = t.m(B * n)
                , T = t.m(B * n);
            if (t.eM(E)) {
                S(E, d, B, n, g, z, p);
                var A = [t.Ll.l5, t.Ll.ax]
                    , i = A.indexOf(z)
                    , e = i != -1 ? A[1 - i] : z;
                t.Ft(E, C, 3);
                t.Ll.hr(C, T, B, n, g, e, p);
                t.Vj(T, d, 3)
            } else {
                for (var G = 0; G < 3; G++) {
                    t.Ft(E, C, G);
                    t.Ll.hr(C, T, B, n, g, z, p);
                    t.Vj(T, d, G)
                }
            }
        }
        function S(E, d, B, n, g, z, p) {
            var C = 0
                , T = new ArrayBuffer(512 * 4 * 3)
                , A = [new Int32Array(T, 0), new Int32Array(T, 2048), new Int32Array(T, 2 * 2048)]
                , i = 1 + 2 * Math.round(Math.sqrt(g))
                , e = i >>> 1
                , a = new Array(i)
                , Z = new Array(i);
            for (var G = 0; G < i; G++) {
                var T = new ArrayBuffer(512 * 4 * 3);
                a[G] = [new Int32Array(T, 0), new Int32Array(T, 2048), new Int32Array(T, 2 * 2048)];
                Z[G] = a[G][0]
            }
            var O = z[0]
                , c = z[1]
                , s = A[0];
            for (var x = 0; x < B; x++)
                if (x < g || x > B - g - i - 1) {
                    s.fill(0);
                    var u = Math.max(x - g, 0)
                        , y = Math.min(B, x + g + 1)
                        , j = y - u;
                    for (var v = 0; v < g; v++)
                        q(s, E, v * B + u, v * B + y, 1);
                    for (var v = 0; v < n; v++) {
                        var X = v - g - 1
                            , N = v + g;
                        if (N < n)
                            q(s, E, N * B + u, N * B + y, 1);
                        if (X >= 0)
                            q(s, E, X * B + u, X * B + y, -1);
                        var V = v * B + x << 2;
                        C = s[300];
                        if (C != 0)
                            for (var G = 0; G < 3; G++)
                                d[V + G] = O(A[G], E[V + G], C, p)
                    }
                } else {
                    for (var G = 0; G < i; G++)
                        Z[G].fill(0);
                    var u = x - g + e
                        , y = x + g + 1 + e;
                    for (var v = 0; v < g; v++)
                        h(Z, E, v * B + u, v * B + y, 1, e);
                    for (var v = 0; v < n; v++) {
                        var X = v - g - 1
                            , N = v + g;
                        if (X >= 0)
                            h(Z, E, X * B + u, X * B + y, -1, e);
                        if (N < n)
                            h(Z, E, N * B + u, N * B + y, 1, e);
                        var $ = a[e];
                        C = $[0][300];
                        for (var G = 0; G < e; G++) {
                            var w = e - 1 - G
                                , m = e + 1 + G
                                , l = a[w]
                                , b = a[m]
                                , K = C + l[0][300]
                                , J = C + b[0][300]
                                , R = v * B + x + w << 2
                                , r = v * B + x + m << 2;
                            if (K != 0)
                                for (var f = 0; f < 3; f++)
                                    d[R + f] = c($[f], l[f], E[R + f], K, p);
                            if (J != 0)
                                for (var f = 0; f < 3; f++)
                                    d[r + f] = c($[f], b[f], E[r + f], J, p)
                        }
                        var V = v * B + x + e << 2;
                        if (C != 0)
                            for (var f = 0; f < 3; f++)
                                d[V + f] = O($[f], E[V + f], C, p)
                    }
                    x += i - 1
                }
        }
        function h(E, d, B, n, g, z) {
            var p = H
                , C = B << 2
                , T = n << 2;
            p(E[z - 1], d, B - 1 << 2, g);
            p(E[z - 1], d, n - 1 << 2, -g);
            p(E[z + 1], d, n << 2, g);
            p(E[z + 1], d, B << 2, -g);
            for (var G = 1; G < z; G++) {
                var A = E[z - G - 1]
                    , i = E[z + G + 1];
                for (var e = 0; e <= G; e++) {
                    var a = e << 2;
                    p(A, d, B - 1 - e << 2, g);
                    p(A, d, n - 1 - e << 2, -g);
                    p(i, d, n + e << 2, g);
                    p(i, d, B + e << 2, -g)
                }
            }
            q(E[z], d, B, n, g)
        }
        function q(E, d, G, B, n) {
            var g = G << 2
                , z = B << 2;
            while (g < z) {
                H(E, d, g, n);
                g += 4
            }
        }
        function H(E, d, B, n) {
            var g = n * d[B + 3];
            E[300] += g;
            I(E, d[B], 0, g);
            I(E, d[B + 1], 512, g);
            I(E, d[B + 2], 1024, g)
        }
        function I(E, d, B, n) {
            E[B | d] += n;
            E[B | 256 | d >>> 4] += n
        }
        return Y
    }();
    t.Ll.hr = function () {
        function Y(z, p, C, T, A, i, e) {
            if (A == 0) {
                p.set(z);
                return
            }
            if (A <= 80)
                S(z, p, C, T, A, i, e);
            else
                I(z, p, C, T, A, i, e)
        }
        function S(z, p, C, T, A, i, e) {
            var a = 0
                , Z = new Int32Array(512)
                , O = 1 + 2 * Math.round(Math.sqrt(A))
                , c = O >>> 1
                , s = new Array(O);
            for (var G = 0; G < O; G++)
                s[G] = new Int32Array(512);
            var x = i[0]
                , u = i[1];
            for (var y = 0; y < C; y++)
                if (y < A || y > C - A - O - 1) {
                    Z.fill(0);
                    a = 0;
                    var j = Math.max(y - A, 0)
                        , v = Math.min(C, y + A + 1)
                        , X = v - j;
                    for (var N = 0; N < A; N++) {
                        a += X;
                        q(Z, z, N * C + j, N * C + v, 1)
                    }
                    for (var N = 0; N < T; N++) {
                        var V = N - A - 1
                            , $ = N + A;
                        if (V >= 0) {
                            a -= X;
                            q(Z, z, V * C + j, V * C + v, -1)
                        }
                        if ($ < T) {
                            a += X;
                            q(Z, z, $ * C + j, $ * C + v, 1)
                        }
                        var w = x(Z, z[N * C + y], a, e);
                        p[N * C + y] = w
                    }
                } else {
                    for (var G = 0; G < O; G++)
                        s[G].fill(0);
                    a = 0;
                    var j = y - A + c
                        , v = y + A + 1 + c
                        , X = v - j;
                    for (var N = 0; N < A; N++) {
                        a += X;
                        h(s, z, N * C + j, N * C + v, 1, c)
                    }
                    for (var N = 0; N < T; N++) {
                        var V = N - A - 1
                            , $ = N + A;
                        if (V >= 0) {
                            a -= X;
                            h(s, z, V * C + j, V * C + v, -1, c)
                        }
                        if ($ < T) {
                            a += X;
                            h(s, z, $ * C + j, $ * C + v, 1, c)
                        }
                        for (var G = 0; G < c; G++) {
                            var m = c - 1 - G
                                , l = c + 1 + G;
                            p[N * C + y + m] = u(s[c], s[m], z[N * C + y + m], a, e);
                            p[N * C + y + l] = u(s[c], s[l], z[N * C + y + l], a, e)
                        }
                        p[N * C + y + c] = x(s[c], z[N * C + y + c], a, e)
                    }
                    y += O - 1
                }
        }
        function h(z, p, C, T, A, i) {
            var e = H;
            e(z[i - 1], p[C - 1], 0, A);
            e(z[i - 1], p[T - 1], 0, -A);
            e(z[i + 1], p[T], 0, A);
            e(z[i + 1], p[C], 0, -A);
            for (var G = 1; G < i; G++) {
                var a = z[i - G - 1]
                    , Z = z[i + G + 1];
                for (var O = 0; O <= G; O++) {
                    e(a, p[C - 1 - O], 0, A);
                    e(a, p[T - 1 - O], 0, -A);
                    e(Z, p[T + O], 0, A);
                    e(Z, p[C + O], 0, -A)
                }
            }
            q(z[i], p, C, T, A)
        }
        function q(z, p, G, C, T) {
            while (G < C)
                H(z, p[G++], 0, T)
        }
        function H(z, p, C, T) {
            z[C | p] += T;
            z[C | 256 | p >>> 4] += T
        }
        function I(z, p, C, T, A, i, e) {
            var a = 0
                , Z = new Int32Array(512)
                , O = new Int32Array(1 * C)
                , c = new Int32Array(512 * C)
                , s = Math.min(A, C)
                , x = Math.min(A, T)
                , u = i[0];
            for (var y = 0; y < x; y++)
                E(c, O, z, C, y, 1);
            for (var y = 0; y < T; y++) {
                if (y + A < T)
                    E(c, O, z, C, y + A, 1);
                if (y - A - 1 >= 0)
                    E(c, O, z, C, y - A - 1, -1);
                Z.fill(0);
                a = 0;
                for (var j = 0; j < s; j++) {
                    a += O[j];
                    d(Z, c, j)
                }
                for (var j = 0; j < C; j++) {
                    var v = j - A - 1
                        , X = j + A;
                    if (v >= 0 && O[v] != 0) {
                        a -= O[v];
                        B(Z, c, v)
                    }
                    if (X < C && O[X] != 0) {
                        a += O[X];
                        d(Z, c, X)
                    }
                    var N = a == 0 ? 0 : u(Z, z[y * C + j], a, e);
                    p[y * C + j] = N
                }
            }
        }
        function E(z, p, C, T, A, i) {
            var G = A * T;
            for (var e = 0; e < T; e++) {
                H(z, C[G + e], e << 9, i);
                p[e] += i
            }
        }
        function d(z, p, C) {
            for (var G = 0; G < 16; G++) {
                var T = p[C << 9 | 256 | G];
                if (T == 0)
                    continue;
                z[256 | G] += T;
                var A = G << 4
                    , i = C << 9 | A;
                n(z, p, A, i);
                n(z, p, A + 4, i + 4);
                n(z, p, A + 8, i + 8);
                n(z, p, A + 12, i + 12)
            }
        }
        function B(z, p, C) {
            for (var G = 0; G < 16; G++) {
                var T = p[C << 9 | 256 | G];
                if (T == 0)
                    continue;
                z[256 | G] -= T;
                var A = G << 4
                    , i = C << 9 | A;
                g(z, p, A, i);
                g(z, p, A + 4, i + 4);
                g(z, p, A + 8, i + 8);
                g(z, p, A + 12, i + 12)
            }
        }
        function n(z, p, C, T) {
            z[C] += p[T];
            z[C + 1] += p[T + 1];
            z[C + 2] += p[T + 2];
            z[C + 3] += p[T + 3]
        }
        function g(z, p, C, T) {
            z[C] -= p[T];
            z[C + 1] -= p[T + 1];
            z[C + 2] -= p[T + 2];
            z[C + 3] -= p[T + 3]
        }
        return Y
    }();
    t.Ll.ax = [function (Y, S, h, q) {
        var G = 15;
        while (Y[256 | G] == 0 && G > 0)
            G--;
        G = (G << 4) + 15;
        while (Y[G] == 0 && G > 0)
            G--;
        return G
    }
        , function (Y, S, h, q, H) {
            var G = 15;
            while (Y[256 | G] + S[256 | G] == 0 && G > 0)
                G--;
            G = (G << 4) + 15;
            while (Y[G] + S[G] == 0 && G > 0)
                G--;
            return G
        }
    ];
    t.Ll.l5 = [function (Y, S, h, q) {
        var G = 0;
        while (Y[256 | G] == 0 && G < 15)
            G++;
        G = G << 4;
        while (Y[G] == 0 && G < 255)
            G++;
        return G
    }
        , function (Y, S, h, q, H) {
            var G = 0;
            while (Y[256 | G] + S[256 | G] == 0 && G < 15)
                G++;
            G = G << 4;
            while (Y[G] + S[G] == 0 && G < 255)
                G++;
            return G
        }
    ];
    t.Ll.Th = .5;
    t.Ll.jQ = [function (Y, S, h, q) {
        var H = ~~(.5 + t.Ll.Th * h)
            , I = 0
            , G = 256;
        while (I + Y[G] <= H)
            I += Y[G++];
        G = G - 256 << 4;
        while (I <= H)
            I += Y[G++];
        return G - 1
    }
        , function (Y, S, h, q, H) {
            var I = ~~(.5 + t.Ll.Th * q)
                , E = 0
                , G = 256;
            while (E + Y[G] + S[G] <= I) {
                E += Y[G] + S[G];
                G++
            }
            G = G - 256 << 4;
            while (E <= I) {
                E += Y[G] + S[G];
                G++
            }
            return G - 1
        }
    ];
    t.Ll.nn = [function (Y, S, h, q) {
        var H = q[0]
            , I = 0
            , E = 0
            , G = Math.max(0, S - H)
            , d = Math.min(256, S + H + 1);
        while (G < d) {
            var B = Y[G];
            I += G * B;
            E += B;
            G++
        }
        return E == 0 ? 0 : I / E
    }
        , function (Y, S, h, q, H) {
            var I = H[0]
                , E = 0
                , d = 0
                , G = Math.max(0, h - I)
                , B = Math.min(256, h + I + 1);
            while (G < B) {
                var n = Y[G] + S[G];
                E += G * n;
                d += n;
                G++
            }
            return d == 0 ? 0 : E / d
        }
    ];
    t.I = {};
    t.I.to = function (Y) {
        var S = U.o.U8(Y.Trnf)
            , h = Y.Sz.v
            , q = t.I.Rc(S, new W(0, 0, h.Wdth.v, h.Hght.v));
        return t.I.v8(q)
    }
        ;
    t.I.Rc = function (Y, S) {
        var h = Y[0]
            , q = Y[1]
            , H = Y[2]
            , I = Y[3]
            , E = Y[6]
            , d = Y[7]
            , B = Y[4]
            , n = Y[5]
            , g = 0
            , z = 0
            , p = 1
            , C = 0
            , T = 0
            , A = 1
            , i = 1
            , e = 1;
        if (S) {
            g = S.x;
            z = S.y;
            p = S.x + S.d;
            C = S.y;
            T = S.x;
            A = S.y + S.v;
            i = S.x + S.d;
            e = S.y + S.v
        }
        return t.I.mD(Y, [g, z, p, C, i, e, T, A])
    }
        ;
    t.I.mD = function (Y, S) {
        var h = Y[0]
            , q = Y[1]
            , H = Y[2]
            , I = Y[3]
            , E = Y[6]
            , d = Y[7]
            , B = Y[4]
            , n = Y[5]
            , g = S[0]
            , z = S[1]
            , p = S[2]
            , C = S[3]
            , T = S[6]
            , A = S[7]
            , i = S[4]
            , e = S[5]
            , a = [[g, z, 1, 0, 0, 0, -g * h, -z * h, h], [0, 0, 0, g, z, 1, -g * q, -z * q, q], [p, C, 1, 0, 0, 0, -p * H, -C * H, H], [0, 0, 0, p, C, 1, -p * I, -C * I, I], [T, A, 1, 0, 0, 0, -T * E, -A * E, E], [0, 0, 0, T, A, 1, -T * d, -A * d, d], [i, e, 1, 0, 0, 0, -i * B, -e * B, B], [0, 0, 0, i, e, 1, -i * n, -e * n, n]]
            , Z = [0, 0, 0, 0, 0, 0, 0, 0]
            , O = t.cu.kN(a, Z);
        if (O != 0)
            Z = [0, 0, 0, 0, 0, 0, 0, 0];
        return Z
    }
        ;
    t.I.gU = function (Y) {
        return Math.abs(Y[6]) < 1e-10 && Math.abs(Y[7]) < 1e-10
    }
        ;
    t.I.v8 = function (Y) {
        return new d5(Y[0], Y[3], Y[1], Y[4], Y[2], Y[5])
    }
        ;
    t.I.gA = function (Y) {
        return [Y.R, Y.Pb, Y.TR, Y.O, Y.RH, Y.Un, 0, 0]
    }
        ;
    t.I.apply = function (Y, S) {
        var h = new Float64Array(2);
        for (var q = 0; q < S.length; q += 2) {
            var H = S[q]
                , I = S[q + 1];
            t.I.hp(H, I, Y, h);
            S[q] = h[0];
            S[q + 1] = h[1]
        }
    }
        ;
    t.I.hp = function (Y, S, h, q) {
        var H = 1 / (h[6] * Y + h[7] * S + 1);
        q[0] = (h[0] * Y + h[1] * S + h[2]) * H;
        q[1] = (h[3] * Y + h[4] * S + h[5]) * H
    }
        ;
    t.I.vn = function (Y, S) {
        var h = new Float64Array(2);
        t.I.hp(S.x, S.y, Y, h);
        return new aV(h[0], h[1])
    }
        ;
    t.I.N6 = function (Y, S, h, q) {
        Y = new Uint32Array(Y.buffer);
        S = new Uint32Array(S.buffer);
        for (var H = 0; H < q; H++) {
            for (var I = 0; I < h; I++) {
                S[I * q + H] = Y[H * h + I]
            }
        }
    }
        ;
    t.I.aj9 = function (Y, S, h, q) {
        Y = new Uint32Array(Y.buffer);
        S = new Uint32Array(S.buffer);
        for (var H = 0; H < q; H++) {
            for (var I = 0; I < h; I++) {
                S[H * h + I] = Y[H * h + h - 1 - I]
            }
        }
    }
        ;
    t.I.Yj = function (Y) {
        return Math.abs(Y[6]) < 1e-9 && Math.abs(Y[7]) < 1e-9
    }
        ;
    t.I.Pt = function (Y) {
        return Math.abs(Y[0]) < 1e-9 && Math.abs(Y[4]) < 1e-9 || Math.abs(Y[1]) < 1e-9 && Math.abs(Y[3]) < 1e-9
    }
        ;
    t.I.drawImage = function (Y, S, h, q, H, I, E, d, B) {
        if (E == null)
            E = !1;
        if (d == null)
            d = !1;
        var n = t.I.fb(Y)
            , g = !0
            , z = 0
            , p = 1 / Math.sqrt(Math.abs(Y[0] / h * Y[4] / q - Y[1] / h * Y[3] / q));
        for (var G = 0; G < 8; G++) {
            var C = Math.round(Y[G]);
            if (G != 2 && G != 5)
                z += Math.abs(C);
            if (Math.abs(C - Y[G]) > 1e-9)
                g = !1
        }
        var T = t.I.Yj(Y)
            , A = t.I.Pt(Y) && T
            , i = A ? 1 : 0;
        if (E || g && z == h + q && T) {
            t.I.aaE(n, S, h, q, H, I, d, T, B);
            return
        }
        var e = I.d
            , a = I.v
            , Z = new Float64Array(2);
        H = new Uint32Array(H.buffer);
        S = new Uint32Array(S.buffer);
        for (var O = 0; O < a; O++)
            for (var c = 0; c < e; c++) {
                var s = O * e + c, x, u, y, j, gf = 0, aa = 0, aA = 0, e5 = 0;
                H[s] = 0;
                var v = c + I.x + .5
                    , X = O + I.y + .5;
                x = v;
                u = X;
                y = n;
                j = 1 / (y[6] * x + y[7] * u + 1);
                var N = (y[0] * x + y[1] * u + y[2]) * j
                    , V = (y[3] * x + y[4] * u + y[5]) * j
                    , $ = N * h
                    , w = V * q
                    , m = $ < -1 || $ > h + 1 || w < -1 || w > q + 1;
                if (d) {
                    $ = Math.max(.001, Math.min(h - 1, $));
                    w = Math.max(.001, Math.min(q - 1, w))
                } else if (m)
                    continue;
                var l = p;
                if (!T) {
                    var b = 0
                        , K = 0;
                    y = Y;
                    x = N + 1 / h;
                    u = V;
                    j = 1 / (y[6] * x + y[7] * u + 1);
                    b = (y[0] * x + y[1] * u + y[2]) * j - v;
                    K = (y[3] * x + y[4] * u + y[5]) * j - X;
                    var J = b * b + K * K;
                    x = N;
                    u = V + 1 / q;
                    j = 1 / (y[6] * x + y[7] * u + 1);
                    b = (y[0] * x + y[1] * u + y[2]) * j - v;
                    K = (y[3] * x + y[4] * u + y[5]) * j - X;
                    var R = b * b + K * K;
                    l = 1 / Math.sqrt(Math.max(J, R))
                }
                if (l < 1.1) {
                    t.I.a5($, w, S, h, q, H, s, i);
                    continue
                }
                var r = Math.round(l * 2.3);
                if (!d && ($ < .6 || $ > h - .6 || w < .6 || w > q - .6)) {
                    r = Math.max(r, 5)
                }
                if (d && m)
                    r = 1;
                var f = 1 / r
                    , fk = I.x + c
                    , o = I.y + O;
                y = n;
                for (var G = 0; G < r; G++)
                    for (var eY = 0; eY < r; eY++) {
                        x = fk + (G + .5) * f;
                        u = o + (eY + .5) * f;
                        j = 1 / (y[6] * x + y[7] * u + 1);
                        var $ = (y[0] * x + y[1] * u + y[2]) * j
                            , w = (y[3] * x + y[4] * u + y[5]) * j;
                        if (d) {
                            $ = Math.max(.001, Math.min(.999, $));
                            w = Math.max(.001, Math.min(.999, w))
                        } else if ($ < 0 || $ >= 1 || w < 0 || w >= 1)
                            continue;
                        $ = Math.floor($ * h);
                        w = Math.floor(w * q);
                        var du = w * h + $
                            , dV = S[du]
                            , hy = dV >>> 24;
                        gf += (dV & 255) * hy;
                        aa += (dV >>> 8 & 255) * hy;
                        aA += (dV >>> 16 & 255) * hy;
                        e5 += hy
                    }
                if (e5 != 0) {
                    var bq = 1 / e5;
                    gf = ~~(gf * bq + .5);
                    aa = ~~(aa * bq + .5);
                    aA = ~~(aA * bq + .5);
                    e5 = ~~(e5 * f * f + .5);
                    H[s] = e5 << 24 | aA << 16 | aa << 8 | gf
                }
            }
    }
        ;
    t.I.aaE = function (Y, S, h, q, H, I, E, d, B) {
        if (d && !E && I.e() > 4e6 && B) {
            t.I.aek(Y, S, h, q, H, I, E, d, B);
            return
        }
        var n = I.x + I.d
            , g = I.y + I.v
            , z = 0
            , p = new Uint32Array(H.buffer)
            , C = new Uint32Array(S.buffer)
            , T = Y[0] * h
            , A = Y[1] * h
            , i = Y[2] * h
            , e = Y[3] * q
            , a = Y[4] * q
            , Z = Y[5] * q
            , O = Y[6]
            , c = Y[7];
        if (d && !E)
            for (var s = I.y + .5; s < g; s++)
                for (var x = I.x + .5; x < n; x++) {
                    var u = T * x + A * s + i
                        , y = e * x + a * s + Z;
                    if (0 < u && u < h && 0 < y && y < q) {
                        var j = ~~y * h + ~~u;
                        p[z] = C[j]
                    } else
                        p[z] = 0;
                    z++
                }
        else
            for (var s = I.y + .5; s < g; s++)
                for (var x = I.x + .5; x < n; x++) {
                    var v = 1 / (O * x + c * s + 1)
                        , u = (T * x + A * s + i) * v
                        , y = (e * x + a * s + Z) * v;
                    if (E) {
                        u = Math.max(.001, Math.min(h - 1, u));
                        y = Math.max(.001, Math.min(q - 1, y))
                    }
                    if (0 < u && u < h && 0 < y && y < q) {
                        var j = Math.floor(y) * h + Math.floor(u);
                        p[z] = C[j]
                    } else
                        p[z] = 0;
                    z++
                }
    }
        ;
    t.I.aek = function (Y, S, h, q, H, I, E, d, B) {
        var n = new Uint32Array(H.buffer)
            , g = new Uint32Array(S.buffer)
            , c = 0;
        if (B && (I.d & 3) != 0)
            throw "e";
        var z = Y[0] * h
            , p = Y[1] * h
            , C = Y[2] * h
            , T = Y[3] * q
            , A = Y[4] * q
            , i = Y[5] * q
            , e = Y[6]
            , a = Y[7]
            , Z = I.d
            , O = I.v
            , s = I.x + .5
            , x = I.y + .5
            , u = (Z >>> 2 << 2) - 1e-9
            , y = -.1 + (O >>> 1 << 1) - 1e-9
            , j = ~~h
            , v = z == 0 ? 0 : 1 / z
            , X = T == 0 ? 0 : 1 / T;
        for (var N = 0; N < O; N++) {
            var V = s * z + p * (N + x) + C
                , $ = s * T + A * (N + x) + i
                , w = 0
                , m = Z;
            if (z == 0) { } else if (v > 0) {
                w = Math.max(w, -V * v);
                m = Math.min(m, (h - V) * v)
            } else {
                m = Math.min(m, -V * v);
                w = Math.max(w, (h - V) * v)
            }
            if (T == 0) { } else if (X > 0) {
                w = Math.max(w, -$ * X);
                m = Math.min(m, (q - $) * X)
            } else {
                m = Math.min(m, -$ * X);
                w = Math.max(w, (q - $) * X)
            }
            if (m < 0)
                m = 0;
            if (w > m)
                w = m;
            w = Math.ceil(w);
            m = ~~m;
            c = ~~(N * Z);
            for (var l = 0; l < w; l++)
                n[c++] = 0;
            for (var l = w; l < m; l += 4) {
                var b = z * l + V
                    , K = T * l + $
                    , J = ~~K * j + ~~b;
                n[c++] = n[c++] = n[c++] = n[c++] = g[J]
            }
            for (var l = m; l < Z; l++)
                n[c++] = 0
        }
    }
        ;
    t.I.fb = function (Y) {
        var S = Y[4] - Y[5] * Y[7]
            , h = Y[2] * Y[7] - Y[1]
            , q = Y[1] * Y[5] - Y[2] * Y[4]
            , H = Y[5] * Y[6] - Y[3]
            , I = Y[0] - Y[2] * Y[6]
            , E = Y[3] * Y[2] - Y[0] * Y[5]
            , d = Y[3] * Y[7] - Y[4] * Y[6]
            , B = Y[1] * Y[6] - Y[0] * Y[7]
            , n = 1 / (Y[0] * Y[4] - Y[1] * Y[3]);
        return [S * n, h * n, q * n, H * n, I * n, E * n, d * n, B * n]
    }
        ;
    t.I.K7 = function (Y, S) {
        var h = Y[0]
            , q = Y[1]
            , H = Y[2]
            , I = Y[3]
            , E = Y[4]
            , d = Y[5]
            , B = Y[6]
            , n = Y[7]
            , g = S[0]
            , z = S[1]
            , p = S[2]
            , C = S[3]
            , T = S[4]
            , A = S[5]
            , i = S[6]
            , e = S[7]
            , a = [h * g + q * C + H * i, h * z + q * T + H * e, h * p + q * A + H, I * g + E * C + d * i, I * z + E * T + d * e, I * p + E * A + d, B * g + n * C + i, B * z + n * T + e]
            , Z = 1 / (B * p + n * A + 1);
        for (var G = 0; G < 8; G++)
            a[G] *= Z;
        return a
    }
        ;
    t.I.a5 = function (Y, S, h, q, H, I, E, d) {
        var B = Y
            , n = S
            , p = 0
            , C = 0
            , T = 0
            , A = 0;
        Y -= .499999;
        S -= .499999;
        var g = Math.floor(Y)
            , z = Math.floor(S);
        if (d == 0) {
            var G = z * q + g
                , i = g >= 0 && g < q
                , e = g + 1 >= 0 && g + 1 < q
                , a = z >= 0 && z < H
                , Z = z + 1 >= 0 && z + 1 < H;
            if (i && a)
                p = h[G];
            if (e && a)
                C = h[G + 1];
            if (i && Z)
                T = h[G + q];
            if (e && Z)
                A = h[G + q + 1]
        } else if (d == 1) {
            var O = g < 0 ? 0 : g > q - 1 ? q - 1 : g
                , c = g < -1 ? 0 : g > q - 2 ? q - 1 : g + 1
                , s = z < 0 ? 0 : z > H - 1 ? H - 1 : z
                , x = z < -1 ? 0 : z > H - 2 ? H - 1 : z + 1;
            p = h[s * q + O];
            C = h[s * q + c];
            T = h[x * q + O];
            A = h[x * q + c]
        } else {
            var O = (g + 50 * q) % q
                , c = (g + 50 * q) % q
                , s = (z + 50 * H) % H
                , x = (z + 50 * H) % H;
            p = h[s * q + O];
            C = h[s * q + c];
            T = h[x * q + O];
            A = h[x * q + c]
        }
        var u = Y - g
            , y = S - z
            , j = (1 - y) * (1 - u) * (p >>> 24)
            , v = (1 - y) * u * (C >>> 24)
            , X = y * (1 - u) * (T >>> 24)
            , N = y * u * (A >>> 24)
            , V = j + v + X + N
            , $ = j * (p & 255) + v * (C & 255) + X * (T & 255) + N * (A & 255)
            , w = j * (p >>> 8 & 255) + v * (C >>> 8 & 255) + X * (T >>> 8 & 255) + N * (A >>> 8 & 255)
            , m = j * (p >>> 16 & 255) + v * (C >>> 16 & 255) + X * (T >>> 16 & 255) + N * (A >>> 16 & 255);
        if (V == 0)
            I[E] = 0;
        else {
            var l = 1 / V;
            $ = ~~($ * l + .5);
            w = ~~(w * l + .5);
            m = ~~(m * l + .5);
            V = ~~(V + .5);
            I[E] = V << 24 | m << 16 | w << 8 | $
        }
    }
        ;
    t.I.zI = function (Y, S, h, q, H, I) {
        var E = Y - .499999
            , d = S - .499999
            , B = ~~E
            , n = ~~d
            , g = E - B
            , z = d - n
            , p = (1 - z) * (1 - g)
            , C = (1 - z) * g
            , T = z * (1 - g)
            , A = z * g
            , i = n * q + B << 2
            , e = (n + 1) * q + B << 2
            , a = p * h[i] + C * h[i + 4] + T * h[e] + A * h[e + 4]
            , Z = p * h[i + 1] + C * h[i + 5] + T * h[e + 1] + A * h[e + 5]
            , O = p * h[i + 2] + C * h[i + 6] + T * h[e + 2] + A * h[e + 6]
            , c = p * h[i + 3] + C * h[i + 7] + T * h[e + 3] + A * h[e + 7];
        I[0] = a;
        I[1] = Z;
        I[2] = O;
        I[3] = c
    }
        ;
    t.I.J5 = function (Y, S, h, q, H) {
        Y -= .499999;
        S -= .499999;
        var I = Math.floor(Y)
            , E = Math.floor(S)
            , d = Y - I
            , B = S - E
            , n = (1 - B) * (1 - d)
            , g = (1 - B) * d
            , z = B * (1 - d)
            , p = B * d
            , C = (I + 50 * q) % q
            , T = (I + 1 + 50 * q) % q
            , A = (E + 50 * H) % H
            , i = (E + 1 + 50 * H) % H
            , e = h[A * q + C]
            , a = h[A * q + T]
            , Z = h[i * q + C]
            , O = h[i * q + T];
        if (e == null || O == null)
            throw "e";
        return n * e + g * a + z * Z + p * O
    }
        ;
    t.I.Mt = function (Y, S, h, q, H, I, E, d, B, n, g, z) {
        var p = new Uint32Array(Y.buffer)
            , C = new Uint32Array(q.buffer)
            , T = (1 + 2 * n) / H
            , A = []
            , i = [];
        for (var e = 0; e < H; e++) {
            var a = -.25 + n - e * T;
            A.push(Math.cos(2 * Math.PI * a) * z / g);
            A.push(Math.sin(2 * Math.PI * a) / g)
        }
        E *= S;
        d *= h;
        for (var Z = 0; Z < I; Z++) {
            var O = Math.pow(Z / I, B) * I;
            for (var e = 0; e < H; e++) {
                var c = E + A[e << 1] * O
                    , s = d + A[(e << 1) + 1] * O
                    , x = ~~(.5 + (c < 0 ? 0 : c > S - 1 ? S - 1 : c))
                    , u = ~~(.5 + (s < 0 ? 0 : s > h - 1 ? h - 1 : s));
                C[Z * H + e] = p[u * S + x]
            }
        }
    }
        ;
    t.I.Lu = function (Y, S, h, q, H, I, E, d, B, n, g, z) {
        var p = new Uint32Array(Y.buffer)
            , C = new Uint32Array(q.buffer)
            , T = 1 / z
            , A = []
            , i = h * 4
            , e = 1 / i;
        for (var a = 0; a < i; a++)
            A.push(Math.pow(a * e, 1 / B) * h * g);
        E *= H;
        d *= I;
        for (var a = 0; a < I; a++)
            for (var Z = 0; Z < H; Z++) {
                var O = T * (Z - E)
                    , c = a - d
                    , s = 1.75 - Math.atan2(c, O) * (1 / (2 * Math.PI));
                s = s - ~~s;
                s = (s + n) * (1 / (1 + 2 * n));
                var x = Math.sqrt(O * O + c * c);
                x = A[~~(x * 4)];
                t.I.a5(s * S + .5, x + .5, p, S, h, C, a * H + Z, 1)
            }
    }
        ;
    t.I.cw = function (Y, S, h, q, H) {
        var I = H[0]
            , E = H[1];
        for (var d = 0; d < E; d++)
            for (var B = 0; B < I; B++) {
                var n = H[2] * B + H[3] * d + H[4]
                    , g = H[5] * B + H[6] * d + H[7]
                    , z = d * I + B << 2
                    , p = g * S + n << 2;
                q[z] = Y[p + 0];
                q[z + 1] = Y[p + 1];
                q[z + 2] = Y[p + 2];
                q[z + 3] = Y[p + 3]
            }
    }
        ;
    t.W = {
        qF: function (Y, S) {
            var h = ~~(.499 + Y * S);
            return h < 0 ? 0 : h > S ? S : h
        },
        adt: function (Y, S, h, q, H, I, E, d) {
            var B = h[0]
                , n = h[1]
                , g = h[2]
                , z = h[3]
                , p = q.d
                , C = q.v
                , T = new Float64Array(p * 4 + 8)
                , A = new Float64Array(p * 4 + 8);
            for (var i = 0, G = 0; i < C; i++) {
                var e = T;
                T = A;
                A = e;
                A.fill(0);
                for (var a = 0; a < p; a++,
                    G++) {
                    var Z = a + H
                        , O = i + I
                        , c = B * Z + n * O
                        , s = g * Z + z * O
                        , x = 0
                        , j = 0;
                    if (d == 0)
                        x = c + .5;
                    else if (d == 1)
                        x = 2 * Math.sqrt(c * c + s * s);
                    else if (d == 2)
                        x = (Math.PI + Math.atan2(-s, -c)) / (2 * Math.PI);
                    else if (d == 3)
                        x = Math.abs(c * 2);
                    else if (d == 4)
                        x = 2 * (Math.abs(c) + Math.abs(s));
                    var u = t.W.qF(x, E) * 4
                        , y = a * 4;
                    for (var v = 0; v < 4; v++) {
                        var X = Math.max(0, Math.min(254.999, S[u + v] + T[y + 4 + v]))
                            , N = Math.floor(X);
                        if (Math.random() < X - N)
                            N++;
                        var V = X - N;
                        T[y + 8 + v] = V * (7 / 16);
                        A[y + 0 + v] = V * (3 / 16);
                        A[y + 4 + v] = V * (5 / 16);
                        A[y + 8 + v] = V * (1 / 16);
                        j |= N << v * 8
                    }
                    Y[G] = j
                }
            }
        },
        V: [function (Y, S, h, q, H, I, E) {
            var d = h[0]
                , B = h[1]
                , n = h[2]
                , g = h[3]
                , z = q.d
                , p = q.v;
            for (var C = 0, G = 0; C < p; C++)
                for (var T = 0; T < z; T++,
                    G++) {
                    var A = T + H
                        , i = C + I
                        , e = d * A + B * i
                        , a = n * A + g * i
                        , Z = e + .5;
                    Y[G] = S[t.W.qF(Z, E)]
                }
        }
            , function (Y, S, h, q, H, I, E) {
                var d = h[0]
                    , B = h[1]
                    , n = h[2]
                    , g = h[3]
                    , z = q.d
                    , p = q.v;
                for (var C = 0, G = 0; C < p; C++)
                    for (var T = 0; T < z; T++,
                        G++) {
                        var A = T + H
                            , i = C + I
                            , e = d * A + B * i
                            , a = n * A + g * i
                            , Z = 2 * Math.sqrt(e * e + a * a);
                        Y[G] = S[t.W.qF(Z, E)]
                    }
            }
            , function (Y, S, h, q, H, I, E) {
                var d = h[0]
                    , B = h[1]
                    , n = h[2]
                    , g = h[3]
                    , z = q.d
                    , p = q.v;
                for (var C = 0, G = 0; C < p; C++)
                    for (var T = 0; T < z; T++,
                        G++) {
                        var A = T + H
                            , i = C + I
                            , e = d * A + B * i
                            , a = n * A + g * i
                            , Z = (Math.PI + Math.atan2(-a, -e)) / (2 * Math.PI);
                        Y[G] = S[t.W.qF(Z, E)]
                    }
            }
            , function (Y, S, h, q, H, I, E) {
                var d = h[0]
                    , B = h[1]
                    , n = h[2]
                    , g = h[3]
                    , z = q.d
                    , p = q.v;
                for (var C = 0, G = 0; C < p; C++)
                    for (var T = 0; T < z; T++,
                        G++) {
                        var A = T + H
                            , i = C + I
                            , e = d * A + B * i
                            , a = n * A + g * i
                            , Z = Math.abs(e * 2);
                        Y[G] = S[t.W.qF(Z, E)]
                    }
            }
            , function (Y, S, h, q, H, I, E) {
                var d = h[0]
                    , B = h[1]
                    , n = h[2]
                    , g = h[3]
                    , z = q.d
                    , p = q.v;
                for (var C = 0, G = 0; C < p; C++)
                    for (var T = 0; T < z; T++,
                        G++) {
                        var A = T + H
                            , i = C + I
                            , e = d * A + B * i
                            , a = n * A + g * i
                            , Z = 2 * (Math.abs(e) + Math.abs(a));
                        Y[G] = S[t.W.qF(Z, E)]
                    }
            }
        ]
    };
    t.W.a59 = function (Y, S) {
        return Y + .5
    }
        ;
    t.W.a42 = function (Y, S) {
        return 2 * Math.sqrt(Y * Y + S * S)
    }
        ;
    t.W.ane = function (Y, S) {
        return (Math.PI + Math.atan2(-S, -Y)) / (2 * Math.PI)
    }
        ;
    t.W.ahW = function (Y, S) {
        return Math.abs(Y * 2)
    }
        ;
    t.W.a6t = function (Y, S) {
        return 2 * (Math.abs(Y) + Math.abs(S))
    }
        ;
    t.W.XH = function (Y, S, h, q, H, I, E, d, B, n, g, z) {
        if (Y.Clrs == null)
            return;
        var p = new Uint32Array(S.buffer)
            , C = 1023
            , T = t.W.vi(Y.Clrs.v, B, n);
        if (z) {
            var A = t.W.ajp(Y, T, C + 1, E);
            t.W.adt(p, A, q, h, h.x - H, h.y - I, C, d);
            return
        }
        var i = t.W.w7(Y, T, C + 1, E);
        if (d < 5) {
            t.W.V[d](p, i, q, h, h.x - H, h.y - I, C)
        } else {
            var e = new Uint8Array(i.buffer)
                , a = h.d
                , Z = h.v
                , O = g.IB - g.Ld
                , c = 1 / O
                , s = g.ku.d - h.d >> 1
                , x = g.ku.v - h.v >> 1
                , u = g.ku.d
                , y = -.6 * c
                , j = (-.6 + .4) * c
                , v = (-.6 + 2 * .4) * c
                , X = (-.6 + 3 * .4) * c;
            for (var N = 0, G = 0; N < Z; N++)
                for (var V = 0; V < a; V++,
                    G += 4) {
                    var $ = 0
                        , w = 0
                        , m = 0
                        , l = 0
                        , b = (N + x) * u + V + s
                        , K = (g.gn[b] - g.Ld) * c
                        , J = 0;
                    if (K <= 0 || K >= 1) {
                        J = (K <= 0 ? 0 : C) << 2;
                        S[G] = e[J];
                        S[G + 1] = e[J + 1];
                        S[G + 2] = e[J + 2];
                        S[G + 3] = e[J + 3];
                        continue
                    }
                    J = Math.max(0, Math.min(C - 1, Math.round((K + y) * C))) << 2;
                    w += e[J];
                    m += e[J + 1];
                    l += e[J + 2];
                    $ += e[J + 3];
                    J = Math.max(0, Math.min(C - 1, Math.round((K + j) * C))) << 2;
                    w += e[J];
                    m += e[J + 1];
                    l += e[J + 2];
                    $ += e[J + 3];
                    J = Math.max(0, Math.min(C - 1, Math.round((K + v) * C))) << 2;
                    w += e[J];
                    m += e[J + 1];
                    l += e[J + 2];
                    $ += e[J + 3];
                    J = Math.max(0, Math.min(C - 1, Math.round((K + X) * C))) << 2;
                    w += e[J];
                    m += e[J + 1];
                    l += e[J + 2];
                    $ += e[J + 3];
                    S[G] = w >>> 2;
                    S[G + 1] = m >>> 2;
                    S[G + 2] = l >>> 2;
                    S[G + 3] = $ >>> 2
                }
        }
    }
        ;
    t.W.vi = function (Y, S, h) {
        var q = [];
        for (var G = 0; G < Y.length; G++) {
            var H;
            if (Y[G].v.Type.v.Clry == "FrgC")
                H = {
                    h: S >> 16 & 255,
                    l: S >> 8 & 255,
                    O: S & 255
                };
            else if (Y[G].v.Type.v.Clry == "BckC")
                H = {
                    h: h >> 16 & 255,
                    l: h >> 8 & 255,
                    O: h & 255
                };
            else
                H = t.W.cd(Y[G].v.Clr.v);
            q.push(H)
        }
        return q
    }
        ;
    t.W.cd = function (Y) {
        var S, h = Y.classID;
        if (h == "RGBC") {
            if (Y.Rd)
                S = {
                    h: Y.Rd.v,
                    l: Y.Grn.v,
                    O: Y.Bl.v
                };
            else
                S = {
                    h: Y.redFloat.v * 255,
                    l: Y.greenFloat.v * 255,
                    O: Y.blueFloat.v * 255
                }
        } else if (h == "HSBC") {
            S = t.im(Y.H.v.val / 360, Y.Strt.v / 100, Y.Brgh.v / 100);
            S.h *= 255;
            S.l *= 255;
            S.O *= 255
        } else if (h == "CMYC") {
            var q = 100 - Y.Cyn.v
                , H = 100 - Y.Mgnt.v
                , I = 100 - Y.Ylw.v
                , E = 100 - Y.Blck.v
                , d = 255 * q * E * 1e-4
                , B = 255 * (.2 * q + .8 * H) * E * 1e-4
                , n = 255 * (.2 * H + .8 * I) * E * 1e-4;
            S = {
                h: d,
                l: B,
                O: n
            }
        } else if (h == "Grsc")
            S = {
                h: 255 - Y.Gry.v,
                l: 255 - Y.Gry.v,
                O: 255 - Y.Gry.v
            };
        else if (h == "LbCl") {
            S = t.Zy(Y.Lmnc.v, Y.A.v, Y.B.v)
        } else
            console.log(Y);
        if (isNaN(S.h))
            S.h = S.l = S.O = 0;
        return S
    }
        ;
    t.W.Da = function (Y) {
        return {
            classID: "RGBC",
            Rd: {
                t: "doub",
                v: Y.h
            },
            Grn: {
                t: "doub",
                v: Y.l
            },
            Bl: {
                t: "doub",
                v: Y.O
            }
        }
    }
        ;
    t.W.ajp = function (Y, S, h, q) {
        var H = []
            , I = 1 / (h - 0);
        for (var G = 0; G < h; G++) {
            var E = G * 4
                , d = t.W.z0(Y, S, (q ? h - 1 - G : G) * I);
            H[E] = d[0];
            H[E + 1] = d[1];
            H[E + 2] = d[2];
            H[E + 3] = d[3]
        }
        return H
    }
        ;
    t.W.w7 = function (Y, S, h, q) {
        var H = new Uint32Array(h)
            , I = 1 / (h - 0);
        for (var G = 0; G < h; G++)
            H[G] = t.W.G7(Y, S, (q ? h - 1 - G : G) * I);
        return H
    }
        ;
    t.W.z0 = function (Y, S, h) {
        var q = 4096
            , H = 1 / 4096
            , I = Y.Intr.v * H
            , E = Y.Clrs.v
            , d = Y.Trns.v
            , B = E.length - 1
            , n = d.length - 1
            , G = -1
            , g = 0
            , z = 0
            , p = 0
            , C = 0;
        while (G < n && d[G + 1].v.Lctn.v <= h * q)
            G++;
        if (G == -1) {
            g = d[0].v.Opct.v.val * (255 / 100)
        } else if (G == n) {
            g = d[G].v.Opct.v.val * (255 / 100)
        } else {
            var T = t.W.rx(d, H, G, h, I);
            g = (T * d[G].v.Opct.v.val + (1 - T) * d[G + 1].v.Opct.v.val) * (255 / 100)
        }
        G = -1;
        while (G < B && E[G + 1].v.Lctn.v <= h * q)
            G++;
        if (G == -1) {
            var A = S[0];
            z = A.h;
            p = A.l;
            C = A.O
        } else if (G == B) {
            var A = S[G];
            z = A.h;
            p = A.l;
            C = A.O
        } else {
            var i = S[G]
                , e = S[G + 1]
                , a = t.W.rx(E, H, G, h, I);
            z = a * i.h + (1 - a) * e.h;
            p = a * i.l + (1 - a) * e.l;
            C = a * i.O + (1 - a) * e.O
        }
        return [z, p, C, g]
    }
        ;
    t.W.G7 = function (Y, S, h) {
        var q = t.W.z0(Y, S, h)
            , H = ~~(.5 + q[0])
            , I = ~~(.5 + q[1])
            , E = ~~(.5 + q[2])
            , d = ~~(.5 + q[3]);
        return d << 24 | E << 16 | I << 8 | H
    }
        ;
    t.W.rx = function (Y, S, G, h, q) {
        if (Y.length == 2)
            q *= .5;
        var H = Y[G].v.Lctn.v * S, I = Y[G + 1].v.Lctn.v * S, E = H + Y[G + 1].v.Mdpn.v * .01 * (I - H), d;
        if (h < E)
            d = .5 * (h - H) / (E - H);
        else
            d = .5 + .5 * (h - E) / (I - E);
        d = .5 + .5 * (q * Math.cos(Math.PI * d) + (1 - q) * (1 - 2 * d));
        return d
    }
        ;
    t.W.RR = function (Y, S) {
        var h = Math.PI * Y.Angl.v.val / 180
            , q = Y.Scl.v.val / 100
            , H = Y.Ofst.v
            , I = H.Hrzn.v.val / 100
            , E = H.Vrtc.v.val / 100
            , d = Math.cos(h)
            , B = -Math.sin(h)
            , n = .5 * S.v
            , g = n * (d / B)
            , z = Math.sqrt(n * n + g * g)
            , p = .5 * S.d
            , C = p * (B / d)
            , T = Math.sqrt(p * p + C * C)
            , A = Math.min(z, T) * q
            , i = S.x + S.d / 2 + I * S.d
            , e = S.y + S.v / 2 + E * S.v;
        return [new aV(i, e), new aV(i + d * A, e + B * A)]
    }
        ;
    t.W.Nd = function (Y, S, h, q) {
        var H = S.x - Y.x
            , I = -(S.y - Y.y)
            , E = Math.sqrt(H * H + I * I)
            , d = Math.atan2(I, H)
            , B = Math.cos(d)
            , n = -Math.sin(d)
            , g = .5 * h.v
            , z = g * (B / n)
            , p = Math.sqrt(g * g + z * z)
            , C = .5 * h.d
            , T = C * (n / B)
            , A = Math.sqrt(C * C + T * T)
            , i = E / Math.min(p, A)
            , e = (Y.x - h.x - h.d / 2) / h.d
            , a = (Y.y - h.y - h.v / 2) / h.v;
        q.Angl.v.val = 180 * d / Math.PI;
        q.Scl.v.val = i * 100;
        var Z = q.Ofst.v;
        Z.Hrzn.v.val = e * 100;
        Z.Vrtc.v.val = a * 100
    }
        ;
    t.W.uX = function (Y, S) {
        for (var G = 0; G < Y.length; G++) {
            var h = Y[G]
                , q = Math.round(h[0] * 4096)
                , H = h[1]
                , I = h[2];
            if (I == null)
                I = 1;
            var E = t.W.Da({
                h: H[0] * 255,
                l: H[1] * 255,
                O: H[2] * 255
            });
            S.Clrs.v[G] = {
                t: "Objc",
                v: {
                    classID: "Clrt",
                    Lctn: {
                        t: "long",
                        v: q
                    },
                    Mdpn: {
                        t: "long",
                        v: 50
                    },
                    Clr: {
                        t: "Objc",
                        v: E
                    },
                    Type: {
                        t: "enum",
                        v: {
                            Clry: "UsrS"
                        }
                    }
                }
            };
            S.Trns.v[G] = {
                t: "Objc",
                v: {
                    classID: "TrnS",
                    Lctn: {
                        t: "long",
                        v: q
                    },
                    Mdpn: {
                        t: "long",
                        v: 50
                    },
                    Opct: {
                        t: "UntF",
                        v: {
                            type: "#Prc",
                            val: Math.round(I * 100)
                        }
                    }
                }
            }
        }
    }
        ;
    t.AJ = {};
    t.AJ.agw = function (Y, S, h, q, H, I, E, d, B, n, g, z) {
        var p, C, T, A = Date.now(), i = !1, e = E, a = n, Z, O, c, s, x = I * 255, u = 255 - B * 255, y = 1 + H * 6, j = 1 + d * 6, v = 1 + z * 4, X = (v - 1) / 7, N = 0, V = 255 - 0, $, w, m, l, b, K, J, R, r, f, gf, aa, aA, e5 = 0, fk = 1, o, eY, du, dV, hy, bq, i5, hX, bY, ds, hV = 1 + g, gF, co = t.m(h * q), c_ = t.m(h * q), a5 = t.m(h * q), gb = t.m(h * q), iC = 255 / x, cC = 255 / (255 - u);
        for (C = 0; C < q; C++) {
            for (p = 0; p < h; p++) {
                var G = C * h + p
                    , aB = G << 2;
                o = t.re(Y[aB], Y[aB + 1], Y[aB + 2]);
                gb[G] = o;
                if (o < x)
                    co[G] = 255 - o * iC;
                if (o > u)
                    c_[G] = 255 - (255 - o) * cC
            }
        }
        if (i)
            console.log("init", Date.now() - A);
        A = Date.now();
        if (H * e > 0) {
            a5.set(co);
            t.n8.MQ(a5, co, new W(0, 0, h, q), e)
        }
        if (d * a > 0) {
            a5.set(c_);
            t.n8.MQ(a5, c_, new W(0, 0, h, q), a)
        }
        if (i)
            console.log("blur", Date.now() - A);
        A = Date.now();
        var cd = t.m(256)
            , dZ = t.m(256);
        for (var G = 0; G < 256; G++) {
            var en = G * (1 / 255)
                , cD = 0;
            cD = (1 - Math.pow(1 - en, y)) * 255;
            cd[G] = Math.max(0, Math.min(255, ~~(cD + .5)));
            cD = Math.pow(en, j) * 255;
            dZ[G] = Math.max(0, Math.min(255, ~~(cD + .5)))
        }
        var hP = new Uint8ClampedArray(S.buffer)
            , ea = new Float32Array(32768);
        for (var G = 0; G < 32768; G++) {
            gF = Math.sqrt(G) * (1 / 128);
            if (hV > 1)
                gF = (1 - gF) * (hV - 1) + 1;
            else
                gF = gF * (hV - 1) + 1;
            ea[G] = gF
        }
        for (C = 0; C < q; C++) {
            for (p = 0; p < h; p++) {
                var G = C * h + p
                    , aB = G << 2
                    , cD = gb[G]
                    , fp = co[G] * (1 / 255)
                    , bC = c_[G] * (1 / 255);
                cD = (1 - fp) * cD + fp * cd[~~cD];
                cD = (1 - bC) * cD + bC * dZ[~~cD];
                o = cD;
                var hG = Y[aB]
                    , b3 = Y[aB + 1]
                    , ct = Y[aB + 2];
                eY = -hG * .168736 - b3 * .331264 + ct * .5;
                du = hG * .5 - b3 * .418688 - ct * .081312;
                gF = ea[~~(.5 + eY * eY + du * du)];
                dV = eY * gF;
                bq = du * gF;
                fk = 1 - Math.min(2 - (fp + bC), 1);
                eY = fk * eY + (1 - fk) * dV;
                du = fk * du + (1 - fk) * bq;
                hX = o + 1.402 * du;
                bY = o - .34414 * eY - .71414 * du;
                ds = o + 1.772 * eY;
                hP[aB] = ~~(.5 + hX);
                hP[aB + 1] = ~~(.5 + bY);
                hP[aB + 2] = ~~(.5 + ds)
            }
        }
        if (i)
            console.log("apply masks", Date.now() - A);
        A = Date.now()
    }
        ;
    t.WL = {};
    t.WL.nK = function (Y, S, h, q, H) {
        var I = !1
            , T = 1
            , V = 0
            , $ = 0
            , r = 0
            , bY = 0;
        if (!S.HS(H)) {
            var E = S.TG(H)
                , d = t.m(E.e() * 4);
            t.rd(Y, S, d, E);
            Y = d;
            S = E
        }
        var B = t.m(S.e());
        t.m7(h, H, B, S);
        t.round(B);
        H = H.lF(S);
        var n = H.d
            , g = H.v
            , z = n * 3 < g ? 2 : 1
            , p = g * 3 < n ? 2 : 1;
        if (H.e() * (z * 2 + 1) * (p * 2 + 1) < S.e()) {
            var E = new W(H.x - n * z, H.y - g * z, n * (z * 2 + 1), g * (p * 2 + 1)).lF(S)
                , d = t.m(E.e() * 4);
            t.rd(Y, S, d, E);
            var C = t.m(E.e());
            t.m7(B, S, C, E);
            S = E;
            Y = d;
            B = C
        }
        while ((S.d + S.v) / 2 / T > 400)
            T++;
        var A = Y
            , i = S
            , e = B
            , a = Math.floor(i.d / T)
            , Z = Math.floor(i.v / T);
        Y = t.m(a * Z * 4);
        t.scale.GY(A, i.d, i.v, Y, a, Z, 1 / T);
        B = t.m(a * Z);
        t.scale.cw(e, i.d, i.v, B, a, Z, 1 / T);
        t.round(B, 1);
        var O = t.o9(B, new W(0, 0, a, Z));
        if (O.fa())
            return 1;
        var c = Math.round((O.d + O.v) / 2 / 15)
            , s = Date.now()
            , x = t.m(a * Z * 4);
        t.a45(Y, x);
        var u = Int16Array
            , y = new u(a * Z * 24)
            , j = new u(64)
            , v = new u(64)
            , X = new u(64)
            , N = new u(64);
        for (var w = 3; w < Z - 4; w++)
            for (var m = 3; m < a - 4; m++) {
                var l = w * a + m;
                if (B[l] == 255)
                    continue;
                if (t.WL.alu(x, B, m, w, a, Z, j, v, X) != 0)
                    continue;
                t.WL.Y$(j, N);
                y[V] = m;
                y[V + 1] = w;
                t.WL.vx(j, y, V + 4, 12);
                V += 16;
                t.WL.Y$(v, N);
                t.WL.vx(v, y, V, 4);
                V += 4;
                t.WL.Y$(X, N);
                t.WL.vx(X, y, V, 4);
                V += 4;
                var b = y[V - 24 + 5]
                    , K = y[V - 24 + 6];
                y[V - 24 + 5] = y[V - 24 + 20];
                y[V - 24 + 6] = y[V - 24 + 16];
                y[V - 24 + 16] = b;
                y[V - 24 + 20] = K;
                $++
            }
        if ($ == 0)
            return 2;
        if (I)
            console.log(Date.now() - s, "FWHT computed");
        s = Date.now();
        var J = [];
        t.WL.dQ(0, $ - 1, J, y, new u(2 * 24));
        if (I)
            console.log(Date.now() - s, "KD tree computed");
        s = Date.now();
        var R = new Float32Array(a * Z * 4);
        for (var G = 0; G < $; G++) {
            var f = G
                , gf = t.WL.afK(f, y, J, c);
            if (gf == -1)
                continue;
            var aa = f * 24
                , aA = gf * 24
                , e5 = y[aa]
                , fk = y[aa + 1]
                , o = y[aA]
                , eY = y[aA + 1];
            r += t.WL.getError(aA, aa, y, 1e99);
            var du = o - e5
                , dV = eY - fk;
            R[(Z + dV) * 2 * a + (a + du)] += 1
        }
        if (I)
            console.log(Date.now() - s, "NN found");
        s = Date.now();
        var hy = []
            , bq = 1 / (2 * a);
        for (var G = 0; G < R.length; G++) {
            if (R[G] > 0) {
                var w = Math.floor(G * bq)
                    , m = G - w * 2 * a;
                hy.push({
                    x: m - a,
                    y: w - Z,
                    G: R[G],
                    hU: -1
                })
            }
        }
        hy.sort(function (bC, hG) {
            return hG.G - bC.G
        });
        var i5 = new Int32Array(a * Z)
            , hX = [];
        for (var G = 0; G < a * Z; G++) {
            if (B[G] == 255) {
                i5[G] = bY;
                hX.push(G % a, Math.floor(G / a));
                bY++
            } else if (Y[(G << 2) + 3] < 200) {
                i5[G] = -2
            } else {
                i5[G] = -1
            }
        }
        var ds = t.WL.a37(a, Z, hy, i5, hX, bY);
        if (ds == null) {
            return 3
        }
        var hV = ds.EJ
            , top = ds.top;
        hV = t.WL.aiH(hV, Y, a, Z, top, i5, hX, bY);
        if (I)
            console.log(Date.now() - s, "optimal labeling found");
        s = Date.now();
        var E = H.clone();
        E.vo(1, 1);
        E = E.lF(i);
        var gF = t.m(E.e() * 4)
            , co = t.m(E.e());
        t.rd(A, i, gF, E);
        var c_ = i.d
            , a5 = i.v;
        for (var w = 0; w < a5; w++)
            for (var m = 0; m < c_; m++) {
                if (e[w * c_ + m] == 0)
                    continue;
                var cC = Math.min(Math.floor(m / T), a - 1)
                    , aB = Math.min(Math.floor(w / T), Z - 1)
                    , cd = i5[aB * a + cC]
                    , dZ = hV[cd]
                    , en = top[dZ]
                    , cD = m + en.x * T
                    , hP = w + en.y * T
                    , ea = hP * c_ + cD << 2
                    , fp = (w - E.y + i.y) * E.d + (m - E.x + i.x) << 2;
                gF[fp] = A[ea];
                gF[fp + 1] = A[ea + 1];
                gF[fp + 2] = A[ea + 2];
                gF[fp + 3] = A[ea + 3];
                gF[fp + 3] = A[ea + 3];
                co[fp >> 2] = dZ + 1
            }
        if (I)
            console.log(Date.now() - s, "copied back");
        s = Date.now();
        t.m5.nK(gF, co, E, null, 1e3);
        if (I)
            console.log(Date.now() - s, "poisson smooth");
        s = Date.now();
        t.rd(gF, E, q, H);
        return 0
    }
        ;
    t.WL.$e = function (Y, S, h, q, H, I) {
        return t.WL.xd(Y + H.x, S + H.y, h, q) && I[(S + H.y) * h + (Y + H.x)] == -1 ? 0 : 1e9
    }
        ;
    t.WL.aiH = function (Y, S, h, q, top, H, I, E) {
        var d = Date.now()
            , B = [-1, 0, 0, -1, 1, 0, 0, 1]
            , n = 1e99
            , g = []
            , z = []
            , p = 2 * (E * 2 * 3 + E * 2)
            , C = null
            , T = 0
            , A = 0
            , i = 0
            , e = 1e99;
        while (!0 && Date.now() < d + 12e3) {
            i++;
            var a = null
                , Z = n;
            for (var O = 0; O < top.length; O++) {
                var c = top[O]
                    , s = 0
                    , x = E + 2
                    , u = 0;
                for (var G = 0; G < E; G++) {
                    var y = I[G * 2]
                        , j = I[G * 2 + 1]
                        , v = top[Y[G]]
                        , X = t.WL.$e(y, j, h, q, c, H)
                        , N = Y[G] == O ? 1e9 : t.WL.$e(y, j, h, q, v, H);
                    for (var D = 0; D < 4; D++) {
                        if (D == 0 && y == 0 || D == 1 && j == 0 || D == 2 && y == h - 1 || D == 3 && j == q - 1)
                            continue;
                        var V = B[2 * D]
                            , $ = B[2 * D + 1]
                            , w = y + V
                            , m = j + $
                            , l = H[m * h + w];
                        if (l == -2) { } else if (l == -1) {
                            X += 3 * t.WL.w0(w + c.x, m + c.y, w, m, h, q, S, H);
                            X += 2 * t.WL.w0(w + c.x + V, m + c.y + $, w + V, m + $, h, q, S, H);
                            N += 3 * t.WL.w0(w + v.x, m + v.y, w, m, h, q, S, H);
                            N += 2 * t.WL.w0(w + v.x + V, m + v.y + $, w + V, m + $, h, q, S, H)
                        } else if (D > 1) {
                            if (Y[G] == Y[l]) {
                                var b = 0;
                                b += t.WL.w0(y + v.x, j + v.y, y + c.x, j + c.y, h, q, S, H);
                                b += t.WL.w0(w + v.x, m + v.y, w + c.x, m + c.y, h, q, S, H);
                                g[s] = G;
                                g[s + 1] = l;
                                z[s] = b;
                                z[s + 1] = b;
                                s += 2
                            } else {
                                var K = top[Y[l]]
                                    , J = x
                                    , R = 0
                                    , r = 0
                                    , f = 0;
                                x++;
                                R += t.WL.w0(y + v.x, j + v.y, y + c.x, j + c.y, h, q, S, H);
                                R += t.WL.w0(w + v.x, m + v.y, w + c.x, m + c.y, h, q, S, H);
                                r += t.WL.w0(y + K.x, j + K.y, y + c.x, j + c.y, h, q, S, H);
                                r += t.WL.w0(w + K.x, m + K.y, w + c.x, m + c.y, h, q, S, H);
                                f += t.WL.w0(y + K.x, j + K.y, y + v.x, j + v.y, h, q, S, H);
                                f += t.WL.w0(w + K.x, m + K.y, w + v.x, m + v.y, h, q, S, H);
                                g[s] = G;
                                g[s + 1] = J;
                                z[s] = R;
                                z[s + 1] = R;
                                s += 2;
                                g[s] = l;
                                g[s + 1] = J;
                                z[s] = r;
                                z[s + 1] = r;
                                s += 2;
                                g[s] = J;
                                g[s + 1] = E + 1;
                                z[s] = f;
                                z[s + 1] = 0;
                                s += 2
                            }
                        }
                    }
                    g[s] = E;
                    g[s + 1] = G;
                    z[s] = X;
                    z[s + 1] = 0;
                    s += 2;
                    g[s] = G;
                    g[s + 1] = E + 1;
                    z[s] = N;
                    z[s + 1] = 0;
                    s += 2;
                    u += Math.min(X, N)
                }
                if (u > Z)
                    continue;
                var gf = t.MX.kN(x, s, E, E + 1, g, z, Z);
                if (gf.aO < Z) {
                    Z = gf.aO;
                    var aa = Y.slice(0);
                    t.WL.a98(aa, s, g, gf.Ty, O, E);
                    a = aa
                }
            }
            if (Z * 1 >= n) {
                break
            }
            n = Z;
            Y = a;
            if ((i & 3) == 0) {
                if (Z * 1.03 >= e)
                    break;
                e = Z
            }
            if ((i & 3) == 0) {
                var aA = 0 * top.length;
                for (var G = 0; G < top.length && top.length > aA; G++) {
                    if (Y.indexOf(G) != -1)
                        continue;
                    top.splice(G, 1);
                    for (var l = 0; l < Y.length; l++)
                        if (Y[l] > G)
                            Y[l]--;
                    G--
                }
            }
        }
        return Y
    }
        ;
    t.WL.a98 = function (Y, S, h, q, H, I) {
        for (var G = 0; G < q.length; G++) {
            var E = q[G] << 1
                , d = 0
                , B = 0;
            if (E < S) {
                d = h[E];
                B = h[E + 1]
            } else {
                B = h[E];
                d = h[E + 1]
            }
            if (d == I && Y[B] != H)
                Y[B] = H
        }
    }
        ;
    t.WL.aX = function (top, Y, S, h, q, H, I, E, d) {
        for (var G = 0; G < S.length; G++) {
            var B = S[G]
                , n = !0;
            if (E != null && !(t.WL.xd(E + B.x, d + B.y, H, I) && h[H * (d + B.y) + E + B.x] == -1))
                continue;
            if (B.hU == -1)
                B.hU = t.WL.a0a(B, h, q, H, I);
            if (B.hU <= 0)
                continue;
            for (var g = 0; g < top.length; g++) {
                var z = top[g]
                    , p = B.x - z.x
                    , C = B.y - z.y;
                if (p * p + C * C < Y) {
                    n = !1;
                    break
                }
            }
            if (n)
                return B
        }
        return null
    }
        ;
    t.WL.a0a = function (Y, S, h, q, H) {
        var I = 0;
        for (var G = 0; G < h.length; G += 2) {
            var E = h[G] + Y.x
                , d = h[G + 1] + Y.y;
            if (t.WL.xd(E, d, q, H) && S[q * d + E] == -1)
                I++
        }
        return I / (h.length >> 1)
    }
        ;
    t.WL.a37 = function (Y, S, h, q, H, I) {
        var top = [];
        for (var G = 0; G < 60; G++) {
            var E = t.WL.aX(top, 25, h, q, H, Y, S);
            if (E == null)
                break;
            else
                top.push(E)
        }
        if (top.length == 0)
            return null;
        var d = [];
        for (var G = 0; G < I; G++) {
            var B = H[G * 2]
                , n = H[G * 2 + 1]
                , g = -1
                , z = 0;
            while (!0) {
                z++;
                var p = Math.random();
                g = Math.floor(p * .99999 * top.length);
                var C = top[g]
                    , T = B + C.x
                    , A = n + C.y;
                if (t.WL.xd(T, A, Y, S) && q[A * Y + T] == -1)
                    break;
                if (z > 100) {
                    var E;
                    E = t.WL.aX(top, 0, h, q, H, Y, S, B, n);
                    if (E == null)
                        return null;
                    top.push(E);
                    z = 0
                }
            }
            d.push(g)
        }
        return {
            top: top,
            EJ: d
        }
    }
        ;
    t.WL.w0 = function (Y, S, h, q, H, I, E, d) {
        if (Y == h && S == q)
            return 0;
        if (Y < 0 || S < 0 || Y >= H || S >= I || h < 0 || q < 0 || h >= H || q >= I || d[S * H + Y] != -1 || d[q * H + h] != -1)
            return 1e7;
        var B = S * H + Y << 2
            , n = q * H + h << 2
            , g = E[B] - E[n]
            , z = E[B + 1] - E[n + 1]
            , p = E[B + 2] - E[n + 2];
        return 1 + (g * g + z * z + p * p)
    }
        ;
    t.WL.xd = function (Y, S, h, q) {
        return Y >= 0 && Y < h && S >= 0 && S < q
    }
        ;
    t.WL.afK = function (Y, S, h, q) {
        var H = 24 * Y
            , I = S[H]
            , E = S[H + 1]
            , d = q * q
            , B = 0
            , p = 1e9;
        while (h[B] != 99)
            if (S[H + h[B]] < h[B + 1])
                B = h[B + 2];
            else
                B = h[B + 3];
        var n = h[B + 1]
            , g = h[B + 2]
            , z = -1;
        for (var G = n; G <= g; G++) {
            var B = G
                , C = B * 24
                , T = S[C]
                , A = S[C + 1];
            if ((T - I) * (T - I) + (A - E) * (A - E) < d)
                continue;
            var i = t.WL.getError(C, H, S, p);
            if (i < p) {
                p = i;
                z = B
            }
        }
        return z
    }
        ;
    t.WL.getError = function (Y, S, h, q) {
        var H = 0;
        for (var I = 4; I < 24; I += 4) {
            var E = h[S + I] - h[Y + I]
                , d = h[S + I + 1] - h[Y + I + 1]
                , B = h[S + I + 2] - h[Y + I + 2]
                , n = h[S + I + 3] - h[Y + I + 3];
            H += E * E + d * d + B * B + n * n;
            if (H >= q)
                return H + 1
        }
        return H
    }
        ;
    t.WL.dQ = function (Y, S, h, q, H) {
        var I = 16
            , p = 0;
        if (S - Y <= I) {
            h.push(99, Y, S);
            return
        }
        t.WL.Zu(Y, S, q, H);
        var E = -1
            , d = -1;
        for (var G = 4; G < 24; G++) {
            var B = H[2 * G + 1] - H[2 * G];
            if (B > d) {
                d = B;
                E = G
            }
        }
        var n = Y + S >> 1
            , g = t.WL.agm(n, Y, S, q, E)
            , z = -1;
        for (var G = Y; G <= S; G++)
            if (q[24 * G + E] == g) {
                if (z == -1)
                    z = G;
                p = G
            }
        if (Y + 8 < z && z - Y > S - p)
            n = z;
        else if (p + 1 < S - 8)
            n = p + 1;
        else if (S - Y < 64) {
            h.push(99, Y, S);
            return
        } else
            n = n;
        var C = h.length;
        h.push(E, g, 0, 0);
        h[C + 2] = C + 4;
        t.WL.dQ(Y, n - 1, h, q, H);
        h[C + 3] = h.length;
        t.WL.dQ(n, S, h, q, H)
    }
        ;
    t.WL.Zu = function (Y, S, h, q) {
        for (var G = 0; G < 48; G += 4) {
            q[G] = 3e4;
            q[G + 1] = -3e4;
            q[G + 2] = 3e4;
            q[G + 3] = -3e4
        }
        for (var G = Y; G <= S; G++) {
            var H = G * 24;
            for (var I = 0; I < 24; I++) {
                var E = h[H + I]
                    , d = q[I << 1]
                    , B = q[(I << 1) + 1];
                if (E < d)
                    q[I << 1] = E;
                if (E > B)
                    q[(I << 1) + 1] = E
            }
        }
    }
        ;
    t.WL.xy = function (Y, S, h) {
        var q = 0
            , G = 0;
        q = h[Y + G];
        h[Y + G] = h[S + G];
        h[S + G] = q;
        G++;
        q = h[Y + G];
        h[Y + G] = h[S + G];
        h[S + G] = q;
        G++;
        q = h[Y + G];
        h[Y + G] = h[S + G];
        h[S + G] = q;
        G++;
        q = h[Y + G];
        h[Y + G] = h[S + G];
        h[S + G] = q;
        G++;
        q = h[Y + G];
        h[Y + G] = h[S + G];
        h[S + G] = q;
        G++;
        q = h[Y + G];
        h[Y + G] = h[S + G];
        h[S + G] = q;
        G++;
        q = h[Y + G];
        h[Y + G] = h[S + G];
        h[S + G] = q;
        G++;
        q = h[Y + G];
        h[Y + G] = h[S + G];
        h[S + G] = q;
        G++;
        q = h[Y + G];
        h[Y + G] = h[S + G];
        h[S + G] = q;
        G++;
        q = h[Y + G];
        h[Y + G] = h[S + G];
        h[S + G] = q;
        G++;
        q = h[Y + G];
        h[Y + G] = h[S + G];
        h[S + G] = q;
        G++;
        q = h[Y + G];
        h[Y + G] = h[S + G];
        h[S + G] = q;
        G++;
        q = h[Y + G];
        h[Y + G] = h[S + G];
        h[S + G] = q;
        G++;
        q = h[Y + G];
        h[Y + G] = h[S + G];
        h[S + G] = q;
        G++;
        q = h[Y + G];
        h[Y + G] = h[S + G];
        h[S + G] = q;
        G++;
        q = h[Y + G];
        h[Y + G] = h[S + G];
        h[S + G] = q;
        G++;
        q = h[Y + G];
        h[Y + G] = h[S + G];
        h[S + G] = q;
        G++;
        q = h[Y + G];
        h[Y + G] = h[S + G];
        h[S + G] = q;
        G++;
        q = h[Y + G];
        h[Y + G] = h[S + G];
        h[S + G] = q;
        G++;
        q = h[Y + G];
        h[Y + G] = h[S + G];
        h[S + G] = q;
        G++;
        q = h[Y + G];
        h[Y + G] = h[S + G];
        h[S + G] = q;
        G++;
        q = h[Y + G];
        h[Y + G] = h[S + G];
        h[S + G] = q;
        G++;
        q = h[Y + G];
        h[Y + G] = h[S + G];
        h[S + G] = q;
        G++;
        q = h[Y + G];
        h[Y + G] = h[S + G];
        h[S + G] = q;
        G++
    }
        ;
    t.WL.hh = function (Y, S, h, q) {
        var H = h + q >>> 1
            , I = Y[24 * H + S];
        while (h <= q) {
            while (Y[24 * h + S] < I)
                h++;
            while (Y[24 * q + S] > I)
                q--;
            if (h <= q) {
                if (Y[24 * h + S] != Y[24 * q + S])
                    t.WL.xy(h * 24, q * 24, Y);
                h++;
                q--
            }
        }
        return h
    }
        ;
    t.WL.agm = function (Y, S, h, q, H) {
        var I = 0;
        while (S != h) {
            I = t.WL.hh(q, H, S, h);
            if (Y < I)
                h = I - 1;
            else
                S = I
        }
        return q[Y * 24 + H]
    }
        ;
    t.WL.vx = function (Y, S, h, q) {
        for (var G = 0; G < q; G++)
            S[h + G] = Y[G]
    }
        ;
    t.WL.alu = function (Y, S, h, q, H, I, E, d, B) {
        var n = (q - 3) * H + (h - 3)
            , g = n << 2;
        for (var z = 0; z < 8; z++) {
            if (S[n] + S[n + 1] + S[n + 2] + S[n + 3] + S[n + 4] + S[n + 5] + S[n + 6] + S[n + 7] != 0 || Y[g + 3] < 200 || Y[g + 7] < 200 || Y[g + 11] < 200 || Y[g + 15] < 200 || Y[g + 19] < 200 || Y[g + 23] < 200 || Y[g + 27] < 200 || Y[g + 31] < 200)
                return 1;
            var G = z << 3;
            E[G + 0] = Y[g + 0];
            d[G + 0] = Y[g + 1];
            B[G + 0] = Y[g + 2];
            E[G + 1] = Y[g + 4];
            d[G + 1] = Y[g + 5];
            B[G + 1] = Y[g + 6];
            E[G + 2] = Y[g + 8];
            d[G + 2] = Y[g + 9];
            B[G + 2] = Y[g + 10];
            E[G + 3] = Y[g + 12];
            d[G + 3] = Y[g + 13];
            B[G + 3] = Y[g + 14];
            E[G + 4] = Y[g + 16];
            d[G + 4] = Y[g + 17];
            B[G + 4] = Y[g + 18];
            E[G + 5] = Y[g + 20];
            d[G + 5] = Y[g + 21];
            B[G + 5] = Y[g + 22];
            E[G + 6] = Y[g + 24];
            d[G + 6] = Y[g + 25];
            B[G + 6] = Y[g + 26];
            E[G + 7] = Y[g + 28];
            d[G + 7] = Y[g + 29];
            B[G + 7] = Y[g + 30];
            g += H << 2;
            n += H
        }
        return 0
    }
        ;
    t.WL.Y$ = function (Y, S) {
        S[0] = Y[32] + Y[0];
        S[1] = Y[33] + Y[1];
        S[2] = Y[34] + Y[2];
        S[3] = Y[35] + Y[3];
        S[4] = Y[36] + Y[4];
        S[5] = Y[37] + Y[5];
        S[6] = Y[38] + Y[6];
        S[7] = Y[39] + Y[7];
        S[8] = Y[40] + Y[8];
        S[9] = Y[41] + Y[9];
        S[10] = Y[42] + Y[10];
        S[11] = Y[43] + Y[11];
        S[12] = Y[44] + Y[12];
        S[13] = Y[45] + Y[13];
        S[14] = Y[46] + Y[14];
        S[15] = Y[47] + Y[15];
        S[16] = Y[48] + Y[16];
        S[17] = Y[49] + Y[17];
        S[18] = Y[50] + Y[18];
        S[19] = Y[51] + Y[19];
        S[20] = Y[52] + Y[20];
        S[21] = Y[53] + Y[21];
        S[22] = Y[54] + Y[22];
        S[23] = Y[55] + Y[23];
        S[24] = Y[56] + Y[24];
        S[25] = Y[57] + Y[25];
        S[26] = Y[58] + Y[26];
        S[27] = Y[59] + Y[27];
        S[28] = Y[60] + Y[28];
        S[29] = Y[61] + Y[29];
        S[30] = Y[62] + Y[30];
        S[31] = Y[63] + Y[31];
        S[32] = Y[0] - Y[32];
        S[33] = Y[1] - Y[33];
        S[34] = Y[2] - Y[34];
        S[35] = Y[3] - Y[35];
        S[36] = Y[4] - Y[36];
        S[37] = Y[5] - Y[37];
        S[38] = Y[6] - Y[38];
        S[39] = Y[7] - Y[39];
        S[40] = Y[8] - Y[40];
        S[41] = Y[9] - Y[41];
        S[42] = Y[10] - Y[42];
        S[43] = Y[11] - Y[43];
        S[44] = Y[12] - Y[44];
        S[45] = Y[13] - Y[45];
        S[46] = Y[14] - Y[46];
        S[47] = Y[15] - Y[47];
        S[48] = Y[16] - Y[48];
        S[49] = Y[17] - Y[49];
        S[50] = Y[18] - Y[50];
        S[51] = Y[19] - Y[51];
        S[52] = Y[20] - Y[52];
        S[53] = Y[21] - Y[53];
        S[54] = Y[22] - Y[54];
        S[55] = Y[23] - Y[55];
        S[56] = Y[24] - Y[56];
        S[57] = Y[25] - Y[57];
        S[58] = Y[26] - Y[58];
        S[59] = Y[27] - Y[59];
        S[60] = Y[28] - Y[60];
        S[61] = Y[29] - Y[61];
        S[62] = Y[30] - Y[62];
        S[63] = Y[31] - Y[63];
        Y[0] = S[16] + S[0];
        Y[1] = S[17] + S[1];
        Y[2] = S[18] + S[2];
        Y[3] = S[19] + S[3];
        Y[4] = S[20] + S[4];
        Y[5] = S[21] + S[5];
        Y[6] = S[22] + S[6];
        Y[7] = S[23] + S[7];
        Y[8] = S[24] + S[8];
        Y[9] = S[25] + S[9];
        Y[10] = S[26] + S[10];
        Y[11] = S[27] + S[11];
        Y[12] = S[28] + S[12];
        Y[13] = S[29] + S[13];
        Y[14] = S[30] + S[14];
        Y[15] = S[31] + S[15];
        Y[16] = S[0] - S[16];
        Y[17] = S[1] - S[17];
        Y[18] = S[2] - S[18];
        Y[19] = S[3] - S[19];
        Y[20] = S[4] - S[20];
        Y[21] = S[5] - S[21];
        Y[22] = S[6] - S[22];
        Y[23] = S[7] - S[23];
        Y[24] = S[8] - S[24];
        Y[25] = S[9] - S[25];
        Y[26] = S[10] - S[26];
        Y[27] = S[11] - S[27];
        Y[28] = S[12] - S[28];
        Y[29] = S[13] - S[29];
        Y[30] = S[14] - S[30];
        Y[31] = S[15] - S[31];
        S[0] = Y[8] + Y[0];
        S[1] = Y[9] + Y[1];
        S[2] = Y[10] + Y[2];
        S[3] = Y[11] + Y[3];
        S[4] = Y[12] + Y[4];
        S[5] = Y[13] + Y[5];
        S[6] = Y[14] + Y[6];
        S[7] = Y[15] + Y[7];
        S[8] = Y[0] - Y[8];
        S[9] = Y[1] - Y[9];
        S[10] = Y[2] - Y[10];
        S[11] = Y[3] - Y[11];
        S[12] = Y[4] - Y[12];
        S[13] = Y[5] - Y[13];
        S[14] = Y[6] - Y[14];
        S[15] = Y[7] - Y[15];
        Y[0] = S[4] + S[0];
        Y[1] = S[5] + S[1];
        Y[2] = S[6] + S[2];
        Y[3] = S[7] + S[3];
        Y[4] = S[0] - S[4];
        Y[5] = S[1] - S[5];
        Y[6] = S[2] - S[6];
        Y[7] = S[3] - S[7];
        Y[8] = S[12] + S[8];
        Y[9] = S[13] + S[9];
        Y[10] = S[14] + S[10];
        Y[11] = S[15] + S[11];
        Y[12] = S[8] - S[12];
        Y[13] = S[9] - S[13];
        Y[14] = S[10] - S[14];
        Y[15] = S[11] - S[15];
        S[0] = Y[2] + Y[0];
        S[1] = Y[3] + Y[1];
        S[2] = Y[0] - Y[2];
        S[3] = Y[1] - Y[3];
        S[4] = Y[6] + Y[4];
        S[5] = Y[7] + Y[5];
        S[6] = Y[4] - Y[6];
        S[7] = Y[5] - Y[7];
        S[8] = Y[10] + Y[8];
        S[9] = Y[11] + Y[9];
        S[10] = Y[8] - Y[10];
        S[11] = Y[9] - Y[11];
        S[12] = Y[14] + Y[12];
        S[13] = Y[15] + Y[13];
        S[14] = Y[12] - Y[14];
        S[15] = Y[13] - Y[15];
        Y[0] = S[1] + S[0];
        Y[1] = S[0] - S[1];
        Y[2] = S[3] + S[2];
        Y[3] = S[2] - S[3];
        Y[4] = S[5] + S[4];
        Y[5] = S[4] - S[5];
        Y[6] = S[7] + S[6];
        Y[7] = S[6] - S[7];
        Y[8] = S[9] + S[8];
        Y[9] = S[8] - S[9];
        Y[10] = S[11] + S[10];
        Y[11] = S[10] - S[11];
        Y[12] = S[13] + S[12];
        Y[13] = S[12] - S[13];
        Y[14] = S[15] + S[14];
        Y[15] = S[14] - S[15]
    }
        ;
    t.WL.aox = function () {
        var Y = "", D = 64, S = "v", h = "t", q = "a", H = 5, G, I, E;
        for (G = D >> 1; G > 0; G >>= 1,
            H--) {
            for (I = 0; I < D; I++) {
                E = (I >> H & 1) != 0;
                if (E) {
                    Y += h + "[" + I + "] = " + S + "[" + (-G + I) + "] - " + S + "[" + I + "];  "
                } else {
                    Y += h + "[" + I + "] = " + S + "[" + (G + I) + "] + " + S + "[" + I + "];  "
                }
            }
            q = S;
            S = h;
            h = q;
            Y += "\n"
        }
        console.log(Y)
    }
        ;
    t.WL.adR = function (D, Y, S) {
        var h = Y, q = S, H = h, I = 0, G, d, B;
        while (D >> I != 2)
            I++;
        var E = I;
        for (G = D >> 1; G > 0; G >>= 1,
            I--) {
            for (d = 0; d < D; d++) {
                B = (d >> I & 1) != 0;
                if (B)
                    q[d] = h[-G + d] - h[d];
                else
                    q[d] = h[G + d] + h[d]
            }
            H = h;
            h = q;
            q = H
        }
        if ((E & 1) == 1)
            for (G = 0; G < D; G++)
                S[G] = h[G]
    }
        ;
    t.eh = {};
    t.eh.uW = function (Y, S, h, q, H, I, E, d, B) {
        var n = Date.now()
            , g = new Uint32Array(Y.buffer)
            , z = new Uint32Array(S.buffer)
            , p = E / h
            , C = d / q
            , T = 1 / p
            , A = 1 / C
            , i = new Float64Array(2)
            , e = 3
            , a = 1 / e
            , Z = 1 / (e * e)
            , O = 0
            , c = 0
            , s = h
            , x = q;
        if (H) {
            O = H.x;
            c = H.y;
            s = H.d;
            x = H.v
        }
        for (var u = 0; u < x; u++)
            for (var y = 0; y < s; y++) {
                var j = O + y
                    , v = c + u
                    , G = v * h + j
                    , X = G << 1
                    , N = G << 2;
                t.eh.anh(I, E, d, (j + .5) * p, (v + .5) * C, i);
                var V = i[0] * T
                    , $ = i[1] * A;
                if (V == 0 && $ == 0)
                    z[G] = g[G];
                else {
                    t.I.a5(j + V + .5, v + $ + .5, g, h, q, z, G, B)
                }
            }
    }
        ;
    t.eh.anh = function (Y, S, h, q, H, I) {
        q -= .499999;
        H -= .499999;
        var E = ~~q
            , d = ~~H
            , B = q - E
            , n = H - d
            , g = (1 - n) * (1 - B)
            , z = (1 - n) * B
            , p = n * (1 - B)
            , C = n * B
            , T = E < S - 1 ? E + 1 : E
            , A = d < h - 1 ? d + 1 : d
            , i = d * S + E << 1
            , e = d * S + T << 1
            , a = A * S + E << 1
            , Z = A * S + T << 1;
        I[0] = g * Y[i] + z * Y[e] + p * Y[a] + C * Y[Z];
        I[1] = g * Y[i + 1] + z * Y[e + 1] + p * Y[a + 1] + C * Y[Z + 1]
    }
        ;
    t.eh.a8a = function (Y, S, h, q, H) {
        var I = 1 / Y
            , E = [-1, 1, -Y, Y]
            , d = q.length;
        for (var B = 0; B < d; B++) {
            var G = q[B]
                , n = G << 1
                , g = B << 1
                , z = ~~(G * I)
                , p = G - Y * z
                , C = h[n]
                , T = h[n + 1]
                , A = 0
                , i = 0;
            if (p != 0 && p != Y - 1) {
                var e = G - 1 << 1
                    , a = G + 1 << 1
                    , Z = h[e]
                    , O = h[a]
                    , c = h[e + 1]
                    , s = h[a + 1]
                    , x = C - (Z + O) * .5
                    , u = T - (c + s) * .5;
                A -= x * H;
                i -= u * H
            }
            if (z != 0 && z != S - 1) {
                var e = G - Y << 1
                    , a = G + Y << 1
                    , Z = h[e]
                    , O = h[a]
                    , c = h[e + 1]
                    , s = h[a + 1]
                    , x = C - (Z + O) * .5
                    , u = T - (c + s) * .5;
                A -= x * H;
                i -= u * H
            }
            h[n] = C + A;
            h[n + 1] = T + i
        }
    }
        ;
    t.eh.a0l = function (Y, S) {
        var h = Y + "," + S;
        if (t.eh.jb == h)
            return t.eh.Eb;
        var q = t.eh.Eb = [];
        t.eh.jb = h;
        for (var G = 0; G <= 1e3; G++) {
            var H = G * .001
                , I = Math.sqrt(H)
                , E = Math.exp(-4 * I)
                , d = .96 * (1 - I * I)
                , B = S * ((1 - Y) * E + Y * d);
            q[G] = B
        }
        return q
    }
        ;
    t.eh.jb = "";
    t.eh.Eb = [];
    t.eh.akt = function (Y, S, h, q, H, I, E, d, B, n, g, z, p) {
        var C = Math.max(0, Math.floor(H - E - 1))
            , T = Math.min(S, Math.ceil(H + E + 1))
            , A = Math.max(0, Math.floor(I - E - 1))
            , i = Math.min(h, Math.ceil(I + E + 1))
            , e = 2 * S
            , a = E * E
            , Z = 1 / E
            , O = 0;
        if (p && (q == 3 || q == 6))
            B = -B;
        var c = t.eh.a0l(d, B);
        for (var s = A; s < i; s++)
            for (var x = C; x < T; x++) {
                var G = s * S + x
                    , u = G << 1
                    , y = (H - x) * Z
                    , j = (I - s) * Z
                    , v = y * y + j * j;
                if (v < 1) {
                    z[O] = G;
                    var X = c[~~(v * 1e3)];
                    if (q == 1) {
                        Y[u] = Y[u] * (1 - X * .05);
                        Y[u + 1] = Y[u + 1] * (1 - X * .05)
                    } else {
                        var N = 0, V = 0, m, l, b, K;
                        if (q == 0) {
                            N = n * X;
                            V = g * X
                        } else if (q == 2) { } else if (q == 3) {
                            N = X * j;
                            V = -X * y
                        } else if (q == 4) {
                            N = X * y;
                            V = X * j
                        } else if (q == 5) {
                            N = -X * y;
                            V = -X * j
                        } else if (q == 6) {
                            N = g * X;
                            V = -n * X
                        }
                        var $ = Y[u]
                            , w = Y[u + 1];
                        if (x == 0 || x != S - 1 && N < 0) {
                            m = 1 + Y[u + 2] - $;
                            b = Y[u + 3] - w
                        } else {
                            m = $ - Y[u - 2] + 1;
                            b = w - Y[u - 1]
                        }
                        if (s == 0 || s != h - 1 && V < 0) {
                            l = Y[u + e] - $;
                            K = 1 + Y[u + e + 1] - w
                        } else {
                            l = $ - Y[u - e];
                            K = w - Y[u - e + 1] + 1
                        }
                        Y[u] = -(m * N + l * V - $);
                        Y[u + 1] = -(b * N + K * V - w)
                    }
                    O++
                }
            }
    }
        ;
    t.eh.akU = function (Y) {
        var S = Y[0]
            , h = Y[0]
            , q = Y[1]
            , H = Y[1];
        for (var G = 0; G < Y.length; G += 2) {
            var I = Y[G]
                , E = Y[G + 1];
            if (I < S)
                S = I;
            else if (I > h)
                h = I;
            if (E < q)
                q = E;
            else if (E > H)
                H = E
        }
        return [S, q, h, H]
    }
        ;
    t.a1y = function (Y, S, h, q, H) {
        function I(o, eY, du, dV) {
            return Math.sqrt((o - du) * (o - du) + (eY - dV) * (eY - dV))
        }
        function E(o, eY) {
            return o >= 0 && o < S && eY >= 0 && eY < h
        }
        function d(o) {
            if (o < 0)
                return 0;
            if (o >= S)
                return S - 1;
            return o
        }
        function B(o) {
            if (o < 0)
                return 0;
            if (o >= h)
                return h - 1;
            return o
        }
        function n(G, o) {
            var eY = o[3] * (1 / 255)
                , du = q[G] + o[0] * eY;
            if (du > 255)
                du = 255;
            q[G] = du;
            du = q[G + 1] + o[1] * eY;
            if (du > 255)
                du = 255;
            q[G + 1] = du;
            du = q[G + 2] + o[2] * eY;
            if (du > 255)
                du = 255;
            q[G + 2] = du
        }
        function g(o, eY, du) {
            if (!J(o, eY))
                return;
            if (du[3] < 0)
                du[3] = 0;
            n((eY * S + o) * 4, du)
        }
        function z(o) {
            var eY = o.slice(0, 3);
            eY[3] = 0;
            return eY
        }
        var p = S / 800;
        function C(o) {
            return Math.round(o * p)
        }
        function T() {
            for (var G = 0; G <= 300; G++) {
                r[G] = A(G)
            }
        }
        function A(h) {
            var o = .8, eY = .2, du = o * eY, dV = h / 60 % 2 - 1, hy = du * (1 - dV * dV), bq = eY - du, i5;
            if (h < 60) {
                i5 = [du + bq, hy, 0]
            } else if (h < 120) {
                i5 = [hy, du, 0]
            } else if (h < 180) {
                i5 = [0, du, hy]
            } else if (h < 240) {
                i5 = [0, hy, du]
            } else if (h < 300) {
                i5 = [hy, 0, du]
            } else {
                i5 = [du, 0, hy]
            }
            return [(i5[0] + bq) * 255, (i5[1] + bq) * 255, (i5[2] + bq) * 255]
        }
        function i(h) {
            return r[~~h]
        }
        function e(o) {
            return 1 - a(o)
        }
        function a(o) {
            return o - ~~o
        }
        function Z(o, eY, du, dV) {
            b(o, eY, du, 0, eY + 1, 1, dV)
        }
        function O(o, eY, du, dV, hy, bq) {
            b(o, eY, du, 0, dV, 1, hy, bq)
        }
        function c(o) {
            for (var G = 0; G < q.length; G += 4) {
                n(G, o)
            }
        }
        function s(o, eY, du, dV, hy, bq, i5, hX) {
            x(o, eY, du, dV, hy, 1, bq, i5, hX)
        }
        function x(o, eY, du, dV, hy, bq, i5, hX, bY) {
            if (bq == null)
                bq = .5;
            if (i5 == null)
                i5 = 0;
            if (hX == null)
                hX = 0;
            if (bY == null)
                bY = !1;
            var ds = o.x
                , hV = o.y
                , gF = du.slice(0)
                , co = ~~(du[3] * gf);
            dV = dV * gf;
            if (!bY) {
                eY = K(eY);
                hy = K(hy);
                i5 = K(i5);
                hX = K(hX)
            }
            var c_ = d(ds - eY)
                , a5 = d(ds + eY);
            for (var gb = c_; gb <= a5; gb++) {
                var iC = gb - ds
                    , cC = Math.floor(Math.sqrt(eY * eY - iC * iC))
                    , aB = B(hV - cC)
                    , cd = B(hV);
                for (var dZ = aB; dZ <= cd; dZ++) {
                    var en = I(gb, dZ, ds, hV);
                    if (en > eY || en <= eY - hy)
                        break;
                    var cD = (en - eY + hy) / hy;
                    gF[3] = co - dV * (bq == 1 ? cD : Math.pow(cD, bq));
                    n((dZ * S + gb) * 4, gF)
                }
                aB = B(hV + cC);
                for (var dZ = aB; dZ > cd; dZ--) {
                    var en = I(gb, dZ, ds, hV);
                    if (en > eY || en <= eY - hy)
                        break;
                    var cD = (en - eY + hy) / hy;
                    gF[3] = co - dV * (bq == 1 ? cD : Math.pow(cD, bq));
                    n((dZ * S + gb) * 4, gF)
                }
            }
            if (i5 > 0) {
                b(o, eY + i5, gF, gF[3], i5, 1, 0, 0, !0)
            }
            if (hX > 0) {
                b(o, eY - hy, R(du), -du[3], hX, 1, 0, 0, !0)
            }
        }
        function u(o, eY, du, dV, hy, bq) {
            b(o, eY, du, du[3], eY + 1, 1, dV, hy, bq)
        }
        function y(o, eY, du, dV, hy) {
            if (hy == null)
                hy = !1;
            var bq = o.x
                , i5 = o.y;
            dV *= gf;
            if (!hy) {
                eY = K(eY);
                du = K(du)
            }
            var hX = d(bq - eY)
                , bY = d(bq + eY);
            for (var ds = hX; ds < bY; ds++) {
                var hV = ds - bq
                    , gF = ~~Math.sqrt(eY * eY - hV * hV)
                    , co = B(i5 - gF)
                    , c_ = B(i5);
                for (var a5 = co; a5 <= c_; a5++) {
                    var gb = I(ds, a5, bq, i5);
                    if (gb > eY || gb <= eY - du)
                        break;
                    var iC = (eY - gb) / du
                        , cC = i(300 * iC);
                    cC[3] = dV;
                    n((a5 * S + ds) * 4, cC)
                }
                co = B(i5 + gF);
                for (var a5 = co; a5 > c_; a5--) {
                    var gb = I(ds, a5, bq, i5);
                    if (gb > eY || gb <= eY - du)
                        break;
                    var iC = (eY - gb) / du
                        , cC = i(300 * iC);
                    cC[3] = dV;
                    n((a5 * S + ds) * 4, cC)
                }
            }
        }
        function j(f, o) {
            var eY = f.AH
                , du = f.ac
                , dV = o.slice(0)
                , hy = o[3] * gf
                , bq = Math.abs(du.y - eY.y) > Math.abs(du.x - eY.x);
            if (bq) {
                var i5 = eY.x;
                eY.x = eY.y;
                eY.y = i5;
                i5 = du.x;
                du.x = du.y;
                du.y = i5
            }
            if (eY.x > du.x) {
                var i5 = eY;
                eY = du;
                du = i5
            }
            var hX = du.x - eY.x
                , bY = du.y - eY.y
                , ds = hX == 0 ? 1 : bY / hX
                , hV = Math.round(eY.x)
                , gF = eY.y + ds * (hV - eY.x)
                , co = e(eY.x + .5)
                , c_ = hV
                , a5 = ~~gF;
            if (bq) {
                dV[3] = hy * e(gF) * co;
                g(a5, c_, dV);
                dV[3] = hy * a(gF) * co;
                g(a5 + 1, c_, dV)
            } else {
                dV[3] = hy * e(gF) * co;
                g(c_, a5, dV);
                dV[3] = hy * a(gF) * co;
                g(c_, a5 + 1, dV)
            }
            var gb = gF - ds;
            hV = Math.round(du.x);
            gF = du.y + ds * (hV - du.x);
            co = a(du.x + .5);
            var iC = hV
                , cC = ~~gF;
            if (bq) {
                dV[3] = hy * e(gF) * co;
                g(cC, iC, dV);
                dV[3] = hy * a(gF) * co;
                g(cC + 1, iC, dV)
            } else {
                dV[3] = hy * e(gF) * co;
                g(iC, cC, dV);
                dV[3] = hy * a(gF) * co;
                g(iC, cC + 1, dV)
            }
            if (bq) {
                for (var aB = c_ + 1; aB <= iC - 1; aB++) {
                    dV[3] = hy * e(gb);
                    g(~~gb, aB, dV);
                    dV[3] = hy * a(gb);
                    g(~~gb + 1, aB, dV);
                    gb += ds
                }
            } else {
                for (var aB = c_ + 1; aB <= iC - 1; aB++) {
                    dV[3] = hy * e(gb);
                    g(aB, ~~gb, dV);
                    dV[3] = hy * a(gb);
                    g(aB, ~~gb + 1, dV);
                    gb += ds
                }
            }
        }
        function v(o, eY, du, dV) {
            for (var G = 0; G < 4; G++) {
                var hy = o.Ib(eY + 1.3 * G, du);
                j(hy, dV, 1)
            }
        }
        function aV(o, eY) {
            this.x = Math.round(o);
            this.y = Math.round(eY)
        }
        var X = Math.PI / 180;
        aV.prototype.Ib = function (o, eY) {
            o = o * X;
            var du = this.x + eY * Math.cos(o)
                , dV = this.y + eY * Math.sin(o);
            return new N(this.x, this.y, du, dV)
        }
            ;
        aV.prototype.aah = function (o, eY) {
            o = o * X;
            var du = this.sg + eY * Math.cos(o)
                , dV = this.akm + eY * Math.sin(o);
            return new aV(du, dV)
        }
            ;
        function N(o, eY, du, dV) {
            this.AH = new aV(o, eY);
            this.ac = new aV(du, dV)
        }
        N.prototype.Tn = function (o) {
            var eY = o * this.AH.x + (1 - o) * this.ac.x
                , du = o * this.AH.y + (1 - o) * this.ac.y;
            return new aV(eY, du)
        }
            ;
        var V = s
            , $ = u
            , w = Z
            , m = O
            , l = y
            , b = x
            , K = C
            , J = E
            , R = z
            , r = [];
        T();
        for (var G = 0; G < Y.length; G++) {
            q[G] = Y[G]
        }
        var f = new N(S * H[2], h * H[3], S / 2, h / 2)
            , gf = H[1]
            , aa = [];
        aa[0] = function aA() {
            var o = [80, 40, 15, 60]
                , du = 0
                , dV = 0;
            w(f.Tn(1.4), 260, o, 10);
            w(f.Tn(1), 100, [240, 50, 50, 30], 30);
            $(f.Tn(1), 60, [255, 40, 0, 40]);
            var eY = [255, 255, 255, 255];
            b(f.Tn(1), 70, eY, eY[3], 58, .5);
            w(f.Tn(1), 12, eY);
            eY[3] = 40;
            V(f.Tn(1), 150, eY, eY[3], 150);
            for (var G = 0; G < 40; G++) {
                du += Math.random() * 25;
                dV = Math.random() * K(300) + K(100);
                var hy = f.Tn(1).Ib(du, dV);
                j(f.Tn(1).Ib(du, dV), [110, 110, 110, 30])
            }
            $(f.Tn(1), 130, [255, 255, 255, 8]);
            var bq = [170, 30, 23, 70];
            m(f.Tn(1), 70, bq, 1, 3, 3);
            var i5 = [60, 60, 130, 40];
            w(f.Tn(.47), 44, i5, 5);
            w(f.Tn(.43), 22, i5, 3);
            i5[3] = 16;
            w(f.Tn(.53), 15, i5, 2);
            var hX = [138, 94, 42, 100];
            w(f.Tn(.2), 16, hX, 2);
            var bY = [130, 255, 170, 180];
            $(f.Tn(0), 4, bY);
            $(f.Tn(-.25), 5, bY);
            hX = [150, 90, 0, 50];
            V(f.Tn(-.45), 55, R(hX), -hX[3], 40, 2);
            w(f.Tn(-.42), 35, hX, 2);
            w(f.Tn(-.5), 15, hX, 2);
            l(f.Tn(-1.28), 145, 11, 70);
            var ds = i(0);
            ds[3] = 50;
            V(f.Tn(-1.28), 149, ds, ds[3], 4);
            ds = i(300);
            ds[3] = 50;
            V(f.Tn(-1.28), 155 - 1, R(ds), -ds[3], 3);
            var hV = [130, 130, 10, 50];
            m(f.Tn(-1), 73, hV, 3, 2);
            var gF = [40, 130, 70, 40];
            V(f.Tn(-1), 70, R(gF), -gF[3], 35);
            gF = [40, 170, 60, 50];
            w(f.Tn(-.7), 25, gF, 4);
            var gF = [70, 110, 50, 60];
            V(f.Tn(1.3), 30, R(gF), -gF[3], 11, 3);
            i5 = [0, 50, 210, 80];
            $(f.Tn(-.72), 20, i5)
        }
            ;
        aa[1] = function e5() {
            $(f.Tn(1), 150, [240, 70, 70, 60]);
            w(f.Tn(1), 100, [200, 60, 60, 40], 30);
            var o = [255, 255, 255, 255]
                , eY = 0
                , du = 0;
            b(f.Tn(1), 75, o, o[3], 63);
            w(f.Tn(1), 12, o);
            $(f.Tn(1), 270, [200, 200, 200, 20], 10);
            for (var G = 0; G < 10; G++) {
                eY += 10 + Math.random() * 40;
                du = Math.random() * K(250) + K(80);
                var dV = f.Tn(1).Ib(eY, du);
                j(dV, [110, 110, 110, 35])
            }
            eY = 5;
            du = 100;
            for (var G = 0; G < 12; G++) {
                eY += 30;
                v(f.Tn(1), eY, du, [90, 90, 90, 40])
            }
            var hy = [150, 40, 23, 100];
            m(f.Tn(1), 70, hy, 1, 3, 3);
            var bq = [30, 100, 60, 40];
            $(f.Tn(-.9), 180, [255, 255, 255, 20]);
            w(f.Tn(-.9), 140, bq, 15);
            var i5 = [170, 80, 25, 15];
            m(f.Tn(-.9), 120, i5, 1, 4, 4);
            var hX = [110, 240, 190, 200];
            $(f.Tn(-.6), 3, hX);
            hX[3] = 100;
            $(f.Tn(-.6), 7, hX);
            var bY = [230, 120, 40, 85];
            $(f.Tn(-.73), 9, bY);
            var ds = [60, 60, 190, 50];
            w(f.Tn(.3), 28, ds, 6);
            ds[3] = 25;
            w(f.Tn(.34), 20, ds, 3)
        }
            ;
        aa[2] = function fk() {
            var o = [255, 255, 255, 255]
                , du = 0
                , dV = 0;
            w(f.Tn(1), 13, o);
            b(f.Tn(1), 150, o, o[3], 137);
            var eY = [120, 80, 35, 20];
            w(f.Tn(1.4), 260, eY, 10);
            for (var G = 0; G < 40; G++) {
                du += 5 + Math.random() * 30;
                dV = Math.random() * K(300);
                j(f.Tn(1).Ib(du, dV), [110, 110, 110, 20])
            }
            var hy = [10, 30, 255, 30];
            w(f.Tn(1), 70, hy, 50);
            var bq = [15, 90, 170, 15];
            w(f.Tn(1.5), 60, bq);
            var i5 = [220, 220, 20, 50];
            w(f.Tn(-1.15), 8, i5, 2);
            var o = [255, 255, 255, 40];
            $(f.Tn(-1.18), 6, o);
            $(f.Tn(-1.18), 4, o);
            i5 = [110, 110, 10, 8];
            V(f.Tn(-1.2), 32, R(i5), -i5[3], 20, 3);
            var hX = [5, 0, 16, 255];
            for (var G = 0; G < 4; G++) {
                w(f.Tn(-1.36), 10, hX, 3)
            }
            var bY = [90, 200, 150, 20]
                , ds = bY.slice(0);
            ds[3] *= 2;
            w(f.Tn(-1.32), 7, ds, 3);
            w(f.Tn(-1.36), 7, ds, 3);
            w(f.Tn(-1.4), 7, ds, 3);
            var o = [230, 230, 230, 100];
            $(f.Tn(-1.36), 2, o);
            o[3] = 3;
            w(f.Tn(-.55), 10, o);
            i5 = [120, 100, 10, 18];
            w(f.Tn(-.55), 160, i5, 8);
            w(f.Tn(-.55), 80, i5, 4);
            bY[3] = 3;
            ds[3] = 6;
            V(f.Tn(-.49), 13, R(ds), -ds[3], 13, 2);
            V(f.Tn(-.55), 13, R(ds), -ds[3], 13, 2);
            bY[3] = 20;
            w(f.Tn(.15), 25, bY, 3);
            i5[3] = 100;
            $(f.Tn(-.52), 3, i5);
            i5 = [200, 200, 50, 40];
            w(f.Tn(.27), 1, i5, 4);
            var hV = [150, 40, 23, 30];
            V(f.Tn(1), 80, R(hV), -hV[3], 2, 1)
        }
            ;
        return aa[H[0]]()
    }
        ;
    t.cu = {};
    t.cu.N6 = function (Y) {
        var S = Y.length
            , D = Y[0].length
            , h = new Array(D);
        for (var G = 0; G < D; G++)
            h[G] = new Array(S);
        for (var G = 0; G < D; G++)
            for (var q = 0; q < S; q++)
                h[G][q] = Y[q][G];
        return h
    }
        ;
    t.cu.KB = function (Y, S) {
        var h = Y.length
            , D = Y[0].length
            , q = new Array(h);
        for (var G = 0; G < h; G++)
            q[G] = new Array(D);
        for (var G = 0; G < h; G++)
            for (var H = 0; H < D; H++)
                q[G][H] = Y[G][H] - S[G][H];
        return q
    }
        ;
    t.cu.add = function (Y, S) {
        var h = Y.length
            , D = Y[0].length
            , q = new Array(h);
        for (var G = 0; G < h; G++)
            q[G] = new Array(D);
        for (var G = 0; G < h; G++)
            for (var H = 0; H < D; H++)
                q[G][H] = Y[G][H] + S[G][H];
        return q
    }
        ;
    t.cu.multiply = function (Y, S) {
        var h = Y.length
            , q = Y[0].length
            , D = S[0].length;
        if (q != S.length)
            throw "e";
        var H = new Array(h);
        for (var G = 0; G < h; G++)
            H[G] = new Array(D);
        if ((q & 1) != 0)
            for (var G = 0; G < h; G++) {
                var I = Y[G]
                    , E = H[G];
                for (var d = 0; d < D; d++) {
                    var B = 0;
                    for (var n = 0; n < q; n++)
                        B += I[n] * S[n][d];
                    E[d] = B
                }
            }
        else
            for (var G = 0; G < h; G++) {
                var I = Y[G]
                    , E = H[G];
                for (var d = 0; d < D; d++) {
                    var B = 0;
                    for (var n = 0; n < q; n += 2)
                        B += I[n] * S[n][d] + I[n + 1] * S[n + 1][d];
                    E[d] = B
                }
            }
        return H
    }
        ;
    t.cu.Ou = function (Y, S) {
        var h = Y.length
            , D = Y[0].length
            , q = new Array(h);
        for (var G = 0; G < h; G++) {
            var H = 0;
            for (var I = 0; I < D; I++)
                H += Y[G][I] * S[I];
            q[G] = H
        }
        return q
    }
        ;
    t.cu.e7 = function (Y, S) {
        var h = [];
        for (var G = 0; G < Y; G++) {
            h.push([]);
            for (var q = 0; q < S; q++)
                h[G].push(0)
        }
        return h
    }
        ;
    t.cu.alh = function (Y) {
        for (var G = 0; G < Y.length; G++)
            console.log(JSON.stringify(Y[G]))
    }
        ;
    t.cu.ahI = function (Y) {
        var S = [];
        for (var G = 0; G < Y.length; G++)
            S.push(Y[G].join(","));
        return "[" + S.join(";") + "]"
    }
        ;
    t.cu.kN = function (Y, S) {
        var h = Y.length;
        for (var q = 0; q < h; q++) {
            var H = 0
                , I = Number.NEGATIVE_INFINITY;
            for (var G = q; G < h; G++)
                if (Math.abs(Y[G][q]) > I) {
                    H = G;
                    I = Math.abs(Y[G][q])
                }
            t.cu.a2s(Y, q, H);
            for (var G = q + 1; G < h; G++) {
                if (Y[q][q] == 0)
                    return 1;
                var E = Y[G][q] / Y[q][q];
                for (var d = q; d < h + 1; d++)
                    Y[G][d] -= Y[q][d] * E
            }
        }
        for (var G = h - 1; G >= 0; G--) {
            if (Y[G][G] == 0)
                return 1;
            var B = Y[G][h] / Y[G][G];
            S[G] = B;
            for (var d = G - 1; d >= 0; d--) {
                Y[d][h] -= Y[d][G] * B;
                Y[d][G] = 0
            }
        }
        return 0
    }
        ;
    t.cu.a2s = function (Y, S, h) {
        var q = Y[S];
        Y[S] = Y[h];
        Y[h] = q
    }
        ;
    t.cu.adi = function (Y) {
        var S = Y.length
            , h = t.cu.e7(S, S);
        for (var G = 0; G < S; G++)
            h[G][G] = Y[G];
        return h
    }
        ;
    t.cu.anR = function (Y) {
        var S = Y.length
            , h = Y[0].length
            , q = new Array(S);
        for (var G = 0; G < S; G++) {
            q[G] = 0;
            for (var H = 0; H < h; H++)
                q[G] += Y[G][H];
            q[G] /= h
        }
        return q
    }
        ;
    t.cu.Aq = function (Y) {
        var S = 0;
        for (var G = 0; G < Y.length; G++)
            S += Y[G] * Y[G];
        return Math.sqrt(S)
    }
        ;
    t.eC = {};
    t.eC.ws = function (Y) {
        var S = ~~(Y + .5);
        return S < 0 ? 0 : S > 255 ? 255 : S
    }
        ;
    t.eC.transform = function (Y, S, h) {
        var q = t.eC.ws
            , H = Y.h.length;
        for (var G = 0; G < H; G++) {
            var I = Y.h[G]
                , E = Y.l[G]
                , d = Y.O[G];
            S.h[G] = q(h[0] * I + h[1] * E + h[2] * d + h[3] * 255);
            S.l[G] = q(h[4] * I + h[5] * E + h[6] * d + h[7] * 255);
            S.O[G] = q(h[8] * I + h[9] * E + h[10] * d + h[11] * 255)
        }
    }
        ;
    t.eC.iU = function (Y, S, h) {
        var q = t.eC.ws
            , H = Y.length;
        for (var G = 0; G < H; G += 4) {
            var I = Y[G]
                , E = Y[G + 1]
                , d = Y[G + 2];
            S[G] = q(h[0] * I + h[1] * E + h[2] * d + h[3] * 255);
            S[G + 1] = q(h[4] * I + h[5] * E + h[6] * d + h[7] * 255);
            S[G + 2] = q(h[8] * I + h[9] * E + h[10] * d + h[11] * 255)
        }
    }
        ;
    t.eC.e6 = function (Y) {
        var S = Y[0] + Y[1] + Y[2]
            , h = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1];
        if (S == 1) {
            var q = Y.indexOf(1);
            h[q] = h[q + 4] = h[q + 8] = 1
        } else {
            h[0] = Y[0];
            h[5] = Y[1];
            h[10] = Y[2]
        }
        return h
    }
        ;
    t.eC.pt = function (Y, S, h) {
        return [1, 0, 0, Y, 0, 1, 0, S, 0, 0, 1, h, 0, 0, 0, 1]
    }
        ;
    t.eC.GX = function (Y, S, h) {
        return [Y, 0, 0, 0, 0, S, 0, 0, 0, 0, h, 0, 0, 0, 0, 1]
    }
        ;
    t.eC.amq = function (Y) {
        return [Y[0], Y[1], Y[2], Y[4], Y[5], Y[6], Y[8], Y[9], Y[10]]
    }
        ;
    t.eC.Av = function (Y) {
        return [Y[0], Y[1], Y[2], 0, Y[3], Y[4], Y[5], 0, Y[6], Y[7], Y[8], 0, 0, 0, 0, 1]
    }
        ;
    t.eC.qB = function (Y, S) {
        return [Y[0] * S[0] + Y[1] * S[1] + Y[2] * S[2] + Y[3] * S[3], Y[4] * S[0] + Y[5] * S[1] + Y[6] * S[2] + Y[7] * S[3], Y[8] * S[0] + Y[9] * S[1] + Y[10] * S[2] + Y[11] * S[3], Y[12] * S[0] + Y[13] * S[1] + Y[14] * S[2] + Y[15] * S[3]]
    }
        ;
    t.eC.N6 = function (Y) {
        var S = [];
        S[0] = Y[0];
        S[1] = Y[4];
        S[2] = Y[8];
        S[3] = Y[12];
        S[4] = Y[1];
        S[5] = Y[5];
        S[6] = Y[9];
        S[7] = Y[13];
        S[8] = Y[2];
        S[9] = Y[6];
        S[10] = Y[10];
        S[11] = Y[14];
        S[12] = Y[3];
        S[13] = Y[7];
        S[14] = Y[11];
        S[15] = Y[15];
        return S
    }
        ;
    t.eC.multiply = function (Y, S) {
        var h = [];
        h[0] = Y[0] * S[0] + Y[1] * S[4] + Y[2] * S[8] + Y[3] * S[12];
        h[1] = Y[0] * S[1] + Y[1] * S[5] + Y[2] * S[9] + Y[3] * S[13];
        h[2] = Y[0] * S[2] + Y[1] * S[6] + Y[2] * S[10] + Y[3] * S[14];
        h[3] = Y[0] * S[3] + Y[1] * S[7] + Y[2] * S[11] + Y[3] * S[15];
        h[4] = Y[4] * S[0] + Y[5] * S[4] + Y[6] * S[8] + Y[7] * S[12];
        h[5] = Y[4] * S[1] + Y[5] * S[5] + Y[6] * S[9] + Y[7] * S[13];
        h[6] = Y[4] * S[2] + Y[5] * S[6] + Y[6] * S[10] + Y[7] * S[14];
        h[7] = Y[4] * S[3] + Y[5] * S[7] + Y[6] * S[11] + Y[7] * S[15];
        h[8] = Y[8] * S[0] + Y[9] * S[4] + Y[10] * S[8] + Y[11] * S[12];
        h[9] = Y[8] * S[1] + Y[9] * S[5] + Y[10] * S[9] + Y[11] * S[13];
        h[10] = Y[8] * S[2] + Y[9] * S[6] + Y[10] * S[10] + Y[11] * S[14];
        h[11] = Y[8] * S[3] + Y[9] * S[7] + Y[10] * S[11] + Y[11] * S[15];
        h[12] = Y[12] * S[0] + Y[13] * S[4] + Y[14] * S[8] + Y[15] * S[12];
        h[13] = Y[12] * S[1] + Y[13] * S[5] + Y[14] * S[9] + Y[15] * S[13];
        h[14] = Y[12] * S[2] + Y[13] * S[6] + Y[14] * S[10] + Y[15] * S[14];
        h[15] = Y[12] * S[3] + Y[13] * S[7] + Y[14] * S[11] + Y[15] * S[15];
        return h
    }
        ;
    t.eC.fb = function (Y) {
        var S = [];
        S[0] = Y[5] * Y[10] * Y[15] - Y[5] * Y[14] * Y[11] - Y[6] * Y[9] * Y[15] + Y[6] * Y[13] * Y[11] + Y[7] * Y[9] * Y[14] - Y[7] * Y[13] * Y[10];
        S[1] = -Y[1] * Y[10] * Y[15] + Y[1] * Y[14] * Y[11] + Y[2] * Y[9] * Y[15] - Y[2] * Y[13] * Y[11] - Y[3] * Y[9] * Y[14] + Y[3] * Y[13] * Y[10];
        S[2] = Y[1] * Y[6] * Y[15] - Y[1] * Y[14] * Y[7] - Y[2] * Y[5] * Y[15] + Y[2] * Y[13] * Y[7] + Y[3] * Y[5] * Y[14] - Y[3] * Y[13] * Y[6];
        S[3] = -Y[1] * Y[6] * Y[11] + Y[1] * Y[10] * Y[7] + Y[2] * Y[5] * Y[11] - Y[2] * Y[9] * Y[7] - Y[3] * Y[5] * Y[10] + Y[3] * Y[9] * Y[6];
        S[4] = -Y[4] * Y[10] * Y[15] + Y[4] * Y[14] * Y[11] + Y[6] * Y[8] * Y[15] - Y[6] * Y[12] * Y[11] - Y[7] * Y[8] * Y[14] + Y[7] * Y[12] * Y[10];
        S[5] = Y[0] * Y[10] * Y[15] - Y[0] * Y[14] * Y[11] - Y[2] * Y[8] * Y[15] + Y[2] * Y[12] * Y[11] + Y[3] * Y[8] * Y[14] - Y[3] * Y[12] * Y[10];
        S[6] = -Y[0] * Y[6] * Y[15] + Y[0] * Y[14] * Y[7] + Y[2] * Y[4] * Y[15] - Y[2] * Y[12] * Y[7] - Y[3] * Y[4] * Y[14] + Y[3] * Y[12] * Y[6];
        S[7] = Y[0] * Y[6] * Y[11] - Y[0] * Y[10] * Y[7] - Y[2] * Y[4] * Y[11] + Y[2] * Y[8] * Y[7] + Y[3] * Y[4] * Y[10] - Y[3] * Y[8] * Y[6];
        S[8] = Y[4] * Y[9] * Y[15] - Y[4] * Y[13] * Y[11] - Y[5] * Y[8] * Y[15] + Y[5] * Y[12] * Y[11] + Y[7] * Y[8] * Y[13] - Y[7] * Y[12] * Y[9];
        S[9] = -Y[0] * Y[9] * Y[15] + Y[0] * Y[13] * Y[11] + Y[1] * Y[8] * Y[15] - Y[1] * Y[12] * Y[11] - Y[3] * Y[8] * Y[13] + Y[3] * Y[12] * Y[9];
        S[10] = Y[0] * Y[5] * Y[15] - Y[0] * Y[13] * Y[7] - Y[1] * Y[4] * Y[15] + Y[1] * Y[12] * Y[7] + Y[3] * Y[4] * Y[13] - Y[3] * Y[12] * Y[5];
        S[11] = -Y[0] * Y[5] * Y[11] + Y[0] * Y[9] * Y[7] + Y[1] * Y[4] * Y[11] - Y[1] * Y[8] * Y[7] - Y[3] * Y[4] * Y[9] + Y[3] * Y[8] * Y[5];
        S[12] = -Y[4] * Y[9] * Y[14] + Y[4] * Y[13] * Y[10] + Y[5] * Y[8] * Y[14] - Y[5] * Y[12] * Y[10] - Y[6] * Y[8] * Y[13] + Y[6] * Y[12] * Y[9];
        S[13] = Y[0] * Y[9] * Y[14] - Y[0] * Y[13] * Y[10] - Y[1] * Y[8] * Y[14] + Y[1] * Y[12] * Y[10] + Y[2] * Y[8] * Y[13] - Y[2] * Y[12] * Y[9];
        S[14] = -Y[0] * Y[5] * Y[14] + Y[0] * Y[13] * Y[6] + Y[1] * Y[4] * Y[14] - Y[1] * Y[12] * Y[6] - Y[2] * Y[4] * Y[13] + Y[2] * Y[12] * Y[5];
        S[15] = Y[0] * Y[5] * Y[10] - Y[0] * Y[9] * Y[6] - Y[1] * Y[4] * Y[10] + Y[1] * Y[8] * Y[6] + Y[2] * Y[4] * Y[9] - Y[2] * Y[8] * Y[5];
        var h = Y[0] * S[0] + Y[1] * S[4] + Y[2] * S[8] + Y[3] * S[12];
        for (var G = 0; G < 16; G++)
            S[G] /= h;
        return S
    }
        ;
    t.eC.anp = function (Y) {
        var S = []
            , h = Y[5] * Y[10] * Y[15] - Y[5] * Y[14] * Y[11] - Y[6] * Y[9] * Y[15] + Y[6] * Y[13] * Y[11] + Y[7] * Y[9] * Y[14] - Y[7] * Y[13] * Y[10]
            , q = -Y[4] * Y[10] * Y[15] + Y[4] * Y[14] * Y[11] + Y[6] * Y[8] * Y[15] - Y[6] * Y[12] * Y[11] - Y[7] * Y[8] * Y[14] + Y[7] * Y[12] * Y[10]
            , H = Y[4] * Y[9] * Y[15] - Y[4] * Y[13] * Y[11] - Y[5] * Y[8] * Y[15] + Y[5] * Y[12] * Y[11] + Y[7] * Y[8] * Y[13] - Y[7] * Y[12] * Y[9]
            , I = -Y[4] * Y[9] * Y[14] + Y[4] * Y[13] * Y[10] + Y[5] * Y[8] * Y[14] - Y[5] * Y[12] * Y[10] - Y[6] * Y[8] * Y[13] + Y[6] * Y[12] * Y[9];
        return Y[0] * h + Y[1] * q + Y[2] * H + Y[3] * I
    }
        ;
    t.eC.au = t.eC.Av([3.1338561, -1.6168667, -.4906146, -.9787684, 1.9161415, .033454, .0719453, -.2289914, 1.4052427]);
    t.eC.a3e = t.eC.Av([1.9624274, -.6105343, -.3413404, -.9787684, 1.9161415, .033454, .0286869, -.1406752, 1.3487655]);
    t.eC.a11 = t.eC.fb(t.eC.au);
    t.MX = {};
    t.MX.Sa = new Uint32Array(1);
    t.MX.t3 = function (Y, S, h, q, H, I) {
        var E = new Uint32Array(Y)
            , d = 0
            , B = t.MX.Sa;
        if (B.length < S * 4)
            t.MX.Sa = B = new Uint32Array(S * 4);
        var n = new Float64Array(B.buffer);
        for (var G = 0; G < S; G += 2) {
            var g = H[G]
                , z = H[G + 1]
                , p = I[G]
                , C = I[G + 1];
            B[d] = z;
            n[d + 2 >> 1] = p;
            B[d + 1] = E[g];
            E[g] = d + 1;
            d += 4;
            B[d] = g;
            n[d + 2 >> 1] = C;
            B[d + 1] = E[z];
            E[z] = d + 1;
            d += 4
        }
        return {
            _U: B,
            a9V: n,
            a7x: E
        }
    }
        ;
    t.MX.kN = function (Y, S, h, q, H, I, E) {
        var d = 1
            , B = t.MX.t3(Y, S, h, q, H, I)
            , n = B._U
            , g = B.a9V
            , z = B.a7x
            , p = new Uint32Array(Y)
            , C = new t.MX.JG(Y)
            , A = 1
            , O = 0;
        C.push(h);
        C.push(q);
        var T = new t.MX.JG(Y)
            , i = new Uint8Array(Y)
            , e = new Uint32Array(Y);
        i[h] = 1;
        i[q] = 2;
        var a = new Uint32Array(Y)
            , Z = new Uint32Array(Y);
        Z[h] = Z[q] = 0;
        a[h] = a[q] = 1;
        while (!0) {
            var c = -1
                , X = 0
                , w = 1e30;
            while (!C.qD() && c == -1) {
                var s = C.top()
                    , x = i[s]
                    , u = z[s] - 1;
                while (u != -1) {
                    var y = n[u]
                        , j = i[y]
                        , v = u ^ x - 1 << 2;
                    if (g[v + 2 >> 1] != 0) {
                        if (j == 0) {
                            t.MX.y0(s, u, y, i, e, Z, a);
                            C.push(y)
                        } else if (j == x && a[y] <= a[s] && Z[y] > Z[s])
                            t.MX.y0(s, u, y, i, e, Z, a);
                        else if (j != x) {
                            c = v
                        }
                    }
                    u = n[u + 1] - 1
                }
                if (c != -1)
                    break;
                C.pop()
            }
            if (c == -1) {
                break
            }
            A++;
            var N = c;
            while (N != -1) {
                p[X] = N;
                X++;
                N = e[n[N ^ 4]] - 1
            }
            var V = X >> 1;
            for (var G = 0; G < V; G++) {
                var $ = p[G];
                p[G] = p[X - G - 1];
                p[X - G - 1] = $
            }
            N = e[n[c]] - 1;
            while (N != -1) {
                p[X] = N ^ 4;
                X++;
                N = e[n[N ^ 4]] - 1
            }
            for (var G = 0; G < X; G++)
                w = Math.min(w, g[p[G] + 2 >> 1]);
            O += w;
            if (O >= E)
                return {
                    Ty: null,
                    aO: O
                };
            for (var G = 0; G < X; G++) {
                var m = p[G]
                    , l = m ^ 4
                    , s = n[l]
                    , y = n[m];
                g[m + 2 >> 1] -= w;
                g[l + 2 >> 1] += w;
                if (g[m + 2 >> 1] == 0 && i[s] == i[y]) {
                    if (i[s] == 1) {
                        e[y] = 0;
                        T.push(y)
                    }
                    if (i[s] == 2) {
                        e[s] = 0;
                        T.push(s)
                    }
                }
            }
            while (!T.qD()) {
                var s = T.pop()
                    , x = i[s]
                    , u = z[s] - 1
                    , b = x == 1 ? 4 : 0
                    , K = 0
                    , J = 0
                    , R = 1e9;
                while (u != -1) {
                    var y = n[u]
                        , r = u ^ 4
                        , v = u ^ b;
                    if (i[y] == x && g[v + 2 >> 1] > 0 && t.MX.a6d(y, h, q, e, n, A, a, Z) + 1 < R) {
                        K = y;
                        J = r;
                        R = Z[y] + 1
                    }
                    u = n[u + 1] - 1
                }
                if (J != 0) {
                    t.MX.y0(K, J, s, i, e, Z, a);
                    continue
                }
                u = z[s] - 1;
                while (u != -1) {
                    var y = n[u]
                        , v = u ^ b;
                    if (i[y] == x) {
                        if (g[v + 2 >> 1] > 0) {
                            C.push(y)
                        }
                        if (e[y] == u + 1) {
                            e[y] = 0;
                            T.push(y)
                        }
                    }
                    u = n[u + 1] - 1
                }
                i[s] = 0;
                C.remove(s)
            }
        }
        var f = [];
        for (var G = 0; G < S; G += 2) {
            var s = H[G]
                , y = H[G + 1];
            if (i[s] == 1 && i[y] != 1) {
                f.push(G >> 1)
            }
            if (i[y] == 1 && i[s] != 1) {
                f.push(S + G >> 1)
            }
        }
        return {
            Ty: f,
            aO: O
        }
    }
        ;
    t.MX.y0 = function (Y, S, h, q, H, I, E) {
        q[h] = q[Y];
        H[h] = S + 1;
        I[h] = I[Y] + 1;
        E[h] = E[Y]
    }
        ;
    t.MX.a6d = function (Y, S, h, q, H, I, E, d) {
        var B = Y
            , n = q[Y] - 1
            , g = 0;
        while (n != -1 && E[Y] != I) {
            Y = H[n ^ 4];
            n = q[Y] - 1;
            g++
        }
        if (n == -1 && Y != S && Y != h)
            return 1e9;
        var z = d[Y] + g;
        g = 0;
        n = q[B] - 1;
        while (B != Y) {
            d[B] = z - g;
            g++;
            E[B] = I;
            B = H[n ^ 4];
            n = q[B] - 1
        }
        return z
    }
        ;
    t.MX.am5 = function (Y, S, h, q, H, I) {
        var E = t.MX.t3(Y, S, h, q, H, I)
            , d = E._U
            , B = E.a9V
            , n = E.a7x
            , g = 0
            , z = 0
            , p = new Uint32Array(Y * 2)
            , C = new t.MX.Fv(Y)
            , T = 0;
        while (!0) {
            C.reset();
            C.push(h);
            for (var G = 0; G < Y; G++)
                p[G << 1] = 0;
            while (!C.qD()) {
                var A = C.pop()
                    , i = n[A] - 1;
                while (i != -1) {
                    T = d[i];
                    if (p[T << 1] == 0 && B[i + 2 >> 1] > 0 && T != h) {
                        p[T << 1] = A + 1;
                        p[(T << 1) + 1] = i;
                        C.push(T)
                    }
                    i = d[i + 1] - 1
                }
                if (p[q << 1] != 0) {
                    break
                }
            }
            if (p[q << 1] == 0) {
                break
            }
            var e = 1e30;
            T = q;
            while (!0) {
                var a = p[T << 1] - 1;
                if (a == -1)
                    break;
                var Z = p[(T << 1) + 1];
                e = Math.min(e, B[Z + 2 >> 1]);
                T = a
            }
            T = q;
            while (!0) {
                var a = p[T << 1] - 1;
                if (a == -1)
                    break;
                var Z = p[(T << 1) + 1]
                    , O = Z ^ 4;
                B[Z + 2 >> 1] -= e;
                B[O + 2 >> 1] += e;
                T = a
            }
            g += e
        }
        var c = [];
        for (var G = 0; G < S; G += 2) {
            var a = H[G]
                , T = H[G + 1];
            if ((p[a << 1] != 0 || a == h) && p[T << 1] == 0 && T != h) {
                c.push(G >> 1)
            }
            if ((p[T << 1] != 0 || T == h) && p[a << 1] == 0 && a != h) {
                c.push(S + G >> 1)
            }
        }
        return {
            Ty: c,
            aO: g
        }
    }
        ;
    t.MX.Fv = function (Y) {
        Y |= Y >> 1;
        Y |= Y >> 2;
        Y |= Y >> 4;
        Y |= Y >> 8;
        Y |= Y >> 16;
        this.u4 = new Uint32Array(Y + 1);
        this.WZ = Y;
        this.gC = 0;
        this.Ik = 0
    }
        ;
    t.MX.Fv.prototype = {
        push: function (Y) {
            var S = this.Ik;
            this.u4[S] = Y;
            this.Ik = S + 1 & this.WZ
        },
        pop: function () {
            var Y = this.gC
                , S = this.u4[Y];
            this.gC = Y + 1 & this.WZ;
            return S
        },
        qD: function () {
            return this.gC == this.Ik
        },
        reset: function () {
            this.gC = 0;
            this.Ik = 0
        }
    };
    t.MX.JG = function (Y) {
        Y |= Y >> 1;
        Y |= Y >> 2;
        Y |= Y >> 4;
        Y |= Y >> 8;
        Y |= Y >> 16;
        this.u4 = new Uint32Array(Y + 1);
        this.Wr = new Uint32Array(Y + 1);
        this.WZ = Y;
        this.gC = 0;
        this.Ik = 0
    }
        ;
    t.MX.JG.prototype = {
        top: function () {
            return this.u4[this.gC]
        },
        ak0: function () {
            return this.u4[this.Ik]
        },
        push: function (Y) {
            if (this.Wr[Y] != 0)
                return;
            this.Wr[Y] = this.Ik + 1;
            var S = this.Ik;
            this.u4[S] = Y;
            this.Ik = S + 1 & this.WZ
        },
        pop: function () {
            var Y = this.gC
                , S = this.u4[Y];
            this.Wr[S] = 0;
            this.gC = Y + 1 & this.WZ;
            return S
        },
        qD: function () {
            return this.gC == this.Ik
        },
        remove: function (Y) {
            var S = this.Wr[Y] - 1;
            if (S == -1)
                return;
            this.Wr[Y] = 0;
            if (S == this.gC) {
                this.pop();
                return
            }
            var h = this.pop();
            this.u4[S] = h;
            this.Wr[h] = S + 1
        },
        eS: function (G) {
            return G + this.WZ + 1 & this.WZ
        }
    };
    t.MX.UC = function (Y, S, h) {
        var q = t.MX.hh(Y, S, h);
        if (S < q - 1)
            t.MX.UC(Y, S, q - 1);
        if (q < h)
            t.MX.UC(Y, q, h)
    }
        ;
    t.MX.hh = function (Y, S, h) {
        var q = Y[S + h >>> 1];
        while (S <= h) {
            while (Y[S] < q)
                S++;
            while (Y[h] > q)
                h--;
            if (S <= h) {
                t.MX.xy(Y, S, h);
                S++;
                h--
            }
        }
        return S
    }
        ;
    t.MX.xy = function (Y, S, h) {
        var q = Y[S];
        Y[S] = Y[h];
        Y[h] = q
    }
        ;
    t.tx = {};
    t.tx.akp = function (Y) {
        for (var G = 0; G < Y.length; G++)
            t.tx.In(Y, G)
    }
        ;
    t.tx.In = function (Y, G) {
        Y[G].v.keyShapeInvalidated = {
            t: "bool",
            v: !0
        }
    }
        ;
    t.tx.aaB = function (Y) {
        for (var G = 0; G < Y.length; G++)
            Y[G].v.keyOriginIndex.v = G
    }
        ;
    t.tx.QO = function () {
        return {
            t: "Objc",
            v: {
                classID: "null",
                keyOriginIndex: {
                    t: "long",
                    v: 0
                },
                keyShapeInvalidated: {
                    t: "bool",
                    v: !0
                }
            }
        }
    }
        ;
    t.tx.dV = function (Y) {
        Y = Y.v;
        var S = {
            Rctn: 2,
            Ln: 4,
            Elps: 5
        }
            , h = S[Y.classID]
            , q = Y.topLeft ? t.tx.TE(Y) : null
            , H = null
            , I = 0;
        if (h == 4) {
            var E = Y.Strt.v
                , d = Y.End.v;
            H = [E.Hrzn.v.val, E.Vrtc.v.val, d.Hrzn.v.val, d.Vrtc.v.val];
            I = Y.Wdth.v.val
        }
        if (h == null)
            return null;
        return t.tx.A8(h, h == 4 ? null : t.tx.Lz(Y), q, H, I)
    }
        ;
    t.tx.wv = function (Y, S, h, q, H, I) {
        var E = {
            classID: Y,
            unitValueQuadVersion: {
                t: "long",
                v: 1
            }
        };
        if (S)
            t.tx.VQ(E, ["Left", "Top", "Rght", "Btom"], S);
        if (h)
            t.tx.VQ(E, ["topLeft", "topRight", "bottomRight", "bottomLeft"], h);
        if (Y == "Ln") {
            E.Strt = {
                t: "Objc",
                v: {
                    classID: "Pnt",
                    Hrzn: {
                        t: "UntF",
                        v: {
                            type: "#Pxl",
                            val: q[0]
                        }
                    },
                    Vrtc: {
                        t: "UntF",
                        v: {
                            type: "#Pxl",
                            val: q[1]
                        }
                    }
                }
            },
                E.End = {
                    t: "Objc",
                    v: {
                        classID: "Pnt",
                        Hrzn: {
                            t: "UntF",
                            v: {
                                type: "#Pxl",
                                val: q[2]
                            }
                        },
                        Vrtc: {
                            t: "UntF",
                            v: {
                                type: "#Pxl",
                                val: q[3]
                            }
                        }
                    }
                },
                E.Wdth = {
                    t: "UntF",
                    v: {
                        type: "#Pxl",
                        val: H
                    }
                }
        }
        if (I)
            E.Nm = {
                t: "TEXT",
                v: I
            };
        return {
            t: "Objc",
            v: E
        }
    }
        ;
    t.tx.A8 = function (Y, S, h, q, H) {
        var I = t.tx.QO()
            , E = I.v;
        delete E.keyShapeInvalidated;
        E.keyOriginType = {
            t: "long",
            v: Y
        };
        E.keyOriginResolution = {
            t: "doub",
            v: 75
        };
        if (Y == 4) {
            E.keyOriginLineStart = {
                t: "Objc",
                v: {
                    classID: "Pnt",
                    Hrzn: {
                        t: "doub",
                        v: q[0]
                    },
                    Vrtc: {
                        t: "doub",
                        v: q[1]
                    }
                }
            };
            E.keyOriginLineEnd = {
                t: "Objc",
                v: {
                    classID: "Pnt",
                    Hrzn: {
                        t: "doub",
                        v: q[2]
                    },
                    Vrtc: {
                        t: "doub",
                        v: q[3]
                    }
                }
            };
            S = [Math.min(q[0], q[2]), Math.min(q[1], q[3]), Math.max(q[0], q[2]), Math.max(q[1], q[3])];
            E.keyOriginLineWeight = {
                t: "doub",
                v: H
            },
                E.keyOriginLineArrowSt = {
                    t: "bool",
                    v: !1
                };
            E.keyOriginLineArrowEnd = {
                t: "bool",
                v: !1
            };
            E.keyOriginLineArrWdth = {
                t: "doub",
                v: 0
            };
            E.keyOriginLineArrLngth = {
                t: "doub",
                v: 0
            };
            E.keyOriginLineArrConc = {
                t: "long",
                v: 0
            }
        }
        var d = {
            classID: "unitRect",
            unitValueQuadVersion: {
                t: "long",
                v: 1
            }
        };
        E.keyOriginShapeBBox = {
            t: "Objc",
            v: d
        };
        t.tx.P$(E, S);
        if (h != null) {
            var B = {
                classID: "radii",
                unitValueQuadVersion: {
                    t: "long",
                    v: 1
                }
            };
            E.keyOriginRRectRadii = {
                t: "Objc",
                v: B
            };
            t.tx.Rb(E, h)
        }
        return I
    }
        ;
    t.tx.J = function (Y, S, h, q) {
        var H = t.I.Pt(S)
            , I = t.I.Yj(S)
            , E = Math.max(Math.abs(S[0]), Math.abs(S[1]))
            , d = Math.max(Math.abs(S[3]), Math.abs(S[4]));
        for (var G = 0; G < Y.length; G++) {
            var B = Y[G].v
                , n = B.keyShapeInvalidated;
            if (n && n.v || B.keyOriginType == null)
                continue;
            if (h.length != 0 && h.indexOf(G) == -1)
                continue;
            var g = B.keyOriginType.v;
            if (!H || !I || q && g == 2 && Math.abs(1 - E / d) > .01) {
                t.tx.In(Y, G);
                continue
            }
            var z = t.tx.uN(B);
            t.I.apply(S, z);
            t.tx.P$(B, [Math.min(z[0], z[2]), Math.min(z[1], z[3]), Math.max(z[0], z[2]), Math.max(z[1], z[3])]);
            if (g == 2) {
                var p = t.tx.Q1(B)
                    , C = new d5(S[0], S[1], S[3], S[4], 0, 0);
                C.pS();
                if (C.R == 0) {
                    p.push(p.shift());
                    C.rotate(Math.PI / 2);
                    C.pS()
                }
                if (C.R < 0) {
                    var T = p[0];
                    p[0] = p[1];
                    p[1] = T;
                    T = p[2];
                    p[2] = p[3];
                    p[3] = T
                }
                if (C.RH < 0) {
                    var T = p[0];
                    p[0] = p[3];
                    p[3] = T;
                    T = p[1];
                    p[1] = p[2];
                    p[2] = T
                }
                if (q)
                    for (var A = 0; A < 4; A++)
                        p[A] = p[A] * E;
                t.tx.Rb(B, p)
            }
            if (g == 4) {
                B.keyOriginLineWeight.v *= E;
                var i = t.tx.Io(B);
                t.I.apply(S, i);
                t.tx.a01(B, i)
            }
        }
    }
        ;
    t.tx.J1 = function (Y, S) {
        var h = S.b;
        for (var G = 0; G < Y.length; G++) {
            var q = Y[G].v, H = q.keyShapeInvalidated, z;
            if (H && H.v || q.keyOriginType == null)
                continue;
            var I = q.keyOriginType.v
                , E = t.tx.uN(q)
                , d = E[0]
                , B = E[1]
                , n = E[2]
                , g = E[3];
            if (I == 1)
                z = t.Y.jZ.Rect(d, B, n - d, g - B, 0);
            else if (I == 2) {
                var p = t.tx.Q1(q);
                z = t.Y.jZ.Rect(d, B, n - d, g - B, p)
            } else if (I == 4) {
                var C = t.tx.Io(q);
                z = t.Y.jZ.lD(C[0], C[1], C[2], C[3], q.keyOriginLineWeight.v)
            } else if (I == 5)
                z = t.Y.jZ.Xu(d, B, n - d, g - B);
            var T = t.Y.kV(h, G)
                , A = t.Y.fD(h, G);
            z[2].Mg = h[T].Mg;
            var i = h;
            h = h.slice(0, T);
            for (var e = 2; e < z.length; e++)
                h.push(z[e]);
            for (var e = T + A; e < i.length; e++)
                h.push(i[e])
        }
        S.b = h;
        S.Uh = !0
    }
        ;
    t.tx.Rc = function (Y) {
        var S = 1e9
            , h = -S
            , q = 1e9
            , H = -q
            , I = null
            , E = Y.L1()
            , d = E[0]
            , B = E[1];
        for (var n = 0; n < B.length; n++) {
            var g = d[B[n]]
                , z = g.add.vogk;
            if (z == null)
                continue;
            var p = g.add.vmsk.C;
            for (var C = 0; C < z.length; C++) {
                var T = z[C].v
                    , A = T.keyShapeInvalidated;
                if (A && A.v || T.keyOriginType == null)
                    continue;
                if (B.length == 1 && p.length != 0 && p.indexOf(C) == -1)
                    continue;
                var i = T.keyOriginType.v;
                if (i != 4) {
                    var e = t.tx.uN(T);
                    S = Math.min(S, e[0]);
                    q = Math.min(q, e[1]);
                    h = Math.max(h, e[2]);
                    H = Math.max(H, e[3])
                }
                if (i == 2 && I == null) {
                    I = t.tx.Q1(T)
                }
            }
        }
        return [S < h ? [S, q, h, H] : null, I]
    }
        ;
    t.tx.a0H = function (Y, S, h) {
        var q = t.tx.Rc(Y)[0], H;
        if (q) {
            var I = new d5;
            I.translate(-q[0], -q[1]);
            I.scale(1 / (q[2] - q[0]), 1 / (q[3] - q[1]));
            I.scale(S[2] - S[0], S[3] - S[1]);
            I.translate(S[0], S[1]);
            H = t.I.gA(I)
        }
        var E = Y.L1()
            , d = E[0]
            , B = E[1];
        for (var n = 0; n < B.length; n++) {
            var g = d[B[n]]
                , z = g.add.vogk;
            if (z == null)
                continue;
            var p = g.add.vmsk.C;
            for (var C = 0; C < z.length; C++) {
                var T = z[C].v
                    , A = T.keyShapeInvalidated;
                if (A && A.v || T.keyOriginType == null)
                    continue;
                if (B.length == 1 && p.length != 0 && p.indexOf(C) == -1)
                    continue;
                var i = T.keyOriginType.v;
                if (i != 4 && S[0] != null) {
                    var S = t.tx.uN(T);
                    t.I.apply(H, S);
                    t.tx.P$(T, S)
                }
                if (i == 2 && h != null) {
                    t.tx.Rb(T, h)
                }
            }
        }
    }
        ;
    t.tx.uN = function (Y) {
        return t.tx.Lz(Y.keyOriginShapeBBox.v)
    }
        ;
    t.tx.Lz = function (Y) {
        var S = Y.Left.v.val
            , h = Y.Rght.v.val
            , q = Y.Top.v.val
            , H = Y.Btom.v.val;
        return [S, q, h, H]
    }
        ;
    t.tx.P$ = function (Y, S) {
        t.tx.VQ(Y.keyOriginShapeBBox.v, ["Left", "Top", "Rght", "Btom"], S)
    }
        ;
    t.tx.Q1 = function (Y) {
        return t.tx.TE(Y.keyOriginRRectRadii.v)
    }
        ;
    t.tx.TE = function (Y) {
        var S = []
            , h = ["topLeft", "topRight", "bottomRight", "bottomLeft"];
        for (var q = 0; q < 4; q++)
            S.push(Y[h[q]].v.val);
        return S
    }
        ;
    t.tx.Rb = function (Y, S) {
        t.tx.VQ(Y.keyOriginRRectRadii.v, ["topLeft", "topRight", "bottomRight", "bottomLeft"], S)
    }
        ;
    t.tx.VQ = function (Y, S, h) {
        for (var G = 0; G < 4; G++)
            if (h[G] != null)
                Y[S[G]] = {
                    t: "UntF",
                    v: {
                        type: "#Pxl",
                        val: h[G]
                    }
                }
    }
        ;
    t.tx.Io = function (Y) {
        var S = Y.keyOriginLineStart.v
            , h = Y.keyOriginLineEnd.v;
        return [S.Hrzn.v, S.Vrtc.v, h.Hrzn.v, h.Vrtc.v]
    }
        ;
    t.tx.a01 = function (Y, S) {
        var h = Y.keyOriginLineStart.v
            , q = Y.keyOriginLineEnd.v;
        h.Hrzn.v = S[0];
        h.Vrtc.v = S[1];
        q.Hrzn.v = S[2];
        q.Vrtc.v = S[3]
    }
        ;
    t.a = {};
    t.a.clone = function (Y) {
        return {
            Z: Y.Z.slice(0),
            H: Y.H.slice(0)
        }
    }
        ;
    t.a.QB = function (Y) {
        if (Y.length < 6)
            return !0;
        var S = Y.length - 4;
        for (var G = 0; G < S; G += 2)
            if (!t.a.R4(Y[G], Y[G + 1], Y[G + 2], Y[G + 3], Y[G + 4], Y[G + 5]))
                return !1;
        if (!t.a.R4(Y[S], Y[S + 1], Y[S + 2], Y[S + 3], Y[0], Y[1]))
            return !1;
        if (!t.a.R4(Y[S + 2], Y[S + 3], Y[0], Y[1], Y[2], Y[3]))
            return !1;
        return !0
    }
        ;
    t.a.R4 = function (Y, S, h, q, H, I) {
        return (S - q) * (H - h) + (h - Y) * (I - q) >= 0
    }
        ;
    t.a.eD = function (Y) {
        var S = {}
            , h = null
            , q = 0
            , H = {
                M: 2,
                L: 2,
                Q: 4,
                C: 6
            };
        for (var G = 0; G < Y.Z.length; G++) {
            var I = Y.Z[G];
            if (I.charAt(0) == "#") {
                if (S[I] == null)
                    S[I] = {
                        H: [],
                        Z: []
                    };
                h = S[I]
            } else if (I != "X") {
                h.Z.push(I);
                var E = H[I];
                if (E == null)
                    E = 0;
                for (var d = 0; d < E; d++)
                    h.H.push(Y.H[q + d]);
                q += E
            }
        }
        return S
    }
        ;
    t.a.QG = function (Y, S) {
        Y = t.a.xr(Y);
        var h = Y.H
            , q = Y.Z
            , H = 0
            , I = []
            , E = null;
        for (var G = 0; G < q.length; G++) {
            var d = q[G];
            if (d == "M") {
                E = {
                    a4Q: H,
                    Li: 0,
                    Nh: !1
                };
                I.push(E);
                H += 2
            }
            if (d == "C") {
                E.Li++;
                H += 6
            }
            if (d == "Z") {
                E.Nh = !0
            }
        }
        var B = [];
        for (var G = 0; G < I.length; G++)
            if (I[G].Li != 0)
                B.push(I[G]);
        I = B;
        for (var G = 0; G < I.length; G++) {
            var n = I[G]
                , g = n.a4Q
                , z = g + 2 + n.Li * 6
                , C = 0;
            n.MK = t.a.Zu(h, g, z);
            var p = h[g] == h[z - 2] && h[g + 1] == h[z - 1];
            for (var T = 0; T < n.Li; T++) {
                var A = g + T * 6
                    , i = A + 6;
                C += (h[i] - h[A]) * (h[i + 1] + h[A + 1])
            }
            if (n.Li == 2) {
                var e = function (f, gf, aa) {
                    var aA = 1 - aa;
                    return aA * aA * aA * f[gf] + 3 * aA * aA * aa * f[gf + 2] + 3 * aA * aa * aa * f[gf + 4] + aa * aa * aa * f[gf + 6]
                }
                    , a = h[g]
                    , Z = h[g + 1]
                    , O = h[g + 6]
                    , c = h[g + 7]
                    , s = h[g + 6]
                    , x = h[g + 7]
                    , u = e(h, g, .5)
                    , y = e(h, g + 1, .5)
                    , j = e(h, g + 6, .5)
                    , v = e(h, g + 7, .5);
                C = (u - a) * (y - Z) + (O - u) * (c - y) + (j - O) * (v - c) + (s - j) * (x - v)
            }
            if (!p)
                C += (h[g] - h[z - 2]) * (h[g + 1] + h[z - 1]);
            n.V4 = C <= 0
        }
        for (var G = 0; G < I.length - 1; G++)
            for (var A = G + 1; A < I.length; A++) {
                var X = I[G]
                    , N = I[A];
                if (N.MK.HS(X.MK)) {
                    I[G] = N;
                    I[A] = X
                }
            }
        var V = I.length == 0 ? !0 : I[0].V4
            , $ = [{
                type: 6
            }, {
                type: 8,
                all: 0
            }];
        for (var G = 0; G < I.length; G++) {
            var n = I[G]
                , g = n.a4Q
                , z = g + 2 + n.Li * 6
                , p = h[g] == h[z - 2] && h[g + 1] == h[z - 1]
                , w = n.Nh || p ? 0 : 3
                , m = n.V4 == V && !S ? 1 : 0;
            if (!S && G != 0) {
                if (I[G - 1].MK.HS(n.MK) && I[G - 1].V4 != n.V4)
                    m = 0;
                for (var A = 0; A < I.length; A++)
                    if (A != G && I[A].MK.HS(n.MK))
                        m = 0
            }
            $.push({
                type: w,
                length: n.Li + (p ? 0 : 1),
                Mg: m,
                rq: 2
            });
            for (var A = 0; A < n.Li; A++) {
                var H = g + A * 6, l = new aV(h[H], h[H + 1]), b = new aV(h[H + 2], h[H + 3]), K;
                if (A == 0) {
                    if (p)
                        K = new aV(h[z - 4], h[z - 3]);
                    else
                        K = l.clone()
                } else
                    K = new aV(h[H - 2], h[H - 1]);
                $.push({
                    type: w + 2,
                    c4: K,
                    D: l,
                    TA: b
                })
            }
            if (!p) {
                var J = new aV(h[z - 2], h[z - 1]);
                $.push({
                    type: w + 2,
                    c4: new aV(h[z - 4], h[z - 3]),
                    D: J,
                    TA: J.clone()
                })
            }
        }
        for (var A = 0; A < $.length; A++) {
            var R = $[A];
            if (R.type > 5 || R.type == 0 || R.type == 3)
                continue;
            var r = R.c4.ma(R.D) || R.TA.ma(R.TA);
            if (!r) {
                var X = R.c4.x * (R.D.y - R.TA.y) + R.D.x * (R.TA.y - R.c4.y) + R.TA.x * (R.c4.y - R.D.y);
                if (Math.abs(X) < 1e-6)
                    r = !0
            }
            if (r)
                R.type--
        }
        return $
    }
        ;
    t.a.df = function () {
        function Y(q, H, I, E) {
            if (!E && q.TA.ma(q.D) && H.c4.ma(H.D)) {
                I.H.push(H.D.x, H.D.y);
                I.Z.push("L")
            } else {
                I.H.push(q.TA.x, q.TA.y, H.c4.x, H.c4.y, H.D.x, H.D.y);
                I.Z.push("C")
            }
        }
        function S(q, H, G, I, E, d) {
            var B = H[G];
            q.H.push(B.D.x, B.D.y);
            q.Z.push("M");
            for (var n = G; n < G + I - 1; n++)
                Y(H[n], H[n + 1], q, d);
            if (!E)
                Y(H[n], H[G], q, d)
        }
        function h(q, H) {
            if (H == null)
                H = !1;
            var I = {
                H: [],
                Z: []
            };
            for (var G = 0; G < q.length; G++) {
                if (q[G].type > 5)
                    continue;
                var E = q[G].length;
                if (E == 0)
                    continue;
                if (G == q.length - 1)
                    break;
                var d = q[G].type == 3;
                S(I, q, G + 1, E, d, H);
                if (!d)
                    I.Z.push("Z");
                G += E
            }
            return I
        }
        return h
    }();
    t.a.am2 = function (Y) {
        var S = Y.H, h = [], q, H = 0;
        for (var G = 0; G < Y.Z.length; G++) {
            var I = Y.Z[G];
            if (I == "C") {
                q.push(S[H++], S[H++], S[H++], S[H++], S[H++], S[H++])
            } else if (I == "Z") { } else {
                q = [];
                if (I != "M") {
                    q.push(I);
                    G++
                }
                q.push(S[H++], S[H++]);
                h.push(q)
            }
        }
        return h
    }
        ;
    t.a.VR = function (Y, S, h, q) {
        if (q == null)
            q = 1e9;
        var H = 1e9
            , I = 0;
        for (var G = 0; G < Y.length; G += 2) {
            var E = S - Y[G]
                , d = h - Y[G + 1]
                , B = E * E + d * d;
            if (B < H) {
                H = B;
                I = G >>> 1
            }
        }
        return H < q * q ? I : -1
    }
        ;
    t.a.AZ = function (Y, S, h, q) {
        for (var G = 0; G < Y.length; G += 2) {
            var H = Y[G]
                , I = Y[G + 1]
                , E = S[G]
                , d = S[G + 1];
            h[G] = H + (E - H) * q;
            h[G + 1] = I + (d - I) * q
        }
    }
        ;
    t.a.J = function (Y, S, h) {
        for (var G = 0; G < Y.length; G += 2) {
            var q = Y[G]
                , H = Y[G + 1];
            h[G] = q * S.R + H * S.Pb + S.TR;
            h[G + 1] = q * S.O + H * S.RH + S.Un
        }
    }
        ;
    t.a.Zu = function (Y, S, h) {
        if (S == null)
            S = 0;
        if (h == null)
            h = Y.length;
        var q = 99999999999
            , H = -q
            , I = 99999999999
            , E = -I;
        for (var G = S; G < h; G += 2) {
            var d = Y[G]
                , B = Y[G + 1];
            q = Math.min(q, d);
            I = Math.min(I, B);
            H = Math.max(H, d);
            E = Math.max(E, B)
        }
        return new W(q, I, H - q, E - I)
    }
        ;
    t.a.MZ = function (Y, S) {
        var h = Math.max(S.x, Math.min(S.x + S.d, Y.x))
            , q = Math.max(S.y, Math.min(S.y + S.v, Y.y))
            , H = Y.x - h
            , I = Y.y - q;
        return Math.sqrt(H * H + I * I)
    }
        ;
    t.a.Ca = function (Y) {
        if (Y.fa())
            return new W(Math.floor(Y.x), Math.floor(Y.y), Math.ceil(Y.d), Math.ceil(Y.v));
        var S = Math.floor(Y.x)
            , h = Math.ceil(Y.x + Y.d)
            , q = Math.floor(Y.y)
            , H = Math.ceil(Y.y + Y.v);
        return new W(S, q, h - S, H - q)
    }
        ;
    t.a.wO = function (Y) {
        return t.a.Ca(t.a.Zu(Y))
    }
        ;
    t.a.yP = function (Y) {
        var S = Y.x
            , h = Y.y
            , q = Y.x + Y.d
            , H = Y.y + Y.v;
        return {
            Z: ["M", "L", "L", "L", "Z"],
            H: [S, h, q, h, q, H, S, H]
        }
    }
        ;
    t.a.concat = function (Y, S, h) {
        if (h == null)
            h = new d5;
        for (var G = 0; G < S.H.length; G += 2) {
            var q = S.H[G]
                , H = S.H[G + 1];
            Y.H.push(q * h.R + H * h.Pb + h.TR);
            Y.H.push(q * h.O + H * h.RH + h.Un)
        }
        for (var G = 0; G < S.Z.length; G++)
            Y.Z.push(S.Z[G])
    }
        ;
    t.a.xr = function (Y) {
        var S = Y.H
            , h = []
            , q = []
            , H = 0
            , I = 0
            , E = 0
            , d = 0
            , B = 0
            , n = 0
            , g = 0
            , z = 0
            , p = 0;
        for (var G = 0; G < Y.Z.length; G++) {
            var C = Y.Z[G];
            if (C == "M") {
                I = S[H];
                E = S[H + 1];
                H += 2;
                q.push(C);
                h.push(I, E)
            } else if (C == "C") {
                d = S[H];
                B = S[H + 1];
                n = S[H + 2];
                g = S[H + 3];
                z = S[H + 4];
                p = S[H + 5];
                H += 6;
                q.push(C);
                h.push(d, B, n, g, z, p);
                I = z;
                E = p
            } else if (C == "Q") {
                d = S[H];
                B = S[H + 1];
                n = S[H + 2];
                g = S[H + 3];
                H += 4;
                var T = d - I
                    , A = B - E
                    , i = n - d
                    , e = g - B;
                q.push("C");
                h.push(I + 2 / 3 * T, E + 2 / 3 * A, d + 1 / 3 * i, B + 1 / 3 * e, n, g);
                I = n;
                E = g
            } else if (C == "L") {
                d = S[H];
                B = S[H + 1];
                H += 2;
                var a = d - I
                    , Z = B - E;
                q.push("C");
                h.push(I, E, d, B, d, B);
                I = d;
                E = B
            } else
                q.push(C)
        }
        return {
            Z: q,
            H: h
        }
    }
        ;
    t.a.a5A = function (Y) {
        var S = Y.H
            , h = []
            , q = []
            , H = 0;
        for (var G = 0; G < Y.Z.length; G++) {
            var I = Y.Z[G];
            if (I == "Q") {
                var E = S[H - 2]
                    , d = S[H - 1]
                    , B = S[H]
                    , n = S[H + 1]
                    , g = S[H + 2]
                    , z = S[H + 3];
                H += 4;
                var p = B - E
                    , C = n - d
                    , T = g - B
                    , A = z - n;
                q.push("C");
                h.push(E + 2 / 3 * p, d + 2 / 3 * C, B + 1 / 3 * T, n + 1 / 3 * A, g, z)
            } else {
                var i = 0;
                if (I == "M" || I == "L")
                    i = 2;
                else if (I == "C")
                    i = 6;
                for (var e = 0; e < i; e++)
                    h.push(S[H + e]);
                H += i;
                q.push(I)
            }
        }
        return {
            Z: q,
            H: h
        }
    }
        ;
    t.a.dH = function (Y, S) {
        var h = Y.H
            , q = []
            , H = []
            , I = 0
            , E = 0
            , d = 0
            , B = 0
            , n = 0
            , g = 0
            , z = 0
            , p = 0
            , C = 0;
        for (var G = 0; G < Y.Z.length; G++) {
            var T = Y.Z[G];
            if (T == "M") {
                E = h[I];
                d = h[I + 1];
                I += 2;
                H.push(T);
                q.push(E, d)
            } else if (T == "C") {
                B = h[I];
                n = h[I + 1];
                g = h[I + 2];
                z = h[I + 3];
                p = h[I + 4];
                C = h[I + 5];
                I += 6;
                t.a.GS(E, d, B, n, g, z, p, C, S, H, q, 0);
                E = p;
                d = C
            } else
                H.push(T)
        }
        return {
            Z: H,
            H: q
        }
    }
        ;
    t.a.GS = function (Y, S, h, q, H, I, E, d, B, n, g, z) {
        var p = Math.sqrt((E - Y) * (E - Y) + (d - S) * (d - S))
            , C = Math.sqrt((E - H) * (E - H) + (d - I) * (d - I)) + Math.sqrt((H - h) * (H - h) + (I - q) * (I - q)) + Math.sqrt((h - Y) * (h - Y) + (q - S) * (q - S))
            , T = (p + C) / 2;
        if (T <= B) {
            n.push("C");
            g.push(h, q, H, I, E, d)
        } else {
            var A = 0
                , i = 0
                , e = 0
                , a = 0
                , Z = 0
                , O = 0
                , c = 0
                , s = 0
                , x = 0
                , u = 0
                , y = 0
                , j = 0
                , v = 0;
            i = (Y + h) / 2;
            e = (S + q) / 2;
            a = (h + H) / 2;
            Z = (q + I) / 2;
            O = (H + E) / 2;
            c = (I + d) / 2;
            s = (i + a) / 2;
            x = (e + Z) / 2;
            u = (a + O) / 2;
            y = (Z + c) / 2;
            j = (s + u) / 2;
            v = (x + y) / 2;
            t.a.GS(Y, S, i, e, s, x, j, v, B, n, g, z + 1);
            t.a.GS(j, v, u, y, O, c, E, d, B, n, g, z + 1)
        }
    }
        ;
    t.a.jm = function (Y, S) {
        var h = Y.length - 2
            , q = Y[0]
            , H = Y[1]
            , I = Y[h]
            , E = Y[h + 1]
            , d = I - q
            , B = E - H
            , n = 1 / Math.sqrt(d * d + B * B)
            , g = I * H - E * q
            , z = -1
            , p = -1;
        for (var G = 2; G < h; G += 2) {
            var C = Y[G]
                , T = Y[G + 1]
                , A = Math.abs(B * C - d * T + g) * n;
            if (A > p) {
                p = A;
                z = G
            }
        }
        if (p < S)
            return [q, H, I, E];
        var i = t.a.jm(Y.slice(0, z + 2), S)
            , e = t.a.jm(Y.slice(z), S);
        for (var G = 2; G < e.length; G++)
            i.push(e[G]);
        return i
    }
        ;
    t.a.a6A = function () {
        var Y = function (q, H, I, E, d, B) {
            return (H - E) * (d - I) + (I - q) * (B - E) >= 0
        }
            , S = function (q, H, I, E, d, B, n, g) {
                var z = n - I
                    , p = g - E
                    , C = d - I
                    , T = B - E
                    , A = q - I
                    , i = H - E
                    , e = z * z + p * p
                    , a = z * C + p * T
                    , Z = z * A + p * i
                    , O = C * C + T * T
                    , c = C * A + T * i
                    , s = 1 / (e * O - a * a)
                    , x = (O * Z - a * c) * s
                    , u = (e * c - a * Z) * s;
                return x >= 0 && u >= 0 && x + u < 1
            }
            , h = function (q) {
                var D = q.length >>> 1
                    , G = 0;
                if (D < 3)
                    return [];
                var H = []
                    , I = [];
                for (var G = 0; G < D; G++)
                    I.push(G);
                var E = D;
                while (E > 3) {
                    var d = I[(G + 0) % E]
                        , B = I[(G + 1) % E]
                        , n = I[(G + 2) % E]
                        , g = q[2 * d]
                        , z = q[2 * d + 1]
                        , p = q[2 * B]
                        , C = q[2 * B + 1]
                        , T = q[2 * n]
                        , A = q[2 * n + 1]
                        , i = !1;
                    if (Y(g, z, p, C, T, A)) {
                        i = !0;
                        for (var e = 0; e < E; e++) {
                            var a = I[e];
                            if (a == d || a == B || a == n)
                                continue;
                            if (S(q[2 * a], q[2 * a + 1], g, z, p, C, T, A)) {
                                i = !1;
                                break
                            }
                        }
                    }
                    if (i) {
                        H.push(d, B, n);
                        I.splice((G + 1) % E, 1);
                        E--;
                        G = 0
                    } else if (G++ > 3 * E)
                        break
                }
                H.push(I[0], I[1], I[2]);
                return H
            };
        return h
    }();
    t.a.a3N = function (Y, S) {
        var h = {}
            , q = {
                Z: [],
                H: []
            };
        for (var G = 0; G < S.length; G += 3) {
            var H = S[G] * 2
                , I = S[G + 1] * 2
                , E = S[G + 2] * 2;
            t.a.G2(Y, H, I, q, h);
            t.a.G2(Y, H, E, q, h);
            t.a.G2(Y, I, E, q, h)
        }
        return q
    }
        ;
    t.a.G2 = function (Y, S, h, q, H) {
        if (S > h) {
            var I = h;
            h = S;
            S = I
        }
        if (H[S + "," + h])
            return;
        H[S + "," + h] = !0;
        q.Z.push("M", "L");
        q.H.push(Y[S], Y[S + 1], Y[h], Y[h + 1])
    }
        ;
    t.a.se = function (Y, S) {
        var h = []
            , q = Y.length;
        for (var G = 0; G < q; G += 2) {
            var H = Y[G]
                , I = Y[G + 1]
                , E = Y[(G + 2) % q]
                , d = Y[(G + 3) % q];
            if (d < I) {
                var B = I;
                I = d;
                d = B
            }
            if (I < S && S < d) {
                var n = (S - I) / (d - I);
                h.push(H + n * (E - H))
            }
        }
        h.sort(function (g, z) {
            return g - z
        });
        return h
    }
        ;
    t.a.ahV = function (Y, S) {
        var h = S.slice(0)
            , D = Y.length / 2
            , q = []
            , H = [];
        for (var G = 0; G < D; G++) {
            var I = (G + 1) % D
                , E = Y[2 * G] - Y[2 * I]
                , d = Y[2 * G + 1] - Y[2 * I + 1];
            H[G] = Math.sqrt(E * E + d * d)
        }
        for (var G = 0; G < D; G++) {
            var B = (G - 1 + D) % D
                , I = (G + 1) % D
                , n = S[G]
                , g = n + S[B]
                , z = n + S[I];
            if (g != 0)
                h[G] = Math.min(h[G], H[B] * n / g);
            if (z != 0)
                h[G] = Math.min(h[G], H[G] * n / z)
        }
        for (var G = 0; G < D; G++) {
            var I = (G + 1) % D
                , p = (G + 2) % D
                , C = h[G]
                , T = h[I]
                , A = Y[2 * G]
                , i = Y[2 * G + 1]
                , e = Y[2 * I]
                , a = Y[2 * I + 1]
                , Z = Y[2 * p]
                , O = Y[2 * p + 1]
                , c = H[G]
                , s = H[I]
                , x = t.a.afg(A, i, e, a, Z, O, C, T, c, s);
            q.push(x[0], x[1], x[0], x[1], x[2], x[3]);
            q.push(x[2], x[3], x[4], x[5], x[6], x[7])
        }
        return q
    }
        ;
    t.a.afg = function (Y, S, h, q, H, I, E, d, B, n) {
        if (B == null)
            B = Math.sqrt((h - Y) * (h - Y) + (q - S) * (q - S));
        if (n == null)
            n = Math.sqrt((H - h) * (H - h) + (I - q) * (I - q));
        var g = .553
            , z = 0
            , p = 0
            , C = 0
            , T = 0;
        if (B != 0) {
            z = (h - Y) / B;
            p = (q - S) / B
        }
        if (n != 0) {
            C = (H - h) / n;
            T = (I - q) / n
        }
        var A = Y + E * z
            , i = S + E * p
            , e = h - d * z
            , a = q - d * p;
        return [A, i, e, a, h - d * z * (1 - g), q - d * p * (1 - g), h + d * C * (1 - g), q + d * T * (1 - g), h + d * C, q + d * T]
    }
        ;
    t.a.o6 = function (Y, S, h, q, H, I, E) {
        var d = Y - h
            , B = S - q
            , n = H - h
            , g = I - q
            , z = 1 / Math.sqrt(d * d + B * B)
            , p = 1 / Math.sqrt(n * n + g * g)
            , C = d * z
            , T = B * z
            , A = n * p
            , i = g * p
            , e = T * E
            , a = -C * E
            , Z = -i * E
            , O = A * E
            , c = t.a.sV(e, a, C, T, Z, O, A, i)
            , s = e + C * c
            , x = a + T * c
            , c = t.a.sV(0, 0, C, T, s, x, -T, C)
            , u = C * c
            , y = T * c;
        return [Math.sqrt(u * u + y * y), C, T, A, i]
    }
        ;
    t.a.CC = function (Y, S, h, q, H, I, E) {
        var d = t.a.o6(Y, S, h, q, H, I, E)
            , B = d[0]
            , n = d[1]
            , g = d[2]
            , z = d[3]
            , p = d[4]
            , C = Math.atan2(n * p - g * z, n * z + g * p);
        if (C < 0) {
            C = C * -1
        }
        var T = Math.PI - C
            , A = 4 / 3 * Math.tan(T / 4)
            , i = h + B * n
            , e = q + B * g
            , a = h + B * z
            , Z = q + B * p
            , O = i + A * E * -n
            , c = e + A * E * -g
            , s = a + A * E * -z
            , x = Z + A * E * -p;
        return [0, 0, i, e, O, c, s, x, a, Z]
    }
        ;
    t.a.sV = function (Y, S, h, q, H, I, E, d) {
        var B = E * (S - I) - d * (Y - H)
            , n = d * h - E * q;
        if (n == 0)
            return 0;
        return B / n
    }
        ;
    t.a.CC(0, 50, 0, 0, 30, 30, 10);
    t.m5 = function () { }
        ;
    t.m5.nK = function (Y, S, h, q, H) {
        var I = h.d
            , E = h.v
            , d = I * E
            , B = new Int32Array(d)
            , D = 0;
        for (var G = 0; G < d; G++)
            if (S[G] != 0) {
                B[G] = D;
                D++
            } else if (Y[(G << 2) + 3] < 200) {
                B[G] = -2
            } else
                B[G] = -1;
        if (D == 0)
            return;
        var n = new t.S8(D, D)
            , g = new Array(3 * D)
            , z = new Array(3 * D);
        for (var G = 0; G < z.length; G++)
            z[G] = g[G] = 0;
        var p = 1 / 255
            , C = [-I, -1, 1, I]
            , T = []
            , A = [];
        for (var i = 0; i < E; i++)
            for (var e = 0; e < I; e++) {
                var a = i * I + e
                    , Z = a << 2
                    , G = B[a]
                    , O = G * 3
                    , c = 0
                    , s = 0
                    , x = 0;
                if (G == -1 || G == -2)
                    continue;
                for (var u = 0; u < 4; u++) {
                    if (u == 2) {
                        s = x;
                        T[x] = 0;
                        A[x] = G;
                        x++
                    }
                    var y = a + C[u]
                        , j = y << 2
                        , v = B[y];
                    if (u == 0 && i == 0 || u == 1 && e == 0 || u == 2 && e == I - 1 || u == 3 && i == E - 1 || v == -2)
                        continue;
                    c++;
                    if (v == -1) {
                        g[O + 0] += Y[j + 0];
                        g[O + 1] += Y[j + 1];
                        g[O + 2] += Y[j + 2]
                    } else {
                        T[x] = -1;
                        A[x] = v;
                        x++;
                        if (S[a] == S[y]) {
                            g[O + 0] += Y[Z + 0] - Y[j + 0];
                            g[O + 1] += Y[Z + 1] - Y[j + 1];
                            g[O + 2] += Y[Z + 2] - Y[j + 2]
                        }
                    }
                }
                T[s] = c;
                n.Fr(T, A, x)
            }
        for (var G = 0; G < d; G++)
            if (B[G] != -1) {
                var X = G << 2
                    , N = B[G]
                    , V = N * 3;
                z[V] = Y[X + 0];
                z[V + 1] = Y[X + 1];
                z[V + 2] = Y[X + 2]
            }
        var $ = Date.now();
        n.a95(z, g, q, H);
        console.log(Date.now() - $);
        for (var G = 0; G < d; G++) {
            var N = B[G]
                , w = N * 3
                , X = G << 2;
            if (N == -1 || Y[X + 3] != 255)
                continue;
            Y[X + 0] = ~~(.5 + Math.max(0, Math.min(255, z[w + 0])));
            Y[X + 1] = ~~(.5 + Math.max(0, Math.min(255, z[w + 1])));
            Y[X + 2] = ~~(.5 + Math.max(0, Math.min(255, z[w + 2])))
        }
    }
        ;
    t.rect = {};
    t.rect.gj = function (Y, S) {
        var h = [Y]
            , q = [];
        for (var G = 0; G < S.length; G++) {
            var H = S[G]
                , I = !1;
            for (var E = G + 1; E < S.length; E++) {
                var d = S[E];
                if (d[0] <= H[0] && d[1] <= H[1] && H[2] <= d[2] && H[3] <= d[3]) {
                    I = !0;
                    break
                }
            }
            if (!I)
                q.push(H)
        }
        S = q;
        for (var G = 0; G < S.length; G++) {
            var H = S[G];
            for (var E = 0; E < h.length; E++) {
                var d = h[E]
                    , B = Math.max(H[0], d[0])
                    , n = Math.min(H[2], d[2])
                    , g = Math.max(H[1], d[1])
                    , z = Math.min(H[3], d[3]);
                if (B < n && g < z) {
                    var p = [];
                    if (d[1] < H[1]) {
                        var C = d.slice(0);
                        C[3] = H[1];
                        p.push(C)
                    }
                    if (d[0] < H[0]) {
                        var T = d.slice(0);
                        T[1] = g;
                        T[2] = H[0];
                        p.push(T)
                    }
                    if (H[2] < d[2]) {
                        var A = d.slice(0);
                        A[1] = g;
                        A[0] = H[2];
                        p.push(A)
                    }
                    if (H[3] < d[3]) {
                        var i = [B, z, n, d[3]];
                        p.push(i)
                    }
                    if (p.length != 0) {
                        h[E] = p[0];
                        for (var e = 1; e < p.length; e++)
                            h.push(p[e])
                    }
                }
            }
            h.push(H);
            h = t.rect.ahb(h)
        }
        h.sort(function (H, d) {
            return H[1] != d[1] ? H[1] - d[1] : H[0] - d[0]
        });
        return h
    }
        ;
    t.rect.ahb = function (Y) {
        Y = Y.slice(0);
        for (var G = 0; G < Y.length; G++) {
            var S = Y[G]
                , h = null;
            if (S[4] != null)
                continue;
            for (var q = 0; q < Y.length; q++) {
                var H = Y[q];
                if (G == q || H[4] != null)
                    continue;
                var I = S[0] == H[0]
                    , E = S[1] == H[1]
                    , d = S[2] == H[2]
                    , B = S[3] == H[3];
                if (E && B && (S[2] == H[0] || S[0] == H[2])) {
                    h = [Math.min(S[0], H[0]), S[1], Math.max(S[2], H[2]), S[3]]
                }
                if (I && d && (S[3] == H[1] || S[1] == H[3])) {
                    h = [S[0], Math.min(S[1], H[1]), S[2], Math.max(S[3], H[3])]
                }
                if (h) {
                    Y[G] = h;
                    Y.splice(q, 1);
                    break
                }
            }
            if (h) {
                G--
            }
        }
        return Y
    }
        ;
    t.rect.n_ = function (Y) {
        var S = new W;
        for (var G = 0; G < Y.length; G++)
            S = S.TG(Y[G]);
        return S
    }
        ;
    t.rect.adq = function (Y, S) {
        var h = t.rect.n_
            , q = new UnionFind(Y.length)
            , s = 1e3
            , x = 1e3;
        for (var G = 0; G < Y.length; G++)
            for (var H = G + 1; H < Y.length; H++) {
                if (!S)
                    continue;
                var I = Y[G]
                    , E = Y[H]
                    , z = 1e9
                    , p = 1e9;
                if (I.CO(E)) {
                    q.link(G, H);
                    continue
                }
                var d = I.x + I.d
                    , B = I.y + I.v
                    , n = E.x + E.d
                    , g = E.y + E.v;
                if ((d < E.x || n < I.x) && (B < E.y || g < I.y))
                    continue;
                if (!(B < E.y || g < I.y))
                    z = Math.min(Math.abs(d - E.x), Math.abs(I.x - n));
                if (!(d < E.x || n < I.x))
                    p = Math.min(Math.abs(B - E.y), Math.abs(I.y - g));
                var C = Math.min(z, p)
                    , T = Math.min(I.d, I.v, E.d, E.v);
                if (C < .3 * T)
                    q.link(G, H)
            }
        var A = []
            , i = {};
        for (var G = 0; G < Y.length; G++) {
            var e = q.find(G)
                , a = Y[G];
            if (i[e] == null) {
                i[e] = A.length;
                A.push([])
            }
            A[i[e]].push(a)
        }
        var Z = []
            , O = [];
        for (var G = 0; G < A.length; G++) {
            Z.push(h(A[G]));
            var c = h(A[G]);
            c.eS = G;
            O.push(c)
        }
        O.sort(function (m, l) {
            return Math.max(l.v, l.d) - Math.max(m.v, m.d)
        });
        var u = new NETXUS.RectanglePacker(s, x);
        while (!0) {
            var y = !1;
            u.reset(s, x);
            for (var G = 0; G < O.length; G++) {
                var j = u.findCoords(O[G].d, O[G].v);
                if (j) {
                    O[G].x = j.x;
                    O[G].y = j.y
                } else {
                    s = Math.floor(s * 1.1);
                    x = Math.floor(x * 1.1);
                    y = !0;
                    break
                }
            }
            if (y)
                continue;
            break
        }
        for (var G = 0; G < A.length; G++) {
            var v = O[G]
                , X = v.eS
                , N = Z[X]
                , V = A[X]
                , $ = v.x - N.x
                , w = v.y - N.y;
            for (var H = 0; H < V.length; H++)
                V[H].offset($, w)
        }
    }
        ;
    t.n1 = function () { }
        ;
    t.n1.uR = Math.floor(16 * window.devicePixelRatio);
    t.n1.$X = {};
    t.n1.op = 0;
    t.n1.rQ = [[12, 76, 2], [12, 76, 3], [12, 76, 4], [12, 76, 5], [12, 76, 6]];
    t.n1.agv = ["px", "in", "cm", "mm", "%"];
    t.n1.BP = function (Y, S, h) {
        var q = S.PW
            , H = [1, q, q / 2.54, q / 25.4, S.d / 100][h];
        return Y * H
    }
        ;
    t.n1.qZ = function (Y, S, h, q, H) {
        var I = h.nF.W_
            , E = [1, S, S / 2.54, S / 25.4, q / 100][I]
            , d = [2, 3, 2, 1, 2][I];
        Y = Y / E;
        var B = Math.round(Y)
            , n = I == 0 && Math.abs(Y - B) < 1e-6 ? B + "" : Y.toFixed(d);
        if (H)
            n += " " + t.n1.agv[I];
        return n
    }
        ;
    t.n1.a4x = function (Y, S, h, q) {
        var H = h.nF.W_
            , I = [1, S, S / 2.54, S / 25.4, q / 100][H];
        Y = parseFloat(Y) * I;
        return Y
    }
        ;
    t.n1.a28 = function (Y, S) {
        var h = Y + "," + S;
        if (t.n1.$X.clr == h)
            return;
        var q = Math.round(t.n1.uR * .5);
        t.n1.op = q;
        var H = document.createElement("canvas");
        H.width = H.height = q;
        var I = H.getContext("2d");
        I.font = q * 1.5 + "px monospace";
        var E = "0 1 2 3 4 5 6 7 8 9 -".split(" ");
        for (var G = 0; G < E.length; G++) {
            I.fillStyle = "#" + t.u9(S);
            I.fillRect(0, 0, q, q);
            I.fillStyle = "#" + t.u9(Y);
            I.fillText(E[G], 0, q);
            t.n1.$X[E[G]] = I.getImageData(0, 0, q, q).data
        }
        t.n1.$X.clr = h
    }
        ;
    t.n1.aar = function (Y, S, h) {
        var q = 0
            , H = 0
            , I = 4 * t.n1.uR;
        for (var G = 9; G >= 0; G--) {
            var E = Math.pow(10, G);
            if (5 * E * Y <= I) {
                q = 5 * E;
                H = 10;
                break
            }
            if (2 * E * Y <= I) {
                q = 2 * E;
                H = 4;
                break
            }
            if (1 * E * Y <= I) {
                q = 1 * E;
                H = 10;
                break
            }
        }
        if (q == 0) {
            q = 1;
            H = 10
        }
        var d = Math.ceil(q * Y)
            , B = t.m(d * t.n1.uR * 4);
        t.A5(B, 4278190080 | h);
        for (var G = 0; G < t.n1.uR; G++)
            t.n1.L6(B, 4 * G * d, S);
        for (var G = 0; G < d; G++)
            t.n1.L6(B, 4 * ((t.n1.uR - 1) * d + G), S);
        if (q == 2)
            H = 2;
        if (q == 5)
            H = 5;
        if (q > 1 || q == 1 && d > 20)
            for (var G = 1; G < H; G++)
                t.n1.amh(B, G * (d / H), d, (G & 1) == 1 ? .8 : .7, S);
        return {
            Vi: B,
            step: q
        }
    }
        ;
    t.n1.amh = function (Y, S, h, q, H) {
        var S = Math.round(S);
        for (var I = Math.round(t.n1.uR * q); I < t.n1.uR - 1; I++)
            t.n1.L6(Y, 4 * (I * h + S), H)
    }
        ;
    t.n1.L6 = function (Y, S, h) {
        Y[S + 0] = h >> 16 & 255;
        Y[S + 1] = h >> 8 & 255;
        Y[S + 2] = h & 255
    }
        ;
    t.n1.aeH = function (Y, S, h, q, H) {
        var I = Y.Eq.d, E = Y.Eq.v, d = t.n1.uR, B = S & 255, n = S >> 8 & 255, g = S >> 16 & 255, s, x, u, y;
        S = Math.round(B * .6) << 16 | Math.round(n * .6) << 8 | Math.round(g * .6);
        t.n1.a28(Math.round(B * .8) << 16 | Math.round(n * .8) << 8 | Math.round(g * .8), h);
        var z = this.aar(Y.S, S, h)
            , p = Y.vl(0, 0)
            , C = Y.vl(I, E)
            , T = Math.floor(p.x / z.step) * z.step
            , A = Math.ceil(C.x / z.step) * z.step
            , i = Math.floor(p.y / z.step) * z.step
            , e = Math.ceil(C.y / z.step) * z.step
            , a = Y.XV(T, i)
            , Z = Y.XV(A, i)
            , O = z.step * Y.S
            , c = Math.ceil(O);
        s = Y.HW.data;
        x = new W(0, 0, I, d);
        u = new W(0, 0, c, d);
        y = new W(0, Math.round(d * .08), t.n1.op, t.n1.op);
        for (var G = 0; G < (A - T) / z.step; G++) {
            u.x = Math.round(a.x + G * O);
            t.rd(z.Vi, u, s, x, u);
            var j = (T + G * z.step).toString(10);
            for (var v = 0; v < j.length; v++) {
                y.x = u.x + 3 + v * Math.round(t.n1.op * .8);
                var X = t.n1.$X[j[v]];
                t.rd(X, y, s, x, y)
            }
        }
        var N = new Uint32Array(z.Vi.buffer)
            , V = new Uint32Array(z.Vi.length);
        for (var $ = 0; $ < c; $++)
            for (var w = 0; w < d; w++) {
                V[$ * d + w] = N[w * c + $]
            }
        z.Vi = new Uint8Array(V.buffer);
        s = Y.Le.data;
        x = new W(0, 0, d, E);
        u = new W(0, 0, d, c);
        y = new W(Math.round(d * .2), 0, t.n1.op, t.n1.op);
        for (var G = 0; G < (e - i) / z.step; G++) {
            u.y = Math.round(a.y + G * O);
            t.rd(z.Vi, u, s, x, u);
            var j = Math.abs(i + G * z.step).toString(10);
            for (var v = 0; v < j.length; v++) {
                y.y = u.y + 3 + v * Math.round(t.n1.op * 1.15);
                var X = t.n1.$X[j[v]];
                t.rd(X, y, s, x, y)
            }
        }
        var m = Math.floor(d * .6)
            , l = new Uint32Array(Y.HW.data.buffer)
            , b = new Uint32Array(Y.Le.data.buffer)
            , K = B < 128 ? 4278190080 : 4294967295;
        if (0 < q && q < I)
            for (var G = 0; G < m; G++)
                l[G * I + q] = K;
        if (0 < H && H < E)
            for (var G = 0; G < m; G++)
                b[H * d + G] = K
    }
        ;
    t.scale = {};
    t.scale.yD = document.createElement("canvas");
    t.scale.Jd = t.scale.yD.getContext("2d");
    t.scale.aeF = document.createElement("canvas");
    t.scale.alP = t.scale.aeF.getContext("2d");
    t.scale.u2 = function (Y, S, h) {
        var q = t.scale.yD
            , H = t.scale.Jd;
        q.width = S;
        q.height = h;
        var I = new ImageData(new Uint8ClampedArray(Y.buffer), S, h);
        H.putImageData(I, 0, 0);
        return H.createPattern(q, "repeat")
    }
        ;
    t.scale.a9M = function (Y, S, h, q, H, I, E, d) {
        var B = t.scale.f_(Y, h, q, H, I, E, d);
        t.vK(B.data, S)
    }
        ;
    t.scale.ad3 = function (Y, S, h, q, H, I, E, d) {
        var B = t.scale.f_(Y, h, q, H, I, E, d);
        t.vx(B.data, S)
    }
        ;
    t.scale.f_ = function (Y, S, h, q, H, I, E) {
        var d = t.scale.yD
            , B = t.scale.Jd;
        d.width = S;
        d.height = h;
        B.rect(0, 0, S, h);
        B.translate(I, E);
        B.scale(q, H);
        B.fillStyle = Y;
        B.fill();
        return B.getImageData(0, 0, S, h)
    }
        ;
    t.scale.J = function (Y, S, h, q, H) {
        var I = h.clone();
        I.fb();
        var E = H.d
            , d = H.v
            , B = t.a.yP(S).H;
        t.a.J(B, I, B);
        var n = t.a.wO(B).lF(H)
            , g = n.x
            , z = n.y
            , p = g + n.d
            , C = z + n.v
            , T = ~~S.x
            , A = ~~S.y
            , i = ~~S.d
            , e = ~~S.v;
        for (var a = z; a < C; a++)
            for (var Z = g; Z < p; Z++) {
                var O = Z + .5
                    , c = a + .5
                    , s = h.R * O + h.Pb * c + h.TR - T
                    , x = h.O * O + h.RH * c + h.Un - A;
                if (0 <= s && 0 <= x && s < i && x < e)
                    q[a * E + Z] = Y[~~x * i + ~~s]
            }
    }
        ;
    t.scale.a0Q = function (Y, S, h, q, H) {
        var I = new Uint32Array(Y.buffer)
            , E = new Uint32Array(q.buffer)
            , d = h.clone();
        d.fb();
        var B = H.d
            , n = H.v
            , g = t.a.yP(S).H;
        t.a.J(g, d, g);
        var z = t.a.wO(g).lF(H)
            , p = z.x
            , C = z.y
            , T = p + z.d
            , A = C + z.v
            , i = ~~S.x
            , e = ~~S.y
            , a = ~~S.d
            , Z = ~~S.v;
        for (var O = C; O < A; O++)
            for (var c = p; c < T; c++) {
                var s = c + .5
                    , x = O + .5
                    , u = h.R * s + h.Pb * x + h.TR - i
                    , y = h.O * s + h.RH * x + h.Un - e;
                if (0 <= u && 0 <= y && u < a && y < Z)
                    E[O * B + c] = I[~~y * a + ~~u]
            }
    }
        ;
    t.scale.cw = function (Y, S, h, q, H, I, E) {
        if (E < 1)
            t.scale.anX(Y, S, h, q, H, I, Math.round(1 / E));
        else
            t.scale.aiD(Y, S, h, q, H, I, E)
    }
        ;
    t.scale.GY = function (Y, S, h, q, H, I, E, d) {
        if (d)
            d = d.lF(new W(0, 0, S, h));
        Y = new Uint32Array(Y.buffer);
        q = new Uint32Array(q.buffer);
        if (E < 1)
            t.scale.a2W(Y, S, h, q, H, I, Math.round(1 / E), d);
        else
            t.scale.ajT(Y, S, h, q, H, I, E)
    }
        ;
    t.scale.aiD = function (Y, S, h, q, H, I, E) {
        for (var d = 0; d < h; d++)
            for (var B = 0; B < S; B++) {
                var n = Y[d * S + B]
                    , g = Math.min(E, H - B * E)
                    , z = Math.min(E, I - d * E);
                for (var G = 0; G < z; G++)
                    for (var p = 0; p < g; p++)
                        q[(E * d + G) * H + E * B + p] = n
            }
    }
        ;
    t.scale.anX = function (Y, S, h, q, H, I, E) {
        for (var d = 0; d < I; d++)
            for (var B = 0; B < H; B++) {
                var n = 0
                    , g = Math.min(E, S - B * E)
                    , z = Math.min(E, h - d * E);
                for (var G = 0; G < z; G++)
                    for (var p = 0; p < g; p++)
                        n += Y[(E * d + G) * S + (E * B + p)];
                q[d * H + B] = Math.round(n / (g * z))
            }
    }
        ;
    t.scale.ajT = function (Y, S, h, q, H, I, E) {
        for (var d = 0; d < h; d++)
            for (var B = 0; B < S; B++) {
                var n = Y[d * S + B]
                    , g = Math.min(E, H - B * E)
                    , z = Math.min(E, I - d * E);
                for (var G = 0; G < z; G++)
                    for (var p = 0; p < g; p++)
                        q[(E * d + G) * H + E * B + p] = n
            }
    }
        ;
    t.scale.a2W = function (Y, S, h, q, H, I, E, d) {
        var B = 0
            , n = H
            , g = 0
            , z = I;
        if (d) {
            B = Math.floor(d.x / E);
            n = Math.ceil((d.x + d.d) / E);
            g = Math.floor(d.y / E);
            z = Math.ceil((d.y + d.v) / E)
        }
        for (var p = g; p < z; p++)
            for (var C = B; C < n; C++) {
                var T = 0
                    , A = 0
                    , i = 0
                    , e = 0
                    , a = Math.min(E, S - C * E)
                    , Z = Math.min(E, h - p * E);
                for (var G = 0; G < Z; G++)
                    for (var O = 0; O < a; O++) {
                        var c = Y[(E * p + G) * S + E * C + O]
                            , s = c >>> 24;
                        T += s;
                        A += s * (c >>> 16 & 255);
                        i += s * (c >>> 8 & 255);
                        e += s * (c & 255)
                    }
                if (T != 0) {
                    var x = 1 / T;
                    q[p * H + C] = T / (a * Z) << 24 | A * x << 16 | i * x << 8 | e * x
                } else
                    q[p * H + C] = 0
            }
    }
        ;
    t.N = {};
    t.N.a1U = function (Y, S, h) {
        var q = 128
            , G = 0
            , H = h.d
            , I = h.v;
        for (var E = 0; E < I; E++)
            for (var d = 0; d < H; d++) {
                if (Y[G] >= q && (d == 0 || Y[G - 1] < q || (d == H - 1 || Y[G + 1] < q) || (E == 0 || Y[G - H] < q) || (E == I - 1 || Y[G + H] < q)))
                    S[G] = 255;
                G++
            }
    }
        ;
    t.N.a1i = function (Y, S, h, q) {
        var H = new Uint32Array([4278190080, 4294967295])
            , I = h.d
            , E = h.v
            , d = 0
            , B = 0
            , n = I
            , g = E;
        if (q) {
            d = q.x - h.x;
            B = q.y - h.y;
            n = d + q.d;
            g = B + q.v
        }
        var z = new Uint8Array(S.buffer)
            , p = new Uint32Array(S.buffer);
        for (var C = B; C < g; C++)
            for (var T = d; T < n; T++) {
                var G = C * I + T;
                if ((Y[G] & 128) != 0 && (C == 0 || (Y[G - I] & 128) == 0 || T == 0 || (Y[G - 1] & 128) == 0 || T == I - 1 || (Y[G + 1] & 128) == 0 || C == E - 1 || (Y[G + I] & 128) == 0)) {
                    p[G] = H[(T + C & 4) >>> 2]
                }
            }
    }
        ;
    t.N.a93 = function (Y, S, h, q, H, I) {
        var E = h.d
            , d = h.v
            , B = 0
            , n = 0
            , g = E
            , z = d;
        if (q) {
            B = q.x - h.x;
            n = q.y - h.y;
            g = B + q.d;
            z = n + q.v
        }
        var p = new Uint8Array(S.buffer)
            , C = new Uint32Array(S.buffer);
        for (var T = n; T < z; T++)
            for (var A = B; A < g; A++) {
                var G = T * E + A
                    , i = Y[G];
                if (H == 1)
                    C[G] = 255 - i >>> 1 << 24 | 255;
                else
                    C[G] = 255 << 24 | (i << 16 | i << 8 | i)
            }
    }
        ;
    t.bZ = {};
    t.bZ.mB = function (Y, S, h) {
        var q, H;
        if (h == "front") {
            q = Y.rect.clone();
            H = t.bZ.a7b
        }
        if (h == "union") {
            q = Y.rect.TG(S.rect);
            H = t.bZ.TG
        }
        if (h == "difference") {
            q = S.rect.clone();
            H = t.bZ.a7s
        }
        if (h == "intersection") {
            q = Y.rect.lF(S.rect);
            H = t.bZ.lF
        }
        if (h == "xor") {
            q = Y.rect.TG(S.rect);
            H = t.bZ.a2K
        }
        if (q.fa())
            return null;
        var I = t.m(q.e());
        t.m7(S.channel, S.rect, I, q);
        var E = t.m(q.e());
        t.m7(Y.channel, Y.rect, E, q);
        H(E, I, I);
        var d = t.o9(I, q);
        if (d.fa())
            return null;
        if (!d.ma(q)) {
            var B = t.m(d.e());
            t.m7(I, q, B, d);
            I = B;
            q = d
        }
        return {
            channel: I,
            rect: q
        }
    }
        ;
    t.bZ.a7b = function (Y, S, h) {
        for (var G = 0; G < Y.length; G++)
            h[G] = Y[G]
    }
        ;
    t.bZ.TG = function (Y, S, h) {
        for (var G = 0; G < Y.length; G++)
            h[G] = Math.min(Y[G] + S[G], 255)
    }
        ;
    t.bZ.a7s = function (Y, S, h) {
        for (var G = 0; G < Y.length; G++)
            h[G] = Math.max(S[G] - Y[G], 0)
    }
        ;
    t.bZ.lF = function (Y, S, h) {
        var q = 1 / 255;
        for (var G = 0; G < Y.length; G++)
            h[G] = Y[G] * S[G] * q
    }
        ;
    t.bZ.a2K = function (Y, S, h) {
        var q = 1 / 255;
        for (var G = 0; G < Y.length; G++)
            h[G] = Math.min(Y[G] + S[G], 255) - Y[G] * S[G] * q
    }
        ;
    t.S8 = function (Y, S) {
        this.U = [];
        this.yO = [0];
        this.gI = [];
        this.lf = [];
        this.f1 = [0];
        this.Cv = [];
        this.wm = [];
        this.rows = Y;
        this.cols = S
    }
        ;
    t.S8.prototype.clone = function () {
        var Y = this
            , S = Y.rows
            , h = Y.cols
            , q = new t.S8(S, h);
        q.U = Y.U.slice(0);
        q.yO = Y.yO.slice(0);
        q.gI = Y.gI.slice(0);
        q.lf = Y.lf.slice(0);
        q.f1 = Y.f1.slice(0);
        q.Cv = Y.Cv.slice(0);
        q.wm = Y.wm.slice(0);
        return q
    }
        ;
    t.S8.prototype.Fr = function (Y, S, h) {
        var q = this.yO.length - 1;
        for (var G = 0; G < h; G++) {
            var H = Y[G]
                , I = S[G];
            this.U.push(H);
            this.gI.push(I);
            if (I == q) {
                this.wm.push(H == 0 ? 0 : 1 / H)
            } else {
                this.lf.push(H);
                this.Cv.push(I)
            }
        }
        this.yO.push(this.U.length);
        this.f1.push(this.lf.length)
    }
        ;
    t.S8.prototype.Ou = function (Y, S) {
        var h = this
            , q = h.rows
            , H = h.U
            , I = h.gI;
        if (S == null)
            S = new Array(q);
        for (var G = 0; G < q; G++) {
            var E = h.yO[G]
                , d = h.yO[G + 1]
                , B = 0;
            while ((d - E & 3) != 0) {
                B += H[E] * Y[I[E]];
                E++
            }
            for (var n = E; n < d; n += 4)
                B += H[n] * Y[I[n]] + H[n + 1] * Y[I[n + 1]] + H[n + 2] * Y[I[n + 2]] + H[n + 3] * Y[I[n + 3]];
            S[G] = B
        }
        return S
    }
        ;
    t.S8.prototype.multiply = function (Y) {
        return this.lk(Y.N6())
    }
        ;
    t.S8.prototype.lk = function (Y) {
        var S = this
            , h = S.rows
            , q = S.cols
            , H = Y.rows
            , I = new t.S8(h, H)
            , E = S.gI
            , d = Y.gI;
        for (var G = 0; G < h; G++) {
            var B = []
                , n = []
                , g = S.yO[G]
                , z = S.yO[G + 1];
            for (var p = 0; p < H; p++) {
                var C = Y.yO[p]
                    , T = Y.yO[p + 1]
                    , A = 0
                    , i = g
                    , e = C;
                while (i < z && e < T) {
                    var a = Math.max(E[i], d[e]);
                    while (i < z && E[i] < a)
                        i++;
                    while (e < T && d[e] < a)
                        e++;
                    if (i < z && e < T && E[i] == d[e])
                        A += S.U[i++] * Y.U[e++]
                }
                if (A != 0) {
                    B.push(A);
                    n.push(p)
                }
            }
            I.Fr(B, n, B.length)
        }
        return I
    }
        ;
    t.S8.prototype.N6 = function () {
        var Y = this.rows
            , S = this.cols
            , h = [];
        for (var G = 0; G < S; G++)
            h.push([[], []]);
        var q = this.U
            , H = this.yO
            , I = this.gI;
        for (var G = 0; G < Y; G++) {
            var E = H[G]
                , d = H[G + 1];
            for (var B = E; B < d; B++) {
                var n = h[I[B]];
                n[0].push(q[B]);
                n[1].push(G)
            }
        }
        var g = new t.S8(S, Y);
        for (var G = 0; G < S; G++)
            g.Fr(h[G][0], h[G][1], h[G][1].length);
        return g
    }
        ;
    t.S8.prototype.p2 = function () {
        var Y = this.rows
            , S = this.cols
            , h = new Array(Y)
            , q = this.U
            , H = this.yO
            , I = this.gI;
        for (var G = 0; G < Y; G++) {
            var E = h[G] = new Array(S);
            for (var d = 0; d < S; d++)
                E[d] = 0;
            var B = H[G]
                , n = H[G + 1];
            for (var g = B; g < n; g++)
                E[I[g]] = q[g]
        }
        return h
    }
        ;
    t.S8.prototype.fq = function (Y, S, h, q, H) {
        function I(x, S, u, y) {
            var j = x.length;
            for (var G = 0; G < j; G++)
                y[G] = x[G] - S[G] * u
        }
        function E(x, S, u, y) {
            var j = x.length
                , v = 0;
            while ((j - v & 3) != 0) {
                y[v] = x[v] + S[v] * u;
                v++
            }
            for (var G = v; G < j; G += 4) {
                y[G] = x[G] + S[G] * u;
                y[G + 1] = x[G + 1] + S[G + 1] * u;
                y[G + 2] = x[G + 2] + S[G + 2] * u;
                y[G + 3] = x[G + 3] + S[G + 3] * u
            }
        }
        function d(x, S, u) {
            var y = x.length;
            for (var G = 0; G < y; G++)
                u[G] = x[G] * S[G]
        }
        function B(x, S) {
            var u = x.length
                , y = 0
                , j = 0;
            while ((u - y & 3) != 0) {
                j += x[y] * S[y];
                y++
            }
            for (var G = y; G < u; G += 4)
                j += x[G] * S[G] + x[G + 1] * S[G + 1] + x[G + 2] * S[G + 2] + x[G + 3] * S[G + 3];
            return j
        }
        var n = q != null ? 2 : 1
            , g = Date.now()
            , z = 0
            , p = this
            , C = Y.slice(0)
            , T = Y.slice(0);
        p.Ou(Y, T);
        I(S, T, 1, C);
        var A = this.wm;
        if (n == 0) {
            A = C.slice(0);
            A.fill(1)
        }
        var i = C.slice(0);
        d(A, C, i);
        var e = i.slice(0)
            , a = B(C, i);
        while (!0) {
            p.Ou(e, T);
            var Z = a / B(e, T);
            E(Y, e, Z, Y);
            I(C, T, Z, C);
            if ((z & 7) == 0 && Math.sqrt(B(C, C)) < h)
                break;
            if (n <= 1)
                d(A, C, i);
            else {
                var O = C.slice(0);
                q.aeP(O, C);
                H.acY(i, O)
            }
            var c = B(C, i)
                , s = c / a;
            E(i, e, s, e);
            a = c;
            z++
        }
    }
        ;
    t.S8.prototype.aa_ = function (Y, S, h, q) {
        var H = Date.now()
            , I = 1.96
            , d = 0;
        if (h == null)
            h = 5e-6;
        if (q == null)
            q = 1e9;
        var E = 1 - I
            , D = this.rows
            , B = this.lf
            , n = this.f1
            , g = this.Cv
            , z = this.wm;
        while (!0) {
            var p = 0;
            for (var G = 0; G < D; G++) {
                var C = S[G]
                    , T = n[G]
                    , A = n[G + 1];
                if (A - T == 4)
                    C -= B[T] * Y[g[T]] + B[T + 1] * Y[g[T + 1]] + B[T + 2] * Y[g[T + 2]] + B[T + 3] * Y[g[T + 3]];
                else
                    for (var i = T; i < A; i++)
                        C -= B[i] * Y[g[i]];
                var e = Y[G] * E + z[G] * C * I
                    , a = e - Y[G];
                p += a * a;
                Y[G] = e
            }
            if (p / D < h || Date.now() > H + q)
                break
        }
    }
        ;
    t.S8.prototype.a95 = function (Y, S, h, q) {
        var H = Date.now()
            , I = 1.96
            , d = 0;
        if (h == null)
            h = 5e-5;
        if (q == null)
            q = 1e9;
        var E = 1 - I
            , D = this.rows
            , B = this.lf
            , n = this.f1
            , g = this.Cv
            , z = this.wm;
        while (!0) {
            var p = 0;
            for (var G = 0; G < D; G++) {
                var C = G * 3
                    , T = S[C]
                    , A = S[C + 1]
                    , i = S[C + 2]
                    , e = n[G]
                    , a = n[G + 1];
                for (var Z = e; Z < a; Z++) {
                    var O = B[Z]
                        , c = g[Z] * 3;
                    T -= O * Y[c + 0];
                    A -= O * Y[c + 1];
                    i -= O * Y[c + 2]
                }
                var s = z[G] * I
                    , x = Y[C + 0] * E + T * s
                    , u = Y[C + 1] * E + A * s
                    , y = Y[C + 2] * E + i * s
                    , j = x - Y[C + 0]
                    , v = u - Y[C + 1]
                    , V = y - Y[C + 2];
                p += .4 * j * j + .5 * v * v + .1 * V * V;
                Y[C + 0] = x;
                Y[C + 1] = u;
                Y[C + 2] = y
            }
            if (p / D < h || Date.now() > H + q)
                break
        }
    }
        ;
    t.hn = {};
    t.hn.oR = function (Y, S, h) {
        return {
            t: "Objc",
            v: {
                classID: "CrPt",
                Hrzn: {
                    t: "doub",
                    v: Y
                },
                Vrtc: {
                    t: "doub",
                    v: S
                },
                Cnty: {
                    t: "bool",
                    v: h
                }
            }
        }
    }
        ;
    t.hn.J = function (Y, S) {
        for (var G = 0; G < Y.length; G++) {
            var h = Y[G].v
                , q = S.I_(new aV(h.Hrzn.v, h.Vrtc.v));
            h.Hrzn.v = Math.round(q.x);
            h.Vrtc.v = Math.round(q.y)
        }
    }
        ;
    t.hn.EU = function (Y, S, h) {
        var D = Y.length - 1
            , q = t.cu.e7(D + 1, D + 2);
        for (var G = 1; G < D; G++) {
            q[G][G - 1] = 1 / (Y[G] - Y[G - 1]);
            q[G][G] = 2 * (1 / (Y[G] - Y[G - 1]) + 1 / (Y[G + 1] - Y[G]));
            q[G][G + 1] = 1 / (Y[G + 1] - Y[G]);
            q[G][D + 1] = 3 * ((S[G] - S[G - 1]) / ((Y[G] - Y[G - 1]) * (Y[G] - Y[G - 1])) + (S[G + 1] - S[G]) / ((Y[G + 1] - Y[G]) * (Y[G + 1] - Y[G])))
        }
        q[0][0] = 2 / (Y[1] - Y[0]);
        q[0][1] = 1 / (Y[1] - Y[0]);
        q[0][D + 1] = 3 * (S[1] - S[0]) / ((Y[1] - Y[0]) * (Y[1] - Y[0]));
        q[D][D - 1] = 1 / (Y[D] - Y[D - 1]);
        q[D][D] = 2 / (Y[D] - Y[D - 1]);
        q[D][D + 1] = 3 * (S[D] - S[D - 1]) / ((Y[D] - Y[D - 1]) * (Y[D] - Y[D - 1]));
        t.cu.kN(q, h)
    }
        ;
    t.hn.al9 = function (Y, S, h, q) {
        if (Y <= S[0])
            return h[0];
        if (Y >= S[S.length - 1])
            return h[S.length - 1];
        var G = 1;
        while (S[G] < Y)
            G++;
        var H = S[G]
            , I = S[G - 1]
            , E = h[G]
            , d = h[G - 1]
            , B = (Y - I) / (H - I)
            , n = q[G - 1] * (H - I) - (E - d)
            , g = -q[G] * (H - I) + (E - d)
            , z = (1 - B) * d + B * E + B * (1 - B) * (n * (1 - B) + g * B);
        return z
    }
        ;
    t.hn.RB = function (Y, S, h, q) {
        var H = {
            AW: [Y[0]],
            Qy: [S[0]],
            QV: []
        };
        q[0] = H;
        for (var G = 1; G < Y.length - 1; G++) {
            H.AW.push(Y[G]);
            H.Qy.push(S[G]);
            if (h[G] == !1) {
                t.hn.EU(H.AW, H.Qy, H.QV);
                H = {
                    AW: [Y[G]],
                    Qy: [S[G]],
                    QV: []
                }
            }
            q[G] = H
        }
        H.AW.push(Y[G]);
        H.Qy.push(S[G]);
        t.hn.EU(H.AW, H.Qy, H.QV);
        q[G] = H
    }
        ;
    t.hn.OE = function (Y, S, h, q) {
        if (Y <= S[0])
            return h[0];
        if (Y >= S[S.length - 1])
            return h[S.length - 1];
        var G = 1;
        while (S[G] < Y)
            G++;
        var H = q[G - 1];
        return t.hn.al9(Y, H.AW, H.Qy, H.QV)
    }
        ;
    t.hn.wp = function (Y) {
        var S = {
            AW: [],
            Qy: [],
            Zo: []
        };
        for (var G = 0; G < Y.length; G++) {
            S.AW[G] = Y[G].v.Hrzn.v;
            S.Qy[G] = Y[G].v.Vrtc.v;
            S.Zo[G] = Y[G].v.Cnty ? Y[G].v.Cnty.v : !0
        }
        return S
    }
        ;
    t.hn.Ok = function (Y, D, S) {
        var h = 0
            , q = 255;
        if (S) {
            h = -1e9;
            q = 1e9
        }
        var H = t.hn.wp(Y)
            , I = [];
        t.hn.RB(H.AW, H.Qy, H.Zo, I);
        var E = [];
        for (var G = 0; G < D; G++)
            E[G] = 1 / 255 * Math.max(h, Math.min(q, t.hn.OE(G * (255 / (D - 1)), H.AW, H.Qy, I)));
        return E
    }
        ;
    t.hn.acQ = function (Y, D, S) {
        var h = Math.round(Y.length / 20)
            , q = D - Y.length
            , H = S ? (Y[h] - Y[0]) / h : 0
            , I = S ? Y[0] - q * H : Y[Y.length - 1]
            , E = [];
        for (var G = 0; G < q; G++)
            E.push(I + G * H);
        return S ? E.concat(Y) : Y.concat(E)
    }
        ;
    t.hn.fz = function (Y, D, S) {
        var h = t.hn.wp(Y)
            , q = [];
        t.hn.RB(h.AW, h.Qy, h.Zo, q);
        var H = new Uint8Array(D)
            , I = D / 256;
        for (var G = 0; G < D; G++)
            H[G] = Math.max(0, Math.min(D - 1, t.hn.OE(G * I, h.AW, h.Qy, q)));
        if (S) {
            H[0] = 0;
            if (H[1] > 100)
                H[1] = .4 * H[1];
            if (H[2] > 150)
                H[1] = .7 * H[2]
        }
        return H
    }
        ;
    t.hn.fi = function (Y, S) {
        var h = new Uint8Array(Y.length);
        for (var G = 0; G < Y.length; G++)
            h[G] = S[Y[G]];
        return h
    }
        ;
    t.hn.PG = function (Y, S, h) {
        var q = P.w("canvas", "");
        q.width = S;
        q.height = h;
        var H = q.getContext("2d")
            , I = t.hn.fz(Y, 256);
        H.scale(S / 255, h / 255);
        H.fillStyle = "#fff";
        H.fillRect(0, 0, 255, 255);
        H.fillStyle = "#333";
        H.beginPath();
        H.moveTo(0, 255);
        for (var G = 0; G < I.length; G++)
            H.lineTo(G, 255 - I[G]);
        H.lineTo(255, 255);
        H.closePath();
        H.fill();
        return q.toDataURL()
    }
        ;
    t.style = {};
    t.style.stroke = function (Y, S, h, q) {
        var H = h.d
            , I = h.v
            , E = new Float64Array(H * I);
        t.style.Xo(Y, E, H, I);
        t.style.kT(S, h, E, h, q)
    }
        ;
    t.style.kT = function (Y, S, h, q, H) {
        var I = S.lF(q)
            , E = I.d
            , d = I.v;
        H += .5;
        var B = I.x - S.x
            , n = I.y - S.y
            , g = S.d
            , z = I.x - q.x
            , p = I.y - q.y
            , C = q.d;
        for (var T = 0; T < d; T++) {
            var A = (T + p) * C + z
                , i = (T + n) * g + B;
            for (var e = 0; e < E; e++) {
                var a = Math.max(0, Math.min(1, H - h[A + e]));
                Y[i + e] = Math.round(a * 255)
            }
        }
    }
        ;
    t.style.ag4 = function (Y, S, h, q) {
        for (var H = 0; H < h; H++)
            for (var I = 0; I < S; I++) {
                var E = H * S + I
                    , d = 0
                    , B = 0
                    , n = Y[E];
                if (I == 0 || H == 0) {
                    d = Y[E + 1] - n;
                    B = Y[E + S] - n
                } else if (I == h - 1 || H == S - 1) {
                    d = n - Y[E - 1];
                    B = n - Y[E - S]
                } else {
                    d = Y[E + 1] - Y[E - 1];
                    B = Y[E + S] - Y[E - S]
                }
                if (d != 0 || B != 0) {
                    var g = 1 / Math.sqrt(d * d + B * B);
                    d *= g;
                    B *= g
                }
                q[E + E] = d;
                q[E + E + 1] = B
            }
    }
        ;
    t.style.Xo = function (Y, S, h, q) {
        var H = 0
            , I = h * q;
        for (var G = 0; G < I; G++)
            H |= Y[G];
        if (H == 0) {
            S.fill(1e9);
            return
        }
        var E = t.style.gS(Y, h, q);
        for (var d = 0; d < q; d++)
            for (var B = 0; B < h; B++) {
                var G = d * h + B
                    , n = E[G * 2]
                    , g = E[G * 2 + 1]
                    , z = (d + g) * h + B + n;
                if (n == 0 && g == 0) {
                    S[G] = 0;
                    continue
                }
                var p = Math.sqrt(n * n + g * g)
                    , C = Y[z] * (1 / 255)
                    , T = 1 / p
                    , A = Math.abs(n) * T
                    , i = Math.abs(g) * T;
                if (i > A) {
                    var e = i;
                    i = A;
                    A = e
                }
                S[G] = p + t.style.aga(A, i, C)
            }
    }
        ;
    t.style.aga = function (Y, S, h) {
        return (.5 - h) * Y
    }
        ;
    t.style.gS = function (Y, S, h, q) {
        if (q == null) {
            q = !0;
            for (var G = 0; G < Y.length; G++)
                q = q && (Y[G] == 0 || Y[G] == 255)
        }
        var H = new Int16Array(S * h * 2);
        if (q)
            t.style.a3o(Y, H, S, h);
        else
            t.style.anJ(Y, H, S, h);
        return H
    }
        ;
    t.style.anJ = function (Y, S, h, q) {
        var H = h * q;
        for (var G = 0; G < H; G++)
            if (Y[G] == 0) {
                S[G * 2] = 16383;
                S[G * 2 + 1] = 16383
            }
        for (var I = 1; I <= q - 1; I++) {
            var G = I * h;
            for (var E = 0; E <= h - 1; E++)
                t.style.Is(S, Y, h, G + E << 1, -1);
            for (var E = 1; E <= h - 1; E++)
                t.style.vw(S, Y, h, G + E << 1, -1);
            for (var E = h - 2; E >= 0; E--)
                t.style.vw(S, Y, h, G + E << 1, 1)
        }
        for (var I = q - 2; I >= 0; I--) {
            var G = I * h;
            for (var E = 0; E <= h - 1; E++)
                t.style.Is(S, Y, h, G + E << 1, 1);
            for (var E = 1; E <= h - 1; E++)
                t.style.vw(S, Y, h, G + E << 1, -1);
            for (var E = h - 2; E >= 0; E--)
                t.style.vw(S, Y, h, G + E << 1, 1)
        }
    }
        ;
    t.style.vw = function (Y, S, h, q, H) {
        var I = (q >>> 1) + H << 1
            , E = Y[q]
            , d = Y[q + 1]
            , B = Y[I] + H
            , n = Y[I + 1]
            , g = B * B + n * n
            , z = E * E + d * d;
        if (n != 16383 && (E == 16383 || Math.sqrt(g) + (.5 - S[(q >>> 1) + n * h + B] * (1 / 255)) < Math.sqrt(z) + (.5 - S[(q >>> 1) + d * h + E] * (1 / 255)))) {
            Y[q] = B;
            Y[q + 1] = n
        }
    }
        ;
    t.style.Is = function (Y, S, h, q, H) {
        var I = (q >>> 1) + H * h << 1
            , E = Y[q]
            , d = Y[q + 1]
            , B = Y[I]
            , n = Y[I + 1] + H
            , g = B * B + n * n
            , z = E * E + d * d;
        if (B != 16383 && (E == 16383 || Math.sqrt(g) + (.5 - S[(q >>> 1) + n * h + B] * (1 / 255)) < Math.sqrt(z) + (.5 - S[(q >>> 1) + d * h + E] * (1 / 255)))) {
            Y[q] = B;
            Y[q + 1] = n
        }
    }
        ;
    t.style.a3o = function (Y, S, h, q) {
        var H = h * q;
        for (var G = 0; G < H; G++)
            if (Y[G] == 0) {
                S[G * 2] = 16383;
                S[G * 2 + 1] = 16383
            }
        for (var I = 1; I <= q - 1; I++) {
            var G = I * h;
            for (var E = 0; E <= h - 1; E++)
                t.style.Ux(S, Y, h, G + E << 1, -1);
            for (var E = 1; E <= h - 1; E++)
                t.style.bP(S, Y, h, G + E << 1, -1);
            for (var E = h - 2; E >= 0; E--)
                t.style.bP(S, Y, h, G + E << 1, 1)
        }
        for (var I = q - 2; I >= 0; I--) {
            var G = I * h;
            for (var E = 0; E <= h - 1; E++)
                t.style.Ux(S, Y, h, G + E << 1, 1);
            for (var E = 1; E <= h - 1; E++)
                t.style.bP(S, Y, h, G + E << 1, -1);
            for (var E = h - 2; E >= 0; E--)
                t.style.bP(S, Y, h, G + E << 1, 1)
        }
    }
        ;
    t.style.bP = function (Y, S, h, q, H) {
        var I = (q >>> 1) + H << 1
            , E = Y[q]
            , d = Y[q + 1]
            , B = Y[I] + H
            , n = Y[I + 1]
            , g = B * B + n * n
            , z = E * E + d * d;
        if (n != 16383 && (E == 16383 || g < z)) {
            Y[q] = B;
            Y[q + 1] = n
        }
    }
        ;
    t.style.Ux = function (Y, S, h, q, H) {
        var I = (q >>> 1) + H * h << 1
            , E = Y[q]
            , d = Y[q + 1]
            , B = Y[I]
            , n = Y[I + 1] + H
            , g = B * B + n * n
            , z = E * E + d * d;
        if (B != 16383 && (E == 16383 || g < z)) {
            Y[q] = B;
            Y[q + 1] = n
        }
    }
        ;
    t.style.a1Y = function (Y, S, h, q, H) {
        var I = h * q
            , E = (h + q + 1) * 1.01;
        for (var G = 0; G < I; G++)
            if (Y[G] <= H)
                S[G] = E;
        for (var d = 1; d < h; d++)
            S[d] = Math.min(S[d], S[d - 1]);
        for (var B = 1; B < q; B++) {
            var G = B * h;
            S[G] = Math.min(S[G], Math.min(S[G - h] + 1, S[G - h + 1] + Math.SQRT2));
            for (var d = 1; d < h - 1; d++) {
                var n = S[++G]
                    , g = Math.min(S[G - 1] + 1, Math.min(S[G - h - 1] + Math.SQRT2, Math.min(S[G - h] + 1, S[G - h + 1] + Math.SQRT2)));
                if (g < n)
                    S[G] = g
            }
            G++;
            S[G] = Math.min(S[G], Math.min(S[G - 1] + 1, Math.min(S[G - h - 1] + Math.SQRT2, S[G - h] + 1)))
        }
        for (var d = h - 2; d >= 0; d--)
            S[d + I - h] = Math.min(S[d + I - h], S[d + I - h + 1]);
        for (var B = q - 2; B >= 0; B--) {
            var G = B * h + h - 1;
            S[G] = Math.min(S[G], Math.min(S[G + h] + 1, S[G + h - 1] + Math.SQRT2));
            for (var d = h - 2; d >= 1; d--) {
                var n = S[--G]
                    , g = Math.min(S[G + 1] + 1, Math.min(S[G + h - 1] + Math.SQRT2, Math.min(S[G + h] + 1, S[G + h + 1] + Math.SQRT2)));
                if (g < n)
                    S[G] = g
            }
            G--;
            S[G] = Math.min(S[G], Math.min(S[G + 1] + 1, Math.min(S[G + h] + 1, S[G + h + 1] + Math.SQRT2)))
        }
    }
        ;
    t.style.aog = function (Y, S, h, q, H) {
        var I = new Int32Array(h * q);
        t.style.ahG(Y, I, h, q, H);
        t.style.ag3(I, S, h, q)
    }
        ;
    t.style.ahG = function (Y, S, h, q, H) {
        var I = new Int32Array(q);
        for (var E = 0; E < h; E++) {
            var d = h + q;
            for (var B = q - 1; B >= 0; B--) {
                if (Y[B * h + E] > H)
                    d = 0;
                else
                    d++;
                I[B] = d
            }
            d = h + q;
            for (var B = 0; B < q; B++) {
                if (Y[B * h + E] > H)
                    d = 0;
                else
                    d++;
                S[B * h + E] = d < I[B] ? -d : I[B]
            }
        }
    }
        ;
    t.style.ag3 = function (Y, S, h, q) {
        var H = (h + q) * (h + q)
            , I = new Float64Array(h)
            , E = new Uint16Array(h);
        for (var d = 0; d < q; d++) {
            var B = d * h
                , n = 0;
            E[0] = 0;
            I[0] = -H;
            I[1] = +H;
            for (var g = 1; g < h; g++) {
                var z = Y[g + B] * Y[g + B] + g * g
                    , p = (z - (Y[E[n] + B] * Y[E[n] + B] + E[n] * E[n])) / (2 * g - 2 * E[n]);
                while (p <= I[n]) {
                    n--;
                    p = (z - (Y[E[n] + B] * Y[E[n] + B] + E[n] * E[n])) / (2 * g - 2 * E[n])
                }
                n++;
                E[n] = g;
                I[n] = p;
                I[n + 1] = H
            }
            n = 0;
            for (var g = 0; g < h; g++) {
                while (I[n + 1] < g)
                    n++;
                var C = E[n] - g
                    , T = Y[E[n] + B]
                    , G = d * h + g << 1;
                S[G] = C;
                S[G + 1] = T
            }
        }
    }
        ;
    t.style.vA = function (Y, S, h) {
        if (h)
            for (var G = 0; G < Y.length; G++) {
                var q = Y[G];
                if (q > 0)
                    Y[G] = Math.max(0, Math.min(255, q + S * 2 * (t.style.tK(G) - 128)))
            }
        else
            for (var G = 0; G < Y.length; G++) {
                var q = Y[G];
                if (q > 0)
                    Y[G] = Math.max(0, Math.min(255, q + Math.min(q * 3, S * 2 * (t.style.tK(G) - 128))))
            }
    }
        ;
    t.style.tK = function (Y) {
        Y = Y ^ 61 ^ Y >> 16;
        Y = Y + (Y << 3);
        Y = Y ^ Y >> 4;
        Y = Y * 668265261;
        Y = Y ^ Y >> 15;
        return Y & 255
    }
        ;
    t.Xg = {};
    t.Xg.du = function (Y, S, h) {
        var q = Y.canvas
            , H = P.M()
            , I = Math.floor;
        if (q.width != I(S * H) || q.height != I(h * H))
            P.ve(q, S, h, Y)
    }
        ;
    t.Xg.VE = function (Y, S, h, q, H, I) {
        t.Xg.du(Y, S, h);
        if (I == null)
            I = !1;
        var E = H.channel
            , d = H.rect
            , B = !H.isEnabled;
        S = Math.floor(S * P.M());
        h = Math.floor(h * P.M());
        if (S * h == 0)
            return;
        var n = Y.createImageData(S, h)
            , g = n.data
            , z = 1 / S
            , p = 1 / h;
        for (var G = 0; G < h; G++)
            for (var C = 0; C < S; C++) {
                var T = G * S + C
                    , A = T * 4
                    , i = Math.round(q.x + C * z * q.d)
                    , e = Math.round(q.y + G * p * q.v)
                    , a = 0;
                if (i < d.x || i >= d.x + d.d || e < d.y || e >= d.y + d.v)
                    a = H.color;
                else
                    a = E[(e - d.y) * d.d + (i - d.x)];
                a = 255 * (255 - H.G0) + a * H.G0 >>> 8;
                if (I)
                    a = 170 + Math.round(.4 * (a - 170));
                g[A] = a;
                g[A + 1] = a;
                g[A + 2] = a;
                g[A + 3] = 255
            }
        Y.putImageData(n, 0, 0);
        if (B)
            t.Xg.M9(Y, S, h)
    }
        ;
    t.Xg.agV = function (Y, S, h, q) {
        Y.fillStyle = "#eeeeee";
        Y.fillRect(.6 * S, .6 * h, S, h);
        Y.lineWidth = 1.5;
        var H = .65 * S
            , I = .95 * S
            , E = .65 * h
            , d = .95 * h
            , B = .75 * S
            , n = .85 * S
            , g = .75 * h
            , z = .85 * h;
        Y.beginPath();
        Y.moveTo(H, E);
        Y.lineTo(I, E);
        Y.lineTo(I, d);
        Y.lineTo(H, d);
        Y.lineTo(H, E);
        Y.moveTo(B, g);
        Y.lineTo(n, g);
        Y.lineTo(n, z);
        Y.lineTo(B, z);
        Y.lineTo(B, g);
        Y.closePath();
        Y.stroke()
    }
        ;
    t.Xg.vs = [];
    t.Xg.ajB = function (Y, S, h) {
        var q, H, I, E = P.M();
        S = Math.floor(E * S);
        h = Math.floor(E * h);
        q = Math.ceil(Math.max(S, h) * .35);
        H = S - q;
        I = h - q;
        var d = t.Xg.vs[q];
        if (d == null) {
            var B = P.w("canvas")
                , n = B.getContext("2d");
            B.width = B.height = q;
            n.fillStyle = "#eeeeee";
            n.fillRect(0, 0, q, q);
            n.lineWidth = 1;
            n.strokeRect(2.5, 2.5, q - 5, q - 5);
            var g = n.createImageData(3, 3);
            t.A5(g.data, 4278190080);
            g.data[4 * 4] = g.data[4 * 4 + 1] = g.data[4 * 4 + 2] = 238;
            n.putImageData(g, 1, 1);
            n.putImageData(g, q - 4, 1);
            n.putImageData(g, 1, q - 4);
            n.putImageData(g, q - 4, q - 4);
            d = t.Xg.vs[q] = n.getImageData(0, 0, q, q)
        }
        Y.putImageData(d, H, I)
    }
        ;
    t.Xg.a2x = function (Y, S, h, q, H) {
        t.Xg.du(Y, S, h);
        S = Math.floor(S * P.M());
        h = Math.floor(h * P.M());
        var I = S / q.d;
        if (S * h == 0)
            return;
        Y.fillStyle = "#999999";
        Y.setTransform(1, 0, 0, 1, 0, 0);
        Y.clearRect(0, 0, S, h);
        var E = t.Xg.XY;
        if (E == null) {
            E = t.Xg.XY = JSON.parse(JSON.stringify(ai.Ig.default));
            E.strokeEnabled.v = !0
        }
        E.strokeStyleLineWidth.v.val = 1 * P.M() / I;
        Y.fillStyle = "#ffffff";
        Y.scale(I, I);
        t.Y.t4(H.b, Y, 0, 0);
        t.Y.t4(H.b, Y, 0, 0, E)
    }
        ;
    t.Xg.nD = null;
    t.Xg.MV = function (Y, S, h, q, H, I, E, d) {
        t.Xg.du(Y, S, h);
        S = Math.floor(S * P.M());
        h = Math.floor(h * P.M());
        if (S * h == 0)
            return;
        var B = Math.max(S, h)
            , n = t.Xg.nD;
        if (n == null || n.width < B || n.height < B) {
            t.Xg.nD = n = Y.createImageData(B, B)
        }
        B = n.width;
        var g = n.data
            , z = q.d / S
            , p = q.v / h
            , C = 1 / 255
            , T = I.x
            , A = I.x + I.d
            , i = I.y
            , e = I.y + I.v;
        for (var G = 0; G < h; G++)
            for (var a = 0; a < S; a++) {
                var Z = G * B + a
                    , O = Z * 4
                    , c = ~~(q.x + a * z)
                    , s = ~~(q.y + G * p)
                    , x = t.iw(G, a, 2);
                if (c < T || c >= A || s < i || s >= e) {
                    g[O] = x;
                    g[O + 1] = x;
                    g[O + 2] = x;
                    g[O + 3] = 255
                } else {
                    var u = (s - I.y) * I.d + (c - I.x) << 2
                        , y = H[u + 3] * C;
                    g[O] = H[u + 0] * y + x * (1 - y);
                    g[O + 1] = H[u + 1] * y + x * (1 - y);
                    g[O + 2] = H[u + 2] * y + x * (1 - y);
                    g[O + 3] = 255
                }
            }
        if (d != null)
            for (var G = 0; G < g.length; G += 4)
                g[G] = g[G + 1] = g[G + 2] = g[G + d];
        Y.putImageData(n, 0, 0);
        if (E)
            t.Xg.M9(Y, S, h)
    }
        ;
    t.Xg.a71 = function (Y, S, h, q) {
        t.Xg.du(Y, S, h);
        Y.fillStyle = t.Xg.cd(q.Clr.v);
        Y.fillRect(0, 0, S, h);
        t.Xg.VA(Y, S, h)
    }
        ;
    t.Xg.NI = null;
    t.Xg.amt = function (Y, S, h, q) {
        t.Xg.du(Y, S, h);
        var H = Y.canvas.width
            , I = Y.canvas.height
            , E = t.Xg.NI;
        if (E == null || E.width != H || E.height != I) {
            Y.fillStyle = "#ffffff";
            Y.fillRect(0, 0, S, h);
            Y.fillStyle = "#000000";
            Y.font = "" + h * .7 + "px serif";
            Y.fillText("T", (S - h * .43) / 2, h * .75);
            Y.fillText("T", (S - h * .43) / 2, h * .75);
            t.Xg.NI = Y.getImageData(0, 0, H, I)
        } else
            Y.putImageData(E, 0, 0)
    }
        ;
    t.Xg.ajy = function (Y, S, h) {
        t.Xg.du(Y, S, h);
        Y.clearRect(0, 0, S, h);
        Y.font = h * .7 + "px serif";
        Y.fillText(":(", (S - h * .43) / 2, h * .7)
    }
        ;
    t.Xg.adQ = function (Y, S, h, q) {
        t.Xg.du(Y, S, h);
        var H = dD.get(q)
            , I = gx.get(dD.names[H]).substring(0, 3);
        Y.fillStyle = "#ffffff";
        Y.fillRect(0, 0, S, h);
        Y.fillStyle = "#000000";
        Y.font = h * .55 + "px sans-serif";
        var E = Y.measureText(I);
        Y.fillText(I, (S - E.width) / 2, h * .67);
        Y.fillRect(0, 0, S, h * .1);
        Y.fillRect(0, h * .9, S, h * .1)
    }
        ;
    t.Xg.ali = function (Y, S, h, q) {
        t.Xg.du(Y, S, h);
        var H = Y.canvas.width
            , I = Y.canvas.height
            , E = Y.getImageData(0, 0, H, I);
        t.W.XH(q.Grad.v, new Uint8Array(E.data.buffer), new W(0, 0, H, I), [1 / H, 0, 0, 1 / I], H / 2, I / 2, !1, 0, 16711680, 65280);
        Y.putImageData(E, 0, 0);
        t.Xg.VA(Y, S, h)
    }
        ;
    t.Xg.abN = function (Y, S, h, q, H) {
        t.Xg.du(Y, S, h);
        var I = Y
            , E = av._O(q.Ptrn.v, H.add.Patt);
        if (E == null)
            return;
        var d = E.ar[1];
        t.Xg.MV(Y, S, h, d, E.ar[0], d, !1);
        t.Xg.VA(I, S, h)
    }
        ;
    t.Xg.M9 = function (Y, S, h) {
        Y.strokeStyle = "#bb0000";
        Y.lineWidth = 3;
        Y.beginPath();
        Y.moveTo(S * .15, h * .15);
        Y.lineTo(S * .85, h * .85);
        Y.moveTo(S * .85, h * .15);
        Y.lineTo(S * .15, h * .85);
        Y.closePath();
        Y.stroke()
    }
        ;
    t.Xg.M9 = function (Y, S, h) {
        Y.strokeStyle = "#bb0000";
        Y.lineWidth = 3;
        Y.beginPath();
        Y.moveTo(S * .15, h * .15);
        Y.lineTo(S * .85, h * .85);
        Y.moveTo(S * .85, h * .15);
        Y.lineTo(S * .15, h * .85);
        Y.closePath();
        Y.stroke()
    }
        ;
    t.Xg.VA = function (Y, S, h) {
        Y.fillStyle = "#eeeeee";
        Y.fillRect(0, h * .75, S, h * .25);
        Y.beginPath();
        Y.moveTo(0, h * .75);
        Y.lineTo(S, h * .75);
        Y.moveTo(S * .1, h * .875);
        Y.lineTo(S * .9, h * .875);
        Y.moveTo(S * .65, h * .825);
        Y.lineTo(S * .65, h * .95);
        Y.closePath();
        Y.stroke()
    }
        ;
    t.Xg.cd = function (Y) {
        var S = t.W.cd(Y)
            , h = Math.round(S.h) << 16 | Math.round(S.l) << 8 | Math.round(S.O);
        return "#" + t.u9(h)
    }
        ;
    t.Y = {};
    t.Y.AD = function (Y, S, h) {
        var q = []
            , H = -1;
        for (var G = 0; G < Y.length; G++) {
            var I = Y[G];
            if ((I.type == 0 || I.type == 3) && I.Mg != -1)
                H++;
            if (I.type > 5 || I.type == 0 || I.type == 3)
                continue;
            if (S != null && S.indexOf(H) == -1)
                continue;
            if (h != null && h.indexOf(G) == -1)
                continue;
            q.push(I.c4.x);
            q.push(I.c4.y);
            q.push(I.D.x);
            q.push(I.D.y);
            q.push(I.TA.x);
            q.push(I.TA.y)
        }
        return q
    }
        ;
    t.Y.Np = function (Y, S, h, q) {
        var H = 0
            , I = -1;
        for (var G = 0; G < S.length; G++) {
            var E = S[G];
            if ((E.type == 0 || E.type == 3) && E.Mg != -1)
                I++;
            if (E.type > 5 || E.type == 0 || E.type == 3)
                continue;
            if (h != null && h.indexOf(I) == -1)
                continue;
            if (q != null && q.indexOf(G) == -1)
                continue;
            E.c4.bm(Y[H], Y[H + 1]);
            E.D.bm(Y[H + 2], Y[H + 3]);
            E.TA.bm(Y[H + 4], Y[H + 5]);
            H += 6
        }
    }
        ;
    t.Y.$M = function (Y, S, h, q) {
        var H = t.Y.AD(Y, h, q);
        t.a.J(H, S, H);
        t.Y.Np(H, Y, h, q)
    }
        ;
    t.Y.aiq = function (Y, S, h, q) {
        var H = t.Y.AD(Y, h, q);
        t.I.apply(S, H);
        t.Y.Np(H, Y, h, q)
    }
        ;
    t.Y.adB = function (Y, S, h, q) {
        if (h == null && q == null) {
            var H = t.Y.afC(Y, 40);
            for (var G = 0; G < H.length; G++)
                Y[G] = H[G]
        }
        var I = t.Y.AD(Y, h, q);
        t.FL.apply(S, I, t.a.Zu(I));
        t.Y.Np(I, Y, h, q)
    }
        ;
    t.Y.afC = function (Y, S) {
        var h = [];
        for (var G = 0; G < Y.length; G++) {
            var q = Y[G];
            if (q.type > 5) {
                h.push(JSON.parse(JSON.stringify(q)));
                continue
            }
            var H = t.Y.a03(Y, G + 1, q.length);
            H = t.a.dH(H, S);
            var I = t.Y.alL(H);
            G += q.length;
            q = JSON.parse(JSON.stringify(q));
            q.length = I.length;
            h.push(q);
            for (var E = 0; E < I.length; E++)
                h.push(I[E])
        }
        return h
    }
        ;
    t.Y.a03 = function (Y, S, h) {
        var q = {
            Z: ["M"],
            H: []
        }
            , H = Y[S]
            , I = Y[S + h - 1];
        q.H.push(H.D.x, H.D.y);
        for (var G = 1; G < h; G++) {
            var E = Y[S + G - 1]
                , d = Y[S + G];
            q.Z.push("C");
            q.H.push(E.TA.x, E.TA.y, d.c4.x, d.c4.y, d.D.x, d.D.y)
        }
        q.Z.push("C");
        q.H.push(I.TA.x, I.TA.y, H.c4.x, H.c4.y, H.D.x, H.D.y);
        return q
    }
        ;
    t.Y.alL = function (Y) {
        var S = []
            , h = Y.Z
            , q = Y.H
            , H = 0
            , D = q.length;
        S.push({
            type: 2,
            c4: new aV(q[D - 4], q[D - 3]),
            D: new aV(q[0], q[1]),
            TA: new aV(q[2], q[3])
        });
        for (var G = 0; G < h.length - 2; G++) {
            var I = G * 6 + 4;
            S.push({
                type: 2,
                c4: new aV(q[I], q[I + 1]),
                D: new aV(q[I + 2], q[I + 3]),
                TA: new aV(q[I + 4], q[I + 5])
            })
        }
        return S
    }
        ;
    t.Y.a97 = function (Y) {
        for (var G = 0; G < Y.length; G++) {
            if (Y[G].type > 5)
                continue;
            var S = Y[G].length;
            if (!(S == 4 || S == 6 || S == 8)) {
                G += S;
                continue
            }
            for (var h = 0; h < S; h++) {
                var q = Y[G + 1 + h]
                    , H = Y[G + 1 + (h + 1) % S]
                    , I = Math.min(q.D.x, H.D.x)
                    , E = Math.min(q.D.y, H.D.y)
                    , d = 0
                    , B = 0;
                if (q.D.x < H.D.x) {
                    d = q.D.y - E;
                    B = d - (H.D.x - I)
                } else {
                    d = H.D.y - E;
                    B = d - (q.D.x - I)
                }
                if (Math.abs(B) < .2 * d)
                    return d
            }
        }
        return -1
    }
        ;
    t.Y.c9 = function (Y, S) {
        var h = null
            , q = -1
            , H = !t.Y.z4(Y);
        for (var G = 0; G < Y.length; G++) {
            var I = Y[G];
            if (I.type > 5)
                continue;
            if ((I.type == 0 || I.type == 3) && I.Mg != -1)
                q++;
            if (S != null && S.indexOf(q) == -1)
                continue;
            if (G == Y.length - 1)
                break;
            var E = I.type == 3
                , d = I.length
                , B = I.Mg
                , n = t.Y.abQ(Y, G + 1, d, E);
            if (h == null)
                h = n;
            else if (H) {
                if (S != null || B == 0 || B == -1 || B == 2)
                    h = h.TG(n);
                else if (B == 1)
                    h = h;
                else if (B == 3) {
                    h = n;
                    H = !1
                }
            } else {
                if (S != null || B == 0 || B == -1 || B == 1)
                    h = h.TG(n);
                else if (B == 2)
                    h = h;
                else if (B == 3)
                    h = h.lF(n)
            }
            G += d
        }
        if (h == null || h.d < 0 || h.v < 0)
            h = new W(0, 0, 0, 0);
        return h
    }
        ;
    t.Y.amR = new Float64Array(4);
    t.Y.abQ = function (Y, G, S, h) {
        var q = t.Y.amR;
        q[0] = 1e30;
        q[1] = 1e30;
        q[2] = -1e30;
        q[3] = -1e30;
        var H = Y[G + S - 1];
        if (!h)
            t.Y.Vt(H.D.x, H.D.y, H.TA.x, H.TA.y, Y[G].c4.x, Y[G].c4.y, Y[G].D.x, Y[G].D.y, q);
        for (var I = G; I < G + S - 1; I++) {
            var E = Y[I]
                , d = Y[I + 1];
            t.Y.Vt(E.D.x, E.D.y, E.TA.x, E.TA.y, d.c4.x, d.c4.y, d.D.x, d.D.y, q)
        }
        return new W(q[0], q[1], q[2] - q[0], q[3] - q[1])
    }
        ;
    t.Y.Vt = function (Y, S, h, q, H, I, E, d, B) {
        if (Y == h && S == q && H == E && I == d) {
            B[0] = Math.min(B[0], Math.min(Y, E));
            B[1] = Math.min(B[1], Math.min(S, d));
            B[2] = Math.max(B[2], Math.max(Y, E));
            B[3] = Math.max(B[3], Math.max(S, d));
            return
        }
        var n = Y
            , g = S
            , z = Y
            , p = S
            , C = 40
            , T = 1 / (C - 1);
        for (var A = 0; A < C; A++) {
            var i = A * T
                , e = 1 - i
                , a = e * e * e
                , Z = 3 * e * e * i
                , O = 3 * e * i * i
                , c = i * i * i
                , s = a * Y + Z * h + O * H + c * E
                , x = a * S + Z * q + O * I + c * d;
            if (s < n)
                n = s;
            else if (s > z)
                z = s;
            if (x < g)
                g = x;
            else if (x > p)
                p = x
        }
        if (n < B[0])
            B[0] = n;
        if (g < B[1])
            B[1] = g;
        if (z > B[2])
            B[2] = z;
        if (p > B[3])
            B[3] = p
    }
        ;
    t.Y.B8 = function (Y, S) {
        var h = Y.length - 3
            , q = S % h
            , H = Math.floor(q);
        if (S < 0 || H >= h)
            return null;
        var I = Y[3 + H]
            , E = Y[3 + (H + 1) % h]
            , d = I.D
            , B = I.TA
            , n = E.c4
            , g = E.D
            , z = q - H
            , p = 1 - z
            , C = p * p * p * d.x + 3 * p * p * z * B.x + 3 * p * z * z * n.x + z * z * z * g.x
            , T = p * p * p * d.y + 3 * p * p * z * B.y + 3 * p * z * z * n.y + z * z * z * g.y;
        return new aV(C, T)
    }
        ;
    t.Y.iT = function (Y) {
        var S = 2
            , h = t.Y.Id(Y)
            , q = !1;
        for (var G = 2; G < Y.length; G++) {
            var H = Y[G].Mg;
            if (H != null) {
                if (H == 2 || H == 0 || H == 3)
                    q = !0
            }
        }
        if (q && Y.length < 15e3 && h > 1)
            Y = t.Y.ln(Y);
        var I = t.a.df(Y);
        return {
            adD: Typr.U.pathToSVG({
                crds: I.H,
                cmds: I.Z
            }, S),
            Cq: q ? 1 : 0
        }
    }
        ;
    t.Y.ln = function (Y) {
        t.Y.dg();
        var S, h = t.Y.M$(Y), q = [];
        for (var G = 0; G < h.length; G++) {
            var H = h[G][0]
                , I = h[G][1];
            if (Math.abs(H.area) < 1e-5)
                q.push(H);
            else if (S == null)
                S = H;
            else {
                S = S[I](H);
                S.remove()
            }
        }
        if (S == null)
            S = new paper.CompoundPath(q);
        else {
            if (S.segments)
                S = new paper.CompoundPath(S);
            for (var G = 0; G < q.length; G++) {
                S.addChild(q[G])
            }
        }
        var E = Y.slice(0, 2);
        E = E.concat(t.Y.nZ(S));
        if (E[2])
            E[2].Mg = 1;
        for (var G = 3; G < E.length; G++)
            if (E[G].Mg != null)
                E[G].Mg = -1;
        return E
    }
        ;
    t.Y.dg = function () {
        if (t.Y.amM == null) {
            var Y = P.w("canvas");
            paper.setup(Y);
            t.Y.amM = !0
        }
    }
        ;
    t.Y.afN = function (Y, S) {
        t.Y.dg();
        var h = []
            , q = t.Y.M$(Y)
            , H = new paper.Path.Rectangle(new paper.Rectangle(S.x, S.y, S.d, S.v));
        H.remove();
        H.fillColor = new paper.Color(1, 0, 0);
        for (var G = 0; G < q.length; G++) {
            if (H.intersects(q[G][0]) || H.contains(q[G][0].children[0].segments[0].point))
                h.push(G)
        }
        return h
    }
        ;
    t.Y.h4 = function (Y, S, h, q) {
        t.Y.dg();
        var H = h ? {
            curves: !0,
            tolerance: q
        } : null
            , I = new paper.Point(S.x, S.y)
            , E = t.Y.M$(Y);
        for (var G = E.length - 1; G >= 0; G--) {
            var d = E[G][0]
                , B = d.hitTest(I, H);
            if (B != null)
                return {
                    Y8: G,
                    Y5: h ? B.location.index : null
                }
        }
        return {
            Y8: -1
        }
    }
        ;
    t.Y.yd = function (Y, S, h) {
        var q = [[], [], []];
        for (var G = 0; G < Y.length; G++) {
            var H = Y[G];
            if (H.type > 5 || H.type == 0 || H.type == 3)
                continue;
            var I = h == null ? !0 : h.indexOf(G) != -1;
            if (S.uU(H.D))
                q[0].push(G);
            if (S.uU(H.c4) && I)
                q[1].push(G);
            if (S.uU(H.TA) && I)
                q[2].push(G)
        }
        return q
    }
        ;
    t.Y.a0d = function (Y, S, h) {
        var q = h.slice(0)
            , H = [null, null]
            , I = -1
            , d = null;
        for (var G = 2; G < Y.length; G++) {
            if ((Y[G].type == 0 || Y[G].type == 3) && Y[G].Mg != -1)
                I++;
            H[G] = h[I]
        }
        h = H;
        var E = Y.slice(0, 2);
        H = h.slice(0, 2);
        for (var G = 2; G < Y.length; G++) {
            if (Y[G].type == 0 || Y[G].type == 3) {
                d = Y[G];
                E.push(d);
                H.push(h[G])
            } else {
                if (S.indexOf(G) == -1) {
                    E.push(Y[G]);
                    H.push(h[G])
                } else {
                    d.length--;
                    t.tx.In(h, G)
                }
            }
        }
        for (var G = 2; G < E.length; G++) {
            var B = E[G];
            if (B.type != 0 && B.type != 3)
                continue;
            if (B.length == 0) {
                if (E[G + 1] && E[G + 1].Mg == -1) {
                    E[G + 1].Mg = B.Mg
                }
                H.splice(G, 1);
                E.splice(G, 1);
                G--
            }
        }
        for (var G = 0; G < q.length; G++)
            if (H.indexOf(q[G]) == -1) {
                q.splice(G, 1);
                G--
            }
        return E
    }
        ;
    t.Y.a0D = function (Y, S) {
        var h = Y.slice(0, 2)
            , q = -1;
        for (var G = 2; G < Y.length; G++) {
            if ((Y[G].type == 0 || Y[G].type == 3) && Y[G].Mg != -1)
                q++;
            if (S.indexOf(q) == -1)
                h.push(Y[G])
        }
        return h
    }
        ;
    t.Y.a1q = function (Y, S) {
        var h = Y.slice(0, 2)
            , q = -1;
        for (var G = 2; G < Y.length; G++) {
            if ((Y[G].type == 0 || Y[G].type == 3) && Y[G].Mg != -1)
                q++;
            if (S.indexOf(q) != -1)
                h.push(Y[G])
        }
        return h
    }
        ;
    t.Y.aop = function (Y) {
        var S = 0;
        for (var G = 0; G < Y.length; G++)
            if (Y[G].type == 0 || Y[G].type == 3)
                S = G;
        return Y[S]
    }
        ;
    t.Y.Id = function (Y) {
        var S = -1;
        for (var G = 0; G < Y.length; G++)
            if ((Y[G].type == 0 || Y[G].type == 3) && Y[G].Mg != -1)
                S++;
        return S + 1
    }
        ;
    t.Y.kV = function (Y, S, h) {
        var q = -1;
        for (var G = 0; G < Y.length; G++)
            if ((Y[G].type == 0 || Y[G].type == 3) && (h || Y[G].Mg != -1)) {
                q++;
                if (q == S)
                    return G
            }
        return -1
    }
        ;
    t.Y.l1 = function (Y, S, h) {
        var q = -1;
        for (var G = 0; G < Y.length; G++)
            if ((Y[G].type == 0 || Y[G].type == 3) && (h || Y[G].Mg != -1)) {
                if (G >= S)
                    return q;
                q++
            }
        return q
    }
        ;
    t.Y.fD = function (Y, S) {
        var h = -1
            , q = 0;
        for (var G = 0; G < Y.length; G++) {
            if ((Y[G].type == 0 || Y[G].type == 3) && Y[G].Mg != -1)
                h++;
            if (h == S)
                q++
        }
        return q
    }
        ;
    t.Y.ad9 = function (Y) {
        var S = 180;
        for (var G = 0; G < Y.length; G++) {
            if (Y[G].type != 0 && Y[G].type != 3)
                continue;
            var h = Y[G].length;
            if (h < 3)
                continue;
            for (var q = 0; q < h; q++) {
                var H = Y[G + 1 + (q - 1 + h) % h]
                    , I = Y[G + 1 + q]
                    , E = Y[G + 1 + (q + 1) % h]
                    , d = I.D
                    , B = I.c4.ma(d) ? H.TA : I.c4
                    , n = I.TA.ma(d) ? E.c4 : I.TA;
                if (d.ma(B) || d.ma(n))
                    continue;
                var g = B.x - d.x
                    , z = B.y - d.y
                    , p = n.x - d.x
                    , C = n.y - d.y
                    , B = Math.atan2(B.y - d.y, B.x - d.x) * 180 / Math.PI
                    , n = Math.atan2(n.y - d.y, n.x - d.x) * 180 / Math.PI
                    , T = Math.abs(n - B) % 360
                    , A = T > 180 ? 360 - T : T;
                if (A < S)
                    S = A
            }
        }
        return S * Math.PI / 180
    }
        ;
    t.Y.nZ = function (Y) {
        var S = Y.segments ? [Y] : Y.children
            , h = [];
        for (var G = 0; G < S.length; G++) {
            var q = S[G]
                , H = q.segments
                , I = q.closed ? 0 : 3
                , E = h.length
                , d = null;
            if (H.length <= 1)
                continue;
            h.push({
                type: I,
                length: H.length,
                Mg: 0,
                rq: 2
            });
            for (var B = 0; B < H.length; B++) {
                var n = H[B]
                    , g = new aV(n.handleIn.x, n.handleIn.y)
                    , z = new aV(n.handleOut.x, n.handleOut.y)
                    , p = new aV(n.point.x, n.point.y)
                    , C = {
                        type: I + 1,
                        c4: p.add(g),
                        D: p,
                        TA: p.add(z)
                    };
                if (d == null)
                    d = C;
                h.push(C);
                if (B + 1 == H.length && aV.kr(d.D, C.D) < 1e-5) {
                    h.pop();
                    h[E].length--;
                    d.c4 = C.c4;
                    if (I == 3)
                        for (var T = E; T < h.length; T++)
                            h[T].type -= 3
                }
            }
        }
        return h
    }
        ;
    t.Y.M$ = function (Y) {
        t.Y.dg();
        var S = [], h, q = new paper.Color(1, 0, 0);
        function H(C, d) {
            C.remove();
            C.closed = !d;
            C.fillRule = "evenodd"
        }
        for (var G = 0; G < Y.length; G++) {
            if (Y[G].type > 5)
                continue;
            var I = Y[G].length, E;
            if (G == Y.length - 1)
                break;
            var d = Y[G].type == 3;
            if (G == 2) {
                if (!t.Y.Tj(Y))
                    E = "subtract";
                else
                    E = "unite"
            } else {
                if (Y[G].Mg == 0)
                    E = "exclude";
                if (Y[G].Mg == 1)
                    E = "unite";
                if (Y[G].Mg == 2)
                    E = "subtract";
                if (Y[G].Mg == 3)
                    E = "intersect"
            }
            if (Y[G].Mg != -1) {
                h = new paper.CompoundPath;
                S.push([h, E]);
                h.fillRule = "evenodd";
                h.fillColor = q
            }
            var B = [];
            for (var n = 0; n < I; n++) {
                var g = Y[G + 1 + n]
                    , z = g.c4.KB(g.D)
                    , p = g.TA.KB(g.D);
                B.push([[g.D.x, g.D.y], [z.x, z.y], [p.x, p.y]])
            }
            var C = new paper.Path(B);
            H(C, d);
            h.addChild(C);
            G += I
        }
        return S
    }
        ;
    t.Y.YA = function (Y) {
        for (var G = 0; G < Y.length; G++) {
            var S = Y[G];
            if (S.D == null)
                continue;
            if (!S.D.ma(S.c4) || !S.D.ma(S.TA))
                return !1
        }
        return !0
    }
        ;
    t.Y.agx = function (Y) {
        if (Y.length <= 5)
            return 0;
        var S = 0
            , h = Y.length - 3 - 1;
        for (var G = 0; G < h; G++) {
            var q = Y[3 + G]
                , H = Y[3 + G + 1];
            if (q.type == 0 || H.type == 0)
                return 0;
            S += (H.D.x - q.D.x) * (q.D.y + H.D.y)
        }
        S += (Y[3].D.x - Y[3 + h].D.x) * (Y[3 + h].D.y + Y[3 + 1].D.y);
        return -S * .5
    }
        ;
    t.Y.z4 = function (Y) {
        var S = Y[2]
            , h = !1;
        if (Y.length == 2)
            h = Y[1].all == 0;
        else if (Y[1].all == 1) {
            if (S.Mg == 1 || S.Mg == 3)
                h = !0;
            else
                h = !1
        } else {
            if (S.Mg == 1 || S.Mg == 3 || S.Mg == 0)
                h = !0;
            else
                h = !1
        }
        return h
    }
        ;
    t.Y.Tj = function (Y) {
        var S = t.Y.z4(Y);
        for (var G = 3; G < Y.length; G++)
            if (Y[G].Mg == 3)
                S = !0;
        return S
    }
        ;
    t.Y.aow = 0;
    t.Y.U2 = 0;
    t.Y.akj = 0;
    t.Y.a8W = function (Y, S, h, q) {
        if (h.fa())
            return;
        var H = h.e()
            , Z = 16384;
        t.Y.aow += H;
        if (H > t.Y.U2) {
            t.Y.U2 = H
        }
        var I = h.d
            , E = h.v;
        if (q == null && t.Y.YA(Y)) {
            var d = !0;
            for (var G = 2; G < Y.length;)
                if (Y[G].length == 2)
                    G += 3;
                else {
                    d = !1;
                    break
                }
            if (d) {
                return
            }
            if (t.Y.rC(Y)) {
                S.fill(255);
                var B = t.Y.c9(Y);
                if (B.e() != H) {
                    var n = 1 - (B.x - h.x)
                        , g = 1 - (B.y - h.y)
                        , z = 1 - (h.x + h.d - (B.x + B.d))
                        , p = 1 - (h.x + h.v - (B.x + B.v))
                        , C = ~~(n * 255)
                        , T = ~~(z * 255)
                        , A = ~~(g * 255)
                        , i = ~~(p * 255);
                    S.fill(A, 0, I);
                    S[0] = ~~(n * g * 255);
                    S[I - 1] = ~~(z * g * 255);
                    for (var G = I; G < H; G += I) {
                        S[G] = C;
                        S[G + I - 1] = T
                    }
                    S.fill(i, (E - 1) * I, E * I);
                    S[H - I] = ~~(n * p * 255);
                    S[H - 1] = ~~(z * p * 255)
                }
                return
            }
        }
        var e = t.Eh
            , a = t.Eq
            , O = Math.ceil(I / Z)
            , c = Math.ceil(E / Z)
            , s = Math.ceil(I / O)
            , x = Math.ceil(E / c)
            , u = Date.now();
        for (var y = 0; y < c; y++)
            for (var j = 0; j < O; j++) {
                var v = j * s
                    , X = y * x
                    , N = s
                    , V = x;
                e.width = N;
                e.height = V;
                if (!t.Y.z4(Y))
                    a.fillRect(0, 0, N, V);
                t.Y.t4(Y, a, -h.x - v, -h.y - X, q);
                var $ = new Uint8Array(a.getImageData(0, 0, N, V).data.buffer);
                if (N == I && V == E)
                    t.Ft($, S, 3);
                else
                    t.qu($, new W(v, X, N, V), S, new W(0, 0, I, E))
            }
    }
        ;
    t.Y.t4 = function (Y, S, h, q, H) {
        if (H != null && H.fillEnabled.v) {
            var I = !1
                , E = !1
                , d = 0;
            for (var G = 0; G < Y.length; G++) {
                var B = Y[G].Mg;
                if (B != null)
                    d++;
                if (B == -1)
                    I = !0;
                if (B > 0)
                    E = !0
            }
            if (!I && d < 20)
                Y = t.Y.ln(Y)
        }
        for (var G = 0; G < Y.length; G++) {
            if (Y[G].type > 5)
                continue;
            var n = Y[G].length;
            if (n == 0)
                continue;
            if (G == Y.length - 1)
                break;
            var g = Y[G].type == 3
                , B = Y[G].Mg;
            if (B != -1 && H == null) {
                var z = ["xor", "source-over", "destination-out", "source-in"][B];
                S.globalCompositeOperation = z
            }
            if (Y[G].Mg != -1) {
                S.beginPath();
                if (H) {
                    var p = H.strokeStyleLineWidth.v.val
                        , C = H.strokeStyleLineAlignment.v.strokeStyleLineAlignment
                        , T = H.strokeStyleLineCapType.v.strokeStyleLineCapType
                        , A = H.strokeStyleLineJoinType.v.strokeStyleLineJoinType
                        , i = H.strokeStyleMiterLimit.v
                        , e = []
                        , a = H.strokeStyleLineDashSet.v;
                    for (var Z = 0; Z < a.length; Z++)
                        e.push(a[Z].v.val * p);
                    S.setLineDash(e);
                    S.lineCap = ["butt", "round", "square"][ai.Ig.Og.indexOf(T)];
                    S.lineJoin = ["miter", "round", "bevel"][ai.Ig.join.indexOf(A)];
                    S.lineWidth = ai.Ig.ZK.indexOf(C) == 1 ? p : p *= 2;
                    S.miterLimit = i
                }
            }
            t.Y.afJ(S, Y, G + 1, n, h, q, g);
            if (g) { } else
                S.closePath();
            if (Y[G + 1 + n] == null || Y[G + 1 + n].Mg != -1) {
                if (H)
                    S.stroke();
                else
                    S.fill("evenodd")
            }
            G += n
        }
    }
        ;
    t.Y.afJ = function (Y, S, G, h, q, H, I) {
        var E = S[G]
            , d = null;
        Y.moveTo(E.D.x + q, E.D.y + H);
        for (var B = G; B < G + h - 1; B++) {
            E = S[B];
            d = S[B + 1];
            Y.bezierCurveTo(E.TA.x + q, E.TA.y + H, d.c4.x + q, d.c4.y + H, d.D.x + q, d.D.y + H)
        }
        if (!I) {
            E = S[B];
            d = S[G];
            Y.bezierCurveTo(E.TA.x + q, E.TA.y + H, d.c4.x + q, d.c4.y + H, d.D.x + q, d.D.y + H)
        }
    }
        ;
    t.Y.O5 = function (Y, S, h) {
        var q = []
            , H = h ? 4 : 1
            , I = !1;
        if (S != null)
            for (var G = 0; G < S.length; G++)
                if (S[G] != 0) {
                    I = !0;
                    break
                }
        if (S != null && I) {
            var E = t.a.ahV(Y, S)
                , d = E.length / 6;
            for (var G = 0; G < d; G++) {
                var B = G * 6
                    , n = (G - 1 + d) % d * 6
                    , g = E[B]
                    , z = E[B + 1]
                    , p = E[B + 2]
                    , C = E[B + 3]
                    , T = E[n + 4]
                    , A = E[n + 5];
                q.push({
                    type: H,
                    c4: new aV(T, A),
                    D: new aV(g, z),
                    TA: new aV(p, C)
                })
            }
        } else {
            for (var G = 0; G < Y.length; G += 2) {
                var i = new aV(Y[G], Y[G + 1]);
                q.push({
                    type: H,
                    c4: i.clone(),
                    D: i.clone(),
                    TA: i.clone()
                })
            }
        }
        return q
    }
        ;
    t.Y.ym = function (Y, S) {
        t.Y.dg();
        var h = new paper.Path;
        h.remove();
        var q = Y.length - 1
            , H = Math.sqrt((Y[q - 1] - Y[0]) * (Y[q - 1] - Y[0]) + (Y[q] - Y[1]) * (Y[q] - Y[1])) < 3;
        h.closed = H;
        for (var G = 0; G < Y.length; G += 2)
            h.add(new paper.Point(Y[G], Y[G + 1]));
        h.simplify(S);
        var I = [{
            type: 6
        }, {
            type: 8,
            all: 0
        }];
        I = I.concat(t.Y.nZ(h));
        return I
    }
        ;
    t.Y.c8 = function (Y, S, h) {
        var q = Y[S].length
            , H = Y[S].type
            , I = 0
            , E = Y.slice(S + 1, S + 1 + q);
        for (var G = 0; G < q; G++) {
            var d = h[(G - 1 + q) % q]
                , B = h[(G + 1 + q) % q]
                , n = h[G];
            if (n != 0) {
                var g = E[(G - 1 + q) % q].D
                    , z = E[(G + 0 + q) % q].D
                    , p = E[(G + 1 + q) % q].D
                    , C = aV.kr(z, g)
                    , T = aV.kr(z, p)
                    , A = t.a.o6(g.x, g.y, z.x, z.y, p.x, p.y, n)[0]
                    , i = Math.min(A, d == 0 ? C : C / 2, B == 0 ? T : T / 2);
                n *= i / A;
                var e = t.a.CC(g.x, g.y, z.x, z.y, p.x, p.y, n)
                    , a = {
                        type: H + 1,
                        c4: new aV(e[2], e[3]),
                        D: new aV(e[2], e[3]),
                        TA: new aV(e[4], e[5])
                    }
                    , Z = {
                        type: H + 1,
                        c4: new aV(e[6], e[7]),
                        D: new aV(e[8], e[9]),
                        TA: new aV(e[8], e[9])
                    };
                Y.splice(S + I + 1, 1, a, Z);
                I++;
                Y[S].length++
            }
            I++
        }
    }
        ;
    t.Y.YA = function (Y) {
        for (var G = 0; G < Y.length; G++) {
            var S = Y[G]
                , h = S.type;
            if (h == 1 || h == 2 || h == 4 || h == 5)
                if (!S.D.ma(S.c4) || !S.D.ma(S.TA))
                    return !1
        }
        return !0
    }
        ;
    t.Y.rC = function (Y) {
        if (Y.length != 7 || !t.Y.YA(Y))
            return !1;
        for (var G = 0; G < 4; G++) {
            var S = !0;
            for (var h = 0; h < 4; h++) {
                var q = Y[3 + (G + h & 3)]
                    , H = Y[3 + (G + h + 1 & 3)];
                if (q.D.x != H.D.x && q.D.y != H.D.y)
                    S = !1
            }
            if (S)
                return !0
        }
        return !1
    }
        ;
    t.Y.jZ = {};
    t.Y.jZ.BB = function (Y, S, h) {
        var q = [{
            type: 6
        }, {
            type: 8,
            all: 0
        }]
            , H = null;
        q.push({
            type: h ? 3 : 0,
            Mg: 1,
            length: 0,
            LW: 0,
            xx: 0,
            rq: 1
        });
        if (S == 0)
            H == null;
        else if (S instanceof Array)
            H = S;
        else {
            H = [];
            for (var G = 0; G < Y.length; G += 2)
                H.push(S)
        }
        q = q.concat(t.Y.O5(Y, H, h));
        q[2].length = q.length - 3;
        return q
    }
        ;
    t.Y.jZ.acq = function (Y, S, h, q, H) {
        var I = []
            , E = []
            , d = .553
            , B = 1
            , n = -1;
        I.push({
            type: 1,
            c4: new aV(0, d),
            D: new aV(0, 0),
            TA: new aV(0, -d)
        });
        H += 2;
        for (var G = 0; G < H; G++) {
            var g = {
                type: 1
            };
            if (G == 0) {
                g.D = new aV(1, -1);
                g.c4 = new aV(1 - d, -1);
                g.TA = new aV(1 + d, -1)
            } else {
                var z = -(G + 2) * Math.PI / 2
                    , p = 1 + ((G & 1) == 1 ? G - 1 : G)
                    , C = Math.sin(z)
                    , T = Math.cos(z);
                B += p * (C - T);
                n += p * (T + C);
                g.D = new aV(B, n);
                g.c4 = new aV(B + p * T * d, n - p * C * d);
                if ((G & 1) == 1)
                    p += 2;
                g.TA = new aV(B - p * T * d, n + p * C * d)
            }
            var A = {
                type: 1,
                c4: new aV(-g.TA.x, -g.TA.y),
                D: new aV(-g.D.x, -g.D.y),
                TA: new aV(-g.c4.x, -g.c4.y)
            };
            I.push(g);
            if (G < H - 2)
                E.push(A)
        }
        E.reverse();
        I = I.concat(E);
        var i = [{
            type: 6
        }, {
            type: 8,
            all: 0
        }];
        i.push({
            type: 0,
            Mg: 1,
            length: I.length,
            LW: 0,
            xx: 0,
            rq: 1
        });
        i = i.concat(I);
        var e = new d5(h / H, 0, 0, h / H, 0, 0);
        e.rotate(q);
        e.translate(Y, S);
        t.Y.$M(i, e);
        return i
    }
        ;
    t.Y.jZ.Rect = function (Y, S, h, q, H) {
        var I = [Y, S, Y + h, S, Y + h, S + q, Y, S + q];
        return t.Y.jZ.BB(I, H)
    }
        ;
    t.Y.jZ.as = function (Y, S, h, q, H, I) {
        var E = []
            , d = 2 * Math.PI / H;
        for (var G = 0; G < H; G++)
            E.push(Math.cos(G * d), Math.sin(G * d));
        var B = new d5(h, 0, 0, h, 0, 0);
        B.rotate(q);
        B.translate(Y, S);
        t.a.J(E, B, E);
        return t.Y.jZ.BB(E, I)
    }
        ;
    t.Y.jZ.abc = function (Y, S, h, q, H, I, E) {
        var d = []
            , B = Math.PI / H;
        for (var G = 0; G < H * 2; G++) {
            var n = (G & 1) == 0 ? 1 : E;
            d.push(n * Math.cos(G * B), n * Math.sin(G * B))
        }
        var g = new d5(h, 0, 0, h, 0, 0);
        g.rotate(q);
        g.translate(Y, S);
        t.a.J(d, g, d);
        return t.Y.jZ.BB(d, I)
    }
        ;
    t.Y.jZ.lD = function (Y, S, h, q, H) {
        return t.Y.jZ.SA(0, Y, S, h, q, H)
    }
        ;
    t.Y.jZ.ac8 = function (Y, S, h, q, H, I) {
        return t.Y.jZ.SA(1, Y, S, h, q, H, I)
    }
        ;
    t.Y.jZ.SA = function (Y, S, h, q, H, I, E) {
        var d = Math.sqrt((q - S) * (q - S) + (H - h) * (H - h)), B;
        I /= 2;
        if (Y == 0)
            B = [-I, 0, I, 0, I, d, -I, d];
        else {
            var n = I * 2 * E * 1.3 / 1.5
                , g = I * E;
            B = [-I, 0, I, 0, I, d - n, g, d - n, 0, d, -g, d - n, -I, d - n]
        }
        var z = new d5(1, 0, 0, 1, 0, 0);
        z.rotate(Math.atan2(-H + h, q - S) + Math.PI / 2);
        z.translate(S, h);
        t.a.J(B, z, B);
        return t.Y.jZ.BB(B, 0)
    }
        ;
    t.Y.jZ.Xu = function (Y, S, h, q) {
        var H = [{
            type: 6
        }, {
            type: 8,
            all: 0
        }]
            , z = .553;
        H.push({
            type: 0,
            Mg: 1,
            length: 4,
            LW: 0,
            xx: 0,
            rq: 1
        });
        var I = Y
            , E = S
            , d = Y + h
            , B = S + q
            , Y = (I + d) / 2
            , S = (E + B) / 2
            , n = (I - d) / 2
            , g = (E - B) / 2;
        H.push({
            type: 1,
            c4: new aV(Y - z * n, S - g),
            D: new aV(Y, S - g),
            TA: new aV(Y + z * n, S - g)
        });
        H.push({
            type: 1,
            c4: new aV(Y + n, S - z * g),
            D: new aV(Y + n, S),
            TA: new aV(Y + n, S + z * g)
        });
        H.push({
            type: 1,
            c4: new aV(Y + z * n, S + g),
            D: new aV(Y, S + g),
            TA: new aV(Y - z * n, S + g)
        });
        H.push({
            type: 1,
            c4: new aV(Y - n, S + z * g),
            D: new aV(Y - n, S),
            TA: new aV(Y - n, S - z * g)
        });
        return H
    }
        ;
    t.Y.jZ.amj = function (Y, S, h, q, H) {
        var I = [{
            type: 6
        }, {
            type: 8,
            all: 0
        }];
        I.push({
            type: 3,
            Mg: 1,
            length: 5,
            LW: 0,
            xx: 0,
            rq: 1
        });
        var E = (H - q) / 4;
        for (var G = 0; G < 5; G++) {
            var d = G * E
                , B = Math.cos(d)
                , n = Math.sin(d)
                , g = .553 * (E / (Math.PI / 2))
                , z = n * g
                , p = -B * g
                , C = new aV(B, n);
            I.push({
                type: 4,
                c4: G == 0 ? C.clone() : new aV(B + z, n + p),
                D: C,
                TA: G == 4 ? C.clone() : new aV(B - z, n - p)
            })
        }
        var T = new d5;
        T.rotate(-q);
        T.scale(h, h);
        T.translate(Y, S);
        t.Y.$M(I, T);
        return I
    }
        ;
    t.P8 = {};
    t.P8.type = {
        warpNone: [22, 5, 0],
        warpCustom: [22, 5, 16],
        warpArc: [22, 5, 1],
        warpArcLower: [22, 5, 2],
        warpArcUpper: [22, 5, 3],
        warpArch: [22, 5, 4],
        warpBulge: [22, 5, 5],
        warpShellLower: [22, 5, 6],
        warpShellUpper: [22, 5, 7],
        warpFlag: [22, 5, 8],
        warpWave: [22, 5, 9],
        warpFish: [22, 5, 10],
        warpRise: [22, 5, 11],
        warpFisheye: [22, 5, 12],
        warpInflate: [22, 5, 13],
        warpSqueeze: [22, 5, 14],
        warpTwist: [22, 5, 15]
    };
    t.P8.Oq = function (Y) {
        var S = Y.warpStyle.v.warpStyle;
        if (S == "warpNone")
            return !0;
        else if (S == "warpCustom") {
            var h = !1
                , q = Y.customEnvelopeWarp.v.meshPoints.v.arr
                , H = q[0].arr
                , I = q[1].arr;
            for (var G = 0; G < 4; G++)
                for (var E = 0; E < 4; E++) {
                    if (Math.abs(H[G] - H[E * 4 + G]) > 1 || Math.abs(I[G * 4] - I[G * 4 + E]) > 1)
                        h = !0
                }
            return !h
        } else
            return Y.warpValue.v == 0 && Y.warpPerspective.v == 0 && Y.warpPerspectiveOther.v == 0
    }
        ;
    t.P8.m = function (Y) {
        var S = {
            classID: "warp",
            warpStyle: {
                t: "enum",
                v: {
                    warpStyle: "warpNone"
                }
            },
            warpValue: {
                t: "doub",
                v: 0
            },
            warpPerspective: {
                t: "doub",
                v: 0
            },
            warpPerspectiveOther: {
                t: "doub",
                v: 0
            },
            warpRotate: {
                t: "enum",
                v: {
                    Ornt: "Hrzn"
                }
            }
        };
        if (Y) {
            S.bounds = {
                t: "Objc",
                v: {
                    classID: "Rctn",
                    Top: {
                        t: "UntF",
                        v: {
                            type: "#Pxl",
                            val: Y.y
                        }
                    },
                    Left: {
                        t: "UntF",
                        v: {
                            type: "#Pxl",
                            val: Y.x
                        }
                    },
                    Btom: {
                        t: "UntF",
                        v: {
                            type: "#Pxl",
                            val: Y.y + Y.v
                        }
                    },
                    Rght: {
                        t: "UntF",
                        v: {
                            type: "#Pxl",
                            val: Y.x + Y.d
                        }
                    }
                }
            };
            S.uOrder = {
                t: "long",
                v: 4
            };
            S.vOrder = {
                t: "long",
                v: 4
            }
        }
        return S
    }
        ;
    t.P8.aj6 = function (Y, S, h, q) {
        for (var G = 0; G < Y.length; G += 2) {
            var H = Y[G]
                , I = Y[G + 1]
                , E = (H - S.x) / S.d
                , d = (I - S.y) / S.v
                , B = (1 - h) / 2
                , n = 1 - B
                , g = B + E * (n - B);
            d = .5 + (d - .5) * g * 2;
            var z = (1 - q) / 2
                , p = 1 - z
                , C = z + d * (p - z);
            E = .5 + (E - .5) * C * 2;
            H = S.x + E * S.d;
            I = S.y + d * S.v;
            Y[G] = H;
            Y[G + 1] = I
        }
    }
        ;
    t.P8.iB = function (Y, S) {
        var h = []
            , q = [];
        for (var G = 0; G < Y.length; G += 2) {
            h.push(Y[G]);
            q.push(Y[G + 1])
        }
        var H = [];
        H.push({
            id: "Hrzn",
            type: "UnFl",
            uID: "#Pxl",
            arr: h
        });
        H.push({
            id: "Vrtc",
            type: "UnFl",
            uID: "#Pxl",
            arr: q
        });
        S.warpStyle.v.warpStyle = "warpCustom";
        S.customEnvelopeWarp = {
            t: "Objc",
            v: {
                classID: "customEnvelopeWarp",
                meshPoints: {
                    t: "ObAr",
                    v: {
                        classID: "rationalPoint",
                        arr: H
                    }
                }
            }
        }
    }
        ;
    t.P8.eT = function (Y, S) {
        if (S == null) {
            var h = Y.bounds.v
                , q = h.Left.v.val
                , H = h.Rght.v.val
                , I = h.Top.v.val
                , E = h.Btom.v.val;
            S = new W(q, I, H - q, E - I)
        }
        if (S.fa())
            S.d = S.v = 1;
        var d = []
            , B = Y.warpStyle.v.warpStyle;
        if (B == "warpCustom") {
            var n = Y.customEnvelopeWarp.v.meshPoints.v.arr
                , g = n[0].arr
                , z = n[1].arr;
            for (var G = 0; G < 16; G++)
                d.push(g[G], z[G])
        } else
            d = t.P8.P8(S, B, Y.warpRotate.v.Ornt == "Hrzn", Y.warpValue.v / 100, Y.warpPerspective.v / 100, Y.warpPerspectiveOther.v / 100);
        return d
    }
        ;
    t.P8.P8 = function (Y, S, h, q, H, I) {
        var E = t.FL.m(Y.x, Y.y, Y.d, Y.v);
        if (S == "warpNone")
            return E;
        var d = JSON.parse(JSON.stringify(Y))
            , B = new d5;
        if (!h) {
            B.translate(-Y.x, -Y.y);
            B.rotate(-Math.PI / 2);
            B.translate(Y.v, 0);
            t.a.J(E, B, E);
            Y = new W(0, 0, Y.v, Y.d);
            E = t.FL.bQ(E, !1)
        }
        t.P8.a4a(E, Y, S, q, H, I);
        if (!h) {
            E = t.FL.bQ(E, !0);
            Y = d;
            B.fb();
            t.a.J(E, B, E)
        }
        if (q == 0)
            t.P8.aj6(E, Y, H, I);
        else {
            var B = new d5(1 / Y.d, 0, 0, 1 / Y.v, -Y.x, -Y.y);
            B.translate(-.5, -.5);
            t.a.J(E, B, E);
            t.P8.ao8(E, I, H);
            B.fb();
            t.a.J(E, B, E)
        }
        return E
    }
        ;
    t.P8.a4a = function (Y, S, h, q, H, I) {
        for (var G = 0; G < 4; G++) {
            for (var E = 0; E < 4; E++) {
                var d = 2 * (4 * G + E)
                    , B = Y[d] - S.x
                    , n = Y[d + 1] - S.y
                    , g = B
                    , z = n;
                if (q != 0) {
                    var p = S.d / 2
                        , C = S.v / 2;
                    g -= p;
                    z -= C;
                    var T = g
                        , A = g
                        , i = -C
                        , e = C
                        , a = Math.abs(q)
                        , Z = Math.tan((1 - a) * Math.PI / 2)
                        , O = Math.sqrt(Z * Z + 1)
                        , c = Math.atan2(1, Z)
                        , s = g / p * c
                        , x = p * O
                        , u = p * O + S.v
                        , y = Math.cos(c)
                        , j = Math.sin(c)
                        , v = t.P8.a6H(y, j)
                        , X = t.P8.an_(y, j)
                        , N = -Z * p + v * x;
                    if (h == "warpArc") {
                        T = Math.sin(s) * u;
                        i = Z * p - Math.cos(c) * u + C;
                        A = Math.sin(s) * x;
                        e = Z * p - Math.cos(c) * x + C;
                        if (E == 1 || E == 2) {
                            T = E == 1 ? -X * u : X * u;
                            A = E == 1 ? -X * x : X * x;
                            i = Z * p + C - v * u;
                            e = Z * p + C - v * x
                        }
                        if (q < 0) {
                            var V = T;
                            T = A;
                            A = V;
                            V = i;
                            i = -e;
                            e = -V
                        }
                    }
                    if (h == "warpArcLower") {
                        if (E == 1 || E == 2) {
                            A = E == 1 ? -X * x : X * x;
                            e = q < 0 ? C - N : C + N
                        }
                    }
                    if (h == "warpArcUpper" || h == "warpArch" || h == "warpBulge") {
                        if (E == 1 || E == 2) {
                            T = E == 1 ? -X * x : X * x;
                            i = q < 0 ? -C + N : -C - N
                        }
                        if (h == "warpArch") {
                            A = T;
                            e = i + 2 * C
                        }
                        if (h == "warpBulge") {
                            A = T;
                            e = -i
                        }
                    }
                    if (h == "warpFish" || h == "warpFlag" || h == "warpWave") {
                        if (E == 1) {
                            i -= q * 4 * C;
                            e += q * 4 * C
                        }
                        if (E == 2) {
                            i += q * 4 * C;
                            e -= q * 4 * C
                        }
                        if (h == "warpFlag" || h == "warpWave")
                            i = e - 2 * C
                    }
                    if (h == "warpRise") {
                        if (E < 2)
                            i = -C + q * C * 4;
                        e = i + 2 * C
                    }
                    var $ = (z + C) / S.v;
                    g = T + $ * (A - T);
                    z = i + $ * (e - i);
                    if (h == "warpWave") {
                        if (G == 0)
                            z = -C;
                        if (G == 3)
                            z = C;
                        if (G == 1 || G == 2)
                            z = 2 * C * (G / 3 - .5) * (1 / 3) + z * (2 / 3)
                    }
                    if (h == "warpFisheye") {
                        if ((G == 1 || G == 2) && (E == 1 || E == 2)) {
                            g = g + 4 * g * q;
                            z = z + 4 * z * q
                        }
                    }
                    if (h == "warpInflate") {
                        var w = 2 / 3;
                        if ((G == 1 || G == 2) && (E == 1 || E == 2)) {
                            g = g + .5 * g * q;
                            z = z + .5 * z * q
                        } else if (G == 1 || G == 2)
                            g = g + w * g * q;
                        else if (E == 1 || E == 2)
                            z = z + w * z * q
                    }
                    if (h == "warpSqueeze") {
                        var w = 2 / 3;
                        if ((G == 1 || G == 2) && (E == 1 || E == 2)) {
                            if (q > 0)
                                g = g - w * g * q;
                            else
                                z = z + w * z * q
                        } else if (G == 1 || G == 2)
                            g = g - w * g * q;
                        else if (E == 1 || E == 2)
                            z = z + w * z * q
                    }
                    if (h == "warpTwist") {
                        if ((G == 1 || G == 2) && (E == 1 || E == 2)) {
                            var m = q * Math.PI / 2
                                , O = 1 + Math.abs(q) * 2
                                , l = g * Math.cos(m) - z * Math.sin(m)
                                , b = g * Math.sin(m) + z * Math.cos(m);
                            g = l * O;
                            z = b * O
                        }
                    }
                    if (h == "warpShellLower" || h == "warpShellUpper") {
                        if (h == "warpShellUpper") {
                            G = 3 - G;
                            z = -z
                        }
                        if (G > 2 || G == 2 && (E == 0 || E == 3)) {
                            if (q > 0) {
                                var K = x + G / 3 * 2 * C;
                                g = Math.sin(s) * K;
                                z = -Z * p - C + Math.cos(s) * K;
                                if (E == 1 || E == 2) {
                                    g = E == 1 ? -X * K : X * K;
                                    z = -Z * p - C + v * K
                                }
                            } else {
                                if ((E == 1 || E == 2) && G == 3) {
                                    g = E == 1 ? -X * x : X * x;
                                    z = Z * p - v * x + C
                                } else if (G == 2) {
                                    z = C - C * (2 / 3) * Math.cos(s);
                                    g = g + C * (2 / 3) * Math.sin(s)
                                }
                            }
                        }
                        if (h == "warpShellUpper") {
                            G = 3 - G;
                            z = -z
                        }
                    }
                    g += p;
                    z += C
                }
                B = g,
                    n = z;
                Y[d] = B + S.x;
                Y[d + 1] = n + S.y
            }
        }
    }
        ;
    t.P8.ao8 = function (Y, S, h) {
        var q = [];
        for (var H = 0; H < 4; H++)
            q.push(1 - h + H / 3 * 2 * h);
        var I = [];
        for (var H = 0; H < 4; H++)
            I.push(1 - S + H / 3 * 2 * S);
        var E = [0, 0, 0, 0]
            , d = [0, 0, 0, 0];
        for (var G = 0; G < 4; G++)
            for (var H = 0; H < 4; H++) {
                var B = 2 * (4 * G + H)
                    , n = Y[B]
                    , g = Y[B + 1];
                E[H] += n / 4;
                d[H] += g / 4
            }
        for (var G = 0; G < 4; G++)
            for (var H = 0; H < 4; H++) {
                var z = q[H]
                    , B = 2 * (4 * G + H)
                    , n = Y[B]
                    , g = Y[B + 1]
                    , p = E[H]
                    , C = d[H];
                Y[B] = p + z * (n - p);
                Y[B + 1] = C + z * (g - C)
            }
        var T = Y.slice(0);
        for (var G = 0; G < 4; G++)
            for (var H = 1; H < 3; H++) {
                var B = 2 * (4 * G + H)
                    , n = Y[B]
                    , g = Y[B + 1]
                    , A = B + (H == 1 ? -2 : 2)
                    , i = Y[A]
                    , e = Y[A + 1];
                Y[B] = n - i;
                Y[B + 1] = g - e
            }
        var a = Y[0]
            , Z = Y[1]
            , O = Y[8]
            , c = Y[9]
            , s = Y[16]
            , x = Y[17]
            , u = Y[24]
            , y = Y[25]
            , j = Y[6]
            , v = Y[7]
            , X = Y[14]
            , N = Y[15]
            , V = Y[22]
            , $ = Y[23]
            , w = Y[30]
            , m = Y[31]
            , l = j - a
            , b = v - Z
            , K = X - O
            , J = N - c
            , R = V - s
            , r = $ - x
            , f = w - u
            , gf = m - y;
        for (var G = 0; G < 4; G++) {
            var aa = 2 * G * 4
                , aA = 0
                , e5 = 0
                , fk = G == 1 ? .33 : .66
                , o = 1 - fk;
            if (G == 0) {
                aA = l;
                e5 = b
            }
            if (G == 1) {
                aA = o * l + fk * -f;
                e5 = o * b + fk * -gf
            }
            if (G == 2) {
                aA = o * l + fk * -f;
                e5 = o * b + fk * -gf
            }
            if (G == 3) {
                aA = -f;
                e5 = -gf
            }
            Y[aa] = Y[aa] + aA / 2;
            Y[aa + 1] = Y[aa + 1] + e5 / 2;
            Y[aa + 6] = Y[aa + 6] - aA / 2;
            Y[aa + 7] = Y[aa + 7] - e5 / 2
        }
        for (var G = 0; G < 4; G++)
            for (var H = 1; H < 3; H++) {
                var B = 2 * (4 * G + H)
                    , n = Y[B]
                    , g = Y[B + 1]
                    , A = B + (H == 1 ? -2 : 2)
                    , i = Y[A]
                    , e = Y[A + 1]
                    , z = 2 * G / 3;
                Y[B] = i + z * n;
                Y[B + 1] = e + z * g
            }
        for (var G = 1; G < 3; G++)
            for (var H = 1; H < 3; H++) {
                var B = 2 * (4 * G + H)
                    , n = Y[B]
                    , g = Y[B + 1]
                    , eY = G == 1 ? -8 : -16
                    , du = G == 1 ? 16 : 8
                    , dV = Y[B + eY]
                    , hy = Y[B + eY + 1]
                    , bq = Y[B + du]
                    , i5 = Y[B + du + 1]
                    , z = G / 3;
                n = (1 - z) * dV + z * bq;
                g = (1 - z) * hy + z * i5;
                Y[B] = n;
                Y[B + 1] = g
            }
        t.a.AZ(T, Y, Y, S)
    }
        ;
    t.P8.a6H = function (Y, S) {
        return (4 - Y) * (1 / 3)
    }
        ;
    t.P8.an_ = function (Y, S) {
        return (1 - Y) * (3 - Y) / (3 * S)
    }
        ;
    t.xw = {};
    t.xw.alq = function (Y, S, h, q, H, I, E, d, B, n) {
        for (var g = 0; g < d; g++)
            for (var z = 0; z < E; z++) {
                var p = 3 * (g * E + z)
                    , C = g + I
                    , T = z + H
                    , A = Y[C * S + T];
                q[p] = A;
                q[p + 1] = A;
                q[p + 2] = A
            }
    }
        ;
    t.xw.cw = function (Y, S, h, q, H, I, E, d, B, n) {
        var g = [0, 1, 1 / 2, 1 / 3, 1 / 4, 1 / 5, 1 / 6, 1 / 7, 1 / 8, 1 / 9]
            , z = 1 / B
            , p = [-1, -1, 0, -1, 1, -1, -1, 0, 1, 0, -1, 1, 0, 1, 1, 1]
            , C = new Uint32Array(6);
        for (var T = 0; T < d; T++) {
            for (var A = 0; A < E; A++) {
                var i = 3 * (T * E + A)
                    , e = T + I
                    , a = A + H;
                C[0] = 0;
                C[1] = 0;
                C[2] = 0;
                C[3] = 0;
                C[4] = 0;
                C[5] = 0;
                for (var G = 0; G < 16; G += 2) {
                    var Z = a + p[G]
                        , O = e + p[G + 1]
                        , c = Z - B * ~~(Z * z)
                        , s = O - B * ~~(O * z)
                        , x = n[s * B + c];
                    C[x] += Y[O * S + Z];
                    C[x + 3]++
                }
                var Z = a
                    , O = e
                    , c = Z - B * ~~(Z * z)
                    , s = O - B * ~~(O * z)
                    , x = n[s * B + c];
                C[x] = Y[e * S + a];
                C[x + 3] = 1;
                q[i] = C[0] * g[C[3]];
                q[i + 1] = C[1] * g[C[4]];
                q[i + 2] = C[2] * g[C[5]]
            }
        }
    }
        ;
    t.xw.w_ = function (Y, S, h) {
        for (var G = 0; G < h; G += 2)
            Y[S + G] = Y[S + G + 1];
        S = S + h;
        for (var G = 0; G < h; G += 2)
            Y[S + G + 1] = Y[S + G]
    }
        ;
    t.xw.uj = function (Y, S, h, q) {
        for (var G = 0; G < q; G += 2) {
            var H = S + G * h;
            Y[H] = Y[H + h];
            Y[H + h + 1] = Y[H + 1]
        }
    }
        ;
    t.xw.b7 = function (Y, S, h, q, H, I) {
        var E = q[H]
            , d = q[H + 1]
            , B = q[I]
            , n = q[I + 1]
            , g = d + B >>> 1;
        Y[S] = Y[S + 3] = Y[h] = Y[h + 3] = E;
        Y[S + 1] = g;
        Y[S + 4] = d;
        Y[h + 1] = B;
        Y[h + 4] = g;
        Y[S + 2] = Y[S + 5] = Y[h + 2] = Y[h + 5] = n
    }
        ;
    t.xw.a7y = function (Y, S, h, q, H, I) {
        var E = I * 3;
        for (var G = 0; G < I; G += 2) {
            var d = S + G
                , B = H + G * 3;
            t.xw.b7(q, B, B + E, Y, d, d + h)
        }
    }
        ;
    t.xw.a1P = function (Y, S, h, q, H, I, E) {
        var d = I * 3;
        for (var G = 0; G < E; G += 2) {
            var B = S + G * h
                , n = H + G * I * 3;
            t.xw.b7(q, n, n + d, Y, B, B + h)
        }
    }
        ;
    t.xw.Es = function (Y, G, S) {
        var h = Y[G - S - S]
            , q = Y[G - S]
            , H = Y[G - 2]
            , I = Y[G - 1]
            , E = Y[G]
            , d = Y[G + 1]
            , B = Y[G + 2]
            , n = Y[G + S]
            , g = Y[G + S + S]
            , z = Math.abs(q - n)
            , p = Math.abs(I - d)
            , C = Math.abs(E - h) * 2 + z
            , T = Math.abs(E - B) * 2 + p
            , A = Math.abs(E - H) * 2 + p
            , i = Math.abs(E - g) * 2 + z
            , e = Math.min(C, Math.min(T, Math.min(A, i)));
        if (e == C)
            return q * 3 + n + E - h >> 2;
        if (e == T)
            return d * 3 + I + E - B >> 2;
        if (e == A)
            return I * 3 + d + E - H >> 2;
        return n * 3 + q + E - g >> 2
    }
        ;
    t.xw._9 = function (Y, S, h, q, H) {
        if (Y < S && S < h || Y > S && S > h)
            return ~~(.5 + q + (H - q) * (S - Y) / (h - Y));
        else
            return (q + H >> 1) + (S + S - Y - h >> 2)
    }
        ;
    t.xw.Qr = function (Y, S, G, h) {
        var q = S[G - h - 1]
            , H = S[G - h + 1]
            , I = S[G]
            , E = S[G + h - 1]
            , d = S[G + h + 1]
            , B = Y[G - h - 1]
            , n = Y[G - h + 1]
            , g = Y[G]
            , z = Y[G + h - 1]
            , p = Y[G + h + 1]
            , C = Math.abs(n - z) + Math.abs(Y[G - h - h + 2] - g) + Math.abs(g - Y[G + h + h - 2]) + Math.abs(H - I) + Math.abs(I - E)
            , T = Math.abs(B - p) + Math.abs(Y[G - h - h - 2] - g) + Math.abs(g - Y[G + h + h + 2]) + Math.abs(q - I) + Math.abs(I - d);
        if (C < T)
            return t.xw._9(H, I, E, n, z);
        else
            return t.xw._9(q, I, d, B, p)
    }
        ;
    t.xw.aM = function (Y, S, h, q, H, I) {
        Y[S + 0] = h[H];
        Y[S + 1] = q[H];
        Y[S + 2] = t.xw.Qr(h, q, H, I)
    }
        ;
    t.xw.vh = function (Y, S, h, q, H, I) {
        var E = q[H];
        Y[S + 0] = t.xw._9(q[H - 1], E, q[H + 1], h[H - 1], h[H + 1]);
        Y[S + 1] = E;
        Y[S + 2] = t.xw._9(q[H - I], E, q[H + I], h[H - I], h[H + I])
    }
        ;
    t.xw.n7 = function (Y, S, h, q, H, I) {
        var E = q[H];
        Y[S + 0] = t.xw._9(q[H - I], E, q[H + I], h[H - I], h[H + I]);
        Y[S + 1] = E;
        Y[S + 2] = t.xw._9(q[H - 1], E, q[H + 1], h[H - 1], h[H + 1])
    }
        ;
    t.xw.AK = function (Y, S, h, q, H, I) {
        Y[S + 0] = t.xw.Qr(h, q, H, I);
        Y[S + 1] = q[H];
        Y[S + 2] = h[H]
    }
        ;
    t.xw.a8K = function (Y, S, h, q, H, I, E, d, B) {
        var n = Date.now()
            , g = 2
            , z = S - 2
            , p = 2;
        if ((H & 1) == 1) {
            g++;
            z--
        }
        var C = h - 2;
        if ((I & 1) == 1) {
            p++;
            C--
        }
        if (B == 1 || B == 3) {
            g++;
            z--
        }
        var T = Y.slice(0);
        t.xw.w_(T, 0, S);
        t.xw.uj(T, 0, S, h);
        t.xw.uj(T, S - 2, S, h);
        t.xw.w_(T, (h - 2) * S, S);
        for (var A = p; A < C; A += 2)
            for (var i = g; i < z; i += 2) {
                var G = A * S + i
                    , e = t.xw.Es(T, G, S)
                    , a = t.xw.Es(T, G + S + 1, S);
                T[G] = Math.max(0, e);
                T[G + S + 1] = Math.max(0, a)
            }
        var Z = E
            , O = d;
        if (I + d == h) {
            O -= 2;
            t.xw.a7y(Y, (h - 2) * S + H, S, q, (d - 2) * E * 3, E)
        }
        if (H + E == S) {
            Z -= 2;
            t.xw.a1P(Y, I * S + H + E - 2, S, q, (E - 2) * 3, E, d)
        }
        if (B == 0)
            for (var A = 0; A < O; A += 2)
                for (var i = 0; i < Z; i += 2) {
                    var c = (A + I) * S + i + H
                        , s = (A * E + i) * 3;
                    t.xw.aM(q, s, Y, T, c, S);
                    t.xw.vh(q, s + 3, Y, T, c + 1, S);
                    c += S;
                    s += 3 * E;
                    t.xw.n7(q, s, Y, T, c, S);
                    t.xw.AK(q, s + 3, Y, T, c + 1, S)
                }
        else if (B == 1)
            for (var A = 0; A < O; A += 2)
                for (var i = 0; i < Z; i += 2) {
                    var c = (A + I) * S + i + H
                        , s = (A * E + i) * 3;
                    t.xw.vh(q, s, Y, T, c, S);
                    t.xw.aM(q, s + 3, Y, T, c + 1, S);
                    c += S;
                    s += 3 * E;
                    t.xw.AK(q, s, Y, T, c, S);
                    t.xw.n7(q, s + 3, Y, T, c + 1, S)
                }
        else if (B == 2)
            for (var A = 0; A < O; A += 2)
                for (var i = 0; i < Z; i += 2) {
                    var c = (A + I) * S + i + H
                        , s = (A * E + i) * 3;
                    t.xw.AK(q, s, Y, T, c, S);
                    t.xw.n7(q, s + 3, Y, T, c + 1, S);
                    c += S;
                    s += 3 * E;
                    t.xw.vh(q, s, Y, T, c, S);
                    t.xw.aM(q, s + 3, Y, T, c + 1, S)
                }
        else if (B == 3)
            for (var A = 0; A < O; A += 2)
                for (var i = 0; i < Z; i += 2) {
                    var c = (A + I) * S + i + H
                        , s = (A * E + i) * 3;
                    t.xw.n7(q, s, Y, T, c, S);
                    t.xw.AK(q, s + 3, Y, T, c + 1, S);
                    c += S;
                    s += 3 * E;
                    t.xw.aM(q, s, Y, T, c, S);
                    t.xw.vh(q, s + 3, Y, T, c + 1, S)
                }
    }
        ;
    t.raw = {};
    t.raw.amL = function (Y) {
        var S = Y.width
            , h = Y.height
            , q = Date.now()
            , H = t.raw.ams(Y)
            , I = 0
            , E = 0;
        t.raw.C6(2, Y, H, S, h);
        var d = S
            , B = h;
        if (Y.t50829) {
            var n = Y.t50829;
            I = n[1];
            E = n[0];
            d = n[3];
            B = n[2]
        }
        if (Y.t50719) {
            var g = Y.t50719;
            I += g[0] >> 1 << 1;
            E += g[1] >> 1 << 1
        }
        if (Y.t50720) {
            var z = Y.t50720;
            d = I + z[0];
            B = E + z[1]
        }
        var p = d - I
            , C = B - E
            , T = new Float32Array(p * C * 3);
        if (Y.t277[0] == 1) {
            var A = Y.t33421;
            if (A == null) {
                t.xw.alq(H, S, h, T, I, E, p, C)
            } else if (A.length != 2 || A[0] != 2 || A[1] != 2) {
                console.log("Unknown CFA pattern size", A);
                t.xw.cw(H, S, h, T, I, E, p, C, A[0], Y.t33422)
            } else {
                var i = Y.t33422.join(",")
                    , e = 0;
                if (i == "0,1,1,2")
                    e = 0;
                else if (i == "1,0,2,1")
                    e = 1;
                else if (i == "2,1,1,0")
                    e = 2;
                else if (i == "1,2,0,1")
                    e = 3;
                else
                    throw "Unknown CFA pattern " + i;
                if ((p & 1) != 0 || (C & 1) != 0)
                    throw "e";
                t.xw.a8K(H, S, h, T, I, E, p, C, e)
            }
        } else {
            for (var a = 0; a < C; a++)
                for (var Z = 0; Z < p; Z++) {
                    var O = ((a + E) * S + Z + I) * 3
                        , c = (a * p + Z) * 3;
                    T[c + 0] = H[O + 0];
                    T[c + 1] = H[O + 1];
                    T[c + 2] = H[O + 2]
                }
        }
        var s = T
            , x = T.length
            , u = t.raw.aka(Y)
            , y = 1 / u;
        for (var G = 0; G < x; G += 3) {
            T[G] = Math.min(1, s[G] * y);
            T[G + 1] = Math.min(1, s[G + 1] * y);
            T[G + 2] = Math.min(1, s[G + 2] * y)
        }
        t.raw.C6(3, Y, T, p, C);
        var j = Y.fE
            , v = p
            , X = C;
        if (j == 1 || j == 9) { } else {
            var N = t.raw.aI(j, p, C)
                , c = 0;
            v = N[0];
            X = N[1];
            var V = T.slice(0);
            for (var a = 0; a < X; a++)
                for (var Z = 0; Z < v; Z++) {
                    var $ = N[2] * Z + N[3] * a + N[4]
                        , w = N[5] * Z + N[6] * a + N[7]
                        , O = (w * p + $) * 3;
                    T[c] = V[O];
                    T[c + 1] = V[O + 1];
                    T[c + 2] = V[O + 2];
                    c += 3
                }
        }
        return {
            nP: T,
            $f: v,
            Uc: X
        }
    }
        ;
    t.raw.aI = function (Y, S, h) {
        var q = S
            , H = h;
        if (!1) { } else if (Y == 2)
            return [S, h, -1, 0, S - 1, 0, 1, 0];
        else if (Y == 3)
            return [S, h, -1, 0, S - 1, 0, -1, h - 1];
        else if (Y == 4)
            return [S, h, 1, 0, 0, 0, -1, h - 1];
        else if (Y == 5)
            return [h, S, 0, 1, 0, 1, 0, 0];
        else if (Y == 6)
            return [h, S, 0, 1, 0, -1, 0, h - 1];
        else if (Y == 8)
            return [h, S, 0, -1, S - 1, 1, 0, 0];
        else
            throw "unknown orientation " + Y
    }
        ;
    t.raw.O6 = function (Y, S, h, q) {
        var H = Y.nP
            , I = Math.round(H.length / 3)
            , E = ch.a4q(q[0], q[1])
            , d = t.raw.a9i(h, E)
            , B = t.eC.multiply(t.eC.au, d)
            , n = Math.pow(2, q[2] + (h.t50730 ? h.t50730[0] : 0));
        B = t.eC.multiply(B, t.eC.GX(n, n, n));
        var g = h.t50728 ? h.t50728 : [1, 1, 1]
            , z = [g[1] / g[0], g[2] / g[0], g[0] / g[1], g[2] / g[1], g[0] / g[2], g[1] / g[2]]
            , p = new Float64Array(1e3);
        for (var G = 0; G < 1e3; G++) {
            var C = G * (1 / 999);
            C = G == 999 ? 1 : t.BX(G * (1 / 999));
            C = t.raw.Hh.aku(C, q[3] / 100);
            p[G] = C
        }
        var T = Date.now();
        for (var G = 0; G < I; G++) {
            var A = G << 2
                , i = A - G
                , e = H[i]
                , a = H[i + 1]
                , Z = H[i + 2];
            if (a >= .92) {
                var O = Math.min(e, Z);
                if (O == e) {
                    a = Math.max(a, z[0] * e);
                    Z = Math.max(Z, z[1] * e)
                } else {
                    e = Math.max(e, z[4] * Z);
                    a = Math.max(a, z[5] * Z)
                }
            }
            var c = B[0] * e + B[1] * a + B[2] * Z
                , s = B[4] * e + B[5] * a + B[6] * Z
                , x = B[8] * e + B[9] * a + B[10] * Z;
            if (c < 0)
                c = 0;
            else if (c > 1)
                c = 1;
            if (s < 0)
                s = 0;
            else if (s > 1)
                s = 1;
            if (x < 0)
                x = 0;
            else if (x > 1)
                x = 1;
            c = p[~~(c * 999)];
            s = p[~~(s * 999)];
            x = p[~~(x * 999)];
            S[A] = ~~(.5 + c * 255);
            S[A + 1] = ~~(.5 + s * 255);
            S[A + 2] = ~~(.5 + x * 255)
        }
    }
        ;
    t.raw.Hh = {
        aku: function (Y, S) {
            var h = .5 - .5 * Math.cos(Y * 3.2)
                , q = 0;
            if (S > 0) {
                var H = Y * .2;
                q = H * Y + (1 - H) * h
            } else {
                var I = Math.pow(Y, .33);
                q = (1 - I) * I + I * (Y + (Y - h) * .63)
            }
            var E = Math.abs(S);
            return E * q + (1 - E) * Y
        },
        anL: function (Y, S) {
            var h = 0;
            if (S > 0) {
                var q = Y * 1.47
                    , H = Math.pow(Y, 2.4);
                h = Math.min(1, H * Y + (1 - H) * q)
            } else {
                var q = Y * .68
                    , H = Math.pow(Y, 3);
                h = H * Y * .5 + (1 - H) * q
            }
            var I = Math.abs(S);
            return I * h + (1 - I) * Y
        },
        a8X: function (Y, S) {
            var h = 0;
            if (S > 0) {
                var q = Math.pow(Y, .3)
                    , H = Y;
                h = (1 - Y) * q + Y * H
            } else {
                var q = Math.pow(Y, 2.5)
                    , I = Y
                    , H = Y;
                h = Math.min(1, (1 - I) * q + I * H)
            }
            var E = Math.abs(S);
            return E * h + (1 - E) * Y
        }
    };
    t.raw.ams = function (Y) {
        var S = Y.width
            , h = Y.height
            , q = S * h * Y.t277
            , H = new Uint16Array(q)
            , I = null
            , E = 0;
        t.raw.aeE(Y, H);
        t.raw.C6(1, Y, H, S, h);
        if (Y.t50712) {
            I = Y.t50712;
            E = I.length - 1;
            if (I[E] > 65535)
                throw "too big values"
        }
        var d = t.raw.iC(Y)
            , B = t.raw.lU(Y);
        if (I == null)
            for (var G = 0; G < q; G++)
                H[G] = Math.max(0, H[G] - d);
        else
            for (var G = 0; G < q; G++) {
                var n = H[G];
                if (n > E)
                    n = E;
                n = I[n];
                H[G] = Math.max(0, n - d)
            }
        return H
    }
        ;
    t.raw.iC = function (Y) {
        var S = Y.t50714
            , h = S ? S[0] : 0
            , q = Y.t50715
            , H = Y.t50716;
        if (q)
            h += q[0][0] / q[0][1];
        if (H)
            h += H[0][0] / H[0][1];
        return Math.round(h)
    }
        ;
    t.raw.lU = function (Y) {
        var S = null
            , h = 0;
        if (Y.t50712) {
            S = Y.t50712;
            h = S.length - 1
        }
        var q = Y.t50717 ? Y.t50717[0] : (1 << Y.t258[0]) - 1;
        if (S)
            q = Math.min(q, S[h]);
        return q
    }
        ;
    t.raw.aka = function (Y) {
        var S = t.raw.iC(Y)
            , h = t.raw.lU(Y);
        return h - S
    }
        ;
    t.raw.aeE = function (Y, S) {
        var h = S.length
            , q = Y.data
            , H = Y.t258[0];
        if (H != 16 && H != 14 && H != 12 && H != 10 && H != 8)
            throw "Unsupported Bits Per Sample:" + H;
        H = Math.round(q.length * 8 / h);
        if (H == 16 && Y.isLE) {
            t.vx(q, S);
            return
        }
        for (var G = 0; G < h; G += 2) {
            var I = 0
                , E = 0
                , d = 0;
            if (H == 16) {
                I = G << 1;
                E = q[I] << 8 | q[I + 1];
                d = q[I + 2] << 8 | q[I + 3]
            } else if (H == 14) {
                var B = G * 14
                    , n = B >>> 3
                    , g = q[n] << 24 | q[n + 1] << 16 | q[n + 2] << 8 | q[n + 3];
                if ((B & 7) == 0) {
                    E = g >>> 18;
                    d = g >>> 4 & 16383
                } else {
                    E = g >>> 14 & 16383;
                    d = g & 16383
                }
            } else if (H == 12) {
                I = G + (G >>> 1);
                E = q[I] << 4 | q[I + 1] >> 4;
                d = (q[I + 1] & 15) << 8 | q[I + 2]
            } else if (H == 10) {
                var B = G * 10
                    , n = B >>> 3;
                if ((B & 7) == 0) {
                    E = (q[n] << 2 | q[n + 1] >> 6) & 1023;
                    d = (q[n + 1] << 4 | q[n + 2] >> 4) & 1023
                } else {
                    E = (q[n] << 6 | q[n + 1] >> 2) & 1023;
                    d = (q[n + 1] << 8 | q[n + 2] >> 0) & 1023
                }
            } else if (H == 8) {
                I = G;
                E = q[I];
                d = q[I + 1]
            }
            S[G] = E;
            S[G + 1] = d
        }
    }
        ;
    t.raw.C6 = function (Y, S, h, q, H) {
        var I = S["t" + [51008, 51009, 51022][Y - 1]]
            , g = 0;
        if (I == null)
            return;
        var E = q * H
            , d = k.n
            , B = k._3
            , n = new Uint8Array(I)
            , hb = k.n(n, g);
        g += 4;
        for (var z = 0; z < hb; z++) {
            var p = d(n, g);
            g += 4;
            var C = d(n, g);
            g += 4;
            var T = d(n, g);
            g += 4;
            var A = d(n, g);
            g += 4;
            if (!1) { } else if (p == 1 && Y == 3) {
                var i = g
                    , e = d(n, i);
                i += 4;
                var a = B(n, i);
                i += 8;
                var Z = B(n, i);
                i += 8;
                var O = B(n, i);
                i += 8;
                var c = B(n, i);
                i += 8;
                var s = B(n, i);
                i += 8;
                var x = B(n, i);
                i += 8;
                i += (e - 1) * 8 * 6;
                var u = B(n, i);
                i += 8;
                var y = B(n, i);
                i += 8;
                var j = u * q
                    , v = y * H
                    , X = Math.max(j, q - j)
                    , N = Math.max(v, H - v)
                    , V = Math.sqrt(X * X + N * N)
                    , $ = 1 / V
                    , w = h.slice(0);
                for (var m = 0; m < H; m++)
                    for (var l = 0; l < q; l++) {
                        var b = (l + .5 - j) * $
                            , K = (m + .5 - v) * $
                            , J = b * b + K * K
                            , R = a + Z * J + O * (J * J) + c * (J * J) * J
                            , r = s * (2 * b * K) + x * (J + 2 * b * b)
                            , f = x * (2 * b * K) + s * (J + 2 * K * K)
                            , gf = ~~(j + V * (R * b + r))
                            , aa = ~~(v + V * (R * K + f))
                            , aA = (aa * q + gf) * 3
                            , e5 = (m * q + l) * 3;
                        h[e5] = w[aA];
                        h[e5 + 1] = w[aA + 1];
                        h[e5 + 2] = w[aA + 2]
                    }
            } else if (p == 3 && Y == 3) {
                var i = g
                    , fk = B(n, i);
                i += 8;
                var o = B(n, i);
                i += 8;
                var eY = B(n, i);
                i += 8;
                var du = B(n, i);
                i += 8;
                var dV = B(n, i);
                i += 8;
                var u = B(n, i);
                i += 8;
                var y = B(n, i);
                i += 8;
                var j = u * q
                    , v = y * H
                    , X = Math.max(j, q - j)
                    , N = Math.max(v, H - v)
                    , V = Math.sqrt(X * X + N * N)
                    , $ = 1 / V;
                for (var m = 0; m < H; m++)
                    for (var l = 0; l < q; l++) {
                        var b = (l + .5 - j) * $
                            , K = (m + .5 - v) * $
                            , J = b * b + K * K
                            , hy = 1 + (fk + (o + (eY + (du + dV * J) * J) * J) * J) * J
                            , e5 = (m * q + l) * 3;
                        h[e5] = hy * h[e5];
                        h[e5 + 1] = hy * h[e5 + 1];
                        h[e5 + 2] = hy * h[e5 + 2]
                    }
            } else if (p == 4 && Y == 1) {
                var i = g
                    , bq = d(n, i);
                i += 4;
                var i5 = d(n, i);
                i += 4;
                for (var G = 0; G < E; G++)
                    if (h[G] == bq)
                        h[G] = h[G - 2] + h[G + 2] >> 1
            } else if (p == 5 && Y == 1) {
                var i = g
                    , hX = d(n, i);
                i += 4;
                var bY = d(n, i);
                i += 4;
                var ds = d(n, i);
                i += 4;
                for (var G = 0; G < bY; G++) {
                    var hV = d(n, i);
                    i += 4;
                    var gF = d(n, i);
                    i += 4;
                    var G = hV * q + gF;
                    h[G] = h[G - 2] + h[G + 2] >> 1
                }
            } else if (p == 7 && Y == 1) {
                var i = g
                    , co = k.yZ(n, i);
                i += 16;
                var c_ = d(n, i);
                i += 4;
                var a5 = d(n, i);
                i += 4;
                var gb = d(n, i)
                    , iC = d(n, i + 4);
                i += 8;
                var cC = d(n, i);
                i += 4;
                var aB = new Uint16Array(cC);
                for (var G = 0; G < cC; G++)
                    aB[G] = k.PX(n, i + 2 * G);
                var cd = co.d
                    , dZ = co.v;
                for (var m = 0; m < dZ; m += gb)
                    for (var l = 0; l < cd; l += iC) {
                        var G = (co.y + m) * q + (co.x + l);
                        h[G] = aB[h[G]]
                    }
            } else if (p == 9 && Y == 2) {
                var i = g
                    , co = k.yZ(n, i)
                    , cj = !0;
                i += 16;
                var c_ = d(n, i);
                i += 4;
                var a5 = d(n, i);
                i += 4;
                var gb = d(n, i)
                    , iC = d(n, i + 4);
                i += 8;
                var en = d(n, i)
                    , cD = d(n, i + 4);
                i += 8;
                var hP = B(n, i)
                    , ea = B(n, i + 8);
                i += 16;
                var fp = B(n, i)
                    , bC = B(n, i + 8);
                i += 16;
                var hG = d(n, i);
                i += 4;
                if (hG != 1)
                    throw "more than one map plane";
                var b3 = en * cD
                    , ct = new Float32Array(b3);
                for (var fQ = 0; fQ < b3; fQ++)
                    ct[fQ] = k.k7(n, i + fQ * 4);
                for (var fQ = 0; fQ < b3; fQ++)
                    if (ct[fQ] != 1)
                        cj = !1;
                if (!cj) {
                    var cd = co.d
                        , dZ = co.v
                        , fJ = .9999 * (cD - 1) / cd
                        , cM = .9999 * (en - 1) / dZ;
                    for (var m = 0; m < dZ; m += gb)
                        for (var l = 0; l < cd; l += iC) {
                            var G = (co.y + m) * q + (co.x + l)
                                , cc = l * fJ
                                , cr = m * cM
                                , bZ = Math.floor(cc)
                                , eb = Math.floor(cr)
                                , gL = cc - bZ
                                , fn = cr - eb
                                , e5 = eb * cD + bZ
                                , aq = ct[e5] * (1 - gL) + ct[e5 + 1] * gL
                                , di = ct[e5 + cD] * (1 - gL) + ct[e5 + 1 + cD] * gL
                                , ej = aq * (1 - fn) + di * fn;
                            h[G] = ~~(h[G] * ej + .5)
                        }
                }
            } else
                console.log("Unknown opcode " + p + " in OpcodeList" + Y + ". Length: " + A);
            g += A
        }
    }
        ;
    t.raw.a9i = function (Y, S) {
        var h = ch.l$(S)
            , q = t.raw.QE(Y, S)
            , H = t.eC.fb(q)
            , I = ch.ak3(h, ch.l$(ch.a9H))
            , E = t.eC.multiply(I, H);
        return E
    }
        ;
    t.raw.am1 = function (Y) {
        var S = (Y.t50728 ? Y.t50728 : [1, 1, 1]).slice(0)
            , q = 1;
        S.push(0);
        var h = {
            x: .34567,
            y: .3585
        };
        do {
            var H = t.eC.fb(t.raw.QE(Y, h))
                , I = t.eC.qB(H, S)
                , E = ch.a7T(I);
            q = Math.abs(h.x - E.x) + Math.abs(h.y - E.y);
            h = E
        } while (q > 1e-7); return h
    }
        ;
    t.raw.QE = function (Y, S) {
        var h = ch.P0(S)
            , q = t.raw.amv
            , H = Y.t50778 ? Y.t50778[0] : 0
            , I = Y.t50779 ? Y.t50779[0] : 0
            , E = q(Y.t50721, Y.t50722, H, I, h.kP)
            , d = q(Y.t50723, Y.t50724, H, I, h.kP);
        E = E || [1, 0, 0, 0, 1, 0, 0, 0, 1];
        d = d || [1, 0, 0, 0, 1, 0, 0, 0, 1];
        var B = Y.t50727 ? [Y.t50727[0], 0, 0, 0, Y.t50727[1], 0, 0, 0, Y.t50727[2]] : [1, 0, 0, 0, 1, 0, 0, 0, 1];
        return t.eC.multiply(t.eC.Av(B), t.eC.multiply(t.eC.Av(d), t.eC.Av(E)))
    }
        ;
    t.raw.amv = function (Y, S, h, q, H) {
        if (!Y && !S) {
            return null
        } else if (Y && !S) {
            return Y
        } else if (H < h) {
            return Y
        } else if (H > q) {
            return S
        } else {
            var I = (1 / H - 1 / q) / (1 / h - 1 / q)
                , E = 1 - I
                , d = [];
            for (var G = 0; G < 9; G++)
                d[G] = Y[G] * I + S[G] * E;
            return d
        }
    }
        ;
    var ch = {};
    ch.a9H = {
        x: .34567,
        y: .3585
    };
    ch.rj = [{
        h: 0,
        d4: .18006,
        w1: .26352,
        qa: -.24341
    }, {
        h: 10,
        d4: .18066,
        w1: .26589,
        qa: -.25479
    }, {
        h: 20,
        d4: .18133,
        w1: .26846,
        qa: -.26876
    }, {
        h: 30,
        d4: .18208,
        w1: .27119,
        qa: -.28539
    }, {
        h: 40,
        d4: .18293,
        w1: .27407,
        qa: -.3047
    }, {
        h: 50,
        d4: .18388,
        w1: .27709,
        qa: -.32675
    }, {
        h: 60,
        d4: .18494,
        w1: .28021,
        qa: -.35156
    }, {
        h: 70,
        d4: .18611,
        w1: .28342,
        qa: -.37915
    }, {
        h: 80,
        d4: .1874,
        w1: .28668,
        qa: -.40955
    }, {
        h: 90,
        d4: .1888,
        w1: .28997,
        qa: -.44278
    }, {
        h: 100,
        d4: .19032,
        w1: .29326,
        qa: -.47888
    }, {
        h: 125,
        d4: .19462,
        w1: .30141,
        qa: -.58204
    }, {
        h: 150,
        d4: .19962,
        w1: .30921,
        qa: -.70471
    }, {
        h: 175,
        d4: .20525,
        w1: .31647,
        qa: -.84901
    }, {
        h: 200,
        d4: .21142,
        w1: .32312,
        qa: -1.0182
    }, {
        h: 225,
        d4: .21807,
        w1: .32909,
        qa: -1.2168
    }, {
        h: 250,
        d4: .22511,
        w1: .33439,
        qa: -1.4512
    }, {
        h: 275,
        d4: .23247,
        w1: .33904,
        qa: -1.7298
    }, {
        h: 300,
        d4: .2401,
        w1: .34308,
        qa: -2.0637
    }, {
        h: 325,
        d4: .24792,
        w1: .34655,
        qa: -2.4681
    }, {
        h: 350,
        d4: .25591,
        w1: .34951,
        qa: -2.9641
    }, {
        h: 375,
        d4: .264,
        w1: .352,
        qa: -3.5814
    }, {
        h: 400,
        d4: .27218,
        w1: .35407,
        qa: -4.3633
    }, {
        h: 425,
        d4: .28039,
        w1: .35577,
        qa: -5.3762
    }, {
        h: 450,
        d4: .28863,
        w1: .35714,
        qa: -6.7262
    }, {
        h: 475,
        d4: .29685,
        w1: .35823,
        qa: -8.5955
    }, {
        h: 500,
        d4: .30505,
        w1: .35907,
        qa: -11.324
    }, {
        h: 525,
        d4: .3132,
        w1: .35968,
        qa: -15.628
    }, {
        h: 550,
        d4: .32129,
        w1: .36011,
        qa: -23.325
    }, {
        h: 575,
        d4: .32931,
        w1: .36038,
        qa: -40.77
    }, {
        h: 600,
        d4: .33724,
        w1: .36051,
        qa: -116.45
    }];
    ch.P0 = function (Y) {
        var S = ch.rj
            , h = 2 * Y.x / (1.5 - Y.x + 6 * Y.y)
            , q = 3 * Y.y / (1.5 - Y.x + 6 * Y.y)
            , H = 0
            , I = 0
            , E = 0;
        for (; E < 31; E++) {
            H = q - S[E].w1 - S[E].qa * (h - S[E].d4);
            if (E > 0 && H < 0) {
                break
            }
            I = H
        }
        while (E >= S.length)
            E--;
        H /= Math.sqrt(1 + S[E].qa * S[E].qa);
        I /= Math.sqrt(1 + S[E - 1].qa * S[E - 1].qa);
        var d = I / (I - H)
            , B = 1e6 / ((S[E].h - S[E - 1].h) * d + S[E - 1].h)
            , n = h - ((S[E].d4 - S[E - 1].d4) * d + S[E - 1].d4)
            , g = q - ((S[E].w1 - S[E - 1].w1) * d + S[E - 1].w1)
            , z = Math.sqrt(1 + S[E].qa * S[E].qa)
            , p = 1 / z
            , C = S[E].qa / z
            , T = Math.sqrt(1 + S[E - 1].qa * S[E - 1].qa)
            , A = 1 / T
            , i = S[E - 1].qa / T
            , e = (p - A) * d + A
            , a = (C - i) * d + i
            , Z = Math.sqrt(e * e + a * a);
        e /= Z;
        a /= Z;
        var O = (n * e + g * a) * -3e3;
        return {
            kP: B,
            xD: O
        }
    }
        ;
    ch.a4q = function (Y, S) {
        var h = ch.rj
            , q = 1e6 / Y
            , H = 1;
        for (; H < 31; H++) {
            if (q < h[H].h) {
                break
            }
        }
        var I = (h[H].h - q) / (h[H].h - h[H - 1].h)
            , E = (h[H - 1].d4 - h[H].d4) * I + h[H].d4
            , d = (h[H - 1].w1 - h[H].w1) * I + h[H].w1
            , B = Math.sqrt(1 + h[H].qa * h[H].qa)
            , n = 1 / B
            , g = h[H].qa / B
            , z = Math.sqrt(1 + h[H - 1].qa * h[H - 1].qa)
            , p = 1 / z
            , C = h[H - 1].qa / z
            , T = (p - n) * I + n
            , A = (C - g) * I + g
            , i = Math.sqrt(T * T + A * A);
        T /= i;
        A /= i;
        E += T * S / -3e3;
        d += A * S / -3e3;
        return {
            x: 1.5 * E / (E - 4 * d + 2),
            y: d / (E - 4 * d + 2)
        }
    }
        ;
    ch.a7T = function (Y) {
        var S = Y[0] + Y[1] + Y[2];
        return {
            x: Y[0] / S,
            y: Y[1] / S
        }
    }
        ;
    ch.l$ = function (Y) {
        return {
            x: Y.x / Y.y,
            y: 1,
            GD: (1 - Y.x - Y.y) / Y.y
        }
    }
        ;
    ch.ak3 = function (Y, S) {
        var h = t.eC.Av([.8951, .2664, -.1614, -.7502, 1.7135, .0367, .0389, -.0685, 1.0296])
            , q = [Y.x, Y.y, Y.GD, 0]
            , H = [S.x, S.y, S.GD, 0];
        q = t.eC.qB(h, q);
        H = t.eC.qB(h, H);
        var I = H[0] / q[0]
            , E = H[1] / q[1]
            , d = H[2] / q[2]
            , B = t.eC.Av([I, 0, 0, 0, E, 0, 0, 0, d])
            , n = t.eC.fb(h);
        return t.eC.multiply(t.eC.multiply(n, B), h)
    }
        ;
    t.raw.Aq = {};
    t.raw.FK = function (Y) {
        Y *= 8;
        var S = [8, 10, 12, 14, 16];
        for (var h in t.raw.UH) {
            var q = t.raw.UH[h];
            if (q.length == 4)
                continue;
            var H = q[4]
                , I = q[5];
            for (var G = 0; G < S.length; G++)
                if (H * I * S[G] == Y)
                    return [h, S[G]]
        }
        var E = [[4e3, 3e3]];
        for (var G = 0; G < E.length; G++) {
            var q = E[G]
                , H = q[0]
                , I = q[1];
            for (var G = 0; G < S.length; G++)
                if (H * I * S[G] == Y)
                    return [q, S[G]]
        }
        return null
    }
        ;
    t.raw.a7j = function (Y) {
        var Y = new Uint8Array(Y);
        for (var G = 0; G < Y.length; G += 2) {
            var S = Y[G];
            Y[G] = Y[G + 1];
            Y[G + 1] = S
        }
        var h = t.raw.FK(Y.length)
            , q = t.raw.UH[h[0]];
        if (q == null)
            q = [[8489, -2583, -1036, -8051, 15583, 2643, -1307, 1407, 7354], 0, 1e3, 64383, h[0][0], h[0][1]];
        var H = q[4]
            , I = q[5]
            , E = Math.max(q[2], 116)
            , d = {
                data: Y,
                fE: 1,
                width: H,
                height: I,
                t256: [H],
                t257: [I],
                t258: [h[1]],
                t277: [1],
                t33421: [2, 2],
                t33422: t.raw.$b[q[1]],
                t50706: [1, 2, 0, 0],
                t50714: [E, E, E, E],
                t50717: [q[3]],
                t50721: q[0].slice(0),
                t50723: [1, 0, 0, 0, 1, 0, 0, 0, 1],
                t50728: [.64, 1, .46],
                t50778: [17]
            };
        for (var G = 0; G < 9; G++)
            d.t50721[G] /= 1e4;
        return d
    }
        ;
    t.raw.Y2 = function (Y) {
        if (Y == null || Y.length == 0 || typeof Y[0] == "number")
            return Y;
        var S = [];
        for (var G = 0; G < Y.length; G++)
            S[G] = Y[G][1] == 0 ? 0 : Y[G][0] / Y[G][1];
        return S
    }
        ;
    t.raw.$b = [[2, 1, 1, 0], [0, 1, 1, 2], [1, 0, 2, 1], [1, 2, 0, 1]];
    t.raw.normalize = function (Y, S) {
        if (Y.t50706 != null || Y.t271[0].startsWith("Hasselblad")) {
            var h = [50714, 50718, 50719, 50720, 50721, 50722, 50723, 50724, 50727, 50728, 50730, 50731, 50732, 50734, 50736, 50738, 50739, 50780, 50964, 50965];
            for (var G = 0; G < h.length; G++)
                if (Y["t" + h[G]] != null)
                    Y["t" + h[G]] = t.raw.Y2(Y["t" + h[G]]);
            if (Y.t271 && Y.t271[0].startsWith("Hasselblad")) {
                Y.t50706 = [1, 2, 0, 0];
                Y.t33422 = t.raw.$b[1];
                Y.t50723 = [1, 0, 0, 0, 1, 0, 0, 0, 1];
                Y.t50778 = [17];
                if (!Y.isLE)
                    for (var G = 0; G < Y.data.length; G += 2) {
                        var q = Y.data[G];
                        Y.data[G] = Y.data[G + 1];
                        Y.data[G + 1] = q
                    }
            }
            return
        }
        var H = Y.t258[0]
            , I = Y.exifIFD
            , S = new Uint8Array(S);
        Y.t50706 = [1, 2, 0, 0];
        var E = Y.t272[0].trim();
        if (E.indexOf(" ") == -1)
            E = Y.t271[0].trim() + " " + E;
        if (Y.t50708 == null)
            Y.t50708 = [E];
        var d = t.raw.UH
            , B = d[E.toLowerCase()];
        if (B == null)
            for (var n in d)
                if (E.toLowerCase().startsWith(n))
                    B = d[n];
        if (B == null)
            throw E;
        var g = B[2];
        Y.t50714 = [g, g, g, g];
        Y.t50717 = [B[3]];
        Y.t50721 = B[0].slice(0);
        for (var G = 0; G < 9; G++)
            Y.t50721[G] = Y.t50721[G] * (1 / 1e4);
        Y.t50723 = [1, 0, 0, 0, 1, 0, 0, 0, 1];
        if (Y.t50728 == null)
            Y.t50728 = [.35, 1, .6];
        Y.t50778 = [17];
        if (Y.t271[0].startsWith("SONY")) {
            var z = UTIF["_bin" + (Y.isLE ? "LE" : "BE")], p = Y.t28688, Z;
            if (JSON.stringify(p) != "[8000,10400,12900,14100]")
                console.log(p);
            if (p) {
                var C = [0, 0, 0, 0, 0, 4095]
                    , T = new Uint16Array(16385);
                for (var G = 0; G < 4; G++) {
                    var A = p[G] >>> 2;
                    C[G + 1] = A;
                    if (A > 4095)
                        throw "e"
                }
                for (var G = 0; G < 16385; G++)
                    T[G] = G;
                for (var G = 0; G < 5; G++)
                    for (var i = C[G] + 1; i <= C[G + 1]; i++)
                        T[i] = T[i - 1] + (1 << G);
                var e = S.length * 8 < Y.width * Y.height * H;
                if (e)
                    Y.t50712 = T
            } else
                console.log("no curve");
            var a = Y.dngPrvt;
            if (a) {
                var O = a.t29184[0]
                    , c = a.t29185[0]
                    , s = (Y.isLE ? k.iV : k.n)(a.t29217, 0)
                    , x = new Uint32Array(S.slice(O, O + (c & 4294967292)).buffer)
                    , u = new Uint32Array(c >>> 2);
                t.raw.a68(x, u, c >>> 2, s);
                var y = new Uint8Array(O + c);
                y.set(new Uint8Array(u.buffer), O);
                var j = [];
                UTIF._readIFD(z, y, O, j, 0, !1);
                var v = j.pop()
                    , X = v.t29458;
                Y.t50728 = [X[1] / X[0], 1, X[1] / X[3]];
                Y.t50730 = [.5];
                var N = v.t29891;
                Y.t50829 = [N[1], N[0], N[3], N[2]]
            } else if (I.makerNote && I.makerNote.t8208) {
                var Z = I.makerNote
                    , V = Z.t8208
                    , $ = V.length
                    , w = 0
                    , m = new Uint8Array(256);
                for (var G = 249; G < 256; G++)
                    m[G] = G;
                for (var G = 0; G < 249; G++)
                    m[G * G * G % 249] = G;
                for (var G = 0; G < $; G++)
                    V[G] = m[V[G]];
                if ($ == 6604)
                    w = 612;
                else
                    throw "e";
                var X = [];
                for (var G = 0; G < 3; G++)
                    X.push(k.YP(V, w + G * 2));
                console.log(X);
                Y.t50728 = [X[1] / X[0], 1, X[1] / X[2]]
            } else
                console.log("no white balance");
            if (Y.width * Y.height * 1.5 == Y.t279[0]) {
                g = g >>> 2;
                Y.t50714 = [g, g, g, g];
                Y.t50717 = [B[3] >>> 2]
            }
        } else if (Y.t271[0].startsWith("Canon")) {
            var S = Y.data
                , l = S.slice(0)
                , b = Y.t50752
                , K = []
                , R = 0;
            if (b == null || b[0] == 0 && b[1] == 0)
                K.push(Y.width);
            else {
                for (var G = 0; G < b[0]; G++)
                    K.push(b[1]);
                K.push(b[2])
            }
            var J = Y.width * 2;
            for (var r = 0; r < K.length; r++) {
                var f = K[r]
                    , gf = 2 * R
                    , aa = 2 * f;
                for (var aA = 0; aA < Y.height; aA += 2) {
                    var e5 = aA * J + gf
                        , fk = Y.height * gf + (aA >> 1) * aa * 2;
                    for (var G = 0; G < aa; G++) {
                        S[e5 + G] = l[fk + G];
                        S[e5 + G + J] = l[fk + G + aa]
                    }
                }
                R += f
            }
            var Z = I.makerNote;
            if (Z.t16385) {
                var o = Z.t224
                    , dV = 0;
                if (o) {
                    Y.t50719 = [o[5], o[6]];
                    Y.t50720 = [o[7] + 1 - o[5], o[8] + 1 - o[6]]
                }
                var eY = Z.t16385
                    , du = eY.length;
                if (du == 582)
                    dV = 1;
                else if (du == 653)
                    dV = 2;
                else if (du == 796)
                    dV = 3;
                else if ([692, 674, 702, 1227, 1250, 1251, 1337, 1338, 1346].indexOf(du) != -1)
                    dV = 4;
                else if (du == 5120) {
                    dV = 5;
                    eY = new Int16Array(eY.slice(0).buffer)
                } else if (du == 1273 || du == 1275)
                    dV = 6;
                else if ([1312, 1313, 1316, 1506].indexOf(du) != -1)
                    dV = 7;
                else if ([1560, 1592, 1353, 1602].indexOf(du) != -1)
                    dV = 8;
                else
                    throw "e" + du;
                var hy = eY[0]
                    , bq = [null, [25, 166], [34, 286], [63, 196], [63], [71, hy == -4 ? 333 : 264], [63, 251], [63, hy == 10 ? 504 : 728], [63, 326]]
                    , w = bq[dV][0]
                    , i5 = bq[dV][1];
                if (dV == 4) {
                    if (eY[0] == 2)
                        i5 = 231;
                    else if (eY[0] == 3)
                        i5 = 231;
                    else if (eY[0] == 4)
                        i5 = 231;
                    else if (eY[0] == 5)
                        i5 = 231;
                    else if (eY[0] == 6)
                        i5 = 231;
                    else if (eY[0] == 7)
                        i5 = 231;
                    else if (eY[0] == 9)
                        i5 = 231;
                    else
                        throw "e"
                }
                Y.t50728 = [eY[w + 1] / eY[w], 1, eY[w + 1] / eY[w + 3]];
                var g = i5 == null ? 1024 : eY[i5];
                Y.t50714 = [g, g, g, g]
            } else {
                Y.t50728 = [.4, 1, .6]
            }
        } else if (Y.t271[0].startsWith("NIKON")) {
            var Z = I.makerNote, hX = Y.isLE ? k.YP : k.AV, c_ = 0, a5 = 0, aB, fp = 0;
            if (Z.t61) {
                var bY = Z.t61
                    , ds = [];
                for (var G = 0; G < 4; G++)
                    ds[G] = bY[G] / Math.pow(2, 14 - H);
                Y.t50714 = ds
            }
            if (Z.t3585) {
                var hV = Z.t3585
                    , G = 0
                    , O = 22;
                while (O < hV.length && G != -4) {
                    var gF = k.iV(hV, O);
                    O += 4;
                    O += 14;
                    G = k.iV(hV, O) - 4;
                    O += 4;
                    if (gF == 1990472198) {
                        if (hV[O] != 0)
                            throw "Flip"
                    }
                    if (gF == 1990472199) {
                        var co = k.YP(hV, O);
                        if (co == 0)
                            Y.fE = 1;
                        else if (co == 270)
                            Y.fE = 8;
                        else
                            throw "e " + co
                    }
                    O += G
                }
            }
            if (Z.t183) {
                var gb = Z.t183
                    , iC = [];
                for (var G = 0; G < 6; G++)
                    iC.push(hX(gb, 16 + G * 2));
                c_ = iC[0];
                a5 = iC[1]
            }
            if (Z.t3614) {
                var cC = Z.t3614;
                c_ = k.iV(cC, 8);
                a5 = k.iV(cC, 12)
            }
            if (c_ != 0) {
                if (c_ < a5) {
                    var q = c_;
                    c_ = a5;
                    a5 = q
                }
                var R = Y.width - c_ >>> 1
                    , aA = Y.height - a5 >>> 1;
                Y.t50829 = [aA, R, aA + a5, R + c_]
            }
            if (Z.t12) {
                var cd = t.raw.Y2(Z.t12);
                aB = [1 / cd[0], 1, 1 / cd[1]]
            } else if (Z.t151) {
                var dZ = t.raw.aeg(Z, 151)
                    , en = dZ[0]
                    , iL = dZ[1]
                    , cD = dZ[2];
                if (en == "0100" && iL >= 80)
                    throw "e";
                else if (en == "0102") {
                    var hP = [];
                    for (var G = 0; G < 4; G++)
                        hP.push(hX(cD, 6 + G * 2));
                    aB = [hP[1] / hP[0], 1, hP[1] / hP[3]]
                } else if (en == "0103" && iL >= 26) {
                    var hP = [];
                    for (var G = 0; G < 4; G++)
                        hP.push(hX(cD, 16 + G * 2));
                    aB = [hP[1] / hP[0], 1, hP[3] / hP[2]]
                } else if (en == "0204" && iL >= 564 || en == "0205" && iL >= 284) {
                    var O = en == "0204" ? 6 : 14
                        , hP = [];
                    for (var G = 0; G < 4; G++)
                        hP.push(hX(cD, O + G * 2));
                    aB = [hP[1] / hP[0], 1, hP[1] / hP[3]]
                } else
                    throw "e"
            } else
                console.log("no white balance info");
            if (E == "NIKON D1")
                aB = [1, 1, 1];
            if (aB)
                Y.t50728 = aB;
            var ea = Z.t150 ? Z.t150 : Z.t140;
            if (ea) {
                var bC = ea[fp++], hG = ea[fp++], fQ;
                if (bC == 73 || hG == 88)
                    fp += 2110;
                fp += 8;
                var b3 = 1 << H & 32767
                    , ct = hX(ea, fp);
                fp += 2;
                var T = [];
                if (ct > 1)
                    fQ = Math.floor(b3 / (ct - 1));
                if (bC == 68 && hG == 32 && fQ > 0) {
                    for (G = 0; G < ct; G++) {
                        T[G * fQ] = hX(ea, fp);
                        fp += 2
                    }
                    for (G = 0; G < b3; G++)
                        T[G] = Math.floor((T[G - G % fQ] * (fQ - G % fQ) + T[G - G % fQ + fQ] * (G % fQ)) / fQ)
                } else if (bC != 70 && ct <= 16385) {
                    b3 = ct;
                    for (var G = 0; G < ct; G++)
                        T[G] = hX(ea, fp + 2 * G);
                    fp += 2 * ct
                }
                if (T.length != 0)
                    Y.t50712 = new Uint16Array(T);
                else if (Y.t272[0] == "NIKON D750")
                    Y.t50717[0] *= 4
            }
        } else if (E.startsWith("FujiFilm")) { } else
            alert("Unknown camera " + E)
    }
        ;
    t.raw.a68 = function (Y, S, h, q) {
        if (0 == h)
            return;
        var H = new Uint32Array(128)
            , I = new Uint8Array(H.buffer)
            , E = 127
            , d = 0
            , B = 0;
        for (var E = 0; E < 4; E++)
            H[E] = q = (q * 15625 >>> 0) * 3125 + 1 >>> 0;
        H[3] = H[3] << 1 | (H[0] ^ H[2]) >>> 31;
        for (var E = 4; E < 127; E++)
            H[E] = (H[E - 4] ^ H[E - 2]) << 1 | (H[E - 3] ^ H[E - 1]) >>> 31;
        for (var E = 0; E < 127; E++)
            H[E] = k.n(I, E * 4);
        for (; h > 0; h--) {
            H[E & 127] = H[E + 1 & 127] ^ H[E + 1 + 64 & 127];
            var n = H[E & 127]
                , g = Y[d];
            g ^= n;
            S[B] = g;
            d++;
            B++;
            E++
        }
    }
        ;
    t.raw.anb = function (Y, S) {
        var h = k.Fe(S, 0, 4)
            , q = t.raw.ai2;
        for (var G = 0; G < q.length; G++)
            if (q[G][0] == Y && h.startsWith(q[G][1]) && (q[G][2] == 0 || q[G][2] == S.length))
                return q[G];
        throw "e"
    }
        ;
    t.raw.a3W = function (Y) {
        if (Y.t29 == null)
            return [];
        var S = t.raw.amm
            , h = t.raw.a7S
            , q = Y.t29[0]
            , H = 0
            , E = 0;
        for (var G = 0; G < q.length; G++) {
            var I = q.charCodeAt(G);
            H = H * 10 + (48 <= I && I <= 57 ? I - 48 : I % 10)
        }
        var iL = Y.t167[0];
        for (var G = 0; G < 4; G++)
            E ^= iL >>> (G << 3) & 255;
        var d = S[H & 255]
            , B = h[E & 255];
        return [d, B, 96]
    }
        ;
    t.raw.aeg = function (Y, S) {
        var h = Y["t" + S], iL = h.length, q = t.raw.anb(S, h), H = k.Fe(h, 0, 4), I, E = q[4];
        if (E == null)
            I = h.slice(4);
        else {
            I = new Uint8Array(iL - E);
            var d = t.raw.a3W(Y)
                , B = d[0]
                , n = d[1]
                , g = d[2];
            for (var G = 0; G < I.length; G++) {
                n = n + B * g++ & 255;
                I[G] = h[E++] ^ n
            }
        }
        return [H, iL, I]
    }
        ;
    t.raw.ai2 = [[145, "0208", 0, 0, 4], [145, "0209", 0, 1, 4], [145, "0210", 5291, 2, 4], [145, "0210", 5303, 3, 4], [145, "02", 0, 4, 4], [145, "01", 0, 5, null], [151, "0100", 0, 0, null], [151, "0102", 0, 1, null], [151, "0103", 0, 4, null], [151, "0204", 0, 3, 284], [151, "0205", 0, 2, 4], [151, "0206", 0, 3, 284], [151, "0207", 0, 3, 284], [151, "0208", 0, 3, 284], [151, "0209", 0, 5, 284], [151, "02", 0, 3, 284], [152, "0100", 0, 0, null], [152, "0101", 0, 1, null], [152, "0201", 0, 1, 4], [152, "0202", 0, 1, 4], [152, "0203", 0, 1, 4], [152, "0204", 0, 2, 4], [168, "0100", 0, 0, null], [168, "0101", 0, 0, null], [168, "0102", 0, 1, null], [168, "0103", 0, 2, null]];
    t.raw.amm = [193, 191, 109, 13, 89, 197, 19, 157, 131, 97, 107, 79, 199, 127, 61, 61, 83, 89, 227, 199, 233, 47, 149, 167, 149, 31, 223, 127, 43, 41, 199, 13, 223, 7, 239, 113, 137, 61, 19, 61, 59, 19, 251, 13, 137, 193, 101, 31, 179, 13, 107, 41, 227, 251, 239, 163, 107, 71, 127, 149, 53, 167, 71, 79, 199, 241, 89, 149, 53, 17, 41, 97, 241, 61, 179, 43, 13, 67, 137, 193, 157, 157, 137, 101, 241, 233, 223, 191, 61, 127, 83, 151, 229, 233, 149, 23, 29, 61, 139, 251, 199, 227, 103, 167, 7, 241, 113, 167, 83, 181, 41, 137, 229, 43, 167, 23, 41, 233, 79, 197, 101, 109, 107, 239, 13, 137, 73, 47, 179, 67, 83, 101, 29, 73, 163, 19, 137, 89, 239, 107, 239, 101, 29, 11, 89, 19, 227, 79, 157, 179, 41, 67, 43, 7, 29, 149, 89, 89, 71, 251, 229, 233, 97, 71, 47, 53, 127, 23, 127, 239, 127, 149, 149, 113, 211, 163, 11, 113, 163, 173, 11, 59, 181, 251, 163, 191, 79, 131, 29, 173, 233, 47, 113, 101, 163, 229, 7, 53, 61, 13, 181, 233, 229, 71, 59, 157, 239, 53, 163, 191, 179, 223, 83, 211, 151, 83, 73, 113, 7, 53, 97, 113, 47, 67, 47, 17, 223, 23, 151, 251, 149, 59, 127, 107, 211, 37, 191, 173, 199, 197, 197, 181, 139, 239, 47, 211, 7, 107, 37, 73, 149, 37, 73, 109, 113, 199];
    t.raw.a7S = [167, 188, 201, 173, 145, 223, 133, 229, 212, 120, 213, 23, 70, 124, 41, 76, 77, 3, 233, 37, 104, 17, 134, 179, 189, 247, 111, 97, 34, 162, 38, 52, 42, 190, 30, 70, 20, 104, 157, 68, 24, 194, 64, 244, 126, 95, 27, 173, 11, 148, 182, 103, 180, 11, 225, 234, 149, 156, 102, 220, 231, 93, 108, 5, 218, 213, 223, 122, 239, 246, 219, 31, 130, 76, 192, 104, 71, 161, 189, 238, 57, 80, 86, 74, 221, 223, 165, 248, 198, 218, 202, 144, 202, 1, 66, 157, 139, 12, 115, 67, 117, 5, 148, 222, 36, 179, 128, 52, 229, 44, 220, 155, 63, 202, 51, 69, 208, 219, 95, 245, 82, 195, 33, 218, 226, 34, 114, 107, 62, 208, 91, 168, 135, 140, 6, 93, 15, 221, 9, 25, 147, 208, 185, 252, 139, 15, 132, 96, 51, 28, 155, 69, 241, 240, 163, 148, 58, 18, 119, 51, 77, 68, 120, 40, 60, 158, 253, 101, 87, 22, 148, 107, 251, 89, 208, 200, 34, 54, 219, 210, 99, 152, 67, 161, 4, 135, 134, 247, 166, 38, 187, 214, 89, 77, 191, 106, 46, 170, 43, 239, 230, 120, 182, 78, 224, 47, 220, 124, 190, 87, 25, 50, 126, 42, 208, 184, 186, 41, 0, 60, 82, 125, 168, 73, 59, 45, 235, 37, 73, 250, 163, 170, 57, 167, 197, 167, 80, 17, 54, 251, 198, 103, 74, 245, 165, 18, 101, 126, 176, 223, 175, 78, 179, 97, 127, 47];
    t.raw.UH = {
        "canon eos 100d": [[6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2048, 15e3],
        "canon eos rebel sl1": [[6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2048, 15e3],
        "canon eos kiss x7": [[6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2048, 15e3],
        "canon eos 200d": [[7377, -742, -998, -4235, 11981, 2549, -673, 1918, 5538], 1, 2049, 14338],
        "canon eos rebel sl2": [[7377, -742, -998, -4235, 11981, 2549, -673, 1918, 5538], 1, 2049, 14338],
        "canon eos kiss x9": [[7377, -742, -998, -4235, 11981, 2549, -673, 1918, 5538], 1, 2049, 14338],
        "canon eos 300d": [[8197, -2e3, -1118, -6714, 14335, 2592, -2536, 3178, 8266], 1, 126, 4e3],
        "canon eos digital rebel": [[8197, -2e3, -1118, -6714, 14335, 2592, -2536, 3178, 8266], 1, 126, 4e3],
        "canon eos kiss digital": [[8197, -2e3, -1118, -6714, 14335, 2592, -2536, 3178, 8266], 1, 126, 4e3],
        "canon eos d30": [[9805, -2689, -1312, -5803, 13064, 3068, -2438, 3075, 8775], 1, 126, 4095],
        "canon eos d60": [[6188, -1341, -890, -7168, 14489, 2937, -2640, 3228, 8483], 1, 127, 4e3],
        "canon eos 10d": [[8197, -2e3, -1118, -6714, 14335, 2592, -2536, 3178, 8266], 1, 130, 4e3],
        "canon eos 20d": [[6599, -537, -891, -8071, 15783, 2424, -1983, 2234, 7462], 1, 126, 4095],
        "canon eos 30d": [[6257, -303, -1e3, -7880, 15621, 2396, -1714, 1904, 7046], 1, 127, 3398],
        "canon eos 350d": [[6018, -617, -965, -8645, 15881, 2975, -1530, 1719, 7642], 1, 255, 4095],
        "canon eos digital rebel xt": [[6018, -617, -965, -8645, 15881, 2975, -1530, 1719, 7642], 1, 255, 4095],
        "canon eos kiss digital n": [[6018, -617, -965, -8645, 15881, 2975, -1530, 1719, 7642], 1, 255, 4095],
        "canon eos 350d": [[6018, -617, -965, -8645, 15881, 2975, -1530, 1719, 7642], 1, 255, 4095],
        "canon eos 350d digital": [[6018, -617, -965, -8645, 15881, 2975, -1530, 1719, 7642], 1, 255, 4095],
        "canon eos 40d": [[6071, -747, -856, -7653, 15365, 2441, -2025, 2553, 7315], 1, 1021, 13600],
        "canon eos 450d": [[5784, -262, -821, -7539, 15064, 2672, -1982, 2681, 7427], 1, 1020, 14500],
        "canon eos digital rebel xsi": [[5784, -262, -821, -7539, 15064, 2672, -1982, 2681, 7427], 1, 1020, 14500],
        "canon eos kiss digital x2": [[5784, -262, -821, -7539, 15064, 2672, -1982, 2681, 7427], 1, 1020, 14500],
        "canon eos kiss x2": [[5784, -262, -821, -7539, 15064, 2672, -1982, 2681, 7427], 1, 1020, 14500],
        "canon eos 50d": [[4920, 616, -593, -6493, 13964, 2784, -1774, 3178, 7005], 3, 1020, 13653],
        "canon eos 60d": [[6719, -994, -925, -4408, 12426, 2211, -887, 2129, 6051], 3, 2026, 14200],
        "canon eos 70d": [[7034, -804, -1014, -4420, 12564, 2058, -851, 1994, 5758], 1, 2026, 13653],
        "canon eos 80d": [[7457, -671, -937, -4849, 12495, 2643, -1213, 2354, 5492], 1, 512, 11892],
        "canon eos 700d": [[6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2052, 15e3],
        "canon eos rebel t5i": [[6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2052, 15e3],
        "canon eos kiss x7i": [[6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2052, 15e3],
        "canon eos 750d": [[6362, -823, -847, -4426, 12109, 2616, -743, 1857, 5635], 1, 2047, 11765],
        "canon eos rebel t6i": [[6362, -823, -847, -4426, 12109, 2616, -743, 1857, 5635], 1, 2047, 11765],
        "canon eos kiss x8i": [[6362, -823, -847, -4426, 12109, 2616, -743, 1857, 5635], 1, 2047, 11765],
        "canon eos 800d": [[6970, -512, -968, -4425, 12161, 2553, -739, 1982, 5601], 1, 2049, 14338],
        "canon eos rebel t7i": [[6970, -512, -968, -4425, 12161, 2553, -739, 1982, 5601], 1, 2049, 14338],
        "canon eos rebel t7i": [[6970, -512, -968, -4425, 12161, 2553, -739, 1982, 5601], 1, 2049, 14338],
        "canon eos kiss x9i": [[6970, -512, -968, -4425, 12161, 2553, -739, 1982, 5601], 1, 2049, 14338],
        "canon eos 760d": [[6362, -823, -847, -4426, 12109, 2616, -743, 1857, 5635], 1, 2047, 11765],
        "canon eos rebel t6s": [[6362, -823, -847, -4426, 12109, 2616, -743, 1857, 5635], 1, 2047, 11765],
        "canon eos 8000d": [[6362, -823, -847, -4426, 12109, 2616, -743, 1857, 5635], 1, 2047, 11765],
        "canon eos 77d": [[7377, -742, -998, -4235, 11981, 2549, -673, 1918, 5538], 1, 2048, 14338],
        "canon eos 9000d": [[7377, -742, -998, -4235, 11981, 2549, -673, 1918, 5538], 1, 2048, 14338],
        "canon eos 500d": [[4763, 712, -646, -6821, 14399, 2640, -1921, 3276, 6561], 1, 1020, 16e3],
        "canon eos rebel t1i": [[4763, 712, -646, -6821, 14399, 2640, -1921, 3276, 6561], 1, 1020, 16e3],
        "canon eos kiss x3": [[4763, 712, -646, -6821, 14399, 2640, -1921, 3276, 6561], 1, 1020, 16e3],
        "canon eos 550d": [[6941, -1164, -857, -3825, 11597, 2534, -416, 1540, 6039], 0, 2048, 15831],
        "canon eos rebel t2i": [[6941, -1164, -857, -3825, 11597, 2534, -416, 1540, 6039], 0, 2048, 15831],
        "canon eos kiss x4": [[6941, -1164, -857, -3825, 11597, 2534, -416, 1540, 6039], 0, 2048, 15831],
        "canon eos 600d": [[6461, -907, -882, -4300, 12184, 2378, -819, 1944, 5931], 3, 2026, 13584],
        "canon eos rebel t3i": [[6461, -907, -882, -4300, 12184, 2378, -819, 1944, 5931], 3, 2026, 13584],
        "canon eos kiss x5": [[6461, -907, -882, -4300, 12184, 2378, -819, 1944, 5931], 3, 2026, 13584],
        "canon eos 650d": [[6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2026, 13584],
        "canon eos rebel t4i": [[6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2026, 13584],
        "canon eos kiss x6i": [[6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2026, 13584],
        "canon eos 5d": [[6347, -479, -972, -8297, 15954, 2480, -1968, 2131, 7649], 1, 127, 3692],
        "canon eos 5d mark ii": [[4716, 603, -830, -7798, 15474, 2480, -1496, 1937, 6651], 3, 1024, 12995],
        "canon eos 5d mark iii": [[6722, -635, -963, -4287, 12460, 2028, -908, 2162, 5668], 1, 2060, 16383],
        "canon eos 5d mark iv": [[6446, -366, -864, -4436, 12204, 2513, -952, 2496, 6348], 1, 2049, 14448],
        "canon eos 5ds": [[6250, -711, -808, -5153, 12794, 2636, -1249, 2198, 5610], 1, 2048, 15181],
        "canon eos 5ds r": [[6250, -711, -808, -5153, 12794, 2636, -1249, 2198, 5610], 1, 2048, 15181],
        "canon eos 6d": [[7034, -804, -1014, -4420, 12564, 2058, -851, 1994, 5758], 1, 2048, 15e3],
        "canon eos 6d mark ii": [[6875, -970, -932, -4691, 12459, 2501, -874, 1953, 5809], 1, 2049, 14558],
        "canon eos 7d": [[6844, -996, -856, -3876, 11761, 2396, -593, 1772, 6198], 3, 2049, 15400],
        "canon eos 7d mark ii": [[7268, -1082, -969, -4186, 11839, 2663, -825, 2029, 5839], 1, 2048, 15100],
        "canon eos 1000d": [[6771, -1139, -977, -7818, 15123, 2928, -1244, 1437, 7533], 1, 255, 3650],
        "canon eos digital rebel xs": [[6771, -1139, -977, -7818, 15123, 2928, -1244, 1437, 7533], 1, 255, 3650],
        "canon eos kiss digital f": [[6771, -1139, -977, -7818, 15123, 2928, -1244, 1437, 7533], 1, 255, 3650],
        "canon eos 1100d": [[6444, -904, -893, -4563, 12308, 2535, -903, 2016, 6728], 1, 2036, 15500],
        "canon eos rebel t3": [[6444, -904, -893, -4563, 12308, 2535, -903, 2016, 6728], 1, 2036, 15500],
        "canon eos 1200d": [[6461, -907, -882, -4300, 12184, 2378, -819, 1944, 5931], 3, 2046, 12279],
        "canon eos rebel t5": [[6461, -907, -882, -4300, 12184, 2378, -819, 1944, 5931], 3, 2046, 12279],
        "canon eos kiss x70": [[6461, -907, -882, -4300, 12184, 2378, -819, 1944, 5931], 3, 2046, 12279],
        "canon eos 1300d": [[6939, -1016, -866, -4428, 12473, 2177, -1175, 2178, 6162], 3, 2048, 15e3],
        "canon eos rebel t6": [[6939, -1016, -866, -4428, 12473, 2177, -1175, 2178, 6162], 3, 2048, 15e3],
        "canon eos kiss x80": [[6939, -1016, -866, -4428, 12473, 2177, -1175, 2178, 6162], 3, 2048, 15e3],
        "canon eos 2000d": [[8532, -701, -1167, -4095, 11879, 2508, -797, 2424, 7010], 3, 2048, 15092],
        "canon eos rebel t7": [[8532, -701, -1167, -4095, 11879, 2508, -797, 2424, 7010], 3, 2048, 15092],
        "canon eos 1500d": [[8532, -701, -1167, -4095, 11879, 2508, -797, 2424, 7010], 3, 2048, 15092],
        "canon eos 4000d": [[6939, -1016, -866, -4428, 12473, 2177, -1175, 2178, 6162], 3, 2051, 15e3],
        "canon eos rebel t100": [[6939, -1016, -866, -4428, 12473, 2177, -1175, 2178, 6162], 3, 2051, 15e3],
        "canon eos 3000d": [[6939, -1016, -866, -4428, 12473, 2177, -1175, 2178, 6162], 3, 2051, 15e3],
        "canon eos 400d": [[7054, -1501, -990, -8156, 15544, 2812, -1278, 1414, 7796], 1, 255, 3726],
        "canon eos digital rebel xti": [[7054, -1501, -990, -8156, 15544, 2812, -1278, 1414, 7796], 1, 255, 3726],
        "canon eos kiss digital x": [[7054, -1501, -990, -8156, 15544, 2812, -1278, 1414, 7796], 1, 255, 3726],
        "canon eos m": [[6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2026, 13584],
        "canon eos m2": [[6400, -480, -888, -5294, 13416, 2047, -1296, 2203, 6137], 1, 2026, 13584],
        "canon eos m3": [[6362, -823, -847, -4426, 12109, 2616, -743, 1857, 5635], 1, 2048, 16e3],
        "canon eos m5": [[8532, -701, -1167, -4095, 11879, 2508, -797, 2424, 7010], 1, 2048, 16e3],
        "canon eos m6": [[8532, -701, -1167, -4095, 11879, 2508, -797, 2424, 7010], 1, 2048, 16e3],
        "canon eos m10": [[6400, -480, -888, -5294, 13416, 2047, -1296, 2203, 6137], 1, 2048, 16e3],
        "canon eos m100": [[8532, -701, -1167, -4095, 11879, 2508, -797, 2424, 7010], 1, 2048, 16e3],
        "canon eos-1d": [[6806, -179, -1020, -8097, 16415, 1687, -3267, 4236, 7690], 2, 0, 3588],
        "canon eos-1ds": [[4374, 3631, -1743, -7520, 15212, 2472, -2892, 3632, 8161], 2, 0, 3500],
        "canon eos d2000c": [[24542, -10860, -3401, -1490, 11370, -297, 2858, -605, 3225], 2, 96, 4095],
        "canon eos-1d mark ii": [[6264, -582, -724, -8312, 15948, 2504, -1744, 1919, 8664], 1, 127, 3700],
        "canon eos-1d mark ii n": [[6240, -466, -822, -8180, 15825, 2500, -1801, 1938, 8042], 1, 127, 3700],
        "canon eos-1d mark iii": [[6291, -540, -976, -8350, 16145, 2311, -1714, 1858, 7326], 1, 1023, 15100],
        "canon eos-1d mark iv": [[6014, -220, -795, -4109, 12014, 2361, -561, 1824, 5787], 3, 2e3, 13e3],
        "canon eos-1ds mark ii": [[6517, -602, -867, -8180, 15926, 2378, -1618, 1771, 7633], 3, 126, 4060],
        "canon eos-1ds mark iii": [[5859, -211, -930, -8255, 16017, 2353, -1732, 1887, 7448], 1, 1021, 15100],
        "canon eos-1d x": [[6847, -614, -1014, -4669, 12737, 2139, -1197, 2488, 6846], 1, 2050, 15100],
        "canon eos-1d x mark ii": [[7596, -978, -967, -4808, 12571, 2503, -1398, 2567, 5752], 1, 2048, 14888],
        "canon powershot pro1": [[10062, -3522, -999, -7643, 15117, 2730, -765, 817, 7323], 1, 129, 4095],
        "canon powershot g1": [[-4778, 9467, 2172, 4743, -1141, 4344, -5146, 9908, 6077, -1566, 11051, 557], 0, 31, 1023],
        "canon powershot g2": [[9087, -2693, -1049, -6715, 14382, 2537, -2291, 2819, 7790], 1, 0, 1023],
        "canon powershot g3": [[9212, -2781, -1073, -6573, 14189, 2605, -2300, 2844, 7664], 1, 0, 4095],
        "canon powershot g3 x": [[9701, -3857, -921, -3149, 11537, 1817, -786, 1817, 5147], 1, 2047, 16e3],
        "canon powershot g5": [[9757, -2872, -933, -5972, 13861, 2301, -1622, 2328, 7212], 1, 0, 4095],
        "canon powershot g5 x": [[9602, -3823, -937, -2984, 11495, 1675, -407, 1415, 5049], 1, 2047, 16e3],
        "canon powershot g6": [[9877, -3775, -871, -7613, 14807, 3072, -1448, 1305, 7485], 1, 128, 4095],
        "canon powershot g7 x": [[9602, -3823, -937, -2984, 11495, 1675, -407, 1415, 5049], 1, 511, 4e3],
        "canon powershot g7 x mark ii": [[9602, -3823, -937, -2984, 11495, 1675, -407, 1415, 5049], 1, 2047, 16e3],
        "canon powershot g1 x": [[7378, -1255, -1043, -4088, 12251, 2048, -876, 1946, 5805], 1, 0, 16383],
        "canon powershot g1 x mark ii": [[7378, -1255, -1043, -4088, 12251, 2048, -876, 1946, 5805], 1, 0, 16e3],
        "canon powershot g1 x mark iii": [[8532, -701, -1167, -4095, 11879, 2508, -797, 2424, 7010], 1, 2048, 16e3],
        "canon powershot g12": [[13244, -5501, -1248, -1508, 9858, 1935, -270, 1083, 4366], 1, 120, 4095],
        "canon powershot g11": [[12177, -4817, -1069, -1612, 9864, 2049, -98, 850, 4471], 1, 120, 4095],
        "canon powershot g10": [[11093, -3906, -1028, -5047, 12492, 2879, -1003, 1750, 5561], 3, 128, 4095],
        "canon powershot g9": [[7368, -2141, -598, -5621, 13254, 2625, -1418, 1696, 5743], 1, 125, 4095],
        "canon powershot g9 x": [[9602, -3823, -937, -2984, 11495, 1675, -407, 1415, 5049], 1, 2047, 16e3],
        "canon powershot g9 x mark ii": [[10056, -4131, -944, -2576, 11143, 1625, -238, 1294, 5179], 1, 2048, 16e3],
        "canon powershot g15": [[7474, -2301, -567, -4056, 11456, 2975, -222, 716, 4181], 3, 500, 2800],
        "canon powershot g16": [[8020, -2687, -682, -3704, 11879, 2052, -965, 1921, 5556], 1, 0, 4095],
        "canon powershot sx1 is": [[6578, -259, -502, -5974, 13030, 3309, -308, 1058, 4970], 1, 125, 4095],
        "canon powershot s30": [[10566, -3652, -1129, -6552, 14662, 2006, -2197, 2581, 7670], 1, 31, 1023],
        "canon powershot s40": [[8510, -2487, -940, -6869, 14231, 2900, -2318, 2829, 9013], 1, 0, 1023],
        "canon powershot s45": [[8163, -2333, -955, -6682, 14174, 2751, -2077, 2597, 8041], 1, 129, 4095],
        "canon powershot s50": [[8882, -2571, -863, -6348, 14234, 2288, -1516, 2172, 6569], 1, 129, 4095],
        "canon powershot s60": [[8795, -2482, -797, -7804, 15403, 2573, -1422, 1996, 7082], 1, 129, 4095],
        "canon powershot s70": [[9976, -3810, -832, -7115, 14463, 2906, -901, 989, 7889], 1, 129, 4095],
        "canon powershot s90": [[12374, -5016, -1049, -1677, 9902, 2078, -83, 852, 4683], 1, 125, 4095],
        "canon powershot s95": [[13440, -5896, -1279, -1236, 9598, 1931, -180, 1001, 4651], 1, 125, 4095],
        "canon powershot s100": [[7968, -2565, -636, -2873, 10697, 2513, 180, 667, 4211], 3, 125, 4095],
        "canon powershot s110": [[8039, -2643, -654, -3783, 11230, 2930, -206, 690, 4194], 3, 500, 3072],
        "canon powershot s120": [[6961, -1685, -695, -4625, 12945, 1836, -1114, 2152, 5518], 1, 0, 4e3],
        "canon powershot sx50 hs": [[12432, -4753, -1247, -2110, 10691, 1629, -412, 1623, 4926], 1, 127, 4095],
        "canon powershot sx60 hs": [[13161, -5451, -1344, -1989, 10654, 1531, -47, 1271, 4955], 1, 128, 4e3],
        "nikon d100": [[5902, -933, -782, -8983, 16719, 2354, -1402, 1455, 6464], 2, 0, 4095],
        "nikon d1": [[16772, -4726, -2141, -7611, 15713, 1972, -2846, 3494, 9521], 0, 0, 4095],
        "nikon d1h": [[7577, -2166, -926, -7454, 15592, 1934, -2377, 2808, 8606], 0, 0, 4095],
        "nikon d1x": [[7702, -2245, -975, -9114, 17242, 1875, -2679, 3055, 8521], 0, 0, 4095],
        "nikon d200": [[8367, -2248, -763, -8758, 16447, 2422, -1527, 1550, 8053], 2, 0, 3880],
        "nikon d2h": [[5710, -901, -615, -8594, 16617, 2024, -2975, 4120, 6830], 3, 0, 3880],
        "nikon d2hs": [[5710, -901, -615, -8594, 16617, 2024, -2975, 4120, 6830], 3, 0, 3880],
        "nikon d2x": [[10231, -2769, -1255, -8301, 15900, 2552, -797, 680, 7148], 1, 0, 3880],
        "nikon d2xs": [[10231, -2769, -1255, -8301, 15900, 2552, -797, 680, 7148], 1, 0, 3880],
        "nikon d3": [[8139, -2171, -663, -8747, 16541, 2295, -1925, 2008, 8093], 1, 0, 15892],
        "nikon d3s": [[8828, -2406, -694, -4874, 12603, 2541, -660, 1509, 7587], 1, 0, 15520],
        "nikon d3x": [[7171, -1986, -648, -8085, 15555, 2718, -2170, 2512, 7457], 1, 0, 15892],
        "nikon d300": [[9030, -1992, -715, -8465, 16302, 2255, -2689, 3217, 8069], 1, 0, 15236],
        "nikon d300s": [[9030, -1992, -716, -8465, 16302, 2256, -2689, 3217, 8069], 1, 0, 15236],
        "nikon d3000": [[8736, -2458, -935, -9075, 16894, 2251, -1354, 1242, 8263], 3, 0, 3880],
        "nikon d3200": [[7013, -1408, -635, -5268, 12902, 2640, -1470, 2801, 7379], 1, 0, 3880],
        "nikon d3300": [[6988, -1384, -714, -5631, 13410, 2447, -1485, 2204, 7318], 1, 150, 3880],
        "nikon d3400": [[6988, -1384, -714, -5631, 13410, 2447, -1485, 2204, 7318], 1, 150, 3880],
        "nikon d3500": [[8821, -2938, -785, -4178, 12142, 2287, -824, 1651, 6860], 1, 150, 3972],
        "nikon d4": [[8598, -2848, -857, -5618, 13606, 2195, -1002, 1773, 7137], 1, 0, 15520],
        "nikon d5": [[9200, -3522, -992, -5755, 13803, 2117, -753, 1486, 6338], 1, 400, 15520],
        "nikon z 5": [[8695, -2558, -648, -5015, 12711, 2575, -1279, 2215, 7514], 1, 1008, 15520],
        "nikon z 6": [[9943, -3269, -839, -5323, 13269, 2259, -1198, 2083, 7557], 1, 1008, 15520],
        "nikon z 7": [[10405, -3755, -1270, -5461, 13787, 1793, -1040, 2015, 6785], 1, 1008, 15520],
        "nikon z 50": [[11640, -4829, -1079, -5107, 13006, 2325, -972, 1711, 7380], 1, 251, 3880],
        "nikon df": [[8598, -2848, -857, -5618, 13606, 2195, -1002, 1773, 7137], 1, 0, 15520],
        "nikon d5100": [[8198, -2239, -724, -4871, 12389, 2798, -1043, 2050, 7181], 1, 0, 15892],
        "nikon d3100": [[7911, -2167, -813, -5327, 13150, 2408, -1288, 2483, 7968], 3, 0, 3880],
        "nikon d40": [[6992, -1668, -806, -8138, 15748, 2543, -874, 850, 7897], 0, 0, 3880],
        "nikon d40x": [[8819, -2543, -911, -9025, 16928, 2151, -1329, 1213, 8449], 3, 0, 3880],
        "nikon d50": [[7732, -2422, -789, -8238, 15884, 2498, -859, 783, 7330], 0, 0, 4095],
        "nikon d500": [[8813, -3210, -1036, -4703, 12868, 2021, -1054, 1940, 6129], 1, 400, 15520],
        "nikon d5000": [[7309, -1403, -519, -8474, 16008, 2622, -2433, 2826, 8064], 3, 0, 3767],
        "nikon d5200": [[8322, -3112, -1047, -6367, 14342, 2179, -988, 1638, 6394], 1, 0, 15892],
        "nikon d5300": [[6988, -1384, -714, -5631, 13410, 2447, -1485, 2204, 7318], 1, 150, 3972],
        "nikon d5500": [[8821, -2938, -785, -4178, 12142, 2287, -824, 1651, 6860], 1, 150, 3972],
        "nikon d5600": [[8821, -2938, -785, -4178, 12142, 2287, -824, 1651, 6860], 1, 150, 3972],
        "nikon d60": [[8736, -2458, -935, -9075, 16894, 2251, -1354, 1242, 8263], 3, 0, 3880],
        "nikon d600": [[8178, -2245, -609, -4857, 12394, 2776, -1207, 2086, 7298], 1, 0, 15520],
        "nikon d610": [[8178, -2245, -609, -4857, 12394, 2776, -1207, 2086, 7298], 1, 0, 15520],
        "nikon d70": [[7732, -2422, -789, -8238, 15884, 2498, -859, 783, 7330], 0, 0, 4095],
        "nikon d700": [[8139, -2171, -663, -8747, 16541, 2295, -1925, 2008, 8093], 1, 0, 3972],
        "nikon d750": [[9020, -2890, -715, -4535, 12436, 2348, -934, 1919, 7086], 1, 150, 3880],
        "nikon d780": [[9943, -3269, -839, -5323, 13269, 2259, -1198, 2083, 7557], 1, 251, 3880],
        "nikon d7000": [[8198, -2239, -724, -4871, 12389, 2798, -1043, 2050, 7181], 1, 0, 15892],
        "nikon d7100": [[8322, -3112, -1047, -6367, 14342, 2179, -988, 1638, 6394], 1, 0, 15892],
        "nikon d7200": [[8322, -3112, -1047, -6367, 14342, 2179, -988, 1638, 6394], 1, 600, 15892],
        "nikon d7500": [[8813, -3210, -1036, -4703, 12868, 2021, -1054, 1940, 6129], 1, 100, 3880],
        "nikon d70s": [[7732, -2422, -789, -8238, 15884, 2498, -859, 783, 7330], 0, 0, 4095],
        "nikon d80": [[8629, -2410, -883, -9055, 16940, 2171, -1490, 1363, 8520], 3, 0, 3880],
        "nikon d800": [[7866, -2108, -555, -4869, 12483, 2681, -1176, 2069, 7501], 1, 0, 15520],
        "nikon d800e": [[7866, -2108, -555, -4869, 12483, 2681, -1176, 2069, 7501], 1, 0, 15520],
        "nikon d810": [[9369, -3195, -791, -4488, 12430, 2301, -893, 1796, 6872], 1, 150, 3880],
        "nikon d850": [[10405, -3755, -1270, -5461, 13787, 1793, -1040, 2015, 6785], 1, 100, 3880],
        "nikon d4s": [[8598, -2848, -857, -5618, 13606, 2195, -1002, 1773, 7137], 1, 192, 3880],
        "nikon d90": [[7309, -1403, -519, -8474, 16008, 2622, -2434, 2826, 8064], 3, 0, 3767],
        "nikon 1 j1": [[8994, -2667, -865, -4594, 12324, 2552, -699, 1786, 6260], 1, 0, 3300],
        "nikon 1 j2": [[8994, -2667, -865, -4594, 12324, 2552, -699, 1786, 6260], 1, 0, 4095],
        "nikon 1 j3": [[6588, -1305, -693, -3277, 10987, 2634, -355, 2016, 5106], 1, 0, 4095],
        "nikon 1 j4": [[5958, -1559, -571, -4021, 11453, 2939, -634, 1548, 5087], 1, 200, 4e3],
        "nikon 1 j5": [[7520, -2518, -645, -3844, 12102, 1945, -913, 2249, 6835], 1, 200, 3800],
        "nikon 1 s1": [[8994, -2667, -865, -4594, 12324, 2552, -699, 1786, 6260], 1, 0, 3300],
        "nikon 1 s2": [[6612, -1342, -618, -3338, 11055, 2623, -174, 1792, 5075], 1, 200, 4095],
        "nikon 1 v1": [[8994, -2667, -865, -4594, 12324, 2552, -699, 1786, 6260], 1, 0, 3300],
        "nikon 1 v2": [[6588, -1305, -693, -3277, 10987, 2634, -355, 2016, 5106], 1, 0, 4095],
        "nikon 1 v3": [[5958, -1559, -571, -4021, 11453, 2939, -634, 1548, 5087], 1, 200, 4e3],
        "nikon 1 aw1": [[6588, -1305, -693, -3277, 10987, 2634, -355, 2016, 5106], 1, 0, 4095],
        "nikon e5400": [[9349, -2987, -1001, -7919, 15766, 2266, -2098, 2680, 6839], 0, 0, 4095],
        "nikon e5700": [[-5368, 11478, 2368, 5537, -113, 3148, -4969, 10021, 5782, 778, 9028, 211], 0, 0, 4095],
        "nikon coolpix p330": [[10321, -3920, -931, -2750, 11146, 1824, -442, 1545, 5539], 1, 3200, 65e3],
        "nikon coolpix p340": [[10321, -3920, -931, -2750, 11146, 1824, -442, 1545, 5539], 1, 200, 3800],
        "nikon coolpix a": [[8198, -2239, -724, -4871, 12389, 2798, -1043, 2050, 7181], 1, 0, 15892],
        "nikon coolpix b700": [[14387, -6014, -1299, -1357, 9975, 1616, 467, 1047, 4744], 1, 200, 4e3],
        "nikon coolpix p6000": [[9698, -3367, -914, -4706, 12584, 2368, -837, 968, 5801], 1, 0, 4095],
        "nikon coolpix p7000": [[11432, -3679, -1111, -3169, 11239, 2202, -791, 1380, 4455], 1, 0, 4095],
        "nikon coolpix p7100": [[11053, -4269, -1024, -1976, 10182, 2088, -526, 1263, 4469], 1, 0, 3800],
        "nikon coolpix p7700": [[10321, -3920, -931, -2750, 11146, 1824, -442, 1545, 5539], 1, 3200, 65e3],
        "nikon coolpix p7800": [[10321, -3920, -931, -2750, 11146, 1824, -442, 1545, 5539], 1, 3200, 65e3],
        "nikon coolpix p950": [[13307, -5641, -1290, -2048, 10581, 1689, -64, 1222, 5176], 1, 200, 4095],
        "nikon coolpix p1000": [[14294, -6116, -1333, -1628, 10219, 1637, -14, 1158, 5022], 1, 200, 4095],
        "olympus e-m10 mark iv": [[9476, -3182, -765, -2613, 10958, 1893, -449, 1315, 5268], 1, 254, 4e3],
        "olympus e-m5 mark iii": [[11896, -5110, -1076, -3181, 11378, 2048, -519, 1224, 5166], 1, 257, 4e3],
        "panasonic dmc-cm1": [[8770, -3194, -820, -2871, 11281, 1803, -513, 1552, 4434], 1, 142, 4095],
        "panasonic dmc-fx150": [[9082, -2907, -925, -6119, 13377, 3058, -1797, 2641, 5609], 0, 15, 3986],
        "panasonic dmc-fz28": [[10109, -3488, -993, -5412, 12812, 2916, -1305, 2140, 5543], 0, 15, 3986],
        "panasonic dmc-fz150": [[11904, -4541, -1189, -2355, 10899, 1662, -296, 1586, 4289], 3, 145, 3956],
        "panasonic dmc-fz200": [[8112, -2563, -740, -3730, 11784, 2197, -941, 2075, 4933], 3, 150, 3956],
        "panasonic dmc-fz2000": [[7386, -2443, -743, -3437, 11864, 1757, -608, 1660, 4766], 3, 142, 2095],
        "panasonic dmc-fz2500": [[7386, -2443, -743, -3437, 11864, 1757, -608, 1660, 4766], 3, 142, 2095],
        "panasonic dmc-fz300": [[8378, -2798, -769, -3068, 11410, 1877, -538, 1792, 4623], 3, 143, 4095],
        "panasonic dmc-g1": [[8199, -2065, -1056, -8124, 16156, 2033, -2458, 3022, 7220], 3, 15, 3986],
        "panasonic dmc-g2": [[10113, -3400, -1114, -4765, 12683, 2317, -377, 1437, 6710], 3, 0, 3900],
        "panasonic dmc-g10": [[10113, -3400, -1114, -4765, 12683, 2317, -377, 1437, 6710], 3, 0, 3900],
        "panasonic dmc-gh1": [[6299, -1466, -532, -6535, 13852, 2969, -2331, 3112, 5984], 3, 0, 3986],
        "panasonic dmc-gh3": [[6559, -1752, -491, -3672, 11407, 2586, -962, 1875, 5130], 3, 155, 3956],
        "panasonic dmc-gh4": [[7122, -2108, -512, -3155, 11201, 2231, -541, 1423, 5045], 0, 142, 4095],
        "panasonic dmc-gf1": [[7888, -1902, -1011, -8106, 16085, 2099, -2353, 2866, 7330], 3, 15, 3986],
        "panasonic dmc-gf2": [[7888, -1902, -1011, -8106, 16085, 2099, -2353, 2866, 7330], 3, 150, 3956],
        "panasonic dmc-gm1": [[6770, -1895, -744, -5232, 13145, 2303, -1664, 2691, 5703], 0, 143, 3971],
        "panasonic dmc-gm5": [[8238, -3244, -679, -3921, 11814, 2384, -836, 2022, 5852], 0, 143, 4095],
        "panasonic dmc-g3": [[6763, -1919, -863, -3868, 11515, 2684, -1216, 2387, 5879], 2, 143, 3956],
        "panasonic dmc-g5": [[7798, -2562, -740, -3879, 11584, 2613, -1055, 2248, 5434], 0, 150, 3956],
        "panasonic dmc-g6": [[8294, -2891, -651, -3869, 11590, 2595, -1183, 2267, 5352], 0, 142, 3956],
        "panasonic dmc-g7": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095],
        "panasonic dmc-g70": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095],
        "panasonic dmc-g8": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095],
        "panasonic dmc-g80": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095],
        "panasonic dmc-g81": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095],
        "panasonic dmc-g85": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095],
        "panasonic dmc-gf3": [[9051, -2468, -1204, -5212, 13276, 2121, -1197, 2510, 6890], 3, 150, 3956],
        "panasonic dmc-gf5": [[8228, -2945, -660, -3938, 11792, 2430, -1094, 2278, 5793], 3, 150, 3956],
        "panasonic dmc-gf6": [[8130, -2801, -946, -3520, 11289, 2552, -1314, 2511, 5791], 2, 150, 3956],
        "panasonic dmc-gf7": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095],
        "panasonic dmc-gh2": [[7780, -2410, -806, -3913, 11724, 2484, -1018, 2390, 5298], 3, 15, 3800],
        "panasonic dmc-fz35": [[9938, -2780, -890, -4604, 12393, 2480, -1117, 2304, 4620], 0, 150, 3986],
        "panasonic dmc-fz38": [[9938, -2780, -890, -4604, 12393, 2480, -1117, 2304, 4620], 0, 150, 3986],
        "panasonic dmc-fz45": [[13639, -5535, -1371, -1698, 9633, 2430, 316, 1152, 4108], 3, 150, 3986],
        "panasonic dmc-fz40": [[13639, -5535, -1371, -1698, 9633, 2430, 316, 1152, 4108], 3, 150, 3986],
        "panasonic dmc-fz40": [[13639, -5535, -1371, -1698, 9633, 2430, 316, 1152, 4108], 3, 150, 3986],
        "panasonic dmc-fz40": [[13639, -5535, -1371, -1698, 9633, 2430, 316, 1152, 4108], 3, 150, 3986],
        "panasonic dmc-fz70": [[11532, -4324, -1066, -2375, 10847, 1749, -564, 1699, 4351], 1, 120, 3971],
        "panasonic dmc-fz72": [[11532, -4324, -1066, -2375, 10847, 1749, -564, 1699, 4351], 1, 120, 3971],
        "panasonic dmc-fz100": [[16197, -6146, -1761, -2393, 10765, 1869, 366, 2238, 5248], 3, 120, 3986],
        "panasonic dmc-fz1000": [[7830, -2696, -763, -3325, 11667, 1866, -641, 1712, 4824], 3, 143, 4095],
        "panasonic dc-fz10002": [[9803, -4185, -992, -4066, 12578, 1628, -838, 1824, 5288], 3, 143, 4095],
        "panasonic dmc-gx1": [[6763, -1919, -863, -3868, 11515, 2684, -1216, 2387, 5879], 2, 150, 3956],
        "panasonic dmc-gx7": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 150, 3956],
        "panasonic dmc-gx8": [[7564, -2263, -606, -3148, 11239, 2177, -540, 1435, 4853], 3, 143, 4095],
        "panasonic dmc-gx85": [[7771, -3020, -629, -4029, 11950, 2345, -821, 1977, 6119], 0, 143, 4095],
        "panasonic dmc-gx80": [[7771, -3020, -629, -4029, 11950, 2345, -821, 1977, 6119], 0, 143, 4095],
        "panasonic dmc-gx7mk2": [[7771, -3020, -629, -4029, 11950, 2345, -821, 1977, 6119], 0, 143, 4095],
        "panasonic dmc-lf1": [[9379, -3267, -816, -3227, 11560, 1881, -926, 1928, 5340], 1, 143, 3971],
        "panasonic dmc-lx3": [[8128, -2668, -655, -6134, 13307, 3161, -1782, 2568, 6083], 0, 15, 3971],
        "panasonic dmc-lx15": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 143, 4095],
        "panasonic dmc-lx9": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 143, 4095],
        "panasonic dmc-lx10": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 143, 4095],
        "leica c (typ 112)": [[9379, -3267, -816, -3227, 11560, 1881, -926, 1928, 5340], 1, 146, 3956],
        "leica digilux 2": [[11340, -4069, -1275, -7555, 15266, 2448, -2960, 3426, 7685], 1, 0, 4095],
        "leica d-lux 3": [[8048, -2810, -623, -6450, 13519, 3272, -1700, 2146, 7049], 0, 0, 3986],
        "leica v-lux (typ 114)": [[7830, -2696, -763, -3325, 11667, 1866, -641, 1712, 4824], 3, 142, 4095],
        "leica v-lux 1": [[7906, -2709, -594, -6231, 13351, 3220, -1922, 2631, 6537], 0, 0, 3986],
        "panasonic dmc-l10": [[8025, -1942, -1050, -7920, 15904, 2100, -2456, 3005, 7039], 3, 0, 3986],
        "panasonic dmc-fz30": [[10976, -4029, -1141, -7918, 15491, 2600, -1670, 2071, 8246], 1, 0, 3971],
        "panasonic dmc-fz50": [[7906, -2709, -594, -6231, 13351, 3220, -1922, 2631, 6537], 0, 0, 3986],
        "panasonic dmc-fz8": [[8986, -2755, -802, -6341, 13575, 3077, -1476, 2144, 6379], 1, 0, 3986],
        "panasonic dmc-fz18": [[9932, -3060, -935, -5809, 13331, 2753, -1267, 2155, 5575], 0, 0, 3986],
        "panasonic dmc-l1": [[8054, -1885, -1025, -8349, 16367, 2040, -2805, 3542, 7629], 3, 0, 3986],
        "panasonic dmc-lx2": [[8048, -2810, -623, -6450, 13519, 3272, -1700, 2146, 7049], 0, 0, 3986],
        "leica d-lux 4": [[8128, -2668, -655, -6134, 13307, 3161, -1782, 2568, 6083], 0, 15, 3971],
        "panasonic dmc-lx5": [[10909, -4295, -948, -1333, 9306, 2399, 22, 1738, 4582], 2, 150, 3986],
        "leica d-lux 5": [[10909, -4295, -948, -1333, 9306, 2399, 22, 1738, 4582], 2, 150, 3986],
        "panasonic dmc-lx7": [[10148, -3743, -991, -2837, 11366, 1659, -701, 1893, 4899], 2, 150, 3971],
        "leica d-lux 6": [[10148, -3743, -991, -2837, 11366, 1659, -701, 1893, 4899], 2, 150, 3971],
        "leica d-lux (typ 109)": [[8844, -3538, -768, -3709, 11762, 2200, -698, 1792, 5220], 0, 143, 4095],
        "panasonic dmc-lx1": [[10704, -4187, -1230, -8314, 15952, 2501, -920, 945, 8927], 1, 0, 3971],
        "panasonic dmc-lx100": [[8844, -3538, -768, -3709, 11762, 2200, -698, 1792, 5220], 0, 143, 4095],
        "panasonic dc-lx100m2": [[8585, -3127, -833, -4005, 12250, 1953, -650, 1494, 4862], 0, 143, 4095],
        "panasonic dc-s1": [[9744, -3905, -779, -4899, 12807, 2324, -798, 1630, 5827], 1, 511, 16380],
        "panasonic dc-s1h": [[9397, -3719, -805, -5425, 13326, 2309, -972, 1715, 6034], 1, 510, 16380],
        "panasonic dc-s5": [[9744, -3905, -779, -4899, 12807, 2324, -798, 1630, 5827], 1, 509, 16380],
        "panasonic dc-s1r": [[11822, -5321, -1249, -5958, 15114, 766, -614, 1264, 7043], 3, 510, 16380],
        "panasonic dmc-tz60": [[8607, -2822, -808, -3755, 11930, 2049, -820, 2060, 5224], 1, 145, 3971],
        "panasonic dmc-tz61": [[8607, -2822, -808, -3755, 11930, 2049, -820, 2060, 5224], 1, 145, 3971],
        "panasonic dmc-zs40": [[8607, -2822, -808, -3755, 11930, 2049, -820, 2060, 5224], 1, 145, 3971],
        "panasonic dmc-tz71": [[8802, -3135, -789, -3151, 11468, 1904, -550, 1745, 4810], 1, 143, 3971],
        "panasonic dmc-zs50": [[8802, -3135, -789, -3151, 11468, 1904, -550, 1745, 4810], 1, 143, 3971],
        "panasonic dmc-tz70": [[8802, -3135, -789, -3151, 11468, 1904, -550, 1745, 4810], 1, 143, 3971],
        "panasonic dmc-tz81": [[8550, -2908, -842, -3195, 11529, 1881, -338, 1603, 4631], 3, 142, 4095],
        "panasonic dmc-zs60": [[8550, -2908, -842, -3195, 11529, 1881, -338, 1603, 4631], 3, 142, 4095],
        "panasonic dmc-tz80": [[8550, -2908, -842, -3195, 11529, 1881, -338, 1603, 4631], 3, 142, 4095],
        "panasonic dmc-tz85": [[8550, -2908, -842, -3195, 11529, 1881, -338, 1603, 4631], 3, 142, 4095],
        "panasonic dmc-tz100": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095],
        "panasonic dmc-zs100": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095],
        "panasonic dmc-zs110": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095],
        "panasonic dmc-tz101": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095],
        "panasonic dmc-tz110": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095],
        "panasonic dmc-tx1": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095],
        "panasonic dc-fz82": [[8550, -2908, -842, -3195, 11529, 1881, -338, 1603, 4631], 3, 143, 4095],
        "panasonic dc-fz80": [[8550, -2908, -842, -3195, 11529, 1881, -338, 1603, 4631], 3, 143, 4095],
        "panasonic dmc-fz80": [[8550, -2908, -842, -3195, 11529, 1881, -338, 1603, 4631], 3, 143, 4095],
        "panasonic dmc-fz85": [[8550, -2908, -842, -3195, 11529, 1881, -338, 1603, 4631], 3, 143, 4095],
        "panasonic dc-gh5": [[7641, -2336, -605, -3218, 11299, 2187, -485, 1338, 5121], 1, 143, 4095],
        "panasonic dc-gh5s": [[6929, -2355, -708, -4192, 12534, 1828, -1097, 1989, 5195], 1, 510, 8e3],
        "panasonic dc-g9": [[7685, -2375, -634, -3687, 11700, 2249, -748, 1546, 5111], 1, 148, 4095],
        "panasonic dc-g95": [[9657, -3963, -748, -3361, 11378, 2258, -568, 1415, 5158], 0, 144, 4095],
        "panasonic dc-g90": [[9657, -3963, -748, -3361, 11378, 2258, -568, 1415, 5158], 0, 144, 4095],
        "panasonic dc-g91": [[9657, -3963, -748, -3361, 11378, 2258, -568, 1415, 5158], 0, 144, 4095],
        "panasonic dc-g99": [[9657, -3963, -748, -3361, 11378, 2258, -568, 1415, 5158], 0, 144, 4095],
        "panasonic dc-gf9": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095],
        "panasonic dc-gx800": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095],
        "panasonic dc-gx850": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095],
        "panasonic dc-gx880": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095],
        "panasonic dc-gx9": [[7564, -2263, -606, -3148, 11239, 2177, -540, 1435, 4853], 0, 143, 4095],
        "panasonic dc-tz90": [[9052, -3117, -883, -3045, 11346, 1927, -205, 1520, 4730], 3, 139, 4095],
        "panasonic dc-tz91": [[9052, -3117, -883, -3045, 11346, 1927, -205, 1520, 4730], 3, 139, 4095],
        "panasonic dc-zs70": [[9052, -3117, -883, -3045, 11346, 1927, -205, 1520, 4730], 3, 139, 4095],
        "panasonic dc-fz91": [[9052, -3117, -883, -3045, 11346, 1927, -205, 1520, 4730], 3, 139, 4095],
        "panasonic dc-fz92": [[9052, -3117, -883, -3045, 11346, 1927, -205, 1520, 4730], 3, 139, 4095],
        "panasonic dc-fz93": [[9052, -3117, -883, -3045, 11346, 1927, -205, 1520, 4730], 3, 139, 4095],
        "panasonic dc-tz96": [[12194, -5340, -1329, -3035, 11394, 1858, -50, 1418, 5219], 3, 142, 4095],
        "panasonic dc-tz95": [[12194, -5340, -1329, -3035, 11394, 1858, -50, 1418, 5219], 3, 142, 4095],
        "panasonic dc-zs80": [[12194, -5340, -1329, -3035, 11394, 1858, -50, 1418, 5219], 3, 142, 4095],
        "panasonic dc-tz202": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095],
        "panasonic dc-tz200": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095],
        "panasonic dc-zs200": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095],
        "pentax k100d": [[11095, -3157, -1324, -8377, 15834, 2720, -1108, 947, 11688], 1, 127, 3950],
        "pentax k110d": [[11095, -3157, -1324, -8377, 15834, 2720, -1108, 947, 11688], 1, 127, 4095],
        "pentax k100d super": [[11095, -3157, -1324, -8377, 15834, 2720, -1108, 947, 11688], 1, 127, 4095],
        "pentax *ist d": [[9651, -2059, -1189, -8881, 16512, 2487, -1460, 1345, 10687], 1, 128, 4095],
        "pentax *ist dl": [[10829, -2838, -1115, -8339, 15817, 2696, -837, 680, 11939], 1, 128, 4095],
        "pentax *ist dl2": [[10504, -2438, -1189, -8603, 16207, 2531, -1022, 863, 12242], 1, 127, 3950],
        "pentax *ist ds": [[10371, -2333, -1206, -8688, 16231, 2602, -1230, 1116, 11282], 1, 128, 3950],
        "pentax k10d": [[9566, -2863, -803, -7170, 15172, 2112, -818, 803, 9705], 1, 0, 4095],
        "pentax k20d": [[9427, -2714, -868, -7493, 16092, 1373, -2199, 3264, 7180], 0, 0, 4095],
        "pentax k200d": [[9186, -2678, -907, -8693, 16517, 2260, -1129, 1094, 8524], 1, 0, 4095],
        "pentax k-s1": [[8512, -3211, -787, -4167, 11966, 2487, -638, 1288, 6054], 1, 32, 4062],
        "pentax k-s2": [[8662, -3280, -798, -3928, 11771, 2444, -586, 1232, 6054], 1, 0, 3839],
        "pentax k-70": [[8113, -2078, -1275, -4359, 12953, 1514, -1091, 1955, 6044], 1, 64, 16319],
        "pentax k-1": [[8827, -2829, -1238, -3611, 12203, 1549, -897, 1687, 6291], 1, 64, 16316],
        "pentax k-1 mark ii": [[8952, -2869, -1256, -3612, 12204, 1550, -934, 1757, 6549], 1, 64, 16316],
        "pentax k-3": [[7415, -2052, -721, -5186, 12788, 2682, -1446, 2157, 6773], 1, 1, 15868],
        "pentax k-3 ii": [[7415, -2052, -721, -5186, 12788, 2682, -1446, 2157, 6773], 1, 1, 15865],
        "pentax k-5": [[8713, -2833, -743, -4342, 11900, 2772, -722, 1543, 6247], 0, 512, 16383],
        "pentax k-5 ii": [[8170, -2725, -639, -4440, 12017, 2744, -771, 1465, 6599], 0, 512, 16383],
        "pentax k-5 ii s": [[8170, -2725, -639, -4440, 12017, 2744, -771, 1465, 6599], 0, 512, 15863],
        "pentax k-7": [[9142, -2947, -678, -8648, 16967, 1663, -2224, 2898, 8615], 0, 0, 4095],
        "pentax k-m": [[11057, -3604, -1155, -5152, 13046, 2329, -282, 375, 8104], 1, 0, 4095],
        "pentax k-x": [[8843, -2837, -625, -5025, 12644, 2668, -411, 1234, 7410], 0, 41, 4095],
        "pentax k-r": [[9895, -3077, -850, -5304, 13035, 2521, -883, 1768, 6936], 0, 64, 4e3],
        "pentax kp": [[8617, -3228, -1034, -4674, 12821, 2044, -803, 1577, 5728], 1, 128, 16254],
        "pentax k2000": [[11057, -3604, -1155, -5152, 13046, 2329, -282, 375, 8104], 1, 0, 4095],
        "pentax 645d": [[9814, -2716, -1439, -5049, 13907, 1166, -1830, 3836, 5706], 0, 0, 15767],
        "pentax 645z": [[9551, -3012, -1235, -3685, 12133, 1721, -1019, 1887, 6544], 1, 1, 16316],
        "samsung ex2f": [[10648, -3897, -1055, -2022, 10573, 1668, -492, 1611, 4742], 1, 0, 4095],
        "samsung ex1": [[8898, -2498, -994, -3144, 11328, 2066, -760, 1381, 4576], 1, 0, 16383],
        "samsung nx1": [[10686, -4042, -1052, -3595, 13238, 276, -464, 1259, 5931], 2, 1024, 16100],
        "samsung nx5": [[10332, -3234, -1168, -6111, 14639, 1520, -1352, 2647, 8331], 0, 0, 4095],
        "samsung nx10": [[10332, -3234, -1168, -6111, 14639, 1520, -1352, 2647, 8331], 0, 0, 4095],
        "samsung nx11": [[10332, -3234, -1168, -6111, 14639, 1520, -1352, 2647, 8331], 0, 0, 4095],
        "samsung nx100": [[10332, -3234, -1168, -6111, 14639, 1520, -1352, 2647, 8331], 0, 0, 4095],
        "samsung nx1000": [[6933, -2268, -753, -4921, 13387, 1647, -803, 1641, 6096], 2, 0, 4095],
        "samsung nx1100": [[6933, -2268, -753, -4921, 13387, 1647, -803, 1641, 6096], 2, 0, 4095],
        "samsung nx20": [[6933, -2268, -753, -4921, 13387, 1647, -803, 1641, 6096], 2, 0, 4095],
        "samsung nx200": [[6933, -2268, -753, -4921, 13387, 1647, -803, 1641, 6096], 2, 0, 4095],
        "samsung nx210": [[6933, -2268, -753, -4921, 13387, 1647, -803, 1641, 6096], 2, 0, 4095],
        "samsung nx2000": [[7557, -2522, -739, -4679, 12949, 1894, -840, 1777, 5311], 2, 0, 4095],
        "samsung nx30": [[7557, -2522, -739, -4679, 12949, 1894, -840, 1777, 5311], 2, 0, 4095],
        "samsung nx300": [[7557, -2522, -739, -4679, 12949, 1894, -840, 1777, 5311], 2, 0, 4095],
        "samsung nx300m": [[7557, -2522, -739, -4679, 12949, 1894, -840, 1777, 5311], 2, 0, 4095],
        "samsung nx3000": [[8060, -2933, -761, -4504, 12890, 1762, -630, 1489, 5227], 2, 0, 4095],
        "samsung nx500": [[10686, -4042, -1052, -3595, 13238, 276, -464, 1259, 5931], 2, 1024, 16100],
        "samsung ek-gn120": [[7557, -2522, -739, -4679, 12949, 1894, -840, 1777, 5311], 3, 0, 4095],
        "samsung wb2000": [[12093, -3557, -1155, -1e3, 9534, 1733, -22, 1787, 4576], 1, 0, 4095],
        "sony dsc-rx0": [[9396, -3507, -843, -2497, 11111, 1572, -343, 1355, 5089], 1, 800, 16620],
        "sony dsc-rx0m2": [[9396, -3507, -843, -2497, 11111, 1572, -343, 1355, 5089], 1, 800, 16300],
        "sony dsc-rx10": [[6679, -1825, -745, -5047, 13256, 1953, -1580, 2422, 5183], 1, 800, 16300],
        "sony dsc-rx10m2": [[6679, -1825, -745, -5047, 13256, 1953, -1580, 2422, 5183], 1, 800, 16300],
        "sony dsc-rx10m3": [[6679, -1825, -745, -5047, 13256, 1953, -1580, 2422, 5183], 1, 800, 16300],
        "sony dsc-rx10m4": [[7699, -2566, -629, -2967, 11270, 1928, -378, 1286, 4807], 1, 800, 16380],
        "sony dsc-rx100": [[8651, -2754, -1057, -3464, 12207, 1373, -568, 1398, 4434], 1, 800, 16620],
        "sony dsc-rx100m2": [[6596, -2079, -562, -4782, 13016, 1933, -970, 1581, 5181], 1, 800, 16300],
        "sony dsc-rx100m3": [[6596, -2079, -562, -4782, 13016, 1933, -970, 1581, 5181], 1, 800, 16300],
        "sony dsc-rx100m4": [[6596, -2079, -562, -4782, 13016, 1933, -970, 1581, 5181], 1, 800, 16300],
        "sony dsc-rx100m5": [[6596, -2079, -562, -4782, 13016, 1933, -970, 1581, 5181], 1, 800, 16300],
        "sony dsc-rx100m5a": [[11176, -4700, -965, -4004, 12184, 2032, -763, 1726, 5876], 1, 800, 16300],
        "sony dsc-rx100m6": [[7325, -2321, -596, -3494, 11674, 2055, -668, 1562, 5031], 1, 800, 16300],
        "sony dsc-rx100m7": [[10315, -4390, -937, -4859, 12734, 2365, -734, 1537, 5997], 1, 800, 16300],
        "sony dsc-rx1r": [[6344, -1612, -462, -4863, 12477, 2681, -865, 1786, 6899], 1, 512, 33192],
        "sony dsc-rx1rm2": [[6629, -1900, -483, -4618, 12349, 2550, -622, 1381, 6514], 1, 512, 16300],
        "sony dslr-a100": [[9437, -2811, -774, -8405, 16215, 2290, -710, 596, 7181], 2, 0, 4095],
        "sony dslr-a200": [[9847, -3091, -928, -8485, 16345, 2225, -715, 595, 7103], 1, 0, 4095],
        "sony dslr-a230": [[9847, -3091, -928, -8485, 16345, 2225, -715, 595, 7103], 1, 0, 4095],
        "sony dslr-a290": [[6038, -1484, -579, -9145, 16746, 2512, -875, 746, 7218], 1, 0, 4095],
        "sony dslr-a300": [[9847, -3091, -928, -8485, 16345, 2225, -715, 595, 7103], 1, 0, 4095],
        "sony dslr-a330": [[9847, -3091, -929, -8485, 16346, 2225, -714, 595, 7103], 1, 0, 4095],
        "sony dslr-a350": [[6038, -1484, -578, -9146, 16746, 2513, -875, 746, 7217], 1, 0, 4095],
        "sony dslr-a380": [[6038, -1484, -579, -9145, 16746, 2512, -875, 746, 7218], 1, 0, 4095],
        "sony dslr-a390": [[6038, -1484, -579, -9145, 16746, 2512, -875, 746, 7218], 1, 0, 4095],
        "sony dslr-a450": [[4950, -580, -103, -5228, 12542, 3029, -709, 1435, 7371], 1, 500, 16e3],
        "sony dslr-a500": [[6046, -1127, -278, -5574, 13076, 2786, -691, 1419, 7625], 0, 500, 16600],
        "sony dslr-a550": [[4950, -580, -103, -5228, 12542, 3029, -709, 1435, 7371], 0, 512, 16372],
        "sony dslr-a560": [[4950, -580, -103, -5228, 12542, 3029, -709, 1435, 7371], 0, 476, 16596],
        "sony dslr-a580": [[5932, -1492, -411, -4813, 12285, 2856, -741, 1524, 6739], 0, 520, 16596],
        "sony dslr-a700": [[5775, -805, -359, -8574, 16295, 2391, -1943, 2341, 7249], 0, 520, 16383],
        "sony dslr-a850": [[5413, -1162, -365, -5665, 13098, 2866, -608, 1179, 8440], 0, 500, 15e3],
        "sony dslr-a900": [[5209, -1072, -397, -8845, 16120, 2919, -1618, 1803, 8654], 1, 520, 16383],
        "sony nex-3": [[6907, -1256, -645, -4940, 12621, 2320, -1710, 2581, 6230], 1, 520, 16360],
        "sony nex-3n": [[6129, -1545, -418, -4930, 12490, 2743, -977, 1693, 6615], 1, 520, 16596],
        "sony nex-5": [[6807, -1350, -342, -4216, 11649, 2567, -1089, 2001, 6420], 1, 520, 16383],
        "sony nex-5n": [[5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 520, 16596],
        "sony nex-5r": [[6129, -1545, -418, -4930, 12490, 2743, -977, 1693, 6615], 1, 520, 16596],
        "sony nex-5t": [[6129, -1545, -418, -4930, 12490, 2743, -977, 1693, 6615], 1, 512, 16300],
        "sony nex-6": [[6129, -1545, -418, -4930, 12490, 2743, -977, 1693, 6615], 1, 520, 16596],
        "sony nex-7": [[5491, -1192, -363, -4951, 12342, 2948, -911, 1722, 7192], 1, 512, 16300],
        "sony nex-c3": [[5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 520, 16596],
        "sony nex-f3": [[5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 520, 16360],
        "sony ilce-3000": [[5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 512, 16300],
        "sony ilce-3500": [[5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 512, 16300],
        "sony ilce-5000": [[5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 512, 16300],
        "sony ilce-5100": [[5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 512, 16300],
        "sony ilce-6000": [[5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 512, 16300],
        "sony ilce-6100": [[7657, -2847, -607, -4083, 11966, 2389, -684, 1418, 5844], 1, 512, 16300],
        "sony ilce-6300": [[5973, -1695, -419, -3826, 11797, 2293, -639, 1398, 5789], 1, 512, 16300],
        "sony ilce-6400": [[7657, -2847, -607, -4083, 11966, 2389, -684, 1418, 5844], 1, 512, 16383],
        "sony ilce-6500": [[5973, -1695, -419, -3826, 11797, 2293, -639, 1398, 5789], 1, 512, 16300],
        "sony ilce-6600": [[7657, -2847, -607, -4083, 11966, 2389, -684, 1418, 5844], 1, 512, 16383],
        "sony ilce-7": [[5271, -712, -347, -6153, 13653, 2763, -1601, 2366, 7242], 1, 512, 16300],
        "sony ilce-7m2": [[5271, -712, -347, -6153, 13653, 2763, -1601, 2366, 7242], 1, 512, 16300],
        "sony ilce-7m3": [[7374, -2389, -551, -5435, 13162, 2519, -1006, 1795, 6552], 1, 512, 16300],
        "sony ilce-7r": [[4913, -541, -202, -6130, 13513, 2906, -1564, 2151, 7183], 1, 512, 16300],
        "sony ilce-7rm2": [[6629, -1900, -483, -4618, 12349, 2550, -622, 1381, 6514], 1, 512, 16300],
        "sony ilce-7rm3": [[6640, -1847, -503, -5238, 13010, 2474, -993, 1673, 6527], 1, 512, 16383],
        "sony ilce-7rm4": [[7662, -2686, -660, -5240, 12965, 2530, -796, 1508, 6167], 1, 512, 16383],
        "sony ilce-7s": [[5838, -1430, -246, -3497, 11477, 2297, -748, 1885, 5778], 1, 512, 16300],
        "sony ilce-7sm2": [[5838, -1430, -246, -3497, 11477, 2297, -748, 1885, 5778], 1, 512, 16300],
        "sony ilce-9": [[6389, -1703, -378, -4562, 12265, 2587, -670, 1489, 6550], 1, 512, 16383],
        "sony ilce-9m2": [[6389, -1703, -378, -4562, 12265, 2587, -670, 1489, 6550], 1, 512, 16380],
        "sony dsc-rx1": [[6344, -1612, -462, -4863, 12477, 2681, -865, 1786, 6899], 1, 520, 16628],
        "sony slt-a33": [[6069, -1221, -366, -5221, 12779, 2734, -1024, 2066, 6834], 1, 520, 16596],
        "sony slt-a35": [[5986, -1618, -415, -4557, 11820, 3120, -681, 1404, 6971], 1, 545, 16596],
        "sony slt-a37": [[5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 520, 16500],
        "sony slt-a55": [[5932, -1492, -411, -4813, 12285, 2856, -741, 1524, 6739], 1, 520, 16596],
        "sony slt-a55v": [[5932, -1492, -411, -4813, 12285, 2856, -741, 1524, 6739], 1, 520, 16596],
        "sony slt-a57": [[5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 512, 16596],
        "sony slt-a58": [[5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 520, 16596],
        "sony slt-a65": [[5491, -1192, -363, -4951, 12342, 2948, -911, 1722, 7192], 1, 520, 16596],
        "sony slt-a65v": [[5491, -1192, -363, -4951, 12342, 2948, -911, 1722, 7192], 1, 520, 16596],
        "sony slt-a77": [[5491, -1192, -363, -4951, 12342, 2948, -911, 1722, 7192], 1, 520, 16596],
        "sony slt-a77v": [[5491, -1192, -363, -4951, 12342, 2948, -911, 1722, 7192], 1, 520, 16596],
        "sony ilca-77m2": [[5991, -1732, -443, -4100, 11989, 2381, -704, 1467, 5992], 1, 512, 16300],
        "sony ilca-68": [[6435, -1903, -536, -4722, 12449, 2550, -663, 1363, 6517], 1, 512, 16300],
        "sony ilca-99m2": [[6660, -1918, -471, -4613, 12398, 2485, -649, 1433, 6447], 1, 512, 16300],
        "sony slt-a99": [[6344, -1612, -462, -4863, 12477, 2681, -865, 1786, 6899], 1, 520, 16596],
        "sony slt-a99v": [[6344, -1612, -462, -4863, 12477, 2681, -865, 1786, 6899], 1, 520, 16596],
        "sony zv-1": [[8280, -2987, -703, -3531, 11645, 2133, -550, 1542, 5312], 1, 800, 16300],
        "sinar hy6": [[16442, -2956, -2422, -2877, 12128, 750, -1136, 6066, 4559], 1, 0, 0],
        "fujifilm finepix s1": [[12297, -4882, -1202, -2106, 10691, 1623, -88, 1312, 4790], 1, 200, 4095],
        "fujifilm finepix s6000fd": [[12628, -4887, -1401, -6861, 14996, 1962, -2198, 2782, 7091], 3, 0, 15872],
        "fujifilm finepix s100fs": [[11521, -4355, -1065, -6524, 13767, 3058, -1466, 1984, 6045], 3, 512, 16383],
        "fujifilm finepix s200exr": [[11401, -4498, -1312, -5088, 12751, 2613, -838, 1568, 5941], 1, 519, 16250],
        "fujifilm finepix f600exr": [[13690, -5358, -1474, -3369, 11600, 1998, -132, 1554, 4395], 1, 256, 3900],
        "fujifilm finepix f700": [[10004, -3219, -1201, -7036, 15047, 2107, -1863, 2565, 7736], 3, 0, 16383],
        "fujifilm finepix f770exr": [[13690, -5358, -1474, -3369, 11600, 1998, -132, 1554, 4395], 1, 256, 3900],
        "fujifilm finepix f900exr": [[12085, -4727, -953, -3257, 11489, 2002, -511, 2046, 4592], 0, 256, 3900],
        "fujifilm finepix e550": [[11044, -3888, -1120, -7248, 15168, 2208, -1531, 2277, 8069], 3, 0, 15875],
        "fujifilm is-1": [[21461, -10807, -1441, -2332, 10599, 1999, 289, 875, 7703], 3, 0, 15872],
        "fujifilm finepix s3pro": [[11807, -4612, -1294, -8927, 16968, 1988, -2120, 2741, 8006], 3, 0, 15872],
        "fujifilm finepix s5pro": [[12300, -5110, -1304, -9117, 17143, 1998, -1947, 2448, 8100], 3, 0, 15872],
        "fujifilm finepix s5600": [[9636, -2804, -988, -7442, 15040, 2589, -1803, 2311, 8621], 3, 0, 15872],
        "fujifilm finepix e900": [[9183, -2526, -1078, -7461, 15071, 2574, -2022, 2440, 8639], 3, 0, 15872],
        "fujifilm finepix s2pro": [[12492, -4690, -1402, -7033, 15423, 1647, -1507, 2111, 7697], 3, 128, 4095],
        "fujifilm finepix s5000": [[8754, -2732, -1019, -7204, 15069, 2276, -1702, 2334, 6982], 3, 0, 15872],
        "fujifilm finepix s5200": [[9636, -2804, -988, -7442, 15040, 2589, -1803, 2311, 8621], 3, 0, 15872],
        "fujifilm finepix s5500": [[11940, -4431, -1255, -6766, 14428, 2542, -993, 1165, 7421], 1, 0, 15872],
        "fujifilm finepix s6500fd": [[12628, -4887, -1401, -6861, 14996, 1962, -2198, 2782, 7091], 3, 0, 15872],
        "fujifilm finepix s7000": [[10190, -3506, -1312, -7153, 15051, 2238, -2003, 2399, 7505], 3, 0, 15869],
        "fujifilm finepix s9500": [[10491, -3423, -1145, -7385, 15027, 2538, -1809, 2275, 8692], 3, 0, 15872],
        "fujifilm finepix s9000": [[10491, -3423, -1145, -7385, 15027, 2538, -1809, 2275, 8692], 3, 0, 15872],
        "fujifilm finepix s9600": [[12343, -4515, -1285, -7165, 14899, 2435, -1895, 2496, 8800], 3, 0, 15872],
        "fujifilm finepix s9600fd": [[12343, -4515, -1285, -7165, 14899, 2435, -1895, 2496, 8800], 3, 0, 15872],
        "fujifilm finepix hs10 hs11": [[12440, -3954, -1183, -1123, 9674, 1708, -83, 1614, 4086], 0, 50, 3900],
        "fujifilm finepix hs20exr": [[13690, -5358, -1474, -3369, 11600, 1998, -132, 1554, 4395], 1, 256, 3900],
        "fujifilm finepix hs30exr": [[13690, -5358, -1474, -3369, 11600, 1998, -132, 1554, 4395], 1, 258, 3900],
        "fujifilm finepix hs50exr": [[12085, -4727, -953, -3257, 11489, 2002, -511, 2046, 4592], 0, 256, 3900],
        "fujifilm finepix x100": [[12161, -4457, -1069, -5034, 12874, 2400, -795, 1724, 6904], 0, 254, 4e3],
        "fujifilm finepix x10": [[13509, -6199, -1254, -4430, 12733, 1865, -331, 1441, 5022], 0, 256, 4e3],
        "fujifilm x-s1": [[13509, -6199, -1254, -4430, 12733, 1865, -331, 1441, 5022], 0, 260, 4e3],
        "fujifilm gfx 50s": [[11756, -4754, -874, -3056, 11045, 2305, -381, 1457, 6006], 1, 65, 16383],
        "fujifilm gfx 50r": [[11756, -4754, -874, -3056, 11045, 2305, -381, 1457, 6006], 1, 65, 16383],
        "fujifilm gfx 100": [[16212, -8423, -1583, -4336, 12583, 1937, -195, 726, 6199], 1, 63, 16383],
        "fujifilm x-pro1": [[10413, -3996, -993, -3721, 11640, 2361, -733, 1540, 6011], 2, 256, 4094],
        "fujifilm x-pro2": [[11434, -4948, -1210, -3746, 12042, 1903, -666, 1479, 5235], 1, 1024, 16383],
        "fujifilm x-pro3": [[13426, -6334, -1177, -4244, 12136, 2371, -580, 1303, 5980], 2, 1022, 16383],
        "fujifilm x70": [[10450, -4329, -878, -3217, 11105, 2421, -752, 1758, 6519], 1, 1024, 16383],
        "fujifilm xf1": [[13509, -6199, -1254, -4430, 12733, 1865, -331, 1441, 5022], 0, 257, 4e3],
        "fujifilm xf10": [[11673, -4760, -1041, -3988, 12058, 2166, -771, 1417, 5569], 1, 1024, 16383],
        "fujifilm x-e1": [[10413, -3996, -993, -3721, 11640, 2361, -733, 1540, 6011], 2, 255, 4094],
        "fujifilm x20": [[11768, -4971, -1133, -4904, 12927, 2183, -480, 1723, 4605], 3, 257, 4094],
        "fujifilm x30": [[12328, -5256, -1144, -4469, 12927, 1675, -87, 1291, 4351], 3, 257, 4094],
        "fujifilm x100f": [[11434, -4948, -1210, -3746, 12042, 1903, -666, 1479, 5235], 1, 1024, 16383],
        "fujifilm x100s": [[10592, -4262, -1008, -3514, 11355, 2465, -870, 2025, 6386], 1, 1024, 16383],
        "fujifilm x100t": [[10592, -4262, -1008, -3514, 11355, 2465, -870, 2025, 6386], 1, 1024, 16383],
        "fujifilm x100v": [[13426, -6334, -1177, -4244, 12136, 2371, -580, 1303, 5980], 2, 1022, 16383],
        "fujifilm x-h1": [[11434, -4948, -1210, -3746, 12042, 1903, -666, 1479, 5235], 1, 1024, 16383],
        "fujifilm x-m1": [[10413, -3996, -993, -3721, 11640, 2361, -733, 1540, 6011], 2, 256, 4094],
        "fujifilm x-a1": [[11086, -4555, -839, -3512, 11310, 2517, -815, 1341, 5940], 1, 256, 4094],
        "fujifilm x-a2": [[10763, -4560, -917, -3346, 11311, 2322, -475, 1135, 5843], 1, 256, 4094],
        "fujifilm x-a3": [[12407, -5222, -1086, -2971, 11116, 2120, -294, 1029, 5284], 1, 1024, 16383],
        "fujifilm x-a5": [[11673, -4760, -1041, -3988, 12058, 2166, -771, 1417, 5569], 1, 1024, 16383],
        "fujifilm x-a10": [[11540, -4999, -991, -2949, 10963, 2278, -382, 1049, 5605], 1, 256, 4094],
        "fujifilm xq1": [[9252, -2704, -1064, -5893, 14265, 1717, -1101, 2341, 4349], 3, 257, 4094],
        "fujifilm xq2": [[9252, -2704, -1064, -5893, 14265, 1717, -1101, 2341, 4349], 3, 257, 4094],
        "fujifilm x-e2": [[8458, -2451, -855, -4597, 12447, 2407, -1475, 2482, 6526], 1, 1024, 16383],
        "fujifilm x-e3": [[11434, -4948, -1210, -3746, 12042, 1903, -666, 1479, 5235], 1, 1023, 16383],
        "fujifilm x-e2s": [[11562, -5118, -961, -3022, 11007, 2311, -525, 1569, 6097], 1, 1024, 16383],
        "fujifilm x-t1": [[8458, -2451, -855, -4597, 12447, 2407, -1475, 2482, 6526], 1, 1024, 16383],
        "fujifilm x-t2": [[11434, -4948, -1210, -3746, 12042, 1903, -666, 1479, 5235], 1, 1024, 16383],
        "fujifilm x-t3": [[16393, -7740, -1436, -4238, 12131, 2371, -633, 1424, 6553], 2, 1022, 16383],
        "fujifilm x-t4": [[13426, -6334, -1177, -4244, 12136, 2371, -580, 1303, 5980], 2, 1022, 16383],
        "fujifilm x-t10": [[8458, -2451, -855, -4597, 12447, 2407, -1475, 2482, 6526], 1, 1024, 16383],
        "fujifilm x-t20": [[10592, -4262, -1008, -3514, 11355, 2465, -870, 2025, 6386], 1, 1024, 16383],
        "fujifilm x-t30": [[13426, -6334, -1177, -4244, 12136, 2371, -580, 1303, 5980], 2, 1022, 16383],
        "fujifilm x-t100": [[11673, -4760, -1041, -3988, 12058, 2166, -771, 1417, 5569], 1, 1024, 16383],
        "fujifilm x-t200": [[15055, -7391, -1274, -4062, 12071, 2238, -610, 1217, 6147], 1, 1024, 16383],
        "minolta dimage a1": [[9274, -2547, -1167, -8220, 16323, 1943, -2273, 2720, 8340], 1, 0, 3965],
        "minolta dimage 5": [[8983, -2942, -963, -6556, 14476, 2237, -2426, 2887, 8014], 1, 0, 3965],
        "minolta dimage 7": [[9144, -2777, -998, -6676, 14556, 2281, -2470, 3019, 7744], 1, 0, 3965],
        "minolta dimage 7i": [[10880, -3638, -1186, -6496, 14313, 2364, -2456, 3092, 7485], 1, 0, 3965],
        "minolta dimage 7hi": [[11368, -3894, -1242, -6521, 14358, 2339, -2475, 3056, 7285], 1, 0, 3965],
        "sony dsc-f828": [[7924, -1910, -777, -8226, 15459, 2998, -1517, 2199, 6818, -7242, 11401, 3481], 0, 495, 16383],
        "sony dsc-hx99": [[13076, -5686, -1481, -4027, 12851, 1251, -167, 725, 4937], 1, 800, 16300],
        "sony dsc-r1": [[8512, -2641, -694, -8042, 15670, 2526, -1821, 2117, 7414], 2, 511, 16383],
        "mamiya zd": [[7645, 2579, -1363, -8689, 16717, 2015, -3712, 5941, 5961], 1, 0, 4e3],
        "leaf aptus 22": [[8236, 1746, -1314, -8251, 15953, 2428, -3673, 5786, 5771], 1, 0, 16191],
        "leaf credo 40": [[8035, 435, -962, -6001, 13872, 2320, -1159, 3065, 5434], 1, 0, 16383],
        "leaf credo 60": [[8035, 435, -962, -6001, 13872, 2320, -1159, 3065, 5434], 1, 0, 16383],
        "leaf credo 80": [[8035, 435, -962, -6001, 13872, 2320, -1159, 3065, 5434], 1, 0, 16383],
        "leaf aptus-ii 5": [[1846, 7955, -1222, -12994, 19563, 3596, -2035, 3340, 5136], 2, 0, 15e3],
        "phase one p30": [[4516, -245, -37, -7020, 14976, 2173, -3206, 4671, 7087], 2, 0, 16383],
        "phase one p65+": [[8035, 435, -962, -6001, 13872, 2320, -1159, 3065, 5434], 1, 0, 16383],
        "phase one iq140": [[8035, 435, -962, -6001, 13872, 2320, -1159, 3065, 5434], 1, 0, 65535],
        "phase one iq250": [[3984, 0, 0, 0, 1e4, 0, 0, 0, 7666], 1, 1024, 65535],
        "kodak dcs pro slr/n": [[5494, 2393, -232, -6427, 13850, 2846, -1876, 3997, 5445], 2, 0, 4095],
        "kodak dcs pro 14n": [[7791, 3128, -776, -8588, 16458, 2039, -2455, 4006, 6198], 2, 0, 3700],
        "kodak dcs pro 14nx": [[5494, 2393, -232, -6427, 13850, 2846, -1876, 3997, 5445], 2, 0, 3700],
        "kodak dcs460": [[10592, -2206, -967, -1944, 11685, 230, 2206, 670, 1273], 2, 7, 6664],
        "kodak dcs520c": [[24542, -10860, -3401, -1490, 11370, -297, 2858, -605, 3225], 2, 176, 4095],
        "kodak dcs560c": [[20482, -7172, -3125, -1033, 10410, -285, 2542, 226, 3136], 2, 208, 4095],
        "kodak dcs760c": [[16623, -6309, -1411, -4344, 13923, 323, 2285, 274, 2926], 2, 0, 3500],
        "kodak p880": [[12805, -4662, -1376, -7480, 15267, 2360, -1626, 2194, 7904], 0, 0, 4095],
        "kodak easyshare z980 digital camera": [[11313, -3559, -1101, -3893, 11891, 2257, -1214, 2398, 4908], 1, 0, 4095],
        "kodak easyshare z981 digital camera": [[12729, -4717, -1188, -1367, 9187, 2582, 274, 860, 4411], 2, 0, 4095],
        "kodak easyshare z990 digital camera": [[11749, -4048, -1309, -1867, 10572, 1489, -138, 1449, 4522], 0, 0, 4e3],
        "kodak z1015 is": [[11265, -4286, -992, -4694, 12343, 2647, -1090, 1523, 5447], 0, 0, 4095],
        "epson r-d1": [[6827, -1878, -732, -8429, 16012, 2564, -704, 592, 7145], 1, 63, 4095],
        "epson r-d1s": [[6827, -1878, -732, -8429, 16012, 2564, -704, 592, 7145], 1, 62, 4095],
        "epson r-d1x": [[6828, -1878, -732, -8429, 16012, 2564, -704, 592, 7145], 1, 65, 4095],
        "hasselblad cfv-50": [[5656, -659, -346, -3923, 12306, 1791, -1602, 3509, 5442], 1, 256, 65535],
        "hasselblad h3d": [[3857, 452, -46, -6008, 14477, 1596, -2627, 4481, 5718], 1, 0, 31456],
        "hasselblad h4d-50": [[5656, -659, -346, -3923, 12306, 1791, -1602, 3509, 5442], 1, 256, 32767],
        "hasselblad h5d-40": [[6159, -1402, -177, -5439, 12762, 3007, -955, 2200, 7104], 1, 256, 62914],
        "hasselblad h5d-50c": [[4932, -835, 141, -4878, 11868, 3437, -1138, 1961, 7067], 1, 256, 62914],
        "hasselblad x1dm2-50c": [[5002, -878, 111, -4856, 11929, 3338, -1183, 2041, 7022], 1, 256, 62914],
        "hasselblad x1d ii 50c": [[5002, -878, 111, -4856, 11929, 3338, -1183, 2041, 7022], 1, 256, 62914],
        "canon powershot a610": [[15591, -6402, -1592, -5365, 13198, 2168, -1300, 1824, 5075], 1, 0, 1023, 2672, 1968],
        "canon powershot s3 is": [[14062, -5199, -1446, -4712, 12470, 2243, -1286, 2028, 4836], 1, 0, 1023, 2888, 2136],
        "canon powershot a620": [[15265, -6193, -1558, -4125, 12116, 2010, -888, 1639, 5220], 1, 0, 1023, 3152, 2340],
        "canon powershot a720 is": [[14573, -5482, -1546, -1266, 9799, 1468, -1040, 1912, 3810], 3, 0, 1023, 3336, 2480],
        "canon powershot a630": [[14201, -5308, -1757, -6087, 14472, 1617, -2191, 3105, 5348], 1, 0, 1023, 3344, 2484],
        "canon powershot a640": [[13124, -5329, -1390, -3602, 11658, 1944, -1612, 2863, 4885], 1, 0, 1023, 3736, 2772],
        "canon powershot a650": [[9427, -3036, -959, -2581, 10671, 1911, -1039, 1982, 4430], 1, 0, 1023, 4104, 3048],
        "canon powershot sx110 is": [[14134, -5576, -1527, -1991, 10719, 1273, -1158, 1929, 3581], 1, 0, 4095, 3720, 2772],
        "gitup git2": [[8489, -2583, -1036, -8051, 15583, 2643, -1307, 1407, 7354], 1, 3200, 65535, 4608, 3456],
        "gitup git2p": [[8489, -2583, -1036, -8051, 15583, 2643, -1307, 1407, 7354], 1, 4160, 65535, 4624, 3488],
        "paralenz dive camera": [[8489, -2583, -1036, -8051, 15583, 2643, -1307, 1407, 7354], 1, 1024, 16383, 3840, 2160],
        "sjcam sj6 legend": [[9489, -3814, -225, -6650, 13742, 3236, -627, 797, 7550], 1, 0, 4095, 4024, 3036]
    };
    t.AR = {};
    t.AR.AR = function (Y, S, h, q, H) {
        if (q == null)
            q = 3;
        if (H == null)
            H = !0;
        var I = Y.d
            , E = Y.v
            , d = 1 / I
            , B = I * E
            , n = Date.now()
            , g = !1
            , z = t.AR.vm(h, I, E, 255, 128)
            , p = t.AR.vm(h, I, E, 0, 128)
            , cs = 0;
        if (g)
            console.log("extract contours", Date.now() - n);
        n = Date.now();
        var C = function (b3, ct) {
            var fQ = b3 << 2
                , cj = ct << 2;
            return S[fQ] + S[fQ + 1] + S[fQ + 2] - (S[cj] + S[cj + 1] + S[cj + 2])
        };
        z.sort(C);
        p.sort(C);
        var T = t.m(B)
            , A = t.m(B)
            , i = []
            , e = new Uint32Array(I * E);
        e.fill(4294967295);
        for (var G = 0; G < B; G++)
            if (h[G] == 0)
                A[G] = 255;
            else if (h[G] == 255)
                T[G] = 255;
            else {
                e[G] = i.length;
                i.push(G)
            }
        var a = z.length
            , Z = p.length
            , O = i.length;
        function c(b3, ct, fQ, cj) {
            var fJ = b3.length
                , cM = new Array(fJ * 2);
            for (var G = 0; G < fJ; G++) {
                var m = b3[G]
                    , l = ~~(m * cj)
                    , b = m - l * fQ
                    , fp = m << 2;
                cM[G * 2] = b << 16 | l;
                cM[G * 2 + 1] = ct[fp] << 16 | ct[fp + 1] << 8 | ct[fp + 2]
            }
            return cM
        }
        var s = c(z, S, I, d)
            , x = c(p, S, I, d)
            , u = c(i, S, I, d);
        if (g)
            console.log("Itemize", Date.now() - n, "Unknown:", O, a, Z);
        n = Date.now();
        var y = t.style.gS(T, I, E, !0)
            , j = t.style.gS(A, I, E, !0)
            , v = new Array(O)
            , X = new Array(O)
            , N = new Array(O)
            , V = new Array(O)
            , $ = new Array(O);
        if (g)
            console.log("Dist transform", Date.now() - n);
        n = Date.now();
        var w = t.AR.aO;
        for (var G = 0; G < O; G++) {
            var m = i[G]
                , l = ~~(m * d)
                , b = m - l * I
                , K = y[m << 1]
                , J = y[(m << 1) + 1]
                , R = Math.sqrt(K * K + J * J)
                , r = j[m << 1]
                , f = j[(m << 1) + 1]
                , gf = Math.sqrt(r * r + f * f);
            v[G] = 1 / R;
            X[G] = 1 / gf;
            var aa = Math.floor(t.Q.tK(m * 17) * a)
                , aA = Math.floor(t.Q.tK(m * 19) * Z);
            N[G] = aa;
            V[G] = aA;
            $[G] = w(u[G * 2], u[G * 2 + 1], s[aa * 2], s[aa * 2 + 1], x[aA * 2], x[aA * 2 + 1], v[G], X[G], 1e9)
        }
        var e5 = [-I - 1, -I, -I + 1, -1, 1, I - 1, I, I + 1];
        while (Math.floor(Math.max(a, Z) * Math.pow(.5, cs)) > 1)
            cs++;
        for (var fk = 0; fk < q; fk++) {
            var o = 0;
            for (var G = 0; G < O; G++) {
                var m = i[G]
                    , l = ~~(m * d)
                    , b = m - l * I
                    , eY = v[G]
                    , du = X[G]
                    , dV = u[G * 2]
                    , hy = u[G * 2 + 1]
                    , bq = $[G]
                    , aa = N[G]
                    , aA = V[G]
                    , gF = 1;
                if (l != 0 && b != 0 && b != I - 1 && l != E - 1)
                    for (var i5 = 0; i5 < 8; i5++) {
                        var hX = e[m + e5[i5]];
                        if (hX == 4294967295)
                            continue;
                        var bY = N[hX]
                            , ds = V[hX];
                        if (bY == aa && ds == aA)
                            continue;
                        var hV = w(dV, hy, s[bY * 2], s[bY * 2 + 1], x[ds * 2], x[ds * 2 + 1], eY, du, bq);
                        if (hV < bq) {
                            bq = hV;
                            aa = bY;
                            aA = ds
                        }
                    }
                for (var co = 0; co < cs; co++) {
                    var c_ = ~~(a * gF)
                        , a5 = ~~(Z * gF);
                    gF *= .5;
                    var gb = t.Q.tK(m + fk * 17 + co * 31)
                        , iC = t.Q.tK(m + fk * 29 + co * 63)
                        , cC = Math.max(0, aa - c_)
                        , aB = Math.min(aa + c_, a - 1)
                        , cd = Math.max(0, aA - a5)
                        , dZ = Math.min(aA + a5, Z - 1)
                        , bY = cC + ~~(gb * (aB - cC))
                        , ds = cd + ~~(iC * (dZ - cd))
                        , hV = w(dV, hy, s[bY * 2], s[bY * 2 + 1], x[ds * 2], x[ds * 2 + 1], eY, du, bq);
                    if (hV < bq) {
                        bq = hV;
                        aa = bY;
                        aA = ds
                    }
                }
                $[G] = bq;
                N[G] = aa;
                V[G] = aA;
                o += bq
            }
        }
        if (g)
            console.log(o);
        if (g)
            console.log("iterations", Date.now() - n);
        n = Date.now();
        var en = h.slice(0);
        for (var G = 0; G < O; G++) {
            var cD = t.AR.alpha(u[G * 2 + 1], s[N[G] * 2 + 1], x[V[G] * 2 + 1]);
            en[i[G]] = ~~(.5 + 255 * cD)
        }
        en = t.Za.aj2(en, S, new W(0, 0, I, E), 16, .01 * .01);
        if (g)
            console.log("guided filter", Date.now() - n);
        n = Date.now();
        if (H)
            for (var G = 0; G < B; G++)
                if (h[G] == 255 || h[G] == 0)
                    en[G] = h[G];
        var hP = S.slice(0);
        for (var G = 0; G < O; G++) {
            var ea = i[G]
                , aa = z[N[G]]
                , bq = $[G]
                , fp = ea << 2
                , bC = en[ea]
                , hG = (bC >= 250 ? ea : aa) << 2;
            hP[fp] = S[hG];
            hP[fp + 1] = S[hG + 1];
            hP[fp + 2] = S[hG + 2]
        }
        t.Vj(en, hP, 3);
        if (g)
            console.log(Date.now() - n);
        n = Date.now();
        return hP
    }
        ;
    t.AR.aO = function (Y, S, h, q, H, I, E, d, B) {
        var n = Y >>> 16
            , g = Y & 65535
            , z = n - (h >>> 16)
            , p = g - (h & 65535)
            , C = n - (H >>> 16)
            , T = g - (H & 65535)
            , A = Math.sqrt(z * z + p * p) * E
            , i = Math.sqrt(C * C + T * T) * d;
        if (A + i >= B)
            return 1e9;
        var e = t.AR.agH(S, q, I);
        return e + A + i
    }
        ;
    t.AR.agH = function (Y, S, h) {
        var q = Y >>> 16
            , H = Y >>> 8 & 255
            , I = Y & 255
            , E = S >>> 16
            , d = S >>> 8 & 255
            , B = S & 255
            , n = h >>> 16
            , g = h >>> 8 & 255
            , z = h & 255
            , p = t.AR.alpha(Y, S, h)
            , C = q - (p * E + (1 - p) * n)
            , T = H - (p * d + (1 - p) * g)
            , A = I - (p * B + (1 - p) * z);
        return Math.sqrt(C * C + T * T + A * A)
    }
        ;
    t.AR.alpha = function (Y, S, h) {
        var q = Y >>> 16
            , H = Y >>> 8 & 255
            , I = Y & 255
            , E = S >>> 16
            , d = S >>> 8 & 255
            , B = S & 255
            , n = h >>> 16
            , g = h >>> 8 & 255
            , z = h & 255
            , p = E - n
            , C = d - g
            , T = B - z
            , A = q - n
            , i = H - g
            , e = I - z
            , a = p * p + C * C + T * T
            , Z = a == 0 ? .5 : (A * p + i * C + e * T) / a;
        return Math.max(0, Math.min(1, Z))
    }
        ;
    t.AR.ajL = function (Y) { }
        ;
    t.AR.vm = function (Y, S, h, q, H) {
        var I = []
            , E = S - 1
            , d = h - 1;
        for (var B = 1; B < d; B++)
            for (var n = 1; n < E; n++) {
                var G = B * S + n;
                if (Y[G] == q && (Y[G - S - 1] == H || Y[G - S] == H || Y[G - S + 1] == H || (Y[G - 1] == H || Y[G + 1] == H) || (Y[G + S - 1] == H || Y[G + S] == H || Y[G + S + 1] == H)))
                    I.push(G)
            }
        return I
    }
        ;
    t.Za = {};
    t.Za.ae$ = function (Y, S, h, q, H) {
        var I = h.d, E = h.v, d = I * E, B = t.Za.nE, n = t.m(d * 4), g;
        t.A5(n, 4294967295);
        var z = h
            , p = Y
            , C = S
            , T = q;
        t.Vj(Y, n, 0);
        g = t.ga(n, h);
        g = t.ga(g.nP, g.rect);
        z = g.rect;
        T = q >>> 2;
        console.log(z, T);
        p = t.m(z.e());
        t.Ft(g.nP, p, 0);
        t.Vj(S, n, 0);
        g = t.ga(n, h);
        g = t.ga(g.nP, g.rect);
        C = t.m(z.e());
        t.Ft(g.nP, C, 0);
        var A = t.Za.ank(p, C, z, T, H)
            , i = A[0]
            , e = A[1]
            , a = new W(0, 0, z.d * 2, z.v * 2);
        i = B(i, z, a, !0);
        i = B(i, a, h, !0);
        e = B(e, z, a, !0);
        e = B(e, a, h, !0);
        var Z = t.m(d);
        for (var G = 0; G < d; G++)
            Z[G] = Math.max(0, Math.min(255, Math.floor(.5 + (i[G] * S[G] + 255 * e[G]))));
        return Z
    }
        ;
    t.Za.nE = function (Y, S, h, q) {
        var H = h.d
            , I = h.v
            , E = S.d
            , d = S.v
            , B = t.Za.a5
            , n = new Float32Array(H * I);
        for (var g = 0; g < d; g++) {
            var z = (g + g) * H;
            for (var p = 0; p < E; p++) {
                if (!0 || p == 0 || g == 0 || p == E - 1 || g == d - 1)
                    n[z] = n[z + 1] = n[z + H] = n[z + H + 1] = Y[g * E + p];
                else {
                    n[z] = B(p + .25, g + .25, Y, E, d);
                    n[z + 1] = B(p + .75, g + .25, Y, E, d);
                    n[z + H] = B(p + .25, g + .75, Y, E, d);
                    n[z + H + 1] = B(p + .75, g + .75, Y, E, d)
                }
                z += 2
            }
        }
        return n
    }
        ;
    t.Za.a5 = function (Y, S, h, q, H) {
        Y -= .499999;
        S -= .499999;
        var I = Math.floor(Y)
            , E = Math.floor(S)
            , d = E * q + I
            , B = Y - I
            , n = S - E
            , g = (1 - n) * (1 - B)
            , z = (1 - n) * B
            , p = n * (1 - B)
            , C = n * B;
        if (h[d] == null || h[d + q + 1] == null) {
            console.log(Y, S, q, H);
            throw "e"
        }
        return g * h[d + 0] + z * h[d + 1] + p * h[d + q + 0] + C * h[d + q + 1]
    }
        ;
    t.Za.ank = function (Y, S, h, q, H) {
        var I = h.d
            , E = h.v
            , d = I * E
            , B = t.Za.AU
            , n = t.Za.m
            , g = t.n8.UY
            , z = t.Za.Nx
            , S = B(S)
            , Y = B(Y)
            , p = n(d);
        g(S, p, h, q);
        var C = n(d);
        g(Y, C, h, q);
        var T = n(d);
        z(S, S, T);
        g(T, T, h, q);
        var A = n(d);
        z(S, Y, A);
        g(A, A, h, q);
        var i = n(d)
            , e = n(d);
        for (var G = 0; G < d; G++) {
            var a = p[G]
                , Z = C[G]
                , O = T[G] - a * a
                , c = A[G] - a * Z
                , s = c / (O + H)
                , x = Z - s * a;
            i[G] = s;
            e[G] = x
        }
        var u = n(d);
        g(i, u, h, q);
        var y = n(d);
        g(e, y, h, q);
        return [u, y]
    }
        ;
    t.Za.aj2 = function (Y, S, h, q, H) {
        var I = h.d
            , E = h.v
            , d = I * E
            , B = t.Za.nE
            , n = Date.now()
            , g = !1
            , z = h
            , p = Y
            , C = S
            , T = q;
        z = new W(0, 0, I >>> 2, E >>> 2);
        T = q >>> 2;
        p = t.Za.aiN(Y, I, E);
        C = t.Za.afB(S, I, E);
        if (g)
            console.log(Date.now() - n);
        n = Date.now();
        var A = t.Za.a6L(p, C, z, T, H)
            , i = A[0]
            , e = A[1]
            , a = A[2]
            , Z = A[3];
        if (g)
            console.log(Date.now() - n);
        n = Date.now();
        var O = t.m(d);
        for (var c = 0; c < E; c++)
            for (var s = 0; s < I; s++) {
                var G = c * I + s
                    , x = (c >>> 2) * (I >>> 2) + (s >>> 2)
                    , u = G << 2
                    , y = i[x] * S[u] + e[x] * S[u + 1] + a[x] * S[u + 2] + Z[x] * 255;
                O[G] = Math.max(0, Math.min(255, ~~(.5 + y)))
            }
        if (g)
            console.log(Date.now() - n);
        n = Date.now();
        return O
    }
        ;
    t.Za.aiN = function (Y, S, h) {
        var q = S >>> 2
            , H = h >>> 2
            , I = t.m(S * h);
        for (var E = 0; E < H; E++)
            for (var d = 0; d < q; d++)
                I[E * q + d] = Y[E * S + d << 2];
        return I
    }
        ;
    t.Za.afB = function (Y, S, h) {
        var q = S >>> 2
            , H = h >>> 2
            , I = t.m(S * h * 4);
        for (var E = 0; E < H; E++)
            for (var d = 0; d < q; d++) {
                var B = E * q + d << 2
                    , n = E * S + d << 4;
                I[B] = Y[n];
                I[B + 1] = Y[n + 1];
                I[B + 2] = Y[n + 2];
                I[B + 3] = Y[n + 3]
            }
        return I
    }
        ;
    t.Za.a6L = function (Y, S, h, q, H) {
        var I = h.d
            , E = h.v
            , d = I * E
            , B = t.Za.AU
            , n = t.Za.m
            , g = t.n8.UY
            , z = t.Za.Nx
            , Y = B(Y)
            , p = new t.ho(I * E);
        t.vK(S, p);
        var S = [B(p.h), B(p.l), B(p.O)]
            , C = t.Za.abr(Y, S, h, q, H)
            , T = n(d);
        g(Y, T, h, q);
        var A = n(d);
        z(S[0], Y, A);
        g(A, A, h, q);
        var i = n(d);
        z(S[1], Y, i);
        g(i, i, h, q);
        var e = n(d);
        z(S[2], Y, e);
        g(e, e, h, q);
        var a = n(d)
            , Z = n(d)
            , O = n(d)
            , c = n(d);
        for (var G = 0; G < d; G++) {
            var s = T[G]
                , x = C.E2[G]
                , u = C.FU[G]
                , y = C.kj[G]
                , j = A[G] - x * s
                , v = i[G] - u * s
                , X = e[G] - y * s;
            a[G] = C.agn[G] * j + C.uf[G] * v + C.cZ[G] * X;
            Z[G] = C.uf[G] * j + C.aiM[G] * v + C.n0[G] * X;
            O[G] = C.cZ[G] * j + C.n0[G] * v + C.a89[G] * X;
            c[G] = s - a[G] * x - Z[G] * u - O[G] * y
        }
        g(a, a, h, q);
        g(Z, Z, h, q);
        g(O, O, h, q);
        g(c, c, h, q);
        return [a, Z, O, c]
    }
        ;
    t.Za.abr = function (Y, S, h, q, H) {
        var I = h.d
            , E = h.v
            , d = I * E
            , B = t.Za.m
            , n = t.n8.UY
            , g = t.Za.Nx
            , z = {};
        z.E2 = B(d);
        n(S[0], z.E2, h, q);
        z.FU = B(d);
        n(S[1], z.FU, h, q);
        z.kj = B(d);
        n(S[2], z.kj, h, q);
        var p = B(d);
        g(S[0], S[0], p);
        n(p, p, h, q);
        var C = B(d);
        g(S[0], S[1], C);
        n(C, C, h, q);
        var T = B(d);
        g(S[0], S[2], T);
        n(T, T, h, q);
        var A = B(d);
        g(S[1], S[1], A);
        n(A, A, h, q);
        var i = B(d);
        g(S[1], S[2], i);
        n(i, i, h, q);
        var e = B(d);
        g(S[2], S[2], e);
        n(e, e, h, q);
        z.agn = p;
        z.uf = C;
        z.cZ = T;
        z.aiM = A;
        z.n0 = i;
        z.a89 = e;
        for (var G = 0; G < d; G++) {
            var a = z.E2[G]
                , Z = z.FU[G]
                , O = z.kj[G]
                , c = p[G] - a * a + H
                , s = C[G] - a * Z
                , x = T[G] - a * O
                , u = A[G] - Z * Z + H
                , y = i[G] - Z * O
                , j = e[G] - O * O + H
                , v = u * j - y * y
                , X = y * x - s * j
                , N = s * y - u * x
                , V = c * j - x * x
                , $ = x * s - c * y
                , w = c * u - s * s
                , m = v * c + X * s + N * x
                , l = 1 / m;
            z.agn[G] = v * l;
            z.uf[G] = X * l;
            z.cZ[G] = N * l;
            z.aiM[G] = V * l;
            z.n0[G] = $ * l;
            z.a89[G] = w * l
        }
        return z
    }
        ;
    t.Za.m = function (Y) {
        return new Float32Array(Y)
    }
        ;
    t.Za.AU = function (Y) {
        var S = Y.length
            , h = new Float32Array(S);
        for (var G = 0; G < S; G++)
            h[G] = Y[G] * (1 / 255);
        return h
    }
        ;
    t.Za.Nx = function (Y, S, h) {
        for (var G = 0; G < Y.length; G++)
            h[G] = Y[G] * S[G]
    }
        ;
    t.oL = {};
    t.oL.X7 = function (Y, S, h, q) {
        var H = Y[S] - h[q]
            , I = Y[S + 1] - h[q + 1]
            , E = Y[S + 2] - h[q + 2];
        return Math.sqrt(H * H + I * I + E * E) * (1 / 441.7)
    }
        ;
    t.oL.getSelection = function (Y, S, h) {
        var q = S * h
            , H = t.m(q)
            , I = !1
            , E = Math.round(h * .7)
            , d = 1
            , B = new Uint32Array(12)
            , n = t.m(12);
        for (var g = 0; g < E; g++)
            for (var z = 0; z < S; z++) {
                if (z < d || g < d || z > S - d - 1 || g > h - d - 1) {
                    var G = g * S + z
                        , p = G << 2
                        , C = 0;
                    if (g < d)
                        C = 4;
                    else if (z > S - d - 1)
                        C = 8;
                    B[C] += Y[p];
                    B[C + 1] += Y[p + 1];
                    B[C + 2] += Y[p + 2];
                    B[C + 3]++;
                    H[G] = 255
                }
            }
        for (var G = 0; G < 12; G += 4)
            for (var T = 0; T < 3; T++)
                n[G + T] = B[G + T] / B[G + 3];
        var A = new Float32Array(q);
        for (var G = 0; G < q; G++) {
            var p = G * 4
                , i = t.oL.X7(Y, p, n, 0)
                , e = t.oL.X7(Y, p, n, 4)
                , a = t.oL.X7(Y, p, n, 8)
                , Z = Math.max(i, Math.max(e, a));
            A[G] = i + e + a - Z
        }
        t.oL.CK(A);
        var O = Date.now()
            , c = new Float32Array(q)
            , s = []
            , x = t.m(q);
        for (var G = 0; G < 3; G++) {
            t.Ft(Y, x, G);
            var u = new Uint16Array(q);
            s.push(u);
            t.oL.ahO(x, H, S, h, u)
        }
        if (I)
            console.log("MBD", Date.now() - O);
        O = Date.now();
        for (var G = 0; G < q; G++)
            c[G] = s[0][G] + s[1][G] + s[2][G];
        t.oL.CK(c);
        for (var G = 0; G < q; G++)
            c[G] += .4 * A[G];
        var y = S >>> 1
            , E = h >>> 1
            , j = 1 / Math.sqrt(y * y + E * E);
        for (var g = 0; g < h; g++)
            for (var z = 0; z < S; z++) {
                var v = z - y
                    , X = g - E
                    , N = 1 - Math.sqrt(v * v + X * X) * j;
                c[g * S + z] *= N
            }
        if (I)
            console.log("Centeredness", Date.now() - O);
        O = Date.now();
        for (var G = 0; G < q; G++)
            H[G] = c[G] * 255;
        var V = Math.round(S / 120)
            , $ = Math.round(V * .8);
        if (I)
            console.log(V, $);
        t.Ll.hr(H, x, S, h, V, t.Ll.l5, []);
        H.set(x);
        if (I)
            console.log("erosion", Date.now() - O);
        O = Date.now();
        for (var G = 0; G < q; G++)
            c[G] = H[G];
        t.oL.CK(c);
        var w = t.m(256);
        for (var G = 0; G < 256; G++)
            w[G] = 256 / (1 + Math.exp(-20 * (G / 255 - .5)));
        for (var G = 0; G < q; G++) {
            var m = ~~(c[G] * 255 + .5);
            H[G] = w[m]
        }
        if (I)
            console.log("Simoid", Date.now() - O);
        O = Date.now();
        return H
    }
        ;
    t.oL.CK = function (Y) {
        var S = Y.length
            , h = 0;
        for (var G = 0; G < S; G++)
            h = Math.max(h, Y[G]);
        var q = 1 / h;
        for (var G = 0; G < S; G++)
            Y[G] = Y[G] * q
    }
        ;
    t.oL.ahO = function (Y, S, h, q, H) {
        var I = h * q
            , E = Y.slice(0)
            , d = Y.slice(0);
        for (var G = 0; G < I; G++)
            H[G] = S[G] == 255 ? 0 : 65535;
        t.oL.DU(Y, d, E, H, h, q);
        t.oL.qg(Y, d, E, H, h, q);
        t.oL.DU(Y, d, E, H, h, q);
        t.oL.qg(Y, d, E, H, h, q);
        return H
    }
        ;
    t.oL.DU = function (Y, S, h, q, H, I) {
        for (var E = 1; E < H; E++)
            t.oL.dU(E, -1, Y, S, h, q);
        for (var d = 1; d < I; d++) {
            t.oL.dU(d * H, -H, Y, S, h, q);
            for (var E = 1; E < H; E++) {
                var G = d * H + E;
                t.oL.dU(G, -1, Y, S, h, q);
                t.oL.dU(G, -H, Y, S, h, q)
            }
        }
    }
        ;
    t.oL.qg = function (Y, S, h, q, H, I) {
        for (var E = H - 2; E >= 0; E--)
            t.oL.dU(H * I - H + E, 1, Y, S, h, q);
        for (var d = I - 2; d >= 0; d--) {
            t.oL.dU(d * H + H - 1, H, Y, S, h, q);
            for (var E = H - 2; E >= 0; E--) {
                var G = d * H + E;
                t.oL.dU(G, 1, Y, S, h, q);
                t.oL.dU(G, H, Y, S, h, q)
            }
        }
    }
        ;
    t.oL.dU = function (G, Y, S, h, q, H) {
        var I = G + Y
            , E = S[G]
            , d = h[I]
            , B = q[I];
        if (d < E)
            d = E;
        else if (E < B)
            B = E;
        var n = d - B;
        if (H[I] != 65535 && n < H[G]) {
            H[G] = n;
            h[G] = d;
            q[G] = B
        }
    }
        ;
    t.wu = {};
    t.wu.filter = function (Y, S, h, q) {
        var H = S.d
            , I = S.v
            , E = H * I
            , d = q[0]
            , B = q[1]
            , n = q[2]
            , g = q[3]
            , z = q[4]
            , p = q[5]
            , C = q[6]
            , T = Date.now()
            , A = new Float32Array(H * I * 4);
        t.wu.ajk(Y, H, I, A);
        var i = Math.ceil(d * Math.sqrt(-2 * Math.log(.1)))
            , e = new ArrayBuffer(E * 4)
            , a = new Float32Array(e)
            , Z = new Float32Array(E)
            , O = new Float32Array(E);
        for (var G = 0; G < E; G++) {
            var c = G * 4;
            a[G] = A[c];
            Z[G] = A[c + 1];
            O[G] = A[c + 2]
        }
        t.n8.SL(a, a, S, i * 1 / 2.4, 2);
        t.n8.SL(Z, Z, S, i * 1 / 2.4, 2);
        t.n8.SL(O, O, S, i * 1 / 2.4, 2);
        for (var G = 0; G < E; G++) {
            var c = G * 4;
            A[c] = a[G];
            A[c + 1] = Z[G];
            A[c + 2] = O[G]
        }
        var s = new Uint8Array(e);
        for (var G = 0; G < E; G++) {
            var c = G * 4
                , x = G * 4
                , a = A[c]
                , Z = A[c + 1]
                , O = A[c + 2]
                , u = Math.sqrt((a - O) * (a - O) + 4 * Z * Z)
                , y = (a + O + u) * .5
                , j = (a + O - u) * .5
                , v = j - O
                , X = Z
                , N = v * v + X * X;
            if (N != 0) {
                var V = Math.sqrt(N)
                    , $ = 1 / V;
                v *= $;
                X *= $
            }
            s[x] = 128 + 127 * v;
            s[x + 1] = 128 + 127 * X
        }
        var w = 1.3 * B + 2
            , m = g * (2 / 10)
            , l = Y.slice();
        if (Q.nc) {
            var b = new Float32Array([1 / H, 1 / I])
                , K = Q.BG(0, H, I);
            K.set(l);
            var J = Q.BG(1, H, I);
            J.set(s);
            Q.Mx(K, S);
            if (z) {
                K.Pd(S);
                Q.filter.OG({
                    type: Q.filter.WC,
                    LD: b,
                    a7L: 1 / n,
                    al4: m
                }, K.we)
            }
            K.Pd(S);
            Q.filter.OG({
                type: Q.filter.YE,
                D7: J.$Q,
                LD: b,
                a6C: w,
                aly: 2
            }, K.we);
            if (z) {
                K.Pd(S);
                Q.filter.OG({
                    type: Q.filter.HQ,
                    LD: b,
                    a4g: new Float32Array(C),
                    akT: p
                }, K.we)
            }
            K.get(h)
        } else {
            if (z)
                t.wu.vA(1 / n, m, l, H, I);
            t.wu.YE(l, h, s, H, I, w);
            if (z)
                t.wu.a64(H, I, h, C, p)
        }
        var R = E * 4;
        for (var G = 3; G < R; G += 4)
            h[G] = Y[G]
    }
        ;
    t.wu.YE = function (Y, S, h, q, H, I) {
        var E = Math.ceil(2 * I)
            , d = -1 / (2 * I * I)
            , B = []
            , n = 1;
        for (var G = 0; G < E + 20; G++)
            B[G] = Math.exp(G * G * d);
        var g = [0, 0, 0, 0];
        for (var z = 0; z < H; z++) {
            for (var p = 0; p < q; p++) {
                var C = z * q + p
                    , T = C * 4
                    , A = 1
                    , i = Y[T]
                    , e = Y[T + 1]
                    , a = Y[T + 2]
                    , Z = Y[T + 3]
                    , O = (h[T] - 128) * (1 / 127)
                    , c = (h[T + 1] - 128) * (1 / 127)
                    , s = O
                    , x = c
                    , u = p == 0 ? .51 : .49
                    , y = z == 0 ? .51 : .49;
                for (var G = 0; G < 2; G++) {
                    var j = p + u
                        , v = z + y
                        , X = 0;
                    while (X < E) {
                        if (j < .5 || q - .5 < j || v < .5 || H - .5 < v)
                            break;
                        var N = ~~j
                            , V = ~~v
                            , $ = V * q + N
                            , w = $ * 4
                            , m = (h[w] - 128) * (1 / 127)
                            , l = (h[w + 1] - 128) * (1 / 127);
                        if (m * s + l * x < 0) {
                            m = -m;
                            l = -l
                        }
                        s = m;
                        x = l;
                        j += n * m;
                        v += n * l;
                        if (j < .5 || q - .5 < j || v < .5 || H - .5 < v)
                            break;
                        var b = ~~j
                            , K = ~~v
                            , J = K * q + b << 2;
                        X += n;
                        var R = B[~~X];
                        t.I.zI(j, v, Y, q, H, g);
                        i += g[0] * R;
                        e += g[1] * R;
                        a += g[2] * R;
                        Z += g[3] * R;
                        A += R
                    }
                    s = -O;
                    x = -c
                }
                var r = 1 / A;
                S[T] = ~~(.5 + i * r);
                S[T + 1] = ~~(.5 + e * r);
                S[T + 2] = ~~(.5 + a * r);
                S[T + 3] = ~~(.5 + Z * r)
            }
        }
    }
        ;
    t.wu.a64 = function (Y, S, h, q, H) {
        for (var I = 0; I < S; I++)
            for (var E = 0; E < Y; E++) {
                var d = I * Y + E << 2
                    , B = 1 + t.wu.amZ(E, I, h, Y, S, q) * H;
                h[d] = Math.max(0, Math.min(255, h[d] * B));
                h[d + 1] = Math.max(0, Math.min(255, h[d + 1] * B));
                h[d + 2] = Math.max(0, Math.min(255, h[d + 2] * B))
            }
    }
        ;
    t.wu.amZ = function (Y, S, h, q, H, I) {
        var E = h[(S * q + Math.max(0, Y - 1)) * 4 + 3]
            , d = h[(S * q + Math.min(q - 1, Y + 1)) * 4 + 3]
            , B = h[(Math.max(0, S - 1) * q + Y) * 4 + 3]
            , n = h[(Math.min(H - 1, S + 1) * q + Y) * 4 + 3]
            , g = .7
            , z = (d - E) * (1 / 255)
            , p = .7
            , C = (n - B) * (1 / 255)
            , T = -z * p
            , A = -g * C
            , i = g * p
            , e = Math.sqrt(T * T + A * A + i * i)
            , a = 1 / e
            , Z = T * a
            , O = A * a
            , c = i * a
            , s = I[0] * Z + I[1] * O + I[2] * c;
        return s
    }
        ;
    t.wu.vA = function (Y, S, h, q, H) {
        function I(d, n, g) {
            return Math.max(n, Math.min(g, d))
        }
        for (var E = 0; E < H; E++)
            for (var d = 0; d < q; d++) {
                var B = t.wu.a0o(d + .5, E + .5, Y, S);
                h[(E * q + d) * 4 + 3] = Math.max(0, Math.min(255, B * 255))
            }
    }
        ;
    t.wu.a0o = function (Y, S, h, q) {
        function H(x, u, y) {
            return (1 - y) * x + y * u
        }
        var I = (Y + 613) * h
            , E = (S + 117) * h
            , d = ~~I
            , B = ~~E
            , n = I - d
            , g = E - B
            , z = Math.sin(11)
            , p = Math.cos(d) * z
            , C = Math.cos(d + 1) * z
            , T = Math.cos(B) * z
            , A = Math.cos(B + 1) * z
            , D = t.wu.hash(p, T)
            , i = t.wu.hash(C, T)
            , e = t.wu.hash(p, A)
            , a = t.wu.hash(C, A)
            , Z = H(D, i, n)
            , O = H(e, a, n)
            , c = H(Z, O, g);
        c = c < .5 ? 0 : 1;
        var s = c + q * t.wu.hash(Math.cos(I) * z, Math.cos(E) * z);
        return s * (1 / 3)
    }
        ;
    t.wu.hash = function (Y, S) {
        var h = Math.sin(Y * 11.697096 + S * 73.32456) * 12157.47691;
        return h - Math.floor(h)
    }
        ;
    t.wu.ajk = function (Y, S, h, q) {
        var H = [-1, 0, 1, -2, 0, 2, -1, 0, 1]
            , I = [-1, -2, -1, 0, 0, 0, 1, 2, 1]
            , E = S - 1
            , d = h - 1
            , B = S * 4;
        for (var n = 1; n < d; n++)
            for (var g = 1; g < E; g++) {
                var G = n * S + g
                    , z = G * 4
                    , p = t.wu.zB(Y, z, B, H)
                    , C = t.wu.zB(Y, z, B, I)
                    , T = t.wu.zB(Y, z + 1, B, H)
                    , A = t.wu.zB(Y, z + 1, B, I)
                    , i = t.wu.zB(Y, z + 2, B, H)
                    , e = t.wu.zB(Y, z + 2, B, I);
                q[z] = p * p + T * T + i * i;
                q[z + 1] = p * C + T * A + i * e;
                q[z + 2] = C * C + A * A + e * e
            }
        t.wu.aiE(q, S, h)
    }
        ;
    t.wu.zB = function (Y, S, h, q) {
        return Y[S - h - 4] * q[0] + Y[S - h] * q[1] + Y[S - h + 4] * q[2] + Y[S - 4] * q[3] + Y[S] * q[4] + Y[S + 4] * q[5] + Y[S + h - 4] * q[6] + Y[S + h] * q[7] + Y[S + h + 4] * q[8]
    }
        ;
    t.wu.aiE = function (Y, S, h) {
        function q(B, G, n) {
            var g = G * 4
                , z = n * 4;
            B[z] = B[g];
            B[z + 1] = B[g + 1];
            B[z + 2] = B[g + 2]
        }
        var H = S - 1
            , I = h - 1;
        q(Y, S + 1, 0);
        q(Y, 2 * S - 2, S - 1);
        for (var E = 1; E < H; E++)
            q(Y, S + E, E);
        for (var d = 1; d < I; d++) {
            q(Y, d * S + 1, d * S);
            q(Y, d * S + S - 2, d * S + S - 1)
        }
        for (var E = 1; E < H; E++)
            q(Y, (h - 2) * S + E, (h - 1) * S + E);
        q(Y, (d - 2) * S + 1, (d - 1) * S);
        q(Y, (d - 1) * S - 2, d * S - 1)
    }
        ;
    t.Gj = {};
    t.Gj.xn = function (Y, S, h, q) {
        var H = Y[S * 2]
            , I = Y[S * 2 + 1]
            , E = Y[h * 2]
            , d = Y[h * 2 + 1]
            , B = Y[q * 2]
            , n = Y[q * 2 + 1];
        return H * d + E * n + B * I - B * d - E * I - H * n
    }
        ;
    t.Gj.oZ = function (Y, S) {
        var h = []
            , q = []
            , H = []
            , I = {};
        for (var G = 0; G < S.length; G += 3) {
            var E = ~~(G * (1 / 3))
                , d = S[G + 0]
                , B = S[G + 1]
                , n = S[G + 2]
                , g = t.Gj.xn(Y, d, B, n);
            if (g > 0) {
                var z = B;
                B = n;
                n = z
            }
            var p = I[n + "-" + B]
                , C = I[B + "-" + d]
                , T = I[d + "-" + n]
                , A = [n, p, E, null]
                , i = [B, C, E, A]
                , e = [d, T, E, i];
            A[3] = e;
            if (p)
                p[1] = A;
            if (C)
                C[1] = i;
            if (T)
                T[1] = e;
            I[n + "-" + d] = e;
            I[d + "-" + B] = i;
            I[B + "-" + n] = A;
            h[d] = i;
            H[G] = i;
            h[B] = A;
            H[G + 1] = A;
            h[n] = e;
            H[G + 2] = e;
            q[E] = i
        }
        return {
            a9: h,
            o4: q,
            tX: H
        }
    }
        ;
    t.Gj.aix = function (Y) {
        var S = []
            , h = Y.o4;
        for (var G = 0; G < h.length; G++) {
            var q = h[G];
            S.push(q[0]);
            q = q[3];
            S.push(q[0]);
            q = q[3];
            S.push(q[0])
        }
        return S
    }
        ;
    t.Gj.ah1 = function (Y, S, h, q) {
        var H = Y[S * 2]
            , I = Y[S * 2 + 1]
            , E = Y[h * 2]
            , d = Y[h * 2 + 1]
            , B = Y[q * 2]
            , n = Y[q * 2 + 1]
            , g = E - H
            , z = d - I
            , p = B - H
            , C = n - I
            , T = g * (H + E) + z * (I + d)
            , A = p * (H + B) + C * (I + n)
            , i = 2 * (g * (n - d) - z * (B - E));
        if (Math.abs(i) < 1e-5) {
            var e = Math.min(H, E, B)
                , a = Math.min(I, d, n)
                , Z = (Math.max(H, E, B) - e) * .5
                , O = (Math.max(I, d, n) - a) * .5;
            return [e + Z, a + O, Z * Z + O * O, 1]
        }
        var c = (C * T - z * A) / i
            , s = (g * A - p * T) / i
            , Z = c - H
            , O = s - I;
        return [c, s, Z * Z + O * O, 0]
    }
        ;
    t.Gj.ani = function (Y, S, h) {
        var q = h[1]
            , H = h[3]
            , I = H[3]
            , E = q[3]
            , d = E[3]
            , B = h[2]
            , n = q[2]
            , g = h[0]
            , z = q[0]
            , p = H[0]
            , C = E[0]
            , T = t.Gj.ah1(Y, z, C, p)
            , A = Y[g * 2] - T[0]
            , i = Y[g * 2 + 1] - T[1]
            , e = A * A + i * i > T[2] && T[3] == 0 && t.Gj.xn(Y, C, g, p) < 0 && t.Gj.xn(Y, p, z, C) < 0;
        if (e) {
            h[0] = p;
            q[0] = C;
            h[3] = I;
            I[3] = E;
            E[3] = h;
            q[3] = d;
            d[3] = H;
            H[3] = q;
            H[2] = n;
            E[2] = B;
            S.o4[n] = d;
            S.o4[B] = I;
            S.a9[z] = E;
            S.a9[g] = H
        }
        return e
    }
        ;
    t.Gj.If = function (Y, S, h) {
        var q = Y[S * 2] - Y[h * 2]
            , H = Y[S * 2 + 1] - Y[h * 2 + 1];
        return Math.sqrt(q * q + H * H)
    }
        ;
    t.Gj.a2p = function (Y, S, h) {
        var q = h[1], H = h[3], I = H[3], E, d, B = h[2], n, g = h[0], z = I[0], p = H[0], C;
        if (q) {
            E = q[3];
            d = E[3];
            n = q[2];
            C = E[0]
        }
        var T = Y.length >>> 1;
        Y[2 * T] = (Y[2 * z] + Y[2 * g]) * .5;
        Y[2 * T + 1] = (Y[2 * z + 1] + Y[2 * g + 1]) * .5;
        if (!0) {
            var A = B
                , i = h
                , e = S.o4.length
                , a = [T, null, A, i]
                , Z = [p, a, e, I];
            a[1] = Z;
            var O = [T, null, e, Z];
            H[3] = a;
            I[3] = O;
            I[2] = e;
            S.o4[A] = H;
            S.o4[e] = O;
            S.a9[g] = H;
            S.a9[p] = I;
            S.tX.push(a, Z, O)
        }
        if (q) {
            var c = n
                , s = q
                , x = e + 1;
            O[1] = s,
                s[1] = O;
            var u = [T, null, c, s]
                , y = [C, u, x, d];
            u[1] = y;
            var j = [T, i, x, y];
            i[1] = j;
            E[3] = u;
            d[3] = j;
            d[2] = x;
            S.o4[c] = E;
            S.o4[x] = d;
            S.a9[z] = E;
            S.a9[C] = d;
            S.tX.push(u, y, j)
        }
        S.a9[T] = i
    }
        ;
    t.Gj.il = function (Y, S) {
        var h = 0;
        while (!0) {
            var q = h;
            for (var G = 0; G < S.tX.length; G++) {
                var H = S.tX[G];
                if (H[1] == null)
                    continue;
                var I = t.Gj.ani(Y, S, H);
                if (I) {
                    h++;
                    break
                }
            }
            if (q == h)
                break
        }
        return h != 0
    }
        ;
    t.Gj.afn = function (Y, S, h, q) {
        var H = 0;
        for (var G = 0; G < q; G++) {
            var I = null
                , E = 0;
            for (var d = 0; d < S.tX.length; d++) {
                var B = S.tX[d]
                    , n = t.Gj.If(Y, B[0], B[3][3][0]) * (B[1] ? 1 : 2);
                if (n > E) {
                    I = B;
                    E = n
                }
            }
            if (E > h) {
                t.Gj.a2p(Y, S, I);
                H++
            }
        }
        return H != 0
    }
        ;
    t.Gj.a7p = function (Y, S) {
        var h = []
            , p = 0;
        for (var G = 0; G < Y.length; G++)
            h.push(0);
        for (var G = 0; G < S.tX.length; G++) {
            var q = S.tX[G]
                , H = q[0]
                , I = q[3][3][0]
                , E = Y[H * 2]
                , d = Y[H * 2 + 1]
                , B = Y[I * 2]
                , n = Y[I * 2 + 1]
                , g = E - B
                , z = d - n;
            h[H * 2] += -g;
            h[H * 2 + 1] += -z;
            h[I * 2] += g;
            h[I * 2 + 1] += z
        }
        for (var G = 0; G < Y.length; G += 2) {
            var C = G >>> 1
                , T = S.a9[C]
                , q = T
                , A = !0;
            do {
                if (q[1] == null) {
                    A = !1;
                    break
                }
                q = q[1][3]
            } while (q != T); if (A) {
                var i = .02;
                Y[G] += i * h[G];
                Y[G + 1] += i * h[G + 1];
                p += i * (h[G] * h[G] + h[G + 1] * h[G + 1])
            }
        }
        return p
    }
        ;
    t.Gj.a48 = function (Y, S, h) {
        var q = t.a.Zu(Y)
            , H = t.Gj.oZ(Y, S);
        t.Gj.il(Y, H);
        for (var I = 0; I < 300; I++) {
            var E = !1
                , d = !1;
            E = t.Gj.afn(Y, H, h, 5);
            if (E)
                d = t.Gj.il(Y, H);
            var B = t.Gj.a7p(Y, H);
            if (!E && !d && B < 1e-4) {
                break
            }
        }
        return t.Gj.aix(H)
    }
        ;
    t.$H = {};
    t.$H.Yx = function (Y) {
        var S = Y.c6, h = Y.FB, q = Y.hs, H = Y.cY, I = Y.p0, E = Y.oD, d = Y.Mk, B = t.cu.Ou, a, Z, O = 0;
        function n(D) {
            var dV = new Array(D);
            for (var G = 0; G < D; G++)
                dV[G] = 0;
            return dV
        }
        var g = h.length >>> 1
            , z = n(S.La * 2)
            , p = n(S.La)
            , C = n(S.La)
            , T = Date.now();
        for (var G = 0; G < Y.jW.length; G++) {
            var A = S.alD + G
                , i = S.rz * (E[G * 2] + d[G * 2])
                , e = S.rz * (E[G * 2 + 1] + d[G * 2 + 1]);
            z[A * 2] = i;
            z[A * 2 + 1] = e;
            p[A] = i;
            C[A] = e
        }
        S.a8z.fq(H, S.a0P.Ou(z), .01, a, Z);
        for (var G = 0; G < S.ajo.tX.length; G++) {
            var c = S.ajo.tX[G]
                , s = c[3][3][0]
                , x = c[0]
                , u = c[3][0]
                , y = c[1] ? c[1][3][0] : u;
            if (c[1] && s > x)
                continue;
            var j = h[s * 2]
                , v = h[s * 2 + 1]
                , X = h[x * 2]
                , N = h[x * 2 + 1]
                , V = H[s * 2]
                , $ = H[s * 2 + 1]
                , w = H[x * 2]
                , m = H[x * 2 + 1]
                , l = H[u * 2]
                , b = H[u * 2 + 1]
                , K = H[y * 2]
                , J = H[y * 2 + 1]
                , R = [V, $, w, m, l, b];
            if (c[1])
                R.push(K, J);
            var r = B(S.aeD[O], R)
                , f = r[0]
                , aa = r[1]
                , aA = 1 / Math.sqrt(f * f + aa * aa);
            f *= aA;
            aa *= aA;
            var e5 = X - j
                , fk = N - v;
            p[O] = f * e5 + aa * fk;
            C[O] = -aa * e5 + f * fk;
            O++
        }
        var eY = new Array(g)
            , du = new Array(g);
        for (var G = 0; G < g; G++) {
            eY[G] = I[G * 2];
            du[G] = I[G * 2 + 1]
        }
        S.a6G.fq(eY, S.a7F.Ou(p), .5);
        S.a6G.fq(du, S.a7F.Ou(C), .5);
        for (var G = 0; G < g; G++) {
            I[G * 2] = eY[G];
            I[G * 2 + 1] = du[G]
        }
    }
        ;
    t.$H.Cr = function (Y) {
        var S = Y.FB
            , h = Y.hs
            , q = Y.jW
            , H = t.cu.multiply
            , I = Date.now()
            , E = t.Gj.oZ(S, h)
            , d = S.length >>> 1
            , B = 0
            , T = 0
            , aa = 1e3;
        for (var G = 0; G < E.tX.length; G++)
            B += E.tX[G][1] ? .5 : 1;
        var n = B + q.length
            , g = []
            , z = new t.S8(n * 2, d * 2)
            , p = new t.S8(n, d)
            , C = [[[-1, 0, 1, 0, 0, 0], [0, -1, 0, 1, 0, 0]], [[-1, 0, 1, 0, 0, 0, 0, 0], [0, -1, 0, 1, 0, 0, 0, 0]]]
            , A = []
            , i = [];
        for (var G = 0; G < E.tX.length; G++) {
            var e = E.tX[G]
                , a = e[3][3][0]
                , Z = e[0]
                , O = e[3][0]
                , c = e[1] ? e[1][3][0] : O;
            if (e[1] && a > Z)
                continue;
            var s = S[a * 2]
                , x = S[a * 2 + 1]
                , u = S[Z * 2]
                , y = S[Z * 2 + 1]
                , j = S[O * 2]
                , v = S[O * 2 + 1]
                , X = S[c * 2]
                , N = S[c * 2 + 1]
                , V = [[s, x, 1, 0], [x, -s, 0, 1], [u, y, 1, 0], [y, -u, 0, 1], [j, v, 1, 0], [v, -j, 0, 1]];
            if (e[1])
                V.push([X, N, 1, 0], [N, -X, 0, 1]);
            var $ = t.cu.N6(V)
                , w = H(linear.invert(H($, V)), $);
            w.pop();
            w.pop();
            g.push(w);
            var m = u - s
                , l = y - x
                , b = C[e[1] ? 1 : 0];
            b = t.cu.KB(b, H([[m, l], [l, -m]], w));
            var K = [a * 2, a * 2 + 1, Z * 2, Z * 2 + 1, O * 2, O * 2 + 1, c * 2, c * 2 + 1]
                , J = e[1] ? 8 : 6
                , R = [];
            for (var r = 0; r < J; r++)
                R.push([K[r], b[0][r], b[1][r]]);
            R.sort(function (dV, hy) {
                return dV[0] - hy[0]
            });
            for (var f = 0; f < 2; f++) {
                for (var r = 0; r < J; r++) {
                    A[r] = R[r][0];
                    i[r] = R[r][1 + f]
                }
                z.Fr(i, A, J)
            }
            if (a < Z)
                p.Fr([-1, 1], [a, Z], 2);
            else
                p.Fr([1, -1], [Z, a], 2);
            T++
        }
        for (var G = 0; G < q.length; G++) {
            var aA = q[G];
            z.Fr([aa], [aA * 2], 1);
            z.Fr([aa], [aA * 2 + 1], 1);
            p.Fr([aa], [aA], 1)
        }
        var e5 = z.N6()
            , fk = e5.lk(e5)
            , eY = p.N6()
            , du = eY.lk(eY);
        return {
            alD: B,
            La: n,
            a0P: e5,
            a8z: fk,
            a7F: eY,
            a6G: du,
            ajo: E,
            aeD: g,
            rz: aa
        }
    }
        ;
    t.$H.amo = function (Y, S, h, q, H) {
        var I = new W(0, 0, S, h)
            , E = t.m(I.e());
        t.Ft(Y, E, 3);
        t.round(E, 70);
        var d = t.o9(E, I)
            , B = [.1, .065, .035][q] * Math.max(d.d, d.v)
            , n = H + 1
            , g = S + n * 2
            , z = h + n * 2
            , p = new W(-n, -n, g, z)
            , C = t.m(p.e());
        t.m7(E, I, C, p);
        var T = C.slice(0);
        for (var A = 0; A < H; A++) {
            for (var i = 1; i < z - 1; i++) {
                for (var e = 1; e < g - 1; e++) {
                    var G = i * g + e;
                    T[G] = C[G - g] | C[G - 1] | C[G] | C[G + 1] | C[G + g]
                }
            }
            var a = T;
            T = C;
            C = a
        }
        var Z = f3.kB(C, g, z, Math.round(d.e() * 5e-4))
            , O = f3.L1(Z)
            , c = new d5(1, 0, 0, 1, -n, -n);
        for (var G = 0; G < O.length; G++) {
            var s = O[G];
            t.a.J(s.path.H, c, s.path.H);
            s.FB = t.$H.aaw(s.path);
            s.hs = t.a.a6A(s.FB);
            s.hs = t.Gj.a48(s.FB, s.hs, B)
        }
        return O
    }
        ;
    t.$H.aaw = function (Y) {
        var S = []
            , h = Y.H
            , q = Y.Z.length - 1
            , H = 0
            , I = 0;
        for (var E = 0; E < q; E++) {
            var G = E * 6
                , d = h[G + 6] - h[G + 0]
                , B = h[G + 7] - h[G + 1]
                , n = Math.ceil(Math.sqrt(d * d + B * B));
            for (var g = 0; g < n; g++) {
                var z = g / n
                    , p = 1 - z
                    , C = p * p * p * h[G + 0] + 3 * p * p * z * h[G + 2] + 3 * p * z * z * h[G + 4] + z * z * z * h[G + 6]
                    , T = p * p * p * h[G + 1] + 3 * p * p * z * h[G + 3] + 3 * p * z * z * h[G + 5] + z * z * z * h[G + 7];
                S.push(C, T);
                H = C;
                I = T
            }
        }
        S = t.a.jm(S, 1);
        var A = []
            , i = S.length;
        for (var G = 0; G < i; G += 2) {
            var T = S.pop()
                , C = S.pop();
            A.push(C, T)
        }
        return A
    }
        ;
    t.$H.a2Z = function (Y, S, h, q) {
        function H(u, y, j, v, X) {
            var N = X[u * 2] - X[y * 2]
                , V = X[u * 2 + 1] - X[y * 2 + 1]
                , $ = Math.sqrt(N * N + V * V);
            if (j[u].indexOf(y) == -1) {
                j[u].push(y);
                v[u].push($)
            }
            if (j[y].indexOf(u) == -1) {
                j[y].push(u);
                v[y].push($)
            }
        }
        var I = Y.length >>> 1
            , E = new Array(I);
        if (h.length == 0) {
            E.fill(0);
            return E
        }
        var d = new Array(I)
            , B = new Array(I);
        for (var G = 0; G < I; G++) {
            d[G] = [];
            B[G] = []
        }
        for (var G = 0; G < S.length; G += 3) {
            H(S[G], S[G + 1], d, B, Y);
            H(S[G], S[G + 2], d, B, Y);
            H(S[G + 1], S[G + 2], d, B, Y)
        }
        var n = new Float64Array(I * 2)
            , g = new Uint32Array(I * 2);
        n.fill(1e9);
        var z = new Uint8Array(I);
        for (var p = 0; p < h.length; p++) {
            z.fill(0);
            var C = ["---", [0, h[p]]];
            while (C.length != 1) {
                var T = t.m2.a9m(C)
                    , A = T[0]
                    , i = T[1];
                if (z[i] == 1)
                    continue;
                var e = i << 1;
                if (A < n[e]) {
                    n[e + 1] = n[e];
                    g[e + 1] = g[e];
                    n[e] = A;
                    g[e] = p
                } else if (A < n[e + 1]) {
                    n[e + 1] = A;
                    g[e + 1] = p
                }
                z[i] = 1;
                var a = d[i]
                    , Z = B[i];
                for (var G = 0; G < a.length; G++) {
                    var O = a[G];
                    if (z[O] != 1) {
                        t.m2.amN(C, [A + Z[G], O])
                    }
                }
            }
        }
        for (var G = 0; G < I; G++) {
            var e = G << 1
                , c = n[e]
                , s = n[e + 1]
                , x = 1 / (c + s);
            E[G] = (1 - c * x) * q[g[e]] + (1 - s * x) * q[g[e + 1]]
        }
        return E
    }
        ;
    t.$H.a8F = function (Y) {
        var S = {
            Z: [],
            H: []
        }
            , h = [Y];
        while (h.length != 0) {
            var q = h.pop()
                , H = q.MK;
            if (q.ajJ instanceof Array || q.aiO instanceof Array) {
                S.Z.push("M", "L", "L", "L", "Z");
                S.H.push(H[0], H[1], H[2], H[1], H[2], H[3], H[0], H[3])
            } else
                h.push(q.ajJ, q.aiO)
        }
        return S
    }
        ;
    t.$H.tL = function (Y, S, h, q, H, I, E) {
        var d = h.d
            , B = h.v
            , n = Math.round(E.length / 3)
            , g = new Array(n);
        for (var G = 0; G < n; G++)
            g[G] = G;
        g.sort(function (p, C) {
            return I[E[p * 3]] - I[E[C * 3]]
        });
        for (var G = 0; G < n; G++) {
            var z = g[G] * 3;
            t.$H.a4J(E[z] * 2, E[z + 1] * 2, E[z + 2] * 2, q, H, Y, S, d, B)
        }
    }
        ;
    t.$H.a4J = function (Y, S, h, q, H, I, E, d, B) {
        var n = t.$H.E3
            , g = [Y, S, h, 1.2, 1.2, 1.2, 0]
            , z = [0, 0, 0, 0]
            , p = H[Y]
            , C = H[Y + 1]
            , T = H[S]
            , A = H[S + 1]
            , i = H[h]
            , e = H[h + 1]
            , a = Math.max(0, Math.min(d - 1, q[Y]))
            , Z = Math.max(0, Math.min(d - 1, q[S]))
            , O = Math.max(0, Math.min(d - 1, q[h]))
            , c = Math.max(0, Math.min(B - 1, q[Y + 1]))
            , s = Math.max(0, Math.min(B - 1, q[S + 1]))
            , x = Math.max(0, Math.min(B - 1, q[h + 1]))
            , u = T - p
            , y = A - C
            , j = i - p
            , v = e - C
            , X = 1 / (u * v - j * y + 1e-9)
            , N = Math.max(0, Math.floor(Math.min(p, T, i)))
            , V = Math.min(d, Math.ceil(Math.max(p, T, i)))
            , $ = Math.max(0, Math.floor(Math.min(C, A, e)))
            , w = Math.min(B, Math.ceil(Math.max(C, A, e)));
        for (var m = $; m < w; m++)
            for (var l = N; l < V; l++) {
                var b = l + .5 - p
                    , K = m + .5 - C
                    , J = (b * v - j * K) * X
                    , R = (u * K - b * y) * X;
                if (J >= 0 && R >= 0 && J + R <= 1) {
                    var r = 1 - J - R
                        , f = a * r + Z * J + O * R
                        , gf = c * r + s * J + x * R;
                    t.I.zI(f, gf, I, d, B, z);
                    t.$H.acP(z, E, m * d + l << 2)
                }
            }
    }
        ;
    t.$H.acP = function (Y, S, h) {
        var q = S[h]
            , H = S[h + 1]
            , I = S[h + 2]
            , E = S[h + 3]
            , d = 1 - Y[3] * (1 / 255);
        S[h] = ~~(.5 + Y[0] + q * d);
        S[h + 1] = ~~(.5 + Y[1] + H * d);
        S[h + 2] = ~~(.5 + Y[2] + I * d);
        S[h + 3] = ~~(.5 + Y[3] + E * d)
    }
        ;
    t.$H.E3 = function () {
        var Y = function (h, q, H, I) {
            var E = I[0]
                , d = I[1]
                , B = I[2]
                , n = h[E + 0]
                , g = h[E + 1]
                , z = h[d + 0]
                , p = h[d + 1]
                , C = h[B + 0]
                , T = h[B + 1]
                , A = z - n
                , i = p - g
                , e = C - n
                , a = T - g
                , Z = q - n
                , O = H - g
                , c = A * a - e * i
                , s = 1 / (c + 1e-9)
                , x = (Z * a - e * O) * s
                , u = (A * O - Z * i) * s;
            if (x >= 0 && u >= 0 && x + u <= 1) {
                I[3] = 1 - x - u;
                I[4] = x;
                I[5] = u;
                return 1
            }
            return 0
        }
            , S = function (h, q, H, I) {
                var E = [0, 0, 0, 0, 0, 0];
                for (var G = 0; G < q.length; G += 3) {
                    E[0] = q[G] * 2;
                    E[1] = q[G + 1] * 2;
                    E[2] = q[G + 2] * 2;
                    if (Y(h, H, I, E) == 1)
                        return !0
                }
                return !1
            };
        return {
            ae0: Y,
            ai$: S
        }
    }();
    t.VW = {};
    t.VW.aeN = function (Y, S, h) {
        var q = t.m(S * h * 4)
            , H = !1;
        t.I.cw(Y, S, h, q, [h, S, 0, 1, 0, 1, 0, 0]);
        return [t.VW.ow(Y, S, h, H), t.VW.ow(q, h, S, H)]
    }
        ;
    t.VW.J = function (Y, S) {
        var h = !1
            , q = Y[0]
            , H = Y[1]
            , I = q[1]
            , E = q[2]
            , d = q[3]
            , B = S.d
            , n = S.v;
        if (E == B && d == n)
            I = I.slice(0);
        else if (d != n) {
            var g = t.m(E * n * 4);
            t.VW.cp(H, n, g, h);
            I = t.m(E * n * 4);
            t.I.cw(g, n, E, I, [E, n, 0, 1, 0, 1, 0, 0]);
            if (E != B) {
                q = t.VW.ow(I, E, n, h);
                I = t.m(B * n * 4);
                t.VW.cp(q, B, I, h)
            }
        } else if (E != B) {
            I = t.m(B * d * 4);
            t.VW.cp(q, B, I, h)
        }
        return I
    }
        ;
    t.VW.ow = function (Y, S, h, q) {
        var H = Date.now()
            , I = new Uint16Array(S * h)
            , E = 1;
        t.VW.aiU(Y, S, h, I);
        var d = Math.ceil(S / E)
            , B = new Uint32Array(E)
            , n = new Uint32Array(E)
            , d = Math.floor(S / E);
        for (var g = 0; g < E; g++)
            n[g] = g < E - 1 ? d : S - (E - 1) * d;
        for (var z = 0; z < h; z++) {
            var G = z * S;
            for (var g = 0; g < E; g++) {
                var d = n[g];
                for (var p = 0; p < d; p++)
                    B[g] += I[G + p];
                G += d
            }
        }
        if (q) {
            console.log(Date.now() - H, "cost");
            H = Date.now()
        }
        var C = new Uint32Array(S)
            , T = new Uint32Array(S)
            , A = new Uint32Array(S * h);
        for (var p = 0; p < S; p++) {
            A[(h - 1) * S + p] = I[(h - 1) * S + p]
        }
        for (var z = h - 2; z >= 0; z--) {
            var i = z * S;
            for (var g = 0; g < E; g++) {
                var d = n[g];
                A[i] = I[i] + Math.min(A[i + S], A[i + S + 1]);
                for (var p = 1; p < d - 1; p++) {
                    var G = i + p;
                    A[G] = I[G] + Math.min(A[G + S - 1], Math.min(A[G + S], A[G + S + 1]))
                }
                i += d - 1;
                A[i] = I[i] + Math.min(A[i + S - 1], A[i + S]);
                i++
            }
        }
        if (q) {
            console.log(Date.now() - H, "Building M");
            H = Date.now()
        }
        function e(v, X) {
            return v < X ? v : X
        }
        function a(G, v) {
            var X = T[G]
                , N = A[v]
                , V = ~~(X * N * 1e-4);
            return V
        }
        var Z = new Uint8Array(S * h)
            , O = new Uint32Array(S);
        for (var G = 0; G < S; G++) {
            C[G] = G;
            T[G] = I[G]
        }
        for (var z = 1; z < h; z++) {
            var c = 0
                , i = z * S;
            for (var g = 0; g < E; g++) {
                var d = n[g]
                    , G = i;
                O[c] = a(c, G);
                var s = O[c] + a(c + 1, G + 1)
                    , x = a(c, G + 1) + a(c + 1, G);
                O[c + 1] = e(s, x);
                for (var p = 2; p < d; p++) {
                    var G = i + p
                        , u = O[c + p - 1] + a(c + p - 1, G - 1)
                        , y = O[c + p - 2] + a(c + p - 1, G - 2) + a(c + p - 2, G - 1);
                    O[c + p] = e(u, y)
                }
                var p = d - 1;
                while (p >= 2) {
                    var G = i + p
                        , u = O[c + p - 1] + a(c + p - 1, G - 1)
                        , y = O[c + p - 2] + a(c + p - 1, G - 2) + a(c + p - 2, G - 1);
                    if (O[c + p] == u) {
                        Z[G - S] = 1;
                        p -= 1
                    } else {
                        Z[G - S] = 0;
                        Z[G - S - 1] = 2;
                        p -= 2
                    }
                }
                var G = i;
                if (p == 0) {
                    Z[G - S] = 1
                } else {
                    if (O[c + 1] == s) {
                        Z[G + 1 - S] = 1;
                        Z[G - S] = 1
                    } else {
                        Z[G + 1 - S] = 0;
                        Z[G - S] = 2
                    }
                }
                i += d;
                c += d
            }
            t.VW.ao6(z, S, Z, I, C, T, !0, H)
        }
        if (q) {
            console.log(Date.now() - H, "Matching");
            H = Date.now()
        }
        var j = I;
        return [UZIP.adler(Y, 0, Y.length), Y, S, h, E, n, B, C, T, Z, j]
    }
        ;
    t.VW.cp = function (Y, S, h, q) {
        var H = Y.slice(0)
            , I = H.shift()
            , E = H.shift()
            , d = H.shift()
            , B = H.shift()
            , n = H.shift()
            , g = H.shift()
            , z = H.shift()
            , p = H.shift()
            , C = H.shift().slice(0)
            , T = H.shift()
            , A = H.shift()
            , i = Date.now()
            , e = Math.abs(d - S)
            , a = Math.floor(e / n)
            , Z = new Uint32Array(n)
            , c = 0
            , s = 1e9
            , u = 0
            , y = 0
            , j = 0;
        for (var O = 0; O < n; O++)
            Z[O] = O < n - 1 ? a : e - (n - 1) * a;
        A.fill(0);
        for (var x = 0; x < d; x++) {
            c = Math.max(c, C[x]);
            s = Math.min(s, C[x])
        }
        for (var O = 0; O < n; O++) {
            var v = g[O]
                , a = Z[O];
            for (var X = 0; X < a; X++) {
                var N = 0
                    , V = 1e9;
                for (var x = 0; x < v; x++)
                    if (C[y + x] < V) {
                        V = C[y + x];
                        N = y + x
                    }
                if (S < d)
                    C[N] = 1e9;
                else
                    C[N] *= 1.2;
                if (j < d / 3)
                    u += V;
                var $ = p[N]
                    , w = A[$]
                    , m = w < 65280 ? 65280 : w + 1;
                if (m < 65280)
                    throw "e";
                for (var l = 0; l < B; l++) {
                    var G = l * d + $;
                    A[G] = m;
                    $ += T[G] - 1
                }
                j++
            }
            y += v
        }
        if (q) {
            console.log(Date.now() - i, "Removing best seams");
            i = Date.now()
        }
        function b(G, J) {
            var R = G << 2
                , r = J << 2;
            h[R] = E[r];
            h[R + 1] = E[r + 1];
            h[R + 2] = E[r + 2];
            h[R + 3] = E[r + 3]
        }
        for (var l = 0; l < B; l++) {
            var K = 0
                , G = l * d;
            for (var x = 0; x < S; x++,
                K++) {
                if (S < d) {
                    while (A[G + K] == 65280)
                        K++;
                    b(l * S + x, l * d + K)
                } else {
                    b(l * S + x, l * d + K);
                    while (A[G + K] >= 65280) {
                        A[G + K]--;
                        x++;
                        b(l * S + x, l * d + K)
                    }
                }
            }
        }
        if (q) {
            console.log(Date.now() - i, "Shifting image pixels");
            i = Date.now()
        }
    }
        ;
    t.VW.ao6 = function (Y, S, h, q, H, I) {
        var E = 0
            , G = Y * S;
        while (E < S) {
            if (h[G - S] == 1) {
                I[E] = I[E] + q[G];
                E++;
                G++
            } else {
                var d = H[E];
                H[E] = H[E + 1];
                H[E + 1] = d;
                var B = I[E];
                I[E] = I[E + 1] + q[G];
                I[E + 1] = B + q[G + 1];
                E += 2;
                G += 2
            }
        }
    }
        ;
    t.VW.aiU = function (Y, S, h, q) {
        function H(Y, G, B) {
            var z = G << 2
                , p = B << 2
                , C = Y[z] - Y[p]
                , T = Y[z + 1] - Y[p + 1]
                , A = Y[z + 2] - Y[p + 2];
            return Math.abs(C) + Math.abs(T) + Math.abs(A)
        }
        for (var I = 1; I < S; I++) {
            var E = H(Y, I, I - 1);
            q[I - 1] += E;
            q[I] += E
        }
        for (var d = 1; d < h; d++) {
            var B = d * S
                , E = H(Y, B, B - S);
            q[B] += E;
            q[B - S] += E;
            for (var I = 1; I < S; I++) {
                var G = d * S + I
                    , n = H(Y, G, G - 1)
                    , g = H(Y, G, G - S);
                q[G - S] += g;
                q[G - 1] += n;
                q[G] += g + n
            }
        }
        for (var d = 0; d < h; d++) {
            q[d * S] *= 2;
            q[d * S + S - 1] *= 2
        }
        for (var G = 0; G < q.length; G++)
            if (q[G] == 0)
                q[G] = 1
    }
        ;
    t.oH = function () {
        var Y = 0
            , S = 0
            , q = 15
            , I = 256;
        function h(g, z, p, C, T, A) {
            var i = (T - 1) * z
                , e = A * z;
            return g[e + C] - g[e + p - 1] - g[i + C] + g[i + p - 1]
        }
        var H = Math.round(q / 8)
            , E = [];
        function d(g, z) {
            for (var p = 0; p < z.length; p++) {
                var C = z[p]
                    , T = 0
                    , A = 0
                    , i = g[C.Wb]
                    , e = i.OQ
                    , a = i.rz
                    , Z = i.UR;
                for (var O = -q; O <= q; O++)
                    for (var c = -q; c <= q; c++) {
                        var s = c + C.aag
                            , x = O + C.adc;
                        if (c * c + O * O > q * q || s < 0 || x < 0 || s >= a || x >= a)
                            continue;
                        var u = e[x * a + s];
                        T += c * u;
                        A += O * u
                    }
                C.Lk = Math.atan2(A, T)
            }
        }
        function B(g, z, p, C, T) {
            var A = ~~(g + .5)
                , i = ~~(z + .5);
            return h(p, C, A - H, A + H, i - H, i + H)
        }
        function n(g, z, p, C, T) {
            Y = C;
            S = T;
            if (E.length == 0) {
                var A = new t.Q.On(16200817)
                    , Z = 8
                    , O = 0;
                function i(eY) {
                    var j = eY[0] - eY[2]
                        , v = eY[1] - eY[3];
                    return j * j + v * v
                }
                function e() {
                    var eY = 0
                        , du = 0;
                    while (eY === 0)
                        eY = A.get();
                    while (du === 0)
                        du = A.get();
                    return Math.sqrt(-2 * Math.log(eY)) * Math.cos(2 * Math.PI * du)
                }
                var a = e
                    , c = [];
                while (O != I) {
                    var s = Math.max(-q, Math.min(q, a() * Z))
                        , x = Math.max(-q, Math.min(q, a() * Z))
                        , u = Math.max(-q, Math.min(q, a() * Z))
                        , y = Math.max(-q, Math.min(q, a() * Z))
                        , j = s - u
                        , v = x - y
                        , X = Math.sqrt(j * j + v * v);
                    if (X < 3 || X > 12)
                        continue;
                    E.push(s, x, u, y);
                    O++
                }
            }
            var N = 20;
            for (var V = 0; V < z.length; V++) {
                var $ = z[V]
                    , w = g[$.Wb]
                    , m = w.Bu
                    , p = w.OQ
                    , C = w.rz
                    , T = w.UR
                    , l = $.aag
                    , b = $.adc
                    , K = $.Lk
                    , J = Math.cos(K)
                    , R = Math.sin(K)
                    , r = new Uint8Array(I >>> 3);
                $.Jz = r;
                for (var G = 0; G < I; G++) {
                    var f = G * 4
                        , s = E[f + 0]
                        , x = E[f + 1]
                        , u = E[f + 2]
                        , y = E[f + 3]
                        , gf = J * s - R * x
                        , aa = R * s + J * x
                        , aA = J * u - R * y
                        , e5 = R * u + J * y
                        , fk = B(l + gf, b + aa, m, C, T)
                        , o = B(l + aA, b + e5, m, C, T);
                    r[G >>> 3] |= (fk < o ? 0 : 1) << (G & 7)
                }
            }
        }
        return {
            a9O: d,
            acR: n
        }
    }();
    t.ai5 = function () {
        var Y = 0
            , S = 0;
        function h(I, E, d, B, n, g) {
            var z = (n - 1) * E
                , p = g * E;
            return I[p + B] - I[p + d - 1] - I[z + B] + I[z + d - 1]
        }
        function q(I, E, d) {
            var B = new Uint32Array(E * d);
            B[0] = I[0];
            for (var n = 1; n < E; n++)
                B[n] = B[n - 1] + I[n];
            for (var g = 1; g < d; g++) {
                var G = g * E;
                B[G] = B[G - E] + I[G];
                for (var n = 1; n < E; n++)
                    B[G + n] = I[G + n] + B[G + n - 1] + B[G + n - E] - B[G + n - E - 1]
            }
            return B
        }
        function H(I, E) {
            var d = [[9]]
                , B = Date.now()
                , n = [];
            for (var g = 0; g < I.length; g++) {
                var z = I[g]
                    , p = z.Bu
                    , C = Y = z.rz
                    , T = S = z.UR
                    , e = 9
                    , x = 1
                    , b = 24;
                if (p == null)
                    continue;
                var A = new Float32Array(C * T)
                    , i = new Uint8Array(C * T)
                    , a = e >>> 1
                    , Z = a >>> 1
                    , O = Math.round(e / 3);
                if (O != e / 3)
                    throw "e";
                var c = 1 / (e * e)
                    , s = 1.2 * (e / 9);
                for (var u = a + 1; u < T - a; u += x)
                    for (var y = a + 1; y < C - a; y += x) {
                        var j = h(p, C, y - Z, y + Z, u - a, u + a) - 3 * h(p, C, y - Z, y + Z, u - a + O, u + a - O)
                            , v = h(p, C, y - a, y + a, u - Z, u + Z) - 3 * h(p, C, y - a + O, y + a - O, u - Z, u + Z)
                            , X = y - a + 1
                            , N = y + a - 1
                            , V = u - a + 1
                            , $ = u + a - 1
                            , w = h(p, C, X, y - 1, V, u - 1) + h(p, C, y + 1, N, u + 1, $) - h(p, C, y + 1, N, V, u - 1) - h(p, C, X, y - 1, u + 1, $)
                            , m = (v * j - .9 * w * (.9 * w)) * (c * c);
                        A[u * C + y] = Math.abs(m);
                        i[u * C + y] = m < 0 ? 0 : 1
                    }
                var l = C * x;
                for (var u = b; u < T - b; u += x)
                    for (var y = b; y < C - b; y += x) {
                        var G = u * C + y
                            , K = A[G];
                        if (K < 16)
                            continue;
                        if (A[G - x] >= K || A[G + x] >= K)
                            continue;
                        if (A[G - l - x] >= K || A[G - l] >= K || A[G - l + x] >= K)
                            continue;
                        if (A[G + l - x] >= K || A[G + l] >= K || A[G + l + x] >= K)
                            continue;
                        n.push({
                            x: ~~(y * z.Yy + .5),
                            y: ~~(u * z.Yy + .5),
                            aag: y,
                            adc: u,
                            Wb: g,
                            G: K,
                            afM: i[G],
                            D1: s
                        })
                    }
            }
            if (E != null) {
                n.sort(function (e5, fk) {
                    return fk.G - e5.G
                });
                n = n.slice(0, E)
            }
            return n;
            var J = [];
            for (var G = 0; G < n.length; G++) {
                var R = !0
                    , r = n[G];
                for (var f = 0; f < n.length; f++) {
                    var gf = n[f];
                    if (f != G && gf.G > r.G && (gf.Wb == r.Wb + 1 || gf.Wb == r.Wb - 1)) {
                        var aa = r.x - gf.x
                            , aA = r.y - gf.y;
                        if (aa * aa + aA * aA < 5) {
                            R = !1;
                            break
                        }
                    }
                }
                if (R)
                    J.push(r)
            }
            console.log(n.length, J.length);
            return J
        }
        return {
            akS: H
        }
    }();
    t.B6 = {};
    t.B6.agJ = function (Y) {
        var S = Y.length
            , h = t.B6.GM(Y, !1)
            , H = 0
            , I = 1;
        throw "e";
        var q = [];
        for (var G = 0; G < S; G++)
            q[G] = t.B6.y$(h[G]);
        var E = Y[0][1]
            , d = t.B6.match(h[H], h[I], q[I]);
        console.log(d.length);
        var B = Math.max(Math.min(d.length, 40), d.length * .54);
        B = Math.min(B, 200);
        var n = d.slice(0, B)
            , g = t.bO.adm(h[H], h[I], n, E.d, E.v)
            , z = t.bO.agP(g, [0, 0, 0], 1)
            , p = E.d / 2
            , C = E.v / 2
            , T = 1 / Math.max(p, C);
        for (var G = 0; G < 1; G++) {
            var A = n[G]
                , i = h[H][A[0]]
                , e = h[I][A[1]]
                , a = t.bO.a4_(z, T * (i.x - p), T * (i.y - C), T * (e.x - p), T * (e.y - C))
        }
        var Z = t.bO.amg(g, E)
            , O = [];
        for (var G = 0; G < 2; G++) {
            var c = Z[G]
                , s = [c[0][0], c[0][1], c[0][2], c[1][0], c[1][1], c[1][2], c[2][0], c[2][1]]
                , x = U.o.Hz(Y[G], null, s);
            O.push([x.buffer, x.rect])
        }
        return [t.B6.ao3(O[0], O[1], h[H], h[I], n, g, Z, E)]
    }
        ;
    t.B6.vX = function (Y, S) {
        var h = Y.length
            , q = !1
            , H = Date.now()
            , I = t.B6.GM(Y, !1, 1e4);
        if (q)
            console.log("Descriptors ready", Date.now() - H);
        H = Date.now();
        for (var G = 0; G < h; G++) {
            var E = Y[G][1];
            for (var d = 0; d < I[G].length; d++) {
                I[G][d].x += E.x;
                I[G][d].y += E.y
            }
        }
        if (q)
            console.log("shifted", Date.now() - H);
        H = Date.now();
        var B = [];
        for (var G = 0; G < h; G++)
            B[G] = t.B6.y$(I[G]);
        if (q)
            console.log("trees built", Date.now() - H);
        H = Date.now();
        var n = [];
        for (var G = 0; G < h - 1; G++)
            for (var d = G + 1; d < h; d++) {
                var g = t.B6.match(I[G], I[d], B[d]);
                if (q)
                    console.log("Matches found", G, d, g.length);
                g = g.slice(0, g.length >>> 1);
                if (g.length < 10)
                    return null;
                var z = t.B6.a4b(I[G], I[d], g, 2);
                n.push([G, d, g, z])
            }
        n.sort(function (y, j) {
            return j[2].length - y[2].length
        });
        if (q)
            console.log("Matches found", Date.now() - H);
        H = Date.now();
        var p = []
            , C = new UnionFind(h);
        for (var G = 0; G < n.length; G++) {
            var T = n[G]
                , A = C.find(T[0])
                , i = C.find(T[1]);
            if (A != i) {
                p.push(T);
                C.link(A, i)
            }
        }
        var e = [];
        for (var G = 0; G < h; G++)
            e[G] = [1, 0, 0, 0, 1, 0, 0, 0];
        var a = [0]
            , Z = new Uint8Array(h);
        Z[a[0]] = 1;
        while (a.length != 0) {
            var i = a.pop()
                , z = e[i]
                , O = [];
            for (var G = 0; G < p.length; G++) {
                var T = p[G]
                    , c = T[0]
                    , s = T[1];
                if (c == i && Z[s] == 0) {
                    e[s] = t.I.K7(z, T[3]);
                    a.push(s);
                    Z[s] = 1
                }
                if (s == i && Z[c] == 0) {
                    e[c] = t.I.K7(z, t.I.fb(T[3]));
                    a.push(c);
                    Z[c] = 1
                }
            }
        }
        if (S == null) {
            var x = [];
            for (var G = 0; G < h; G++)
                x.push([e[G][2], G]);
            x.sort(function (y, j) {
                return y[0] - j[0]
            });
            S = x[x.length >>> 1][1]
        }
        var u = t.I.fb(e[S]);
        for (var G = 0; G < h; G++)
            e[G] = t.I.K7(e[G], u);
        if (q)
            console.log("Transforms reordered", Date.now() - H);
        H = Date.now();
        return e
    }
        ;
    t.B6.GM = function (Y, S, h) {
        var q = []
            , H = !1;
        for (var G = 0; G < Y.length; G++) {
            var I = Y[G][0]
                , E = Y[G][1]
                , d = E.d
                , B = E.v
                , n = t.m(E.e());
            t.ei(I, n);
            var g = Date.now()
                , z = t.B6.a6z(n, E, !0);
            if (H)
                console.log("Pyramid built ---------------", Date.now() - g);
            g = Date.now();
            var p = t.ai5.akS(z, h);
            if (H)
                console.log("SURF Generation", Date.now() - g);
            g = Date.now();
            if (!S) {
                t.oH.a9O(z, p);
                if (H)
                    console.log("ORB Orientations", Date.now() - g);
                g = Date.now();
                t.oH.acR(z, p, n, d, B);
                if (H)
                    console.log("ORB Descriptors", Date.now() - g);
                g = Date.now()
            }
            q.push(p)
        }
        return q
    }
        ;
    t.B6.a6z = function (Y, S, h) {
        function q(n, z, p) {
            var T = new Uint32Array(z * p);
            T[0] = n[0];
            for (var A = 1; A < z; A++)
                T[A] = T[A - 1] + n[A];
            for (var i = 1; i < p; i++) {
                var G = i * z;
                T[G] = T[G - z] + n[G];
                for (var A = 1; A < z; A++)
                    T[G + A] = n[G + A] + T[G + A - 1] + T[G + A - z] - T[G + A - z - 1]
            }
            return T
        }
        var H = []
            , I = [Y, S];
        t.h2(I);
        if (h) {
            var E = t.YR(Y, S)
                , d = E.rect
                , B = [E.nP, d];
            t.h2(B)
        }
        for (var G = 0; G < I.length; G++) {
            var n = I[2 * G]
                , g = I[2 * G + 1]
                , z = g.d
                , p = g.v
                , C = Math.min(z, p);
            if (C < 30)
                break;
            if (C < 1600)
                H.push({
                    OQ: n,
                    rz: z,
                    UR: p,
                    Yy: 1 << G,
                    Bu: q(n, z, p)
                });
            if (!h)
                continue;
            var n = B[2 * G]
                , g = B[2 * G + 1]
                , z = g.d
                , p = g.v
                , C = Math.min(z, p);
            if (C < 30)
                break;
            if (C < 1600)
                H.push({
                    OQ: n,
                    rz: z,
                    UR: p,
                    Yy: (1 << G) * 3 / 2,
                    Bu: q(n, z, p)
                })
        }
        return H
    }
        ;
    t.B6.a4b = function (Y, S, h, q) {
        var H = Date.now(), I, E = 0, d = 0, B = h.length, n = new Float64Array(2);
        for (var g = 0; g < 3e3; g++) {
            var z = ~~(Math.random() * B)
                , p = ~~(Math.random() * B)
                , C = ~~(Math.random() * B)
                , T = ~~(Math.random() * B)
                , V = 0
                , $ = 0;
            if (z == p || z == C || z == T || p == C || p == T || C == T)
                continue;
            var A = h[z]
                , i = h[p]
                , e = h[C]
                , a = h[T]
                , Z = Y[A[0]]
                , O = S[A[1]]
                , c = Y[i[0]]
                , s = S[i[1]]
                , x = Y[e[0]]
                , u = S[e[1]]
                , y = Y[a[0]]
                , j = S[a[1]]
                , v = [Z.x, Z.y, c.x, c.y, x.x, x.y, y.x, y.y]
                , X = [O.x, O.y, s.x, s.y, u.x, u.y, j.x, j.y]
                , N = t.I.mD(v, X);
            if (N[0] == 0 && N[1] == 0 && N[3] == 0 && N[4] == 0)
                continue;
            var w = B - E + 2;
            for (var G = 0; G < B && G - V < w; G++) {
                var m = Y[h[G][0]]
                    , l = S[h[G][1]];
                t.I.hp(l.x, l.y, N, n);
                var b = n[0] - m.x
                    , K = n[1] - m.y
                    , J = b * b + K * K;
                if (J < q) {
                    V++;
                    $ += J
                }
            }
            if (V > E || V == E && $ < d) {
                I = N;
                E = V;
                d = $
            }
        }
        return I
    }
        ;
    var hb = new Uint8Array(256);
    for (var G = 0; G < 256; G++) {
        var iL = 0
            , D = G;
        while (D != 0) {
            D = D & D - 1;
            iL++
        }
        hb[G] = iL
    }
    t.B6.a6c = function (Y, S, h) {
        var q = 0
            , H = Y.length;
        for (var G = 0; G < H && q < h; G++)
            q += hb[Y[G] ^ S[G]];
        return q
    }
        ;
    t.B6.a6s = function (Y, S, h, top, q) {
        if (q[h] == 1)
            return;
        var H = t.B6.a6c(Y.Jz, S.Jz, top[0]);
        if (H < top[0]) {
            if (H < top[2]) {
                top[0] = top[2];
                top[1] = top[3];
                top[2] = H;
                top[3] = h
            } else {
                top[0] = H;
                top[1] = h
            }
        }
        q[h] = 1
    }
        ;
    t.B6.y$ = function (Y) {
        var S = []
            , h = []
            , q = [[], []]
            , H = 4;
        for (var G = 0; G < Y.length; G++)
            (Y[G].afM == 0 ? S : h).push(G);
        for (var I = 0; I < 2; I++) {
            var E = new Array(H)
                , d = []
                , B = I == 0 ? S : h
                , n = B.length / 256
                , g = [];
            for (var z = 0; z < 32; z++) {
                var p = new Array(256)
                    , A = 0;
                for (var C = 0; C < 256; C++)
                    p[C] = [];
                for (var C = 0; C < B.length; C++) {
                    var T = B[C];
                    p[Y[T].Jz[z]].push(T)
                }
                for (var C = 0; C < 256; C++)
                    A += Math.abs(p[C].length - n);
                g.push([A, z, p])
            }
            g.sort(function (i, e) {
                return i[0] - e[0]
            });
            var d = []
                , E = [];
            q[I] = [d, E];
            for (var G = 0; G < H; G++) {
                d.push(g[G][1]);
                E.push(g[G][2])
            }
        }
        return q
    }
        ;
    t.B6.match = function (Y, S, h) {
        var q = []
            , H = new Uint16Array(S.length);
        H.fill(65535);
        var I = new Uint8Array(S.length)
            , top = new Uint32Array(4)
            , E = [];
        for (var d = 0; d < Y.length; d++) {
            var B = Y[d]
                , n = B.Jz;
            top.fill(1e6);
            I.fill(0);
            var g = h[B.afM];
            for (var z = 0; z < g[1].length; z++) {
                var p = g[1][z][n[g[0][z]]];
                for (var C = 0; C < p.length; C++) {
                    var T = p[C];
                    t.B6.a6s(B, S[T], T, top, I)
                }
            }
            if (top[2] < 50 && top[2] < top[0] * .5) {
                var A = H[top[3]];
                if (A == 65535) {
                    H[top[3]] = q.length;
                    q.push([d, top[3], top[2]])
                } else if (top[2] < q[A][2]) {
                    q[A] = [d, top[3], top[2]]
                }
            }
        }
        q.sort(function (i, e) {
            return i[2] - e[2]
        });
        return q
    }
        ;
    t.B6.abv = function (Y) {
        var S = new W;
        for (var G = 0; G < Y.length; G++)
            S = S.TG(Y[G][1]);
        var h = t.m(S.e() * 4);
        for (var G = 0; G < Y.length; G++)
            t.Q.Bc("norm", Y[G][0], Y[G][1], h, S, S, 1);
        return [h, S]
    }
        ;
    t.B6.ao3 = function (Y, S, h, q, H, I, E, d) {
        var B = Y[1].clone()
            , n = B.clone();
        B.x = B.y = 0;
        var g = S[1].clone()
            , z = g.clone();
        g.x = g.y = 0;
        g.x = B.d;
        var p = B.TG(g)
            , C = z.y - n.y
            , T = t.m(p.e() * 4);
        t.rd(Y[0], B, T, p);
        t.rd(S[0], new W(g.x, g.y + C, g.d, g.v), T, p);
        var A = document.createElement("canvas");
        A.width = p.d;
        A.height = p.v;
        var i = A.getContext("2d");
        i.lineWidth = .5;
        i.putImageData(new ImageData(new Uint8ClampedArray(T.buffer), p.d, p.v), 0, 0);
        if (I) {
            var e = I[0]
                , a = t.cu.N6(e)
                , Z = B.d
                , O = d.d;
            for (var G = 0; G < H.length; G++) {
                var c = H[G]
                    , Y = h[c[0]]
                    , S = q[c[1]];
                i.strokeStyle = "#" + "ff0000";
                i.beginPath();
                var s = t.bO.a5t(a, E[0], S, 0, O)
                    , x = t.bO.a5t(e, E[1], Y, 0, O);
                i.moveTo(-n.x + s[0], -n.y + s[1]);
                i.lineTo(-n.x + s[2], -n.y + s[3]);
                i.moveTo(Z - z.x + x[0], -z.y + C + x[1]);
                i.lineTo(Z - z.x + x[2], -z.y + C + x[3]);
                i.stroke()
            }
        }
        if (H) {
            var u = H.length;
            for (var G = 0; G < u; G++) {
                var c = H[G]
                    , Y = h[c[0]]
                    , S = q[c[1]];
                i.strokeStyle = "#" + "ffff00"
            }
        }
        var y = new Uint8Array(i.getImageData(0, 0, p.d, p.v).data.buffer);
        if (!1) {
            for (var j = 0; j < 2; j++) {
                var v = j == 0 ? h : q
                    , V = j * B.d;
                for (var G = 0; G < v.length; G++) {
                    var $ = v[G]
                        , w = ~~$.x
                        , m = ~~$.y
                        , l = (m * p.d + w + V) * 4;
                    y[l + 1] = y[l + 2] = $.agS * 60;
                    y[l + 0] = 0;
                    y[l + 3] = 255
                }
            }
        }
        return [y, p]
    }
        ;
    t.stack = {};
    t.stack.stack = function (Y, S, h) {
        var q = Y.length
            , H = S.length;
        if (q == 1) {
            S.set(Y[0]);
            return
        }
        if (h == "avrg" || h == "stdv" || h == "summ" || h == "vari") {
            var I = 1 / q;
            for (var G = 0; G < H; G++) {
                var E = 0;
                for (var d = 0; d < q; d++)
                    E += Y[d][G];
                var B = ~~(E * I + .5);
                if (h == "avrg" || (G & 3) == 3)
                    S[G] = B;
                else if (h == "summ")
                    S[G] = 255 * Math.pow(Math.min(255, E) * (1 / 255), 1 / 2.4);
                else {
                    var n = 0;
                    for (var d = 0; d < q; d++) {
                        var g = Y[d][G] - B;
                        n += g * g
                    }
                    var z = Math.sqrt(n * I) * (1 / 255);
                    if (h == "stdv")
                        S[G] = 255 * Math.pow(z, 1 / 2.4);
                    else
                        S[G] = 255 * Math.pow(z * z, 1 / 2.4)
                }
            }
        } else if (h == "maxx") {
            for (var G = 0; G < H; G++) {
                var p = 0;
                for (var d = 0; d < q; d++)
                    p = Math.max(p, Y[d][G]);
                S[G] = p
            }
        } else if (h == "minn") {
            for (var G = 0; G < H; G++) {
                var p = 255;
                for (var d = 0; d < q; d++)
                    p = Math.min(p, Y[d][G]);
                S[G] = p
            }
        } else if (h == "medn" || h == "rang") {
            var C = function (e, a) {
                return e - a
            }
                , T = new Array(q)
                , A = 0
                , i = 0;
            if (q % 1 == 0) {
                i = q >>> 1;
                A = i - 1
            } else {
                A = i = q >>> 1
            }
            for (var G = 0; G < H; G++) {
                for (var d = 0; d < q; d++)
                    T[d] = Y[d][G];
                T.sort(C);
                if (h == "medn")
                    S[G] = T[A] + T[i] >>> 1;
                else
                    S[G] = (G & 3) == 3 ? T[q - 1] : T[q - 1] - T[0]
            }
        } else
            console.log(h)
    }
        ;
    t.mv = {};
    t.mv.a1H = function (Y, S, h, q, H) {
        var I = t.mv.TX(Y.buffer, S, h).uD
            , E = Date.now()
            , d = new Uint32Array(I.length);
        for (var G = 0; G < I.length; G++)
            d[G] = I[G].Pb;
        var B = UPNG.quantize.getKDtree(new Uint8Array(d.buffer), q)
            , n = [S, 1, -S, -1, S + 1, -S + 1, -S - 1, S - 1, S + S, 2, -S - S, -2, S + S - 1, S + S + 1, S + 2, -S + 2, -S - S + 1, -S - S - 1, -S - 2, S - 2, S + S + 2, -S - S + 2 - S - S - 2, S + S - 2]
            , g = new Uint8Array(S * h)
            , z = Y;
        for (var p = 0; p < h; p++)
            for (var C = 0; C < S; C++) {
                var G = p * S + C << 2
                    , T = z[G] * (1 / 255)
                    , A = z[G + 1] * (1 / 255)
                    , i = z[G + 2] * (1 / 255)
                    , e = z[G + 3] * (1 / 255)
                    , a = t.mv.C2(B, T, A, i, e, H);
                if (a == null) {
                    var Z = []
                        , O = 0;
                    while (O < 20) {
                        var c = p * S + C + n[O] << 2
                            , s = z[c] * (1 / 255)
                            , x = z[c + 1] * (1 / 255)
                            , u = z[c + 2] * (1 / 255)
                            , y = z[c + 3] * (1 / 255)
                            , j = t.mv.C2(B, s, x, u, y, .005);
                        if (j != null) {
                            if (Z.indexOf(j) == -1) {
                                Z.push(j);
                                j.c1 = 1
                            } else
                                j.c1++
                        }
                        O++
                    }
                    Z.sort(function (e, i) {
                        return i.c1 - e.c1
                    });
                    while (Z.length != 0 && Z[Z.length - 1].c1 < 3)
                        Z.pop();
                    if (Z.length == 0)
                        a = t.mv.C2(B, T, A, i, e, 100);
                    else if (Z.length == 1)
                        a = Z[0];
                    else if (Z.length == 2) {
                        var v = Z[0]
                            , X = Z[1]
                            , N = v.est.q
                            , V = X.est.q
                            , $ = V[0] - N[0]
                            , w = V[1] - N[1]
                            , m = V[2] - N[2]
                            , l = V[3] - N[3]
                            , b = T - N[0]
                            , K = A - N[1]
                            , J = i - N[2]
                            , R = e - N[3]
                            , r = $ * $ + w * w + m * m + l * l
                            , f = b * b + K * K + J * J + R * R
                            , gf = (b * $ + K * w + J * m + R * l) / r
                            , aa = f - gf * gf * r;
                        if (aa < .5)
                            a = gf < .5 ? v : X;
                        else {
                            a = t.mv.C2(B, T, A, i, e, 100)
                        }
                    } else {
                        var v = Z[0]
                            , X = Z[1]
                            , aA = Z[2]
                            , N = v.est.q
                            , V = X.est.q
                            , e5 = aA.est.q
                            , fk = N[0] - e5[0]
                            , o = N[1] - e5[1]
                            , eY = N[2] - e5[2]
                            , du = N[3] - e5[3]
                            , dV = V[0] - e5[0]
                            , hy = V[1] - e5[1]
                            , bq = V[2] - e5[2]
                            , i5 = V[3] - e5[3]
                            , hX = e5[0] - T
                            , bY = e5[1] - A
                            , ds = e5[2] - i
                            , hV = e5[3] - e
                            , gF = fk * fk + o * o + eY * eY + du * du
                            , co = fk * dV + o * hy + eY * bq + du * i5
                            , c_ = hX * fk + bY * o + ds * eY + hV * du
                            , a5 = fk * dV + o * hy + eY * bq + du * i5
                            , gb = dV * dV + hy * hy + bq * bq + i5 * i5
                            , iC = hX * dV + bY * hy + ds * bq + hV * i5
                            , cC = 1 / (co * a5 - gF * gb)
                            , gf = (gb * c_ - iC * co) * cC
                            , aB = (iC * gF - c_ * a5) * cC
                            , cd = 1 - gf - aB
                            , dZ = Math.max(gf, aB, cd);
                        if (dZ == gf)
                            a = v;
                        else if (dZ == aB)
                            a = X;
                        else
                            a = aA
                    }
                }
                g[G >> 2] = a.ind
            }
        return {
            hs: g,
            uD: B[1]
        }
    }
        ;
    t.mv.TX = function (Y, S, h) {
        var q = []
            , H = {}
            , I = S - 1
            , E = h - 1
            , d = 0
            , B = new Uint32Array(Y)
            , n = [-S - 1, -S, -S + 1, -1, 1, S - 1, S, S + 1, S + S, 2, -S - S, -2, S + S - 1, S + S + 1, S + 2, -S + 2, -S - S + 1, -S - S - 1, -S - 2, S - 2, S + S + 2, -S - S + 2 - S - S - 2, S + S - 2];
        for (var g = 1; g < E; g++)
            for (var z = 1; z < I; z++) {
                var p = g * S + z
                    , C = B[p]
                    , T = !0;
                for (var G = 0; G < 8; G++)
                    T = T && B[p + n[G]] == C;
                if (T) {
                    d++;
                    var A = H[C];
                    if (A == null) {
                        H[C] = q.length;
                        q.push({
                            Pb: C,
                            n9: 1
                        })
                    } else
                        q[A].n9++
                }
            }
        return {
            uD: q,
            acH: d
        }
    }
        ;
    t.mv.C2 = function (Y, S, h, q, H, I) {
        var E = UPNG.quantize.getNearest(Y[0], S, h, q, H);
        return t.mv.a2N(E, S, h, q, H) < I ? E : null
    }
        ;
    t.mv.a2N = function (Y, S, h, q, H) {
        var I = Y.est.q
            , E = S - I[0]
            , d = h - I[1]
            , B = q - I[2]
            , n = H - I[3];
        return E * E + d * d + B * B + n * n
    }
        ;
    t.mv.af8 = function (Y, S, h, q) {
        var H = t.mv.aa5(Y, S, h, q)
            , I = H.hs
            , E = H.uD
            , d = H.ahX
            , B = UPNG.quantize.getKDtree(new Uint8Array(d.buffer.slice(0)), 200)
            , n = [];
        for (var G = 0; G < E.length; G++) {
            var g = E[G].pd
                , z = g[0]
                , p = g[1]
                , C = g[2]
                , T = g[3];
            if (Math.min(z, p, C, T) < 0)
                throw "e";
            var A = UPNG.quantize.getNearest(B[0], z / 255, p / 255, C / 255, T / 255);
            n.push(B[1].indexOf(A))
        }
        for (var G = 0; G < S * h; G++)
            I[G] = n[I[G]];
        return {
            hs: I,
            uD: B[1]
        }
    }
        ;
    t.mv.aa5 = function (Y, S, h, q) {
        var H = S * h
            , I = 2 * H
            , E = t.mv.a3F(Y, S, h)
            , d = 65535 + 1
            , B = new Uint32Array(d)
            , g = 0;
        for (var G = 0; G < I; G++)
            B[E[G]]++;
        var n = new Uint32Array(d);
        for (var G = 0; G < d; G++) {
            n[G] = g;
            g += B[G]
        }
        var z = new Uint32Array(I);
        for (var G = 0; G < I; G++) {
            var p = E[G];
            z[n[p]] = G;
            n[p]++
        }
        var C = new UnionFind(H)
            , T = new Uint16Array(H)
            , A = new Uint32Array(H);
        for (var G = 0; G < H; G++)
            A[G] = 1;
        var i = H
            , e = 1e5 / (q * 10);
        for (var a = 0; a < I; a++) {
            var Z = z[a]
                , O = E[Z];
            if (O == 65535)
                continue;
            var G = Z >> 1
                , c = G + ((Z & 1) == 0 ? 1 : S)
                , s = C.find(G)
                , x = C.find(c)
                , u = Math.min(T[s] + e / Math.sqrt(A[s]), T[x] + e / Math.sqrt(A[x]));
            if (s != x && O <= u) {
                C.link(G, c);
                i--;
                var y = C.find(G);
                A[y] = A[s] + A[x];
                T[y] = O
            }
        }
        var j = []
            , v = {}
            , X = new Uint16Array(H);
        for (var G = 0; G < H; G++) {
            var y = C.find(G)
                , N = v[y];
            if (N == null) {
                v[y] = N = j.length;
                j.push({
                    n9: 0,
                    pd: [0, 0, 0, 0]
                })
            }
            j[N].n9++;
            for (var c = 0; c < 4; c++)
                j[N].pd[c] += Y[(G << 2) + c];
            X[G] = N
        }
        var V = new Uint32Array(j.length);
        for (var G = 0; G < j.length; G++) {
            var N = j[G];
            for (var c = 0; c < 4; c++)
                N.pd[c] = Math.round(N.pd[c] / N.n9);
            V[G] = N.pd[3] << 24 | N.pd[2] << 16 | N.pd[1] << 8 | N.pd[0]
        }
        return {
            hs: X,
            uD: j,
            ahX: V
        }
    }
        ;
    t.mv.a3F = function (Y, S, h) {
        var q = new Uint16Array(S * h * 2);
        for (var H = 0; H < h; H++)
            for (var I = 0; I < S; I++) {
                var G = H * S + I;
                q[G + G] = I < S - 1 ? t.mv.zg(Y, G, G + 1) : 65535;
                q[G + G + 1] = H < h - 1 ? t.mv.zg(Y, G, G + S) : 65535
            }
        return q
    }
        ;
    t.mv.zg = function (Y, G, S) {
        var h = G << 2
            , q = S << 2
            , H = Y[h]
            , I = Y[h + 1]
            , E = Y[h + 2]
            , d = Y[h + 3]
            , B = Y[q]
            , n = Y[q + 1]
            , g = Y[q + 2]
            , z = Y[q + 3]
            , p = H - B
            , C = I - n
            , T = E - g
            , A = d - z;
        return p * p + C * C + T * T + A * A >> 2
    }
        ;
    t.mv.DE = function () {
        function Y(e, a, Z, O, c, s) {
            var x = []
                , u = s
                , y = s
                , j = s >>> 2;
            for (var v = 0; v < c; v++)
                for (var X = 0; X < O; X++) {
                    var N = ~~((X + .5) * u)
                        , V = ~~((v + .5) * y)
                        , $ = 1e9
                        , w = Math.max(0, N - j)
                        , m = Math.min(a, N + j + 1)
                        , l = Math.max(0, V - j)
                        , b = Math.min(Z, V + j + 1);
                    for (var K = l; K < b; K++)
                        for (var J = w; J < m; J++) {
                            var R = S(e, a, J, K);
                            if (R < $) {
                                N = J;
                                V = K;
                                $ = R
                            }
                        }
                    var r = (V * a + N) * 4;
                    x.push(N, V)
                }
            return x
        }
        function S(e, a, Z, O) {
            var c = (O * a + Z) * 4
                , s = a * 4
                , x = h(e, c - 4, c) + h(e, c, c + 4)
                , u = h(e, c - s, c) + h(e, c, c + s);
            return x + u
        }
        function h(e, a, Z) {
            var O = e[a] - e[Z]
                , c = e[a + 1] - e[Z + 1]
                , s = e[a + 2] - e[Z + 2];
            return O * O + c * c + s * s
        }
        var q = 0
            , H = 0;
        function I(e, a, Z, O) {
            H++;
            if (O < q)
                q = O;
            e[O].push(a, Z)
        }
        function E(e) {
            H--;
            while (e[q].length == 0)
                q++
        }
        function d(e, a, Z) {
            q = 0;
            H = 0;
            var O = a * Z
                , c = Math.round(Math.min(a, Z) / 50)
                , V = 0
                , $ = 16;
            if (c == 0)
                c = 1;
            var s = 30 / c
                , x = Math.floor(a / c)
                , u = Math.floor(Z / c)
                , y = new Uint16Array(O);
            for (var G = 0; G < O; G++)
                y[G] = 65535;
            var j = Y(e, a, Z, x, u, c)
                , v = j.length >>> 1;
            if (v > 65535)
                throw v;
            var X = [];
            for (var G = 0; G < 1e3 + Z; G++)
                X.push([]);
            var N = [0, 1, 0, -1, -1, 0, 1, 0]
                , w = Math.min(u, 5)
                , m = new Uint32Array(v * 6);
            for (var l = 0; l < u; l += w) {
                var b = Math.min(l + w + 1, u);
                for (var K = l; K < b; K++)
                    for (var J = 0; J < x; J++) {
                        var G = K * x + J
                            , R = G * 2
                            , r = j[R + 1] << 16 | j[R];
                        I(X, r, G, j[R + 1] >>> $)
                    }
                var f = Math.min(Z, b * c);
                if (l + w >= u)
                    f = Z;
                while (H != 0) {
                    E(X);
                    var gf = X[q].pop()
                        , aa = X[q].pop()
                        , aA = aa >>> 16
                        , e5 = aa & 65535
                        , G = aA * a + e5;
                    if (y[G] == 65535) {
                        var fk = gf * 6
                            , o = G << 2;
                        y[G] = gf;
                        m[fk] += e[o];
                        m[fk + 1] += e[o + 1];
                        m[fk + 2] += e[o + 2];
                        m[fk + 3] += e5;
                        m[fk + 4] += aA;
                        m[fk + 5]++;
                        var eY = aA >>> $;
                        if (aA != f - 1 && y[G + a] == 65535)
                            I(X, aA + 1 << 16 | e5, gf, B(e, a, s, e5, aA + 1, m, fk) + eY);
                        if (aA != 0 && y[G - a] == 65535)
                            I(X, aA - 1 << 16 | e5, gf, B(e, a, s, e5, aA - 1, m, fk) + eY);
                        if (e5 != 0 && y[G - 1] == 65535)
                            I(X, aA << 16 | e5 - 1, gf, B(e, a, s, e5 - 1, aA, m, fk) + eY);
                        if (e5 != a - 1 && y[G + 1] == 65535)
                            I(X, aA << 16 | e5 + 1, gf, B(e, a, s, e5 + 1, aA, m, fk) + eY)
                    }
                }
                if (f != aA) {
                    var du = (l + w) * x;
                    m.fill(0, du * 6, (du + x) * 6);
                    for (var aA = (l + w - 2) * c; aA < f; aA++)
                        for (var e5 = 0; e5 < a; e5++) {
                            var G = aA * a + e5;
                            if (y[G] >= du) {
                                y[G] = 65535
                            }
                        }
                }
            }
            return {
                hs: y,
                qR: v,
                iN: m
            }
        }
        t.mv.ym = function (e, a, Z, O, c) {
            var s = e.qR
                , x = a * Z
                , u = e.iN
                , y = e.hs
                , j = C(O, y, s, x)
                , v = new UnionFind(s)
                , m = 0;
            for (var X = 1; X < Z; X++)
                for (var N = 1; N < a; N++) {
                    var G = X * a + N
                        , V = y[G]
                        , $ = 0;
                    if (($ = y[G - 1]) != V && j[$] == j[V] && n(u, 0, V * 6, $ * 6) < c)
                        v.link(V, $);
                    if (($ = y[G - a]) != V && j[$] == j[V] && n(u, 0, V * 6, $ * 6) < c)
                        v.link(V, $)
                }
            var w = new Uint16Array(s);
            w.fill(65535);
            var l = new Uint16Array(s);
            for (var G = 0; G < s; G++) {
                var b = v.find(G);
                if (w[b] == 65535)
                    w[b] = m++;
                l[G] = w[b]
            }
            var K = new Uint16Array(x);
            for (var G = 0; G < x; G++)
                K[G] = l[y[G]];
            return {
                hs: K,
                qR: m
            }
        }
            ;
        t.mv.agb = function (e, a, Z, O) {
            var c = t.m(Z)
                , s = a.length
                , x = 0;
            for (var G = 0; G < s && x != 3; G++) {
                var u = O[G];
                if (u == 0 || u == 255) {
                    var y = a[G]
                        , j = 2 - (u >>> 7);
                    c[y] = x = c[y] | j
                }
            }
            return x != 3
        }
            ;
        function B(e, a, Z, O, c, s, x) {
            var u = (c * a + O) * 4
                , y = s[x + 5]
                , j = 1 / y
                , v = e[u] * y - s[x]
                , X = e[u + 1] * y - s[x + 1]
                , N = e[u + 2] * y - s[x + 2]
                , V = O * y - s[x + 3]
                , $ = c * y - s[x + 4]
                , w = Math.sqrt(v * v + X * X + N * N)
                , m = Math.sqrt(V * V + $ * $);
            return ~~((w + Z * m) * j + .5)
        }
        function n(e, a, Z, O) {
            var c = 1 / e[Z + 5]
                , s = 1 / e[O + 5]
                , x = e[Z] * c - e[O] * s
                , u = e[Z + 1] * c - e[O + 1] * s
                , y = e[Z + 2] * c - e[O + 2] * s
                , j = e[Z + 3] * c - e[O + 3] * s
                , v = e[Z + 4] * c - e[O + 4] * s
                , X = Math.sqrt(x * x + u * u + y * y)
                , N = Math.sqrt(j * j + v * v);
            return ~~(X + a * N + .5)
        }
        function g(e, a, Z) {
            var O = t.b8(e, new W(0, 0, a, Z))
                , c = O.rect.d
                , s = O.rect.v
                , x = d(O.nP, c, s)
                , u = x.hs
                , y = Date.now()
                , j = new Uint16Array(a * Z);
            j.fill(65535);
            for (var v = 0; v < s; v++) {
                for (var X = 0; X < c; X++) {
                    var N = v * c + X
                        , G = (v << 1) * a + (X << 1)
                        , V = u[N];
                    if (u[N - c] != V || u[N - 1] != V || u[N + 1] != V || u[N + c] != V)
                        V = 65535;
                    j[G] = V;
                    j[G + 1] = V;
                    j[G + a] = V;
                    j[G + a + 1] = V
                }
            }
            x.hs = j;
            return x
        }
        function z(e, a) {
            var G = 0
                , Z = e.length;
            while (G != Z && e[G] != a)
                G += 2;
            return G == Z ? -1 : G
        }
        function p(e, G) {
            if (G == e.length - 2) {
                e.pop();
                e.pop()
            } else {
                e[G + 1] = e.pop();
                e[G] = e.pop()
            }
        }
        t.mv.adh = function (e, a, Z, O, c) {
            var s = new Uint32Array(c * 4400)
                , S = [];
            for (var G = 0; G < c; G++)
                S.push([]);
            for (var x = 0; x < Z; x++)
                for (var u = 0; u < a; u++) {
                    var G = x * a + u
                        , y = G << 2
                        , j = O[G]
                        , v = 0
                        , X = e[y] >>> 4
                        , N = e[y + 1] >>> 4
                        , V = e[y + 2] >>> 4;
                    s[j * 4400 + (X << 8 | N << 4 | V)]++;
                    s[j * 4400 + 4096]++;
                    s[j * 4400 + 4100 + (X << 4 | N)]++;
                    s[j * 4400 + 4360 + X]++;
                    if (u != 0 && (v = O[G - 1]) != j && z(S[j], v) == -1) {
                        S[j].push(v, 0);
                        S[v].push(j, 0)
                    }
                    if (x != 0 && (v = O[G - a]) != j && z(S[j], v) == -1) {
                        S[j].push(v, 0);
                        S[v].push(j, 0)
                    }
                }
            for (var G = 0; G < c; G++) {
                var V = S[G];
                for (var $ = 0; $ < V.length; $ += 2)
                    V[$ + 1] = i(s, G, V[$])
            }
            return [s, S]
        }
            ;
        function C(e, a, Z, O) {
            var c = t.m(Z);
            for (var G = 0; G < O; G++) {
                var s = e[G];
                if (s == 0 || s == 255)
                    c[a[G]] = 2 - (s >>> 7)
            }
            return c
        }
        t.mv.aam = function (e, a, Z, O, c, s, x) {
            var u = a * Z
                , y = x[0]
                , S = x[1]
                , j = new UnionFind(O)
                , v = C(c, e, O, u)
                , X = -1
                , N = !0
                , V = 0;
            for (var G = 0; G < O; G++)
                if (v[G] == 1) {
                    if (X == -1)
                        X = G;
                    else
                        j.link(G, X)
                }
            if (X == -1) {
                for (var G = 0; G < u; G++)
                    s[G] = c[G] == 255 ? 255 : 0;
                return
            }
            while (N) {
                while (N) {
                    N = !1;
                    for (var G = 0; G < O; G++) {
                        if (v[G] == 0) {
                            var $ = T(S[G]);
                            if (v[$] == 1) {
                                v[G] = v[$];
                                N = !0;
                                j.link(G, $)
                            }
                        }
                    }
                }
                N = !0;
                V = 0;
                while (N) {
                    N = !1;
                    for (var G = 0; G < O; G++) {
                        if (v[G] == 0) {
                            var $ = T(S[G]);
                            if (v[$] == 0) {
                                var w = G * 4400
                                    , m = $ * 4400;
                                for (var l = 0; l < 4400; l += 2) {
                                    y[w + l] += y[m + l];
                                    y[w + l + 1] += y[m + l + 1]
                                }
                                A(S, y, G, $);
                                V++;
                                v[$] = 3;
                                N = !0;
                                j.link(G, $)
                            }
                        }
                    }
                }
                N = V != 0
            }
            var b = j.find(X);
            for (var G = 0; G < O; G++)
                v[G] = j.find(G) == b ? 255 : 0;
            for (var G = 0; G < u; G++) {
                s[G] = v[e[G]]
            }
            for (var G = 0; G < u; G++) {
                var $ = c[G];
                if ($ == 0 || $ == 255)
                    s[G] = $
            }
        }
            ;
        function T(e) {
            var a = 0
                , Z = 0
                , O = e.length;
            for (var c = 0; c < O; c += 2) {
                var s = e[c + 1];
                if (s > Z) {
                    Z = s;
                    a = c
                }
            }
            return e[a]
        }
        function A(S, e, a, Z) {
            var O = S[a]
                , c = S[Z];
            p(O, z(O, Z));
            p(c, z(c, a));
            for (var G = 0; G < c.length; G += 2) {
                var s = c[G]
                    , x = S[s];
                p(x, z(x, Z));
                if (z(x, a) == -1) {
                    x.push(a, 0);
                    O.push(s, 0)
                }
            }
            for (var G = 0; G < O.length; G += 2) {
                var s = O[G]
                    , x = S[s]
                    , u = i(e, a, s);
                O[G + 1] = u;
                x[z(x, a) + 1] = u
            }
        }
        function i(e, a, Z) {
            var O = 0
                , c = 4096
                , s = a * 4400
                , x = Z * 4400;
            for (var u = 0; u < 16; u++) {
                if (e[s + 4360 + u] == 0 || e[x + 4360 + u] == 0)
                    continue;
                for (var y = 0; y < 16; y++) {
                    var j = u << 4 | y;
                    if (e[s + 4100 + j] == 0 || e[x + 4100 + j] == 0)
                        continue;
                    var v = s + (j << 4)
                        , X = x + (j << 4);
                    for (var G = 0; G < 16; G++)
                        O += Math.sqrt(e[v + G] * e[X + G])
                }
            }
            var N = O / Math.sqrt(e[s + c] * e[x + c]);
            return ~~(999.99999 * N)
        }
        return d
    }();
    var f3 = function () {
        function Y() {
            this.e = 0;
            this.Li = 0;
            this.L9 = {};
            this.KN = [];
            this.E1 = 1e5;
            this.N_ = 1e5;
            this.eF = -1;
            this.Fp = -1;
            this.color = 0
        }
        function S(D) {
            this.cr = D;
            this.ks = new Array(D);
            this.Pb = new Array(D * 6);
            this.aan = 0;
            this.XA = new Array(D * 2);
            this.alpha = new Array(D);
            this.J2 = new Array(D);
            this.Z6 = new Array(D)
        }
        function h(H, I, E, d) {
            function B(i, e, H, I) {
                return H[I * e + i]
            }
            function n(G) {
                var x = H.length;
                while (G < x && H[G] == 0)
                    G++;
                return G < x ? G : -1
            }
            function g(i, e, x) {
                for (var G = 2; G < 5; G++) {
                    var u = 0;
                    for (var y = -G + 1; y <= G - 1; y++) {
                        u += B(i + y, e + G - 1, H, I) == x ? 1 : -1;
                        u += B(i + G - 1, e + y - 1, H, I) == x ? 1 : -1;
                        u += B(i + y - 1, e - G, H, I) == x ? 1 : -1;
                        u += B(i - G, e + y, H, I) == x ? 1 : -1
                    }
                    if (u > 0)
                        return 1;
                    else if (u < 0)
                        return 0
                }
                return 0
            }
            function z(x, T) {
                var A = new Y, i = x, e = T, u = 0, y = 1, j;
                A.color = H[T * I + x];
                A.sign = B(x, T, H, I) == A.color ? "+" : "-";
                while (1) {
                    A.KN.push(i, e);
                    if (i > A.eF)
                        A.eF = i;
                    if (i < A.E1)
                        A.E1 = i;
                    if (e > A.Fp)
                        A.Fp = e;
                    if (e < A.N_)
                        A.N_ = e;
                    A.Li++;
                    i += u;
                    e += y;
                    A.e -= i * y;
                    if (i == x && e == T)
                        break;
                    var v = B(i + (u + y - 1 >> 1), e + (y - u - 1 >> 1), H, I) == A.color
                        , X = B(i + (u - y - 1 >> 1), e + (y + u - 1 >> 1), H, I) == A.color;
                    if (X && !v) {
                        if (d.w6 == "right" || d.w6 == "black" && A.sign == "+" || d.w6 == "white" && A.sign == "-" || d.w6 == "majority" && g(i, e, A.color) || d.w6 == "minority" && !g(i, e, A.color)) {
                            j = u;
                            u = -y;
                            y = j
                        } else {
                            j = u;
                            u = y;
                            y = -j
                        }
                    } else if (X) {
                        j = u;
                        u = -y;
                        y = j
                    } else if (!v) {
                        j = u;
                        u = y;
                        y = -j
                    }
                }
                return A
            }
            var p = 0
                , C = [];
            while (!0) {
                var p = n(p);
                if (p == -1)
                    break;
                var T = Math.floor(p / I)
                    , A = z(p - T * I, T);
                for (var G = 0; G < A.KN.length - 2; G += 2) {
                    var i = A.KN[G]
                        , e = A.KN[G + 1]
                        , a = e * I + i;
                    if (i == A.KN[G + 2] && e + 1 == A.KN[G + 3] && H[a] != 0)
                        f3.fill(a, H, I, 0)
                }
                if (A.e > d.akK)
                    C.push(A)
            }
            for (var G = 0; G < C.length; G++)
                C[G].parent = -1;
            var Z = Date.now();
            for (var G = 1; G < C.length; G++) {
                var O = C[G];
                for (var c = G - 1; c >= 0; c--) {
                    var s = C[c];
                    if (O.E1 < s.E1 || O.eF > s.eF || O.N_ < s.N_ || O.Fp > s.Fp)
                        continue;
                    if (!f3.afF(s.KN, O.KN[0] + .5, O.KN[1] + .5))
                        continue;
                    O.parent = c;
                    break
                }
            }
            return C
        }
        function q(H, I) {
            function E(u, y, j, v, X) {
                this.x = u;
                this.y = y;
                this.EZ = j;
                this.aZ = v;
                this.VP = X
            }
            function d(u, D) {
                return (D + u) % D
            }
            function B(u, y, j, v) {
                return u * v - j * y
            }
            function n(u, y, j, v) {
                return u * j + y * v
            }
            function g(u, y, j) {
                if (u <= j)
                    return u <= y && y < j;
                else
                    return u <= y || y < j
            }
            function z(u, y, j) {
                var v = 0;
                v += y * u[0] * y;
                v += y * u[1] * j;
                v += y * u[2];
                v += j * u[3] * y;
                v += j * u[4] * j;
                v += j * u[5];
                v += u[6] * y;
                v += u[7] * j;
                v += u[8];
                return v
            }
            function p(u, y, j) {
                return y + u * (j - y)
            }
            function C(u, y, j, v) {
                var X = Math.sign(j - u)
                    , N = -Math.sign(v - y);
                return X * (j - u) - N * (v - y)
            }
            function T(u, y) {
                return Math.sqrt(u * u + y * y)
            }
            function A(u, y, j, v, X) {
                var N = 1 - u;
                return N * N * N * y + 3 * (N * N * u) * j + 3 * (u * u * N) * v + u * u * u * X
            }
            function i(u, y, j, v, X, N, V, $) {
                var w = B(u, y, V, $)
                    , m = B(j, v, V, $)
                    , l = B(X, N, V, $)
                    , b = w - 2 * m + l
                    , K = -2 * w + 2 * m
                    , J = w
                    , R = K * K - 4 * b * J;
                if (b == 0 || R < 0)
                    return -1;
                var r = Math.sqrt(R)
                    , f = (-K + r) / (2 * b)
                    , gf = (-K - r) / (2 * b);
                if (f >= 0 && f <= 1)
                    return f;
                else if (gf >= 0 && gf <= 1)
                    return gf;
                else
                    return -1
            }
            function e(x) {
                var G, u, y;
                x.FO = x.KN[0];
                x.abV = x.KN[1];
                x.W5 = [];
                var j = x.W5;
                j.push(new E(0, 0, 0, 0, 0));
                for (G = 0; G < x.Li; G++) {
                    u = x.KN[G << 1] - x.FO;
                    y = x.KN[(G << 1) + 1] - x.abV;
                    j.push(new E(j[G].x + u, j[G].y + y, j[G].EZ + u * y, j[G].aZ + u * u, j[G].VP + y * y))
                }
            }
            function a(x) {
                var D = x.Li, u = x.KN, y, j = new Array(D), v = new Array(D), X = new Array(4), N, V, $, w, m, l, b, K, J, R, r, G, f, gf, aa, aA, e5, fk, o = 0;
                x.af = new Array(D);
                for (G = D - 1; G >= 0; G--) {
                    if (u[G << 1] != u[o << 1] && u[(G << 1) + 1] != u[(o << 1) + 1])
                        o = G + 1;
                    v[G] = o
                }
                for (G = D - 1; G >= 0; G--) {
                    var eY = d(G + 1, D) << 1;
                    X[0] = X[1] = X[2] = X[3] = 0;
                    y = (3 + 3 * (u[eY] - u[G << 1]) + (u[eY + 1] - u[(G << 1) + 1])) / 2;
                    X[y]++;
                    N = 0;
                    V = 0;
                    $ = 0;
                    w = 0;
                    o = v[G];
                    gf = G;
                    while (1) {
                        r = 0;
                        y = (3 + 3 * Math.sign(u[o * 2] - u[gf * 2]) + Math.sign(u[o * 2 + 1] - u[gf * 2 + 1])) / 2;
                        X[y]++;
                        if (X[0] && X[1] && X[2] && X[3]) {
                            j[G] = gf;
                            r = 1;
                            break
                        }
                        J = u[o * 2] - u[G * 2];
                        R = u[o * 2 + 1] - u[G * 2 + 1];
                        if (B(N, V, J, R) < 0 || B($, w, J, R) > 0) {
                            break
                        }
                        if (Math.abs(J) <= 1 && Math.abs(R) <= 1) { } else {
                            m = J + (R >= 0 && (R > 0 || J < 0) ? 1 : -1);
                            l = R + (J <= 0 && (J < 0 || R < 0) ? 1 : -1);
                            if (B(N, V, m, l) >= 0) {
                                N = m;
                                V = l
                            }
                            m = J + (R <= 0 && (R < 0 || J < 0) ? 1 : -1);
                            l = R + (J >= 0 && (J > 0 || R < 0) ? 1 : -1);
                            if (B($, w, m, l) <= 0) {
                                $ = m;
                                w = l
                            }
                        }
                        gf = o;
                        o = v[gf];
                        if (!g(o, G, gf)) {
                            break
                        }
                    }
                    if (r == 0) {
                        b = Math.sign(u[o * 2] - u[gf * 2]);
                        K = Math.sign(u[o * 2 + 1] - u[gf * 2 + 1]);
                        J = u[gf * 2] - u[G * 2];
                        R = u[gf * 2 + 1] - u[G * 2 + 1];
                        aa = B(N, V, J, R);
                        aA = B(N, V, b, K);
                        e5 = B($, w, J, R);
                        fk = B($, w, b, K);
                        f = 1e7;
                        if (aA < 0) {
                            f = Math.floor(aa / -aA)
                        }
                        if (fk > 0) {
                            f = Math.min(f, Math.floor(-e5 / fk))
                        }
                        j[G] = d(gf + f, D)
                    }
                }
                f = j[D - 1];
                x.af[D - 1] = f;
                for (G = D - 2; G >= 0; G--) {
                    if (g(G + 1, j[G], f)) {
                        f = j[G]
                    }
                    x.af[G] = f
                }
                for (G = D - 1; g(d(G + 1, D), f, x.af[G]); G--) {
                    x.af[G] = f
                }
            }
            function Z(x) {
                function u(x, G, y) {
                    var D = x.Li, J = x.KN, R = x.W5, r, f, gf, aa, aA, v, e5, fk, K, o, eY, du, dV, hy, bq = 0;
                    if (y >= D) {
                        y -= D;
                        bq = 1
                    }
                    if (bq == 0) {
                        r = R[y + 1].x - R[G].x;
                        f = R[y + 1].y - R[G].y;
                        aa = R[y + 1].aZ - R[G].aZ;
                        gf = R[y + 1].EZ - R[G].EZ;
                        aA = R[y + 1].VP - R[G].VP;
                        v = y + 1 - G
                    } else {
                        r = R[y + 1].x - R[G].x + R[D].x;
                        f = R[y + 1].y - R[G].y + R[D].y;
                        aa = R[y + 1].aZ - R[G].aZ + R[D].aZ;
                        gf = R[y + 1].EZ - R[G].EZ + R[D].EZ;
                        aA = R[y + 1].VP - R[G].VP + R[D].VP;
                        v = y + 1 - G + D
                    }
                    eY = (J[G << 1] + J[y << 1]) / 2 - J[0];
                    du = (J[(G << 1) + 1] + J[(y << 1) + 1]) / 2 - J[1];
                    hy = J[y << 1] - J[G << 1];
                    dV = -(J[(y << 1) + 1] - J[(G << 1) + 1]);
                    e5 = (aa - 2 * r * eY) / v + eY * eY;
                    fk = (gf - r * du - f * eY) / v + eY * du;
                    K = (aA - 2 * f * du) / v + du * du;
                    o = dV * dV * e5 + 2 * dV * hy * fk + hy * hy * K;
                    return Math.sqrt(o)
                }
                var G, y, j, v, D = x.Li, X = new Array(D + 1), N = new Array(D + 1), V = new Array(D), $ = new Array(D + 1), w = new Array(D + 1), m = new Array(D + 1), l, b, K;
                for (G = 0; G < D; G++) {
                    K = d(x.af[d(G - 1, D)] - 1, D);
                    if (K == G) {
                        K = d(G + 1, D)
                    }
                    if (K < G) {
                        V[G] = D
                    } else {
                        V[G] = K
                    }
                }
                y = 1;
                for (G = 0; G < D; G++) {
                    while (y <= V[G]) {
                        $[y] = G;
                        y++
                    }
                }
                G = 0;
                for (y = 0; G < D; y++) {
                    w[y] = G;
                    G = V[G]
                }
                w[y] = D;
                j = y;
                G = D;
                for (y = j; y > 0; y--) {
                    m[y] = G;
                    G = $[G]
                }
                m[0] = 0;
                X[0] = 0;
                for (y = 1; y <= j; y++) {
                    for (G = m[y]; G <= w[y]; G++) {
                        b = -1;
                        for (v = w[y - 1]; v >= $[G]; v--) {
                            l = u(x, v, G) + X[v];
                            if (b < 0 || l < b) {
                                N[G] = v;
                                b = l
                            }
                        }
                        X[G] = b
                    }
                }
                x.dM = j;
                x.am7 = new Array(j);
                for (G = D,
                    y = j - 1; G > 0; y--) {
                    G = N[G];
                    x.am7[y] = G
                }
            }
            function O(x) {
                function u(x, G, l, V, $, i5) {
                    var D = x.Li, hX = x.W5, bY = 0, K;
                    while (l >= D) {
                        l -= D;
                        bY += 1
                    }
                    while (G >= D) {
                        G -= D;
                        bY -= 1
                    }
                    while (l < 0) {
                        l += D;
                        bY -= 1
                    }
                    while (G < 0) {
                        G += D;
                        bY += 1
                    }
                    var ds = hX[l + 1].x - hX[G].x + bY * hX[D].x
                        , hV = hX[l + 1].y - hX[G].y + bY * hX[D].y
                        , gF = hX[l + 1].aZ - hX[G].aZ + bY * hX[D].aZ
                        , co = hX[l + 1].EZ - hX[G].EZ + bY * hX[D].EZ
                        , c_ = hX[l + 1].VP - hX[G].VP + bY * hX[D].VP
                        , b = l + 1 - G + bY * D;
                    V[i5] = ds / b;
                    V[i5 + 1] = hV / b;
                    var a5 = (gF - ds * ds / b) / b
                        , gb = (co - ds * hV / b) / b
                        , iC = (c_ - hV * hV / b) / b
                        , cC = (a5 + iC + Math.sqrt((a5 - iC) * (a5 - iC) + 4 * gb * gb)) / 2;
                    a5 -= cC;
                    iC -= cC;
                    if (Math.abs(a5) >= Math.abs(iC)) {
                        K = Math.sqrt(a5 * a5 + gb * gb);
                        if (K != 0) {
                            $[i5] = -gb / K;
                            $[i5 + 1] = a5 / K
                        }
                    } else {
                        K = Math.sqrt(iC * iC + gb * gb);
                        if (K != 0) {
                            $[i5] = -iC / K;
                            $[i5 + 1] = gb / K
                        }
                    }
                    if (K == 0) {
                        $[i5] = $[i5 + 1] = 0
                    }
                }
                var y = x.dM, j = x.am7, D = x.Li, v = x.KN, X = x.FO, N = x.abV, V = new Array(y * 2), $ = new Array(y * 2), w = new Array(y), m = new Array(3), G, l, b, K, f, gf, aa, aA, e5, fk, o;
                x.L9 = new S(y);
                for (G = 0; G < y; G++) {
                    l = j[d(G + 1, y)];
                    l = d(l - j[G], D) + j[G];
                    V[G << 1] = 0;
                    V[(G << 1) + 1] = 0;
                    $[G << 1] = 0;
                    $[(G << 1) + 1] = 0;
                    u(x, j[G], l, V, $, G << 1)
                }
                for (G = 0; G < y; G++) {
                    w[G] = [0, 0, 0, 0, 0, 0, 0, 0, 0];
                    var J = $[G << 1] * $[G << 1] + $[(G << 1) + 1] * $[(G << 1) + 1]
                        , R = 1 / J;
                    if (J != 0) {
                        m[0] = $[(G << 1) + 1];
                        m[1] = -$[G << 1];
                        m[2] = -m[1] * V[(G << 1) + 1] - m[0] * V[G << 1];
                        for (K = 0; K < 3; K++) {
                            w[G][K * 3 + 0] = m[K] * m[0] * R;
                            w[G][K * 3 + 1] = m[K] * m[1] * R;
                            w[G][K * 3 + 2] = m[K] * m[2] * R
                        }
                    }
                }
                var r = [0, 0, 0, 0, 0, 0, 0, 0, 0];
                for (G = 0; G < y; G++) {
                    r[0] = r[1] = r[2] = r[3] = r[4] = r[5] = r[6] = r[7] = r[8] = r[9] = 0;
                    var eY = v[j[G] << 1] - X
                        , du = v[(j[G] << 1) + 1] - N
                        , dV = 0
                        , hy = 0;
                    l = d(G - 1, y);
                    for (K = 0; K < 9; K += 3) {
                        r[K + 0] = w[l][K + 0] + w[G][K + 0];
                        r[K + 1] = w[l][K + 1] + w[G][K + 1];
                        r[K + 2] = w[l][K + 2] + w[G][K + 2]
                    }
                    while (1) {
                        var bq = r[0] * r[4] - r[1] * r[3];
                        if (bq != 0) {
                            dV = (-r[2] * r[4] + r[5] * r[0]) / bq;
                            hy = (r[2] * r[3] - r[5] * r[0]) / bq;
                            break
                        }
                        if (r[0] > r[4]) {
                            m[0] = -r[1];
                            m[1] = r[0]
                        } else if (r[4]) {
                            m[0] = -r[4];
                            m[1] = r[3]
                        } else {
                            m[0] = 1;
                            m[1] = 0
                        }
                        var J = m[0] * m[0] + m[1] * m[1]
                            , R = 1 / J;
                        m[2] = -m[1] * du - m[0] * eY;
                        for (K = 0; K < 3; K++) {
                            r[K * 3 + 0] += m[K] * m[0] * R;
                            r[K * 3 + 1] += m[K] * m[1] * R;
                            r[K * 3 + 2] += m[K] * m[2] * R
                        }
                    }
                    f = Math.abs(dV - eY);
                    gf = Math.abs(hy - du);
                    if (f <= .5 && gf <= .5) {
                        x.L9.XA[G << 1] = dV + X;
                        x.L9.XA[(G << 1) + 1] = hy + N;
                        continue
                    }
                    aa = z(r, eY, du);
                    e5 = eY;
                    fk = du;
                    if (r[0] != 0) {
                        for (o = 0; o < 2; o++) {
                            hy = du - .5 + o;
                            dV = -(r[1] * hy + r[2]) / r[0];
                            f = Math.abs(dV - eY);
                            aA = z(r, dV, hy);
                            if (f <= .5 && aA < aa) {
                                aa = aA;
                                e5 = dV;
                                fk = hy
                            }
                        }
                    }
                    if (r[4] != 0) {
                        for (o = 0; o < 2; o++) {
                            dV = eY - .5 + o;
                            hy = -(r[3] * dV + r[5]) / r[4];
                            gf = Math.abs(hy - du);
                            aA = z(r, dV, hy);
                            if (gf <= .5 && aA < aa) {
                                aa = aA;
                                e5 = dV;
                                fk = hy
                            }
                        }
                    }
                    for (K = 0; K < 2; K++) {
                        for (b = 0; b < 2; b++) {
                            dV = eY - .5 + K;
                            hy = du - .5 + b;
                            aA = z(r, dV, hy);
                            if (aA < aa) {
                                aa = aA;
                                e5 = dV;
                                fk = hy
                            }
                        }
                    }
                    x.L9.XA[G << 1] = e5 + X;
                    x.L9.XA[(G << 1) + 1] = fk + N
                }
            }
            function c(x) {
                var u = x.L9.cr, y = x.L9, G, j, v, X, N, V, $, w, m;
                for (G = 0; G < u; G++) {
                    j = d(G + 1, u);
                    v = d(G + 2, u);
                    var l = y.XA[G << 1]
                        , b = y.XA[(G << 1) + 1]
                        , K = y.XA[v << 1]
                        , J = y.XA[(v << 1) + 1]
                        , R = y.XA[j << 1]
                        , r = y.XA[(j << 1) + 1]
                        , f = p(.5, K, R)
                        , gf = p(.5, J, r);
                    N = C(l, b, K, J);
                    if (N != 0) {
                        X = B(R - l, r - b, K - l, J - b) / N;
                        X = Math.abs(X);
                        V = X > 1 ? 1 - 1 / X : 0;
                        V = V * (1 / .75)
                    } else {
                        V = 4 / 3
                    }
                    y.J2[j] = V;
                    var aa = 3 * j << 1;
                    if (V >= I.akL) {
                        y.ks[j] = 0;
                        y.Pb[aa + 0] = y.Pb[aa + 1] = 0;
                        y.Pb[aa + 2] = R;
                        y.Pb[aa + 3] = r;
                        y.Pb[aa + 4] = f;
                        y.Pb[aa + 5] = gf
                    } else {
                        if (V < .55) {
                            V = .55
                        } else if (V > 1) {
                            V = 1
                        }
                        var aA = .5 + .5 * V;
                        y.ks[j] = 1;
                        y.Pb[aa] = p(aA, l, R);
                        y.Pb[aa + 1] = p(aA, b, r);
                        y.Pb[aa + 2] = p(aA, K, R);
                        y.Pb[aa + 3] = p(aA, J, r);
                        y.Pb[aa + 4] = f;
                        y.Pb[aa + 5] = gf
                    }
                    y.alpha[j] = V;
                    y.Z6[j] = .5
                }
                y.ao5 = 1
            }
            function s(x) {
                function u() {
                    this.ZZ = 0;
                    this.Um = 0;
                    this.hM = 0;
                    this.zZ = 0;
                    this.ht = 0;
                    this.qa = 0;
                    this.D1 = 0;
                    this.alpha = 0
                }
                function y(x, G, l, cd, dZ, e5, fk) {
                    var v = x.L9.cr
                        , en = x.L9.Pb
                        , cD = x.L9.XA;
                    if (G == l)
                        return 1;
                    var hP = G
                        , R = d(G + 1, v)
                        , ea = d(hP + 1, v)
                        , co = cD[G << 1]
                        , c_ = cD[(G << 1) + 1]
                        , fp = cD[R << 1]
                        , bC = cD[(R << 1) + 1]
                        , hG = e5[ea];
                    if (hG == 0)
                        return 1;
                    var b3 = T(co - fp, c_ - bC);
                    for (hP = ea; hP != l; hP = ea) {
                        var ea = d(hP + 1, v)
                            , ct = d(hP + 2, v)
                            , fQ = cD[ea << 1]
                            , cj = cD[(ea << 1) + 1]
                            , fJ = cD[ct << 1]
                            , cM = cD[(ct << 1) + 1];
                        if (e5[ea] != hG)
                            return 1;
                        if (Math.sign(B(fp - co, bC - c_, fJ - fQ, cM - cj)) != hG)
                            return 1;
                        if (n(fp - co, bC - c_, fJ - fQ, cM - cj) < b3 * T(fQ - fJ, cj - cM) * -.999847695156)
                            return 1
                    }
                    var cc = d(G, v) * 3 + 2 << 1
                        , cr = d(G + 1, v) << 1
                        , bZ = d(l, v) << 1
                        , eb = d(l, v) * 3 + 2 << 1
                        , i5 = en[cc]
                        , hX = en[cc + 1]
                        , gL = cD[cr]
                        , fn = cD[cr + 1]
                        , aq = cD[bZ]
                        , di = cD[bZ + 1]
                        , ej = en[eb]
                        , cn = en[eb + 1]
                        , o = cD[0]
                        , eY = cD[1];
                    cc = l * 3 + 2 << 1;
                    var aj = en[cc]
                        , a6 = en[cc + 1]
                        , r = fk[l] - fk[G];
                    r -= B(aj - o, a6 - eY, aj - o, a6 - eY) / 2;
                    if (G >= l) {
                        r += fk[v]
                    }
                    var hJ = gL - i5
                        , dv = fn - hX
                        , bi = aq - i5
                        , cT = di - hX
                        , cO = ej - i5
                        , bD = cn - hX
                        , hS = B(hJ, dv, bi, cT)
                        , fi = B(hJ, dv, cO, bD)
                        , em = B(bi, cT, cO, bD)
                        , gA = hS + em - fi;
                    if (fi == hS)
                        return 1;
                    var aA = em / (em - gA)
                        , aa = fi / (fi - hS)
                        , aK = fi * aA / 2;
                    if (aK == 0)
                        return 1;
                    var bR = r / aK
                        , f = 2 - Math.sqrt(4 - bR / .3);
                    cd.Um = p(aA * f, i5, gL);
                    cd.hM = p(aA * f, hX, fn);
                    cd.zZ = p(aa * f, ej, aq);
                    cd.ht = p(aa * f, cn, di);
                    cd.alpha = f;
                    cd.qa = aA;
                    cd.D1 = aa;
                    gL = cd.Um;
                    fn = cd.hM;
                    aq = cd.zZ;
                    di = cd.ht;
                    cd.ZZ = 0;
                    for (hP = d(G + 1, v); hP != l; hP = ea) {
                        ea = d(hP + 1, v);
                        var aP = cD[hP << 1]
                            , al = cD[(hP << 1) + 1]
                            , fQ = cD[ea << 1]
                            , cj = cD[(ea << 1) + 1];
                        aA = i(gL - i5, fn - hX, aq - gL, di - fn, ej - aq, cn - di, fQ - aP, cj - al);
                        if (aA < -.5)
                            return 1;
                        var d6 = A(aA, i5, gL, aq, ej)
                            , hx = A(aA, hX, fn, di, cn)
                            , b3 = T(fQ - aP, cj - al);
                        if (b3 == 0)
                            return 1;
                        var hn = B(fQ - aP, cj - al, d6 - aP, hx - al) / b3;
                        if (Math.abs(hn) > dZ)
                            return 1;
                        if (n(fQ - aP, cj - al, d6 - aP, hx - al) < 0 || n(aP - fQ, al - cj, d6 - fQ, hx - cj) < 0) {
                            return 1
                        }
                        cd.ZZ += hn * hn
                    }
                    for (hP = G; hP != l; hP = ea) {
                        ea = d(hP + 1, v);
                        var cc = hP * 3 + 2 << 1
                            , cr = ea * 3 + 2 << 1
                            , fX = en[cc]
                            , d1 = en[cc + 1]
                            , h$ = en[cr]
                            , f9 = en[cr + 1];
                        aA = i(gL - i5, fn - hX, aq - gL, di - fn, ej - aq, cn - di, h$ - fX, f9 - d1);
                        if (aA < -.5)
                            return 1;
                        var d6 = A(aA, i5, gL, aq, ej)
                            , hx = A(aA, hX, fn, di, cn)
                            , b3 = T(h$ - fX, f9 - d1);
                        if (b3 == 0)
                            return 1;
                        var hn = B(h$ - fX, f9 - d1, d6 - fX, hx - d1) / b3
                            , e6 = B(h$ - fX, f9 - d1, cD[ea << 1] - fX, cD[(ea << 1) + 1] - d1) / b3;
                        e6 *= .75 * x.L9.alpha[ea];
                        if (e6 < 0) {
                            hn = -hn;
                            e6 = -e6
                        }
                        if (hn < e6 - dZ)
                            return 1;
                        if (hn < e6) {
                            cd.ZZ += (hn - e6) * (hn - e6)
                        }
                    }
                    return 0
                }
                var j = x.L9, v = j.cr, X = j.XA, N = new Array(v + 1), V = new Array(v + 1), $ = new Array(v + 1), w = new Array(v + 1), m, G, l, b, K = new u, J, R, r, f, gf, aa, aA, e5 = new Array(v), fk = new Array(v + 1);
                for (G = 0; G < v; G++) {
                    if (j.ks[G] == "CURVE") {
                        var o = X[d(G - 1, v) << 1]
                            , eY = X[(d(G - 1, v) << 1) + 1]
                            , du = X[G << 1]
                            , dV = X[(G << 1) + 1]
                            , hy = X[d(G + 1, v) << 1]
                            , bq = X[(d(G + 1, v) << 1) + 1];
                        e5[G] = Math.sign(B(du - o, dV - eY, hy - du, bq - dV))
                    } else {
                        e5[G] = 0
                    }
                }
                r = 0;
                fk[0] = 0;
                var i5 = j.XA[0]
                    , hX = j.XA[1];
                for (G = 0; G < v; G++) {
                    R = d(G + 1, v);
                    if (j.ks[R] == "CURVE") {
                        f = j.alpha[R];
                        var bY = G * 3 + 2 << 1
                            , ds = R * 3 + 2 << 1
                            , hV = j.Pb[bY]
                            , gF = j.Pb[bY + 1]
                            , co = X[R << 1]
                            , c_ = X[(R << 1) + 1]
                            , a5 = j.Pb[ds]
                            , gb = j.Pb[ds + 1];
                        r += .3 * f * (4 - f) * B(co - hV, c_ - gF, a5 - hV, gb - gF) / 2;
                        r += B(hV - i5, gF - hX, a5 - i5, gb - hX) / 2
                    }
                    fk[G + 1] = r
                }
                N[0] = -1;
                V[0] = 0;
                $[0] = 0;
                for (l = 1; l <= v; l++) {
                    N[l] = l - 1;
                    V[l] = V[l - 1];
                    $[l] = $[l - 1] + 1;
                    for (G = l - 2; G >= 0; G--) {
                        b = y(x, G, d(l, v), K, I.adj, e5, fk);
                        if (b) {
                            break
                        }
                        if ($[l] > $[G] + 1 || $[l] == $[G] + 1 && V[l] > V[G] + K.ZZ) {
                            N[l] = G;
                            V[l] = V[G] + K.ZZ;
                            $[l] = $[G] + 1;
                            w[l] = K;
                            K = new u
                        }
                    }
                }
                m = $[v];
                gf = new S(m);
                aa = new Array(m);
                aA = new Array(m);
                l = v;
                for (G = m - 1; G >= 0; G--) {
                    var iC = d(l, v)
                        , cC = G * 3 + 0 << 1
                        , aB = iC * 3 + 0 << 1;
                    if (N[l] == l - 1) {
                        gf.ks[G] = j.ks[iC];
                        gf.Pb[cC] = j.Pb[aB];
                        gf.Pb[cC + 1] = j.Pb[aB + 1];
                        gf.Pb[cC + 2] = j.Pb[aB + 2];
                        gf.Pb[cC + 3] = j.Pb[aB + 3];
                        gf.Pb[cC + 4] = j.Pb[aB + 4];
                        gf.Pb[cC + 5] = j.Pb[aB + 5];
                        gf.XA[G << 1] = j.XA[iC << 1];
                        gf.XA[(G << 1) + 1] = j.XA[(iC << 1) + 1];
                        gf.alpha[G] = j.alpha[iC];
                        gf.J2[G] = j.J2[iC];
                        gf.Z6[G] = j.Z6[iC];
                        aa[G] = aA[G] = 1
                    } else {
                        gf.ks[G] = "CURVE";
                        gf.Pb[cC] = w[l].Um;
                        gf.Pb[cC + 1] = w[l].hM;
                        gf.Pb[cC + 2] = w[l].zZ;
                        gf.Pb[cC + 3] = w[l].ht;
                        gf.Pb[cC + 4] = j.Pb[aB + 4];
                        gf.Pb[cC + 5] = j.Pb[aB + 5];
                        gf.XA[G << 1] = p(w[l].D1, j.Pb[aB + 4], X[iC << 1]);
                        gf.XA[(G << 1) + 1] = p(w[l].D1, j.Pb[aB + 5], X[(iC << 1) + 1]);
                        gf.alpha[G] = w[l].alpha;
                        gf.J2[G] = w[l].alpha;
                        aa[G] = w[l].D1;
                        aA[G] = w[l].qa
                    }
                    l = N[l]
                }
                for (G = 0; G < m; G++) {
                    R = d(G + 1, m);
                    gf.Z6[G] = aa[G] / (aa[G] + aA[R])
                }
                gf.ao5 = 1;
                x.L9 = gf
            }
            for (var G = 0; G < H.length; G++) {
                var x = H[G];
                e(x);
                a(x);
                Z(x);
                O(x);
                c(x);
                if (I.acG)
                    s(x)
            }
        }
        return {
            aei: h,
            a3C: q
        }
    }();
    f3.kB = function (Y, S, h, q) {
        var H = {
            w6: "minority",
            akK: q,
            acG: !0,
            akL: 1,
            adj: .2
        }
            , I = f3.aei(Y, S, h, H);
        f3.a3C(I, H);
        return I
    }
        ;
    f3.L1 = function (Y) {
        var S = [];
        for (var G = 0; G < Y.length; G++) {
            var h = Y[G]
                , q = h.L9
                , H = ["M"]
                , I = [q.Pb[(q.cr - 1) * 6 + 4], q.Pb[(q.cr - 1) * 6 + 5]];
            for (var E = 0; E < q.cr; E++) {
                var d = E * 6;
                if (q.ks[E] == 1) {
                    H.push("C");
                    for (var B = 0; B < 6; B++)
                        I.push(q.Pb[d + B])
                } else if (q.ks[E] == 0) {
                    H.push("L");
                    for (var B = 2; B < 4; B++)
                        I.push(q.Pb[d + B])
                }
            }
            H.push("Z");
            S.push({
                parent: h.parent,
                color: h.color,
                path: {
                    H: I,
                    Z: H
                }
            })
        }
        return S
    }
        ;
    f3.anc = function (Y, S, h, q, H) {
        function I(T) {
            function A(G) {
                var C = "C " + (T.Pb[G * 3 + 0 << 1] * S).toFixed(1) + " " + (T.Pb[(G * 3 + 0 << 1) + 1] * S).toFixed(1) + ",";
                C += (T.Pb[G * 3 + 1 << 1] * S).toFixed(1) + " " + (T.Pb[(G * 3 + 1 << 1) + 1] * S).toFixed(1) + ",";
                C += (T.Pb[G * 3 + 2 << 1] * S).toFixed(1) + " " + (T.Pb[(G * 3 + 2 << 1) + 1] * S).toFixed(1) + " ";
                return C
            }
            function i(G) {
                var a = "L " + (T.Pb[G * 3 + 1 << 1] * S).toFixed(1) + " " + (T.Pb[(G * 3 + 1 << 1) + 1] * S).toFixed(1) + " ";
                a += (T.Pb[G * 3 + 2 << 1] * S).toFixed(1) + " " + (T.Pb[(G * 3 + 2 << 1) + 1] * S).toFixed(1) + " ";
                return a
            }
            var D = T.cr, G, e = "M" + (T.Pb[(D - 1) * 3 + 2 << 1] * S).toFixed(1) + " " + (T.Pb[((D - 1) * 3 + 2 << 1) + 1] * S).toFixed(1) + " ";
            for (G = 0; G < D; G++) {
                if (T.ks[G] == 1) {
                    e += A(G)
                } else if (T.ks[G] == 0) {
                    e += i(G)
                }
            }
            return e
        }
        var h = h * S
            , q = q * S
            , E = Y.length
            , d = [];
        for (var G = 0; G < 256; G++)
            d.push("rgb(" + Math.floor(Math.random() * 255) + "," + Math.floor(Math.random() * 255) + "," + Math.floor(Math.random() * 255) + ")");
        var B = "<svg id=\"svg\" version=\"1.1\" width=\"" + h + "\" height=\"" + q + "\" xmlns=\"http://www.w3.org/2000/svg\">";
        for (var G = 0; G < E; G++) {
            var n = H[Y[G].color - 1].ajO.dC;
            if ((n >>> 24 & 255) == 0)
                continue;
            B += "<path d=\"";
            var g = Y[G].L9;
            B += I(g);
            var z = n >> 0 & 255
                , p = n >> 8 & 255
                , C = n >> 16 & 255
                , n = "rgb(" + z + "," + p + "," + C + ")";
            B += "\" fill=\"" + n + "\" fill-rule=\"evenodd\"/>"
        }
        B += "</svg>";
        return B
    }
        ;
    f3.afF = function (Y, S, h) {
        var D = Y.length >> 1, q, H = Y[2 * D - 3] - h, I = Y[2 * D - 2] - S, E = Y[2 * D - 1] - h, d = E > H, B = 0;
        for (var G = 0; G < D; G++) {
            q = I;
            H = E;
            I = Y[2 * G] - S;
            E = Y[2 * G + 1] - h;
            if (H == E)
                continue;
            d = E > H
        }
        for (var G = 0; G < D; G++) {
            q = I;
            H = E;
            I = Y[2 * G] - S;
            E = Y[2 * G + 1] - h;
            if (H < 0 && E < 0)
                continue;
            if (H > 0 && E > 0)
                continue;
            if (q < 0 && I < 0)
                continue;
            if (H == E && Math.min(q, I) <= 0)
                return !0;
            if (H == E)
                continue;
            var n = q + (I - q) * -H / (E - H);
            if (n == 0)
                return !0;
            if (n > 0)
                B++;
            if (H == 0 && d && E > H)
                B--;
            if (H == 0 && !d && E < H)
                B--;
            d = E > H
        }
        return (B & 1) == 1
    }
        ;
    f3.fill = function (Y, S, h, q) {
        var H = S[Y]
            , I = [Y]
            , E = 0;
        while (E < I.length) {
            var d = I[E];
            E++;
            S[d] = q;
            if (S[d - h] == H) {
                I.push(d - h);
                S[d - h] = 254
            }
            if (S[d - 1] == H) {
                I.push(d - 1);
                S[d - 1] = 254
            }
            if (S[d + 1] == H) {
                I.push(d + 1);
                S[d + 1] = 254
            }
            if (S[d + h] == H) {
                I.push(d + h);
                S[d + h] = 254
            }
        }
    }
        ;
    var Q = {};
    Q.nc = !1;
    Q.W3 = !1;
    Q.gK = !1;
    Q.yD = document.createElement("canvas");
    Q.Jd = null;
    Q.K4 = null;
    Q.eQ = 0;
    (function () {
        var Y = {
            alpha: !0,
            antialias: !1,
            depth: !1,
            premultipliedAlpha: !1
        }, S;
        if (!S)
            S = Q.yD.getContext("webgl", Y);
        if (!S)
            S = Q.yD.getContext("experimental-webgl", Y);
        if (S) {
            Q.nc = !0;
            Q.W3 = !0;
            Q.Jd = S;
            Q.K4 = S.createFramebuffer();
            S.bindFramebuffer(S.FRAMEBUFFER, Q.K4);
            S.disable(S.BLEND);
            S.disable(S.DEPTH_TEST);
            var h = S.createBuffer();
            S.bindBuffer(S.ARRAY_BUFFER, h);
            S.bufferData(S.ARRAY_BUFFER, new Float32Array([0, 0, 1, 0, 0, 1, 0, 1, 1, 0, 1, 1]), S.STATIC_DRAW);
            S.enableVertexAttribArray(0);
            S.vertexAttribPointer(0, 2, S.FLOAT, !1, 0, 0)
        }
    }());
    Q.aik = function (Y) {
        Y = Y.replace(/\s\s+/g, " ");
        Y = Y.replace(/; /g, ";");
        Y = Y.replace(/} /g, "}");
        Y = Y.replace(/ }/g, "}");
        Y = Y.replace(/{ /g, "{");
        Y = Y.replace(/ {/g, "{");
        Y = Y.replace(/= /g, "=");
        Y = Y.replace(/ =/g, "=");
        Y = Y.replace(/\| /g, "|");
        Y = Y.replace(/ \|/g, "|");
        return Y
    }
        ;
    Q.af_ = function (Y) {
        var S = Q.Jd;
        if (Y > S.getParameter(S.MAX_TEXTURE_SIZE)) {
            Q.nc = !1;
            alert("Disabling WebGL")
        }
    }
        ;
    Q.fB = function (Y, S) {
        return new Float32Array([(Y.x - S.x) / S.d, (Y.y - S.y) / S.v, Y.d / S.d, Y.v / S.v])
    }
        ;
    Q.ji = function () {
        return this.yD
    }
        ;
    Q.Mx = function (Y, S) {
        var h = Q.Jd;
        h.bindFramebuffer(h.FRAMEBUFFER, Q.K4);
        h.framebufferTexture2D(h.FRAMEBUFFER, h.COLOR_ATTACHMENT0, h.TEXTURE_2D, Y.$Q, 0);
        h.viewport(0, 0, Y.d, Y.v);
        if (S) {
            h.enable(h.SCISSOR_TEST);
            h.scissor(S.x, S.y, S.d, S.v)
        } else
            h.disable(h.SCISSOR_TEST)
    }
        ;
    Q.Bo = function (Y, S, h) {
        if (h)
            throw "error";
        var q = Q.Jd;
        q.disable(q.SCISSOR_TEST);
        q.bindFramebuffer(q.FRAMEBUFFER, null);
        q.viewport(0, 0, Y, S);
        if (h) {
            q.enable(q.SCISSOR_TEST);
            q.scissor(h.x, h.y, Math.round(h.d), Math.round(h.v))
        } else
            q.disable(q.SCISSOR_TEST)
    }
        ;
    Q.clear = function () {
        var Y = Q.Jd;
        Y.clearColor(0, 0, 0, 0);
        Y.clear(Y.COLOR_BUFFER_BIT)
    }
        ;
    Q.Ys = function (Y, S) {
        if (S == null)
            S = 0;
        var h = (S >>> 0 & 255) == 0
            , q = (S >>> 8 & 255) == 0
            , H = (S >>> 16 & 255) == 0
            , I = (S >>> 24 & 255) == 0
            , E = (Y >>> 0 & 255) * (1 / 255)
            , d = (Y >>> 8 & 255) * (1 / 255)
            , B = (Y >>> 16 & 255) * (1 / 255)
            , n = (Y >>> 24 & 255) * (1 / 255)
            , g = Q.Jd;
        g.colorMask(h, q, H, I);
        g.clearColor(E, d, B, n);
        g.clear(g.COLOR_BUFFER_BIT);
        g.colorMask(!0, !0, !0, !0)
    }
        ;
    Q.Jb = function (Y, S, h, q, H) {
        var I = S.lF(q);
        if (H)
            I = I.lF(H);
        if (I.fa())
            return;
        var E = Q.Jd;
        Q.Mx(Y);
        E.bindTexture(E.TEXTURE_2D, h.$Q);
        E.copyTexSubImage2D(E.TEXTURE_2D, 0, I.x - q.x, I.y - q.y, I.x - S.x, I.y - S.y, I.d, I.v)
    }
        ;
    Q.BG = function (G, Y, S) {
        var h = Q.mr[G];
        if (h == null || h.d != Y || h.v != S) {
            if (h)
                h.delete();
            h = new Q.ho(Y, S)
        }
        Q.mr[G] = h;
        return h
    }
        ;
    Q.mr = [];
    Q.nJ = function () {
        this.Z3 = null;
        this.va = null
    }
        ;
    Q.nJ.yF = null;
    Q.nJ.prototype.ev = function (Y) {
        if (this.va)
            return;
        this.va = {};
        var S = Q.Jd
            , h = this.Z3
            , q = this.va;
        for (var G = 0; G < Y.length; G++) {
            var H = Y[G];
            q[H] = S.getUniformLocation(h, H)
        }
    }
        ;
    Q.nJ.prototype.z6 = function () { }
        ;
    Q.nJ.prototype.GH = function (Y) {
        var S = Q.Jd;
        for (var G = 0; G < Y.length; G += 2) {
            S.uniform1i(Y[G], G >>> 1);
            S.activeTexture(S["TEXTURE" + (G >>> 1)]);
            S.bindTexture(S.TEXTURE_2D, Y[G + 1])
        }
        S.activeTexture(S.TEXTURE0)
    }
        ;
    Q.nJ.prototype.Hk = function (Y, S) {
        var h = Q.Jd
            , q = h.createShader(h.FRAGMENT_SHADER);
        h.shaderSource(q, Y);
        h.compileShader(q);
        if (!h.getShaderParameter(q, h.COMPILE_STATUS))
            console.log(h.getShaderInfoLog(q));
        var H = h.createShader(h.VERTEX_SHADER);
        h.shaderSource(H, S);
        h.compileShader(H);
        if (!h.getShaderParameter(H, h.COMPILE_STATUS))
            console.log(h.getShaderInfoLog(H));
        var I = h.createProgram();
        h.attachShader(I, H);
        h.attachShader(I, q);
        h.linkProgram(I);
        if (!h.getProgramParameter(I, h.LINK_STATUS))
            console.log("Could not initialise shaders");
        this.Z3 = I
    }
        ;
    Q.nJ.prototype.Bh = function () {
        if (Q.nJ.yF != this) {
            Q.Jd.useProgram(this.Z3);
            Q.nJ.yF = this
        }
    }
        ;
    Q.tn = function (Y, S) {
        Q.xP++;
        Q.eQ += Y * S;
        if (Q.gK)
            console.log("GL.Channels instances: " + Q.xP + ", memory: " + Q.eQ);
        var h = Q.Jd;
        this.d = Y;
        this.v = S;
        this.$Q = h.createTexture();
        this.we = null;
        this.bH(this.$Q, Y, S)
    }
        ;
    Q.tn.prototype.bH = function (Y, S, h) {
        var q = Q.Jd;
        q.bindTexture(q.TEXTURE_2D, Y);
        q.texParameteri(q.TEXTURE_2D, q.TEXTURE_MIN_FILTER, q.NEAREST);
        q.texParameteri(q.TEXTURE_2D, q.TEXTURE_MAG_FILTER, q.NEAREST);
        q.texParameteri(q.TEXTURE_2D, q.TEXTURE_WRAP_S, q.CLAMP_TO_EDGE);
        q.texParameteri(q.TEXTURE_2D, q.TEXTURE_WRAP_T, q.CLAMP_TO_EDGE);
        q.texImage2D(q.TEXTURE_2D, 0, q.ALPHA, S, h, 0, q.ALPHA, q.UNSIGNED_BYTE, null)
    }
        ;
    Q.tn.prototype.set = function (Y) {
        var S = Q.Jd;
        S.bindTexture(S.TEXTURE_2D, this.$Q);
        S.pixelStorei(S.UNPACK_ALIGNMENT, 1);
        S.texImage2D(S.TEXTURE_2D, 0, S.ALPHA, this.d, this.v, 0, S.ALPHA, S.UNSIGNED_BYTE, Y);
        S.pixelStorei(S.UNPACK_ALIGNMENT, 4)
    }
        ;
    Q.tn.prototype.delete = function () {
        var Y = Q.Jd;
        if (this.$Q) {
            Y.deleteTexture(this.$Q);
            Q.xP--;
            Q.eQ -= this.d * this.v
        }
        if (Q.gK)
            if (Q.gK)
                console.log("GL.Channels instances: " + Q.xP + ", memory: " + Q.eQ * 4)
    }
        ;
    Q.xP = 0;
    Q.ho = function (Y, S, h) {
        if (h == null)
            h = !1;
        Q.xP++;
        Q.eQ += Y * S * 4;
        if (Q.gK)
            console.log("GL.Channels instances: " + Q.xP + ", memory: " + Q.eQ);
        var q = Q.Jd;
        this.aky = h;
        this.d = Y;
        this.v = S;
        this.$Q = q.createTexture();
        this.we = null;
        this.bH(this.$Q, Y, S)
    }
        ;
    Q.ho.prototype.set = function (Y, S) {
        var h = Q.Jd;
        h.disable(h.SCISSOR_TEST);
        h.bindTexture(h.TEXTURE_2D, this.$Q);
        if (Y == null || Y instanceof Uint8Array) {
            var q = this.d * this.v;
            if (S == null || S.e() * 10 > q)
                h.texImage2D(h.TEXTURE_2D, 0, h.RGBA, this.d, this.v, 0, h.RGBA, h.UNSIGNED_BYTE, Y);
            else {
                var H = t.m(S.e() * 4);
                t.rd(Y, new W(0, 0, this.d, this.v), H, S);
                h.texSubImage2D(h.TEXTURE_2D, 0, S.x, S.y, S.d, S.v, h.RGBA, h.UNSIGNED_BYTE, H)
            }
        } else
            h.texImage2D(h.TEXTURE_2D, 0, h.RGBA, h.RGBA, h.UNSIGNED_BYTE, Y)
    }
        ;
    Q.ho.prototype.get = function (Y) {
        var S = Q.Jd;
        Q.Mx(this);
        S.readPixels(0, 0, this.d, this.v, S.RGBA, S.UNSIGNED_BYTE, Y)
    }
        ;
    Q.ho.prototype.Pd = function (Y) {
        if (Y.fa())
            return;
        var S = Q.Jd;
        if (this.we == null) {
            this.we = S.createTexture();
            this.bH(this.we, this.d, this.v);
            Q.xP++;
            Q.eQ += this.d * this.v * 4
        }
        S.bindFramebuffer(S.FRAMEBUFFER, Q.K4);
        S.bindTexture(S.TEXTURE_2D, this.we);
        if (Y) {
            var h = Math.max(Y.x, 0)
                , q = Math.max(Y.y, 0);
            S.copyTexSubImage2D(S.TEXTURE_2D, 0, h, q, h, q, Y.d, Y.v)
        } else
            S.copyTexImage2D(S.TEXTURE_2D, 0, S.RGBA, 0, 0, this.d, this.v, 0)
    }
        ;
    Q.ho.prototype.bH = function (Y, S, h) {
        var q = Q.Jd;
        q.bindTexture(q.TEXTURE_2D, Y);
        q.texParameteri(q.TEXTURE_2D, q.TEXTURE_MIN_FILTER, this.aky ? q.LINEAR : q.NEAREST);
        q.texParameteri(q.TEXTURE_2D, q.TEXTURE_MAG_FILTER, q.NEAREST);
        q.texParameteri(q.TEXTURE_2D, q.TEXTURE_WRAP_S, q.CLAMP_TO_EDGE);
        q.texParameteri(q.TEXTURE_2D, q.TEXTURE_WRAP_T, q.CLAMP_TO_EDGE);
        q.texImage2D(q.TEXTURE_2D, 0, q.RGBA, S, h, 0, q.RGBA, q.UNSIGNED_BYTE, null)
    }
        ;
    Q.ho.prototype.delete = function () {
        var Y = Q.Jd;
        if (this.$Q) {
            Y.deleteTexture(this.$Q);
            Q.xP--;
            Q.eQ -= this.d * this.v * 4
        }
        if (this.we) {
            Y.deleteTexture(this.we);
            Q.xP--;
            Q.eQ -= this.d * this.v * 4
        }
        if (Q.gK)
            if (Q.gK)
                console.log("GL.Channels instances: " + Q.xP + ", memory: " + Q.eQ)
    }
        ;
    Q.ho.prototype.clone = function () {
        var Y = Q.Jd
            , S = new Q.ho(this.d, this.v);
        Q.Mx(this);
        Y.bindTexture(Y.TEXTURE_2D, S.$Q);
        Y.copyTexImage2D(Y.TEXTURE_2D, 0, Y.RGBA, 0, 0, this.d, this.v, 0);
        return S
    }
        ;
    Q.S$ = {
        ano: "  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",
        a7w: "  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",
        QY: "const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",
        KF: " float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",
        uo: " float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",
        eP: "float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",
        s4: "float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",
        My: "vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",
        a9p: "float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",
        I4: "vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",
        a5a: "vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",
        VU: "vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",
        Ot: "bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",
        hash: "float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",
        kX: "vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",
        Uf: "vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",
        Dv: "float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",
        Yl: "vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",
        im: "vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",
        XT: "\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",
        ls: "\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn mi<0.0?0.0:(mi>1.0?1.0:mi);\t\t}"
    };
    Q.xE = {
        hG: {},
        Fw: "\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"
    };
    Q.xE.OG = function (Y, S) {
        var h = dD.ny
            , q = [h.R1, h.l0, h.IK, h.Ti, h.hF, h.RM, h.H_, h.qC].indexOf(Y.type)
            , H = Q.xE.hG[Y.type];
        if (H == null)
            H = Q.xE.hG[Y.type] = new Q.hG[q];
        H.Bh();
        H.z6(S, Y);
        Q.Jd.drawArrays(Q.Jd.TRIANGLES, 0, 6)
    }
        ;
    Q.hG = [];
    Q.hG[0] = function () {
        Q.nJ.call(this);
        this.Ud = {};
        var Y = "\t\t\tprecision mediump float;\t\t\t" + Q.S$.s4 + "\t\t\t" + Q.S$.QY + "\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
        this.Hk(Y, Q.xE.Fw)
    }
        ;
    Q.hG[0].prototype = new Q.nJ;
    Q.hG[0].prototype.z6 = function (Y, S) {
        var h = {
            h: S.gL,
            l: S.fK,
            O: S.D4,
            R: t.m(S.gL.length)
        }
            , q = h.h.length;
        if (this.Ud["m" + q] == null) {
            this.Ud["m" + q] = {
                a0m: new Q.ho(q, 1),
                nP: t.m(q * 4)
            }
        }
        var H = this.Ud["m" + q];
        t.in(h, H.nP, 0);
        var I = H.a0m;
        I.set(H.nP);
        this.ev(["source", "map", "toGray", "presLum"]);
        var E = Q.Jd
            , d = this.va;
        E.uniform1f(d.toGray, S.uB ? 1 : 0);
        E.uniform1f(d.presLum, S.EK ? 1 : 0);
        this.GH([d.source, Y, d.map, I.$Q])
    }
        ;
    Q.hG[1] = function () {
        Q.nJ.call(this);
        this.anN = new Q.ho(256, 1);
        this.a7N = t.m(256 * 4);
        var Y = "\t\t\t\tprecision mediump float;\t\t\t\t" + Q.S$.Dv + "\t\t\t\t" + Q.S$.kX + "\t\t\t\t" + Q.S$.Uf + "\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
        this.Hk(Y, Q.xE.Fw)
    }
        ;
    Q.hG[1].prototype = new Q.nJ;
    Q.hG[1].prototype.z6 = function (Y, S) {
        t.in({
            h: S.a1Z,
            l: S.Zo,
            O: S.ao1,
            R: t.m(256)
        }, this.a7N);
        this.anN.set(this.a7N);
        this.ev(["source", "map", "cfa", "cfb", "colorize"]);
        var h = Q.Jd
            , q = this.va;
        h.uniform1f(q.cfa, S.a73);
        h.uniform1f(q.cfb, S.M8);
        h.uniform1i(q.colorize, S.anC);
        this.GH([q.source, Y, q.map, this.anN.$Q])
    }
        ;
    Q.hG[2] = function () {
        Q.nJ.call(this);
        var Y = "\t\t\tprecision mediump float;\t\t\t" + Q.S$.Dv + "\t\t\t" + Q.S$.Yl + "\t\t\t" + Q.S$.im + "\t\t\t" + Q.S$.kX + "\t\t\t" + Q.S$.Uf + "\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 hsl = rgbToHsv(src.rgb); \t\t\t\tfloat h=hsl.r, s=hsl.g, l=hsl.b; \t\t\t\t\t\t\t\tfloat sk0 = 0.0, sk1 = 45.0/360.0; \t\t\t\tfloat skin = (h<sk1) ? cos((PI/2.0)*(h-sk1/2.0)/(sk1/2.0)) : 0.0; \t\t\t\t\t\t\t\ts = s + 0.2 * (1.0-0.4*skin) * vib * max(0.0, sin(s*PI)); \t\t\t\t\t\t\t\ts = s * (1.0 + sat); \t\t\t\t\t\t\t\ts = max(0.0, min(1.0, s));\t\t\t\tsrc.rgb = hsvToRgb(h,s,l);\t\t\t\tgl_FragColor = vec4(src.rgb,src.w); \t\t\t\t\t\t\t}";
        this.Hk(Y, Q.xE.Fw)
    }
        ;
    Q.hG[2].prototype = new Q.nJ;
    Q.hG[2].prototype.z6 = function (Y, S) {
        this.ev(["source", "vib", "sat"]);
        var h = Q.Jd
            , q = this.va;
        h.uniform1f(q.vib, S.go[0] / 100);
        h.uniform1f(q.sat, S.go[1] / 100);
        this.GH([q.source, Y])
    }
        ;
    Q.hG[3] = function () {
        Q.nJ.call(this);
        var Y = "\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
        this.Hk(Y, Q.xE.Fw)
    }
        ;
    Q.hG[3].prototype = new Q.nJ;
    Q.hG[3].prototype.z6 = function (Y, S) {
        this.ev(["source", "trf"]);
        var h = Q.Jd
            , q = this.va;
        h.uniformMatrix4fv(q.trf, !1, new Float32Array(t.eC.N6(S.cu)));
        this.GH([q.source, Y])
    }
        ;
    Q.hG[4] = function () {
        Q.nJ.call(this);
        var Y = "\t\t\tprecision mediump float; \t\t\t" + Q.S$.XT + "\t\t\t" + Q.S$.Dv + "\t\t\t" + Q.S$.Uf + "\t\t\t" + Q.S$.kX + "\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+scl*shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + scl*shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + scl*shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
        this.Hk(Y, Q.xE.Fw)
    }
        ;
    Q.hG[4].prototype = new Q.nJ;
    Q.hG[4].prototype.z6 = function (Y, S) {
        this.ev(["source", "mnm", "mxm", "shift", "lim"]);
        var h = Q.Jd
            , q = this.va;
        h.uniform3fv(q.mnm, new Float32Array(S.wV));
        h.uniform3fv(q.mxm, new Float32Array(S.br));
        h.uniform3fv(q.shift, new Float32Array(S.shift));
        h.uniform1f(q.lim, S.kb);
        this.GH([q.source, Y])
    }
        ;
    Q.hG[5] = function () {
        Q.nJ.call(this);
        var Y = "\t\t\tprecision mediump float;\t\t\t" + Q.S$.QY + "\t\t\t" + Q.S$.KF + "\t\t\t" + Q.S$.uo + "\t\t\t" + Q.S$.kX + "\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
        this.Hk(Y, Q.xE.Fw)
    }
        ;
    Q.hG[5].prototype = new Q.nJ;
    Q.hG[5].prototype.z6 = function (Y, S) {
        this.ev(["source", "cfs"]);
        var h = Q.Jd
            , q = this.va;
        h.uniform3fv(q.cfs, S.j2);
        this.GH([q.source, Y])
    }
        ;
    Q.hG[6] = function () {
        Q.nJ.call(this);
        var Y = "\t\t\tprecision mediump float;\t\t\t" + Q.S$.Dv + "\t\t\t" + Q.S$.KF + "\t\t\t" + Q.S$.uo + "\t\t\t" + Q.S$.kX + "\t\t\t" + Q.S$.Uf + "\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
        this.Hk(Y, Q.xE.Fw)
    }
        ;
    Q.hG[6].prototype = new Q.nJ;
    Q.hG[6].prototype.z6 = function (Y, S) {
        this.ev(["source", "wght", "prms"]);
        var h = Q.Jd
            , q = this.va
            , H = [S.xD, S.ai_, S.s4, S.aeh, S.FO, S.a7i];
        h.uniform1fv(q.wght, new Float32Array(S.a7l));
        h.uniform1fv(q.prms, new Float32Array(H));
        this.GH([q.source, Y])
    }
        ;
    Q.hG[7] = function () {
        Q.nJ.call(this);
        this.BE = {};
        var Y = "\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tfloat iN = 1.0/N; \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
        this.Hk(Y, Q.xE.Fw)
    }
        ;
    Q.hG[7].prototype = new Q.nJ;
    Q.hG[7].prototype.z6 = function (Y, S) {
        this.ev(["source", "lut", "N"]);
        var h = Q.Jd
            , q = this.va
            , H = S.n9
            , I = S.kQ;
        if (this.BE["m" + H] == null)
            this.BE["m" + H] = new Q.ho(H, H * H);
        var E = this.BE["m" + H];
        E.set(I);
        h.uniform1f(q.N, H);
        this.GH([q.source, Y, q.lut, E.$Q]);
        h.activeTexture(h.TEXTURE1);
        var d = h.LINEAR;
        h.texParameteri(h.TEXTURE_2D, h.TEXTURE_MIN_FILTER, d);
        h.texParameteri(h.TEXTURE_2D, h.TEXTURE_MAG_FILTER, d);
        h.activeTexture(h.TEXTURE0)
    }
        ;
    Q.filter = {
        tm: {},
        Fw: "1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",
        HQ: 0,
        WC: 1,
        YE: 2,
        KG: 3
    };
    Q.filter.OG = function (Y, S) {
        var h = Q.filter
            , q = [h.HQ, h.WC, h.YE, h.KG].indexOf(Y.type)
            , H = Q.filter.tm[Y.type];
        if (H == null)
            H = Q.filter.tm[Y.type] = new Q.tm[q];
        H.Bh();
        H.z6(S, Y);
        Q.Jd.drawArrays(Q.Jd.TRIANGLES, 0, 6)
    }
        ;
    Q.tm = [0, 0, 0, 0, 0, 0, 0];
    Q.tm[3] = function () {
        Q.nJ.call(this);
        var Y = "1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
        this.Hk(P.Iq(Y), P.Iq(Q.filter.Fw))
    }
        ;
    Q.tm[3].prototype = new Q.nJ;
    Q.tm[3].prototype.z6 = function (Y, S) {
        this.ev("source iwh tdep rrad spec nois poly0 poly1".split(" "));
        var h = Q.Jd
            , q = this.va;
        h.uniform2fv(q.iwh, S.LD);
        h.uniform1f(q.tdep, S.abK);
        h.uniform1f(q.rrad, S.am6);
        h.uniform2fv(q.spec, S.a6r);
        h.uniform3fv(q.nois, S.abB);
        h.uniformMatrix4fv(q.poly0, !1, S.a6S);
        h.uniformMatrix4fv(q.poly1, !1, S.ag6);
        this.GH([q.source, Y]);
        var H = h.LINEAR;
        h.activeTexture(h.TEXTURE0);
        h.texParameteri(h.TEXTURE_2D, h.TEXTURE_MIN_FILTER, H);
        h.texParameteri(h.TEXTURE_2D, h.TEXTURE_MAG_FILTER, H);
        h.activeTexture(h.TEXTURE0)
    }
        ;
    Q.tm[0] = function () {
        Q.nJ.call(this);
        var Y = "1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
        this.Hk(P.Iq(Y), P.Iq(Q.filter.Fw))
    }
        ;
    Q.tm[0].prototype = new Q.nJ;
    Q.tm[0].prototype.z6 = function (Y, S) {
        this.ev(["source", "iwh", "ld", "shine"]);
        var h = Q.Jd
            , q = this.va;
        h.uniform2fv(q.iwh, S.LD);
        h.uniform3fv(q.ld, S.a4g);
        h.uniform1f(q.shine, S.akT);
        this.GH([q.source, Y, q.tang, S.D7])
    }
        ;
    Q.tm[1] = function () {
        Q.nJ.call(this);
        var Y = "1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
        this.Hk(P.Iq(Y), P.Iq(Q.filter.Fw))
    }
        ;
    Q.tm[1].prototype = new Q.nJ;
    Q.tm[1].prototype.z6 = function (Y, S) {
        this.ev(["source", "iwh", "isc", "bristle"]);
        var h = Q.Jd
            , q = this.va;
        h.uniform2fv(q.iwh, S.LD);
        h.uniform1f(q.isc, S.a7L);
        h.uniform1f(q.bristle, S.al4);
        this.GH([q.source, Y])
    }
        ;
    Q.tm[2] = function () {
        Q.nJ.call(this);
        var Y = "1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
        this.Hk(P.Iq(Y), P.Iq(Q.filter.Fw))
    }
        ;
    Q.tm[2].prototype = new Q.nJ;
    Q.tm[2].prototype.z6 = function (Y, S) {
        this.ev(["source", "tang", "iwh", "sigma", "expo"]);
        var h = Q.Jd
            , q = this.va;
        h.uniform2fv(q.iwh, S.LD);
        h.uniform1f(q.sigma, S.a6C);
        h.uniform1f(q.expo, S.aly);
        this.GH([q.source, Y, q.tang, S.D7]);
        var H = h.LINEAR;
        h.activeTexture(h.TEXTURE0);
        h.texParameteri(h.TEXTURE_2D, h.TEXTURE_MIN_FILTER, H);
        h.texParameteri(h.TEXTURE_2D, h.TEXTURE_MAG_FILTER, H);
        h.activeTexture(h.TEXTURE0)
    }
        ;
    Q.Q = {};
    Q.Q.CN = {};
    Q.Q.Wn = null;
    Q.Q.fw = null;
    Q.Q.Qk = null;
    Q.Q.Nz = function (Y, S, h, q, H, I, E, d) {
        if (d == null)
            d = av.$N();
        if ("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(Y) == -1) {
            E = E * d.fill;
            d.fill = 1;
            d.style = !1
        }
        var B = Y + (d.$P ? "1" : "");
        if (Q.Q.CN[B] == null)
            Q.Q.CN[B] = new Q.Q.F$(Y, d.$P != null);
        var n = Q.Q.CN[B]
            , g = h.lF(H).lF(I);
        g.offset(-H.x, -H.y);
        if (g.fa())
            return;
        var z = Q.Jd;
        Q.Mx(q, g);
        q.Pd(g);
        n.Bh();
        n.z6(S.$Q, q.we, Q.fB(h, H), E, d.fill, d.style ? 1 : 0, d.x6 ? 1 : 0, d.$P ? new Float32Array(d.$P) : null);
        z.drawArrays(z.TRIANGLES, 0, 6)
    }
        ;
    Q.Q.Bg = function (Y, S, h, q, H, I, E, d, B, n, g) {
        if (Q.Q.Wn == null)
            Q.Q.Wn = new Q.Q.AL(!0, !0);
        if (Q.Q.fw == null)
            Q.Q.fw = new Q.Q.AL(!0, !1);
        if (Q.Q.Qk == null)
            Q.Q.Qk = new Q.Q.AL(!1, !0);
        var z = n ? 1 : 0
            , p = Y ? H ? Q.Q.Wn : Q.Q.fw : Q.Q.Qk
            , C = new Float32Array(g ? [g[0], g[1], g[2], 1] : [1, 1, 1, 1])
            , T = S ? S.lF(q).lF(d) : q.lF(d);
        if (T.fa())
            return;
        T.offset(-q.x, -q.y);
        var A = Q.Jd;
        Q.Mx(h, T);
        h.Pd(T);
        p.Bh();
        if (Y == null)
            p.z6(null, h.we, H.$Q, Q.fB(q, q), Q.fB(I, q), E / 255, B, z, C);
        else if (H)
            p.z6(Y.$Q, h.we, H.$Q, Q.fB(S, q), Q.fB(I, q), E / 255, B, z, C);
        else
            p.z6(Y.$Q, h.we, null, Q.fB(S, q), null, E / 255, B, z, C);
        A.drawArrays(A.TRIANGLES, 0, 6)
    }
        ;
    Q.Q.a50 = function (Y, S, h) {
        if (Q.Q.ah$ == null)
            Q.Q.ah$ = new Q.Q.LU;
        var q = Q.Q.ah$
            , H = new W(0, 0, Y.d, Y.v)
            , I = Q.Jd;
        Q.Mx(S);
        S.Pd(H);
        q.Bh();
        q.z6(H, Y.$Q, S.we, h.$Q);
        I.drawArrays(I.TRIANGLES, 0, 6)
    }
        ;
    Q.Q.Hh = {
        norm: "return a;",
        diss: "return a;",
        dark: "return min(a,b);",
        "mul ": "return a*b;",
        idiv: "  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",
        lbrn: "return max(ZERO3, a*f+b-f);",
        dkCl: "return ( lum(a)<lum(b) ? a : b );",
        lite: "return max(a,b);",
        scrn: "return b+a-b*a;",
        "div ": "a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",
        lddg: "a*=f;  return min(ONE3,a+b);",
        lgCl: "return ( lum(a)>lum(b) ? a : b );",
        over: "return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",
        sLit: "return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",
        hLit: "return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",
        vLit: " return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",
        lLit: "return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",
        pLit: "return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",
        hMix: "if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",
        diff: "return abs(a*f-b);",
        smud: "return a+b-2.0*a*b;",
        fsub: "return max(b-a, ZERO3);",
        fdiv: "return min(b/a, ONE3);",
        "hue ": "return  setLum( setSat(a, sat(b)) , lum(b) ); ",
        "sat ": "return  setLum( setSat(b, sat(a)) , lum(b) ); ",
        colr: "return  setLum( a, lum(b) ); ",
        "lum ": "return  setLum( b, lum(a) ); "
    };
    Q.Q.F$ = function (Y, S) {
        Q.nJ.call(this);
        var h = "\t\t\tprecision mediump float;\t\t\t" + Q.S$.QY + "\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t" + (S ? "uniform vec4 blIf[10];" : "") + "\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t" + Q.S$.eP + "\t\t\t" + Q.S$.s4 + "\t\t\t" + Q.S$.My + "\t\t\t" + Q.S$.ano + "\t\t\t" + Q.S$.a7w + "\t\t\t" + Q.S$.a9p + "\t\t\t" + Q.S$.I4 + "\t\t\t" + Q.S$.a5a + "\t\t\t" + Q.S$.VU + "\t\t\t" + Q.S$.hash + "\t\t\t" + (S ? Q.S$.ls : "") + "\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { " + Q.Q.Hh[Y] + " } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);"
            , q = "\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
        if (Y == "diss")
            h += "\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
        else
            h += "  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t" + (S ? "  as*=blendIf(src,tgt,blIf);  " : "") + "\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
        this.Hk(h, q)
    }
        ;
    Q.Q.F$.prototype = new Q.nJ;
    Q.Q.F$.prototype.z6 = function (Y, S, h, q, H, I, E, d) {
        this.ev("srct alpha source target fill style keepBGA blIf".split(" "));
        var B = Q.Jd
            , n = this.va;
        B.uniform4fv(n.srct, h);
        B.uniform1f(n.alpha, q);
        B.uniform1f(n.fill, H);
        B.uniform1f(n.style, I);
        B.uniform1f(n.keepBGA, E);
        if (d)
            B.uniform4fv(n.blIf, d);
        this.GH([n.source, Y, n.target, S])
    }
        ;
    Q.Q.AL = function (Y, S) {
        Q.nJ.call(this);
        this.akC = Y;
        this.eJ = S;
        var h = "\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t" + Q.S$.Ot + "\t\t\t" + Q.S$.hash + "\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = " + (Y ? "texture2D(source, sCoord)" : "vec4(0.0)") + "; \t\t\t\tfloat wg = awg " + (S ? "* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)" : "") + ";\t\t\t\t" + (Y ? "" : "wg = 1.0-wg;") + "\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  " + (S ? "nc" : "cswitch*nc + (1.0- cswitch)*tgt") + ";    \t\t\t}"
            , q = "\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
        this.Hk(h, q)
    }
        ;
    Q.Q.AL.prototype = new Q.nJ;
    Q.Q.AL.prototype.z6 = function (Y, S, h, q, H, I, E, d, B) {
        if (this.eJ)
            this.ev("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
        else
            this.ev("srct awg dissv source target cswitch".split(" "));
        var n = Q.Jd
            , g = this.va;
        n.uniform4fv(g.srct, q);
        if (this.eJ) {
            n.uniform4fv(g.wrct, H);
            n.uniform1f(g.wcolor, I)
        } else {
            n.uniform4fv(g.cswitch, B)
        }
        n.uniform1f(g.awg, E);
        n.uniform1f(g.dissv, d);
        var z = [g.source, Y, g.target, S];
        if (this.eJ)
            z.push(g.weight, h);
        this.GH(z)
    }
        ;
    Q.Q.LU = function () {
        Q.nJ.call(this);
        var Y = "\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}"
            , S = "\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
        this.Hk(Y, S)
    }
        ;
    Q.Q.LU.prototype = new Q.nJ;
    Q.Q.LU.prototype.z6 = function (Y, S, h, q) {
        this.ev(["rct", "prev", "next", "alpha"]);
        var H = Q.Jd
            , I = this.va;
        H.uniform4fv(I.rct, [0, 0, 1, 1]);
        this.GH([I.prev, S, I.next, h, I.alpha, q])
    }
        ;
    var U = {};
    U.Il = function (Y, S, h) {
        this.name = Y;
        this.id = S;
        this.Su = null;
        if (h != null)
            this.tp = h
    }
        ;
    U.Il.prototype.ON = function (Y, S, h, q, H) { }
        ;
    U.Il.prototype.enable = function (Y, S, h, q, H, I) {
        var E = new _(P.E.P, !0);
        E.data = {
            X: P.U.t6,
            WX: "default"
        };
        S.B(E)
    }
        ;
    U.Il.prototype.disable = function (Y, S, h, q, H) { }
        ;
    U.Il.prototype.p6 = function (Y, S, h, q, H) {
        return !1
    }
        ;
    U.Il.prototype.FF = function (Y, S, h, q, H) { }
        ;
    U.Il.prototype.II = function (Y, S, h, q, H) { }
        ;
    U.Il.prototype.vr = function (Y, S, h, q, H) { }
        ;
    U.Il.prototype.mi = function (Y, S, h, q, H) { }
        ;
    U.Il.prototype.dP = function (Y, S, h, q, H) { }
        ;
    U.Il.prototype.jL = function (Y, S, h, q) { }
        ;
    U.Il.prototype.vJ = function (Y, S, h, q) { }
        ;
    U.Il.prototype.RV = function (Y, S) { }
        ;
    U.Il.prototype.Td = function (Y, S) { }
        ;
    U.Il.prototype.yg = function (Y, S, h, q, H) { }
        ;
    U.Il.prototype.rJ = function (Y, S) { }
        ;
    U.Il.prototype.E8 = function (Y, S) {
        return !1
    }
        ;
    U.Il.prototype.Cj = function (Y, S) {
        return !1
    }
        ;
    U.Il.prototype.VD = function () {
        return !1
    }
        ;
    U.Il.prototype.BK = function (Y, S) {
        return !0
    }
        ;
    U.Il.prototype.Mz = function () {
        return null
    }
        ;
    U.Il.prototype.YC = function (Y, S, h) { }
        ;
    U.Il.prototype.cq = function () {
        return !1
    }
        ;
    U.Il.prototype.Gr = function (Y, S, h, q) { }
        ;
    U.Il.prototype.track = function (Y) {
        var S = new _(P.E.$_, !0);
        S.data = Y;
        Y.Zz = !0;
        this.Su.B(S)
    }
        ;
    U.Il.Qe = function (Y, S, h, q, H) {
        U.Il.ya(Y, S, [gx.get([12, 41]).charAt(0) + ": " + t.n1.qZ(h.d, q.PW, H, q.d, !0), gx.get([12, 42]).charAt(0) + ": " + t.n1.qZ(h.v, q.PW, H, q.v, !0)], q)
    }
        ;
    U.Il.ya = function (Y, S, h, q) {
        var H = 14
            , I = 130
            , E = h.length * 17 + 8
            , d = new W(Y, S - E, I, E)
            , B = U.Il.$d;
        if (B == null)
            B = U.Il.$d = document.createElement("canvas");
        B.width = I;
        B.height = E;
        var n = B.getContext("2d");
        n.fillStyle = "rgba(0,0,1,1)";
        n.fillRect(0, 0, I, E);
        n.font = H + "px monospace";
        n.fillStyle = "rgba(255,255,255,1)";
        for (var G = 0; G < h.length; G++)
            n.fillText(h[G], 6, (G + 1) * 17);
        q.K.NS = [[n.getImageData(0, 0, I, E).data, d.clone()]]
    }
        ;
    U.Il.$d = null;
    U.Vg = "0";
    U.n5 = "1";
    U.al_ = "2";
    U.a4X = "3";
    U.U5 = "5";
    U.a2F = "6";
    U.a8v = "7";
    U.UT = "8";
    U.gi = "9";
    U._G = "10";
    U.ty = "11";
    U.dh = "12";
    U.KZ = "13";
    U.J$ = "14";
    U.a2E = "16";
    U.V8 = "18";
    U.En = "19";
    U.XB = "20";
    U.DW = "21";
    U.y6 = "22";
    U.e8 = "23";
    U.Rd = "24";
    U.Eu = "25";
    U.n2 = "27";
    U.cc = "31";
    U.abJ = "32";
    U.agK = "34";
    U.afi = "35";
    U.XP = "36";
    U.oT = "37";
    U.eZ = "38";
    U.q1 = "39";
    U._4 = "40";
    U.zt = "41";
    U.T3 = "42";
    U.Mh = "43";
    U.bk = "47";
    U.qL = "51";
    U.Hy = "52";
    U.SQ = "54";
    U.Wk = "55";
    U.x0 = "56";
    U.Wz = "57";
    U.dF = "58";
    U.fN = "59";
    U.a4k = "60";
    U.nf = "61";
    U.Fz = "100";
    U.P_ = "101";
    U.rp = "102";
    U.nY = "120";
    U.dk = "230";
    U.a7f = "231";
    U.Sb = "232";
    U.GC = "233";
    U.lc = "234";
    U.J_ = "235";
    U.dN = "236";
    U.C5 = function (Y) {
        var S = U.Rs
            , h = null;
        for (var q in S)
            if (S[q][1].indexOf(Y[1].classID) != -1)
                h = q;
        return h
    }
        ;
    U.Rs = {};
    U.Rs[U.e8] = ["tools/brush", ["PbTl"]];
    U.Rs[U.Rd] = ["tools/pencil", ["PcTl"]];
    U.Rs[U.cc] = ["tools/eraser", ["ErTl"]];
    U.NJ = function (Y, S, h) {
        U.Il.call(this, Y, S, h);
        this.V6 = {
            brush: Y ? gk.CG() : null,
            bmode: "norm",
            opacity: 1,
            flow: 1,
            smth: 0,
            samp: 0,
            prsr: [!1, !0],
            emode: 0,
            wconf: [40, !0, !0],
            algnd: !1,
            sfrom: 0,
            alt: [!1],
            expo: .5,
            rng: 1,
            strn: .5,
            pdetail: !0,
            smode: 1,
            qsmode: 0,
            setop: "front",
            patch: 0
        };
        this.it = null;
        this.I$ = null;
        this.Ju = null;
        this.Hx = null;
        this.X2 = null;
        this.x9 = null;
        this.u$ = null;
        this.AG = null;
        this.nN = null;
        this.H7 = null;
        this.ry = null;
        this.eB = null;
        this.ez = null;
        this.Tm = 1;
        this.T6 = !1;
        this.rv = null;
        this.caller = null
    }
        ;
    U.NJ.prototype = new U.Il;
    U.NJ.prototype.Cj = function (Y, S) {
        return Y.gk && S.q(F.aY)
    }
        ;
    U.NJ.prototype.II = function (Y, S, h, q, H) {
        if (q.q(F.Gs)) {
            this.x9 = new aV(H.x, H.y);
            var I = this.V6.brush.Brsh.v
                , E = I.Dmtr.v.val
                , d = I.Hrdn != null ? I.Hrdn.v.val : -1;
            this.u$ = [E, d, !0, JSON.parse(JSON.stringify(this.V6.brush)), H];
            this.XS(h)
        }
    }
        ;
    U.NJ.prototype.ss = function (Y, S, h) {
        var q = this.u$
            , H = Y.z.S
            , I = h.x - q[4].x
            , E = h.y - q[4].y
            , d = q[0]
            , B = q[1]
            , n = Math.abs(I) > Math.abs(E);
        if (n && q[2]) {
            var g = Math.round(2 * I / H);
            d += g;
            h.x -= I - .5 * g * H
        }
        if (!n && !q[2] && B != -1) {
            var g = Math.round(.25 * E);
            B += g;
            h.y -= E - 4 * g
        }
        d = Math.max(1, d);
        B = q[1] == -1 ? -1 : Math.max(0, Math.min(100, B));
        var z = q[3];
        z.Brsh.v.Dmtr.v.val = d;
        if (B != -1)
            z.Brsh.v.Hrdn.v.val = B;
        this.u$ = [d, B, n, z, h];
        var p = fU.TC(z, S.Ly.r0, H)
            , C = p[1];
        C.x = Math.round(this.x9.x - C.d / 2);
        C.y = Math.round(this.x9.y - C.v / 2);
        Y.K.nS = [p];
        var T = Y.z.vl(this.x9.x, this.x9.y);
        Y.K.mC = {
            HJ: [],
            k4: [T.x - d / 2, T.y, T.x + d / 2, T.y]
        };
        if (B != -1)
            Y.K.mC.k4.push(T.x + 50 / H, T.y - B / 2, T.x + 50 / H, T.y + B / 2);
        Y.Yw = !0
    }
        ;
    U.NJ.prototype.dP = function (Y, S, h, q, H) {
        if (this.id == U.XB)
            return;
        if (this.x9) {
            this.x9 = null;
            this.mj(JSON.parse(JSON.stringify(this.u$[3])));
            Y.K.nS = [];
            Y.K.mC = null;
            Y.Yw = !0;
            return
        }
        var I = new _(P.E.P, !0);
        I.data = {
            X: P.U.tS,
            F: this.id,
            aiv: "showBrushOpts",
            VZ: new aV(H.q5 + 4, H.sZ)
        };
        S.B(I)
    }
        ;
    U.NJ.prototype.mj = function (Y) {
        var S = new _(P.E.P, !0);
        S.data = {
            X: P.U.PD,
            go: iD.Zl,
            t7: Y
        };
        this.caller.B(S)
    }
        ;
    U.NJ.kx = function (Y, S, h, q) {
        if (Y == null)
            Y = "FrgC";
        if (S == null)
            S = "norm";
        if (h == null)
            h = 1;
        var H = {
            classID: "Fl",
            Usng: {
                t: "enum",
                v: {
                    FlCn: Y
                }
            },
            Opct: {
                t: "UntF",
                v: {
                    type: "#Prc",
                    val: Math.round(h * 100)
                }
            },
            Md: {
                t: "enum",
                v: {
                    BlnM: iS.zw(S)
                }
            }
        };
        if (Y == "Clr")
            H.Clr = {
                t: "Objc",
                v: q
            };
        if (Y == "contentAware")
            H.contentAwareColorAdaptationFill = {
                t: "bool",
                v: !0
            };
        return {
            f0: "fill",
            Jz: H
        }
    }
        ;
    U.NJ.prototype.ON = function (Y, S, h, q, H) {
        this.Su = S;
        var I = h.AN.length;
        if (I == 0 && !h.gH())
            return;
        var E = I != 0 ? -1 - h.AN[0] : h.C[0]
            , d = h.t[E];
        if (Y.X == "fromAction") {
            var B = Y.gM
                , n = B.Jz;
            if (B.f0 == "fill") {
                var g = (n.Opct ? n.Opct.v.val : 100) / 100, z = n.Md ? iS.Gn(n.Md.v.BlnM) : "norm", p = n.Usng.v.FlCn, C;
                if (p == "contentAware") {
                    if (h.N == null) {
                        alert("Select an area to heal first.");
                        return
                    }
                    if (!h.gH())
                        return;
                    this.qX(h);
                    this.Aa(h, 0);
                    var T = h.N
                        , A = t.m(T.rect.e() * 4);
                    t.Vj(T.channel, A, 3);
                    this.td(h, "sheal", A, T.rect, T.rect);
                    this.s(h, T.rect);
                    this.finish(h, T.rect)
                } else {
                    if (p == "FrgC")
                        C = H.jy;
                    else if (p == "BckC")
                        C = H.E$;
                    else if (p == "Blck")
                        C = 0;
                    else if (p == "Wht")
                        C = 16777215;
                    else if (p == "Gry")
                        C = 8421504;
                    else if (p == "Clr") {
                        var i = t.W.cd(n.Clr.v);
                        C = i.h << 16 | i.l << 8 | i.O
                    }
                    var e = C >> 16 & 255
                        , a = C >> 8 & 255
                        , Z = C >> 0 & 255;
                    this.Zh(h, d, h.N, e, a, Z, Math.round(255 * g), z, [2, 3])
                }
            } else if (B.f0 == "delete") {
                var O = E < 0 ? 1 : d.wF, T = h.N, y;
                if (T == null)
                    return;
                var c = E < 0 ? h.h3[-E - 1] : O <= 0 ? null : O == 1 ? d.Qn() : d.$l(h).r
                    , s = O <= 0 ? d.rect : c.rect
                    , x = O <= 0 ? T.rect.lF(s) : T.rect.clone();
                if (x.fa())
                    return;
                var u = x.e();
                if (O <= 0) {
                    y = t.m(u * 4);
                    t.rd(d.buffer, d.rect, y, x)
                } else {
                    y = t.m(u);
                    c.extend(x);
                    t.m7(c.channel, c.rect, y, x)
                }
                if (0 <= E && d.eG(h, T)) {
                    if (O <= 0) {
                        t.A5(y, 0);
                        t.rd(d.LM.MK, d.LM.A$, y, x)
                    } else {
                        y.fill(255);
                        t.m7(d.LM.MK, d.LM.A$, y, x)
                    }
                } else {
                    if (O <= 0) {
                        var j = t.m(y.length >> 2);
                        t.Ft(y, j, 3);
                        t.Q.Oo(t.QO(T.rect.e()), T.rect, j, x, T.channel, x, 1);
                        t.Vj(j, y, 3)
                    } else {
                        var v = t.m(T.rect.e())
                            , e = H.E$ >>> 16 & 255
                            , a = H.E$ >> 8 & 255
                            , Z = H.E$ >> 0 & 255;
                        v.fill(Math.round(t.re(e, a, Z)));
                        t.Q.Oo(v, T.rect, y, x, T.channel, x, 1)
                    }
                }
                this.Wv(h, !0, [2, 2], E, O, x, y)
            }
        }
        if (Y.X == "stroke") {
            var X = Y.a4Z
                , T = h.N;
            if (T == null) {
                T = {
                    rect: d.rect.clone(),
                    channel: t.m(d.rect.e())
                };
                t.Ft(d.buffer, T.channel, 3)
            }
            var N = av.O$(X)
                , V = U.Q_.U0(T, Math.ceil(N[0]), Math.ceil(N[1]))
                , C = t.W.cd(X.Clr.v)
                , e = Math.round(C.h)
                , a = Math.round(C.l)
                , Z = Math.round(C.O);
            this.Zh(h, d, V, e, a, Z, Math.round(255 * X.Opct.v.val / 100), iS.Gn(X.Md.v.BlnM), [14, 9])
        }
        if (Y.X == "fillBMP") {
            this.pw(h, d, h.N, Y.yE, Y.D4, Y.vc)
        }
        if (Y.X == "draw") {
            var $ = Y.Iw
                , w = $.rect;
            this.qX(h);
            var m = h.t[h.C[0]];
            if (Y.amF && m && m.wF <= 0 && h.AN.length == 0) {
                w = cU.sC.KP($, h);
                m.buffer = $.buffer.slice(0);
                m.rect = w.clone()
            } else {
                var l = this.V6.bmode;
                this.V6.bmode = "norm";
                this.td(h, "draw", $.buffer, w, w.lF(new W(0, 0, h.d, h.v)));
                this.V6.bmode = l
            }
            this.s(h, w);
            h.Dn = !0;
            this.finish(h, w, Y.vc, Y.amF)
        }
    }
        ;
    U.NJ.prototype.Zh = function (Y, S, h, q, H, I, E, d, B) {
        var n = h == null ? new W(0, 0, Y.d, Y.v) : h.rect
            , g = E << 24 | I << 16 | H << 8 | q << 0
            , z = t.m(n.e() * 4);
        t.A5(z, g);
        this.pw(Y, S, h, z, d, B)
    }
        ;
    U.NJ.prototype.pw = function (Y, S, h, q, H, I) {
        var E = Y.AN.length != 0 ? -1 - Y.AN[0] : Y.C[0], d = E < 0 ? 1 : S.wF, B = E < 0 ? Y.h3[-1 - E] : d <= 0 ? null : d == 1 ? S.Qn() : S.$l(Y).r, n = d <= 0 ? S.rect : B.rect, g = h == null ? new W(0, 0, Y.d, Y.v) : h.rect, z = h == null ? t.p2(Y.d * Y.v) : h.channel, p = g.e(), C, T = null;
        if (d <= 0) {
            C = t.m(p * 4);
            t.rd(S.buffer, S.rect, C, g)
        } else {
            C = t.m(p);
            B.extend(g);
            t.m7(B.channel, B.rect, C, g)
        }
        if (h != null)
            t.gr(z, q);
        if (d > 0) {
            T = t.m(p);
            t.ei(q, T)
        }
        if (0 <= E && h && S.eG(Y, h)) {
            var A = S.LM.TB
                , i = S.LM.TB.slice(0);
            if (d <= 0)
                t.vx(q, i);
            else
                t.vx(T, i);
            var e = new fj([2, 3], this);
            e.data = {
                X: "drawtemp",
                $: Y.C[0],
                g8: d,
                akY: A,
                a4Y: i
            };
            Y._l(e);
            this.RV(e.data, Y)
        } else {
            if (d <= 0) {
                var a;
                if (S.Ag(0)) {
                    a = t.m(g.e());
                    t.Ft(C, a, 3)
                }
                t.Q.Bc(H, q, g, C, g, g, 1);
                if (S.Ag(0))
                    t.Vj(a, C, 3)
            } else
                t.Q.Oo(T, g, C, g, z, g, 1);
            this.Wv(Y, !0, I, E, d, g, C)
        }
    }
        ;
    U.NJ.prototype.E8 = function (Y) {
        if (F.oF.indexOf(Y) != -1)
            return !0;
        return !1
    }
        ;
    U.NJ.prototype.jL = function (Y, S, h, q) {
        var H = this.V6.brush
            , I = q.q(F.Gs)
            , E = I != this.T6
            , d = U.NJ.lL(H, q);
        if (d != null)
            this.mj(d);
        if (!q.q(F.EO) && q.Lh() != -1) {
            var B = P.d$(Math.round(this.V6.opacity * 100), q.Lh()) / 100;
            this.dy({
                opacity: B
            }, S)
        }
        if (this.id == U.UT && E && Y != null) {
            var n = this.V6.qsmode;
            if (n == 2)
                n = Y.N == null ? 0 : 1;
            else
                n = 2;
            this.dy({
                qsmode: n
            }, S)
        }
        this.T6 = I;
        if (E) {
            if (Y)
                this.Tm = Y.z.S;
            this.XS(h, q)
        }
    }
        ;
    U.NJ.lL = function (Y, S) {
        var h = Y.Brsh.v.Dmtr.v.val
            , q = Y.Brsh.v.Hrdn != null ? Y.Brsh.v.Hrdn.v.val : -1
            , H = h
            , I = q
            , E = S.q(F.aY);
        if (S.q(F.H5)) {
            if (E)
                q = 25 * Math.floor((q - 1) / 25);
            else {
                if (h <= 10)
                    h--;
                else if (h <= 50)
                    h = 5 * Math.floor((h - 1) / 5);
                else if (h <= 100)
                    h = 10 * Math.floor((h - 1) / 10);
                else if (h <= 200)
                    h = 25 * Math.floor((h - 1) / 25);
                else if (h <= 400)
                    h = 50 * Math.floor((h - 1) / 50);
                else
                    h = 100 * Math.floor((h - 1) / 100)
            }
        }
        if (S.q(F.st)) {
            if (E)
                q = 25 * Math.ceil((q + 1) / 25);
            else {
                if (h < 10)
                    h++;
                else if (h < 50)
                    h = 5 * Math.ceil((h + 1) / 5);
                else if (h < 100)
                    h = 10 * Math.ceil((h + 1) / 10);
                else if (h < 200)
                    h = 25 * Math.ceil((h + 1) / 25);
                else if (h < 400)
                    h = 50 * Math.ceil((h + 1) / 50);
                else
                    h = 100 * Math.ceil((h + 1) / 100)
            }
        }
        h = Math.max(1, h);
        q = Math.max(0, Math.min(100, q));
        if (I == -1)
            q = -1;
        if (h != H || q != I) {
            var d = JSON.parse(JSON.stringify(Y));
            d.Brsh.v.Dmtr.v.val = h;
            if (I != -1)
                d.Brsh.v.Hrdn.v.val = q;
            return d
        }
        return null
    }
        ;
    U.NJ.prototype.XS = function (Y, S, h, q) {
        if (Y.Ly.list.length == 0)
            return;
        var H = this.id, I;
        if ((H == U.n2 || H == U.En || H == U.e8 || H == U.Rd) && (S != null && S.q(F.Gs) || this.V6.alt[0]))
            I = "crosshair";
        else {
            var E = this.Tm
                , d = this.V6.brush;
            if ((H == U.n2 || H == U.En) && h && this.eB && this.eB.length == this.ry.e() * 4) {
                var B = h.z.vl(q.x, q.y), n = this.kM(B), g = this.eB, z = this.ry, p = new W(z.x + n.x, z.y + n.y, z.d, z.v), C = fU.TC(d, Y.Ly.r0, E), T = C[0], A = C[1], i = Math.ceil(A.d / E), e = new W(Math.round(B.x - i / 2), Math.round(B.y - i / 2), i, i), a = t.m(e.e() * 4), Z, O;
                t.rd(g, p, a, e);
                if (E == 1) {
                    Z = a;
                    O = e
                } else {
                    var c = new d5(E, 0, 0, E, 0, 0)
                        , s = U.o.dG([a, e], c, !0);
                    O = A.clone();
                    O.x = s.rect.x;
                    O.y = s.rect.y;
                    if (O.ma(s.rect))
                        Z = s.buffer;
                    else {
                        Z = t.m(O.e() * 4);
                        t.rd(s.buffer, s.rect, Z, O)
                    }
                }
                var x = this.V6.opacity / 255;
                for (var G = 0; G < Z.length; G += 4)
                    Z[G + 3] = x * (T[G + 3] * Z[G + 3]);
                I = {
                    Vi: Z,
                    _: O,
                    qy: new aV(O.d / 2, O.v / 2)
                }
            } else
                I = fU.by(d, Y.Ly.r0, E, H == U.Eu)
        }
        var u = new _(P.E.P, !0);
        u.data = {
            X: P.U.t6,
            WX: I
        };
        if (this.caller)
            this.caller.B(u)
    }
        ;
    U.NJ.prototype.enable = function (Y, S, h, q) {
        this.it = h;
        this.caller = S;
        this.mj(JSON.parse(JSON.stringify(this.V6.brush)));
        if (Y && Y.z.S != 0)
            this.Tm = Y.z.S;
        this.XS(h, q)
    }
        ;
    U.NJ.prototype.rJ = function (Y, S) {
        if (S == iD.Zl) {
            this.V6.brush = Y.Ly.jh;
            this.XS(Y)
        }
    }
        ;
    U.NJ.prototype.yg = function (Y, S, h, q, H) {
        for (var I in Y)
            this.V6[I] = Y[I];
        if (this.V6.alt[0])
            this.XS(H, q, h)
    }
        ;
    U.NJ.prototype.km = function (Y) {
        var S = Y.AN.length != 0 ? -1 - Y.AN[0] : Y.C[0]
            , h = Y.t[S]
            , q = S < 0 ? 1 : h.wF
            , H = S < 0 ? Y.h3[-S - 1] : q <= 0 ? null : q == 1 ? h.Qn() : h.$l(Y).r
            , I = H ? H.channel : h.buffer
            , E = (H ? H.rect : h.rect).clone();
        return [h, q, H, I, E]
    }
        ;
    U.NJ.prototype.qX = function (Y, S) {
        this.ez = Y.N == null ? null : {
            rect: Y.N.rect.clone(),
            channel: Y.N.channel.slice(0)
        };
        var h = this.km(Y)
            , q = h[0]
            , H = h[1]
            , I = h[2];
        this.H7 = h[3];
        this.nN = h[4];
        var E = new W(0, 0, Y.d, Y.v)
            , d = E.TG(this.nN);
        if ((this.$x() && H <= 0 || d.ma(this.nN)) && S != !0)
            this.H7 = this.H7.slice(0);
        else {
            if (I)
                I.extend(d);
            else
                q.extend(d)
        }
    }
        ;
    U.NJ.prototype.Aa = function (Y, S) {
        var h = this.km(Y)
            , q = h[1]
            , H = h[3]
            , I = h[4]
            , E = [H, I]
            , d = S != null ? S : this.V6.sfrom;
        if (q <= 0 && d != 0) {
            E[1] = new W(0, 0, Y.d, Y.v);
            E[0] = Y.Q3(d == 1 && Y.C[0] != Y.t.length - 1 ? Y.C[0] : null).slice(0)
        }
        this.ry = E[1].clone();
        this.eB = E[0].slice(0)
    }
        ;
    U.NJ.prototype.Od = function (Y, S, h) {
        if (Y.q(F.Gs)) {
            var q = new _(P.E.A, !0);
            q.F = U.J$;
            q.data = {
                X: "pickhere",
                aig: h
            };
            S.B(q);
            return !0
        }
        return !1
    }
        ;
    U.NJ.prototype.oC = function (Y, S, h, q, H, I) {
        if (!Y.gH(this.caller)) {
            this.I$ = null;
            return
        }
        this.qX(Y);
        var E = new W(0, 0, Y.d, Y.v)
            , d = null;
        if (I != null) {
            var B = Y.AN.length != 0 ? -1 - Y.AN[0] : Y.C[0]
                , n = Y.t[B]
                , g = B < 0 ? Y.h3[-B - 1] : n.wF <= 0 ? null : n.wF == 1 ? n.Qn() : n.$l(Y).r;
            d = t.m(E.e() * 4);
            if (g)
                U.NJ.wh(this.H7, this.nN, g.color, d, E);
            else
                t.rd(this.H7, this.nN, d, E)
        }
        var z = this.V6;
        if (this.I$ && this.id == U.UT && z.qsmode != 0 && Y.N != null) { } else {
            var p = S.jy
                , C = S.E$;
            if (this.rv == "erase") {
                var T = p;
                p = C;
                C = T
            }
            var A = this.id == U.UT ? this.nN : E;
            this.I$ = new fU(z.brush, S.Ly.r0, S.Ly.SR, {
                xC: H,
                yS: I,
                aov: z.smth * 50 * P.M() / Y.z.S,
                vy: this.id == U.Rd || z.emode == 1,
                y_: z.prsr
            }, p, C, A, d)
        }
        if (this.id == U.UT) {
            this.I$.Mi(z.brush, z.qsmode == 2 ? 0 : 16777215)
        }
        var i = Y.z.vl(q.x, q.y);
        if (h.q(F.aY) && this.Ju) {
            var e = this.Ju;
            this.I$.moveTo(e.x, e.y, q.OF);
            this.I$.lineTo(.001 * e.x + .999 * i.x, .001 * e.y + .999 * i.y, q.OF);
            this.I$.lineTo(i.x, i.y, q.OF)
        } else
            this.I$.moveTo(i.x, i.y, q.OF);
        this.Ju = i;
        this.Hx = i.clone();
        this.X2 = new h_(i, Y.z.UZ)
    }
        ;
    U.NJ.prototype.rI = function (Y, S, h) {
        if (Y && Y.z.S != 0 && Y.z.S != this.Tm) {
            this.Tm = Y.z.S;
            this.XS(h)
        }
    }
        ;
    U.NJ.prototype.o8 = function (Y, S, h, q) {
        if (this.I$ == null)
            return;
        var H = Y.t[Y.C[0]]
            , I = Y.z.vl(q.x, q.y)
            , E = this.X2.oQ(I, h);
        if (E.ma(this.Ju))
            return 1;
        this.I$.lineTo(E.x, E.y, q.OF);
        this.Ju = E;
        if (this.id == U.n2 || this.id == U.En) {
            var d = this.cb()
                , B = 11;
            d = Y.z.XV(I.x - d.x, I.y - d.y);
            var n = B >>> 1
                , g = new W(Math.round(d.x) - n, Math.round(d.y) - n, B, B)
                , z = t.m(g.e() * 4);
            t.A5(16777215);
            for (var G = 0; G < B; G++)
                z[(G * B + n) * 4 + 3] = z[(B * n + G) * 4 + 3] = 255;
            Y.K.NS = [[z, g]];
            Y.Yw = !0
        }
    }
        ;
    U.NJ.prototype.vJ = function (Y, S, h, q) {
        if (h.Ez != this.id)
            return;
        if (this.id != U.UT || Y == null)
            return;
        if (Y.N == null || Y.C[0] != this.a9_) {
            this.a9_ = Y.C[0];
            this.dy({
                qsmode: 0
            }, S)
        }
    }
        ;
    U.NJ.prototype.s = function (Y, S) {
        if (Y.AN.length != 0) {
            Y.Yw = !0;
            return
        }
        var h = Y.t[Y.C[0]];
        if (S == null) {
            S = this.I$.sB();
            if (this.$x() && h.wF <= 0)
                S = S.lF(this.nN)
        }
        if (S.fa())
            return;
        if (h.wF <= 0) {
            h.s(S)
        }
        if (h.wF == 1) {
            h.Qn().Uh = !0;
            h._A(Y)
        }
        if (h.wF == 3) {
            h.s()
        }
        Y.s(Y.root.Qm(S, Y, Y.C[0], !0))
    }
        ;
    U.NJ.prototype.mi = function (Y, S, h, q, H) {
        if (this.I$ == null)
            return;
        this.I$.finish();
        if (this.id != U.V8 && this.id != U.En && this.id != U.UT)
            this.Fk(Y);
        if (this.id == U.n2 || this.id == U.En) {
            Y.K.NS = [];
            Y.Yw = !0
        }
        if (this.id == U.UT) {
            var I = Y.N;
            Y.N = this.ez;
            var E = new _(P.E.A, !0);
            E.data = {
                X: "setsel",
                vc: this.name,
                N: I
            };
            E.F = U.n5;
            S.B(E);
            if (this.V6.qsmode == 0)
                this.dy({
                    qsmode: 1
                }, S)
        } else {
            this.finish(Y, this.I$.HK());
            this.I$ = null;
            this.AG = null
        }
        this.dir = 0
    }
        ;
    U.NJ.prototype.dy = function (Y, S) {
        for (var h in Y)
            this.V6[h] = Y[h];
        var q = new _(P.E.P, !0);
        q.data = {
            X: P.U.tS,
            F: this.id,
            aw: Y
        };
        S.B(q)
    }
        ;
    U.NJ.prototype.$x = function () {
        var Y = this.id;
        return Y == U.UT || Y == U.cc || Y == U.q1 || Y == U._4 || Y == U.zt || Y == U.y6
    }
        ;
    U.NJ.prototype.finish = function (Y, S, h, q, H) {
        var I = Y.AN.length != 0 ? -1 - Y.AN[0] : Y.C[0], E = Y.t[I], d = I < 0 ? 1 : E.wF, B = I < 0 ? Y.h3[-I - 1] : d <= 0 ? null : d == 1 ? E.Qn() : E.$l(Y).r, n = B ? B.rect : E.rect, p;
        if (this.$x() || !n.ma(this.nN)) {
            if (B == null) {
                if (this.$x())
                    E.Mq();
                else {
                    var g = S.TG(this.nN)
                        , z = t.m(g.e() * 4);
                    t.rd(E.buffer, E.rect, z, g);
                    E.buffer = z;
                    E.rect = g
                }
            } else
                B.Mq();
            this.s(Y, n)
        }
        if (d <= 0) {
            p = t.m(S.e() * 4);
            t.rd(this.H7, this.nN, p, S)
        } else {
            p = t.m(S.e());
            p.fill(B.color);
            t.m7(this.H7, this.nN, p, S)
        }
        this.Wv(Y, !1, h ? h : this.name, I, d, S, p, q, H)
    }
        ;
    U.NJ.prototype.Wv = function (Y, S, h, q, H, I, E, d, B) {
        var n = E;
        if (H > 0) {
            n = t.m(I.e() * 4);
            U.NJ.wh(E, I, 0, n, I)
        }
        var g = new fj(h, this);
        g.data = [{
            $: q,
            g8: H,
            _: I,
            kQ: n
        }];
        if (d)
            g.data.pu = [Y.N, null];
        if (B)
            g.data.pu = [this.ez, Y.N];
        Y._l(g);
        if (S)
            this.RV(g.data, Y);
        else if (d)
            Y.N = null;
        cU.Xw.vP(Y, g.data)
    }
        ;
    U.NJ.prototype.Td = function (Y, S) {
        this.ro(Y, S, !1)
    }
        ;
    U.NJ.prototype.RV = function (Y, S) {
        this.ro(Y, S, !0)
    }
        ;
    U.NJ.prototype.ro = function (Y, S, h) {
        if (Y.X == "drawtemp") {
            var q = h ? Y.a4Y : Y.akY
                , H = S.t[Y.$];
            H.LM.TB = q;
            H.aD(S, 0, 0, S.N);
            H.s();
            S.Dn = !0
        } else {
            cU.Xw.eL(S, Y);
            if (Y.pu) {
                S.N = Y.pu[h ? 1 : 0];
                S.P5 = !0
            }
        }
        S.s()
    }
        ;
    U.NJ.prototype.Fk = function (Y) {
        this.td(Y, this.rv, this.I$.ce(), this.I$.i6(), this.I$.sB());
        this.s(Y)
    }
        ;
    U.NJ.prototype.td = function (Y, S, h, q, H) {
        var I = this.V6, E = Y.t[Y.C[0]], d = Y.AN.length != 0 ? Y.h3[Y.AN[0]] : E.wF <= 0 ? null : E.wF == 1 ? E.Qn() : E.$l(Y).r, B = t.m(H.e() * 4), n, g = E.Ag(0);
        if (d == null) {
            if (this.id == U.DW && S == "heal")
                t.rd(E.buffer, E.rect, B, H);
            else
                t.rd(this.H7, this.nN, B, H);
            if (g) {
                n = t.m(H.e());
                t.Ft(B, n, 3)
            }
        } else {
            U.NJ.wh(this.H7, this.nN, d.color, B, H)
        }
        if (Y.N && S != "qselect") {
            var z = H.lF(Y.N.rect)
                , p = t.m(z.e() * 4);
            if (S == "copy") {
                var C = t.m(z.e());
                t.m7(Y.N.channel, Y.N.rect, C, z);
                t.rd(B, H, p, z);
                t.Q.OA(h, q, p, z, C, z, 0, z, 1, !1)
            } else {
                t.rd(h, q, p, z);
                t.jK(Y.N.channel, Y.N.rect, p, z)
            }
            h = p;
            q = z
        }
        function T(e, bY) {
            var hV = Math.max(bY.x, Math.min(bY.x + bY.d - 1, e.x))
                , gF = Math.max(bY.y, Math.min(bY.y + bY.v - 1, e.y));
            return new aV(hV, gF)
        }
        if (S == "idraw" || S == "ierase") {
            if (this.AG == null)
                this.AG = t.m(this.nN.e());
            var A = this.V6.samp
                , i = this.it.E$
                , e = T(this.Ju, H)
                , a = A == 0 ? e : this.Hx
                , Z = a.x
                , O = a.y
                , c = U.s$.ec(this.H7, this.nN, [a, new aV(Z - 2, O), new aV(Z + 2, O), new aV(Z, O - 2), new aV(Z, O + 2)]);
            if (A == 2)
                c = [[i >>> 16 & 255, i >>> 8 & 255, i >>> 0 & 255, 255]];
            var s = U.s$.iq(B, H, e, c, this.V6.wconf)
                , x = t.m(H.e());
            t.m7(this.AG, this.nN, x, H);
            t.bZ.TG(s, x, x);
            t.m7(x, H, this.AG, this.nN);
            t.jK(x, H, h, q);
            S = S.slice(1)
        }
        if (S == "erase" && (cU.Xw.SS(Y) != 16777215 || d))
            S = "draw";
        if (S == "draw")
            t.Q.Bc(I.bmode, h, q, B, H, H, I.opacity);
        else if (S == "erase") {
            var u = t.m(H.e() * 4);
            t.rd(h, q, u, H);
            if (d == null) {
                var y = t.m(H.e());
                t.Ft(u, y, 3);
                t.d0(y, I.opacity);
                t.fb(y);
                t.jK(y, H, B, H)
            } else {
                t.A5(u, 0, 4278190080);
                t.Q.Bc("norm", u, H, B, H, H, I.opacity)
            }
        } else if (S == "clone" || S == "heal") {
            var j = this.cb()
                , v = this.ry.clone();
            v.offset(j.x, j.y);
            var X = H.clone();
            X.vo(1, 1);
            var N = t.m(X.e() * 4)
                , V = t.m(X.e());
            t.rd(h, q, N, X);
            t.Ft(N, V, 3);
            t.A5(N, 0);
            if (d == null) {
                t.rd(this.eB, v, N, X);
                var $ = t.m(X.e());
                t.Ft(N, $, 3);
                t._y($, V)
            } else
                U.NJ.wh(this.eB, v, d.color, N, X);
            if (S == "clone") {
                t.Vj(V, N, 3);
                t.Q.Bc(I.bmode, N, X, B, H, H, I.opacity)
            }
            if (S == "heal") {
                var w = V.slice(0);
                t.round(w, 20);
                var m = t.m(X.e() * 4);
                if (d == null)
                    t.rd(this.H7, this.nN, m, X);
                else
                    U.NJ.wh(this.H7, this.nN, d.color, m, X);
                t.Q.OA(N, X, m, X, w, X, 0, X, 1, !1);
                t.m5.nK(m, w, X);
                t.Q.OA(m, X, B, H, V, X, 0, H, 1, !1)
            }
        } else if (S == "dodge" || S == "burn") {
            var N = t.m(H.e() * 4)
                , K = 1
                , J = 0
                , R = 0
                , r = 0;
            t.rd(h, q, N, H);
            var l = H.e() * 4
                , b = U.NJ.rL;
            if (this.T6) {
                if (S == "dodge")
                    S = "burn";
                else
                    S = "dodge"
            }
            var f = I.rng;
            if (S == "dodge") {
                J = [1 - K / 2, 1, 1 + K][f];
                R = [1, 1 / (1 + K), 1][f];
                r = [K / 2, 0, 0][f]
            }
            if (S == "burn") {
                J = [1 / (1 - K / 2), 1, 1 - K / 2][f];
                R = [1, 1 + K, 1][f];
                r = [-(K / 2) / (1 - K / 2), 0, 0][f]
            }
            for (var G = 0; G < l; G += 4) {
                var gf = N[G + 3];
                B[G + 0] = b(B[G + 0], J, R, r, gf);
                B[G + 1] = b(B[G + 1], J, R, r, gf);
                B[G + 2] = b(B[G + 2], J, R, r, gf)
            }
        } else if (S == "sponge" || S == "redeye") {
            var N = t.m(H.e() * 4)
                , V = t.m(H.e());
            t.rd(h, q, N, H);
            t.Ft(N, V, 3);
            t.vx(B, N);
            var aa = I.smode;
            if (this.T6)
                aa = 1 - aa;
            var aA = io.g4("hue2");
            if (S == "sponge")
                c9.SK(aA, 0, [0, [-50, 46][aa], [6, 5][aa]]);
            else
                c9.SK(aA, 1, {
                    uZ: [265, 305, 25, 55],
                    $c: [0, -90, -70]
                });
            var e5 = dD.HA("hue2", aA);
            dD.Cu(e5, N, N, H);
            t.Q.OA(N, H, B, H, V, H, 0, H, 1, !1)
        } else if (S == "copy")
            t.rd(h, q, B, H);
        else if (S == "sheal") {
            var N = t.m(H.e() * 4)
                , V = t.m(H.e());
            t.rd(h, q, N, H);
            t.Ft(N, V, 3);
            N.fill(0);
            var fk = this.eB
                , o = this.ry;
            if (d) {
                fk = t.m(o.e() * 4);
                U.NJ.wh(this.eB, o, 0, fk, o)
            }
            var eY = t.WL.nK(fk, o, V, N, H);
            if (eY != 0)
                t.rd(fk, o, N, H);
            if (this.V6.sfrom == 0)
                t.rd(N, H, B, H);
            else {
                t.rd(this.H7, this.nN, B, H);
                t.Vj(V, N, 3);
                t.Q.Bc("norm", N, H, B, H, H, 1)
            }
        } else if (S == "qselect") {
            var du = this.nN
                , dV = du.d
                , hy = du.v
                , bq = dV * hy
                , i5 = this.I$.ce()
                , c = this.H7
                , hX = U.Q_.WS
                , V = hX.tq;
            V.fill(128);
            for (var G = 0; G < bq; G++) {
                var bY = i5[G << 2]
                    , ds = i5[(G << 2) + 3];
                if (ds == 255 && (bY == 0 || bY == 255))
                    V[G] = bY
            }
            V[0] = V[dV - 1] = 0;
            V[(hy >>> 1) * dV] = V[(hy >>> 1) * dV + dV - 1] = 0;
            U.ww.bt(hX, !0);
            Y.N = {
                rect: du,
                channel: hX.N.slice(0)
            };
            Y.P5 = !0
        }
        if (d == null) {
            if (g)
                t.Vj(n, B, 3);
            t.rd(B, H, E.buffer, E.rect)
        } else
            U.NJ.tg(B, H, d)
    }
        ;
    U.NJ.cb = function () {
        return null
    }
        ;
    U.NJ.rL = function (Y, S, h, q, H) {
        var I = Y * (1 / 255)
            , E = q + S * Math.pow(I, h)
            , d = Math.round(E * H + I * (255 - H));
        return Math.max(0, Math.min(255, d))
    }
        ;
    U.NJ.wh = function (Y, S, h, q, H) {
        var I = t.m(H.e());
        I.fill(h);
        t.m7(Y, S, I, H);
        q.fill(255);
        t.xe(I, q)
    }
        ;
    U.NJ.tg = function (Y, S, h) {
        var q = t.m(S.e());
        t.ei(Y, q);
        t.m7(q, S, h.channel, h.rect)
    }
        ;
    U.Q_ = function (Y, S, h) {
        U.Il.call(this, Y, S, h);
        this.V6 = {
            wn: "front",
            Cm: 0,
            U6: {
                qa: 0,
                x: 3,
                y: 2
            },
            ZB: [16, !0, !0]
        };
        this.zl = new aV(-1, -1);
        this.SG = new aV(-1, -1);
        this.Di = "default";
        this.Su = null;
        this.a2e = !0;
        this.ul = !1;
        this.vk = !1;
        this.T6 = !1;
        this.B9 = 0;
        this.i$ = 0;
        this.Go = !1;
        this.Ws = null;
        this.az = null;
        this.mn = !1
    }
        ;
    U.Q_.prototype = new U.Il;
    U.Q_.prototype.a1I = function () {
        var Y = this.V6
            , S = [{
                front: 0,
                union: 1,
                difference: 2,
                intersection: 3
            }[Y.wn], Y.Cm];
        if (this.id == U.gi)
            S.push(Y.ZB);
        return S
    }
        ;
    U.Q_.prototype.a2R = function (Y, S, h) {
        var q = this.V6;
        q.wn = ["front", "union", "difference", "intersection"][Y[0]];
        q.Cm = Y[1];
        q.ZB = Y[2];
        var H = new _(P.E.P, !0);
        H.data = {
            X: P.U.tS,
            F: this.id,
            mY: q
        };
        h.B(H)
    }
        ;
    U.Q_.WS = {
        key: ""
    };
    U.Q_.hI = function (Y, S) {
        var h = {
            f0: Y,
            Jz: {
                classID: "setd",
                null: {
                    t: "obj ",
                    v: [{
                        t: "prop",
                        v: {
                            classID: "Chnl",
                            keyID: "fsel"
                        }
                    }]
                }
            }
        };
        if (S)
            h.Jz.T = S;
        return h
    }
        ;
    U.Q_.jn = function (Y, S) {
        return U.Q_.hI("set", {
            t: "Objc",
            v: {
                classID: Y,
                Top: {
                    t: "UntF",
                    v: {
                        type: "#Pxl",
                        val: S.y
                    }
                },
                Left: {
                    t: "UntF",
                    v: {
                        type: "#Pxl",
                        val: S.x
                    }
                },
                Btom: {
                    t: "UntF",
                    v: {
                        type: "#Pxl",
                        val: S.y + S.v
                    }
                },
                Rght: {
                    t: "UntF",
                    v: {
                        type: "#Pxl",
                        val: S.x + S.d
                    }
                }
            }
        })
    }
        ;
    U.Q_.G3 = function (Y, S) {
        var h = []
            , q = []
            , I = "set";
        for (var G = 0; G < Y.length; G += 2) {
            h.push(Y[G]);
            q.push(Y[G + 1])
        }
        var H = {
            t: "Objc",
            v: {
                classID: "Plgn",
                Pts: {
                    t: "ObAr",
                    v: {
                        classID: "Pnt",
                        arr: [{
                            id: "Hrzn",
                            type: "UnFl",
                            uID: "#Pxl",
                            arr: h
                        }, {
                            id: "Vrtc",
                            type: "UnFl",
                            uID: "#Pxl",
                            arr: q
                        }]
                    }
                }
            }
        };
        if (S)
            I = {
                front: "set",
                union: "addTo",
                difference: "subtractFrom",
                intersection: "interfaceWhite"
            }[S];
        return U.Q_.hI(I, H)
    }
        ;
    U.Q_.a5E = function (Y, S) {
        var h = {
            t: "Objc",
            v: {
                classID: "Pnt",
                Hrzn: {
                    t: "UntF",
                    v: {
                        type: "#Pxl",
                        val: Y.x
                    }
                },
                Vrtc: {
                    t: "UntF",
                    v: {
                        type: "#Pxl",
                        val: Y.y
                    }
                }
            }
        }
            , q = U.Q_.hI("set", h);
        q.Jz.Tlrn = {
            t: "long",
            v: S[0]
        };
        q.Jz.AntA = {
            t: "bool",
            v: S[1]
        };
        q.Jz.Cntg = {
            t: "bool",
            v: S[2]
        };
        return q
    }
        ;
    U.Q_.zT = function (Y) {
        return U.Q_.hI("set", {
            t: "enum",
            v: {
                Ordn: Y ? "Al" : "None"
            }
        })
    }
        ;
    U.Q_.a39 = function (Y, S, h) {
        var q = {
            classID: "null"
        };
        if (Y != "border")
            q.selectionModifyEffectAtCanvasBounds = {
                t: "bool",
                v: h
            };
        var H = {
            e: "By",
            c: "By",
            b: "Wdth",
            f: "Rds",
            s: "Rds"
        }[Y[0]];
        q[H] = {
            t: "UntF",
            v: {
                type: "#Pxl",
                val: S
            }
        };
        return {
            f0: Y,
            Jz: q
        }
    }
        ;
    U.Q_.n4 = function (Y, S, h) {
        var q = {
            t: "obj ",
            v: [{
                t: "prop",
                v: {
                    classID: "Chnl",
                    keyID: "fsel"
                }
            }]
        }
            , H = {
                t: "obj ",
                v: [{
                    t: "Enmr",
                    v: {
                        classID: "Chnl",
                        typeID: "Chnl",
                        enum: S
                    }
                }]
            };
        if (h)
            H.v.push({
                t: "name",
                v: {
                    classID: "Lyr",
                    val: h
                }
            });
        var I = [{
            classID: "null",
            null: q,
            T: H
        }, {
            classID: "null",
            null: H,
            T: q
        }, {
            classID: "null",
            null: H,
            From: q
        }, {
            classID: "null",
            null: H,
            With: q
        }]
            , E = ["set", "add", "subtract", "interfaceIconFrameDimmed"];
        return {
            f0: E[Y],
            Jz: I[Y]
        }
    }
        ;
    U.Q_.iG = function (Y, S) {
        var h = new _(P.E.P, !0);
        h.data = {
            X: P.U.PD,
            go: iD.Lb
        };
        if (!S.Yc)
            Y.B(h);
        h.data = {
            X: P.U.PD,
            go: iD.uG
        };
        if (!S.nF.E_)
            Y.B(h)
    }
        ;
    U.Q_.prototype.ON = function (Y, S, h, q, H) {
        U.Q_.iG(S, H);
        this.Su = S;
        var I = Y.X, E, d, B = new W(0, 0, h.d, h.v), ds = !1, hV, gF, co, c_;
        if (I == "fromAction") {
            var n = Y.gM
                , g = n.f0
                , z = n.Jz
                , p = z ? z.selectionModifyEffectAtCanvasBounds : null
                , C = p && p.v;
            if (g == "inverse") {
                if (h.N == null) {
                    alert("No selection!");
                    return
                }
                E = {
                    channel: t.m(B.e()),
                    rect: B
                };
                t.m7(h.N.channel, h.N.rect, E.channel, E.rect);
                t.fb(E.channel);
                d = [7, 2]
            } else if (g == "expand") {
                var T = z.By.v.val
                    , A = h.N.rect.clone();
                A.vo(T, T);
                var i = t.m(A.e())
                    , e = t.m(A.e());
                t.m7(h.N.channel, h.N.rect, e, A);
                t.style.stroke(e, i, A, T);
                E = {
                    channel: i,
                    rect: A
                };
                d = [7, 4]
            } else if (g == "contract") {
                var T = z.By.v.val
                    , a = h.N.rect.clone();
                a.vo(1, 1);
                if (!C)
                    a = a.lF(B);
                var e = t.m(a.e())
                    , Z = t.m(e.length);
                t.m7(h.N.channel, h.N.rect, e, a);
                t.fb(e);
                t.style.stroke(e, Z, a, T);
                t.fb(Z);
                E = {
                    channel: Z,
                    rect: a
                };
                t.Mq(E);
                d = [7, 5]
            } else if (g == "border") {
                var T = z.Wdth.v.val;
                E = U.Q_.U0(h.N, T / 2, T / 2);
                d = [7, 9]
            } else if (g == "feather" || g == "smoothness") {
                var T = z.Rds.v.val;
                E = U.Q_.Rl(h.N, T, g == "smoothness", B, C);
                d = g == "feather" ? [7, 6] : [19, 3, 0]
            } else {
                var O = z.null.v;
                function c(ct) {
                    var fQ = ct.Top.v.val
                        , cd = ct.Left.v.val;
                    return new W(cd, fQ, ct.Rght.v.val - cd, ct.Btom.v.val - fQ)
                }
                function s(ct) {
                    var fQ = ct[0].arr
                        , cj = ct[1].arr
                        , fJ = {
                            H: [],
                            Z: []
                        };
                    for (var G = 0; G < fQ.length; G++) {
                        fJ.Z.push(G == 0 ? "M" : "L");
                        fJ.H.push(fQ[G], cj[G])
                    }
                    fJ.Z.push("Z");
                    return fJ
                }
                var x = ["set", "addTo", "subtractFrom", "interfaceWhite"].indexOf(g)
                    , u = z.T ? z.T.v : null;
                if (u && u.classID == "Elps") {
                    E = this.oY(U.jA.cB(c(u)));
                    d = [10, 4]
                } else if (u && u.classID == "Rctn") {
                    var y = c(u);
                    E = {
                        channel: t.m(y.e()),
                        rect: y.clone()
                    };
                    E.channel.fill(255);
                    d = [10, 15]
                } else if (u && u.classID == "ObSl") {
                    var y = c(u)
                        , j = U.Q_.WS
                        , v = j.rect
                        , X = j.tq
                        , N = v.d
                        , V = v.v
                        , $ = y.x - v.x
                        , w = $ + y.d - 1
                        , m = Math.max($, Math.min(w, $ + w >>> 1))
                        , l = y.y - v.y
                        , b = l + y.v - 1
                        , K = Math.max(l, Math.min(b, l + b >>> 1))
                        , J = Math.max($, 0)
                        , R = Math.min(w, N)
                        , r = Math.max(l, 0)
                        , f = Math.min(b, V);
                    X.fill(128);
                    if (0 <= l)
                        for (var gf = J; gf < R; gf++)
                            X[l * N + gf] = 0;
                    if (b < V)
                        for (var gf = J; gf < R; gf++)
                            X[b * N + gf] = 0;
                    if (0 <= $)
                        for (var aa = r; aa < f; aa++)
                            X[aa * N + $] = 0;
                    if (w < N)
                        for (var aa = r; aa < f; aa++)
                            X[aa * N + w] = 0;
                    var aA = U.$B._S
                        , e5 = Math.round(y.d * aA)
                        , fk = Math.round(y.v * aA);
                    for (var gf = Math.max(0, m - e5); gf < Math.min(N, m + e5); gf++)
                        X[K * N + gf] = 255;
                    for (var aa = Math.max(0, K - fk); aa < Math.min(V, K + fk); aa++)
                        X[aa * N + m] = 255;
                    U.ww.bt(j, !0);
                    E = {
                        channel: j.N.slice(0),
                        rect: v.clone()
                    };
                    d = [10, 44]
                } else if (u && u.classID == "Plgn") {
                    E = this.oY(s(u.Pts.v.arr));
                    d = [10, 9]
                } else if (u && u.classID == "Pnt") {
                    E = U.s$.YT(h, new aV(u.Hrzn.v.val, u.Vrtc.v.val), [z.Tlrn.v, z.AntA == null || z.AntA.v, z.Cntg == null || z.Cntg.v]);
                    d = [10, 12]
                } else if (u && u.Ordn == "None") {
                    E = null;
                    d = [7, 1]
                } else if (u && u.Ordn == "Al") {
                    E = {
                        channel: t.m(B.e()),
                        rect: B
                    };
                    E.channel.fill(255);
                    d = [7, 0]
                } else if (u && u[0] && u[0].v.keyID == "WrPt") {
                    var o = {
                        X: "frompath",
                        Qg: [-1, 0, 0]
                    };
                    debugger
                    this.ON(o, S, h, q, H);
                    return
                } else {
                    var eY = ["set", "add", "subtract", "interfaceIconFrameDimmed"].indexOf(g), du = g == "set" ? u : O, dV = du[0].v.enum, o;
                    if (dV == "Trsp" || dV == "Msk" || dV == "vectorMask") {
                        var hy = h.C[0];
                        if (du.length == 2)
                            hy = bw.sL(h, du[1]);
                        var bq = ["Trsp", "Msk", "vectorMask"].indexOf(dV);
                        o = {
                            X: "fromlayer",
                            Qg: [hy, bq, eY]
                        }
                    } else {
                        if (du[0].t == "name") {
                            var hy = 0;
                            for (var G = 0; G < h.h3.length; G++)
                                if (h.h3[G].name == du[0].v.val)
                                    hy = G;
                            o = {
                                X: "fromchannel",
                                Qg: [-5 - hy, 0, eY]
                            }
                        } else {
                            var i5 = ["RGB", "Rd", "Grn", "Bl"].indexOf(dV);
                            o = {
                                X: "fromchannel",
                                Qg: [-1 - i5, 0, eY]
                            }
                        }
                    }
                    debugger
                    this.ON(o, S, h, q, H);
                    return
                }
                if (z.Fthr)
                    E = U.Q_.Rl(E, z.Fthr.v.val, !1);
                if (g != "set" && h.N != null)
                    E = t.bZ.mB(E, h.N, ["", "union", "difference", "intersection"][x])
            }
            if (g == "expand" || g == "contract")
                if (!C && !B.contains(E.rect)) {
                    var hX = E.rect.lF(B)
                        , bY = t.m(hX.e());
                    t.m7(E.channel, E.rect, bY, hX);
                    E.channel = bY;
                    E.rect = hX
                }
        }
        if (I == "qmask") {
            ds = !0;
            var a5 = h.ns()
                , gb = new W(0, 0, h.d, h.v);
            if (a5) {
                E = a5.rect.ma(gb) && t.Aw(a5.channel, 255) ? null : {
                    rect: a5.rect.clone(),
                    channel: a5.channel.slice(0)
                };
                hV = a5
            } else {
                E = null;
                gF = new M.WB;
                gF.color = 0;
                gF.name = "Quick Mask";
                gF.Qb = !0;
                if (h.N) {
                    gF.rect = h.N.rect.clone();
                    gF.channel = h.N.channel.slice(0)
                } else {
                    gF.rect = gb;
                    gF.channel = t.m(gF.rect.e());
                    gF.channel.fill(255)
                }
            }
            d = [6, 6, 1]
        }
        if (I == "setsel") {
            E = Y.N;
            d = Y.vc
        }
        if (I == "crange") {
            var iC = Y.wV
                , cC = Y.br;
            E = U.Q_.Dk(h, iC, cC, Y.kb);
            d = [7, 8];
            iC = {
                t: "Objc",
                v: {
                    classID: "LbCl",
                    Lmnc: {
                        t: "doub",
                        v: iC.sj
                    },
                    A: {
                        t: "doub",
                        v: iC.R
                    },
                    B: {
                        t: "doub",
                        v: iC.O
                    }
                }
            };
            cC = {
                t: "Objc",
                v: {
                    classID: "LbCl",
                    Lmnc: {
                        t: "doub",
                        v: cC.sj
                    },
                    A: {
                        t: "doub",
                        v: cC.R
                    },
                    B: {
                        t: "doub",
                        v: cC.O
                    }
                }
            };
            this.track({
                f0: "colorRange",
                Jz: {
                    __name: "Color Range",
                    classID: "ClrR",
                    Fzns: {
                        t: "long",
                        v: Math.round(Y.kb * 200)
                    },
                    Mnm: iC,
                    Mxm: cC,
                    colorModel: {
                        t: "long",
                        v: 0
                    }
                }
            })
        }
        if (I == "fromlayer" || I == "fromchannel" || I == "frompath") {
            var aB = Y.Qg[0]
                , bq = Y.Qg[1]
                , x = Y.Qg[2];
            if (I == "fromlayer") {
                if (aB == null)
                    aB = h.C[0];
                var cd = h.t[aB];
                if (bq == 0) {
                    var dZ = cd.rect
                        , en = cd.buffer;
                    if (dZ.fa())
                        return;
                    var cD = t.m(en.length >>> 2);
                    t.Ft(en, cD, 3);
                    E = {
                        channel: cD,
                        rect: dZ.clone()
                    }
                } else {
                    if (cd.r == null)
                        cd._A(h);
                    var hP = bq == 1 ? cd.Qn() : cd.r;
                    E = U.Q_.JI(hP, B)
                }
                this.track(U.Q_.n4(x, ["Trsp", "Msk"][bq], cd.getName()))
            } else if (I == "frompath") {
                var ea = h.L1()
                    , fp = ea[1]
                    , ea = ea[0];
                if (aB == null)
                    if (ea.length == 0 || fp.length == 0)
                        return;
                var bC = ea[fp[0]];
                if (aB != null)
                    for (var G = 0; G < ea.length; G++)
                        if (ea[G].Y8 == aB)
                            bC = ea[G];
                var hP = bC.add.vmsk.Qn()
                    , hG = hP.i6();
                if (hG.e() == 0)
                    return;
                var cD = hP.IS();
                if (Y.Qg[3] != null)
                    this.a2e = Y.Qg[3];
                if (this.a2e) {
                    cD = cD.slice(0);
                    t.round(cD)
                }
                co = [JSON.stringify(h.IO), JSON.stringify(h.Fj)];
                c_ = ["[]", "[]"];
                h.IO = [];
                h.Fj = [];
                E = {
                    channel: cD,
                    rect: hG
                }
            } else {
                if (aB == null)
                    aB = U.Q_.i7(h);
                E = U.Q_.d3(h, aB)
            }
            if (x != 0 && h.N)
                E = t.bZ.mB(E, h.N, ["", "union", "difference", "intersection"][x]);
            d = [14, 11]
        }
        if (E != null && t.Aw(E.channel, 0)) {
            E = null;
            d = [7, 1]
        }
        if (E)
            t.Mq(E);
        var b3 = new fj(d, this);
        b3.data = {
            X: "changesel",
            ez: h.N,
            nI: E,
            ns: ds,
            a8Q: hV,
            abH: gF,
            XU: co,
            a1K: c_
        };
        h._l(b3);
        this.RV(b3.data, h)
    }
        ;
    U.Q_.i7 = function (Y) {
        var S = 0;
        if (Y.AN.length != 0)
            S = -5 - Y.AN[0];
        else if (JSON.stringify(Y.z.L5) == "[1,1,1]")
            S = -1;
        else
            S = -2 - Y.z.L5.indexOf(1);
        return S
    }
        ;
    U.Q_.d3 = function (Y, S) {
        var h, q = new W(0, 0, Y.d, Y.v);
        if (-5 < S & S < 0) {
            var H = -S - 1
                , I = Y.Q3()
                , E = t.m(q.e());
            if (H == 0)
                t.ei(I, E);
            else
                t.Ft(I, E, H - 1);
            h = {
                channel: E,
                rect: q.clone()
            }
        }
        if (S < -4) {
            h = U.Q_.JI(Y.h3[-S - 5], q)
        }
        return h
    }
        ;
    U.Q_.JI = function (Y, S) {
        var h, q;
        if (Y.cd() == 0) {
            q = Y.i6();
            if (q.e() == 0)
                return;
            h = Y.IS()
        } else {
            q = S;
            h = t.m(q.e());
            Y.Ga(q, h)
        }
        return {
            channel: h,
            rect: q
        }
    }
        ;
    U.Q_.prototype.Cj = function (Y) {
        return this.Go || Y.gk && this.id != U.U5
    }
        ;
    U.Q_.prototype.fc = function (Y, S, h) {
        var q = new _(S, !0);
        q.data = h;
        Y.B(q)
    }
        ;
    U.Q_.prototype._R = function (Y, S) {
        var h = new _(P.E.P, !0);
        h.data = {
            X: P.U.t6,
            WX: S
        };
        Y.B(h)
    }
        ;
    U.Q_.prototype.i6 = function (Y, S, h) {
        S = Y.N == null || this.B9 > 1 || this.i$ > 1 ? S : null;
        var q = this.zl
            , H = this.SG;
        if (h) {
            q.x = Math.max(0, Math.min(Y.d, q.x));
            q.y = Math.max(0, Math.min(Y.v, q.y));
            H.x = Math.max(0, Math.min(Y.d, H.x));
            H.y = Math.max(0, Math.min(Y.v, H.y))
        }
        var I = U.sX.sq(q, H, S, !0, this.V6.U6)
            , E = I[0].x
            , d = I[0].y;
        return new W(E, d, I[1].x - E, I[1].y - d)
    }
        ;
    U.Q_.prototype.FF = function (Y, S, h, q, H) {
        if (this.NK())
            return;
        this.Su = S;
        this.ul = !1;
        this.vk = q.q(F.aY);
        this.T6 = q.q(F.Gs);
        this.B9 = this.vk ? 0 : 1;
        this.i$ = this.T6 ? 0 : 1;
        this.zl = Y.z.vl(H.x, H.y);
        this.zl = U._C.jg(Y, this.zl, h);
        if (this.Xb(Y, this.zl, q)) {
            this.Go = !0;
            this.Ws = Y.N.rect.clone();
            return
        }
        this.Kf(Y, h, q, H);
        Y.z.Tz = new W
    }
        ;
    U.Q_.prototype.Xb = function (Y, S, h) {
        var q = h.q(F.aY)
            , H = h.q(F.Gs);
        if (Y.N && !q && !H && this.V6.wn == "front")
            return t.h4(S, Y.N.channel, Y.N.rect);
        return !1
    }
        ;
    U.Q_.prototype.vr = function (Y, S, h, q, H) {
        this.Su = S;
        if (this.mn)
            return;
        var I = Y.z.vl(H.x, H.y);
        if (aV.kr(this.zl, I) * Y.z.S > 5)
            this.ul = !0;
        if (q.q(F.N9)) {
            if (this.az == null)
                this.az = new aV(I.x - this.zl.x, I.y - this.zl.y);
            this.zl.x = I.x - this.az.x;
            this.zl.y = I.y - this.az.y
        } else
            this.az = null;
        this.SG = I;
        if (!this.Go)
            this.SG = U._C.jg(Y, this.SG, h);
        if (this.Xb(Y, this.SG, q))
            this._R(S, "move");
        else
            this._R(S, this.Di);
        if (this.Go) {
            var E = this.Ws.clone();
            E.x += this.SG.x - this.zl.x;
            E.y += this.SG.y - this.zl.y;
            var d = U._C.vF(Y, E, h);
            Y.N.rect.x = Math.round(this.SG.x - this.zl.x + this.Ws.x + d[0]);
            Y.N.rect.y = Math.round(this.SG.y - this.zl.y + this.Ws.y + d[1]);
            Y.P5 = !0;
            U._C.I8(Y, E, d);
            return
        }
        this.fn(Y, h, q, H);
        if (Y.z.Tz)
            Y.z.Tz = this.i6(Y, q)
    }
        ;
    U.Q_.prototype.NK = function () {
        return !1
    }
        ;
    U.Q_.prototype.mi = function (Y, S, h, q, H) {
        Y.z.Tz = null;
        this.SG = Y.z.vl(H.x, H.y);
        this.SG = U._C.jg(Y, this.SG, h);
        if (this.Go) {
            this.Go = !1;
            if (this.SG.ma(this.zl) && this.At() == "front") {
                this.fc(S, P.E.$_, U.Q_.zT());
                return
            }
            this.NE(Y, this.Ws, Y.N.rect.clone());
            if (Y != null && Y.K.Yi) {
                Y.K.Yi = null;
                Y.Yw = !0
            }
            return
        }
        this.wR(Y, h, q, H);
        U.Q_.iG(S, h)
    }
        ;
    U.Q_.prototype.NE = function (Y, S, h) {
        var q = Y.JK();
        if (q != null && q.F == this && q.data.X == "movesel") { } else {
            q = new fj([7, 7], this);
            q.data = {
                X: "movesel",
                vt: S
            };
            Y._l(q)
        }
        q.data.sb = h;
        this.RV(q.data, Y)
    }
        ;
    U.Q_.prototype.II = function (Y, S, h, q, H) {
        this.mn = !0
    }
        ;
    U.Q_.prototype.dP = function (Y, S, h, q, H) {
        var I = new _(P.E.P, !0);
        I.data = {
            X: P.U.tS,
            F: this.id,
            lG: H,
            Tw: Y,
            Q2: h
        };
        S.B(I);
        this.mn = !1
    }
        ;
    U.Q_.prototype.jL = function (Y, S, h, q) {
        var H = q.q(F.aY)
            , I = q.q(F.Gs);
        if (this.ul) {
            if (this.B9 == 0 && !H)
                this.B9++;
            if (this.B9 == 1 && H)
                this.B9++;
            if (this.i$ == 0 && !I)
                this.i$++;
            if (this.i$ == 1 && I)
                this.i$++
        }
        if (Y != null && Y.N != null) {
            var E = q.ct();
            if (E.x != 0 || E.y != 0) {
                var d = Y.N.rect.clone();
                d.x += E.x;
                d.y += E.y;
                this.NE(Y, Y.N.rect.clone(), d)
            }
        }
        var B = U.Q_.BQ(this.V6.wn, H, I)
            , n = new _(P.E.P, !0);
        n.data = {
            X: P.U.tS,
            F: this.id,
            wn: B
        };
        S.B(n)
    }
        ;
    U.Q_.prototype.finish = function (Y, S, h, q) {
        var H = Y.N
            , I = this.getSelection(Y, S, h, q);
        if (I == null)
            I = U.Q_.zT();
        else {
            var E = this.V6.Cm
                , d = this.At();
            if (E != 0)
                I.Jz.Fthr = {
                    t: "UntF",
                    v: {
                        type: "#Pxl",
                        val: E
                    }
                };
            if (d != "front" && d != "xor")
                I.f0 = {
                    union: "addTo",
                    difference: "subtractFrom",
                    intersection: "interfaceWhite"
                }[d]
        }
        this.fc(this.Su, P.E.$_, I);
        this.zl.bm(-1, -1);
        this.SG.bm(-1, -1)
    }
        ;
    U.Q_.prototype.At = function () {
        return U.Q_.BQ(this.V6.wn, this.vk, this.T6)
    }
        ;
    U.Q_.BQ = function (Y, S, h) {
        if (S)
            Y = "union";
        if (h)
            Y = "difference";
        if (S && h)
            Y = "intersection";
        return Y
    }
        ;
    U.Q_.prototype.getSelection = function (Y, S, h, q) {
        return null
    }
        ;
    U.Q_.prototype.Kf = function (Y, S, h, q) { }
        ;
    U.Q_.prototype.fn = function (Y, S, h, q) { }
        ;
    U.Q_.prototype.wR = function (Y, S, h, q) { }
        ;
    U.Q_.prototype.Td = function (Y, S) {
        var h = Y.X;
        if (h == "changesel")
            S.N = Y.ez;
        if (h == "movesel")
            S.N.rect = Y.vt;
        if (Y.ns) {
            if (Y.a8Q) {
                S.AN = [S.h3.length];
                S.h3.push(Y.a8Q)
            } else {
                S.h3.pop();
                S.AN = []
            }
        }
        if (Y.XU) {
            S.IO = JSON.parse(Y.XU[0]);
            S.Fj = JSON.parse(Y.XU[1])
        }
        S.P5 = !0
    }
        ;
    U.Q_.prototype.RV = function (Y, S) {
        var h = Y.X;
        if (h == "changesel")
            S.N = Y.nI;
        if (h == "movesel")
            S.N.rect = Y.sb;
        if (Y.ns) {
            if (Y.abH) {
                S.AN = [S.h3.length];
                S.h3.push(Y.abH)
            } else {
                S.h3.pop();
                S.AN = []
            }
        }
        if (Y.XU) {
            S.IO = JSON.parse(Y.a1K[0]);
            S.Fj = JSON.parse(Y.a1K[1])
        }
        S.P5 = !0
    }
        ;
    U.Q_.prototype.yg = function (Y) {
        this.V6 = Y
    }
        ;
    U.Q_.prototype.oY = function (Y) {
        var S = t.a.wO(Y.H);
        if (S.fa())
            return null;
        var h = P.w("canvas", "");
        h.width = S.d;
        h.height = S.v;
        var q = h.getContext("2d");
        q.beginPath();
        q.translate(-S.x, -S.y);
        Typr.U.pathToContext({
            cmds: Y.Z,
            crds: Y.H
        }, q);
        q.closePath();
        q.fill();
        var H = t.m(S.e())
            , I = q.getImageData(0, 0, h.width, h.height);
        t.Ft(I.data, H, 3);
        return {
            rect: S,
            channel: H
        }
    }
        ;
    U.Q_.Rl = function (Y, S, h, q, H) {
        if (h)
            S = Math.round(S * .7);
        var I = Math.ceil(2.6 * S)
            , E = Y.rect.clone();
        E.vo(I, I);
        if (q && !H)
            E = E.lF(q);
        var d = t.m(E.e())
            , B = t.m(d.length);
        t.m7(Y.channel, Y.rect, B, E);
        t.n8.NC(B, d, E, S);
        if (h) {
            var n = d.length;
            for (var G = 0; G < n; G++) {
                var g = (d[G] - 128) * S * 2.5;
                d[G] = Math.max(0, Math.min(255, Math.round(128 + g)))
            }
        }
        return {
            channel: d,
            rect: E
        }
    }
        ;
    U.Q_.U0 = function (Y, S, h) {
        var q = Math.max(1, Math.ceil(h))
            , H = Y.rect.clone();
        H.vo(q, q);
        var I = H.e()
            , E = {
                channel: t.m(I),
                rect: H
            }
            , d = t.m(I);
        t.m7(Y.channel, Y.rect, d, E.rect);
        if (h != 0)
            t.style.stroke(d, E.channel, E.rect, h);
        else
            t.vx(d, E.channel);
        var B = t.m(I);
        t.fb(d);
        if (S != 0)
            t.style.stroke(d, B, E.rect, S);
        else
            t.vx(d, B);
        t.bZ.lF(E.channel, B, E.channel);
        return E
    }
        ;
    U.Q_.Dk = function (Y, S, h, q) {
        var H = new W(0, 0, Y.d, Y.v)
            , I = Y.Q3();
        if (Y.N) {
            var E = Y.N.rect.lF(H)
                , d = t.m(E.e() * 4);
            t.rd(I, H, d, E);
            H = E;
            I = d
        }
        var B = H.e()
            , n = t.m(B)
            , g = 1 / q;
        for (var G = 0; G < B; G++) {
            var z = G << 2
                , p = t.XT(I[z], I[z + 1], I[z + 2])
                , C = t.AF(p, S, h, q, g);
            n[G] = I[z + 3] * C
        }
        return {
            rect: H,
            channel: n
        }
    }
        ;
    U.uL = function () {
        U.NJ.call(this, [10, 18], U.XP, "tools/blur");
        this.rv = "copy"
    }
        ;
    U.uL.prototype = new U.NJ;
    U.uL.prototype.FF = function (Y, S, h, q, H) {
        var I = q.q(F.Gs) ? fU.ML : fU.XP;
        this.oC(Y, h, q, H, this.V6.strn, I);
        if (this.I$ == null)
            return;
        this.Fk(Y)
    }
        ;
    U.uL.prototype.vr = function (Y, S, h, q, H) {
        this.rI(Y, S, h);
        if (this.x9)
            this.ss(Y, h, H);
        if (this.I$ == null)
            return;
        if (!H.gk)
            return;
        this.o8(Y, h, q, H);
        this.Fk(Y)
    }
        ;
    U.cV = function () {
        U.NJ.call(this, [10, 0], U.e8, "tools/brush");
        this.rv = "draw"
    }
        ;
    U.cV.prototype = new U.NJ;
    U.cV.prototype.FF = function (Y, S, h, q, H) {
        if (this.Od(q, S, H))
            return;
        this.oC(Y, h, q, H, this.V6.flow);
        if (this.I$ == null)
            return;
        this.Fk(Y)
    }
        ;
    U.cV.prototype.vr = function (Y, S, h, q, H) {
        this.rI(Y, S, h);
        if (this.x9)
            this.ss(Y, h, H);
        if (this.I$ == null)
            return;
        if (!H.gk)
            return;
        this.o8(Y, h, q, H);
        this.Fk(Y)
    }
        ;
    U.Cn = function () {
        U.NJ.call(this, [10, 42], U.Eu, "tools/crepl");
        this.rv = "idraw";
        this.V6.bmode = "hue "
    }
        ;
    U.Cn.prototype = new U.NJ;
    U.Cn.prototype.FF = function (Y, S, h, q, H) {
        if (this.Od(q, S, H))
            return;
        this.oC(Y, h, q, H, this.V6.flow);
        if (this.I$ == null)
            return;
        this.Fk(Y)
    }
        ;
    U.Cn.prototype.vr = function (Y, S, h, q, H) {
        this.rI(Y, S, h);
        if (this.x9)
            this.ss(Y, h, H);
        if (this.I$ == null)
            return;
        if (!H.gk)
            return;
        this.o8(Y, h, q, H);
        this.Fk(Y)
    }
        ;
    U.jS = function () {
        U.NJ.call(this, [10, 43], U.y6, "tools/redeye");
        this.V6.smode = 0;
        this.rv = "redeye"
    }
        ;
    U.jS.prototype = new U.NJ;
    U.jS.prototype.FF = function (Y, S, h, q, H) {
        this.oC(Y, h, q, H, this.V6.flow);
        if (this.I$ == null)
            return;
        this.Fk(Y)
    }
        ;
    U.jS.prototype.vr = function (Y, S, h, q, H) {
        this.rI(Y, S, h);
        if (this.x9)
            this.ss(Y, h, H);
        if (this.I$ == null)
            return;
        if (!H.gk)
            return;
        this.o8(Y, h, q, H);
        this.Fk(Y)
    }
        ;
    U.R9 = function () {
        U.NJ.call(this, [10, 38], U.Rd, "tools/pencil");
        this.rv = "draw"
    }
        ;
    U.R9.prototype = new U.NJ;
    U.R9.prototype.FF = function (Y, S, h, q, H) {
        if (this.Od(q, S, H))
            return;
        this.oC(Y, h, q, H, this.V6.flow);
        if (this.I$ == null)
            return;
        this.Fk(Y)
    }
        ;
    U.R9.prototype.vr = function (Y, S, h, q, H) {
        this.rI(Y, S, h);
        if (this.x9)
            this.ss(Y, h, H);
        if (this.I$ == null)
            return;
        if (!H.gk)
            return;
        this.o8(Y, h, q, H);
        this.Fk(Y)
    }
        ;
    U.cO = function () {
        U.NJ.call(this, [10, 22], U._4, "tools/burn");
        this.rv = "burn"
    }
        ;
    U.cO.prototype = new U.NJ;
    U.cO.prototype.FF = function (Y, S, h, q, H) {
        this.oC(Y, h, q, H, this.V6.expo / Math.E);
        if (this.I$ == null)
            return;
        this.Fk(Y)
    }
        ;
    U.cO.prototype.vr = function (Y, S, h, q, H) {
        this.rI(Y, S, h);
        if (this.x9)
            this.ss(Y, h, H);
        if (this.I$ == null)
            return;
        if (!H.gk)
            return;
        this.o8(Y, h, q, H);
        this.Fk(Y)
    }
        ;
    U.MA = function (Y, S, h) {
        U.NJ.call(this, Y == "" ? null : Y ? Y : [10, 1], S ? S : U.n2, h ? h : "tools/clone");
        this.rv = "clone";
        this.sv = null;
        this.T = null
    }
        ;
    U.MA.prototype = new U.NJ;
    U.MA.prototype.FF = function (Y, S, h, q, H) {
        var I = this.V6
            , E = I.alt[0];
        if (q.q(F.Gs) || q.q(F.qR) || E) {
            this.sv = Y.z.vl(H.x, H.y);
            this.T = null;
            if (E)
                this.dy({
                    alt: [!1]
                }, S);
            this.Aa(Y);
            this.XS(h, q, Y, H);
            return
        }
        if (this.sv == null) {
            alert(gx.get([15, 7, 0]));
            return
        }
        this.XS(h, q);
        this.oC(Y, h, q, H, this.V6.flow);
        if (this.I$ == null)
            return;
        this.T = this.kM(Y.z.vl(H.x, H.y));
        this.Fk(Y)
    }
        ;
    U.MA.prototype.kM = function (Y) {
        var S = this.T;
        if (S == null || !this.V6.algnd)
            S = new aV(Math.round(Y.x - this.sv.x), Math.round(Y.y - this.sv.y));
        return S
    }
        ;
    U.MA.prototype.vr = function (Y, S, h, q, H) {
        this.rI(Y, S, h);
        if (this.x9)
            this.ss(Y, h, H);
        if (this.I$ == null) {
            if (this.sv != null)
                this.XS(h, q, Y, H);
            return
        }
        if (!H.gk || this.sv == null)
            return;
        this.o8(Y, h, q, H);
        this.Fk(Y)
    }
        ;
    U.MA.prototype.cb = function () {
        return this.T
    }
        ;
    U.AQ = function (Y, S, h) {
        U.Il.call(this, Y, S, h);
        this.CJ = {
            Zb: {
                qa: 0,
                x: 0,
                y: 0
            },
            Yf: !1
        };
        this.sJ = null;
        this.cursor = null;
        this.ajd = 0;
        this.kW = null;
        this.zl = null;
        this.pZ = null
    }
        ;
    U.AQ.prototype = new U.Il;
    U.AQ.prototype.VD = function () {
        return this.sJ != null
    }
        ;
    U.AQ.prototype.Cj = function (Y) {
        return this.sJ && this.sJ.xk()
    }
        ;
    U.AQ.prototype.FF = function (Y, S, h, q, H) {
        this.kW = H;
        var I = Y.z.vl(H.x, H.y);
        I.x = Math.round(I.x);
        I.y = Math.round(I.y);
        var E = this.CJ.Zb
            , d = E.qa != 0 ? E.x / E.y : null;
        if (this.sJ)
            this.sJ.FF(Y, h, q, I, d, !1);
        else
            this.zl = U._C.jg(Y, I, h)
    }
        ;
    U.AQ.prototype.xq = function (Y, S) {
        var h = [Y.x, Y.y, Y.x + Y.d, Y.y, Y.x + Y.d, Y.y + Y.v, Y.x, Y.y + Y.v];
        return new ht(h, !0, !1, this.id == U.ty, !0, S, this.id == U.ty ? 2 : 0, this.id == U.ty)
    }
        ;
    U.AQ.prototype.XS = function (Y) {
        var S = new _(P.E.P, !0);
        S.data = {
            X: P.U.t6,
            WX: this.cursor
        };
        Y.B(S)
    }
        ;
    U.AQ.prototype.enable = function (Y, S, h, q) {
        this.Su = S;
        this.cursor = "crosshair";
        this.XS(S);
        if (Y != null && Y.N) {
            var H = this.CJ.Zb = {
                qa: 0,
                x: 0,
                y: 0
            };
            this.fc(S, P.E.P, {
                X: P.U.tS,
                F: this.id,
                iI: !1,
                U6: H
            });
            this.yg({
                AT: "cropby",
                a69: 3
            }, S, Y, q, h)
        }
    }
        ;
    U.AQ.prototype.vr = function (Y, S, h, q, H) {
        this.kW = H;
        var I = Y.z.vl(H.x, H.y);
        if (!H.gk) {
            var E = "crosshair";
            if (this.sJ) {
                var d = this.sJ.ii(I, Y.z.S);
                if (d)
                    E = d;
                else
                    E = "default"
            }
            if (E != this.cursor) {
                this.cursor = E;
                this.XS(S)
            }
        }
        if (this.sJ)
            this.sJ.vr(Y, h, q, I);
        else if (this.zl) {
            var B = U.sX.sq(this.zl, U._C.jg(Y, I, h), q, !0, this.CJ.Zb)
                , n = B[0].x
                , g = B[0].y
                , z = this.pZ = new W(n, g, B[1].x - n, B[1].y - g);
            Y.K.cv = t.a.yP(z);
            Y.Yw = !0;
            U.Il.Qe(H.x + 10, H.y - 10, z, Y, h)
        }
    }
        ;
    U.AQ.prototype.mi = function (Y, S, h, q, H) {
        this.kW = H;
        if (this.sJ == null) {
            if (this.zl) {
                var I = this.pZ;
                if (I) {
                    var E = this.CJ.Zb;
                    this.sJ = this.xq(I, E.qa != 0);
                    this.sJ.hN(Y, h);
                    this.pZ = null;
                    this.fc(S, P.E.P, {
                        X: P.U.tS,
                        F: this.id,
                        iI: !0
                    })
                }
                this.zl = null;
                Y.K.NS = [];
                Y.Yw = !0
            }
            return
        }
        var d = Y.z.vl(H.x, H.y);
        debugger
        this.sJ.mi(Y, h, q, d);
        this.fc(S, P.E.P, {
            X: P.U.tS,
            F: this.id,
            iI: !0
        });
        var B = this.sJ.mx();
        if (Math.abs(B[0] - B[4]) < 2 || Math.abs(B[1] - B[5]) < 2) {
            this.disable(Y, S, null, q);
            return
        }
        if (Date.now() - this.ajd < 200 && this.sJ.Ew(d)) {
            this.Sm(Y, h);
            this.disable(Y, S, h, q);
            return
        }
        this.ajd = Date.now()
    }
        ;
    U.AQ.prototype.jL = function (Y, S, h, q) {
        var H = this.sJ;
        if (H == null || this.kW && this.kW.gk)
            return;
        if (q.q(F.gm)) {
            this.Sm(Y, h);
            this.disable(Y, S, h, q)
        } else if (q.q(F.fp)) {
            this.disable(Y, S, h, q)
        } else
            H.jL(Y, h, q)
    }
        ;
    U.AQ.qA = function (Y, S) {
        var h = {
            classID: "null",
            T: {
                t: "Objc",
                v: {
                    classID: "Rctn",
                    Top: {
                        t: "UntF",
                        v: {
                            type: "#Pxl",
                            val: Y[1]
                        }
                    },
                    Left: {
                        t: "UntF",
                        v: {
                            type: "#Pxl",
                            val: Y[0]
                        }
                    },
                    Btom: {
                        t: "UntF",
                        v: {
                            type: "#Pxl",
                            val: Y[1] + Y[3]
                        }
                    },
                    Rght: {
                        t: "UntF",
                        v: {
                            type: "#Pxl",
                            val: Y[0] + Y[2]
                        }
                    }
                }
            },
            Angl: {
                t: "UntF",
                v: {
                    type: "#Ang",
                    val: S != null ? S : 0
                }
            },
            Dlt: {
                t: "bool",
                v: !0
            },
            cropAspectRatioModeKey: {
                t: "enum",
                v: {
                    cropAspectRatioModeClass: "pureAspectRatio"
                }
            },
            CnsP: {
                t: "bool",
                v: !1
            }
        };
        return {
            f0: "crop",
            Jz: h
        }
    }
        ;
    U.AQ.ob = function (Y, S) {
        if (S == null)
            S = [!0, !0, !0, !0];
        var h = {
            classID: "trim",
            trimBasedOn: {
                t: "enum",
                v: {
                    trimBasedOn: ["topLeftPixelColor", "bottomRightPixelColor", "Trns"][Y]
                }
            }
        }
            , q = ["Top", "Left", "Btom", "Rght"];
        for (var G = 0; G < 4; G++)
            h[q[G]] = {
                t: "bool",
                v: S[G]
            };
        return {
            f0: "trim",
            Jz: h
        }
    }
        ;
    U.AQ.OJ = function (Y, S, h, q) {
        var H = {
            classID: "null"
        };
        if (q != null) {
            H.Wdth = {
                t: "UntF",
                v: {
                    type: "#Pxl",
                    val: Y
                }
            };
            H.Hght = {
                t: "UntF",
                v: {
                    type: "#Pxl",
                    val: S
                }
            };
            H.Intr = {
                t: "enum",
                v: {
                    Intp: ["Nrst", "Blnr", "bicubicSharper"][q]
                }
            }
        }
        if (h != null)
            H.Rslt = {
                t: "UntF",
                v: {
                    type: "#Rsl",
                    val: h
                }
            };
        return {
            f0: "imageSize",
            Jz: H
        }
    }
        ;
    U.AQ.YV = function (Y, S, h) {
        if (h == null)
            h = 4;
        var q = Math.floor(h / 3)
            , H = h % 3;
        return {
            f0: "canvasSize",
            Jz: {
                classID: "null",
                Wdth: {
                    t: "UntF",
                    v: {
                        type: "#Pxl",
                        val: Y
                    }
                },
                Hght: {
                    t: "UntF",
                    v: {
                        type: "#Pxl",
                        val: S
                    }
                },
                Hrzn: {
                    t: "enum",
                    v: {
                        HrzL: ["Left", "Cntr", "Rght"][H]
                    }
                },
                Vrtc: {
                    t: "enum",
                    v: {
                        VrtL: ["Top", "Cntr", "Btom"][q]
                    }
                }
            }
        }
    }
        ;
    U.AQ.prototype.ON = function (Y, S, h, q, H) {
        var I = new W(0, 0, h.d, h.v), E = [11, 3], d = h.PW, B = h.d / 2, n = h.v / 2, g = 1, f, gf;
        if (Y.X == "fromAction") {
            var z = Y.gM, p = z.f0, C = z.Jz, T = h.d / h.v, A = C.Wdth ? C.Wdth.v.val : -1, i = C.Hght ? C.Hght.v.val : -1, d = C.Rslt ? C.Rslt.v.val : null, e = C.Wdth ? C.Wdth.v.type : C.Hght ? C.Hght.v.type : -1, a = 1, Z;
            if (p == "imageSize") {
                if (C.Intr) {
                    if (C.Intr.v.Intp == "Nrst")
                        a = 0;
                    if (C.Intr.v.Intp == "bicubicSharper")
                        a = 2;
                    if (A == -1 && i == -1) {
                        var O = d / h.PW;
                        A = Math.round(h.d * O);
                        i = Math.round(h.v * O)
                    } else if (e == "#Prc") {
                        if (A != -1)
                            A = Math.round(h.d * A / 100);
                        if (i != -1)
                            i = Math.round(h.v * i / 100)
                    }
                    if (C.CnsP && C.CnsP.v) {
                        if (A == -1)
                            A = Math.round(i * T);
                        if (i == -1)
                            i = Math.round(A / T)
                    }
                } else {
                    if (e == "#Prc")
                        d = Math.round(h.PW / ((A != -1 ? A : i) / 100));
                    else if (e == -1)
                        d = Math.round(d);
                    else
                        throw "e";
                    A = h.d;
                    i = h.v
                }
                Z = {
                    X: "imgsize",
                    ui: A,
                    Cb: i,
                    Xd: d,
                    KV: a
                }
            } else if (p == "canvasSize") {
                if (A == -1)
                    A = h.d;
                if (i == -1)
                    i = h.v;
                if (C.Rltv && C.Rltv.v == !0) {
                    if (C.Wdth)
                        A += h.d;
                    if (C.Hght)
                        i += h.v
                }
                var c = C.Vrtc ? C.Vrtc.v.VrtL : "Cntr"
                    , s = C.Hrzn ? C.Hrzn.v.HrzL : "Cntr";
                Z = {
                    X: "canvsize",
                    ui: A,
                    Cb: i,
                    fR: 3 * ["Top", "Cntr", "Btom"].indexOf(c) + ["Left", "Cntr", "Rght"].indexOf(s)
                }
            } else if (p == "revealAll") {
                Z = {
                    X: "revealAll"
                }
            } else if (p == "trim") {
                var x = {
                    topLeftPixelColor: 0,
                    bottomRightPixelColor: 1,
                    Trns: 2
                }[C.trimBasedOn.v.trimBasedOn];
                if (x == null)
                    throw "e";
                var u = ["Top", "Left", "Btom", "Rght"]
                    , y = [!0, !0, !0, !0];
                for (var G = 0; G < 4; G++)
                    if (C[u[G]])
                        y[G] = C[u[G]].v;
                Z = {
                    X: "trim",
                    a6a: x,
                    U6: y
                }
            } else if (p == "crop") {
                var j = C.T.v
                    , v = Math.round(j.Left.v.val)
                    , X = Math.round(j.Top.v.val)
                    , N = Math.round(j.Rght.v.val) - v
                    , V = Math.round(j.Btom.v.val) - X;
                Z = {
                    X: "canvsize",
                    ui: N,
                    Cb: V,
                    T: new aV(v, X)
                }
            } else
                console.log(z);
            debugger;
            if (Z)
                this.ON(Z, S, h, q, H);
            return
        } else if (Y.X == "imgsize") {
            I = new W(0, 0, Y.ui, Y.Cb);
            if (Y.Xd)
                d = Y.Xd;
            g = Y.KV
        } else if (Y.X == "canvsize") {
            var $ = Y.fR != null ? Y.fR : 0;
            I = new W(0, 0, Y.ui, Y.Cb);
            var w = h.d - Y.ui
                , m = h.v - Y.Cb
                , l = Math.round(w / 2)
                , b = Math.round(m / 2);
            if ($ == 1 || $ == 4 || $ == 7)
                I.x = l;
            if ($ == 2 || $ == 5 || $ == 8)
                I.x = w;
            if ($ == 3 || $ == 4 || $ == 5)
                I.y = b;
            if ($ == 6 || $ == 7 || $ == 8)
                I.y = m;
            if (Y.T) {
                I.x = Y.T.x;
                I.y = Y.T.y
            }
        } else if (Y.X == "rot" && (Y.G + 2 * Math.PI) % (Math.PI / 2) != 0) {
            var K = t.a.yP(I).H
                , J = new d5;
            J.translate(-B, -n);
            J.rotate(Y.G);
            J.translate(B, n);
            t.a.J(K, J, K);
            I = t.a.wO(K)
        } else if (Y.X == "rot" && Y.G != Math.PI && Y.G != -Math.PI) {
            I = new W(B - h.v / 2, n - h.d / 2, h.v, h.d);
            if ((h.d + h.v & 1) == 1) {
                B = Math.floor(B);
                n = Math.floor(n);
                I = new W(B - Math.floor(h.v / 2), n - Math.floor(h.d / 2), h.v, h.d);
                if ((h.d & 1) == 1 && Y.G != -Math.PI / 2)
                    I.y--;
                if ((h.v & 1) == 1 && Y.G == -Math.PI / 2)
                    I.x--
            }
        } else if (Y.X == "trim") {
            E = [11, 12, 0];
            var R = h.Q3()
                , r = new W(0, 0, h.d, h.v);
            I = t.VY(R, r, Y.a6a, Y.U6);
            if (I.fa())
                I = r
        } else if (Y.X == "cropbysel") {
            E = [11, 12, 1];
            I = h.N.rect.clone()
        } else if (Y.X == "revealAll") {
            E = [11, 12, 2];
            I = h.root.i6(h, !0)
        }
        if (Y.X == "imgsize" || Y.X == "rot" || Y.X == "scl") {
            var aa = new d5;
            if (Y.X == "imgsize") {
                E = [11, 10];
                aa.scale(Y.ui / h.d, Y.Cb / h.v)
            } else {
                aa.translate(-B, -n);
                if (Y.X == "rot")
                    aa.rotate(Y.G);
                if (Y.X == "scl")
                    aa.scale(Y.G.x, Y.G.y);
                aa.translate(B, n);
                E = Y.vc
            }
            gf = t.I.gA(aa);
            f = this.X8(h, H, !0, gf, g)
        } else if (Y.X == "auto-align") {
            if (h.C.length < 2) {
                alert("Select two or more layers.");
                return
            }
            var aA = [];
            for (var G = 0; G < h.C.length; G++) {
                var e5 = h.t[h.C[G]];
                if (!e5.Ac() && e5.add.SoLd == null) {
                    alert("Unsupported layer selected.");
                    return
                }
                if (e5.rect.fa()) {
                    alert("Empty layer selected.");
                    return
                }
                aA.push([e5.buffer, e5.rect])
            }
            var fk = t.B6.vX(aA, 0);
            if (fk == null) {
                alert("No similarity found.");
                return
            }
            gf = fk[1];
            var o = h.C;
            h.C = h.C.slice(1);
            f = this.X8(h, H, !1, fk.slice(1), g);
            h.C = o;
            I = h.root.i6(h, !0);
            E = [2, 10, 1]
        }
        var eY = new W(0, 0, h.d, h.v);
        if (!I.fa() && (!I.ma(eY) || f != null)) {
            var du = new fj(E, this);
            du.data = {
                vt: eY,
                sb: I,
                a0b: h.PW,
                Xd: d,
                RF: f,
                TM: gf,
                IP: U.AQ.fW(h, I, eY, f != null)
            };
            h._l(du);
            this.RV(du.data, h)
        }
    }
        ;
    U.AQ.fW = function (Y, S, h, q) {
        if (Y.r1.length == 0)
            return null;
        var H = JSON.stringify(Y.r1)
            , I = JSON.parse(H);
        U.ng.aed(I, S, h, q);
        I = JSON.stringify(I);
        return [H, I]
    }
        ;
    U.AQ.prototype.X8 = function (Y, S, h, q, H, I) {
        var E = {
            t: [],
            jD: null,
            UU: null
        };
        if (h) {
            for (var G = 0; G < Y.t.length; G++)
                E.t.push(G);
            for (var G = 0; G < Y._b.length; G++)
                E.t.push(-1 - G);
            for (var G = 0; G < Y.h3.length; G++)
                E.t.push(-1e3 - G)
        } else
            E.t = Y.C.slice(0);
        E.jD = U.o.fr(Y, E.t, !0);
        U.o.BM(Y, S, E.t, E.jD, H, q, null, !0, I);
        E.UU = U.o.fr(Y, E.t, !0);
        return E
    }
        ;
    U.AQ.prototype.RV = function (Y, S) {
        if (Y.Xd)
            S.PW = Y.Xd;
        if (Y.IP)
            S.r1 = JSON.parse(Y.IP[1]);
        if (Y.RF) {
            U.AQ.XL(S, t.I.v8(Y.TM));
            U.o.s3(S, Y.RF.t, Y.RF.UU)
        }
        U.AQ.Yf(S, Y.sb)
    }
        ;
    U.AQ.prototype.Td = function (Y, S) {
        if (Y.a0b)
            S.PW = Y.a0b;
        if (Y.IP)
            S.r1 = JSON.parse(Y.IP[0]);
        var h = Y.vt.clone();
        h.offset(-Y.sb.x, -Y.sb.y);
        U.AQ.Yf(S, h);
        if (Y.de)
            S.z.T.jX(Y.de);
        S.TY();
        if (Y.RF) {
            var q = t.I.v8(Y.TM).clone();
            q.fb();
            U.AQ.XL(S, q);
            U.o.s3(S, Y.RF.t, Y.RF.jD)
        }
    }
        ;
    U.AQ.XL = function (Y, S) {
        for (var G = 0; G < Y.t.length; G++) {
            var h = Y.t[G];
            if (h.add.artb == null)
                continue;
            var q = t.a.yP(h.aG()).H;
            t.a.J(q, S, q);
            var H = t.a.wO(q);
            h.SV(H)
        }
    }
        ;
    U.AQ.Yf = function (Y, S) {
        Y.d = S.d;
        Y.v = S.v;
        var h = [];
        for (var G = 0; G < Y.t.length; G++)
            h.push(G);
        U._C.aJ(Y, h, null, -S.x, -S.y);
        for (var G = 0; G < Y.t.length; G++) {
            Y.t[G]._A(Y)
        }
        Y.TY();
        Y.z.T.bm(0, 0);
        if (Y.N)
            Y.N.rect.offset(-S.x, -S.y);
        for (var G = 0; G < 2; G++)
            for (var q = 0; q < Y.E9[G].length; q++)
                Y.E9[G][q] -= G == 0 ? S.x : S.y;
        for (var G = 0; G < Y.h3.length; G++)
            Y.h3[G].rect.offset(-S.x, -S.y)
    }
        ;
    U.AQ.prototype.yg = function (Y, S, h, q, H) {
        if (Y.AT == "commit") {
            this.Sm(h, H);
            this.disable(h, S, null, q)
        } else if (Y.AT == "cancel") {
            this.disable(h, S, null, q)
        }
        var I = null
            , E = new W(0, 0, h.d, h.v)
            , d = this.CJ.Zb;
        if (Y.AT == "config") {
            this.CJ = Y.CJ;
            d = this.CJ.Zb;
            if (this.CJ.Yf != null)
                return;
            if (h == null)
                return;
            I = E;
            if (d.qa == 1) {
                var B = d.x / d.y;
                I.v = Math.round(I.d / B)
            }
            if (d.qa == 2) {
                I.d = d.x;
                I.v = d.y
            }
            I.x = Math.round((h.d - I.d) / 2);
            I.y = Math.round((h.v - I.v) / 2)
        }
        if (Y.AT == "cropby") {
            if (h == null)
                return;
            var n = Y.a69, I;
            if (n == 0)
                I = h.root.i6(h, !0);
            if (n == 1) {
                if (h.C.length == 0)
                    alert("No layer is selected.");
                else {
                    var g = h.root.TZ(h.C[0]);
                    I = g.i6(h, !0)
                }
            }
            if (n == 2) {
                if (h.C.length == 0)
                    alert("No layer is selected.");
                else {
                    I = t.VY(h.Q3(), E, 0);
                    if (I.fa())
                        I = E.clone()
                }
            }
            if (n == 3) {
                if (h.N != null)
                    I = h.N.rect;
                else
                    alert("There is no selection.")
            }
        }
        if (I && I.fa())
            I = null;
        if (I != null) {
            this.sJ = this.xq(I, d.qa != 0);
            this.sJ.hN(h, H);
            this.fc(S, P.E.P, {
                X: P.U.tS,
                F: this.id,
                iI: !0
            })
        }
    }
        ;
    U.AQ.prototype.Sm = function (Y, S) {
        var h = this.sJ.mx(), q = t.a.wO(h), H = this.agD(Y, h), I = !1, E = this.CJ.Zb, d = this.CJ.Yf, B = E.x, n = E.y, p;
        if (this.id == U._G && E.qa == 2 && H.e() != B * n) {
            H = new W(H.x, H.y, B, n);
            I = !0
        }
        var g = t.I.Rc(h, H);
        g = t.I.fb(g);
        var z = t.I.gU(g)
            , C = Math.atan2(g[3], g[0]);
        if (Math.abs(C) > 1e-9 || !z || I || d)
            p = this.X8(Y, S, !0, g, 1, q);
        var T = new fj(this.name, this)
            , A = new W(0, 0, Y.d, Y.v);
        T.data = {
            vt: A,
            sb: H,
            RF: p,
            TM: g,
            de: Y.z.T.clone(),
            IP: U.AQ.fW(Y, H, A, !1)
        };
        Y._l(T);
        this.RV(T.data, Y);
        this.track(U.AQ.qA([q.x, q.y, q.d, q.v]))
    }
        ;
    U.AQ.prototype.agD = function (Y, S) {
        var h = t.I.Rc(S)
            , q = t.I.gU(h)
            , H = t.I.v8(h)
            , I = H.TR
            , E = H.Un
            , d = Math.atan2(H.O, H.R);
        H.rotate(d);
        var B = new W(I, E, H.R, H.RH);
        if (!q) {
            function n(Z, G, O) {
                var c = Z[G] - Z[O]
                    , s = Z[G + 1] - Z[O + 1];
                return Math.sqrt(c * c + s * s)
            }
            var g = n(S, 0, 2), z = n(S, 4, 6), p = Math.max(g, z), C = n(S, 2, 4), T = n(S, 6, 0), A = Math.max(C, T), i = U.AQ.akM(S, Y.d / 2, Y.v / 2), e, a;
            if (isNaN(i) || i == Infinity || i == -Infinity || Math.min(i, 1 / i) < .1)
                i = (g + z) / (C + T);
            if (p / A > i) {
                e = p * 1;
                a = e / i
            } else {
                a = A * 1;
                e = a * i
            }
            B.d = e;
            B.v = a
        }
        B.x = Math.round(B.x);
        B.y = Math.round(B.y);
        B.d = Math.round(B.d);
        B.v = Math.round(B.v);
        return B
    }
        ;
    U.AQ.akM = function (Y, S, h) {
        var q = Y[0] - S
            , H = Y[1] - h
            , I = Y[2] - S
            , E = Y[3] - h
            , d = Y[6] - S
            , B = Y[7] - h
            , n = Y[4] - S
            , g = Y[5] - h
            , z = ((H - g) * d - (q - n) * B + q * g - H * n) / ((E - g) * d - (I - n) * B + I * g - E * n)
            , p = ((H - g) * I - (q - n) * E + q * g - H * n) / ((B - g) * I - (d - n) * E + d * g - B * n)
            , C = -((p * B - H) * (z * E - H) + (p * d - q) * (z * I - q)) / ((p - 1) * (z - 1));
        function T(i) {
            return i * i
        }
        var A = Math.sqrt((T(z - 1) + T(z * E - H) / C + T(z * I - q) / C) / (T(p - 1) + T(p * B - H) / C + T(p * d - q) / C));
        if (z == 1 && p == 1)
            A = Math.sqrt((T(E - H) + T(I - q)) / (T(B - H) + T(d - q)));
        return A
    }
        ;
    U.AQ.prototype.disable = function (Y, S, h, q) {
        if (Y == null)
            return;
        if (this.sJ)
            this.sJ.clear(Y);
        this.sJ = null;
        this.fc(S, P.E.P, {
            X: P.U.tS,
            F: this.id,
            iI: !1
        })
    }
        ;
    U.AQ.prototype.fc = function (Y, S, h, q) {
        var H = new _(S, !0);
        H.data = h;
        if (q)
            H.F = q;
        Y.B(H)
    }
        ;
    U.eR = function () {
        U.AQ.call(this, [10, 2], U._G, "tools/rcrop")
    }
        ;
    U.eR.prototype = new U.AQ;
    U.uJ = function () {
        U.AQ.call(this, [10, 39], U.ty, "tools/pcrop")
    }
        ;
    U.uJ.prototype = new U.AQ;
    U.i_ = function () {
        U.NJ.call(this, [10, 21], U.q1, "tools/dodge");
        this.rv = "dodge"
    }
        ;
    U.i_.prototype = new U.NJ;
    U.i_.prototype.FF = function (Y, S, h, q, H) {
        this.oC(Y, h, q, H, this.V6.expo / Math.PI);
        if (this.I$ == null)
            return;
        this.Fk(Y)
    }
        ;
    U.i_.prototype.vr = function (Y, S, h, q, H) {
        this.rI(Y, S, h);
        if (this.x9)
            this.ss(Y, h, H);
        if (this.I$ == null)
            return;
        if (!H.gk)
            return;
        this.o8(Y, h, q, H);
        this.Fk(Y)
    }
        ;
    U.J3 = function () {
        U.NJ.call(this, [10, 3], U.cc, "tools/eraser");
        this.rv = "erase"
    }
        ;
    U.J3.prototype = new U.NJ;
    U.J3.prototype.FF = function (Y, S, h, q, H) {
        this.oC(Y, h, q, H, this.V6.flow);
        if (this.I$ == null)
            return;
        this.Fk(Y)
    }
        ;
    U.J3.prototype.vr = function (Y, S, h, q, H) {
        this.rI(Y, S, h);
        if (this.x9)
            this.ss(Y, h, H);
        if (this.I$ == null)
            return;
        if (!H.gk)
            return;
        var I = this.o8(Y, h, q, H);
        this.Fk(Y)
    }
        ;
    U.fj = function () {
        U.NJ.call(this, [10, 45], U.abJ, "tools/beraser");
        this.rv = "ierase"
    }
        ;
    U.fj.prototype = new U.NJ;
    U.fj.prototype.FF = function (Y, S, h, q, H) {
        if (this.Od(q, S, H))
            return;
        this.oC(Y, h, q, H, this.V6.flow);
        if (this.I$ == null)
            return;
        this.Fk(Y)
    }
        ;
    U.fj.prototype.vr = function (Y, S, h, q, H) {
        this.rI(Y, S, h);
        if (this.x9)
            this.ss(Y, h, H);
        if (this.I$ == null)
            return;
        if (!H.gk)
            return;
        this.o8(Y, h, q, H);
        this.Fk(Y)
    }
        ;
    U.Dr = function () {
        U.Q_.call(this, [10, 15], U.n5, "tools/rselect");
        this.Di = "crosshair"
    }
        ;
    U.Dr.prototype = new U.Q_;
    U.Dr.prototype.fn = function (Y, S, h, q) {
        if (!q.gk || !this.ul)
            return;
        var H = this.i6(Y, h, !0);
        Y.K.cv = t.a.yP(H);
        Y.Yw = !0;
        U.Il.Qe(q.x + 10, q.y - 10, H, Y, S)
    }
        ;
    U.Dr.prototype.wR = function (Y, S, h, q) {
        Y.K.cv = null;
        Y.K.NS = [];
        Y.Yw = !0;
        this.finish(Y, S, h, q)
    }
        ;
    U.Dr.prototype.getSelection = function (Y, S, h, q) {
        if (this.zl.ma(this.SG) || !this.ul)
            return null;
        var H = this.i6(Y, h, !0);
        if (H.fa())
            return null;
        return U.Q_.jn("Rctn", H)
    }
        ;
    U.jA = function () {
        U.Q_.call(this, [10, 4], U.al_, "tools/eselect");
        this.Di = "crosshair"
    }
        ;
    U.jA.prototype = new U.Q_;
    U.jA.prototype.fn = function (Y, S, h, q) {
        if (!q.gk || !this.ul)
            return;
        var H = this.i6(Y, h);
        Y.K.cv = U.jA.cB(H);
        Y.Yw = !0;
        U.Il.Qe(q.x + 10, q.y - 10, H, Y, S)
    }
        ;
    U.jA.prototype.wR = function (Y, S, h, q) {
        Y.K.cv = null;
        Y.K.NS = [];
        Y.Yw = !0;
        this.finish(Y, S, h, q)
    }
        ;
    U.jA.prototype.getSelection = function (Y, S, h, q) {
        if (this.zl.ma(this.SG) || !this.ul)
            return null;
        var H = this.i6(Y, h);
        if (!H.CO(new W(0, 0, Y.d, Y.v)))
            return null;
        return U.Q_.jn("Elps", H)
    }
        ;
    U.jA.cB = function (Y) {
        var S = Y.x
            , h = Y.y
            , q = Y.x + Y.d
            , H = Y.y + Y.v
            , I = (S + q) / 2
            , E = (h + H) / 2
            , d = (S - q) / 2
            , B = (h - H) / 2
            , n = .5522848
            , g = {
                H: [I, E - B],
                Z: ["M", "C", "C", "C", "C"]
            };
        g.H.push(I + n * d, E - B, I + d, E - n * B, I + d, E);
        g.H.push(I + d, E + n * B, I + n * d, E + B, I, E + B);
        g.H.push(I - n * d, E + B, I - d, E + n * B, I - d, E);
        g.H.push(I - d, E - n * B, I - n * d, E - B, I, E - B);
        return g
    }
        ;
    U.fF = function () {
        U.Il.call(this, [10, 5], U.J$, "tools/eyedropper");
        this.kH = !1;
        this.B4 = 1
    }
        ;
    U.fF.prototype = new U.Il;
    U.fF.prototype.Cj = function (Y) {
        return Y.gk
    }
        ;
    U.fF.prototype.ON = function (Y, S, h, q, H) {
        if (Y.X == "pickhere")
            this.JM(h, S, H, q, Y.aig)
    }
        ;
    U.fF.prototype.FF = function (Y, S, h, q, H) {
        this.kH = !0;
        this.JM(Y, S, h, q, H)
    }
        ;
    U.fF.prototype.vr = function (Y, S, h, q, H) {
        if (this.kH)
            this.JM(Y, S, h, q, H)
    }
        ;
    U.fF.prototype.mi = function (Y, S, h, q, H) {
        this.kH = !1
    }
        ;
    U.fF.prototype.JM = function (Y, S, h, q, H) {
        var I = U.fF.j7(Y, H, this.B4)
            , E = new _(P.E.P);
        E.data = {
            X: P.U.PD,
            go: iD.oo,
            Wg: 0,
            G: I
        };
        S.B(E)
    }
        ;
    U.fF.j7 = function (Y, S, h) {
        var q = Y.z.vl(S.x, S.y)
            , H = Math.floor(q.x)
            , I = Math.floor(q.y)
            , E = (h - 1) / 2
            , d = Math.max(0, H - E)
            , B = Math.max(0, I - E)
            , n = Math.min(Y.d, H + E + 1)
            , g = Math.min(Y.v, I + E + 1)
            , z = (n - d) * (g - B)
            , p = Y.Q3()
            , C = 0
            , T = 0
            , A = 0;
        for (var H = d; H < n; H++)
            for (var I = B; I < g; I++) {
                var G = 4 * (I * Y.d + H);
                C += p[G];
                T += p[G + 1];
                A += p[G + 2]
            }
        C = Math.round(C / z);
        T = Math.round(T / z);
        A = Math.round(A / z);
        return C << 16 | T << 8 | A
    }
        ;
    U.fF.prototype.yg = function (Y) {
        this.B4 = Y.B4
    }
        ;
    U.a$ = function () {
        U.Il.call(this, [10, 6], U.agK, "tools/gradient");
        this.V6 = {
            W: JSON.parse(ai.m_.gd).v,
            a7: "Lnr",
            mg: !1,
            a75: !1,
            a0s: "norm",
            xC: 1
        };
        this.nR = !1;
        this.Zd = null
    }
        ;
    U.a$.prototype = new U.Il;
    U.a$.prototype.enable = function (Y, S, h, q) {
        var H = new _(P.E.P, !0);
        H.data = {
            X: P.U.t6,
            WX: "default"
        };
        S.B(H)
    }
        ;
    U.a$.prototype.yg = function (Y) {
        this.V6 = Y.go
    }
        ;
    U.a$.prototype.FF = function (Y, S, h, q, H) {
        if (!Y.gH())
            return;
        this.Zd = Y.z.vl(H.x, H.y);
        this.Zd = U._C.jg(Y, this.Zd, h);
        this.nR = !0
    }
        ;
    U.a$.prototype.vr = function (Y, S, h, q, H) {
        if (!this.nR)
            return;
        var I = Y.z.vl(H.x, H.y);
        I = U._C.jg(Y, I, h);
        if (q.q(F.aY))
            I = U.a$.mk(this.Zd, I);
        Y.K.cv = {
            H: [this.Zd.x, this.Zd.y, I.x, I.y],
            Z: ["M", "L"]
        };
        Y.K.iF = [this.Zd.x, this.Zd.y, I.x, I.y];
        Y.Yw = !0
    }
        ;
    U.a$.prototype.mi = function (Y, S, h, q, H) {
        if (!this.nR)
            return;
        var I = Y.t[Y.C[0]]
            , E = Y.z.vl(H.x, H.y);
        E = U._C.jg(Y, E, h);
        if (q.q(F.aY))
            E = U.a$.mk(this.Zd, E);
        var d = E.KB(this.Zd)
            , B = aV.AZ(this.Zd, E, .5)
            , n = Math.atan2(d.y, d.x)
            , g = aV.kr(this.Zd, E)
            , z = Math.sin(n)
            , p = Math.cos(n);
        if (g > 2) {
            var C;
            if (Y.N)
                C = Y.N.rect;
            else
                C = new W(0, 0, Y.d, Y.v);
            var T = t.m(C.e() * 4)
                , A = this.V6
                , i = A.a7;
            if (i != "Lnr") {
                g *= 2;
                B = this.Zd
            }
            t.W.XH(A.W, T, C, [p * 1 / g, z * 1 / g, -z * 1 / g, p * 1 / g], B.x, B.y, A.mg, ai.W.types.indexOf(i), h.jy, h.E$, null, A.a75);
            var e = Math.round(A.xC * 256)
                , a = T.length;
            if (e != 256)
                for (var G = 0; G < a; G += 4)
                    T[G + 3] = T[G + 3] * e >>> 8;
            var Z = new _(P.E.A);
            Z.F = U.cc;
            Z.data = {
                X: "fillBMP",
                yE: T,
                D4: A.a0s,
                vc: this.name
            };
            S.B(Z)
        }
        Y.K.cv = null;
        Y.K.iF = [];
        Y.Yw = !0;
        this.nR = !1
    }
        ;
    U.a$.mk = function (Y, S) {
        if (Y.ma(S))
            return Y;
        var h = S.x - Y.x
            , q = S.y - Y.y
            , H = Math.abs(h)
            , I = Math.abs(q);
        if (H > I)
            I = H / 2 > I ? 0 : H;
        if (I > H)
            H = I / 2 > H ? 0 : I;
        H = h > 0 ? H : -H;
        I = q > 0 ? I : -I;
        var E = Math.sqrt(h * h + q * q) / Math.sqrt(H * H + I * I);
        return new aV(Y.x + H * E, Y.y + I * E)
    }
        ;
    U.a$.PG = function (Y, S, h, q, H, I, E) {
        if (E == null)
            E = P.w("canvas", "");
        var d = E.getContext("2d");
        E.width = S;
        E.height = h;
        var B = new W(0, 0, S, h)
            , n = t.m(S * h * 4);
        t.M0(n, S, h, 4);
        var g = Math.sin(q)
            , z = Math.cos(q)
            , p = t.m(S * h * 4);
        t.W.XH(Y, p, B, [z * 1 / S, g * 1 / S, -g * 1 / h, z * 1 / h], S / 2, h / 2, !1, 0, H, I);
        t.Q.Bc("norm", p, B, n, B, B, 1);
        var C = d.getImageData(0, 0, S, h);
        t.vx(n, C.data);
        d.putImageData(C, 0, 0);
        return E.toDataURL()
    }
        ;
    U.a$.aiF = function (Y, S, h) {
        var q = JSON.parse(JSON.stringify(Y));
        for (var G = 0; G < q.Clrs.v.length; G++) {
            var H = q.Clrs.v[G].v
                , I = H.Type.v.Clry;
            if (I == "UsrS")
                continue;
            var E = I == "FrgC" ? S : h;
            H.Type.v.Clry = "UsrS";
            H.Clr = {
                t: "Objc",
                v: t.W.Da({
                    h: E >> 16 & 255,
                    l: E >> 8 & 255,
                    O: E & 255
                })
            }
        }
        return q
    }
        ;
    U.ik = function () {
        U.Il.call(this, [10, 7], U.fN, "tools/hand");
        this.xM = new aV(0, 0);
        this.ie = null
    }
        ;
    U.ik.prototype = new U.Il;
    U.ik.prototype.ON = function (Y, S, h, q, H) {
        var I = Y.X;
        if (I == "setcls") {
            h.z.L5 = Y.L5;
            h.Yw = !0;
            h.P7 = !0
        }
        if (I == "scroll" && !q.q(F.Gs)) {
            if (q.q(F.EO))
                U.ik.QP(h, h.z.T.x - Y.Dh.y, h.z.T.y - Y.Dh.x);
            else
                U.ik.QP(h, h.z.T.x - Y.Dh.x, h.z.T.y - Y.Dh.y)
        }
    }
        ;
    U.ik.prototype.enable = function (Y, S, h, q) {
        this.ie = null;
        var H = new _(P.E.P, !0);
        H.data = {
            X: P.U.t6,
            WX: "grab"
        };
        S.B(H)
    }
        ;
    U.ik.prototype.FF = function (Y, S, h, q, H) {
        this.ie = Y.z.T.clone();
        this.xM.bm(H.x, H.y)
    }
        ;
    U.ik.prototype.vr = function (Y, S, h, q, H) {
        if (!H.gk)
            return;
        if (this.ie == null)
            this.FF(Y, S, h, q, H);
        U.ik.QP(Y, this.ie.x + (H.x - this.xM.x), this.ie.y + (H.y - this.xM.y))
    }
        ;
    U.ik.prototype.mi = function (Y, S, h, q, H) {
        this.ie = null
    }
        ;
    U.ik.QP = function (Y, S, h) {
        var q = Y.z.S;
        if (Y.d * q < Y.z.Eq.d && Y.v * q < Y.z.Eq.v)
            Y.z.T.bm(0, 0);
        else {
            Y.z.T.x = S;
            Y.z.T.y = h
        }
        Y.P7 = !0
    }
        ;
    U.oc = function () {
        U.Il.call(this, [10, 47], U.a4k, "tools/rview");
        this.xM = new aV(0, 0);
        this.Ju = null;
        this.aex = null
    }
        ;
    U.oc.prototype = new U.Il;
    U.oc.prototype.enable = function (Y, S, h, q) {
        this.ie = null;
        var H = new _(P.E.P, !0);
        H.data = {
            X: P.U.t6,
            WX: "grab"
        };
        S.B(H);
        if (Y)
            this.Ef(Y, S)
    }
        ;
    U.oc.prototype.disable = function (Y, S, h, q, H) {
        if (Y)
            this.Ef(Y, S)
    }
        ;
    U.oc.prototype.Gr = function (Y, S, h, q) {
        if (Y)
            this.Ef(Y, S)
    }
        ;
    U.oc.prototype.FF = function (Y, S, h, q, H) {
        this.xM.bm(H.x, H.y);
        var I = Y.z;
        this.Ju = I.vl(I.Eq.d / 2, I.Eq.v / 2);
        this.aex = I.x5()
    }
        ;
    U.oc.prototype.vr = function (Y, S, h, q, H) {
        if (!H.gk)
            return;
        var I = Y.z
            , E = this.Ju
            , d = this.xM
            , B = new aV(I.Eq.d / 2, I.Eq.v / 2)
            , n = Math.atan2(H.y - B.y, H.x - B.x)
            , g = Math.atan2(d.y - B.y, d.x - B.x);
        this.zO(Y, S, this.aex.clone(), E, n - g)
    }
        ;
    U.oc.prototype.yg = function (Y, S, h, q) {
        this.zO(h, S, null, null, Y.Lk - h.z.UZ);
        h.z.UZ = Y.Lk
    }
        ;
    U.oc.prototype.zO = function (Y, S, h, q, H) {
        var I = Y.z;
        if (h == null)
            h = I.x5();
        if (q == null)
            q = I.vl(I.Eq.d / 2, I.Eq.v / 2);
        h.translate(-q.x, -q.y);
        h.rotate(H);
        h.translate(q.x, q.y);
        I.Oi(h);
        if (Y.d * I.S < I.Eq.d && Y.v * I.S < I.Eq.v)
            I.T.bm(0, 0);
        Y.Yw = !0;
        this.Ef(Y, S)
    }
        ;
    U.oc.prototype.Ef = function (Y, S) {
        var h = new _(P.E.P, !0);
        h.data = {
            X: P.U.tS,
            F: this.id,
            Lk: Y.z.UZ
        };
        S.B(h)
    }
        ;
    U.Pe = function () {
        U.MA.call(this, [10, 25], U.En, "tools/hbrush")
    }
        ;
    U.Pe.prototype = new U.MA("");
    U.Pe.prototype.mi = function (Y, S, h, q, H) {
        if (this.I$ == null)
            return;
        this.td(Y, "heal", this.I$.ce(), this.I$.i6(), this.I$.HK());
        this.s(Y, this.I$.HK());
        U.NJ.prototype.mi.call(this, Y, S, h, q, H);
        if (!this.V6.algnd)
            this.T = null
    }
        ;
    U.k1 = function () {
        U.Il.call(this, [10, 8], U.bk, "tools/htype");
        this.pG = [];
        this.n3 = null;
        this.Q2 = null;
        this.caller = null;
        this.GG = 1;
        this.B7 = null;
        this.a5Z = 0;
        this.jP = 0;
        this.a1_ = null;
        this.l2 = null;
        this.Zc = null;
        this.OR = null;
        this.SE = null;
        this.kD = null;
        this.ahS = null;
        this.A9 = null;
        this.sJ = null;
        this.DS = null;
        this.anj = null;
        this.kG = !1;
        this.fJ = !1;
        this.bw = !1;
        this.W$ = null;
        this.RI = null;
        this.an4 = null;
        this.vg = !1;
        this.Ql = !1;
        this.xG = -1;
        this.iv = -1;
        this.F_ = document.createElement("textarea");
        this.F_.setAttribute("style", "font-family:Arial; font-size:14px; z-index:-1; " + " position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:" + (window.innerWidth - 10) + "px; height:150px;");
        this.F_.addEventListener("input", this.pk.bind(this), !1);
        this.F_.addEventListener("keydown", this.a15.bind(this), !1)
    }
        ;
    U.k1.prototype = new U.Il;
    U.k1.prototype.Cj = function (Y) {
        return Y.gk
    }
        ;
    U.k1.prototype.vJ = function (Y, S, h, q) {
        if (this.Zc != null)
            return;
        this.caller = S;
        this.n3 = Y;
        var H = this.rl(Y);
        if (H.length != 0) {
            var I = null
                , E = []
                , d = [];
            for (var G = 0; G < H.length; G++) {
                var B = Y.t[H[G]]
                    , n = B.add.TySh
                    , g = 0
                    , z = ap.lo(n.lV).length - 2
                    , p = ap.Rm(n.lV, g, z);
                ap.D9(p, U.o.Fu(n.J));
                if (p.cD.Font != null)
                    p.cD.Font = p.GZ[p.cD.Font].Name;
                I = p.GZ;
                E.push(p.cD);
                d.push(p.vY)
            }
            var p = {
                GZ: I,
                cD: ap.K7(E),
                vY: ap.K7(d)
            };
            if (p.cD.Font)
                ap.UB(p, p.cD.Font);
            this.ff(S, p, n)
        }
    }
        ;
    U.k1.prototype.rl = function (Y) {
        var S = [];
        for (var G = 0; G < Y.C.length; G++)
            if (Y.t[Y.C[G]] && Y.t[Y.C[G]].add.TySh)
                S.push(Y.C[G]);
        return S
    }
        ;
    U.k1.prototype.ON = function (Y, S, h, q, H) {
        
        if (Y.X == "insertText" && this.Zc) {
            var I = this.F_
                , E = I.value
                , d = I.selectionStart
                , B = I.selectionEnd;
            I.value = E.slice(0, d) + Y.G + E.slice(B);
            I.selectionStart = I.selectionEnd = d + Y.G.length;
            this.pk(null);
            I.focus()
        }
        if (Y.X == "updateStyles") {
            if (this.Zc == null) {
                var n = this.rl(h)
                    , g = !1;
                if (n.length != 0) {
                    this.Gb(h, S, H, n);
                    for (var G = 0; G < n.length; G++) {
                        var z = h.t[n[G]]
                            , p = z.add.TySh;
                        ap.gV(p, this.GG);
                        this.Zc = z;
                        var C = ap.lo(p.lV);
                        this.xG = 0;
                        this.iv = C.length - 1;
                        ap.aN(p.lV, this.xG, this.iv, this.Ps(H, p));
                        var T = this.Q7(h, H);
                        if (T == !1)
                            g = !0
                    }
                    if (g) {
                        this.vg = !0;
                        return
                    }
                    this.Tb(h, S)
                }
                return
            }
            this.yX(H)
        }
        if (Y.X.startsWith("warp")) {
            var A = this.Ql;
            if (Y.X == "warp" || Y.X == "warpCancel") {
                if (Y.X == "warp")
                    this.Zc.add.TySh.gO = Y.P8;
                else
                    this.Zc.add.TySh.gO = this.ahS;
                var h = this.n3;
                this.Q7(h, H);
                if (!A)
                    this.k2(h)
            }
            if (Y.X != "warp")
                this.F_.focus();
            if ((Y.X == "warpConfirm" || Y.X == "warpCancel") && A) {
                this.Ql = !1;
                if (Y.X == "warpConfirm")
                    this.Tb(h, S);
                else
                    this.IM(h, S)
            }
        }
        if (Y.X == "editCurr") {
            if (H.Ez != U.bk) {
                this.B7 = H.Ez;
                var i = new _(P.E.P, !0);
                i.data = {
                    X: P.U.iK,
                    F: U.bk
                };
                S.B(i)
            }
            if (this.Zc != null)
                this.disable(h, S, H, q);
            this.n3 = h;
            this.Q2 = H;
            this.caller = S;
            this.Gb(h, S, H, [Y.Pq]);
            var C = ap.lo(this.Zc.add.TySh.lV);
            this.xG = 0;
            this.iv = C.length - 1;
            this.k2(h);
            this.SX();
            this.F_.focus()
        }
        if (Y.X == "switchPntPrgr") {
            var z = h.t[h.C[0]]
                , p = z.add.TySh
                , e = p.J.Fu()
                , a = JSON.parse(JSON.stringify(p.lV))
                , Z = ap.Vu(a)
                , O = Z == 1 ? ap.mu(a) : [0, 0, Math.round(z.rect.d * 1.05 / e), Math.round(z.rect.v * 1.25 / e)]
                , c = ap.Rm(a, 0, 0)
                , s = c.GZ[c.cD.Font].Name
                , x = H.Z7.De(s)
                , u = [0, O[2], O[2] / 2][c.vY.Justification % 3]
                , y = x ? cm.uc(x, s) * (1 / x.head.unitsPerEm) * c.cD.FontSize : c.cD.FontSize * .8;
            ap.sI(a, 1 - Z);
            if (Z == 0) {
                u = -u;
                y = -y;
                ap.h6(a, [0, 0, O[2], O[3]])
            }
            var j = new d5(1, 0, 0, 1, u, y);
            j.concat(p.J);
            debugger
            this.ON({
                ph: h.C[0],
                X: "newED",
                oy: a,
                J: j
            }, S, h, q, H)
        }
        if (Y.X == "newED") {
            var z = h.t[Y.ph]
                , p = z.add.TySh
                , v = this.FC(h, [Y.ph]);
            p.lV = Y.oy;
            if (Y.J)
                p.J = Y.J;
            var X = new cm(p.lV, H.Z7)
                , N = gd.tL(X, p);
            z.rect = N._;
            z.buffer = N.nP;
            z.s();
            h.s();
            var V = new fj(this.name, this);
            V.data = {
                _t: v,
                kC: this.FC(h, [Y.ph])
            };
            h._l(V)
        }
        if (Y.X == "fromAction") {
            var $ = Y.gM.Jz.Usng.v
                , w = $.TxtC.v
                , m = [];
            for (var G = 0; G < 2; G++) {
                var l = w[G == 0 ? "Hrzn" : "Vrtc"].v
                    , b = l.val;
                if (l.type == "#Prc")
                    b = (G == 0 ? h.d : h.v) * (b / 100);
                m[G] = b
            }
            debugger
            this.ci(h, S, H, q, h.z.XV(m[0], m[1]));
            var z = h.t[h.C[0]]
                , p = z.add.TySh
                , K = p.lV
                , E = ap.lo(K);
            ap.W9(K, 0, E.length - 1);
            ap.LB(K, 0, $.Txt.v.replace(/\r/g, "\n"));
            for (var Z = 0; Z < 2; Z++) {
                var J = $[Z == 0 ? "Txtt" : "paragraphStyleRange"].v;
                for (var G = 0; G < J.length; G++) {
                    var R = J[G].v
                        , d = R.From.v
                        , B = R.T.v - 1;
                    R = R[Z == 0 ? "TxtS" : "paragraphStyle"].v;
                    var r = ap.Rm(K, d, B)
                        , f = Z == 0 ? r.cD : r.vY;
                    for (var aa in R) {
                        var aA = R[aa].v;
                        if (aa == "Sz")
                            f.FontSize = Math.round(aA.val);
                        if (aa == "fontPostScriptName")
                            ap.UB(r, aA);
                        if (aa == "Algn")
                            f.Justification = {
                                Cntr: 2
                            }[aA.Alg]
                    }
                    ap.aN(K, d, B, r)
                }
            }
            var X = new cm(p.lV, H.Z7)
                , N = gd.tL(X, p);
            z.rect = N._;
            z.buffer = N.nP;
            z.s();
            h.s();
            this.Tb(h, S)
        }
    }
        ;
    U.k1.prototype.yX = function (Y) {
        var S = Math.min(this.xG, this.iv)
            , h = Math.max(this.xG, this.iv)
            , q = this.Zc.add.TySh;
        ap.gV(q, this.GG);
        ap.aN(q.lV, S, h - 1, this.Ps(Y, q));
        var H = this.n3
            , I = this.Q7(H, Y);
        if (I)
            this.k2(H);
        if (document.activeElement.tagName.toLowerCase() != "input")
            this.F_.focus()
    }
        ;
    U.k1.prototype.E8 = function (Y) {
        return this.pG.indexOf(Y) != -1
    }
        ;
    U.k1.prototype.enable = function (Y, S, h, q) {
        var H = this.F_;
        if (!P.Ap(H))
            S.j.appendChild(H);
        this.A9 = "default";
        this.XS(S)
    }
        ;
    U.k1.prototype.VD = function () {
        return this.Zc != null
    }
        ;
    U.k1.b_ = function (Y, S) {
        for (var G = Y.t.length - 1; G >= 0; G--) {
            var h = Y.t[G];
            if (h.add.TySh && h.rect.uU(S) && Y.eH(G)) {
                var q = h.Ag(2) || h.Ag(31);
                return q ? -2 : G
            }
        }
        return -1
    }
        ;
    U.k1.prototype.FF = function (Y, S, h, q, H) {
        
        this.n3 = Y;
        this.Q2 = h;
        this.caller = S;
        var I = Y.z.vl(H.x, H.y)
            , E = this.Zc == null;
        if (E) {
            var d = U.k1.b_(Y, I);
            if (d == -2) {
                alert(gx.get([6, 57, 0]));
                return
            }
            if (d >= 0) {
                if (!gd.By(Y.t[d].add.TySh, h.Z7)) {
                    alert("Fonts not loaded yet");
                    return
                }
                this.Gb(Y, S, h, [d])
            } else {
                this.bw = !0;
                this.W$ = H;
                return
            }
        }
        var B = E ? -1 : ap.Vu(this.Zc.add.TySh.lV)
            , n = this.DS ? this.DS : this.sJ;
        if (n && n.FF(Y, h, q, I) && t.P8.Oq(this.Zc.add.TySh.gO) || !E && t.a.MZ(I, this.Zc.rect) > 20 / Y.z.S && (B == 0 || B == 1)) {
            this.kG = !0;
            this.RI = I;
            this.an4 = this.Zc.add.TySh.J.clone();
            if (this.xG == -1 && this.iv == -1)
                this.xG = this.iv = this.IH(I)
        } else {
            if (this.SE == null) {
                alert("Fonts not loaded yet");
                return
            }
            this.fJ = !0;
            this.xG = this.iv = this.IH(I);
            var g = Date.now();
            if (g - this.a5Z > 300)
                this.jP = 0;
            this.jP++;
            this.a5Z = g;
            if (this.jP == 2)
                this.ae7();
            if (this.jP == 3)
                this.ai4();
            if (this.jP > 1) {
                this.fJ = !1
            }
        }
        this.SX();
        this.k2(Y)
    }
        ;
    U.k1.prototype.Gb = function (Y, S, h, q) {
        var H = Y.t[q[0]];
        this.Zc = H;
        this.fc(S, P.E.P, {
            X: P.U.tS,
            F: this.id,
            AT: "showactive"
        });
        this.OR = q;
        Y.C = q.slice(0);
        Y.QQ();
        Y.Pm = !0;
        this.kD = this.FC(Y, q);
        this.WN(H.add.TySh);
        this.Q7(Y, h)
    }
        ;
    U.k1.prototype.WN = function (Y) {
        if (ap.Vu(Y.lV) != 1)
            return;
        var S = ap.mu(Y.lV);
        S = new W(0, 0, S[2] - S[0], S[3] - S[1]);
        var h = [S.x, S.y, S.x + S.d, S.y, S.x + S.d, S.y + S.v, S.x, S.y + S.v];
        t.a.J(h, Y.J, h);
        this.sJ = new ht(h, !1, !1, !1, !0)
    }
        ;
    U.k1.prototype.ae7 = function () {
        var Y = ap.lo(this.Zc.add.TySh.lV);
        this.xG = this.DC(Y, this.xG);
        this.iv = this.Fy(Y, this.xG)
    }
        ;
    U.k1.prototype.DC = function (Y, S) {
        var h = " \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|"
            , q = [];
        for (var G = 0; G < h.length; G++)
            q.push(h.charAt(G));
        var H = q.indexOf(Y[S]) == -1 ? !0 : !1;
        for (var G = S - 1; G >= 0; G--)
            if (q.indexOf(Y.charAt(G)) != -1 == H)
                return G + 1;
        return 0
    }
        ;
    U.k1.prototype.Fy = function (Y, S) {
        var h = " \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|"
            , q = [];
        for (var G = 0; G < h.length; G++)
            q.push(h.charAt(G));
        var H = q.indexOf(Y[S]) == -1 ? !0 : !1;
        for (var G = S + 1; G < Y.length; G++)
            if (q.indexOf(Y.charAt(G)) != -1 == H)
                return G;
        return Y.length - 1
    }
        ;
    U.k1.prototype.ai4 = function () {
        var Y = this.SE.abw(this.xG);
        this.xG = Y[0];
        this.iv = Y[1]
    }
        ;
    U.k1.prototype.XS = function (Y) {
        var S = new _(P.E.P, !0);
        S.data = {
            X: P.U.t6,
            WX: this.A9
        };
        Y.B(S)
    }
        ;
    U.k1.prototype.vr = function (Y, S, h, q, H) {
        var I = Y.z.vl(H.x, H.y)
            , E = this.Zc;
        if (!H.gk) {
            var d = "default"
                , B = this.sJ
                , n = this.DS ? this.DS : B;
            if (n && t.P8.Oq(E.add.TySh.gO)) {
                var g = n.ii(I, Y.z.S);
                if (g)
                    d = g;
                else if (n == B && B.Ew(I))
                    d = "text"
            } else if (E && t.a.MZ(I, E.rect) > 20 / Y.z.S)
                d = "move";
            else if (U.k1.b_(Y, I) >= 0)
                d = "text";
            if (d != this.A9) {
                this.A9 = d;
                this.XS(S)
            }
        }
        var z = this.W$;
        if (this.bw && Math.min(H.x - z.x, H.y - z.y) > 4 / Y.z.S) {
            this.bw = !1;
            debugger
            this.ci(Y, S, h, q, H);
            E = this.Zc;
            this.kG = !0;
            this.sJ = new ht(null, !1, !1, !1, !0);
            var p = Y.z.vl(this.W$.x, this.W$.y);
            p.x = Math.round(p.x);
            p.y = Math.round(p.y);
            this.sJ.FF(Y, h, q, p)
        }
        if (this.kG) {
            var C = E.add.TySh;
            if (this.DS) {
                this.DS.vr(Y, h, q, I);
                var T = t.I.v8(t.I.Rc(this.DS.mx(), this.anj));
                C.J = T;
                this.Q7(Y, h);
                ap.yA(C)
            } else if (this.sJ) {
                this.sJ.vr(Y, h, q, I);
                var A = C.J.clone()
                    , i = Math.atan2(A.O, A.R);
                A.rotate(i);
                var T = t.I.v8(t.I.Rc(this.sJ.mx()))
                    , e = Math.atan2(T.O, T.R);
                T.rotate(e);
                if (!isNaN(T.R) && T.R * T.RH - T.O * T.Pb != 0) {
                    var a = new W(0, 0, T.R / A.R, T.RH / A.RH)
                        , Z = Math.round(a.d)
                        , O = Math.round(a.v)
                        , c = C.lV.Curve;
                    if (c) {
                        var s = ap.mu(C.lV)
                            , x = new d5(Z / s[2], 0, 0, O / s[3], 0, 0);
                        t.a.J(c.Points, x, c.Points);
                        ap.yA(C)
                    }
                    ap.h6(C.lV, [0, 0, Z, O]);
                    C.J = t.I.v8(t.I.Rc(this.sJ.mx(), a));
                    this.Q7(Y, h);
                    ap.yA(C)
                }
            } else {
                var u = I.x - this.RI.x
                    , y = I.y - this.RI.y;
                C.J = this.an4.clone();
                var j = new aV(C.J.TR + u, C.J.Un + y);
                j = U._C.jg(Y, j, h);
                C.J.TR = j.x;
                C.J.Un = j.y;
                this.Q7(Y, h)
            }
        }
        if (this.fJ)
            this.iv = this.IH(I);
        if (this.kG || this.fJ)
            this.k2(Y)
    }
        ;
    U.k1.prototype.ci = function (Y, S, h, q, H) {
        debugger
        var I = Y.L1()
            , E = I[0]
            , d = I[1]
            , B = Y.rY();
        B.add.lnsr = "rend";
        var n = Y.t.slice(0);
        B.wN("Text layer " + n.length);
        this.Zc = B;
        var g = Y.C.length == 0 ? Y.t.length - 1 : Y.C[Y.C.length - 1]
            , z = g + 1;
        if (n[g].add.lsct == hg.fC)
            z--;
        this.kD = {
            T4: n.slice(0),
            ez: Y.C.slice(0)
        };
        n.splice(z, 0, B);
        Y.C = [z];
        this.xG = this.iv = 0;
        Y.HT(n);
        this.kD.PF = n.slice(0);
        this.kD.nI = Y.C.slice(0);
        this.fc(S, P.E.P, {
            X: P.U.tS,
            F: this.id,
            AT: "showactive"
        });
        debugger
        var p = Y.z.vl(H.x, H.y);
        B.add.TySh = ap.Hr(p.x, p.y, h.qK);
        var C = B.add.TySh
            , T = C.lV;
        ap.gV(C, this.GG);
        if (H.gk)
            ap.sI(T, 1);
        else {
            ap.sI(T, 0);
            var A = E[d.pop()]
                , i = A ? A.add.vmsk : null;
            if (i) {
                i = i.clone();
                var e = i.b, Z, O;
                for (var G = 0; G < e.length; G++)
                    if (e[G].Mg != null)
                        e[G].Mg = 0;
                var a = 4 * P.M() / Y.z.S;
                Z = t.Y.h4(i.b, p, !0, a);
                debugger
                if (Z.Y8 == -1)
                    Z = t.Y.h4(i.b, p);
                if (Z.Y8 != -1) {
                    ap.sI(T, 1);
                    var c = t.Y.kV(e, Z.Y8)
                        , s = t.Y.fD(e, Z.Y8) - 1;
                    e = i.b = e.slice(0, 2).concat(e.slice(c, c + s + 1));
                    i.C = [];
                    C.add = {
                        vmsk: i,
                        vogk: M.Ir(e)
                    };
                    T.Curve = {};
                    debugger
                    ap.Kl(C);
                    if (Z.Y5 != null) {
                        var x = cm.Uy(T.Curve);
                        t.a.J(x[0], C.J, x[0]);
                        var u = t.a.VR(x[0], p.x, p.y)
                            , y = h.qK.vY.Justification;
                        if (y == 2 || y == 5) {
                            var j = (x[2][u] + x[3] * .5) % x[3];
                            u = cm.cg(j, x[2])
                        }
                        var v = x[1][u];
                        v = v % s;
                        i.YF = [v, v];
                        ap.Kl(C)
                    } else
                        this.WN(C)
                }
            }
        }
        return B
    }
        ;
    U.k1.prototype.mi = function (Y, S, h, q, H) {
        var I = Y.z.vl(H.x, H.y)
            , E = this.bw;
        if (this.bw) {
            debugger
            this.bw = !1;
            this.ci(Y, S, h, q, H);
            this.fJ = !0
        }
        if (this.kG || this.fJ) {
            this.k2(Y);
            this.SX();
            if (E)
                this.yX(h)
        }
        debugger
        if (this.kG && this.sJ)
            this.sJ.mi(Y, h, q, I);
        this.kG = this.fJ = !1;
        this.ra(Y, h, q);
        this.F_.focus()
    }
        ;
    U.k1.prototype.SX = function () {
        var Y = this.Zc.add.TySh, S = Math.min(this.xG, this.iv), h = Math.max(this.xG, this.iv), q, H;
        if (S == h) {
            var I = ap.lo(Y.lV);
            if (S == 0 || I.charAt(S - 1) == "\n")
                q = H = S;
            else
                q = H = S - 1
        } else {
            q = S;
            H = h - 1
        }
        var E = ap.Rm(Y.lV, q, H);
        ap.D9(E, U.o.Fu(Y.J));
        this.ff(this.caller, E, Y)
    }
        ;
    U.k1.prototype.ff = function (Y, S, h) {
        this.fc(Y, P.E.P, {
            X: P.U.PD,
            go: iD.O1,
            qK: S
        });
        var q = this.GG = ap.dc(h);
        this.fc(this.caller, P.E.P, {
            X: P.U.tS,
            F: this.id,
            AT: "changeAA",
            aq: q
        })
    }
        ;
    U.k1.prototype.jL = function (Y, S, h, q) {
        if (q.q(F.fp))
            this.IM(Y, S);
        var H = this.Zc;
        if (H)
            if (this.DS == null && q.q(F.EO)) {
                var I = H.add.TySh, E = ap.Vu(I.lV), d;
                if (E == 1) {
                    d = ap.mu(I.lV);
                    d = new W(0, 0, d[2] - d[0], d[3] - d[1])
                } else
                    d = this.SE.To();
                var B = [d.x, d.y, d.x + d.d, d.y, d.x + d.d, d.y + d.v, d.x, d.y + d.v];
                t.a.J(B, I.J, B);
                this.DS = new ht(B, !0, !0, !1, !1);
                this.anj = d;
                this.k2(this.n3)
            } else
                this.ra(Y, h, q)
    }
        ;
    U.k1.prototype.ra = function (Y, S, h) {
        var q = this.Zc;
        debugger
        if (q && !this.kG && this.DS != null && !h.q(F.EO)) {
            this.DS.mi(Y, S, h, null);
            this.DS = null;
            this.WN(q.add.TySh);
            this.k2(this.n3)
        }
    }
        ;
    U.k1.prototype.disable = function (Y, S, h, q) {
        var H = this.Zc;
        this.Tb(Y, S)
    }
        ;
    U.k1.prototype.yg = function (Y, S, h, q, H) {
        if (this.Ql)
            return;
        if (Y.AT == "commit")
            this.Tb(h, S);
        if (Y.AT == "cancel")
            this.IM(h, S);
        if (Y.AT == "changeAA") {
            this.GG = Y.aq;
            debugger
            if (h != null)
                this.ON({
                    X: "updateStyles"
                }, S, h, q, H)
        }
        if (Y.AT == "showwarp") {
            if (h == null)
                return;
            if (this.Zc == null) {
                var I = h.t[h.C[0]]
                    , E = I.add.TySh;
                if (E == null)
                    return;
                this.Gb(h, S, H, [h.C[0]]);
                this.F_.focus();
                this.Ql = !0
            }
            this.ahS = this.Zc.add.TySh.gO;
            var d = new _(P.E.P, !0);
            d.data = {
                X: P.U.V5,
                Fh: "textwarp"
            };
            S.B(d)
        }
    }
        ;
    U.k1.prototype.rJ = function (Y, S) {
        if (S != iD.OO)
            return;
        if (this.vg) {
            this.vg = !1;
            var h = this.n3
                , q = this.OR;
            for (var G = 0; G < q.length; G++) {
                this.Zc = h.t[q[G]];
                this.Q7(h, Y)
            }
            this.Tb(h, this.caller);
            return
        }
        if (this.Zc)
            this.yX(Y)
    }
        ;
    U.k1.prototype.Ps = function (Y, S) {
        
        var h = JSON.parse(JSON.stringify(Y.qK));
        ap.D9(h, 1 / U.o.Fu(S.J));
        return h
    }
        ;
    U.k1.prototype.RV = function (Y, S) {
        if (Y._t != null)
            this.nA(S, Y.kC);
        else
            this.jc(S, Y.PF, Y.nI)
    }
        ;
    U.k1.prototype.Td = function (Y, S) {
        if (Y._t != null)
            this.nA(S, Y._t);
        else
            this.jc(S, Y.T4, Y.ez)
    }
        ;
    U.k1.prototype.nA = function (Y, S) {
        for (var G = 0; G < S.length; G++) {
            var h = S[G]
                , q = h.ph
                , H = Y.t[q];
            H.buffer = h.kQ;
            H.rect = h._.clone();
            H.s();
            var I = H.add.TySh;
            I.gO = h.P8;
            I.tI = h.tI.clone();
            I.J = h.J.clone();
            I.lV = JSON.parse(JSON.stringify(h.lV));
            H.cC()
        }
        Y.s()
    }
        ;
    U.k1.prototype.FC = function (Y, S) {
        var h = [];
        for (var G = 0; G < S.length; G++) {
            var q = S[G]
                , H = Y.t[q]
                , I = H.add.TySh;
            h.push({
                ph: q,
                J: I.J.clone(),
                P8: JSON.parse(JSON.stringify(I.gO)),
                tI: I.tI.clone(),
                lV: JSON.parse(JSON.stringify(I.lV)),
                kQ: H.buffer.slice(0),
                _: H.rect.clone()
            })
        }
        return h
    }
        ;
    U.k1.prototype.jc = function (Y, S, h) {
        Y.C = h;
        Y.HT(S);
        Y.s();
        Y.Dn = !0
    }
        ;
    U.k1.prototype.Q7 = function (Y, S, h) {
        if (h == null)
            h = !1;
        var q = this.Zc.add.TySh;
        if (!gd.By(q, S.Z7))
            return !1;
        this.SE = new cm(q.lV, S.Z7);
        if (!h) {
            var H = ap.lo(q.lV);
            this.F_.value = H.slice(0, H.length - 1)
        }
        var I = gd.tL(this.SE, q);
        if (t.P8.Oq(q.gO))
            q.tI = new W;
        else {
            if (ap.Vu(q.lV) == 1) {
                var E = ap.mu(q.lV)
                    , D = I.tI.y;
                q.tI = new W(0, D, E[2] - E[0], E[3] - E[1] - D)
            } else {
                q.tI = I.tI
            }
        }
        var d = this.Zc.rect;
        this.Zc.rect = I._;
        this.Zc.buffer = I.nP;
        debugger
        this.Zc.s();
        Y.Ko();
        Y.s(Y.root.Qm(I._.TG(d), Y, Y.t.indexOf(this.Zc)));
        return !0
    }
        ;
    U.k1.prototype.pk = function (Y) {
        debugger
        if (this.Zc == null || this.Ql)
            return;
        var S = this.F_.selectionStart
            , h = this.Zc.add.TySh
            , q = ap.lo(h.lV)
            , H = this.F_.value + "\n"
            , I = Math.min(this.xG, this.iv)
            , E = Math.max(this.xG, this.iv)
            , z = !1;
        this.xG = Math.min(S, I);
        if (H.length - S < q.length - this.iv)
            this.iv = q.length - H.length + S;
        if (q != H) {
            while (this.xG > 0 && q.charAt(this.xG - 1) != H.charAt(this.xG - 1))
                this.xG--
        }
        var d = q.substring(0, this.xG)
            , B = q.substring(this.iv, q.length)
            , n = H.substring(this.xG, H.length - B.length);
        ap.W9(h.lV, this.xG, this.iv);
        ap.LB(h.lV, this.xG, n);
        
        var g = this.Ps(this.Q2, h)
            , p = -1
            , C = Array.from(n);
        for (var G = 0; G < C.length; G++)
            p = Math.max(p, C[G].codePointAt(0));
        if (p != -1 && p > 128 && g.cD.Font != null) {
            var T = g.GZ[g.cD.Font].Name
                , A = this.Q2.Z7.W1(p, T, g.GZ);
            if (T != A) {
                ap.UB(g, A);
                z = !0
            }
        }
        if (this.l2 != null && n == this.l2) {
            var i = JSON.parse(this.a1_);
            g.cD = i.cD;
            g.GZ = i.GZ;
            z = !0
        }
        ap.aN(h.lV, this.xG, this.xG + n.length - 1, g);
        this.xG = this.iv = d.length + n.length;
        var e = this.n3
            , a = this.Q7(e, this.Q2, !0);
        if (a)
            this.k2(e, !0);
        if (z)
            this.SX()
    }
        ;
    U.k1.prototype.a15 = function (Y) {
        if (this.Zc == null || this.Ql)
            return;
        if (this.Zc == null)
            return;
        var S = F
            , h = 0
            , q = 0
            , e = !1;
        if (S.QN(Y.code, S.vu))
            h = 1;
        if (S.QN(Y.code, S.H1))
            h = -1;
        if (S.QN(Y.code, S.z_))
            q = -1;
        if (S.QN(Y.code, S.IL))
            q = 1;
        var H = Y.ctrlKey || Y.metaKey
            , I = S.QN(Y.code, F.a6l)
            , E = S.QN(Y.code, F.a4V);
        if (S.QN(Y.code, F.gm) && H) {
            this.Tb(this.n3, this.caller);
            return
        }
        if (S.QN(Y.code, F.HB)) {
            Y.preventDefault();
            var d = this.F_
                , B = d.value
                , n = d.selectionStart
                , g = d.selectionEnd;
            d.value = B.substring(0, n) + "\t" + B.substring(g);
            d.selectionStart = d.selectionEnd = n + 1;
            this.pk(null);
            return
        }
        if ((S.QN(Y.code, S.dz) || S.QN(Y.code, S.sg)) && H) {
            var z = this.xG
                , p = this.iv;
            if (z > p) {
                var C = z;
                z = p;
                p = C
            }
            var T = this.Zc.add.TySh
                , A = ap.lo(T.lV);
            if (z != p) {
                this.l2 = A.slice(z, p);
                this.a1_ = JSON.stringify(this.Q2.qK)
            }
        }
        var i = ap.lo(this.Zc.add.TySh.lV);
        if (h != 0 || q != 0 || I || E) {
            Y.preventDefault();
            var a = this.xG;
            if (h != 0) {
                if (H && h == -1)
                    a = this.DC(i, this.xG - 1);
                else if (H && h == 1)
                    a = this.Fy(i, this.xG);
                else {
                    var d = this.F_
                        , B = d.value;
                    a = this.xG + h;
                    if (a != 0 && B.codePointAt(a - 1) > 65535)
                        a += h
                }
            } else if (q != 0) {
                var Z = this.SE.NV(this.xG);
                if (q == -1 && Z.lZ == 0)
                    a = 0;
                else if (q == 1 && Z.lZ == this.SE.a6y() - 1)
                    a = 99999999999;
                else
                    a = this.SE.NY(new aV(Z._.x + Z._.d / 2, 0), Z.lZ + q)
            } else if (I) {
                var O = this.xG - 1;
                while (O > 0 && i.charCodeAt(O) != 10)
                    O--;
                a = O == 0 ? 0 : O + 1
            } else if (E) {
                var O = this.xG;
                while (O < i.length - 1 && i.charCodeAt(O) != 10)
                    O++;
                a = O
            }
            a = Math.max(0, Math.min(i.length - 1, a));
            if (Y.shiftKey)
                this.xG = a;
            else
                this.xG = this.iv = a;
            e = !0
        }
        if (S.QN(Y.code, F.U) && H) {
            this.xG = 0;
            this.iv = i.length - 1;
            e = !0
        }
        if (e) {
            this.SX();
            this.k2(this.n3)
        }
    }
        ;
    U.k1.a7V = function (Y, S) {
        var h = Y.length;
        if (h != S.length)
            return !1;
        for (var G = 0; G < h; G++)
            if (Y[G].ph != S[G].ph)
                return !1;
        return !0
    }
        ;
    U.k1.prototype.Tb = function (Y, S) {
        if (this.Zc == null)
            return;
        this.Zc.cC();
        var h = this.kD;
        if (h instanceof Array) {
            var q = this.FC(Y, this.OR)
                , H = Y.JK();
            if (H != null && H.F == this && H.data._t && U.k1.a7V(H.data._t, h))
                H.data.kC = q;
            else {
                var I = new fj(this.name, this);
                I.data = {
                    _t: h,
                    kC: q
                };
                Y._l(I)
            }
        } else {
            var I = new fj(this.name, this);
            I.data = {
                T4: h.T4,
                PF: h.PF,
                ez: h.ez,
                nI: h.nI
            };
            Y._l(I)
        }
        this.escape(Y, S)
    }
        ;
    U.k1.prototype.IM = function (Y, S) {
        if (this.Zc == null)
            return;
        if (this.kD instanceof Array) {
            this.nA(Y, this.kD);
            if (this.Zc)
                ap.yA(this.Zc.add.TySh)
        } else {
            Y.C = this.kD.ez;
            Y.HT(this.kD.T4)
        }
        Y.s();
        this.escape(Y, S)
    }
        ;
    U.k1.prototype.escape = function (Y, S) {
        this.Zc = null;
        this.OR = null;
        this.SE = null;
        this.sJ = null;
        this.F_.blur();
        Y.K.cv = null;
        Y.K.ds = null;
        Y.K.iF = [];
        Y.Yw = !0;
        this.kG = !1;
        this.fJ = !1;
        this.xG = this.iv = -1;
        this.fc(S, P.E.P, {
            X: P.U.tS,
            F: this.id,
            AT: "hideactive"
        });
        if (this.B7) {
            var h = new _(P.E.P, !0);
            h.data = {
                X: P.U.iK,
                F: this.B7
            };
            S.B(h);
            this.B7 = null
        }
    }
        ;
    U.k1.prototype.fc = function (Y, S, h, q) {
        var H = new _(S, !0);
        H.data = h;
        if (q)
            H.F = q;
        Y.B(H)
    }
        ;
    U.k1.prototype.IH = function (Y) {
        var S = this.Zc.add.TySh
            , h = this.SE
            , q = S.J.clone();
        q.fb();
        var H = q.I_(Y)
            , I = ap.i6(S, h)
            , E = t.P8.eT(S.gO, I)
            , d = t.FL.V.Nf(E, 0, 1, 0, 1)
            , B = new Uint32Array(30)
            , n = t.FL.V.ajK(d.Nw, d.P3, H.x, H.y, B)
            , g = t.FL.h4(E, H.x, H.y, d.Nw, B, n, !1)
            , z = t.FL.i3;
        if (z == null)
            z = new Float64Array(2);
        H = new aV(I.x + z[0] * I.d, I.y + z[1] * I.v);
        var p = h.NY(H);
        return p
    }
        ;
    U.k1.prototype.k2 = function (Y, S) {
        if (S == null)
            S = !1;
        var h = this.Zc.add.TySh
            , q = ap.Vu(h.lV)
            , H = this.SE
            , I = H ? ap.i6(h, H) : null;
        Y.K.iF = [];
        Y.K.cv = null;
        Y.K.ds = null;
        var E = this.DS ? this.DS : this.sJ;
        if (E) {
            E.hN(Y, this.Q2, !t.P8.Oq(h.gO));
            var d = h.J.clone();
            d.fb();
            t.a.J(Y.K.iF, d, Y.K.iF);
            t.a.J(Y.K.cv.H, d, Y.K.cv.H);
            if (H && H.amU()) {
                var B = I.d - 20
                    , n = I.v + 8;
                Y.K.cv.H.push(B, n, B + 10, n, B + 5, n - 5, B + 5, n + 5);
                Y.K.cv.Z.push("M", "L", "M", "L")
            }
        } else if (q == 0)
            this.aiX(Y, h, H);
        else
            Y.K.cv = {
                H: [],
                Z: []
            };
        var g = Math.min(this.xG, this.iv)
            , z = Math.max(this.xG, this.iv);
        if (!S) {
            this.F_.selectionStart = g;
            this.F_.selectionEnd = z
        }
        if (H != null) {
            var p = function (E, c) {
                var s = E.x
                    , x = E.y + E.v
                    , u = new d5;
                u.translate(-s, -x);
                u.rotate(-c);
                u.translate(s, x);
                E.y += E.v * .27;
                var a = t.a.yP(E);
                t.a.J(a.H, u, a.H);
                return a
            };
            if (g == z) {
                g = Math.max(g, 0);
                var C = H.NV(g);
                if (C) {
                    var T = C._
                        , A = this.Q2.qK.cD.FontSize;
                    if (A != null && A != 0) {
                        A /= h.J.Fu();
                        T.y += T.v - A;
                        T.v = A
                    }
                    var i = H.aiC(g);
                    if (i != null && i.lm == 1)
                        T.x += T.d;
                    var e = p(T, C.UZ).H;
                    Y.K.cv.Z.push("M", "L");
                    Y.K.cv.H.push(e[0], e[1], e[6], e[7])
                }
            } else {
                Y.K.ds = {
                    H: [],
                    Z: []
                };
                for (var G = g; G < z; G++) {
                    var C = H.NV(G)
                        , a = p(C._, C.UZ);
                    t.a.concat(Y.K.ds, a)
                }
            }
        }
        if (H != null) {
            if (!I.fa()) {
                var Z = t.P8.eT(h.gO, I)
                    , O = Math.min(I.d, I.v) / 10;
                if (O < 1)
                    O = 1;
                if (Y.K.cv) {
                    Y.K.cv = t.a.xr(Y.K.cv);
                    Y.K.cv = t.a.dH(Y.K.cv, O);
                    t.FL.apply(Z, Y.K.cv.H, I)
                }
                if (Y.K.ds) {
                    Y.K.ds = t.a.xr(Y.K.ds);
                    Y.K.ds = t.a.dH(Y.K.ds, O);
                    t.FL.apply(Z, Y.K.ds.H, I)
                }
                t.FL.apply(Z, Y.K.iF, I)
            }
        }
        if (Y.K.cv)
            t.a.J(Y.K.cv.H, h.J, Y.K.cv.H);
        if (Y.K.ds)
            t.a.J(Y.K.ds.H, h.J, Y.K.ds.H);
        t.a.J(Y.K.iF, h.J, Y.K.iF);
        Y.Yw = !0
    }
        ;
    U.k1.prototype.aiX = function (Y, S, h) {
        if (h == null)
            return;
        Y.K.iF.push(0, 0);
        if (Y.K.cv == null)
            Y.K.cv = {
                Z: [],
                H: []
            };
        for (var G = 0; G < h.vY.length; G++) {
            var q = h.vY[G];
            for (var H = 0; H < q.rm.length; H++) {
                var I = q.rm[H]
                    , E = q.Pl.x + I.Pl.x + I._.x
                    , d = q.Pl.y + I.Pl.y + I._.y + I._.v;
                Y.K.cv.Z.push("M", "L");
                Y.K.cv.H.push(E, d, E + I._.d, d)
            }
        }
        Y.Yw = !0
    }
        ;
    U.SW = function () {
        U.Q_.call(this, [10, 9], U.U5, "tools/lasso");
        this.Di = "crosshair";
        this.MO = null;
        this.BT = null;
        this.RI = null
    }
        ;
    U.SW.prototype = new U.Q_;
    U.SW.prototype.Kf = function (Y, S, h, q) {
        this.MO = this.zl;
        this.BT = {
            H: [this.MO.x, this.MO.y],
            Z: ["M"]
        }
    }
        ;
    U.SW.prototype.fn = function (Y, S, h, q) {
        this.RI = q;
        var H = this.BT;
        if (H == null)
            return;
        if (!q.gk) {
            if (this.BT != null && this.i$ > 1 && h.q(F.Gs)) {
                H.H.pop();
                H.H.pop();
                H.H.push(this.SG.x, this.SG.y);
                Y.K.cv = H;
                Y.Yw = !0
            }
            return
        }
        H.Z.push("L");
        H.H.push(this.SG.x, this.SG.y);
        this.MO = this.SG;
        if (this.ul) {
            Y.K.cv = H;
            Y.Yw = !0
        }
    }
        ;
    U.SW.prototype.VD = function () {
        return this.BT != null
    }
        ;
    U.SW.prototype.NK = function () {
        return this.BT != null
    }
        ;
    U.SW.prototype.jL = function (Y, S, h, q) {
        U.Q_.prototype.jL.call(this, Y, S, h, q);
        if (this.BT && this.i$ > 1 && this.RI && !this.RI.gk && !q.q(F.Gs))
            this.Uq(Y, h, q)
    }
        ;
    U.SW.prototype.wR = function (Y, S, h, q) {
        this.RI = q;
        var H = this.BT;
        if (H == null)
            return;
        if (this.i$ > 1 && h.q(F.Gs)) {
            H.Z.push("L");
            H.H.push(this.SG.x, this.SG.y);
            return
        }
        this.Uq(Y, S, h)
    }
        ;
    U.SW.prototype.Uq = function (Y, S, h) {
        this.finish(Y, S, h, this.RI);
        this.BT = null;
        Y.K.cv = null;
        Y.Yw = !0
    }
        ;
    U.SW.prototype.getSelection = function (Y, S, h, q) {
        if (this.zl.ma(this.SG) || !this.ul)
            return null;
        return U.Q_.G3(this.BT.H)
    }
        ;
    U._C = function () {
        U.Il.call(this, [10, 11], U.Vg, "tools/move");
        this.CD = new aV(0, 0);
        this.aT = new aV(0, 0);
        this.ZQ = null;
        this.X2 = null;
        this._r = new aV(0, 0);
        this.BY = null;
        this.it = null;
        this.Su = null;
        this.ao = 0;
        this.MS = null;
        this.aa = [];
        this.DK = null;
        this.nR = !1;
        this.X = 0;
        this.$s = null;
        this.$t = null;
        this.NR = null;
        this.Aj = !1;
        this.V6 = {
            Sv: !1,
            JN: !1,
            mC: !1
        };
        this.a1k = !1;
        this.ah8 = !1;
        this.sJ = null;
        this.ub = null;
        this.a5p = null;
        var Y = [];
        for (var G = 0; G < t.n1.rQ.length; G++)
            Y.push({
                name: t.n1.rQ[G],
                p: function (S, h, q) {
                    return {
                        x$: h.nF.W_ == q
                    }
                }
            });
        this.iO = new gV(Y);
        this.iO.k("select", this.ko, this)
    }
        ;
    U._C.prototype = new U.Il;
    U.Il.prototype.Cj = function (Y) {
        return this.nR && this.X != 2
    }
        ;
    U._C.prototype.cq = function () {
        return this.nR && this.X == 0
    }
        ;
    U._C.prototype.Gr = function (Y, S, h, q) {
        this.bJ(Y, -this._r.x, -this._r.y);
        this._r.bm(0, 0);
        this.AB(Y, null, h);
        this.P2(Y)
    }
        ;
    U._C.prototype.Mz = function () {
        var Y = this.V6;
        return [Y.Sv ? 1 : 0, Y.JN ? 1 : 0, Y.mC ? 1 : 0]
    }
        ;
    U._C.prototype.YC = function (Y, S, h) {
        var q = this.V6;
        if (Y && Y[0] != null)
            q.Sv = Y[0] == 1;
        if (Y && Y[1] != null)
            q.JN = Y[1] == 1;
        if (Y && Y[2] != null)
            q.mC = Y[2] == 1;
        var H = new _(P.E.P, !0);
        H.data = {
            X: P.U.tS,
            F: this.id,
            mY: q,
            ak5: S
        };
        h.B(H)
    }
        ;
    U._C.yC = function (Y, S, h, q, H, I, E) {
        if (E == null)
            E = [!1, !0];
        var d = new W(0, 0, Y.d, Y.v)
            , B = Y.rf(null, H, !0)
            , n = Y._w(B, E[0] ? d : null, E[1] ? null : d)[0];
        if (E[1]) {
            var g = t.VY(n.Q3(), new W(0, 0, n.d, n.v), 2);
            U.AQ.Yf(n, g)
        }
        if (h != 1) {
            var z = new W(0, 0, Math.round(n.d * h), Math.round(n.v * h));
            U.AQ.Yf(n, z);
            var p = [];
            for (var G = 0; G < n.t.length; G++)
                p.push(G);
            var C = U.o.fr(n, p, !0);
            U.o.BM(n, q, p, C, 1, t.I.gA(new d5(h, 0, 0, h, 0, 0)), null, !0);
            n.aj()
        }
        var T = [];
        for (var G = 0; G < S.length; G++)
            if (n.d * n.v != 0)
                T.push(eD.mE(n, S[G].toUpperCase(), null, null, I ? I[G] : null, q));
        return T
    }
        ;
    U._C.prototype.mL = function (Y, S, h, q, H) {
        if (Y == null || Y.C.length == 0)
            return;
        var I = U._C.yC(Y, [S], h, q, null)[0]
            , E = new _(P.E.P, !0);
        E.data = {
            X: P.U.mt,
            data: I,
            name: Y.t[Y.C[0]].getName() + (h == 1 ? "" : "@" + h + "x") + "." + S
        };
        H.B(E)
    }
        ;
    U._C.prototype.yg = function (Y, S, h, q, H) {
        if (Y.Wg == "getPNG") {
            this.mL(h, "png", Y.Yy, H, S)
        } else if (Y.Wg == "getSVG") {
            this.mL(h, "svg", Y.Yy, H, S)
        }
        if (Y.Wg == "prms") {
            this.V6 = Y;
            this.P2(h)
        }
    }
        ;
    U._C.aej = function (Y) {
        var D = Y.length
            , h = 0;
        Y.sort(function (I, E) {
            return I[0] + I[1] / 2 - (E[0] + E[1] / 2)
        });
        var S = Y[D - 1][0] + Y[D - 1][1] - Y[0][0];
        for (var G = 0; G < D; G++)
            h += Y[G][1];
        var q = Math.round((S - h) / (D - 1))
            , H = Y[0][0];
        for (var G = 0; G < D; G++) {
            Y[G][0] = H;
            H += Y[G][1] + q
        }
    }
        ;
    U._C.prototype.ON = function (Y, S, h, q, H) {
        var I = Y.X;
        if (I == "trsl") {
            var E = Math.round(Y.adr)
                , d = Math.round(Y.a0L);
            this._r.bm(E, d);
            this.bY(h, S, q, H, !1, Y.$);
            this.bJ(h, E, d);
            this.AB(h, null, H)
        } else if (I == "gids" || I == "gidsFromLayer") {
            var B = Y.$t, n, g;
            if (B == null)
                B = JSON.parse(JSON.stringify(h.E9));
            if (I == "gids") {
                n = Y.QL;
                var z = B[0].length + B[1].length
                    , p = n[0].length + n[1].length;
                g = z == p ? [23, 2] : z > p ? [23, 3] : [23, 4];
                if (p == 0)
                    g = [11, 15, 0]
            } else if (I == "gidsFromLayer") {
                var C = [[], []];
                for (var G = 0; G < h.C.length; G++) {
                    var T = h.t[h.C[G]].rect;
                    if (T.fa())
                        continue;
                    C[0].push(T.x, T.x + T.d);
                    C[1].push(T.y, T.y + T.v)
                }
                g = [11, 15, 1];
                n = JSON.parse(JSON.stringify(h.E9));
                U._C.Du(n, C)
            }
            if (JSON.stringify(B) == JSON.stringify(n))
                return;
            var I = new fj(g, this);
            I.data = {
                X: 2,
                $t: B,
                QL: n
            };
            h._l(I);
            this.RV(I.data, h)
        } else if (I == "algn") {
            var A = Y.G;
            if (h == null)
                return;
            if (h.C.length < 2 && !(h.N != null && A != 3 && A != 7)) {
                alert(gx.get([15, 7, 5]));
                return
            }
            var i = h.N;
            h.N = null;
            var T = i ? i.rect : U.o.i6(h);
            this.bY(h, S, q, H, !1);
            if (!this.nR)
                return;
            var e = this.MS
                , a = {}
                , Z = []
                , O = []
                , c = [];
            for (var G = 0; G < e.length; G++) {
                var s = e[G];
                while (h.t[s].getName() == "</Layer group>")
                    s++;
                var x = h.root.TZ(s)
                    , u = x;
                while (x.parent != null) {
                    x = x.parent;
                    if (e.indexOf(x.index) != -1)
                        u = x
                }
                var y = O.indexOf(u.index);
                if (y == -1) {
                    y = O.length;
                    O.push(u.index)
                }
                Z[G] = y
            }
            var j = []
                , v = []
                , X = [];
            for (var G = 0; G < O.length; G++) {
                var N = U.o.i6(h, h.rf(!0, O[G]));
                X.push(N);
                var V = A == 3 ? [N.y, N.v] : [N.x, N.d];
                j[G] = V;
                v.push(V)
            }
            U._C.aej(v);
            for (var G = 0; G < O.length; G++) {
                var N = X[G]
                    , $ = N.x
                    , w = N.y;
                if (A == 0)
                    $ = T.x;
                if (A == 1)
                    $ = T.x + (T.d - N.d) / 2;
                if (A == 2)
                    $ = T.x + (T.d - N.d);
                if (A == 3)
                    w = j[G][0];
                if (A == 4)
                    w = T.y;
                if (A == 5)
                    w = T.y + (T.v - N.v) / 2;
                if (A == 6)
                    w = T.y + (T.v - N.v);
                if (A == 7)
                    $ = j[G][0];
                c.push(Math.round($ - N.x), Math.round(w - N.y))
            }
            var m = [];
            for (var G = 0; G < e.length; G++) {
                var l = Z[G];
                m[2 * G] = c[2 * l];
                m[2 * G + 1] = c[2 * l + 1]
            }
            this.bJ(h, 0, 0, null, m);
            var b = A == 3 || A == 7 ? [20, 4, 6] : [20, 4, A < 3 ? A : A - 1];
            this.AB(h, null, H, m, b);
            h.N = i
        }
    }
        ;
    U._C.Du = function (Y, S) {
        for (var G = 0; G < S.length; G++)
            for (var h = 0; h < S[G].length; h++)
                if (Y[G].indexOf(S[G][h]) == -1)
                    Y[G].push(S[G][h])
    }
        ;
    U._C.prototype.enable = function (Y, S, h, q, H) {
        this.it = h;
        this.Su = S;
        this.Aj = H ? !0 : !1;
        this.P2(Y);
        this.XS("default", S)
    }
        ;
    U._C.prototype.disable = function (Y, S, h, q) {
        this.IV(Y)
    }
        ;
    U._C.prototype.IV = function (Y) {
        if (Y == null)
            return;
        if (this.sJ) {
            this.sJ.clear(Y);
            this.sJ = null
        }
        if (Y.K.mC) {
            Y.K.mC = null;
            Y.Yw = !0
        }
        if (Y.K.Yi) {
            Y.K.Yi = null;
            Y.Yw = !0
        }
        if (Y.K.sH[this.id]) {
            delete Y.K.sH[this.id];
            Y.Yw = !0
        }
        if (Y.K.NS.length != 0) {
            Y.K.NS = [];
            Y.Yw = !0
        }
    }
        ;
    U._C.prototype.vJ = function (Y, S, h, q) {
        if (h.Ez != this.id)
            return;
        this.P2(Y)
    }
        ;
    U._C.prototype.P2 = function (Y, S) {
        if (Y == null)
            return;
        var h = this.V6;
        this.IV(Y);
        if (!this.Aj) {
            var q;
            if (h.JN || h.mC)
                q = t.a.Ca(U.o.i6(Y));
            if (h.JN && !q.fa()) {
                this.sJ = new ht([q.x, q.y, q.x + q.d, q.y, q.x + q.d, q.y + q.v, q.x, q.y + q.v], !0);
                this.sJ.hN(Y, this.it)
            }
            if (h.mC) {
                var H = Y.ZL(Y.C[0])
                    , g = null
                    , z = !1;
                if (H == null)
                    H = new W(0, 0, Y.d, Y.v);
                Y.K.mC = {
                    HJ: [q],
                    k4: []
                };
                var I = Y.K.mC.k4
                    , E = q.x + q.d
                    , d = q.y + q.v
                    , B = q.x + Math.floor(q.d / 2)
                    , n = q.y + Math.floor(q.v / 2);
                if (S) {
                    var p = Y.root.h4(new aV(Math.floor(S.x), Math.floor(S.y)));
                    if (p) {
                        g = t.a.Ca(p.$.ZA(Y));
                        if (g.CO(q)) {
                            z = (g.HS(q) || q.HS(g)) && !q.ma(g);
                            if (!z)
                                g = null
                        }
                    }
                }
                this.TO(q, I);
                if (g != null) {
                    Y.K.mC.HJ.push(g);
                    var C = g.x + g.d
                        , T = g.y + g.v
                        , A = g.x + Math.floor(g.d / 2)
                        , i = g.y + Math.floor(g.v / 2);
                    if (z) {
                        var e = B
                            , a = n;
                        if (q.HS(g)) {
                            e = A;
                            a = i
                        }
                        I.push(q.x, a, g.x, a);
                        I.push(E, a, C, a);
                        I.push(e, q.y, e, g.y);
                        I.push(e, d, e, T)
                    } else {
                        this.TO(g, I);
                        var Z = d < g.y || T < q.y
                            , O = E < g.x || C < q.x;
                        if (E < g.x)
                            I.push(E, n, g.x, n);
                        if (C < q.x)
                            I.push(C, n, q.x, n);
                        if (d < g.y)
                            I.push(B, d, B, g.y);
                        if (T < q.y)
                            I.push(B, T, B, q.y);
                        if (Z && !O) {
                            if (q.x < g.x)
                                I.push(q.x, i, g.x, i);
                            if (g.x < q.x)
                                I.push(g.x, n, q.x, n)
                        }
                    }
                } else {
                    if (q.y > H.y)
                        I.push(B, H.y, B, q.y);
                    if (d < H.y + H.v)
                        I.push(B, d, B, H.y + H.v);
                    if (q.x > H.x)
                        I.push(H.x, n, q.x, n);
                    if (E < H.x + H.d)
                        I.push(E, n, H.x + H.d, n)
                }
                Y.Yw = !0
            }
        }
        if (this.X == 2 && this.nR) {
            var c = this.MS
                , s = c[0]
                , x = (s == 0 ? "X" : "Y") + ": " + t.n1.qZ(Y.E9[s][c[1]], Y.PW, this.it, s == 0 ? Y.d : Y.v, !0);
            U.Il.ya(Math.round(this.ZQ.x) + 10, Math.round(this.ZQ.y) - 10, [x], Y);
            Y.Yw = !0
        }
        if (this.X == 3 && this.nR) {
            var u = t.a.yP(this.$s);
            Y.K.sH[this.id] = {
                cv: u
            };
            Y.Yw = !0
        }
    }
        ;
    U._C.prototype.TO = function (Y, S) {
        var h = Y.d
            , q = Y.v
            , H = Y.x + Math.floor(h * .2)
            , I = Y.y + Math.floor(q * .2);
        S.push(H, Y.y, H, Y.y + q);
        S.push(Y.x, I, Y.x + h, I)
    }
        ;
    U._C.prototype.XS = function (Y, S) {
        var h = {
            X: P.U.t6,
            WX: Y
        }
            , q = new _(P.E.P, !0);
        q.data = h;
        S.B(q)
    }
        ;
    U._C.prototype.mG = function (Y) {
        var S = this.ub.Iv()[0]
            , h = this.BY
            , q = this.a5p[S];
        this.iy(h, q)
    }
        ;
    U._C.prototype.ko = function (Y) {
        var S = JSON.parse(JSON.stringify(this.it.nF));
        S.W_ = this.iO.Iv()[0];
        var h = new _(P.E.P, !0);
        h.data = {
            X: P.U.PD,
            go: iD.Ln,
            aq: S
        };
        this.Su.B(h)
    }
        ;
    U._C.prototype.dP = function (Y, S, h, q, H) {
        debugger
        if (this.nR)
            this.mi(Y, S, h, q, H);
        this.BY = Y;
        this.it = h;
        this.Su = S;
        var I = Y.z.vl(H.x, H.y), E;
        if (U._C.Bm(h, H, Y.z)) {
            E = this.iO
        } else {
            if (this.ub)
                this.ub.removeEventListener("select", this.mG);
            var d = [];
            Y.root.h4(I, d);
            if (d.length == 0)
                return;
            var B = [];
            this.a5p = d;
            for (var G = 0; G < d.length; G++)
                B.push({
                    name: Y.t[d[G]].getName()
                });
            E = this.ub = new gV(B);
            E.k("select", this.mG, this)
        }
        E.parent = S;
        E.f();
        E.update(Y, h);
        var n = new _(P.E.P, !0);
        n.data = {
            X: P.U.pa,
            FN: E,
            x: H.q5 + 2,
            y: H.sZ + 1
        };
        S.B(n)
    }
        ;
    U._C.prototype.p6 = function (Y, S, h, q, H) {
        return U._C.Bm(h, H, Y.z)
    }
        ;
    U._C.prototype.FF = function (Y, S, h, q, H) {
        this.ZQ = H;
        this.CD.bm(H.x, H.y);
        this.aT = Y.z.vl(H.x, H.y);
        this.X2 = new h_(this.aT);
        this.bY(Y, S, q, h, !0)
    }
        ;
    U._C.Bm = function (Y, S, h) {
        var q = t.n1.uR
            , H = h.Eq.v;
        return Y.KT && (0 < S.x && S.x < q || 0 < S.y && S.y < q || 0 < S.x && S.x < 4 * q && H - q < S.y && S.y < H)
    }
        ;
    U._C.prototype.bY = function (Y, S, h, q, H, I) {
        var E, d = this.aT, B = !1;
        if (H) {
            var n = q.Yc && q.nF.E9;
            if (U._C.Bm(q, this.CD, Y.z)) {
                E = JSON.parse(JSON.stringify(Y.E9));
                if (this.CD.x < t.n1.uR)
                    Y.E9[0].push(d.x);
                if (this.CD.y < t.n1.uR)
                    Y.E9[1].push(d.y);
                if (!n) {
                    var g = new _(P.E.P);
                    if (!q.nF.E9) {
                        g.data = {
                            X: P.U.PD,
                            go: iD.Ch
                        };
                        S.B(g)
                    }
                    if (!q.Yc) {
                        g.data = {
                            X: P.U.PD,
                            go: iD.Lb
                        };
                        S.B(g)
                    }
                    n = !0
                }
            }
            var z = this.JD(Y, d);
            if (n && z) {
                this.X = 2;
                this.$t = E ? E : JSON.parse(JSON.stringify(Y.E9));
                this.MS = z;
                this.nR = !0;
                this.DK = U.o.i6(Y);
                return
            }
            if (Y.AN.length != 0) {
                this.X = 4;
                this.DK = Y.h3[Y.AN[0]].rect.clone();
                this.nR = !0;
                return
            }
            if (this.sJ && this.sJ.ii(d, Y.z.S, !0) != null) {
                var g = new _(P.E.P);
                g.data = {
                    X: P.U.iK,
                    F: U.Fz
                };
                S.B(g);
                var p = new _(P.E.A);
                p.F = U.Fz;
                p.data = {
                    X: "doMouseDown",
                    ZQ: this.CD
                };
                S.B(p);
                return
            }
            if (Y.N && Y.N.rect.uU(d)) {
                var C = Math.round(d.x)
                    , T = Math.round(d.y)
                    , A = Y.N.rect;
                B = Y.N.channel[(T - A.y) * A.d + C - A.x] > 128
            }
            if (!B && (!this.Aj && this.V6.Sv || this.Aj && this.V6.Sv && (h.q(F.aY) || Y.C.length < 2))) {
                var i = this.a6W(Y, d, h);
                if (!i) {
                    Y.C = [];
                    Y.Fj = null;
                    Y.Dn = Y.W6 = !0;
                    this.X = 3;
                    this.$s = new W;
                    this.nR = !0;
                    return
                }
            }
            if (h.q(F.Gs) && !B) {
                var p = new _(P.E.A);
                p.F = U.GC;
                p.data = {
                    X: M.Vo,
                    akN: !0
                };
                S.B(p)
            }
        }
        if (Y.AN.length != 0) {
            this.X = 4;
            this.DK = Y.h3[Y.AN[0]].rect.clone();
            this.nR = !0;
            return
        }
        this.MS = Y.rf(I == null, I, null, !0);
        for (var G = 0; G < this.MS.length; G++) {
            var e = Y.t[this.MS[G]];
            if (e.Ag(2) || e.Ag(31)) {
                alert(gx.get([6, 57, 0]));
                return
            }
        }
        this.aa = U._C.aaf(Y, this.MS);
        this.X = 0;
        if (Y.N && (!H || B) && Y.C.length == 1 && Y.gH(!1)) {
            if (!Y.KS()) {
                this.nR = !1;
                return
            }
            var a = Y.t[Y.C[0]]
                , Z = h.q(F.Gs);
            this.X = 1;
            var O = Y.history[Y.Zj];
            if (O.F == this && O.data.X == 1 && O.data.$ == Y.C[0] && a.wF == a.LM.wF && !Z) {
                this.NR = O
            } else {
                var c = a.LM, s = !1, x;
                if (!a.eG(Y, Y.N) || Z) {
                    s = !0;
                    a.TP(Y, Y.N, Z)
                }
                if (a.LM.wF <= 0) {
                    x = t.m(a.LM.TB.length >> 2);
                    t.Ft(a.LM.TB, x, 3)
                } else
                    x = Y.N.channel.slice(0);
                var u = {
                    rect: a.LM.Cq.clone(),
                    channel: x
                };
                this.NR = new fj(Z ? [12, 53] : [12, 54], this);
                this.NR.data = {
                    X: 1,
                    $: Y.C[0],
                    LM: a.LM,
                    RC: c,
                    dt: s,
                    ez: Y.N,
                    nI: u,
                    RH: new aV(0, 0)
                };
                Y._l(this.NR);
                Y.N = u;
                Y.P5 = !0
            }
        }
        this.nR = !0;
        this.DK = U.o.i6(Y)
    }
        ;
    U._C.prototype.a6W = function (Y, S, h) {
        var q = Y.root.h4(new aV(Math.floor(S.x), Math.floor(S.y)));
        if (q) {
            if (q.$.add.vmsk)
                Y.Yw = !0;
            var H = Y.t.indexOf(q.$);
            if (h.q(F.aY)) {
                var I = Y.C.indexOf(H);
                if (I == -1)
                    Y.C.push(H);
                else if (Y.C.length > 1)
                    Y.C.splice(I, 1)
            } else if (Y.C.indexOf(H) == -1) {
                this.iy(Y, H)
            }
        }
        return q != null
    }
        ;
    U._C.prototype.iy = function (Y, S) {
        Y.t[S].wF = 0;
        Y.C = [S];
        Y.Fj = null;
        Y.QQ();
        Y.Pm = !0;
        Y.Dn = !0
    }
        ;
    U._C.prototype.vr = function (Y, S, h, q, H) {
        this.ZQ = H;
        var I = Y.z.vl(H.x, H.y), p, C;
        if (this.X2 && this.X < 2)
            I = this.X2.oQ(I, q);
        if (!this.nR) {
            if (h.Yc && h.nF.E9) {
                var E = this.JD(Y, I)
                    , d = "default";
                if (E)
                    d = ["col-resize", "row-resize"][E[0]];
                else if (this.sJ) {
                    var B = this.sJ.ii(I, Y.z.S);
                    if (B)
                        d = B
                }
                this.XS(d, S)
            }
            this.P2(Y, I);
            return
        }
        var n = this.aT
            , g = Math.round(I.x - n.x) - this._r.x
            , z = Math.round(I.y - n.y) - this._r.y;
        if (this.DK) {
            if (this.X == 2) {
                I = U._C.jg(Y, I, h, [!1, Y.N ? Y.N.rect : this.DK, !0])
            } else {
                C = this.DK.clone();
                C.offset(this._r.x + g, this._r.y + z);
                p = U._C.vF(Y, C, h);
                g += Math.round(p[0]);
                z += Math.round(p[1])
            }
        }
        this._r.x += g;
        this._r.y += z;
        this.bJ(Y, g, z, I, null, q.q(F.aY));
        this.P2(Y, I);
        if (p)
            U._C.I8(Y, C, p)
    }
        ;
    U._C.prototype.JD = function (Y, S) {
        S = [S.x, S.y];
        for (var G = 0; G < 2; G++)
            for (var h = 0; h < Y.E9[G].length; h++)
                if (Math.abs(Y.E9[G][h] - S[G]) * Y.z.S < 4)
                    return [G, h];
        return null
    }
        ;
    U._C.prototype.bJ = function (Y, S, h, q, H, I) {
        if (this.X == 0) {
            if (H)
                U._C.y1(Y, this.MS, this.aa, H);
            else
                U._C.aJ(Y, this.MS, this.aa, S, h)
        } else if (this.X == 1) {
            var E = this.NR.data;
            E.RH.offset(S, h);
            U._C.Lq(Y, E.$, S, h)
        } else if (this.X == 2) {
            var d = 1e-5;
            if (I)
                d = Y.z.S <= 1 ? 10 : 1;
            else if (Y.z.S <= 1)
                d = 1;
            var B = d * Math.round(q.x / d)
                , n = d * Math.round(q.y / d)
                , g = [B, n]
                , z = this.MS;
            Y.E9[z[0]][z[1]] = g[z[0]]
        } else if (this.X == 3) {
            var p = this.aT
                , C = t.a.wO([p.x, p.y, q.x, q.y]);
            this.$s = C;
            var T = [];
            Y.root.kR(C, T);
            if (JSON.stringify(Y.C) != JSON.stringify(T)) {
                Y.C = T;
                Y.Dn = Y.W6 = !0
            }
        } else if (this.X == 4) {
            for (var G = 0; G < Y.AN.length; G++)
                Y.h3[Y.AN[G]].rect.offset(S, h);
            Y.Yw = !0
        }
    }
        ;
    U._C.Lq = function (Y, S, h, q) {
        var H = Y.t[S];
        Y.N.rect.offset(h, q);
        H.aD(Y, h, q, Y.N);
        Y.P5 = !0;
        Y.s()
    }
        ;
    U._C.prototype.mi = function (Y, S, h, q, H) {
        this.AB(Y, H, h);
        this.P2(Y);
        if (Date.now() - this.ao < 300) {
            var I = U.k1.b_(Y, Y.z.vl(H.x, H.y));
            if (I != -1) {
                var E = new _(P.E.A, !0);
                E.F = U.bk;
                E.data = {
                    X: "editCurr",
                    Pq: I
                };
                S.B(E)
            } else if (U._C.Bm(h, H, Y.z)) {
                var d = new _(P.E.P);
                d.data = {
                    X: P.U.V5,
                    Fh: "doczoom",
                    IJ: Y.z.S * 100,
                    Yz: {
                        c: P.E.A,
                        F: U.nf,
                        g: {
                            X: "pzoom"
                        }
                    }
                };
                S.B(d)
            }
        }
        this.ao = Date.now()
    }
        ;
    U._C.prototype.AB = function (Y, S, h, q, H) {
        if (!this.nR)
            return;
        this.nR = !1;
        if (this.X == 0) {
            if (q) {
                this.kh(Y, null, q, H)
            } else {
                if (this._r.x == 0 && this._r.y == 0)
                    return;
                this.kh(Y, this._r.clone())
            }
            Y.P7 = !0
        } else if (this.X == 2) {
            var I = 0;
            S = [S.x, S.y];
            var E = this.MS
                , hb = this.$t[0].length + this.$t[1].length
                , d = Y.E9[0].length + Y.E9[1].length;
            if (h.KT && S[E[0]] < t.n1.uR) {
                Y.E9[E[0]].splice(E[1], 1);
                I = 1;
                if (hb == d - 1)
                    return
            }
            if (hb < d)
                I = 2;
            var B = new fj([[23, 2], [23, 3], [23, 4]][I], this);
            B.data = {
                X: 2,
                $t: this.$t,
                QL: JSON.parse(JSON.stringify(Y.E9))
            };
            Y._l(B)
        } else if (this.X == 4) {
            var B = new fj([12, 54], this);
            B.data = {
                X: 4,
                C: Y.AN.slice(0),
                T: this._r.clone()
            };
            Y._l(B)
        }
        this._r.bm(0, 0)
    }
        ;
    U._C.prototype.jL = function (Y, S, h, q) {
        var H = q.ct();
        if (Y != null && (H.x != 0 || H.y != 0)) {
            if (q.q(F.Gs) && Y.N == null) {
                var I = new _(P.E.A);
                I.F = U.GC;
                I.data = {
                    X: M.Vo,
                    akN: !0
                };
                S.B(I)
            }
            this._r.bm(H.x, H.y);
            this.bY(Y, S, q, h, !1);
            if (!this.nR)
                return;
            this.bJ(Y, H.x, H.y);
            this.AB(Y, null, h);
            this.P2(Y)
        }
        var E = q.q(F.EO);
        if (!this.Aj && this.ah8 != E) {
            if (E) {
                this.a1k = this.V6.Sv;
                this.V6.Sv = !0
            } else {
                this.V6.Sv = this.a1k
            }
            this.ah8 = E;
            var d = new _(P.E.P, !0);
            d.data = {
                X: P.U.tS,
                F: this.id,
                mY: this.V6
            };
            S.B(d)
        }
    }
        ;
    U._C.prototype.Td = function (Y, S) {
        if (Y.X == 0)
            U._C.y1(S, Y.C, Y.q_, Y.hu, !0);
        else if (Y.X == 2) {
            S.E9 = JSON.parse(JSON.stringify(Y.$t));
            S.Yw = !0
        } else if (Y.X == 4) {
            for (var G = 0; G < Y.C.length; G++)
                S.h3[Y.C[G]].rect.offset(-Y.T.x, -Y.T.y);
            S.Yw = !0
        } else {
            var h = S.t[Y.$];
            if (Y.dt) {
                h.Q9(S, Y.RC);
                S.N = Y.ez;
                S.P5 = !0;
                S.s();
                h.s()
            } else {
                U._C.Lq(S, Y.$, -Y.RH.x, -Y.RH.y)
            }
        }
    }
        ;
    U._C.prototype.RV = function (Y, S) {
        if (Y.X == 0)
            U._C.y1(S, Y.C, Y.q_, Y.hu);
        else if (Y.X == 2) {
            S.E9 = JSON.parse(JSON.stringify(Y.QL));
            S.Yw = !0
        } else if (Y.X == 4) {
            for (var G = 0; G < Y.C.length; G++)
                S.h3[Y.C[G]].rect.offset(Y.T.x, Y.T.y);
            S.Yw = !0
        } else {
            var h = S.t[Y.$];
            if (Y.dt) {
                h.LM = Y.LM;
                S.N = Y.nI;
                U._C.Lq(S, Y.$, 0, 0);
                h.s()
            } else {
                U._C.Lq(S, Y.$, Y.RH.x, Y.RH.y)
            }
        }
    }
        ;
    U._C.prototype.kh = function (Y, S, h, q) {
        if (h) {
            var H = !0;
            for (var G = 0; G < h.length; G++)
                if (h[G] != 0)
                    H = !1;
            if (H)
                return
        }
        var I = Y.history[Y.Zj];
        if (I.data && I.F == this && I.data.X == 0 && h == null && JSON.stringify(I.data.C) == JSON.stringify(this.MS) && JSON.stringify(I.data.q_) == JSON.stringify(this.aa)) {
            var E = I.data.hu
                , d = I.data.an$.Jz.T.v;
            d.Hrzn.v.val += S.x;
            d.Vrtc.v.val += S.y;
            for (var G = 0; G < E.length; G += 2) {
                E[G] += S.x;
                E[G + 1] += S.y
            }
        } else {
            if (S == null)
                S = new aV(h[0], h[1]);
            var B = {
                f0: "move",
                Jz: {
                    classID: "null",
                    null: bw.wC("Lyr", !0),
                    T: {
                        t: "Objc",
                        v: {
                            classID: "Ofst",
                            Hrzn: {
                                t: "UntF",
                                v: {
                                    type: "#Rlt",
                                    val: S.x
                                }
                            },
                            Vrtc: {
                                t: "UntF",
                                v: {
                                    type: "#Rlt",
                                    val: S.y
                                }
                            }
                        }
                    }
                }
            }
                , n = new fj(q ? q : [12, 54], this);
            if (h)
                n.data = {
                    X: 0,
                    C: this.MS,
                    q_: this.aa,
                    hu: h
                };
            else
                n.data = {
                    X: 0,
                    C: this.MS,
                    q_: this.aa,
                    hu: U._C.qM(this.MS, S.x, S.y)
                };
            n.data.an$ = B;
            Y._l(n);
            this.track(B)
        }
    }
        ;
    U._C.qM = function (Y, S, h) {
        var q = [];
        for (var G = 0; G < Y.length; G++)
            q.push(S, h);
        return q
    }
        ;
    U._C.aJ = function (Y, S, h, q, H) {
        U._C.y1(Y, S, h, U._C.qM(S, q, H))
    }
        ;
    U._C.y1 = function (Y, S, h, q, H) {
        if (S.length == 0)
            return;
        if (h == null) {
            h = [];
            for (var G = 0; G < S.length; G++) {
                h.push(Y.t[S[G]].NO(Y, !0))
            }
        }
        var I = new W
            , E = new W(0, 0, Y.d, Y.v);
        for (var G = 0; G < S.length; G++) {
            var d = q[2 * G]
                , B = q[2 * G + 1];
            if (H) {
                d = -d;
                B = -B
            }
            var n = Y.t[S[G]]
                , g = h[G];
            if (n.add.fxrp && (g.indexOf(0) != -1 || n.uy()))
                n.add.fxrp.offset(d, B);
            for (var z = 0; z < g.length; z++) {
                var p = g[z];
                if (p == 0) {
                    n.rect.offset(d, B);
                    if (n.ef() && n.$l(Y))
                        n.$l(Y).rect.offset(d, B);
                    if (n.add.artb) {
                        var C = n.aG();
                        C.offset(d, B);
                        n.SV(C)
                    }
                    if (n.add.TySh) {
                        n.add.TySh.J.translate(d, B);
                        if (n.add.TySh.add) {
                            n.add.TySh.add.vmsk.offset(d, B)
                        }
                    }
                    if (n.add.SoLd) {
                        var T = new d5(1, 0, 0, 1, d, B)
                            , A = n.add.SoLd
                            , i = U.o.U8(A.Trnf)
                            , e = U.o.U8(A.nonAffineTransform);
                        t.a.J(i, T, i);
                        t.a.J(e, T, e);
                        A.Trnf = U.o.FQ(i);
                        A.nonAffineTransform = U.o.FQ(e)
                    }
                }
                if (p == 1)
                    n.Qn().rect.offset(d, B);
                if (p == 2) {
                    n.add.vmsk.offset(d, B);
                    if (n.add.vogk)
                        t.tx.J(n.add.vogk, [1, 0, d, 0, 1, B, 0, 0], [])
                }
                if (p == 3) {
                    n.$l(Y).r.rect.offset(d, B);
                    if (g.length == 1)
                        n.s()
                }
            }
            if (g.length > 0) {
                var a = n.add.GdFl;
                if (a == null)
                    a = n.add.PtFl;
                if (n.uy() && !n.sQ() && n.add.vmsk != null && t.Y.Tj(n.add.vmsk.b) && n.add.vmsk.G0 == 255 && (a == null || a.Algn && a.Algn.v)) {
                    n.rect.offset(d, B)
                } else
                    n._A(Y);
                var Z = Y.root.Qm(n.ZA(Y), Y, S[G]);
                I = I.TG(Z);
                Z.offset(-d, -B);
                I = I.TG(Z);
                if (n.add.SoCo || n.add.GdFl || n.add.PtFl || dD.get(n.add) != null)
                    I = I.TG(E);
                n.mI()
            }
        }
        Y.s(I)
    }
        ;
    U._C.aaf = function (Y, S) {
        var h = [];
        for (var G = 0; G < S.length; G++) {
            var q = Y.t[S[G]];
            h.push(q.NO(Y))
        }
        return h
    }
        ;
    U._C.I8 = function (Y, S, h) {
        var q = Y.K.Yi = {
            H: [],
            Z: []
        }
            , H = S.x + h[0]
            , I = S.y + h[1];
        if (h[2] != 1e9) {
            q.Z.push("M", "L");
            q.H.push(h[2], I, h[2], I + S.v)
        }
        if (h[3] != 1e9) {
            q.Z.push("M", "L");
            q.H.push(H, h[3], H + S.d, h[3])
        }
        Y.Yw = !0
    }
        ;
    U._C.jg = function (Y, S, h, q) {
        var H = U._C.OS(Y, [[S.x], [S.y]], h, q);
        return new aV(S.x + H[0], S.y + H[1])
    }
        ;
    U._C.vF = function (Y, S, h, q, H) {
        var I = H == !0 ? 0 : 1
            , E = U._C.OS(Y, [[S.x, S.x + (S.d >>> I), S.x + S.d], [S.y, S.y + (S.v >>> I), S.y + S.v]], h, q);
        return E
    }
        ;
    U._C.OS = function (Y, S, h, q) {
        if (q == null)
            q = [!0, null, !0];
        var H = [0, 0, 1e9, 1e9];
        if (!h.j9)
            return H;
        var I = JSON.parse(JSON.stringify(S));
        for (var E = 0; E < 2; E++) {
            var d = 1e9
                , B = S[E]
                , n = 0;
            for (var g = 0; g < B.length; g++) {
                var z = U._C.a66(Y, B[g], I[1 - E][g], E, h, q);
                if (z != 1e9)
                    I[E][g] = z;
                if (z != 1e9 && Math.abs(z - B[g]) < Math.abs(d)) {
                    d = z - B[g];
                    n = z
                }
            }
            if (d != 1e9) {
                H[E] = d;
                H[E + 2] = n
            }
        }
        return H
    }
        ;
    U._C.a66 = function (Y, S, h, q, H, I) {
        var E = 1e9
            , d = H.s2
            , B = H.nF
            , n = [Y.root];
        while (n.length != 0 && d[2]) {
            var g = n.pop()
                , z = g.$
                , p = z.rect;
            if (!z.yj())
                continue;
            if (g.children)
                for (var G = 0; G < g.children.length; G++)
                    n.push(g.children[G]);
            if (Y.C.indexOf(g.index) != -1 || p.fa())
                continue;
            if (q == 0) {
                var C = p.d
                    , T = C >>> 1;
                if (Math.abs(p.x - S) < Math.abs(E - S))
                    E = p.x;
                if (Math.abs(p.x + T - S) < Math.abs(E - S))
                    E = p.x + T;
                if (Math.abs(p.x + C - S) < Math.abs(E - S))
                    E = p.x + C
            } else {
                var A = p.v
                    , i = A >>> 1;
                if (Math.abs(p.y - S) < Math.abs(E - S))
                    E = p.y;
                if (Math.abs(p.y + i - S) < Math.abs(E - S))
                    E = p.y + i;
                if (Math.abs(p.y + A - S) < Math.abs(E - S))
                    E = p.y + A
            }
        }
        if (I[0] && d[0] && B.E9 && H.Yc) {
            var e = Y.E9[q];
            for (var G = 0; G < e.length; G++)
                if (Math.abs(e[G] - S) < Math.abs(E - S))
                    E = e[G]
        }
        if (d[1] && B.Hf && H.Yc) {
            var a = Math.round(t.n1.BP(B.kL, Y, B.cE));
            if (q == 1 && B.Jv == 1) {
                var Z = h * .5 * Math.sqrt(4 / 3), O;
                a *= Math.sqrt(4 / 3);
                O = Math.round((S - Z) / a) * a + Z;
                if (Math.abs(O - S) < Math.abs(E - S))
                    E = O;
                O = Math.round((S + Z) / a) * a - Z;
                if (Math.abs(O - S) < Math.abs(E - S))
                    E = O
            } else {
                var O = Math.round(S / a) * a;
                if (Math.abs(O - S) < Math.abs(E - S))
                    E = O
            }
        }
        var c = Y.r1;
        if (d[3] && B.r1 && H.Yc && c.length != 0) {
            for (var G = 0; G < c.length; G++) {
                if (!I[2] && Y.MJ.indexOf(G) != -1)
                    continue;
                var s = U.ng.QS(c, G);
                for (var x = 0; x < 3; x += 2)
                    if (s[x + q] != S && Math.abs(s[x + q] - S) < Math.abs(E - S))
                        E = s[x + q]
            }
        }
        if (I[1]) {
            var p = I[1]
                , C = p.d
                , A = p.v
                , u = [p.x, p.y, p.x + (C >>> 1), p.y + (A >>> 1), p.x + C, p.y + A];
            for (var G = 0; G < 6; G += 2)
                if (Math.abs(u[G + q] - S) < Math.abs(E - S))
                    E = u[G + q]
        }
        if (d[4]) {
            var C = Y.d
                , A = Y.v
                , u = [0, 0, C >>> 1, A >>> 1, C, A];
            for (var G = 0; G < 6; G += 2)
                if (Math.abs(u[G + q] - S) < Math.abs(E - S))
                    E = u[G + q]
        }
        var y = Math.abs(E - S) <= 4 * P.M() / Y.z.S ? E : 1e9;
        return y
    }
        ;
    U.s$ = function () {
        U.Q_.call(this, [10, 12], U.gi, "tools/mwand")
    }
        ;
    U.s$.prototype = new U.Q_;
    U.s$.prototype.Mz = U.Q_.prototype.a1I;
    U.s$.prototype.YC = U.Q_.prototype.a2R;
    U.s$.prototype.Kf = function (Y, S, h, q) {
        this.finish(Y, S, h, q)
    }
        ;
    U.s$.prototype.getSelection = function (Y, S, h, q) {
        var H = this.SG
            , I = U.Q_.a5E(new aV(Math.floor(H.x), Math.floor(H.y)), this.V6.ZB);
        return I
    }
        ;
    U.s$.YT = function (Y, S, h) {
        if (Y.C.length != 1) {
            alert("More than one layer selected.");
            return null
        }
        var q = Y.t[Y.C[0]], H = q.wF <= 0 ? null : q.wF == 1 ? q.Qn() : q.$l(Y).r, I;
        if (H == null && q.add.lsct != null && q.add.lsct != hg._p) {
            alert("No layer selected.");
            return null
        }
        if (S.x < 0 || S.x > Y.d || S.y < 0 || S.y > Y.v)
            return null;
        var E = new W(0, 0, Y.d, Y.v);
        if (H == null && E.ma(q.rect))
            I = q.buffer;
        else {
            I = t.m(E.e() * 4);
            if (H == null)
                t.rd(q.buffer, q.rect, I, E);
            else
                U.NJ.wh(H.channel, H.rect, H.color, I, E)
        }
        var d = U.s$.iq(I, E, S, null, h)
            , B = t.o9(d, E)
            , n = t.m(B.e());
        t.m7(d, E, n, B);
        return {
            rect: B,
            channel: n
        }
    }
        ;
    U.s$.ec = function (Y, S, h) {
        var q = S.d
            , H = S.v
            , E = 0
            , d = 0
            , B = 0
            , n = 0;
        Y = new Uint32Array(Y.buffer);
        var I = []
            , g = h.length;
        for (var G = 0; G < g; G++) {
            var z = h[G]
                , p = Math.round(z.x - .5 - S.x)
                , C = Math.round(z.y - .5 - S.y);
            p = Math.max(0, Math.min(q - 1, p));
            C = Math.max(0, Math.min(H - 1, C));
            var T = C * q + p
                , A = Y[T];
            I.push([A & 255, A >> 8 & 255, A >> 16 & 255, A >>> 24])
        }
        return I
    }
        ;
    U.s$.iq = function (Y, S, h, q, H) {
        Y = new Uint32Array(Y.buffer);
        var I = S.d
            , E = S.v
            , d = I * E;
        if (q == null)
            q = U.s$.ec(Y, S, [h]);
        var B = Math.round(h.x - .5 - S.x)
            , n = Math.round(h.y - .5 - S.y)
            , g = n * I + B
            , z = Date.now()
            , p = t.m(I * E)
            , C = H[0]
            , T = 1 / C
            , A = H[1] && C > 0 ? 255 : 0;
        if (H[2]) {
            var i = t.m(p.length)
                , e = new Uint32Array(d)
                , a = 1;
            e[0] = B << 16 | n;
            i[g] = 1;
            while (a > 0) {
                var Z = e[a - 1];
                a--;
                var O = Z >>> 16
                    , c = Z & 65535
                    , G = c * I + O
                    , s = U.s$.r3(Y[G], q);
                if (s > C) {
                    var x = A * (1 - Math.max(0, Math.min(1, (s - C) * T)));
                    p[G] = ~~x
                } else {
                    p[G] = 255;
                    if (c != E - 1 && i[G + I] == 0) {
                        e[a++] = O << 16 | c + 1;
                        i[G + I] = 1
                    }
                    if (c != 0 && i[G - I] == 0) {
                        e[a++] = O << 16 | c - 1;
                        i[G - I] = 1
                    }
                    if (O != I - 1 && i[G + 1] == 0) {
                        e[a++] = O + 1 << 16 | c;
                        i[G + 1] = 1
                    }
                    if (O != 0 && i[G - 1] == 0) {
                        e[a++] = O - 1 << 16 | c;
                        i[G - 1] = 1
                    }
                }
            }
        } else {
            for (var G = 0; G < d; G++) {
                var s = U.s$.r3(Y[G], q);
                if (s <= C)
                    p[G] = 255
            }
            for (var c = 0; c < E; c++)
                for (var O = 0; O < I; O++) {
                    var G = c * I + O;
                    if (p[G] == 0 && (O > 0 && (p[G - 1] == 255 || c > 0 && p[G - I - 1] == 255 || c < E - 1 && p[G + I - 1] == 255) || O < I - 1 && (p[G + 1] == 255 || c > 0 && p[G - I + 1] == 255 || c < E - 1 && p[G + I + 1] == 255) || c > 0 && p[G - I] == 255 || c < E - 1 && p[G + I] == 255)) {
                        var s = U.s$.r3(Y[G], q)
                            , x = A * (1 - Math.max(0, Math.min(1, (s - C) * T)));
                        p[G] = ~~x
                    }
                }
        }
        return p
    }
        ;
    U.s$.r3 = function (Y, S) {
        var h = S.length
            , q = U.s$.g6(Y, S[0])
            , G = 1;
        while (G != h) {
            q = Math.min(q, U.s$.g6(Y, S[G]));
            G++
        }
        return q
    }
        ;
    U.s$.g6 = function (Y, S) {
        var h = Y & 255
            , q = Y >>> 8 & 255
            , H = Y >>> 16 & 255
            , I = Y >>> 24 & 255;
        if (S[3] == 0)
            return I < 5 ? 0 : 255;
        var E = Math.max(Math.abs(h - S[0]), Math.max(Math.abs(q - S[1]), Math.abs(H - S[2])));
        return I == 0 ? 255 : E
    }
        ;
    U.CZ = function (Y, S) {
        if (S)
            U.NJ.call(this);
        else if (Y)
            U.NJ.call(this, [10, 49], U.DW, "tools/camove");
        else
            U.NJ.call(this, [10, 26], U.XB, "tools/patch");
        this.MO = null;
        this.BT = null;
        this.T = null;
        this.Pl = null;
        this.iH = new aV;
        this.kE = null;
        this.Cd = null
    }
        ;
    U.CZ.prototype = new U.NJ;
    U.CZ.prototype.FF = function (Y, S, h, q, H) {
        var I = Y.z.vl(H.x, H.y);
        if (Y.N && t.h4(I, Y.N.channel, Y.N.rect)) {
            var E = new W(0, 0, Y.d, Y.v)
                , d = E.lF(Y.N.rect);
            if (!Y.gH() || d.fa())
                return;
            if (!0) {
                var B = t.m(d.e());
                t.m7(Y.N.channel, Y.N.rect, B, d);
                Y.N = {
                    channel: B,
                    rect: d
                }
            }
            this.qX(Y);
            this.Aa(Y);
            this.Pl = I;
            this.iH = new aV(I.x - Y.N.rect.x, I.y - Y.N.rect.y);
            this.Cd = t.m(Y.N.rect.e() * 4);
            this.Cd.fill(255);
            if (this.V6.patch == 1) {
                var n = Y.t[Y.C[0]];
                n.TP(Y, Y.N, !0);
                if (n.LM == null)
                    this.Pl = null
            }
            this.kE = Y.N.rect.clone()
        } else {
            this.BT = {
                H: [I.x, I.y],
                Z: ["M"]
            };
            this.MO = I
        }
    }
        ;
    U.CZ.prototype.vr = function (Y, S, h, q, H) {
        var I = Y.z.vl(H.x, H.y);
        if (this.Pl) {
            if (this.V6.patch == 1) {
                if (Y.AN.length == 0) {
                    var E = Y.t[Y.C[0]].LM
                        , d = I.x - this.iH.x
                        , B = I.y - this.iH.y;
                    U._C.Lq(Y, Y.C[0], Math.round(d - E.Cq.x), Math.round(B - E.Cq.y))
                }
            } else
                this.v0(Y, I, "clone")
        }
        if (this.MO) {
            this.BT.Z.push("L");
            this.BT.H.push(I.x, I.y);
            this.MO = I;
            Y.K.cv = this.BT;
            Y.Yw = !0
        }
    }
        ;
    U.CZ.prototype.mi = function (Y, S, h, q, H) {
        var I = Y.z.vl(H.x, H.y);
        if (this.Pl) {
            var E = Y.N.rect.clone();
            if (this.id == U.DW) {
                var d = Y.t[Y.C[0]];
                d.Q9(Y, d.LM);
                Y.N.rect = this.kE.clone();
                var B = t.m(Y.N.rect.e() * 4);
                t.Vj(Y.N.channel, B, 3);
                this.td(Y, "sheal", B, Y.N.rect, Y.N.rect);
                Y.N.rect = E;
                E = E.TG(this.kE)
            }
            this.v0(Y, I, "heal");
            this.finish(Y, E, null, null, !0);
            Y.s(E);
            this.Pl = null
        }
        if (this.MO) {
            var n = U.Q_.BQ(this.V6.setop, q.q(F.aY), q.q(F.Gs))
                , g = new _(P.E.$_, !0);
            if (this.BT.H.length <= 4)
                g.data = U.Q_.zT();
            else
                g.data = U.Q_.G3(this.BT.H, n);
            S.B(g);
            this.MO = null;
            Y.K.cv = null;
            Y.Yw = !0
        }
    }
        ;
    U.CZ.prototype.cb = function () {
        return this.T
    }
        ;
    U.CZ.prototype.yg = function (Y, S, h, q, H) {
        U.NJ.prototype.yg.call(this, Y, S, h, q, H);
        this.XS(H, q)
    }
        ;
    U.CZ.prototype.XS = function (Y, S) {
        var h = "auto;";
        if (S != null && S.q(F.aY) && !S.q(F.Gs) || this.V6.setop == "union")
            h = "copy";
        var q = new _(P.E.P, !0);
        q.data = {
            X: P.U.t6,
            WX: h
        };
        if (this.caller)
            this.caller.B(q)
    }
        ;
    U.CZ.prototype.v0 = function (Y, S, h) {
        var q = new aV(Math.round(this.Pl.x - S.x), Math.round(this.Pl.y - S.y));
        if (this.V6.patch == 1)
            q.bm(-q.x, -q.y);
        this.T = q;
        this.td(Y, h, this.Cd, Y.N.rect, Y.N.rect);
        this.s(Y, Y.N.rect)
    }
        ;
    U.bo = function () {
        U.CZ.call(this, !0);
        this.V6.patch = 1
    }
        ;
    U.bo.prototype = new U.CZ(!0, !0);
    U.CL = function () {
        U.NJ.call(this, [10, 13], U.afi, "tools/pbucket")
    }
        ;
    U.CL.prototype = new U.NJ;
    U.CL.prototype.enable = function (Y, S, h, q) {
        var H = new _(P.E.P, !0);
        H.data = {
            X: P.U.t6,
            WX: "default"
        };
        S.B(H)
    }
        ;
    U.CL.prototype.rJ = function (Y, S) { }
        ;
    U.CL.prototype.mi = function (Y, S, h, q, H) {
        if (this.Od(q, S, H))
            return;
        if (!Y.gH())
            return;
        var I = Y.z.vl(H.x, H.y)
            , E = U.s$.YT(Y, I, this.V6.wconf);
        if (E == null)
            return;
        var d = t.m(E.rect.e() * 4);
        t.A5(d, (h.jy & 255) << 16 | (h.jy >> 8 & 255) << 8 | (h.jy >> 16 & 255) << 0);
        t.Vj(E.channel, d, 3);
        this.qX(Y);
        this.td(Y, "draw", d, E.rect, E.rect);
        this.s(Y, E.rect);
        this.finish(Y, E.rect)
    }
        ;
    U.UE = function () {
        U.Q_.call(this, [10, 14], U.a2F, "tools/plasso");
        this.Di = "crosshair";
        this.pG = [];
        this.BF = null;
        this.BT = null;
        this.abM = 0
    }
        ;
    U.UE.prototype = new U.Q_;
    U.UE.prototype.disable = function (Y, S, h, q) {
        this.jj(Y)
    }
        ;
    U.UE.prototype.Kf = function (Y, S, h, q) {
        this.pG = [F.bz, F.tb]
    }
        ;
    U.UE.prototype.E8 = function (Y) {
        return this.pG.indexOf(Y) != -1
    }
        ;
    U.UE.prototype.Cj = function (Y) {
        return this.BT != null
    }
        ;
    U.UE.prototype.NK = function () {
        return this.BT != null
    }
        ;
    U.UE.prototype.VD = function () {
        return this.BT != null
    }
        ;
    U.UE.prototype.fn = function (Y, S, h, q) {
        if (this.BT == null)
            return;
        var H = this.BT
            , I = H.H
            , E = I.length - 2
            , d = this.SG;
        if (this.i$ > 1 && h.q(F.Gs) && q.gk) {
            I.push(0, 0);
            H.Z.push("L");
            E += 2
        } else if (h.q(F.aY))
            d = U.a$.mk(new aV(I[E - 2], I[E - 1]), d);
        I[E] = d.x;
        I[E + 1] = d.y;
        Y.K.cv = H;
        Y.Yw = !0
    }
        ;
    U.UE.prototype.wR = function (Y, S, h, q) {
        var H = Date.now();
        if (this.BT == null)
            this.BT = {
                H: [this.SG.x, this.SG.y, this.SG.x, this.SG.y],
                Z: ["M", "L"]
            };
        else {
            this.fn(Y, S, h, q);
            if (H - this.abM < 250 || aV.kr(this.SG, new aV(this.BT.H[0], this.BT.H[1])) < 5 * P.M() / Y.z.S) {
                this.BF = this.BT;
                this.finish(Y, S, h, q);
                this.jj(Y);
                return
            }
            this.BT.Z.push("L");
            this.BT.H.push(this.SG.x, this.SG.y)
        }
        this.abM = H;
        Y.K.cv = this.BT
    }
        ;
    U.UE.prototype.jj = function (Y) {
        this.BT = null;
        this.pG = [];
        if (Y != null) {
            Y.K.cv = null;
            Y.Yw = !0
        }
    }
        ;
    U.UE.prototype.jL = function (Y, S, h, q) {
        U.Q_.prototype.jL.call(this, Y, S, h, q);
        if (q.q(F.fp) && this.BT == null && this.BF && Y.N != null) {
            var H = new _(P.E.A);
            H.F = U.Sb;
            H.data = {
                X: "h_stepbck"
            };
            S.B(H);
            this.Kf(Y, h, q, null);
            this.BT = this.BF;
            return
        }
        if (this.BT == null)
            return;
        if (q.q(F.bz) || q.q(F.tb)) {
            this.BT.H.pop();
            this.BT.H.pop();
            this.BT.Z.pop();
            this.fn(Y, h, q)
        }
        if (q.q(F.gm)) {
            if (this.BT.H.length > 4) {
                this.BF = this.BT;
                this.finish(Y, h, q)
            }
            this.BT = null
        }
        if (q.q(F.fp)) {
            this.BT = null
        }
        Y.K.cv = this.BT;
        Y.Yw = !0
    }
        ;
    U.UE.prototype.getSelection = function (Y, S, h, q) {
        return U.Q_.G3(this.BT.H)
    }
        ;
    U.kS = function () {
        U.Q_.call(this, [10, 10], U.a8v, "tools/mlasso");
        this.Di = "crosshair";
        this.pG = [];
        this.b = [];
        this.cA = [];
        this.rm = [];
        this.vf = null;
        this.Xp = null;
        this.yU = null;
        this.ao = 0;
        this.yk = 0
    }
        ;
    U.kS.prototype = new U.Q_;
    U.kS.prototype.disable = function (Y, S, h, q) {
        this.clear(Y)
    }
        ;
    U.kS.prototype.Cj = function (Y) {
        return this.b.length != 0
    }
        ;
    U.kS.prototype.VD = function () {
        return this.b.length != 0
    }
        ;
    U.kS.prototype.E8 = function (Y) {
        return this.pG.indexOf(Y) != -1
    }
        ;
    U.kS.prototype.Kf = function (Y, S, h, q) {
        this.pG = [F.bz, F.tb];
        var H = this.p8(this.zl, Y);
        if (this.b.length != 0 && (aV.kr(H, this.b[0]) < 4 * P.M() / Y.z.S || Date.now() - this.ao < 300)) {
            this.fU(Y, this.b[0]);
            this.finish(Y, S, h);
            this.clear(Y);
            return
        }
        this.ao = Date.now();
        if (this.b.length != 0)
            H = this.MN(H, Y);
        else {
            var I = Y.d
                , E = Y.v
                , d = t.m(I * E)
                , B = Y.Q3()
                , n = I * E * 4;
            for (var G = 0; G < n; G += 4)
                d[G >>> 2] = ~~(.5 + t.re(B[G], B[G + 1], B[G + 2]) * (B[G + 3] * (1 / 255)));
            this.vf = t.Kx.a8U(d, I, E);
            this.yU = new Uint16Array(d.length)
        }
        this.fU(Y, H);
        this.yk = h.q(F.Gs) ? 1 : 0;
        this.mP(Y)
    }
        ;
    U.kS.prototype.fU = function (Y, S) {
        var h = this.b;
        this.cA[h.length] = this.rm.length;
        if (h.length != 0) {
            t.Kx.Xx(this.Xp, S.y * Y.d + S.x);
            var q = this.Dq(Y, S);
            q.reverse();
            var H = U.kS.ZN(Y, q);
            this.rm = this.rm.concat(H)
        }
        h.push(S);
        this.tY(Y)
    }
        ;
    U.kS.prototype.tY = function (Y) {
        var S = this.b[this.b.length - 1]
            , h = S.y * Y.d + S.x;
        this.Xp = t.Kx.an3(this.vf.n9, this.vf._I, h);
        this.yU.fill(0)
    }
        ;
    U.kS.prototype.p8 = function (Y, S) {
        return new aV(Math.floor(Math.max(0, Math.min(S.d - 1, Y.x))), Math.floor(Math.max(0, Math.min(S.v - 1, Y.y))))
    }
        ;
    U.kS.prototype.clear = function (Y) {
        this.rm = [];
        this.b = [];
        this.cA = [];
        this.vf = null;
        this.Xp = null;
        this.yU = null;
        if (Y != null) {
            Y.K.cv = null;
            Y.K.iF = [];
            Y.Yw = !0
        }
        this.pG = []
    }
        ;
    U.kS.prototype.fn = function (Y, S, h, q) {
        var H = this.b
            , I = H.length;
        if (I == 0)
            return;
        var E = this.MN(this.p8(this.SG, Y), Y)
            , d = this.Dq(Y, E);
        for (var G = 0; G < d.length; G++) {
            var B = d[G]
                , n = new aV(B % Y.d, Math.floor(B / Y.d));
            if (this.yU[B] > 30 && aV.kr(n, H[I - 1]) > 20) {
                this.fU(Y, n);
                return
            }
            this.yU[B]++
        }
        if (this.yk == 1 && q.gk)
            this.fU(Y, E);
        this.mP(Y)
    }
        ;
    U.kS.prototype.mP = function (Y) {
        var S = this.b;
        if (S.length != 0) {
            var h = this.MN(this.p8(this.SG, Y), Y)
                , q = this.Dq(Y, h);
            q.reverse();
            var H = U.kS.ZN(Y, q)
                , I = this.rm.concat(H)
                , E = Y.K.cv = {
                    H: I,
                    Z: ["M"]
                };
            for (var G = 2; G < I.length; G += 2)
                E.Z.push("L")
        }
        Y.K.iF = [];
        for (var G = 0; G < S.length; G++)
            Y.K.iF.push(S[G].x + .5, S[G].y + .5);
        Y.Yw = !0
    }
        ;
    U.kS.prototype.wR = function (Y, S, h, q) { }
        ;
    U.kS.prototype.jL = function (Y, S, h, q) {
        if (this.b.length == 0)
            return;
        if (q.q(F.bz) || q.q(F.tb)) {
            this.b.pop();
            this.rm = this.rm.slice(0, this.cA[this.b.length]);
            this.cA.pop();
            if (this.b.length == 0)
                this.clear(Y);
            else
                this.tY(Y);
            this.mP(Y)
        }
        if (q.q(F.gm)) {
            var H = this.p8(this.SG, Y);
            this.fU(Y, H);
            this.finish(Y, h, q);
            this.clear(Y)
        }
        if (q.q(F.fp)) {
            this.clear(Y)
        }
    }
        ;
    U.kS.prototype.getSelection = function (Y, S, h, q) {
        return U.Q_.G3(this.rm)
    }
        ;
    U.kS.prototype.Dq = function (Y, S) {
        var h = this.b[this.b.length - 1]
            , q = h.y * Y.d + h.x
            , H = S.y * Y.d + S.x;
        if (this.yk == 1)
            return [H, q];
        var I = [H];
        while (H != q) {
            H = this.Xp.YH[H];
            I.push(H);
            if (I.length > 5e3) {
                console.log(I);
                throw "e"
            }
        }
        return I
    }
        ;
    U.kS.ZN = function (Y, S) {
        var h = []
            , q = Y.d;
        for (var G = 0; G < S.length; G++) {
            var H = S[G];
            h.push(H % q + .5, Math.floor(H / q) + .5)
        }
        return h
    }
        ;
    U.kS.prototype.MN = function (Y, S) {
        var h = S.d
            , q = S.v
            , H = Y.clone()
            , E = 3;
        t.Kx.Xx(this.Xp, Y.y * h + Y.x);
        var I = this.Xp.aO[Y.y * h + Y.x];
        for (var d = -E + 1; d < E; d++)
            for (var B = -E + 1; B < E; B++) {
                var n = Y.x + B
                    , g = Y.y + d;
                if (n < 0 || n >= h || g < 0 || g >= q)
                    continue;
                t.Kx.Xx(this.Xp, g * h + n);
                if (this.Xp.aO[g * h + n] < I)
                    H.bm(n, g)
            }
        return H
    }
        ;
    U.uQ = function () {
        U.Il.call(this, [10, 36], U.a2E, "tools/ruler");
        this.YF = null;
        this._n = null;
        this.Y6 = null;
        this.Lp = null
    }
        ;
    U.uQ.prototype = new U.Il;
    U.uQ.prototype.Cj = function (Y) {
        return Y.gk
    }
        ;
    U.uQ.prototype.disable = function (Y, S, h, q) {
        this.YF = this._n = null;
        if (Y)
            this.P2(Y)
    }
        ;
    U.uQ.prototype.FF = function (Y, S, h, q, H) {
        var I = Y.z.S / P.M()
            , E = Y.z.vl(H.x, H.y);
        E.x = Math.round(E.x);
        E.y = Math.round(E.y);
        var d = this.YF;
        if (d && aV.kr(E, d[0]) * I < 6)
            this._n = [0];
        else if (d && aV.kr(E, d[1]) * I < 6)
            this._n = [1];
        else if (d && U.uQ.a6J(d[0], d[1], E) * I < 6 && Math.min(d[0].x, d[1].x) - 5 <= E.x && E.x <= Math.max(d[0].x, d[1].x) + 5 && Math.min(d[0].y, d[1].y) - 5 <= E.y && E.y <= Math.max(d[0].y, d[1].y) + 5) {
            this._n = [0, 1];
            this.Lp = [d[0].clone(), d[1].clone()];
            this.Y6 = E
        } else {
            this.YF = [E.clone(), E.clone()];
            this._n = [1]
        }
    }
        ;
    U.uQ.prototype.vr = function (Y, S, h, q, H) {
        if (this._n == null)
            return;
        var I = this.YF
            , E = this._n
            , d = Y.z.vl(H.x, H.y);
        d.x = Math.round(d.x);
        d.y = Math.round(d.y);
        if (E.length == 2) {
            var B = d.x - this.Y6.x
                , n = d.y - this.Y6.y;
            I[0] = this.Lp[0].clone();
            I[0].offset(B, n);
            I[1] = this.Lp[1].clone();
            I[1].offset(B, n)
        } else {
            I[E[0]].bm(d.x, d.y);
            if (q.q(F.aY)) {
                I[E[0]] = U.a$.mk(I[1 - E[0]], I[E[0]])
            }
        }
        this.P2(Y);
        this.fc(S, P.E.P, {
            X: P.U.tS,
            F: this.id,
            a05: I[0],
            AH: I[1],
            PW: Y.PW,
            a5j: Y.d
        })
    }
        ;
    U.uQ.prototype.mi = function (Y, S, h, q, H) {
        this._n = null
    }
        ;
    U.uQ.prototype.fc = function (Y, S, h) {
        var q = new _(S, !0);
        q.data = h;
        Y.B(q)
    }
        ;
    U.uQ.prototype.P2 = function (Y) {
        var S = this.YF;
        if (S == null) {
            Y.K.cv = null;
            Y.K.iF = []
        } else {
            var h = [S[0].x, S[0].y, S[1].x, S[1].y];
            Y.K.cv = {
                Z: ["M", "L"],
                H: h
            };
            Y.K.iF = h
        }
        Y.Yw = !0
    }
        ;
    U.uQ.a6J = function (Y, S, h) {
        var q = S.x - Y.x
            , H = S.y - Y.y
            , I = Math.abs(H * h.x - q * h.y + S.x * Y.y - S.y * Y.x)
            , E = Math.sqrt(q * q + H * H);
        return I / E
    }
        ;
    U.DY = function () {
        U.NJ.call(this, [10, 19], U.oT, "tools/sharpen");
        this.rv = "copy"
    }
        ;
    U.DY.prototype = new U.NJ;
    U.DY.prototype.FF = function (Y, S, h, q, H) {
        var I = this.V6.pdetail ? fU.ML : fU.oT;
        if (q.q(F.Gs))
            I = fU.XP;
        this.oC(Y, h, q, H, this.V6.strn, I);
        if (this.I$ == null)
            return;
        this.Fk(Y)
    }
        ;
    U.DY.prototype.vr = function (Y, S, h, q, H) {
        this.rI(Y, S, h);
        if (this.x9)
            this.ss(Y, h, H);
        if (this.I$ == null)
            return;
        if (!H.gk)
            return;
        this.o8(Y, h, q, H);
        this.Fk(Y)
    }
        ;
    U.wZ = function () {
        U.NJ.call(this, [10, 24], U.V8, "tools/shbrush");
        this.rv = "draw";
        this.V6.opacity = .5
    }
        ;
    U.wZ.prototype = new U.NJ;
    U.wZ.prototype.FF = function (Y, S, h, q, H) {
        this.oC(Y, h, q, H, 1);
        if (this.I$ == null)
            return;
        this.Aa(Y);
        this.Fk(Y)
    }
        ;
    U.wZ.prototype.vr = function (Y, S, h, q, H) {
        this.rI(Y, S, h);
        if (this.x9)
            this.ss(Y, h, H);
        if (this.I$ == null)
            return;
        if (!H.gk)
            return;
        this.o8(Y, h, q, H);
        this.Fk(Y)
    }
        ;
    U.wZ.prototype.mi = function (Y, S, h, q, H) {
        if (this.I$ == null)
            return;
        this.td(Y, "sheal", this.I$.ce(), this.I$.i6(), this.I$.HK(), null);
        this.s(Y, this.I$.HK());
        U.NJ.prototype.mi.call(this, Y, S, h, q, H)
    }
        ;
    U.jw = function () {
        U.NJ.call(this, [10, 20], U.eZ, "tools/smudge");
        this.rv = "copy"
    }
        ;
    U.jw.prototype = new U.NJ;
    U.jw.prototype.FF = function (Y, S, h, q, H) {
        this.oC(Y, h, q, H, this.V6.strn, fU.eZ);
        if (this.I$ == null)
            return;
        this.Fk(Y)
    }
        ;
    U.jw.prototype.vr = function (Y, S, h, q, H) {
        this.rI(Y, S, h);
        if (this.x9)
            this.ss(Y, h, H);
        if (this.I$ == null)
            return;
        if (!H.gk)
            return;
        this.o8(Y, h, q, H);
        this.Fk(Y)
    }
        ;
    U.ig = function () {
        U.NJ.call(this, [10, 23], U.zt, "tools/sponge");
        this.rv = "sponge"
    }
        ;
    U.ig.prototype = new U.NJ;
    U.ig.prototype.FF = function (Y, S, h, q, H) {
        this.oC(Y, h, q, H, this.V6.flow);
        if (this.I$ == null)
            return;
        this.Fk(Y)
    }
        ;
    U.ig.prototype.vr = function (Y, S, h, q, H) {
        this.rI(Y, S, h);
        if (this.x9)
            this.ss(Y, h, H);
        if (this.I$ == null)
            return;
        if (!H.gk)
            return;
        this.o8(Y, h, q, H);
        this.Fk(Y)
    }
        ;
    U.Ka = function () {
        U.Il.call(this, [10, 17], U.nf, "tools/zoom");
        this.fb = !1;
        this.IZ = !0;
        this.qz = 0;
        this._P = null;
        this.Zd = null;
        this.a2 = 0;
        this.de = null;
        this.Nl = 0;
        this.iO = new gV([{
            name: [8, 0],
            fQ: "Ctrl + +"
        }, {
            name: [8, 1],
            fQ: "Ctrl + -",
            Sp: !0
        }, {
            name: [20, 3],
            fQ: "Ctrl + 0"
        }, {
            name: ["VAR0: 100%", [20, 2]],
            fQ: "Ctrl + 1"
        }], [{
            c: P.E.A,
            F: U.nf,
            g: {
                X: "zoom",
                IZ: !0
            }
        }, {
            c: P.E.A,
            F: U.nf,
            g: {
                X: "zoom",
                IZ: !1
            }
        }, {
            c: P.E.A,
            F: U.nf,
            g: {
                X: "adapt",
                G: "fitscr"
            }
        }, {
            c: P.E.A,
            F: U.nf,
            g: {
                X: "adapt",
                G: "pixel"
            }
        }])
    }
        ;
    U.Ka.prototype = new U.Il;
    U.Ka.prototype.dP = function (Y, S, h, q, H) {
        var I = this.iO;
        I.f();
        I.parent = S;
        I.update(Y, h);
        var E = new _(P.E.P, !0);
        E.data = {
            X: P.U.pa,
            FN: I,
            x: H.q5 + 2,
            y: H.sZ + 1
        };
        S.B(E)
    }
        ;
    U.Ka.prototype.enable = function (Y, S, h, q) {
        this.bS(S, q);
        if (Y && Date.now() - this.qz < 300)
            this.ON({
                X: "adapt",
                G: "pixel"
            }, S, Y, q, h);
        this.qz = Date.now()
    }
        ;
    U.Ka.prototype.FF = function (Y, S, h, q, H) {
        this.Zd = new aV(H.x, H.y);
        this.a2 = Y.z.S;
        this.de = Y.z.T.clone()
    }
        ;
    U.Ka.prototype.vr = function (Y, S, h, q, H) {
        if (this.Zd == null)
            return;
        var I = Math.exp(Math.log(this.a2) + (H.x - this.Zd.x) / 64);
        I = Math.max(.02, Math.min(32, I));
        Y.z.S = this.a2;
        Y.z.T = this.de.clone();
        this.ON({
            X: "zoom",
            S: I,
            ZQ: this.Zd
        }, S, Y, q, h)
    }
        ;
    U.Ka.prototype.mi = function (Y, S, h, q, H) {
        if (aV.kr(this.Zd, H) < 4) {
            var I = this.EE(q);
            this.ON({
                X: "zoom",
                IZ: I,
                ZQ: H
            }, S, Y, q, h)
        }
        this.Zd = null
    }
        ;
    U.Ka.ua = [32, 16, 12, 8, 6, 5, 4, 3, 2, 1, 2 / 3, 1 / 2, 1 / 2 * (2 / 3), 1 / 4, 1 / 4 * (2 / 3), 1 / 8, 1 / 8 * (2 / 3), 1 / 16, 1 / 16 * (2 / 3), 1 / 32, 1 / 32 * (2 / 3), 1 / 64];
    U.Ka.Gg = function (Y, S, h, q) {
        var H = 1;
        while (Y * H * 1 / 2 > h || S * H * 1 / 2 > q)
            H *= 1 / 2;
        if (Y * H * 2 / 3 > h || S * H * 2 / 3 > q)
            H *= 1 / 2;
        else if (Y * H > h || S * H > q)
            H *= 2 / 3;
        return H
    }
        ;
    U.Ka.Zn = function (Y, S) {
        var h = U.Ka.Or(Y);
        if (S && h == 0)
            return Y;
        if (!S && h == U.Ka.ua.length - 1)
            return Y;
        return U.Ka.ua[S ? h - 1 : h + 1]
    }
        ;
    U.Ka.Or = function (Y) {
        var S = 0;
        while (U.Ka.ua[S] > Y)
            S++;
        return S
    }
        ;
    U.Ka.Bs = function (Y, S, h, q) {
        var H = Y.n3;
        if (q == 0 || q == null) {
            q = U.Ka.Zn(Y.S, h);
            if (q == Y.S)
                return
        }
        var I = Y.vl(S.x, S.y);
        if (H.d * q <= Y.Eq.d && H.v * q <= Y.Eq.v) {
            Y.T.bm(0, 0);
            Y.S = q
        } else {
            var E = Y.x5()
                , d = Y.S / q;
            E.translate(-I.x, -I.y);
            E.scale(d, d);
            E.translate(I.x, I.y);
            Y.Oi(E)
        }
    }
        ;
    U.Ka.prototype.ON = function (Y, S, h, q, H) {
        if (Y.X == "pzoom") {
            if (typeof Y.G == "string")
                return;
            Y = {
                X: "zoom",
                S: Y.G / 100
            }
        }
        var I = 0
            , E = !1
            , d = null;
        if (Y.X == "adapt") {
            var B = 0;
            if (Y.G == "pixel")
                B = 1;
            if (Y.G == "fitscr") {
                var B = 0
                    , n = h.z.Eq.d
                    , g = h.z.Eq.v;
                B = Math.min((n - 14) / h.d, (g - 14) / h.v)
            }
            d = new aV(Math.round(h.z.Eq.d / 2), Math.round(h.z.Eq.v / 2));
            I = B;
            U.Ka.Bs(h.z, d, E, I);
            h.P7 = !0
        }
        if (Y.X.startsWith("multi")) {
            function z(y) {
                var j = y[0].x - y[1].x
                    , v = y[0].y - y[1].y;
                return Math.sqrt(j * j + v * v)
            }
            function p(y) {
                return new aV((y[0].x + y[1].x) / 2, (y[0].y + y[1].y) / 2)
            }
            var C = Y.mK
                , T = p(C);
            if (Y.X == "multidown") {
                this._P = [C, h.z.S, h.z.vl(T.x, T.y)]
            } else {
                I = this._P[1] * z(C) / z(this._P[0]);
                if (I >= 1)
                    I = Math.min(32, Math.round(I));
                else {
                    var A = 0
                        , i = 1e9
                        , e = U.Ka.ua;
                    for (var G = 0; G < e.length; G++) {
                        var a = Math.abs(1 - I / e[G]);
                        if (a < i) {
                            i = a;
                            A = G
                        }
                    }
                    I = e[A]
                }
                if (I != h.z.S)
                    U.Ka.Bs(h.z, T, E, I);
                var Z = this._P[2]
                    , O = h.z.XV(Z.x, Z.y)
                    , c = h.z.T;
                c.x = Math.round(c.x + T.x - O.x);
                c.y = Math.round(c.y + T.y - O.y);
                h.P7 = !0
            }
        }
        if (Y.X == "scroll") {
            d = Y.ZQ;
            this.Nl += Y.Dh.y;
            var s = 14;
            if (this.Nl < -s) {
                E = !0;
                this.Nl = Math.max(this.Nl + s, -(s - 1))
            } else if (this.Nl > s) {
                E = !1;
                this.Nl = Math.min(this.Nl - s, s - 1)
            } else
                return;
            U.Ka.Bs(h.z, d, E, I);
            h.P7 = !0
        }
        if (Y.X == "zoom") {
            d = Y.ZQ ? Y.ZQ : new aV(Math.round(h.z.Eq.d / 2), Math.round(h.z.Eq.v / 2));
            if (Y.S != null)
                I = Y.S;
            else
                E = Y.IZ;
            U.Ka.Bs(h.z, d, E, I);
            h.P7 = !0
        }
        if (Y.X == "mskView") {
            var x = h.t[h.C[0]]
                , u = x.wF == 3 ? x.$l(h).r : x.Qn();
            if (Y.G == 0) {
                h.z.L5 = [1, 1, 1];
                u.Qb = !1
            }
            if (Y.G == 1) {
                h.z.L5 = [1, 1, 1];
                u.Qb = !0
            }
            if (Y.G == 2) {
                h.z.L5 = [0, 0, 0];
                u.Qb = !0
            }
            for (var G = 0; G < h.h3.length; G++)
                h.h3[G].Qb = !1;
            h.AN = [];
            h.Yw = !0
        }
    }
        ;
    U.Ka.prototype.jL = function (Y, S, h, q) {
        if (this.fb != q.q(F.Gs)) {
            this.fb = q.q(F.Gs);
            var H = {
                X: P.U.tS,
                F: this.id,
                fb: this.fb
            }
                , I = new _(P.E.P, !0);
            I.data = H;
            S.B(I);
            this.bS(S, q)
        }
    }
        ;
    U.Ka.prototype.bS = function (Y, S) {
        var h = new _(P.E.P, !0)
            , q = this.EE(S);
        h.data = {
            X: P.U.t6,
            WX: q ? "zoom-in" : "zoom-out"
        };
        Y.B(h)
    }
        ;
    U.Ka.prototype.yg = function (Y, S, h, q) {
        this.IZ = Y.IZ;
        this.bS(S, q)
    }
        ;
    U.Ka.prototype.EE = function (Y) {
        var S = this.IZ;
        if (Y.q(F.N9) && Y.q(F.EO))
            S = !0;
        if (this.fb)
            S = !S;
        return S
    }
        ;
    U.Ka.Jl = function (Y, S) {
        if (Y.q(F.lR) || Y.q(F.a41)) {
            S.F = U.nf;
            S.data = {
                X: "zoom",
                IZ: !0
            }
        }
        if (Y.q(F.yJ)) {
            S.F = U.nf;
            S.data = {
                X: "zoom",
                IZ: !1
            }
        }
        if (Y.q(F.ZT)) {
            S.F = U.nf;
            S.data = {
                X: "adapt",
                G: "fitscr"
            }
        }
        if (Y.q(F.dn)) {
            S.F = U.nf;
            S.data = {
                X: "adapt",
                G: "pixel"
            }
        }
    }
        ;
    U.u1 = function (Y, S, h) {
        U.Il.call(this, Y, S, h);
        this.ti = null;
        this.it = null;
        this.Su = null;
        this.aii = 0
    }
        ;
    U.u1.prototype = new U.Il;
    U.u1.prototype.enable = function (Y, S, h, q, H) {
        this.it = h;
        var I = new _(P.E.P, !0);
        I.data = {
            X: P.U.t6,
            WX: "default"
        };
        S.B(I)
    }
        ;
    U.u1.prototype.dP = function (Y, S, h, q, H) {
        if (Y.L1()[0].length == 0)
            return;
        var I = new _(P.E.P, !0);
        I.data = {
            X: P.U.tS,
            F: this.id,
            lG: H,
            Tw: Y,
            Q2: h
        };
        S.B(I)
    }
        ;
    U.u1.prototype.dx = function (Y, S) {
        var h = new _(P.E.P, !0);
        h.data = {
            X: P.U.PD,
            go: iD.Lb
        };
        if (!S.Yc)
            Y.B(h);
        h.data = {
            X: P.U.PD,
            go: iD.H6
        };
        if (!S.nF._b)
            Y.B(h)
    }
        ;
    U.u1.prototype.vJ = function (Y, S, h, q) {
        if (h.Ez != this.id)
            return;
        if (Y.C.length == 0)
            return;
        var H = Y.t[Y.C[0]]
            , I = H.add.vmsk
            , E = H.add.vstk
            , d = U.u1.e$(Y, Y.C[0]);
        this.ti = Y;
        this.Su = S;
        if (H.uy() && I != null && (JSON.stringify(E) != JSON.stringify(h.JR) || JSON.stringify(d) != JSON.stringify(h.Ob))) {
            this.aii = Date.now();
            var B = new _(P.E.P, !0);
            B.data = {
                X: P.U.PD,
                go: iD.Rt,
                G: d
            };
            S.B(B);
            B.data = {
                X: P.U.PD,
                go: iD.iZ,
                G: E
            };
            S.B(B)
        }
    }
        ;
    U.u1.prototype.rJ = function (Y, S) {
        if (this.ti == null)
            return;
        if (S == iD.Ie || S == iD.Rt || S == iD.iZ) {
            if (Date.now() - this.aii < 50)
                return;
            var h = S == iD.Rt
                , q = this.ti
                , H = h ? Y.Ob : Y.JR
                , I = [];
            for (var G = 0; G < q.C.length; G++) {
                var E = q.C[G]
                    , d = q.t[E];
                if (!d.uy() || d.add.vmsk == null)
                    continue;
                I.push(E)
            }
            var B = new _(P.E.A, !0);
            B.F = U.GC;
            B.data = {
                X: M.mb,
                An: I,
                C8: h,
                G: H
            };
            if (I.length != 0)
                this.Su.B(B)
        }
    }
        ;
    U.u1.prototype.a0h = function (Y) {
        debugger
        if (typeof Y == "number") {
            var S = new _(P.E.$_, !0);
            S.data = U.sX.kx(0);
            S.data.Jz.Usng.v.Type.v.Clr.v = t.W.Da({
                h: Y >>> 16 & 255,
                l: Y >>> 8 & 255,
                O: Y >>> 0 & 255
            });
            this.Su.B(S)
        }
    }
        ;
    U.u1.prototype.ON = function (Y, S, h, q, H) {
        this.Su = S;
        if (Y.X == "newfill") {
            if (Y.I7 == 0) {
                var I = new _(P.E.P, !0);
                I.data = {
                    X: P.U.V5,
                    Fh: "colorpicker",
                    oA: H.jy,
                    HM: this.a0h.bind(this)
                };
                S.B(I)
            }
        } else if (Y.X == "pathedit") {
            var E = Y.Wg
                , d = ""
                , B = h._b.slice(0)
                , n = h.IO.slice(0)
                , g = h._b.slice(0)
                , z = h.IO.slice(0);
            if (E == "rnm") {
                var p = -1 - Y.Y8
                    , C = B[p]
                    , T = dh.KK(Y.name, C.add);
                if (p != 0)
                    g[p] = T;
                else {
                    z = [g.length];
                    g.push(T);
                    g[0] = dh.KK("Work Path")
                }
                d = "Rename"
            } else if (E == "new") {
                g.push(dh.KK("Path " + B.length));
                z = [g.length - 1];
                d = "New"
            } else if (E == "del") {
                if (z.length == 0)
                    return;
                z.sort(function (y, m) {
                    return y - m
                });
                if (z[0] == 0) {
                    g[0] = dh.KK(B[0].name);
                    z = z.slice(1)
                }
                var A = 0;
                while (z.length != 0) {
                    g.splice(z[0] - A, 1);
                    z = z.slice(1);
                    A++
                }
                d = "Delete"
            } else if (E == "fromsel") {
                var i = g[0] = dh.KK("Work Path");
                z = [0];
                if (h.N == null)
                    return;
                var e = h.N.channel.slice(0);
                for (var G = 0; G < e.length; G++)
                    e[G] = e[G] > 128 ? 2 : 1;
                var a = h.N.rect.clone();
                a.vo(1, 1);
                var Z = t.m(a.e());
                t.m7(e, h.N.rect, Z, a);
                var O = f3.kB(Z, a.d, a.v, Math.round(a.e() * 5e-4))
                    , c = f3.L1(O)
                    , s = new d5(1, 0, 0, 1, -1 + h.N.rect.x, -1 + h.N.rect.y);
                for (var G = 0; G < c.length; G++)
                    t.a.J(c[G].path.H, s, c[G].path.H);
                for (var G = 0; G < c.length; G++) {
                    var x = c[G];
                    if (x.color == 1 && x.parent == -1)
                        continue;
                    var u = t.a.QG(c[G].path, !1);
                    i.add.vmsk.b = i.add.vmsk.b.concat(u.slice(2))
                }
                i.add.vogk = M.Ir(i.add.vmsk.b);
                d = "Selection to"
            }
            var y = new fj(d + " Path", this);
            y.data = {
                p5: B,
                q6: n,
                a3z: g,
                RG: z
            };
            if (E == "fromsel") {
                y.data.ez = h.N;
                y.data.nI = null
            }
            h._l(y);
            this.RV(y.data, h)
        } else {
            var j = h.L1(Y.X == "append")
                , c = j[0]
                , v = j[1]
                , i = c[v[0]]
                , X = i.add.vmsk
                , N = i.add.vogk
                , V = X.clone()
                , $ = X.clone()
                , w = JSON.stringify(N);
            if (Y.X == "remove") {
                if ($.C.length == 0)
                    return;
                var A = 0;
                for (var G = 0; G < $.C.length; G++) {
                    N.splice($.C[G] + A, 1);
                    A--
                }
                $.b = t.Y.a0D($.b, $.C);
                $.C = [];
                $.xf = []
            }
            if (Y.X == "append") {
                U.u1.Lr(Y.aff, $, N)
            }
            this.Mw(h, i.Y8, $, N);
            this.PE(h, Y.vc, i.Y8, V, $.clone(), null, w, JSON.stringify(N))
        }
    }
        ;
    U.u1.A0 = function (Y, S) {
        var h = t.Y.a1q(Y.b, Y.C)
            , q = [];
        for (var G = 0; G < Y.C.length; G++)
            q.push(JSON.parse(JSON.stringify(S[Y.C[G]])));
        return [h, q]
    }
        ;
    U.u1.Lr = function (Y, S, h) {
        var q = t.Y.Id(S.b)
            , H = t.Y.Id(Y[0]);
        S.b = S.b.concat(Y[0].slice(2));
        S.C = [];
        for (var G = 0; G < H; G++)
            S.C.push(q + G);
        for (var G = 0; G < H; G++)
            h.push(JSON.parse(JSON.stringify(Y[1][G])))
    }
        ;
    U.u1.prototype.E8 = function (Y, S) {
        if (S == null)
            return !1;
        var h = S.L1()
            , q = h[0]
            , H = h[1];
        if (H.length == 0)
            return !1;
        var I = q[H[0]]
            , E = I.add.vmsk;
        if (E && E.C.length + E.xf.length != 0)
            return [F.bz, F.tb].indexOf(Y) != -1
    }
        ;
    U.u1.prototype.jL = function (Y, S, h, q) {
        if (Y == null)
            return;
        var H = Y.L1()
            , I = H[0]
            , E = H[1];
        if (E.length == 0)
            return;
        var d = I[E[0]]
            , B = d.add.vmsk;
        if (q.q(F.fp) || q.q(F.gm)) {
            B.xf = [];
            Y.Yw = !0
        }
        if (B.C.length != 0) {
            var n = q.ct();
            if (n.x != 0 || n.y != 0) {
                var g = B.clone()
                    , z = B.clone()
                    , p = new d5(1, 0, 0, 1, n.x, n.y)
                    , C = d.add.vogk
                    , T = JSON.stringify(C);
                t.Y.$M(z.b, p, z.C);
                t.tx.J(C, t.I.gA(p), z.C);
                this.Mw(Y, d.Y8, z, C);
                this.PE(Y, "Move Paths", d.Y8, g, z.clone(), !0, T, JSON.stringify(C))
            }
            if (q.q(F.bz) || q.q(F.tb))
                this.ON({
                    X: "remove",
                    vc: "Delete Paths"
                }, S, Y, q, h)
        }
    }
        ;
    U.u1.prototype.PE = function (Y, S, h, q, H, I, E, d) {
        var B = new fj(S, this);
        B.data = {
            oK: h,
            Wp: q,
            pc: H,
            a58: I,
            a3S: E,
            R6: d
        };
        Y._l(B)
    }
        ;
    U.u1.prototype.RV = function (Y, S) {
        if (Y.oK != null)
            this.Mw(S, Y.oK, Y.pc.clone(), JSON.parse(Y.R6));
        else {
            debugger
            S._b = Y.a3z.slice(0);
            S.IO = Y.RG.slice(0);
            S.Yw = S.Dn = !0
        }
        if (Y.ez || Y.nI) {
            S.N = Y.nI;
            S.P5 = !0
        }
    }
        ;
    U.u1.prototype.Td = function (Y, S) {
        if (Y.oK != null)
            this.Mw(S, Y.oK, Y.Wp.clone(), JSON.parse(Y.a3S));
        else {
            debugger
            S._b = Y.p5.slice(0);
            S.IO = Y.q6.slice(0);
            S.Yw = S.Dn = !0
        }
        if (Y.ez || Y.nI) {
            S.N = Y.ez;
            S.P5 = !0
        }
    }
        ;
    U.u1.prototype.Mw = function (Y, S, h, q) {
        debugger
        var H = S < 0 ? Y._b[-1 - S] : S < 1e6 ? Y.t[S] : Y.t[S - 1e6].add.TySh;
        H.add.vmsk = h;
        H.add.vogk = q;
        if (1e6 <= S) {
            ap.Kl(H);
            var I = Y.t[S - 1e6]
                , E = H
                , d = this.it
                , B = new cm(E.lV, d.Z7)
                , n = gd.tL(B, E);
            I.rect = n._;
            I.buffer = n.nP;
            I.s();
            Y.s()
        } else if (0 <= S) {
            h.Uh = !0;
            H._A(Y);
            Y.s()
        }
        Y.Yw = Y.Dn = !0
    }
        ;
    U.u1.e$ = function (Y, S) {
        var h = Y.t[S]
            , q = h.add.vstk
            , H = null;
        if (q && !q.fillEnabled.v)
            H = {
                zH: 0
            };
        else if (h.add.SoCo)
            H = {
                zH: 1,
                yW: h.add.SoCo
            };
        else if (h.add.GdFl)
            H = {
                zH: 2,
                yW: h.add.GdFl
            };
        else if (h.add.PtFl)
            H = {
                zH: 3,
                yW: h.add.PtFl
            };
        return H
    }
        ;
    U.u1.sN = function (Y, S) {
        var h = Y.add.vmsk
            , q = Y.add.vstk
            , H = S.zH;
        if (q)
            q.fillEnabled.v = H != 0;
        if (H > 0) {
            var I = ["SoCo", "GdFl", "PtFl"][H - 1];
            for (var G = 0; G < 3; G++)
                delete Y.add[["SoCo", "GdFl", "PtFl"][G]];
            Y.add[I] = S.yW
        }
    }
        ;
    U.sX = function (Y, S, h, q) {
        U.u1.call(this, Y, S, h);
        this.V6 = {
            tmode: 1,
            shape: e$.g4(),
            pshape: 0,
            binop: 0,
            crad: 0,
            irad: 40,
            length: 4,
            sides: 5,
            width: 5,
            tolr: 5,
            tsiz: 300,
            cstr: {
                qa: 0
            }
        };
        this.a0v = q;
        this.fG = null;
        this.T5 = null;
        this.tM = null
    }
        ;
    U.sX.prototype = new U.u1;
    U.sX.prototype.Cj = function (Y) {
        return Y.gk && this.id != U.Mh
    }
        ;
    U.sX.prototype.enable = function (Y, S, h, q, H) {
        this.it = h;
        var I = new _(P.E.P, !0);
        I.data = {
            X: P.U.t6,
            WX: "crosshair"
        };
        S.B(I)
    }
        ;
    U.sX.prototype.A8 = function (Y, S, h, q) { }
        ;
    U.sX.prototype.FF = function (Y, S, h, q, H) {
        var I = this.V6.tmode;
        if (I != 2)
            this.dx(S, h);
        if (I == 2 && !Y.gH())
            return;
        var E = Y.z.vl(H.x, H.y);
        E = U._C.jg(Y, E, h);
        this.tM = [E.x, E.y];
        this.fG = E;
        this.T5 = new aV(0, 0)
    }
        ;
    U.sX.prototype.dS = function (Y, S, h) {
        var q = [this.fG.clone(), S.clone()];
        if (this.a0v)
            q = U.sX.sq(q[0], q[1], h, !0, this.V6.cstr);
        if (Y)
            Y.z.Tz = new W(q[0].x, q[0].y, q[1].x - q[0].x, q[1].y - q[0].y);
        return this.A8(q[0], q[1], h.q(F.aY), this.tM)
    }
        ;
    U.sX.prototype.nM = function (Y, S, h) {
        var q = Y.z.vl(S.x, S.y)
            , H = this.V6.cstr;
        if (H.qa == 2) {
            var I = new W(q.x - H.x, q.y - H.y, H.x, H.y)
                , E = U._C.vF(Y, I, h);
            q.x += E[0];
            q.y += E[1];
            U._C.I8(Y, I, E)
        } else
            q = U._C.jg(Y, q, h);
        return q
    }
        ;
    U.sX.prototype.vr = function (Y, S, h, q, H) {
        if (this.fG == null)
            return;
        var I = this.tM
            , E = I.length
            , d = H ? this.nM(Y, H, h) : new aV(I[E - 2], I[E - 1]);
        if (q.q(F.N9)) {
            debugger
            this.fG = d.KB(this.T5);
        }
        else
            this.T5 = d.KB(this.fG);
        I.push(d.x, d.y);
        if (this.V6.shape == null)
            this.V6.shape = h.AS[0];
        var B = this.dS(Y, d, q)[0]
            , n = t.a.df(B);
        Y.K.cv = n;
        if (this.id != U.Mh && this.id != U.x0 && this.id != U.Wz)
            U.Il.Qe(H.x + 10, H.y - 10, Y.z.Tz, Y, h);
        Y.Yw = !0
    }
        ;
    U.sX.prototype.alg = function (Y, S, h, q) {
        debugger
        var H = Y[4].clone();
        if (q) {
            H.x -= S / 2;
            H.y -= h / 2
        }
        var I = this.A8(H, new aV(H.x + S, H.y + h), !1, this.tM);
        this.qn(Y[0], Y[1], Y[2], I)
    }
        ;
    U.sX.prototype.qn = function (Y, S, h, q) {
        debugger
        var H = new _(P.E.$_, !0);
        H.data = U.sX.NQ(q[1], h);
        S.B(H);
        debugger
        if (q[1].v.classID == "customShape" && q[1].v.Nm.v.startsWith("--")) {
            var I = Y.L1()
                , E = I[0]
                , d = I[1]
                , B = E[d.pop()]
                , n = B.add.vmsk
                , g = B.add.vogk
                , z = n.clone();
            z.b = q[0];
            this.Mw(Y, B.Y8, z, g)
        }
    }
        ;
    U.sX.prototype.mi = function (Y, S, h, q, H) {
        debugger
        if (this.fG == null)
            return;
        debugger
        var I = this.nM(Y, H, h)
            , E = this.V6.binop
            , d = this.V6.tmode
            , B = this.tM
            , n = B.length;
        if (this.id == U.Mh && n <= 4) { } else if (n <= 4) {
            I.x = Math.round(I.x);
            I.y = Math.round(I.y);
            var g = new _(P.E.P);
            g.data = {
                X: P.U.V5,
                Fh: "createshape",
                aeC: this.alg.bind(this),
                a6u: this.name,
                aim: [Y, S, h, q, I]
            };
            S.B(g)
        } else if (n != 2) {
            debugger
            var z = this.dS(Y, I, q)
                , p = z[0];
            if (d == 0 && p.length > 2) {
                p[2].Mg = [1, 2, 3, 0][E];
                var C = Y.L1(!0)
                    , T = C[0]
                    , A = C[1]
                    , i = T[A.pop()]
                    , e = i.add.vmsk
                    , a = i.add.vogk
                    , Z = e.clone()
                    , O = e.clone()
                    , c = JSON.stringify(a);
                O.b = O.b.concat(p.slice(2));
                O.C = [t.Y.Id(O.b) - 1];
                var s = t.tx.dV(z[1]);
                a.push(s ? s : t.tx.QO());
                this.Mw(Y, i.Y8, O, a);
                this.PE(Y, this.name, i.Y8, Z, O, null, c, JSON.stringify(a))
            } else if (d == 1) {
                debugger
                this.qn(Y, S, h, z)
            } else if (d == 2) {
                var O = new M.cJ;
                O.b = O.b.concat(p.slice(2));
                var x = O.Qn()
                    , u = t.m(x.rect.e() * 4);
                t.A5(u, (h.jy & 255) << 16 | (h.jy >> 8 & 255) << 8 | (h.jy >> 16 & 255) << 0);
                t.Vj(x.channel, u, 3);
                var y = new _(P.E.A, !0);
                y.F = U.e8;
                y.data = {
                    X: "draw",
                    Iw: {
                        buffer: u,
                        rect: x.rect.clone()
                    },
                    vc: this.name
                };
                S.B(y)
            }
        }
        this.fG = null;
        Y.K.cv = null;
        Y.K.Yi = null;
        Y.K.NS = [];
        Y.z.Tz = null;
        Y.Yw = !0
    }
        ;
    U.sX.prototype.yg = function (Y, S, h, q, H) {
        for (var h in Y)
            this.V6[h] = Y[h]
    }
        ;
    U.sX.sq = function (Y, S, h, q, H) {
        var I = Y.x
            , E = Y.y
            , d = S.x
            , B = S.y;
        if (H && H.qa == 2) {
            if (q) {
                d = Math.round(d);
                B = Math.round(B)
            }
            I = d - H.x;
            E = B - H.y
        } else {
            var n = 0;
            if (H && H.qa == 1)
                n = H.y / H.x;
            else if (h && h.q(F.aY))
                n = 1;
            if (n != 0) {
                if (q) {
                    if (I < d)
                        I = Math.floor(I);
                    else
                        I = Math.ceil(I);
                    if (E < B)
                        E = Math.floor(E);
                    else
                        E = Math.ceil(E)
                }
                var g = Math.abs(d - I)
                    , z = Math.abs(B - E)
                    , p = g;
                if (z / g < n)
                    p *= z / g / n;
                d = d > I ? I + p : I - p;
                B = B > E ? E + p * n : E - p * n
            }
            if (h && h.q(F.Gs)) {
                I -= d - I;
                E -= B - E
            }
        }
        var Y = new aV(I, E)
            , S = new aV(d, B);
        if (q)
            U.sX.a0S(Y, S);
        return [Y, S]
    }
        ;
    U.sX.a0S = function (Y, S) {
        if (Y.x > S.x) {
            var h = Y.x;
            Y.x = S.x;
            S.x = h
        }
        if (Y.y > S.y) {
            var h = Y.y;
            Y.y = S.y;
            S.y = h
        }
        Y.x = Math.floor(Y.x);
        Y.y = Math.floor(Y.y);
        S.x = Math.ceil(S.x);
        S.y = Math.ceil(S.y)
    }
        ;
    U.sX.a0Y = function () {
        return {
            classID: "Mk",
            null: {
                t: "obj ",
                v: [{
                    t: "Clss",
                    v: {
                        classID: "contentLayer"
                    }
                }]
            },
            Usng: {
                t: "Objc",
                v: {
                    classID: "contentLayer",
                    Type: {
                        t: "Objc",
                        v: {}
                    }
                }
            }
        }
    }
        ;
    U.sX.kx = function (Y, S) {
        debugger
        var h = U.sX.a0Y();
        if (S == null)
            S = JSON.parse(JSON.stringify(ai.DD[Y]));
        cU.sC.a_(S, h.Usng.v.Type.v, Y);
        return {
            f0: "make",
            Jz: h
        }
    }
        ;
    U.sX.NQ = function (Y, S) {
        debugger
        var h = S.Ob
            , q = JSON.parse(JSON.stringify(S.JR));
        if (h.zH == 0)
            q.fillEnabled.v = !1;
        var H = U.sX.kx(Math.max(0, h.zH - 1), h.yW);
        H.Jz.Usng.v.Shp = Y;
        H.Jz.Usng.v.strokeStyle = {
            t: "Objc",
            v: q
        };
        return H
    }
        ;
    U.Op = function () {
        U.u1.call(this, [10, 29], U.T3, "tools/pen");
        this.yu = null;
        this.IF = null;
        this.Fg = 1;
        this.abI = 0;
        this.C$ = null;
        this.SO = !1;
        this.l4 = !1;
        this.Fn = !1
    }
        ;
    U.Op.prototype = new U.u1;
    U.Op.prototype.Cj = function (Y) {
        return this.yu != null
    }
        ;
    U.Op.prototype.jL = function (Y, S, h, q) {
        U.u1.prototype.jL.call(this, Y, S, h, q);
        if (!q.q(F.Gs))
            this.Fn = !1
    }
        ;
    U.Op.prototype.FF = function (Y, S, h, q, H) {
        this.dx(S, h);
        var I = Y.z.vl(H.x, H.y), C, T;
        I.x = Math.round(I.x);
        I.y = Math.round(I.y);
        var E = U._C.jg(Y, I, h)
            , d = Y.L1(this.Fg == 0)
            , B = d[0]
            , n = d[1]
            , g = B[n.pop()]
            , z = g ? g.add.vmsk : null
            , p = 4 * P.M() / Y.z.S;
        if (z)
            C = t.Y.h4(z.b, I, !0, p);
        var A = q.q(F.Gs);
        debugger
        if (this.Fg == 1 && (z == null || z.xf.length == 0 && C.Y8 == -1)) {
            var i = new _(P.E.$_, !0)
                , e = t.tx.wv("customShape", [0, 0, 1, 1], null, null, null, "--");
            i.data = U.sX.NQ(e, h);
            S.B(i);
            d = Y.L1(!0);
            B = d[0];
            n = d[1];
            g = B[n.pop()];
            z = g.add.vmsk;
            z.b = z.b.slice(0, 2)
        }
        var a = g.add.vogk;
        this.yu = z.clone();
        this.IF = JSON.stringify(a);
        var Z = z.b
            , O = t.Y.Id(Z);
        T = t.Y.yd(z.b, new W(I.x - p, I.y - p, p * 2, p * 2), z.xf);
        C = t.Y.h4(z.b, I, !0, p);
        var c = T[0].length + T[1].length + T[2].length;
        if (C.Y8 != -1 && T[0].length == 0) {
            var s = t.Y.kV(Z, C.Y8);
            while (Z[s].length <= C.Y5) {
                C.Y5 -= Z[s].length;
                s += Z[s].length + 1
            }
            Z[s].length++;
            Z.splice(s + 2 + C.Y5, 0, {
                type: 4,
                c4: E.clone(),
                D: E.clone(),
                TA: E.clone()
            });
            z.xf = [s + 2 + C.Y5]
        } else if (c != 0 && A) {
            var x = 0;
            for (var G = 0; G < 3; G++)
                if (T[G].length != 0) {
                    x = T[G][0];
                    this.l4 = G == 1;
                    break
                }
            if (T[0].length != 0) {
                var u = z.b.length - 1
                    , y = z.b[x];
                y.TA = y.D.clone();
                var j = y.type >= 3 ? 3 : 0;
                if (x != u) {
                    y.c4 = y.D.clone();
                    y.type = j + 1;
                    this.Fn = !0
                } else
                    y.type = j + 2
            }
            z.xf = [x]
        } else if (T[0].length == 1 && Z[T[0][0] - 1] && Z[T[0][0] - 1].Mg == null) {
            var x = T[0][0]
                , s = t.Y.l1(Z, x);
            s = t.Y.kV(Z, s);
            var v = s + Z[s].length;
            if (x != v) {
                Z[s].length--;
                Z.splice(x, 1);
                v--
            }
            z.xf = [v]
        } else {
            var X = 0;
            if (z.xf.length != 1) {
                z.C = [O];
                Z.push({
                    type: 3,
                    length: 1,
                    Mg: [1, 2, 3, 0][this.abI],
                    rq: 0,
                    LW: 0,
                    xx: 0
                });
                X = Z.length;
                a.push(t.tx.QO())
            } else {
                var N = z.xf[0]
                    , V = t.Y.l1(Z, N)
                    , s = t.Y.kV(Z, V);
                N = s + Z[s].length;
                if (aV.kr(I, Z[s + 1].D) < p) {
                    Z[s].type = 0;
                    z.xf = [s + 1];
                    this.C$ = E;
                    this.SO = !0;
                    this.Mw(Y, g.Y8, z, a);
                    Y.Yw = !0;
                    return
                }
                Z[s].length++;
                X = N + 1;
                if (N == s + 1 && Z[s].length != 2)
                    X = s + 1
            }
            if (q.q(F.aY) && Z[X - 1] && Z[X - 1].D)
                E = U.a$.mk(Z[X - 1].D, E);
            Z.splice(X, 0, {
                type: 4,
                c4: E.clone(),
                D: E.clone(),
                TA: E.clone()
            });
            z.xf = [X];
            this.C$ = E
        }
        this.Mw(Y, g.Y8, z, a);
        Y.Yw = !0
    }
        ;
    U.Op.prototype.vr = function (Y, S, h, q, H) {
        if (this.yu == null)
            return;
        var I = Y.z.vl(H.x, H.y)
            , E = U._C.jg(Y, I, h)
            , d = Y.L1(this.Fg == 0)
            , B = d[0]
            , n = d[1]
            , g = B[n.pop()]
            , z = g.add.vmsk
            , p = z.b
            , C = p[z.xf[0]];
        if (q.q(F.N9)) {
            if (q.q(F.aY))
                E = U.a$.mk(this.C$, E);
            var T = C.D.KB(C.TA)
                , A = C.c4.KB(C.D);
            C.TA = E;
            C.D = E.add(T);
            C.c4 = C.D.add(A)
        } else {
            if (q.q(F.aY))
                E = U.a$.mk(C.D, E);
            if (this.l4) {
                var i = C.c4;
                C.c4 = C.TA;
                C.TA = i
            }
            if (this.SO) {
                var e = aV.kr(C.D, E)
                    , a = e == 0 ? 0 : aV.kr(C.D, C.TA) / e;
                C.TA.x = C.D.x + a * (E.x - C.D.x);
                C.TA.y = C.D.y + a * (E.y - C.D.y)
            } else
                C.TA = E;
            if (q.q(F.Gs) && !this.Fn)
                C.type = 5;
            else {
                C.type = 4;
                C.c4 = C.D.add(C.D.KB(E))
            }
            this.C$ = E;
            if (this.l4) {
                var i = C.c4;
                C.c4 = C.TA;
                C.TA = i
            }
        }
        this.Mw(Y, g.Y8, z, g.add.vogk);
        Y.Yw = !0
    }
        ;
    U.Op.prototype.mi = function (Y, S, h, q, H) {
        if (this.yu == null)
            return;
        var I = Y.L1(this.Fg == 0)
            , E = I[0]
            , d = I[1]
            , B = E[d.pop()]
            , n = B.add.vmsk
            , g = B.add.vogk;
        if (this.SO) {
            n.xf = [];
            this.Mw(Y, B.Y8, n, B.add.vogk)
        }
        this.PE(Y, this.SO ? "Close Path" : "Add Anchor Point", B.Y8, this.yu, n.clone(), null, this.IF, JSON.stringify(g));
        this.SO = !1;
        this.l4 = !1;
        this.Fn = !1;
        this.yu = null
    }
        ;
    U.Op.prototype.yg = function (Y, S, h, q, H) {
        this.Fg = Y.tmode;
        this.abI = Y.binop
    }
        ;
    U._s = function () {
        U.sX.call(this, [10, 30], U.Mh, "tools/fpen", !1)
    }
        ;
    U._s.prototype = new U.sX;
    U._s.prototype.A8 = function (Y, S, h, q) {
        return [t.Y.ym(q, this.V6.tolr), t.tx.wv("customShape", [0, 0, 1, 1], null, null, null, "--")]
    }
        ;
    U.$j = function () {
        U.u1.call(this, [10, 27], U.qL, "tools/pselect");
        this.Ec = null;
        this.$0 = !1;
        this.BT = null;
        this.yu = null;
        this.zF = null;
        this.IF = null;
        this.Cz = null;
        this.DK = null;
        this.zk = null;
        this.X2 = null
    }
        ;
    U.$j.prototype = new U.u1;
    U.$j.prototype.Cj = function (Y) {
        return Y.gk
    }
        ;
    U.$j.prototype.FF = function (Y, S, h, q, H) {
        debugger
        var I = Y.z.vl(H.x, H.y), E = Y.L1(), d = E[0], B = E[1], n, g;
        for (var G = 0; G < B.length; G++) {
            var z = d[B[G]]
                , p = z.add.vmsk
                , C = t.Y.h4(p.b, I).Y8;
            if (C != -1) {
                this.BT = n = z;
                g = C
            }
            for (var T = 0; T < p.YF.length; T++) {
                var A = t.Y.B8(p.b, p.YF[T]);
                if (A == null)
                    continue;
                var i = aV.kr(A, I);
                if (i < 4 * P.M() / Y.z.S) {
                    var e = Y.t[z.Y8 - 1e6].add.TySh
                        , a = e.lV.Curve
                        , Z = e.J
                        , O = a.Reversed;
                    a.Reversed = !1;
                    var a = cm.Uy(e.lV.Curve);
                    a.Reversed = O;
                    t.a.J(a[0], Z, a[0]);
                    this.zk = [a, T, Z.R * Z.RH - Z.O * Z.Pb];
                    this.BT = n = z;
                    g = 0
                }
            }
            if (this.zk)
                break
        }
        if (n != null) {
            var p = n.add.vmsk;
            p.xf = [];
            var c = p.C.indexOf(g);
            if (q.q(F.aY)) {
                if (c == -1) {
                    p.C.push(g);
                    this.$0 = !0
                } else
                    p.C.splice(c, 1)
            } else {
                if (c == -1)
                    p.C = [g];
                this.$0 = !0
            }
            this.DK = t.Y.c9(p.b, p.C)
        }
        this.Ec = I;
        this.X2 = new h_(I);
        Y.Dn = !0;
        Y.Yw = !0
    }
        ;
    U.$j.prototype.vr = function (Y, S, h, q, H) {
        if (this.Ec == null)
            return;
        var I = Y.z.vl(H.x, H.y);
        if (this.$0) {
            I = this.X2.oQ(I, q);
            var E = this.BT;
            if (this.yu == null) {
                this.yu = this.zF = E.add.vmsk.clone();
                this.IF = this.Cz = JSON.stringify(E.add.vogk);
                if (q.q(F.Gs)) {
                    var d = this.yu.clone()
                        , B = JSON.parse(this.IF)
                        , n = U.u1.A0(d, B);
                    U.u1.Lr(n, d, B);
                    this.zF = d;
                    this.Cz = JSON.stringify(B)
                }
            }
            var d = this.zF.clone()
                , B = JSON.parse(this.Cz);
            if (this.zk) {
                var g = this.zk
                    , z = g[0][0]
                    , p = t.a.VR(z, I.x, I.y);
                d.YF[g[1]] = g[0][1][p];
                var C = z[p * 2]
                    , T = z[p * 2 + 1]
                    , A = (z[p * 2 + 2] - C) * (I.y - T) - (z[p * 2 + 3] - T) * (I.x - C);
                if (g[2] < 0)
                    A = -A;
                d.mg = A > 0
            } else {
                var i = this.DK.clone()
                    , e = i.x
                    , a = i.y;
                i.offset(I.x - this.Ec.x, I.y - this.Ec.y);
                i.x = Math.round(i.x);
                i.y = Math.round(i.y);
                var Z = U._C.vF(Y, i, h)
                    , O = new d5(1, 0, 0, 1, i.x - e + Z[0], i.y - a + Z[1]);
                t.Y.$M(d.b, O, d.C);
                t.tx.J(B, t.I.gA(O), d.C);
                U._C.I8(Y, i, Z)
            }
            this.Mw(Y, E.Y8, d, B)
        } else {
            var c = this.Ec;
            Y.K.cv = t.a.yP(new W(c.x, c.y, I.x - c.x, I.y - c.y));
            Y.Yw = !0
        }
    }
        ;
    U.$j.prototype.mi = function (Y, S, h, q, H) {
        if (this.Ec == null)
            return;
        var I = Y.z.vl(H.x, H.y)
            , E = this.BT
            , d = E ? E.add.vmsk : null;
        if (this.$0) {
            var B = JSON.stringify(E.add.vogk);
            if (!this.Ec.ma(I))
                this.PE(Y, "Move Paths", E.Y8, this.yu, d, null, this.IF, B);
            if (Y != null && Y.K.Yi) {
                Y.K.Yi = null;
                Y.Yw = !0
            }
        } else {
            if (d) {
                var n = this.Ec
                    , g = new W(n.x, n.y, I.x - n.x, I.y - n.y)
                    , z = t.Y.afN(d.b, g);
                if (q.q(F.aY)) {
                    for (var G = 0; G < z.length; G++)
                        if (d.C.indexOf(z[G]) == -1)
                            d.C.push(z[G])
                } else
                    d.C = z
            }
            Y.K.cv = null;
            Y.Yw = !0
        }
        this.Ec = null;
        this.yu = null;
        this.zk = null;
        this.$0 = !1;
        this.X2 = null
    }
        ;
    U.$j.prototype.vJ = function (Y, S, h, q) {
        U.u1.prototype.vJ.call(this, Y, S, h, q);
        if (h.Ez != this.id)
            return;
        if (Y.C.length == 0)
            return;
        var H = Y.L1()
            , I = H[0]
            , E = H[1];
        if (E.length == 0)
            return;
        var d = I[E[0]]
            , B = d.add.vmsk
            , n = d.add.vstk
            , g = d.add.vogk
            , z = new _(P.E.P, !0);
        z.data = {
            X: P.U.tS,
            F: this.id,
            AT: "main",
            Ze: B ? B : null,
            tx: g
        };
        S.B(z)
    }
        ;
    U.$j.prototype.yg = function (Y, S, h, q, H) {
        var I = Y.Qg;
        if (I.Ze) {
            var E = h.L1()
                , d = E[0]
                , B = E[1];
            if (B.length == 0)
                return;
            var n = d[B[0]]
                , g = n.add.vmsk.clone()
                , z = JSON.stringify(n.add.vogk)
                , p = I.Ze;
            this.Mw(h, n.Y8, p, I.tx);
            var C = [18, 5];
            if (g.b.length == p.b.length)
                C = g.C[0] == p.C[0] ? "Fill Rule" : "Path Order";
            this.PE(h, C, n.Y8, g, p, null, z, JSON.stringify(I.tx))
        }
    }
        ;
    U.c0 = function () {
        U.u1.call(this, [10, 28], U.Hy, "tools/dselect");
        this.wc = -1;
        this.jI = -1;
        this.np = null;
        this.Ec = null;
        this.BT = null;
        this.yu = null;
        this.IF = null;
        this.ti = null;
        this.ao = 0;
        this.a0F = {
            psnap: !1
        };
        this.X2 = null
    }
        ;
    U.c0.prototype = new U.u1;
    U.c0.prototype.Cj = function (Y) {
        return Y.gk
    }
        ;
    U.c0.prototype.yg = function (Y) {
        this.a0F = Y
    }
        ;
    U.c0.prototype.ON = function (Y, S, h, q, H) {
        if (Y.X == "crnr") {
            if (h == null)
                return;
            var I = h.L1()
                , E = I[0]
                , d = I[1];
            if (d.length == 0) {
                alert("No paths selected");
                return
            }
            var B = E[d[0]]
                , n = B.add.vmsk;
            if (n.xf.length == 0) {
                alert("No corners selected");
                return
            }
            for (var G = 0; G < n.xf.length; G++) {
                var g = n.b[n.xf[G]];
                if (!g.D.ma(g.TA) || !g.D.ma(g.c4)) {
                    alert("Only sharp corners can be rounded");
                    return
                }
            }
            if (this.yu == null) {
                this.yu = B.add.vmsk.clone();
                this.IF = JSON.stringify(B.add.vogk);
                this.BT = B;
                this.ti = h
            }
            var z = new _(P.E.P, !0);
            z.data = {
                X: P.U.V5,
                Fh: "cornerradius",
                IJ: 5,
                CP: this.a14.bind(this)
            };
            S.B(z)
        } else
            U.u1.prototype.ON.call(this, Y, S, h, q, H)
    }
        ;
    U.c0.prototype.a14 = function (Y) {
        if (Y == "confirm") {
            var S = this.ti
                , h = this.BT
                , q = h.add.vmsk
                , H = h.add.vogk;
            this.PE(S, [12, 94, 0], h.Y8, this.yu, q, null, this.IF, JSON.stringify(H));
            this.jj();
            return
        }
        var q = this.yu.clone()
            , H = JSON.parse(this.IF)
            , I = q.xf;
        if (Y == "cancel") { } else {
            var E = [];
            for (var G = 0; G < I.length; G++) {
                var d = I[G]
                    , B = t.Y.l1(q.b, d, !0)
                    , z = 0;
                if (E.indexOf(B) != -1)
                    continue;
                E.push(B);
                var n = t.Y.kV(q.b, B, !0)
                    , g = q.b[n].length
                    , p = [];
                for (var C = 0; C < g; C++) {
                    var T = q.xf.indexOf(n + C + 1) == -1 ? 0 : Y;
                    p.push(T);
                    if (T != 0)
                        z++
                }
                t.Y.c8(q.b, n, p);
                for (var C = 0; C < I.length; C++)
                    if (I[C] > n + g)
                        I[C] += z
            }
            this.Wx(q, H);
            q.xf = []
        }
        this.Mw(this.ti, this.BT.Y8, q, H);
        if (Y == "cancel")
            this.jj()
    }
        ;
    U.c0.prototype.disable = function (Y, S, h, q) {
        this.e3(Y)
    }
        ;
    U.c0.prototype.FF = function (Y, S, h, q, H) {
        this.e3(Y);
        var I = Y.z.vl(H.x, H.y), z, p, C;
        this.np = I.clone();
        var E = Y.L1()
            , d = E[0]
            , B = E[1];
        if (B.length == 0)
            return;
        var n = 4 * P.M() / Y.z.S
            , g = new W(I.x - n, I.y - n, n * 2, n * 2);
        for (var T = 0; T < B.length; T++) {
            z = this.BT = d[B[T]];
            p = z.add.vmsk;
            C = t.Y.yd(p.b, g);
            if (C[0].length + C[1].length + C[2].length != 0)
                break
        }
        var A = [!1, !1, !1];
        for (var G = 0; G < 3; G++) {
            for (var i = 0; i < C[G].length; i++)
                if (p.xf.indexOf(C[G][i]) != -1) {
                    C[G] = [C[G][i]];
                    A[G] = !0;
                    break
                }
        }
        if (C[0].length != 0 && (A[0] || !A[1] && !A[2])) {
            var e = C[0][0]
                , a = p.xf.indexOf(e);
            if (q.q(F.aY)) {
                if (a == -1)
                    p.xf.push(e);
                else {
                    p.xf.splice(a, 1);
                    Y.Yw = !0;
                    return
                }
            } else if (a == -1)
                p.xf = [e];
            this.wc = e;
            this.jI = 0
        } else if (C[1].length != 0 && (A[1] || !A[2])) {
            this.wc = C[1][0];
            this.jI = 1
        } else if (C[2].length != 0) {
            this.wc = C[2][0];
            this.jI = 2
        } else {
            var Z = t.Y.h4(p.b, I, !0, n);
            if (Z.Y8 == -1)
                this.Ec = I;
            else {
                p.C = [Z.Y8];
                p.xf = []
            }
        }
        if (this.yu == null) {
            this.yu = z.add.vmsk.clone();
            this.IF = JSON.stringify(z.add.vogk)
        }
        this.X2 = new h_(I);
        Y.Yw = !0
    }
        ;
    U.c0.prototype.vr = function (Y, S, h, q, H) {
        if (Y == null)
            return;
        var I = Y.z.vl(H.x, H.y)
            , E = this.BT;
        if (this.wc != -1) {
            var d = this.yu.clone()
                , B = E.add.vogk
                , n = d.b[this.wc];
            n = [n.D, n.c4, n.TA][this.jI];
            if (q.q(F.aY)) {
                I = this.X2.oQ(I, q);
                I.x += n.x - this.np.x;
                I.y += n.y - this.np.y
            } else {
                if (this.a0F.psnap) {
                    I.x = Math.round(I.x);
                    I.y = Math.round(I.y)
                }
                I = U._C.jg(Y, I, h)
            }
            if (this.jI == 0) {
                var g = new d5(1, 0, 0, 1, I.x - n.x, I.y - n.y);
                t.Y.$M(d.b, g, null, d.xf)
            } else {
                var z = d.b[this.wc]
                    , p = z.c4
                    , C = z.TA;
                if (this.jI == 2) {
                    p = z.TA;
                    C = z.c4
                }
                p.bm(I.x, I.y);
                if (z.type == 1 || z.type == 4) {
                    var T = aV.kr(p, z.D)
                        , A = aV.kr(C, z.D);
                    if (A != 0) {
                        C.x = z.D.x - (p.x - z.D.x) * (A / T);
                        C.y = z.D.y - (p.y - z.D.y) * (A / T)
                    }
                }
            }
            this.Wx(d, B);
            this.Mw(Y, E.Y8, d, B)
        } else if (this.Ec != null) {
            var i = this.Ec;
            Y.K.cv = t.a.yP(new W(i.x, i.y, I.x - i.x, I.y - i.y));
            Y.Yw = !0
        } else {
            var e = Y.L1(), a = e[0], Z = e[1], E, d, s;
            if (Z.length == 0)
                return;
            var O = 4 * P.M() / Y.z.S
                , c = new W(I.x - O, I.y - O, O * 2, O * 2);
            for (var x = 0; x < Z.length; x++) {
                E = a[Z[x]];
                d = E.add.vmsk;
                s = t.Y.yd(d.b, c);
                if (s[0].length + s[1].length + s[2].length != 0)
                    break
            }
            this.e3(Y);
            for (var G = 0; G < 3; G++) {
                for (var u = 0; u < s[G].length; u++) {
                    var y = s[G][u]
                        , j = d.b[y];
                    j = G == 0 ? j.D : G == 1 ? j.c4 : j.TA;
                    Y.K.tZ.push(Y.K.VO.length >>> 1);
                    Y.K.VO.push(j.x, j.y);
                    Y.Yw = !0
                }
            }
        }
    }
        ;
    U.c0.prototype.e3 = function (Y) {
        if (Y && Y.K.VO.length != 0) {
            Y.K.VO = [];
            Y.K.tZ = [];
            Y.Yw = !0
        }
    }
        ;
    U.c0.prototype.mi = function (Y, S, h, q, H) {
        var I = Y.z.vl(H.x, H.y)
            , E = this.BT
            , d = E ? E.add.vmsk : null
            , B = E ? E.add.vogk : null;
        if (this.wc != -1) {
            if (Date.now() - this.ao < 300) {
                var n = d.b[this.wc]
                    , g = this.jI
                    , z = null;
                if (g == 0) {
                    var p = n.c4.ma(n.D)
                        , C = n.TA.ma(n.D);
                    if (!p && !C) {
                        z = "Anchor Type";
                        if (n.type == 1 || n.type == 4)
                            n.type++;
                        else {
                            n.type--;
                            n.TA = n.D.add(n.D.KB(n.c4))
                        }
                    } else {
                        z = "Add Handles";
                        if (p && C) {
                            n.c4.x -= 30;
                            n.TA.x += 30
                        } else if (p)
                            n.c4 = n.D.add(n.D.KB(n.TA));
                        else if (C)
                            n.TA = n.D.add(n.D.KB(n.c4))
                    }
                } else {
                    z = "Remove Handle";
                    if (g == 1)
                        n.c4.jX(n.D);
                    else
                        n.TA.jX(n.D)
                }
                this.Wx(d, B);
                this.Mw(Y, E.Y8, d, B);
                this.PE(Y, z, E.Y8, this.yu, d, null, this.IF, JSON.stringify(B))
            } else if (!this.np.ma(I)) {
                this.PE(Y, "Drag Anchors", E.Y8, this.yu, d, null, this.IF, JSON.stringify(B))
            }
            this.ao = Date.now()
        } else if (this.Ec != null) {
            var T = this.Ec
                , A = new W(T.x, T.y, I.x - T.x, I.y - T.y);
            if (A.d < 0)
                A.x += A.d;
            if (A.v < 0)
                A.y += A.v;
            A.d = Math.abs(A.d);
            A.v = Math.abs(A.v);
            var i = t.Y.yd(d.b, A);
            d.xf = i[0].concat(q.q(F.aY) ? d.xf : []);
            Y.K.cv = null
        }
        this.jj();
        Y.Yw = !0
    }
        ;
    U.c0.prototype.jj = function () {
        this.BT = null;
        this.yu = null;
        this.Ec = null;
        this.wc = this.jI = -1;
        this.X2 = null
    }
        ;
    U.c0.prototype.Wx = function (Y, S) {
        for (var G = 0; G < Y.xf.length; G++) {
            var h = t.Y.l1(Y.b, Y.xf[G]);
            t.tx.In(S, h)
        }
    }
        ;
    U.c0.prototype.jL = function (Y, S, h, q) {
        if (Y == null)
            return;
        var H = Y.L1()
            , I = H[0]
            , E = H[1];
        if (E.length == 0)
            return;
        var d = I[E[0]]
            , B = d.add.vmsk;
        if (B == null || B.xf.length == 0)
            return;
        var n = d.add.vogk
            , g = JSON.stringify(n)
            , z = q.ct();
        if (z.x != 0 || z.y != 0) {
            var p = B.clone()
                , C = B.clone()
                , T = new d5(1, 0, 0, 1, z.x, z.y);
            t.Y.$M(C.b, T, null, C.xf);
            this.Wx(C, n);
            this.Mw(Y, d.Y8, C, n);
            this.PE(Y, "Move Anchors", Y.C[0], p, C.clone(), !0, g, JSON.stringify(n))
        }
        if (q.q(F.bz) || q.q(F.tb)) {
            var p = B.clone()
                , C = B.clone();
            C.b = t.Y.a0d(C.b, C.xf, n);
            var A = t.Y.Id(C.b);
            for (var G = 0; G < C.C.length; G++)
                if (C.C[G] >= A) {
                    C.C.splice(G, 1);
                    G--
                }
            C.xf = [];
            this.Mw(Y, d.Y8, C, n);
            this.PE(Y, "Delete Anchors", d.Y8, p, C.clone(), !0, g, JSON.stringify(n))
        }
    }
        ;
    U.c0.prototype.PE = function (Y, S, h, q, H, I, E, d) {
        var B = Y.JK();
        if (I && B != null && B.F == this && B.data.a58 && B.data.oK == h && JSON.stringify(B.data.Wp.xf) == JSON.stringify(q.xf)) {
            B.data.pc = H;
            B.data.R6 = d
        } else {
            var B = new fj(S, this);
            B.data = {
                oK: h,
                Wp: q,
                pc: H,
                a58: I,
                a3S: E,
                R6: d
            };
            Y._l(B)
        }
    }
        ;
    U.Rect = function () {
        U.sX.call(this, [10, 32], U.SQ, "tools/rect", !0)
    }
        ;
    U.Rect.prototype = new U.sX;
    U.Rect.prototype.A8 = function (Y, S, h) {
        var q = this.V6.crad
            , H = S.x - Y.x
            , I = S.y - Y.y;
        return [t.Y.jZ.Rect(Y.x, Y.y, H, I, q), t.tx.wv("Rctn", [Y.x, Y.y, S.x, S.y], [q, q, q, q])]
    }
        ;
    U.Xu = function () {
        U.sX.call(this, [10, 33], U.Wk, "tools/ellipse", !0)
    }
        ;
    U.Xu.prototype = new U.sX;
    U.Xu.prototype.A8 = function (Y, S, h) {
        var q = S.x - Y.x
            , H = S.y - Y.y;
        return [t.Y.jZ.Xu(Y.x, Y.y, q, H), t.tx.wv("Elps", [Y.x, Y.y, S.x, S.y])]
    }
        ;
    U.NP = function () {
        U.sX.call(this, [10, 34], U.x0, "tools/pshape", !1)
    }
        ;
    U.NP.prototype = new U.sX;
    U.NP.prototype.A8 = function (Y, S, h) {
        var q = this.V6.pshape, H = this.V6.crad, I = this.V6.irad / 100, E = this.V6.sides, d = this.V6.width, B = this.V6.tsiz, n = this.V6.length, i;
        S = S.clone();
        if (h) {
            if (Math.abs(S.x - Y.x) < Math.abs(S.y - Y.y))
                S.x = Y.x;
            else
                S.y = Y.y
        }
        var g = Y.x
            , z = Y.y
            , p = S.x
            , C = S.y
            , T = Math.sqrt((p - g) * (p - g) + (C - z) * (C - z))
            , A = Math.atan2(-C + z, p - g);
        if (q == 0)
            i = t.Y.jZ.as(g, z, T, A, E, H);
        if (q == 1)
            i = t.Y.jZ.abc(g, z, T, A, E, H, I);
        if (q == 2)
            i = t.Y.jZ.ac8(Y.x, Y.y, S.x, S.y, d, B / 100);
        if (q == 3)
            i = t.Y.jZ.acq(g, z, T, A, n);
        return [i, t.tx.wv("customShape", [Y.x, Y.y, S.x, S.y], null, null, null, "--")]
    }
        ;
    U.NP.prototype.jL = function (Y, S, h, q) {
        var H = q.ct(), I = this.V6, E, d;
        if (H.y != 0) {
            var B = -H.y
                , n = I.pshape;
            if (n < 2) {
                E = "sides";
                d = Math.max(3, Math.min(100, I.sides + B))
            } else if (n == 2) {
                E = "width";
                d = Math.max(1, Math.min(100, I.width + B))
            } else if (n == 3) {
                E = "length";
                d = Math.max(4, Math.min(40, I.length + B))
            }
        }
        if (H.x != 0) {
            E = "pshape";
            d = Math.max(0, Math.min(3, I.pshape + H.x))
        }
        if (E) {
            var g = new _(P.E.P, !0)
                , z = {};
            z[E] = d;
            I[E] = d;
            g.data = {
                X: P.U.tS,
                F: this.id,
                Wg: "vals",
                ao0: z
            };
            S.B(g);
            this.vr(Y, S, h, q)
        }
    }
        ;
    U.lD = function () {
        U.sX.call(this, [10, 35], U.Wz, "tools/line", !1)
    }
        ;
    U.lD.prototype = new U.sX;
    U.lD.prototype.A8 = function (Y, S, h) {
        var q = this.V6.width;
        S = S.clone();
        if (h) {
            S = U.a$.mk(Y, S)
        }
        return [t.Y.jZ.lD(Y.x, Y.y, S.x, S.y, q), t.tx.wv("Ln", null, null, [Y.x, Y.y, S.x, S.y], q)]
    }
        ;
    U.p4 = function () {
        U.sX.call(this, [10, 31], U.dF, "tools/cshape", !0)
    }
        ;
    U.p4.prototype = new U.sX;
    U.p4.prototype.A8 = function (Y, S, h) {
        var q = this.V6.shape
            , H = q.MK.d / q.MK.v
            , I = M.cJ.s7(q.b);
        S = S.clone();
        if (h) {
            S.y = Y.y + (S.x - Y.x) / H
        }
        var E = S.x - Y.x
            , d = S.y - Y.y;
        t.Y.$M(I, new d5(E, 0, 0, d, Y.x, Y.y));
        return [I, t.tx.wv("customShape", [Y.x, Y.y, S.x, S.y], null, null, null, q.jq)]
    }
        ;
    U.o = function (Y, S, h) {
        U.Il.call(this, Y, S, h);
        this.$w = 0;
        this.t = null;
        this.yo = null;
        this.Q2 = null;
        this.KV = 1;
        this.xT = !1;
        this.cursor = null;
        this.RC = null;
        this.ez = null;
        this.dt = !1;
        this.jD = null;
        this.a5r = 0;
        this.Me = null;
        this.yk = 0;
        this.vt = null;
        this.sJ = null;
        this.QK = null;
        this.dO = null;
        this.a5_ = null;
        this.Sl = null
    }
        ;
    U.o.prototype = new U.Il;
    U.o.Im = function (Y, S) {
        var h = {
            classID: "null",
            null: bw.wC("Dcmn", !0)
        };
        if (Y)
            h.Angl = {
                t: "UntF",
                v: {
                    type: "#Ang",
                    val: S
                }
            };
        else
            h.Axis = {
                t: "enum",
                v: {
                    Ornt: S
                }
            };
        return {
            f0: Y ? "rotateEventEnum" : "flip",
            Jz: h
        }
    }
        ;
    U.o.prototype.dP = function (Y, S, h, q, H) {
        var I = new _(P.E.P, !0);
        I.data = {
            X: P.U.tS,
            F: this.id,
            lG: H,
            Tw: Y,
            Q2: h
        };
        S.B(I);
        this.mn = !1
    }
        ;
    U.o.prototype.Cj = function (Y) {
        return this.sJ && this.sJ.xk()
    }
        ;
    U.o.prototype.ON = function (Y, S, h, q, H) {
        this.Q2 = H;
        if (Y.X == "again" && this.Me == null)
            return;
        if (Y.X == "doMouseDown") {
            if (this.sJ == null)
                return;
            this.FF(h, S, H, q, Y.ZQ);
            return
        }
        if (!this.BK(h, H))
            return;
        if (this.sJ) {
            this.cX(Y, this.sJ.T$());
            this.A_(h, H, 0, !0);
            this.IY(h);
            return
        }
        this.Bq(h, Y.$ == null, Y.$);
        this.qP(h);
        this.cX(Y);
        this.Tb(h, S, Y.vc, !1)
    }
        ;
    U.o.prototype.cX = function (Y, S) {
        var h = this.vt;
        if (S == null) {
            var q = Y.fR != null ? Y.fR : 4;
            S = this.sJ.aeO()[q]
        }
        var H = S.x
            , I = S.y;
        if (Y.X == "rot" && Y.G != Math.PI && (h.d + h.v & 1) == 1) {
            H = Math.floor(H);
            I = Math.floor(I)
        }
        var E = new d5;
        E.translate(-H, -I);
        if (Y.X == "rot")
            E.rotate(Y.G);
        if (Y.X == "scl")
            E.scale(Y.G.x, Y.G.y);
        if (Y.X == "mat")
            E.concat(Y.G);
        E.translate(H, I);
        if (Y.X == "again")
            E = this.Me;
        var d = this.sJ.mx();
        t.a.J(d, E, d);
        this.sJ.Nk(d)
    }
        ;
    U.o.prototype.VD = function () {
        return !0
    }
        ;
    U.o.prototype.BK = function (Y, S) {
        if (Y == null)
            return !1;
        if (this.id == U.P_)
            return Y.N != null;
        var h = Y.rf(!0, null, null, !0);
        if (this.id == U.rp && Y.t[h[0]].rect.fa()) {
            alert("Layer is empty.");
            return !1
        }
        for (var G = 0; G < h.length; G++) {
            var q = Y.t[h[G]];
            if (q.Ag(2) || q.Ag(31)) {
                alert(gx.get([6, 57, 0]));
                return !1
            }
            if (q.add.artb) {
                alert("You can not transform the whole artboard");
                return !1
            }
            if (q.add.TySh)
                if (!gd.By(q.add.TySh, S.Z7))
                    return !1;
            if (q.add.SoLd) {
                if (h.length == 1 && !t.P8.Oq(q.add.SoLd.warp.v) && (q.Qn() && q.Qn().Pa || q.add.vmsk && q.add.vmsk.Pa)) {
                    alert("Unlink masks before transforming Smart Object");
                    return !1
                }
                if (!Y.a9P(q.add.SoLd.Idnt.v)) {
                    alert("Unsupported format of the smart object (" + Y.Al(q.add.SoLd.Idnt.v).hg + ")");
                    return !1
                }
            }
        }
        if (Y.N == null)
            return !0;
        if (!Y.gH())
            return !1;
        return Y.KS()
    }
        ;
    U.o.prototype.FF = function (Y, S, h, q, H) {
        var I = Y.z.vl(H.x, H.y);
        if (this.yk == 1) {
            var E = t.I.fb(t.I.Rc(this.sJ.mx(), this.vt));
            I = t.I.vn(E, I)
        }
        var d = this.yk == 0 ? this.sJ : this.QK;
        this.xT = d.FF(Y, h, q, I);
        if (this.xT && d.Ew(I)) {
            if (Date.now() - this.a5r < 250)
                this.Tb(Y, S, null, !0);
            this.a5r = Date.now()
        }
    }
        ;
    U.o.prototype.XS = function (Y) {
        var S = new _(P.E.P, !0);
        S.data = {
            X: P.U.t6,
            WX: this.cursor
        };
        Y.B(S)
    }
        ;
    U.o.prototype.vr = function (Y, S, h, q, H) {
        var I = Y.z.vl(H.x, H.y);
        if (this.yk == 1) {
            var E = t.I.fb(t.I.Rc(this.sJ.mx(), this.vt));
            I = t.I.vn(E, I)
        }
        var d = this.yk == 0 ? this.sJ : this.QK;
        if (!H.gk) {
            var B = "default";
            if (d) {
                var n = d.ii(I, Y.z.S);
                if (n)
                    B = n
            }
            if (B != this.cursor) {
                this.cursor = B;
                this.XS(S)
            }
        }
        if (!this.xT)
            return;
        d.vr(Y, h, q, I);
        this.A_(Y, h, 0, !0);
        this.IY(Y);
        this.AY(S)
    }
        ;
    U.o.prototype.mi = function (Y, S, h, q, H) {
        var I = Y.z.vl(H.x, H.y);
        debugger
        this.sJ.mi(Y, h, q, I);
        this.xT = !1
    }
        ;
    U.o.prototype.jL = function (Y, S, h, q) {
        if (q.q(F.gm))
            this.Tb(Y, S, null, !0);
        else if (q.q(F.fp))
            this.IM(Y, S);
        else {
            var H = this.sJ.jL(Y, h, q);
            if (H) {
                this.A_(Y, h, 0, !0);
                this.AY(S)
            }
        }
    }
        ;
    U.o.prototype.yg = function (Y, S, h, q) {
        if (Y.AT == "commit")
            this.Tb(h, S, null, !0);
        else if (Y.AT == "cancel")
            this.IM(h, S);
        else if (Y.AT == "switchWarp") {
            this.yk = 1 - this.yk;
            this.ahn();
            this.IY(h);
            this.AY(S)
        } else if (Y.AT == "wrp") {
            this.QK.Kt(Y.uP);
            this.IY(h);
            this.A_(h, this.Q2, 0, !0)
        } else if (Y.AT == "ctyp") {
            this.sJ.acL(Y.pm);
            this.IY(h);
            this.AY(S)
        } else if (Y.AT == "cen") {
            this.sJ.acg(Y.qy);
            this.IY(h);
            this.A_(h, this.Q2, 0, !0);
            this.AY(S)
        } else if (Y.AT == "trn") {
            var H = t.I.gA(Y.Q0)
                , I = this.vt
                , E = t.I.Rc(this.sJ.mx(), this.vt);
            H[6] = E[6],
                H[7] = E[7];
            var d = [I.x, I.y, I.x + I.d, I.y, I.x + I.d, I.y + I.v, I.x, I.y + I.v];
            t.I.apply(H, d);
            this.KV = Y.KV;
            this.sJ.Nk(d);
            this.IY(h);
            this.A_(h, this.Q2, 0, !0)
        }
    }
        ;
    U.o.prototype.IY = function (Y) {
        if (this.yk == 0)
            this.sJ.hN(Y, this.Q2);
        else {
            this.QK.hN(Y);
            var S = t.I.Rc(this.sJ.mx(), this.vt);
            t.I.apply(S, Y.K.cv.H);
            t.I.apply(S, Y.K.iF)
        }
    }
        ;
    U.o.prototype.Tb = function (Y, S, h, q) {
        this.A_(Y, this.Q2, this.KV);
        var H = new fj(h ? h : this.name, this);
        if (this.$w == 0)
            H.data = {
                type: this.$w,
                t: this.t,
                jD: this.yo,
                UU: U.o.fr(Y, this.t)
            };
        else if (this.$w == 1) {
            var I = Y.t[this.t[0]], E;
            if (I.LM.wF <= 0) {
                E = t.m(I.LM.Cq.e());
                t.Ft(I.LM.TB, E, 3)
            } else
                E = Y.N.channel;
            var d = {
                rect: I.LM.Cq.clone(),
                channel: E
            };
            H.data = {
                type: this.$w,
                $: this.t[0],
                ez: this.ez,
                nI: d,
                RC: this.RC,
                dt: this.dt,
                LM: I.LM,
                jD: this.jD,
                UU: {
                    _: I.LM.Cq,
                    kQ: I.LM.TB
                }
            }
        } else if (this.$w == 2) {
            H.data = {
                type: this.$w,
                ez: this.ez,
                nI: {
                    rect: Y.N.rect.clone(),
                    channel: Y.N.channel.slice(0)
                }
            }
        }
        Y._l(H);
        var B = this.vt
            , n = new aV(B.x + B.d / 2, B.y + B.v / 2)
            , g = t.I.Rc(this.sJ.mx(), B)
            , z = t.I.v8(g)
            , p = new d5;
        p.translate(n.x, n.y);
        p.concat(z);
        p.translate(-n.x, -n.y);
        z = p.clone();
        var C = -Math.atan2(-z.O, z.R)
            , T = new d5;
        T.rotate(C);
        z.concat(T);
        function A(a, Z) {
            return {
                t: "UntF",
                v: {
                    type: ["#Pxl", "#Prc", "#Ang"][Z],
                    val: a
                }
            }
        }
        var i = bw.wC("Lyr", !0);
        if (this.id == U.P_)
            i.v[0] = {
                t: "prop",
                v: {
                    classID: "Chnl",
                    keyID: "fsel"
                }
            };
        var e = {
            classID: "null",
            null: i,
            FTcs: {
                t: "enum",
                v: {
                    QCSt: "Qcsa"
                }
            },
            Intr: {
                t: "enum",
                v: {
                    Intp: "Bcbc"
                }
            },
            Ofst: {
                t: "Objc",
                v: {
                    __name: "Offset",
                    classID: "Ofst",
                    Hrzn: A(p.TR, 0),
                    Vrtc: A(p.Un, 0)
                }
            },
            Skew: {
                t: "Objc",
                v: {
                    classID: "Pnt",
                    Hrzn: A(Math.atan(z.Pb) * 180 / Math.PI, 2),
                    Vrtc: A(0, 2)
                }
            },
            Wdth: A(z.R * 100, 1),
            Hght: A(z.RH * 100, 1),
            Angl: A(C * 180 / Math.PI, 2)
        };
        this.Su = S;
        this.track({
            f0: "transform",
            Jz: e
        });
        this.escape(Y, S, q)
    }
        ;
    U.o.prototype.IM = function (Y, S) {
        if (this.$w == 0)
            U.o.s3(Y, this.t, this.yo);
        else if (this.$w == 1) {
            var h = Y.t[this.t[0]];
            Y.N = this.ez;
            if (!this.dt) {
                h.LM.Cq = this.jD._;
                h.LM.TB = this.jD.kQ;
                h.aD(Y, 0, 0, Y.N)
            } else {
                h.Q9(Y, this.RC)
            }
            Y.s();
            Y.P5 = !0
        } else if (this.$w == 2) {
            Y.N = this.ez;
            Y.P5 = !0
        }
        this.escape(Y, S, !0)
    }
        ;
    U.o.prototype.escape = function (Y, S, h) {
        this.sJ.clear(Y);
        this.sJ = null;
        this.QK = null;
        this.Sl = null;
        this.yk = 0;
        if (h)
            this.fc(S, P.E.P, {
                X: P.U.Yk
            })
    }
        ;
    U.o.prototype.RV = function (Y, S) {
        if (Y.type == 0)
            U.o.s3(S, Y.t, Y.UU);
        else {
            if (Y.type == 1) {
                var h = S.t[Y.$];
                if (Y.dt) {
                    h.LM = Y.LM
                } else {
                    h.LM.Cq = Y.UU._;
                    h.LM.TB = Y.UU.kQ
                }
                h.aD(S, 0, 0, S.N);
                S.s()
            }
            S.N = {
                rect: Y.nI.rect.clone(),
                channel: Y.nI.channel.slice(0)
            };
            S.P5 = !0
        }
    }
        ;
    U.o.prototype.Td = function (Y, S) {
        if (Y.type == 0)
            U.o.s3(S, Y.t, Y.jD);
        else {
            if (Y.type == 1) {
                var h = S.t[Y.$];
                if (Y.dt) {
                    h.Q9(S, Y.RC)
                } else {
                    h.LM.Cq = Y.jD._;
                    h.LM.TB = Y.jD.kQ;
                    h.aD(S, 0, 0, S.N)
                }
                S.s()
            }
            S.N = Y.ez;
            S.P5 = !0
        }
    }
        ;
    U.o.prototype.Bq = function (Y, S, h) {
        Y.L1();
        var q = [];
        if (h == null)
            for (var G = 0; G < Y.IO.length; G++)
                if (Y._b[Y.IO[G]].add.vmsk.b.length > 2)
                    q.push(-1 - Y.IO[G]);
        var H = []
            , I = Y.z.L5;
        if (I[0] + I[1] + I[2] == 3)
            if (h != null || q.length == 0 || Y.Fj != null && Y.Fj.length != 0)
                H = Y.rf(S, h, null, !0);
        H = H.concat(q);
        for (var G = 0; G < Y.AN.length; G++)
            H.push(-1e3 - Y.AN[G]);
        this.t = H
    }
        ;
    U.o.prototype.enable = function (Y, S, h, q, H, I, E) {
        if (this.cursor == null)
            this.cursor = "default";
        this.XS(S);
        if (this.sJ)
            return;
        this.Q2 = h;
        this.Bq(Y, !0);
        this.qP(Y, I && I.JQ != null && I.JQ != -1 ? I.JQ : null, E);
        this.AY(S);
        this.IY(Y);
        if (I && I.JQ == -1)
            this.yg({
                AT: "switchWarp"
            }, S, Y, q)
    }
        ;
    U.o.prototype.AY = function (Y) {
        var S = {
            X: P.U.tS,
            F: this.id
        };
        if (this.yk == 0) {
            var h = t.I.Rc(this.sJ.mx(), this.vt)
                , q = t.I.v8(h);
            S.Q0 = {
                cu: q,
                pm: this.sJ.ag7(),
                qy: this.sJ.T$(),
                _: this.vt.clone()
            }
        } else {
            S.uP = this.QK.k3()
        }
        S.a6B = this.QK != null;
        this.fc(Y, P.E.P, S)
    }
        ;
    U.o.prototype.qP = function (Y, S, h) {
        var q = this.id == U.P_
            , H = !0
            , I = this.t[0]
            , E = Y.t[I]
            , B = null;
        if (q) {
            this.$w = 2;
            this.ez = Y.N
        } else if (Y.N && this.t.length == 1 && I >= 0 && !E.rect.fa()) {
            this.$w = 1;
            this.ez = Y.N;
            this.RC = E.LM;
            this.dt = !1;
            if (!E.eG(Y, Y.N)) {
                this.dt = !0;
                E.TP(Y, Y.N, !1)
            }
            this.jD = {
                kQ: E.LM.TB,
                _: E.LM.Cq
            }
        } else {
            this.$w = 0;
            this.yo = U.o.fr(Y, this.t, null, h);
            for (var G = 0; G < this.yo.length; G++)
                if (this.yo[G][3] != null)
                    H = !1
        }
        var d = this.$w == 1;
        if (this.yo && this.yo.length == 1) {
            var n = this.yo[0];
            if (n[3] == null)
                d = !0;
            if (n[4] != null) {
                B = Y.t[this.t[0]].add.SoLd;
                if (n[1] || n[2])
                    d = !1
            }
        }
        var g = q ? Y.N.rect.clone() : U.o.i6(Y, this.t, h);
        this.vt = g;
        if (!q && B) {
            var z = U.o.U8(B.nonAffineTransform);
            this.vt = t.a.Zu(t.P8.eT(B.warp.v));
            if (d)
                this.QK = new i4(B.warp.v);
            this.dO = t.I.Rc(z, this.vt);
            this.sJ = new ht(z, !0, !0, H, !1, !1, S)
        } else {
            if (d || q)
                this.QK = new i4(t.P8.m(this.vt));
            this.dO = [1, 0, 0, 0, 1, 0, 0, 0];
            if (this.id == U.rp)
                S = 3;
            this.sJ = new ht([g.x, g.y, g.x + g.d, g.y, g.x + g.d, g.y + g.v, g.x, g.y + g.v], !0, !0, H, !1, !1, S)
        }
        this.a5_ = [1, 0, 0, 0, 1, 0, 0, 0];
        if (this.id == U.rp) {
            var p = this.yo[0][0]
                , C = p.ad
                , T = C[1];
            this.Sl = t.VW.aeN(C[0], T.d, T.v)
        }
    }
        ;
    U.o.i6 = function (Y, S, h) {
        if (S == null)
            S = Y.rf(!0, null, null, !0);
        var q = new W;
        if (Y.N && S.length == 1 && S[0] >= 0)
            q = Y.N.rect.clone();
        else
            for (var G = 0; G < S.length; G++) {
                var H = S[G]
                    , I = 0 <= H ? Y.t[H] : -1e3 < H ? Y._b[-1 - H] : Y.h3[-1e3 - H]
                    , E = I.add ? I.add.vmsk : null
                    , d = 0 <= H ? I.ZA(Y, S.length == 1, !1, h) : -1e3 < H ? t.Y.c9(E.b, S.length == 1 && E.C.length != 0 ? E.C : null) : I.rect.clone();
                q = q.TG(d)
            }
        return q
    }
        ;
    U.o.prototype.fc = function (Y, S, h, q) {
        var H = new _(S, !0);
        H.data = h;
        if (q)
            H.F = q;
        Y.B(H)
    }
        ;
    U.o.fr = function (Y, S, h, q) {
        var H = [];
        for (var G = 0; G < S.length; G++) {
            var I = S[G], E, d;
            if (I >= 0) {
                E = Y.t[I];
                d = E.NO(Y, h, q)
            } else if (I > -1e3) {
                E = Y._b[-1 - I];
                d = [2]
            } else {
                H.push([null, null, null, null, null, null, null, Y.h3[-1e3 - I].clone()]);
                continue
            }
            var B = [];
            if (d.indexOf(0) != -1) {
                var n = {
                    ad: [E.buffer.slice(0), E.rect.clone()]
                };
                B.push(n);
                if (E.ef()) {
                    var g = E.$l(Y);
                    n.ajP = g.buffer.slice(0);
                    n.af5 = g.rect.clone()
                }
            } else
                B.push(null);
            if (d.indexOf(1) != -1)
                B.push(E.Qn().clone());
            else
                B.push(null);
            if (d.indexOf(2) != -1)
                B.push({
                    Ze: E.add.vmsk.clone(),
                    Ig: E.add.vstk ? JSON.parse(JSON.stringify(E.add.vstk)) : null,
                    yW: E.add.vstk ? U.u1.e$(Y, I) : null,
                    tx: E.add.vogk ? JSON.parse(JSON.stringify(E.add.vogk)) : null
                });
            else
                B.push(null);
            if (E.add.TySh && B[0]) {
                ap.Kl(E.add.TySh);
                B.push(E.add.TySh.J.clone())
            } else
                B.push(null);
            if (E.add.SoLd && B[0])
                B.push(JSON.parse(JSON.stringify(E.add.SoLd)));
            else
                B.push(null);
            if (d.indexOf(3) != -1)
                B.push(E.$l(Y).r.clone());
            else
                B.push(null);
            if (E.add.lmfx)
                B.push(JSON.stringify(E.add.lmfx));
            else
                B.push(null);
            H.push(B)
        }
        return H
    }
        ;
    U.o.s3 = function (Y, S, h) {
        for (var G = 0; G < S.length; G++) {
            var q = S[G]
                , H = 0 <= q ? Y.t[q] : -1e3 < q ? Y._b[-1 - q] : Y.h3[-1e3 - q]
                , I = h[G];
            if (I[0]) {
                H.rect = I[0].ad[1].clone();
                H.buffer = I[0].ad[0].slice(0);
                if (H.ef()) {
                    var E = H.$l(Y);
                    E.buffer = I[0].ajP.slice(0);
                    E.rect = I[0].af5.clone()
                }
            }
            if (I[1]) {
                H.Qn().channel = I[1].channel.slice(0);
                H.Qn().rect = I[1].rect.clone();
                H.Qn().Uh = !0
            }
            if (I[2]) {
                debugger
                H.add.vmsk = I[2].Ze.clone();
                if (I[2].yW)
                    U.u1.sN(H, I[2].yW);
                if (I[2].Ig)
                    H.add.vstk = JSON.parse(JSON.stringify(I[2].Ig));
                if (I[2].tx)
                    H.add.vogk = JSON.parse(JSON.stringify(I[2].tx))
            }
            if (I[3]) {
                H.add.TySh.J = I[3].clone();
                ap.yA(H.add.TySh)
            }
            if (I[4]) {
                H.add.SoLd = JSON.parse(JSON.stringify(I[4]))
            }
            if (I[5]) {
                var d = H.$l(Y).r;
                d.channel = I[5].channel.slice(0);
                d.rect = I[5].rect.clone()
            }
            if (I[6]) {
                H.add.lmfx = JSON.parse(I[6])
            }
            if (I[7]) {
                H.channel = I[7].channel.slice(0);
                H.rect = I[7].rect.clone();
                H.Uh = !0
            }
            if (0 <= q) {
                H._A(Y);
                H.s()
            }
        }
        Y.s()
    }
        ;
    U.o.Fu = function (Y) {
        var S = Y.clone()
            , h = Math.atan2(-S.O, S.R)
            , q = new d5;
        q.rotate(-h);
        S.concat(q);
        return (Math.abs(S.R) + Math.abs(S.RH)) / 2
    }
        ;
    U.o.BM = function (Y, S, h, q, H, I, E, d, B, n) {
        if (typeof I[0] == "number") {
            var g = [];
            for (var G = 0; G < h.length; G++)
                g[G] = I;
            I = g
        }
        for (var G = 0; G < h.length; G++) {
            var z = I[G]
                , p = t.I.v8(z)
                , C = U.o.Fu(p)
                , T = h[G]
                , A = 0 <= T ? Y.t[T] : -1e3 < T ? Y._b[-1 - T] : Y.h3[-1e3 - T]
                , i = q[G];
            if (i[0] && A.add.lmfx && d)
                av.bT(A.add.lmfx, C);
            if (i[0] && !i[3] && !i[4] && !i[5]) {
                var e = i[0].ad;
                if (B) {
                    var a = B.clone()
                        , Z = t.m(a.e() * 4);
                    t.rd(e[0], e[1], Z, a);
                    e = [Z, a]
                }
                var O = U.o.Hz(e, H, z, E, H == 0 ? A.buffer.buffer : null, null, null, n);
                if (O) {
                    A.rect = O.rect;
                    A.buffer = O.buffer
                }
            }
            if (i[1])
                U.o.Nb(Y, i[1], A.Qn(), H, z, E);
            if (i[2]) {
                var c = E && !t.P8.Oq(E)
                    , s = i[2].Ze.clone()
                    , x = h.length == 1 && s.C.length != 0
                    , u = h.length == 1 && s.xf.length > 1;
                if (u)
                    x = !1;
                var y = x ? s.C : null
                    , j = u ? s.xf : null;
                if (c) {
                    var v = t.P8.eT(E);
                    t.I.apply(z, v);
                    t.Y.adB(s.b, v, y, j)
                } else
                    t.Y.aiq(s.b, z, y, j);
                if (A.add.vstk && d) {
                    A.add.vstk.strokeStyleLineWidth.v.val = i[2].Ig.strokeStyleLineWidth.v.val * C;
                    var X = i[2].yW;
                    if (X.zH == 3) {
                        X = JSON.parse(JSON.stringify(X));
                        var N = X.yW.phase.v;
                        X.yW.Scl.v.val = Math.round(X.yW.Scl.v.val * C);
                        N.Hrzn.v = Math.round(N.Hrzn.v * C);
                        N.Vrtc.v = Math.round(N.Vrtc.v * C);
                        U.u1.sN(A, X)
                    }
                }
                if (A.add.vogk) {
                    A.add.vogk = JSON.parse(JSON.stringify(i[2].tx));
                    if (c || u)
                        t.tx.akp(A.add.vogk);
                    else
                        t.tx.J(A.add.vogk, z, h.length > 1 ? [] : s.C, d)
                }
                s.Cm *= C;
                debugger
                A.add.vmsk = s;
                if (A.add.vogk)
                    t.tx.J1(A.add.vogk, A.add.vmsk)
            }
            if (i[3]) {
                var V = i[3].clone();
                V.concat(p);
                A.add.TySh.J = V;
                ap.yA(A.add.TySh);
                var $ = new cm(A.add.TySh.lV, S.Z7)
                    , w = gd.tL($, A.add.TySh);
                A.rect = w._;
                A.buffer = w.nP
            }
            if (i[4]) {
                var m = A.add.SoLd
                    , l = U.o.U8(i[4].nonAffineTransform);
                t.I.apply(z, l);
                var b = t.a.wO(l);
                if (ht.P1(l)) {
                    if (E) {
                        var K = t.a.Zu(t.P8.eT(i[4].warp.v))
                            , J = t.I.Rc(l, K)
                            , R = t.a.Zu(t.P8.eT(E));
                        l = [R.x, R.y, R.x + R.d, R.y, R.x + R.d, R.y + R.v, R.x, R.y + R.v];
                        t.I.apply(J, l);
                        m.warp.v = E
                    }
                    var r = t.I.Rc(l)
                        , f = l;
                    if (!t.I.gU(r)) {
                        r[6] = r[7] = 0;
                        f = [0, 0, 1, 0, 1, 1, 0, 1];
                        t.I.apply(r, f)
                    }
                    m.Trnf = U.o.FQ(f);
                    m.nonAffineTransform = U.o.FQ(l);
                    A.rH(Y, H == 0)
                }
            }
            if (i[5])
                U.o.Nb(Y, i[5], A.$l(Y).r, H, z, E);
            if (i[7])
                U.o.Nb(Y, i[7], A, H, z, E);
            if (0 <= T) {
                if (H != 0)
                    A.Mq();
                A._A(Y);
                A.s()
            }
        }
        Y.s()
    }
        ;
    U.o.dG = function (Y, S, h, q, H, I) {
        if (h == null)
            h = !1;
        return U.o.Hz(Y, h ? 0 : 1, t.I.gA(S), null, q, H, I, h)
    }
        ;
    U.o.Hz = function (Y, S, h, q, H, I, E, d) {
        if (d == null)
            d = !1;
        if (d && E)
            throw "e";
        var B = {}
            , p = 0
            , C = .3;
        if (q && !t.P8.Oq(q)) {
            var n = t.P8.eT(q);
            t.I.apply(h, n);
            B.rect = t.a.wO(n);
            B.buffer = t.m(B.rect.e() * 4);
            t.FL.drawImage(n, Y[0], Y[1].d, Y[1].v, B.buffer, B.rect, S == 0);
            return B
        }
        t.zU(Y);
        var g = Y[0]
            , z = Y[1]
            , T = z.e() * U.o.Fu(t.I.v8(h));
        if (d && T > 4e6)
            C = T > 8e6 ? 2.2 : 1.2;
        while (p + 3 < Y.length && Y[p + 3].e() > 16 && t.I.gU(h) && U.o.Fu(t.I.v8(h)) < C) {
            p += 2;
            var A = Y[p]
                , i = Y[p + 1]
                , e = z.d / i.d
                , a = z.v / i.v;
            h = t.I.K7(h, [1, 0, z.x, 0, 1, z.y, 0, 0]);
            h = t.I.K7(h, [e, 0, 0, 0, a, 0, 0, 0]);
            h = t.I.K7(h, [1, 0, -z.x, 0, 1, -z.y, 0, 0]);
            z = i;
            g = A
        }
        var Z = t.I.K7(h, t.I.gA(new d5(z.d, 0, 0, z.v, z.x, z.y)))
            , O = [0, 0, 1, 0, 1, 1, 0, 1];
        t.I.apply(Z, O);
        B.rect = t.a.wO(O);
        if (E)
            B.rect = B.rect.lF(E);
        if (d) {
            while ((B.rect.d & 3) != 0)
                B.rect.d++;
            while ((B.rect.v & 3) != 0)
                B.rect.v++
        }
        if (!ht.P1(O) || B.rect.d > 1e5 || B.rect.v > 1e5 || B.rect.e() > 3e4 * 3e4)
            return null;
        var c = B.rect.e() * 4;
        if (H && H.byteLength >= c && c >= H.byteLength >> 2) {
            B.buffer = new Uint8Array(H)
        } else {
            B.buffer = t.m(c)
        }
        t.I.drawImage(Z, g, z.d, z.v, B.buffer, B.rect, S == 0, I, d);
        if (S == 2 && B.buffer) {
            var s = B.rect.d, x = B.rect.v, u;
            u = [0, -1, 0, -1, 16, -1, 0, -1, 0];
            u = t.Hd.Tt(u);
            var y = B.buffer.slice(0);
            t.Hd.FH(y, B.buffer, s, x, u, 255, !1, !0)
        }
        if (B.buffer)
            return B
    }
        ;
    U.o.Nb = function (Y, S, h, q, H, I) {
        if (S.color == 255)
            t.fb(S.channel);
        var E = S.rect
            , d = t.m(E.e() * 4);
        t.Vj(S.channel, d, 3);
        var B = U.o.Hz([d, E], q, H, I);
        if (B) {
            h.rect = B.rect;
            h.channel = t.m(B.rect.e());
            t.Ft(B.buffer, h.channel, 3);
            h.Uh = !0
        }
        if (S.color == 255) {
            t.fb(S.channel);
            if (B)
                t.fb(h.channel)
        }
    }
        ;
    U.o.U8 = function (Y) {
        var S = []
            , h = Y.v.length;
        for (var G = 0; G < h; G++)
            S.push(Y.v[G].v);
        return S
    }
        ;
    U.o.FQ = function (Y) {
        var S = {
            t: "VlLs",
            v: []
        }
            , h = Y.length;
        for (var G = 0; G < h; G++)
            S.v.push({
                t: "doub",
                v: Y[G]
            });
        return S
    }
        ;
    U.o.prototype.ahn = function () {
        var Y = t.a.Zu(t.P8.eT(this.QK.k3()))
            , S = t.I.Rc(this.sJ.mx(), this.vt)
            , h = [Y.x, Y.y, Y.x + Y.d, Y.y, Y.x + Y.d, Y.y + Y.v, Y.x, Y.y + Y.v];
        t.I.apply(S, h);
        this.sJ.Nk(h);
        this.vt = Y
    }
        ;
    U.o.prototype.A_ = function (Y, S, h, q) {
        var H = t.I.Rc(this.sJ.mx(), this.vt);
        H = t.I.K7(H, t.I.fb(this.dO));
        var I = this.QK ? this.QK.k3() : null;
        if (this.$w == 0) {
            var E = this.Me = t.I.v8(H);
            if (this.id == U.rp) {
                var d = this.yo[0][0]
                    , B = d.ad
                    , n = B[1]
                    , g = ~~(n.d * Math.max(0, E.R))
                    , z = ~~(n.v * Math.max(0, E.RH))
                    , p = new W(Math.round(E.R * n.x + E.TR), Math.round(E.RH * n.y + E.Un), g, z)
                    , C = t.VW.J(this.Sl, p)
                    , T = Y.t[this.t[0]];
                T.buffer = C;
                T.rect = p;
                T.s();
                Y.s()
            } else
                U.o.BM(Y, S, this.t, this.yo, h, H, I, null, null, q)
        } else if (this.$w == 1) {
            var A = Y.t[this.t[0]]
                , n = this.jD._;
            if (A.wF <= 0) {
                var i = this.jD.kQ
                    , e = this.ez;
                if (I && !t.P8.Oq(I) && !e.rect.ma(n)) {
                    var C = t.m(e.rect.e() * 4);
                    t.rd(i, n, C, e.rect);
                    i = C;
                    n = e.rect
                }
                var a = U.o.Hz([i, n], h, H, I);
                if (a) {
                    A.LM.TB = a.buffer;
                    A.LM.Cq = a.rect;
                    var Z = t.m(a.rect.e());
                    t.Ft(A.LM.TB, Z, 3);
                    Y.N = {
                        channel: Z,
                        rect: A.LM.Cq.clone()
                    }
                }
            } else {
                var O = t.m(n.e() * 4);
                t.Vj(this.jD.kQ, O, 3);
                var a = U.o.Hz([O, n], h, H, I);
                if (a) {
                    A.LM.TB = t.m(a.rect.e());
                    t.Ft(a.buffer, A.LM.TB, 3);
                    A.LM.Cq = a.rect
                }
                this.rX(Y, h, H, I)
            }
            A.aD(Y, 0, 0, Y.N);
            if (h != 0) {
                A.Mq();
                t.Mq(Y.N)
            }
            Y.P5 = !0;
            Y.s()
        } else if (this.$w == 2)
            this.rX(Y, h, H, I)
    }
        ;
    U.o.prototype.rX = function (Y, S, h, q) {
        var H = this.ez.rect
            , I = t.m(H.e() * 4);
        t.Vj(this.ez.channel, I, 3);
        var E = U.o.Hz([I, H], S, h, q)
            , d = t.m(E.rect.e());
        t.Ft(E.buffer, d, 3);
        Y.N = {
            channel: d,
            rect: E.rect
        };
        Y.P5 = !0
    }
        ;
    U.o.prototype.disable = function (Y, S, h, q) {
        if (this.sJ)
            this.Tb(Y, S, null, !0)
    }
        ;
    U.wt = function () {
        U.o.call(this, [10, 16], U.Fz, "tools/transform")
    }
        ;
    U.wt.prototype = new U.o;
    U.ov = function () {
        U.o.call(this, [7, 10], U.P_, "tools/transform")
    }
        ;
    U.ov.prototype = new U.o;
    U.Ts = function () {
        U.o.call(this, [10, 48], U.rp, "tools/transform")
    }
        ;
    U.Ts.prototype = new U.o;
    U._J = function (Y, S, h) {
        U.Il.call(this, [10, 46], U.nY, "tools/transform");
        this._e = [1, 1, 2, !0];
        this.ks = "rigidTransform";
        this.hx = null;
        this.a9W = null;
        this.wP = null;
        this.q7 = null;
        this.RI = null;
        this.Vz = null;
        this.Nc = []
    }
        ;
    U._J.prototype = new U.Il;
    U._J.prototype.VD = function () {
        return !0
    }
        ;
    U._J.xj = function (Y) {
        if (Y == null)
            return !1;
        if (Y.C.length != 1)
            return !1;
        var S = Y.t[Y.C[0]];
        return S.add.SoLd || Y.gH(!1)
    }
        ;
    U._J.prototype.BK = function (Y, S) {
        return U._J.xj(Y)
    }
        ;
    U._J.prototype.enable = function (Y, S, h, q, H, I, E) {
        this.a9W = I.dX;
        var d = I.dX, B, A = null;
        if (d) {
            var n = Y.t[d.$];
            if (n.add.SoLd.filterFX != null) {
                var g = n.add.SoLd.filterFX.v.filterFXList.v;
                if (g[d.index])
                    B = JSON.parse(JSON.stringify(g[d.index].v.Fltr.v))
            }
        }
        var z = B == null
            , n = Y.t[Y.C[0]]
            , p = n.buffer
            , C = n.rect
            , T = n.add.SoLd;
        if (T) {
            var i = T.nonAffineTransform.v;
            A = [];
            for (var G = 0; G < 4; G++)
                A.push(i[G * 2].v, i[G * 2 + 1].v);
            if (z)
                this.hR("edit", S);
            var e = n.$l(Y);
            p = e.buffer;
            C = e.rect
        }
        this.hx = {
            buffer: p.slice(0),
            rect: C.clone(),
            amO: A
        };
        if (z)
            B = U._J.r6(this.hx, this._e);
        this.wP = B;
        this.q7 = U._J.zA(this.wP, this._e);
        this.ki();
        this.P2(Y);
        if (z)
            this.o3(S);
        var a = new _(P.E.P, !0);
        a.data = {
            X: P.U.tS,
            F: this.id,
            go: this._e
        };
        S.B(a);
        a.data = {
            X: P.U.t6,
            WX: "default"
        };
        S.B(a)
    }
        ;
    U._J.prototype.disable = function (Y, S, h, q) {
        if (this.q7)
            this.Tb(Y, S, !0)
    }
        ;
    U._J.prototype.ki = function (Y) {
        var S = this.q7;
        this.Nc = [];
        for (var G = 0; G < S.length; G++) {
            var h = S[G];
            for (var q = 0; q < h.C.length; q++)
                this.Nc.push([G, h.C[G]]);
            h.c6 = t.$H.Cr(h);
            if (Y)
                t.$H.Yx(h)
        }
    }
        ;
    U._J.prototype.yg = function (Y, S, h, q) {
        if (Y.AT == "commit")
            this.Tb(h, S, !0);
        else if (Y.AT == "cancel")
            this.IM(h, S, !0);
        else if (Y.AT == "prm") {
            var H = !1;
            for (var G = 0; G < 3; G++)
                if (this._e[G] != Y.go[G])
                    H = !0;
            this._e = Y.go;
            if (H) {
                this.wP = U._J.r6(this.hx, this._e, this.wP);
                this.q7 = U._J.zA(this.wP, this._e);
                this.ki(!0);
                this.o3(S)
            }
            this.P2(h)
        } else if (Y.AT == "moveDepth") {
            var I = this.q7;
            for (var E = 0; E < I.length; E++) {
                var d = I[E];
                for (var G = 0; G < d.C.length; G++) {
                    var B = d.C[G];
                    d.XM[B] += Y.adp ? 1 : -1
                }
            }
            this.o3(S)
        }
    }
        ;
    U._J.prototype.E8 = function (Y, S) {
        return Y == F.bz || Y == F.tb
    }
        ;
    U._J.prototype.jL = function (Y, S, h, q) {
        var H = q.ct();
        if (q.q(F.gm))
            this.Tb(Y, S, !0);
        else if (q.q(F.fp))
            this.IM(Y, S, !0);
        else if (q.q(F.bz) || q.q(F.tb)) {
            var I = this.q7;
            for (var E = 0; E < I.length; E++) {
                var d = I[E];
                d.C.sort(function (g, z) {
                    return z - g
                });
                for (var G = 0; G < d.C.length; G++) {
                    var B = d.C[G]
                        , n = B * 2;
                    d.XM.splice(B, 1);
                    d.hC.splice(B, 1);
                    d.e_.splice(B, 1);
                    d.jW.splice(B, 1);
                    d.Mk.splice(n, 2);
                    d.oD.splice(n, 2)
                }
                d.C = [];
                if (d.jW.length == 0) {
                    d.cY = d.FB.slice(0);
                    d.p0 = d.FB.slice(0)
                }
            }
            this.ki(!0);
            this.o3(S);
            this.P2(Y)
        } else if (H.x != 0 || H.y != 0) {
            this.th(Y, H.x, H.y, S);
            this.tE = null
        }
    }
        ;
    U._J.prototype.Tb = function (Y, S, h) {
        this.hR("confirm", S);
        this.escape(Y, S, h)
    }
        ;
    U._J.prototype.IM = function (Y, S, h) {
        this.hR("cancel", S);
        this.escape(Y, S, h)
    }
        ;
    U._J.prototype.escape = function (Y, S, h) {
        Y.K.cv = null;
        Y.K.VO = [];
        Y.Yw = !0;
        this.q7 = null;
        var q = new _(P.E.P, !0);
        q.data = {
            X: P.U.Yk
        };
        if (h)
            S.B(q)
    }
        ;
    U._J.prototype.FF = function (Y, S, h, q, H) {
        var I = Y.z.vl(H.x, H.y)
            , E = I.x
            , d = I.y
            , B = this.q7
            , n = null
            , g = [0, 2, 4, 1.2, 1.2, 1.2]
            , z = -1
            , p = P.M() * 5 / Y.z.S;
        for (var G = 0; G < B.length; G++) {
            var C = B[G]
                , T = t.a.VR(C.oD, E, d, p);
            if (T != -1)
                n = [G, T];
            if (z == -1 && t.$H.E3.ai$(C.p0, C.hs, E, d))
                z = G
        }
        if (n == null && z != -1) {
            var C = B[z];
            U._J.cj(C, E, d, E, d, 0);
            n = [z, C.jW.length - 1];
            C.c6 = t.$H.Cr(C)
        }
        this.RI = I;
        if (n) {
            var A = B[n[0]].C.indexOf(n[1]) != -1;
            if (q.q(F.aY) && !A) {
                B[n[0]].C.push(n[1]);
                this.Nc.push(n)
            } else if (!A) {
                B[n[0]].C = [n[1]];
                this.Nc = [n]
            }
        }
        this.P2(Y)
    }
        ;
    U._J.cj = function (Y, S, h, q, H, I) {
        var E = t.a.VR(Y.p0, S, h);
        Y.jW.push(E);
        Y.oD.push(q, H);
        Y.Mk.push(Y.p0[E * 2] - S, Y.p0[E * 2 + 1] - h);
        Y.e_.push(0);
        Y.hC.push(!1);
        Y.XM.push(I)
    }
        ;
    U._J.prototype.vr = function (Y, S, h, q, H) {
        var I = Y.z.vl(H.x, H.y)
            , E = this.RI;
        if (E)
            this.th(Y, I.x - E.x, I.y - E.y, S)
    }
        ;
    U._J.prototype.th = function (Y, S, h, q) {
        var H = {}
            , I = this.Nc
            , E = this.q7;
        if (this.tE == null) {
            this.tE = [];
            for (var G = 0; G < E.length; G++)
                this.tE.push(E[G].oD.slice(0))
        }
        for (var G = 0; G < I.length; G++) {
            var d = this.Nc[G]
                , B = d[0]
                , n = E[d[0]]
                , g = d[1] * 2;
            n.oD[g + 0] = this.tE[B][g + 0] + S;
            n.oD[g + 1] = this.tE[B][g + 1] + h;
            H[B] = B
        }
        for (var B in H)
            t.$H.Yx(this.q7[H[B]]);
        this.P2(Y);
        this.o3(q)
    }
        ;
    U._J.prototype.hR = function (Y, S) {
        var h = new _(P.E.A, !0);
        h.F = U.J_;
        h.data = {
            X: Y,
            dX: this.a9W,
            ks: this.ks,
            w1: this.wP
        };
        S.B(h)
    }
        ;
    U._J.prototype.mi = function (Y, S, h, q, H) {
        this.RI = null;
        this.tE = null
    }
        ;
    U._J.prototype.o3 = function (Y) {
        U._J.hJ(this.q7, this._e, this.wP);
        this.hR("edit", Y)
    }
        ;
    U._J.prototype.P2 = function (Y) {
        var S = this.q7
            , h = this.wP;
        Y.K.cv = {
            H: [],
            Z: []
        };
        Y.K.VO = [];
        Y.K.tZ = [];
        for (var G = 0; G < S.length; G++) {
            var q = S[G];
            for (var H = 0; H < q.C.length; H++)
                Y.K.tZ.push((Y.K.VO.length >>> 1) + q.C[H]);
            Y.K.VO = Y.K.VO.concat(q.oD);
            if (this._e[3])
                t.a.concat(Y.K.cv, t.a.a3N(q.p0, q.hs))
        }
        Y.Yw = !0
    }
        ;
    U._J.r6 = function (Y, S, h) {
        var q = Y.buffer
            , H = Y.rect
            , I = Y.amO
            , E = io.g4("rigidTransform");
        if (I)
            for (var G = 0; G < 4; G++) {
                E["PuX" + G].v = I[G * 2];
                E["PuY" + G].v = I[G * 2 + 1]
            }
        var d = E.puppetShapeList.v
            , B = t.$H.amo(q, H.d, H.v, S[1], S[2])
            , n = [];
        for (var g = 0; g < B.length; g++) {
            var z = {
                classID: "puppetShape",
                rigidType: {
                    t: "bool",
                    v: !0
                },
                VrsM: {
                    t: "long",
                    v: 1
                },
                VrsN: {
                    t: "long",
                    v: 0
                },
                originalVertexArray: {
                    t: "tdta",
                    v: []
                },
                deformedVertexArray: {
                    t: "tdta",
                    v: []
                },
                indexArray: {
                    t: "tdta",
                    v: []
                },
                pinOffsets: {
                    t: "VlLs",
                    v: []
                },
                posFinalPins: {
                    t: "VlLs",
                    v: []
                },
                pinVertexIndices: {
                    t: "VlLs",
                    v: []
                },
                PinP: {
                    t: "VlLs",
                    v: []
                },
                PnRt: {
                    t: "VlLs",
                    v: []
                },
                PnOv: {
                    t: "VlLs",
                    v: []
                },
                PnDp: {
                    t: "VlLs",
                    v: []
                },
                meshQuality: {
                    t: "long",
                    v: 2
                },
                meshExpansion: {
                    t: "long",
                    v: 2
                },
                meshRigidity: {
                    t: "long",
                    v: 2
                },
                imageResolution: {
                    t: "doub",
                    v: 72
                },
                selectedPin: {
                    t: "VlLs",
                    v: []
                }
            };
            z.meshBoundaryPath = {
                t: "Objc",
                v: {
                    classID: "pathClass",
                    pathComponents: {
                        t: "VlLs",
                        v: [{
                            t: "Objc",
                            v: {
                                classID: "PaCm",
                                shapeOperation: {
                                    t: "enum",
                                    v: {
                                        shapeOperation: "xor"
                                    }
                                },
                                SbpL: {
                                    t: "VlLs",
                                    v: [{
                                        t: "Objc",
                                        v: {
                                            classID: "Sbpl",
                                            Clsp: {
                                                t: "bool",
                                                v: !0
                                            },
                                            Pts: {
                                                t: "VlLs",
                                                v: []
                                            }
                                        }
                                    }]
                                }
                            }
                        }]
                    }
                }
            };
            var p = B[g];
            d.push({
                t: "Objc",
                v: z
            });
            var C = p.FB.slice(0);
            t.a.J(C, new d5(1, 0, 0, 1, H.x, H.y), C);
            var T = p.hs;
            for (var G = 0; G < T.length; G += 3) {
                var A = T[G + 1];
                T[G + 1] = T[G + 2];
                T[G + 2] = A
            }
            n.push({
                hs: T,
                FB: C,
                cY: C,
                p0: C,
                jW: [],
                Mk: [],
                oD: [],
                c6: null,
                C: [],
                e_: [],
                hC: [],
                XM: []
            })
        }
        if (h) {
            var i = U._J.zA(h, [])
                , e = n[0];
            for (var G = 0; G < i.length; G++) {
                var a = i[G];
                for (var Z = 0; Z < a.C.length; Z++)
                    e.C.push((e.oD.length >>> 1) + a.C[Z]);
                for (var Z = 0; Z < a.jW.length; Z++) {
                    var O = a.jW[Z] * 2
                        , c = a.FB[O] - a.Mk[Z * 2]
                        , s = a.FB[O + 1] - a.Mk[Z * 2 + 1];
                    U._J.cj(e, c, s, a.oD[Z * 2], a.oD[Z * 2 + 1], a.XM[Z])
                }
            }
        }
        U._J.hJ(n, S, E);
        return E
    }
        ;
    U._J.zA = function (Y, S) {
        function h(s) {
            var x = [];
            for (var G = 0; G < s.length; G++)
                x.push(s[G].v);
            return x
        }
        var q = Y.puppetShapeList.v
            , H = [];
        for (var I = 0; I < q.length; I++) {
            var E = q[I].v;
            S[0] = E.meshRigidity.v - 1;
            S[1] = E.meshQuality.v - 1;
            S[2] = E.meshExpansion.v;
            var d = E.pinVertexIndices.v.length
                , B = E.meshBoundaryPath.v.pathComponents.v[0].v.SbpL.v[0].v.Pts;
            B.v = [];
            var n = new Uint32Array(new Uint8Array(E.indexArray.v).buffer)
                , g = new Float32Array(new Uint8Array(E.originalVertexArray.v).buffer)
                , z = new Float32Array(new Uint8Array(E.deformedVertexArray.v).buffer)
                , p = []
                , C = []
                , T = [];
            for (var G = 0; G < n.length; G++)
                p.push(n[G]);
            for (var G = 0; G < g.length; G++) {
                C.push(g[G]);
                T.push(z[G])
            }
            var A = h(E.pinVertexIndices.v)
                , i = h(E.pinOffsets.v)
                , e = h(E.posFinalPins.v)
                , a = h(E.PnRt.v)
                , Z = h(E.PnOv.v)
                , O = h(E.PnDp.v)
                , c = h(E.selectedPin.v);
            H.push({
                hs: p,
                FB: C,
                cY: T.slice(0),
                p0: T,
                jW: A,
                Mk: i,
                oD: e,
                c6: null,
                e_: a,
                hC: Z,
                XM: O,
                C: c
            })
        }
        return H
    }
        ;
    U._J.hJ = function (Y, S, h) {
        function q(p, C) {
            var T = [];
            for (var G = 0; G < p.length; G++)
                T.push({
                    t: C,
                    v: p[G]
                });
            return T
        }
        function H(p, C, T) {
            var A = new (T ? Uint32Array : Float32Array)(p)
                , i = new Uint8Array(A.buffer);
            for (var G = 0; G < i.length; G++)
                C[G] = i[G]
        }
        var I = h.puppetShapeList.v;
        for (var E = 0; E < I.length; E++) {
            var d = Y[E]
                , B = I[E].v;
            B.meshRigidity.v = S[0] + 1;
            B.meshQuality.v = S[1] + 1;
            B.meshExpansion.v = S[2];
            H(d.hs, B.indexArray.v, !0);
            H(d.FB, B.originalVertexArray.v);
            H(d.p0, B.deformedVertexArray.v);
            var n = [];
            for (var G = 0; G < d.jW.length; G++) {
                var g = d.jW[G] * 2
                    , z = G * 2;
                n[z] = d.FB[g] - d.Mk[z];
                n[z + 1] = d.FB[g + 1] - d.Mk[z + 1]
            }
            B.PinP.v = q(n, "doub");
            B.pinVertexIndices.v = q(d.jW, "long");
            B.pinOffsets.v = q(d.Mk, "doub");
            B.posFinalPins.v = q(d.oD, "doub");
            B.PnRt.v = q(d.e_, "long");
            B.PnOv.v = q(d.hC, "bool");
            B.PnDp.v = q(d.XM, "doub");
            B.selectedPin.v = q(d.C, "long")
        }
    }
        ;
    U.ng = function (Y, S, h) {
        U.Il.call(this, Y ? Y : [10, 40], S ? S : U.dh, h ? h : "tools/slice");
        this.Tp = null;
        this.Su = null;
        this.U4 = null;
        this.aeB = null;
        this.Jy = null;
        this.iO = null
    }
        ;
    U.ng.prototype = new U.Il;
    U.ng.h4 = function (Y, S) {
        var h = -1;
        for (var G = 0; G < Y.length; G++) {
            var q = U.ng.QS(Y, G);
            if (q[0] <= S.x && S.x <= q[2] && q[1] <= S.y && S.y <= q[3]) {
                h = G;
                break
            }
        }
        return h
    }
        ;
    U.ng.prototype.ON = function (Y, S, h, q, H) {
        this.tv(h);
        h.r1[h.MJ[0]].v = Y;
        h.Yw = !0;
        this.lu(h)
    }
        ;
    U.ng.prototype.enable = function (Y, S, h, q, H, I) {
        U.Il.prototype.enable.call(this, Y, S, h, q, H, I);
        if (!h.nF.r1) {
            var E = new _(P.E.P, !0);
            E.data = {
                X: P.U.PD,
                go: iD.v7
            };
            S.B(E)
        }
    }
        ;
    U.ng.prototype.disable = function () {
        this.Tp = null;
        this.Su = null
    }
        ;
    U.ng.prototype.dP = function (Y, S, h, q, H) {
        var I = Y.z.vl(H.x, H.y)
            , E = U.ng.h4(Y.r1, I);
        if (E == -1)
            return;
        this.Tp = Y;
        this.Su = S;
        Y.MJ = [E];
        Y.Yw = !0;
        if (this.iO == null) {
            this.iO = new gV([{
                name: [5, 4]
            }, {
                name: [8, 11, 1],
                tJ: !0
            }]);
            this.iO.k("select", this.ko, this)
        }
        var d = this.iO;
        d.parent = S;
        d.f();
        d.update(Y, h);
        var B = new _(P.E.P, !0);
        B.data = {
            X: P.U.pa,
            FN: d,
            x: H.q5 + 2,
            y: H.sZ + 1
        };
        S.B(B)
    }
        ;
    U.ng.prototype.ko = function (Y) {
        var S = this.iO.Iv()[0]
            , h = this.Tp;
        if (S == 0) {
            this.tv(h);
            h.r1.splice(h.MJ[0], 1);
            h.MJ = [];
            h.Yw = !0;
            this.lu(h)
        }
        if (S == 1) {
            var q = new _(P.E.P, !0);
            q.data = {
                X: P.U.V5,
                Fh: "soptions",
                G: h.r1[h.MJ[0]].v
            };
            this.Su.B(q)
        }
    }
        ;
    U.ng.prototype.FF = function (Y, S, h, q, H) {
        if (Y == null)
            return;
        this.tv(Y);
        var I = Y.z.vl(H.x, H.y);
        I = U._C.jg(Y, I, h, [!0, null, !1]);
        I.x = Math.round(I.x);
        I.y = Math.round(I.y);
        this.Jy = I;
        Y.r1.unshift(U.ng.Vx());
        Y.MJ = [0];
        U.ng.EW(Y.r1, 0, [I.x, I.y, I.x + 20, I.y + 20]);
        Y.Yw = !0
    }
        ;
    U.ng.prototype.vr = function (Y, S, h, q, H) {
        if (this.U4 == null)
            return;
        var I = Y.z.vl(H.x, H.y)
            , E = this.Jy;
        I = U._C.jg(Y, I, h, [!0, null, !1]);
        I.x = Math.round(I.x);
        I.y = Math.round(I.y);
        var d = [E.x, E.y, I.x, I.y];
        U.ng.LP(d);
        U.ng.EW(Y.r1, 0, d);
        Y.Yw = !0
    }
        ;
    U.ng.prototype.mi = function (Y, S, h, q, H) {
        this.lu(Y);
        this.Jy = null
    }
        ;
    U.ng.prototype.tv = function (Y) {
        this.U4 = JSON.stringify(Y.r1);
        this.aeB = JSON.stringify(Y.MJ)
    }
        ;
    U.ng.prototype.lu = function (Y) {
        var S = JSON.stringify(Y.r1);
        if (S != this.U4) {
            var h = new fj(this.name, this);
            h.data = {
                jD: this.U4,
                UU: S,
                aiA: this.aeB,
                aaL: JSON.stringify(Y.MJ)
            };
            Y._l(h)
        }
        this.U4 = null
    }
        ;
    U.ng.prototype.Td = function (Y, S) {
        S.r1 = JSON.parse(Y.jD);
        S.MJ = JSON.parse(Y.aiA);
        S.Yw = !0
    }
        ;
    U.ng.prototype.RV = function (Y, S) {
        S.r1 = JSON.parse(Y.UU);
        S.MJ = JSON.parse(Y.aaL);
        S.Yw = !0
    }
        ;
    U.ng.prototype.E8 = function (Y, S) {
        return S != null && S.MJ.length != 0 && (Y == F.bz || Y == F.tb)
    }
        ;
    U.ng.prototype.jL = function (Y, S, h, q) {
        if (Y == null)
            return;
        this.tv(Y);
        var H = q.ct();
        if (H.x != 0 || H.y != 0)
            U.ng.fJ(Y, H);
        if (q.q(F.bz) || q.q(F.tb)) {
            var I = Y.r1.slice(0);
            for (var G = 0; G < Y.MJ.length; G++)
                Y.r1.splice(Y.r1.indexOf(I[Y.MJ[G]]), 1);
            Y.MJ = []
        }
        this.lu(Y)
    }
        ;
    U.ng.prototype.yg = function (Y, S, h, q, H) {
        if (h == null || h.MJ.length == 0)
            return;
        this.tv(h);
        var I = h.r1
            , E = h.MJ;
        E.sort(function (C, T) {
            return C - T
        });
        console.log(E);
        var d = I.slice(0)
            , B = []
            , n = [];
        for (var G = 0; G < E.length; G++) {
            var g = E[G]
                , z = I[g];
            n.push(z);
            d.splice(d.indexOf(z), 1)
        }
        var p = Math.max(0, Math.min(d.length, E[0] - Y.dir));
        for (var G = 0; G < n.length; G++) {
            d.splice(p + G, 0, n[G]);
            B.push(p + G)
        }
        h.r1 = d;
        h.MJ = B;
        this.lu(h)
    }
        ;
    U.ng.aed = function (Y, S, h, q) {
        var H = new aV(-S.x, -S.y)
            , I = S.d / h.d
            , E = S.v / h.v
            , d = [0, 0, S.d, S.v];
        for (var G = 0; G < Y.length; G++) {
            var B = U.ng.QS(Y, G);
            if (q) {
                B[0] = Math.round(B[0] * I);
                B[1] = Math.round(B[1] * E);
                B[2] = Math.round(B[2] * I);
                B[3] = Math.round(B[3] * E)
            } else {
                U.ng.qp(B, H);
                U.ng.a6o(B, d)
            }
            if (B[0] >= B[2] || B[1] >= B[3]) {
                Y.splice(G, 1);
                G--;
                continue
            }
            U.ng.EW(Y, G, B)
        }
    }
        ;
    U.ng.fJ = function (Y, S) {
        var h = Y.r1;
        for (var G = 0; G < Y.MJ.length; G++) {
            var q = U.ng.QS(h, Y.MJ[G]);
            U.ng.qp(q, S);
            U.ng.EW(h, Y.MJ[G], q)
        }
    }
        ;
    U.ng.a6o = function (Y, S) {
        if (Y[0] < S[0])
            Y[0] = S[0];
        if (Y[1] < S[1])
            Y[1] = S[1];
        if (S[2] < Y[2])
            Y[2] = S[2];
        if (S[3] < Y[3])
            Y[3] = S[3]
    }
        ;
    U.ng.qp = function (Y, S) {
        Y[0] = Math.round(Y[0] + S.x);
        Y[2] = Math.round(Y[2] + S.x);
        Y[1] = Math.round(Y[1] + S.y);
        Y[3] = Math.round(Y[3] + S.y)
    }
        ;
    U.ng.EW = function (Y, G, S) {
        var h = Y[G].v.bounds.v;
        h.Left.v = S[0];
        h.Top.v = S[1];
        h.Rght.v = S[2];
        h.Btom.v = S[3]
    }
        ;
    U.ng.QS = function (Y, G) {
        var S = Y[G].v.bounds.v;
        return [S.Left.v, S.Top.v, S.Rght.v, S.Btom.v, G]
    }
        ;
    U.ng.LP = function (Y) {
        if (Y[2] < Y[0]) {
            var S = Y[0];
            Y[0] = Y[2];
            Y[2] = S
        }
        if (Y[2] == Y[0])
            Y[2]++;
        if (Y[3] < Y[1]) {
            var S = Y[1];
            Y[1] = Y[3];
            Y[3] = S
        }
        if (Y[3] == Y[1])
            Y[3]++
    }
        ;
    U.ng.Zu = function (Y, S) {
        var h = 1e9
            , q = -1e9
            , H = 1e9
            , I = -1e9;
        for (var G = 0; G < S.length; G++) {
            var E = U.ng.QS(Y, S[G]);
            h = Math.min(h, E[0]);
            H = Math.min(H, E[1]);
            q = Math.max(q, E[2]);
            I = Math.max(I, E[3])
        }
        return [h, H, q, I]
    }
        ;
    U.ng.Vx = function () {
        return {
            t: "Objc",
            v: {
                classID: "slice",
                sliceID: {
                    t: "long",
                    v: 0
                },
                groupID: {
                    t: "long",
                    v: 0
                },
                origin: {
                    t: "enum",
                    v: {
                        ESliceOrigin: "userGenerated"
                    }
                },
                Type: {
                    t: "enum",
                    v: {
                        ESliceType: "Img"
                    }
                },
                bounds: {
                    t: "Objc",
                    v: {
                        classID: "Rct1",
                        Top: {
                            t: "long",
                            v: 0
                        },
                        Left: {
                            t: "long",
                            v: 0
                        },
                        Btom: {
                            t: "long",
                            v: 0
                        },
                        Rght: {
                            t: "long",
                            v: 0
                        }
                    }
                },
                url: {
                    t: "TEXT",
                    v: ""
                },
                null: {
                    t: "TEXT",
                    v: ""
                },
                Msge: {
                    t: "TEXT",
                    v: ""
                },
                altTag: {
                    t: "TEXT",
                    v: ""
                },
                cellTextIsHTML: {
                    t: "bool",
                    v: !0
                },
                cellText: {
                    t: "TEXT",
                    v: ""
                },
                horzAlign: {
                    t: "enum",
                    v: {
                        ESliceHorzAlign: "default"
                    }
                },
                vertAlign: {
                    t: "enum",
                    v: {
                        ESliceVertAlign: "default"
                    }
                },
                bgColorType: {
                    t: "enum",
                    v: {
                        ESliceBGColorType: "None"
                    }
                },
                topOutset: {
                    t: "long",
                    v: 0
                },
                leftOutset: {
                    t: "long",
                    v: 0
                },
                bottomOutset: {
                    t: "long",
                    v: 0
                },
                rightOutset: {
                    t: "long",
                    v: 0
                }
            }
        }
    }
        ;
    U.pE = function () {
        U.ng.call(this, [10, 41], U.KZ, "tools/sselect");
        this.Jy = null;
        this.zQ = null;
        this.Sa = null;
        this.Vz = null;
        this.Jn = !1
    }
        ;
    U.pE.prototype = new U.ng;
    U.pE.prototype.FF = function (Y, S, h, q, H) {
        if (Y == null)
            return;
        var I = Y.z.vl(H.x, H.y)
            , E = U.pE.DA(I, 4 / Y.z.S, Y.r1, Y.MJ);
        E.pop();
        if (E.length != 0) {
            this.Jy = I;
            this.Sa = E;
            this.tv(Y);
            return
        }
        var d = Y.r1
            , B = U.ng.h4(d, I);
        if (B == -1)
            Y.MJ = [];
        else {
            var n = Y.MJ.indexOf(B);
            if (q.q(F.aY)) {
                if (n == -1)
                    Y.MJ.push(B);
                else
                    Y.MJ.splice(n, 1)
            } else {
                Y.MJ.sort(function (A, i) {
                    return A - i
                });
                if (n == -1)
                    Y.MJ = [B];
                this.Jy = I;
                this.tv(Y);
                this.zQ = U.ng.Zu(d, Y.MJ);
                this.Vz = [];
                for (var G = 0; G < Y.MJ.length; G++)
                    this.Vz.push(U.ng.QS(d, Y.MJ[G]));
                if (q.q(F.Gs)) {
                    var g = d.slice(0)
                        , z = Y.MJ
                        , p = [];
                    for (var G = 0; G < z.length; G++) {
                        var B = z[G]
                            , C = g[B]
                            , T = d.indexOf(C);
                        p.push(T);
                        d.splice(T, 0, JSON.parse(JSON.stringify(C)))
                    }
                    Y.MJ = p
                }
            }
        }
        Y.Yw = !0
    }
        ;
    U.pE.prototype.vr = function (Y, S, h, q, H) {
        var I = Y.z.vl(H.x, H.y);
        if (this.Jy == null) {
            var E = U.pE.DA(I, 4 / Y.z.S, Y.r1, Y.MJ)
                , d = E.pop()
                , B = E.length == 0 ? "default" : ["ew", "nwse", "ns", "nesw"][d] + "-resize"
                , n = new _(P.E.P, !0);
            n.data = {
                X: P.U.t6,
                WX: B
            };
            S.B(n);
            return
        }
        if (!this.Jn && I.ma(this.Jy))
            return;
        this.Jn = !0;
        var g = Y.r1
            , E = this.Sa;
        if (E) {
            I = U._C.jg(Y, I, h, [!0, null, !1]);
            var z = Math.round(I.x)
                , p = Math.round(I.y);
            for (var G = 0; G < E.length; G += 2) {
                var C = U.ng.QS(g, E[G])
                    , T = E[G + 1];
                C[T] = (T & 1) == 0 ? z : p;
                U.ng.LP(C);
                U.ng.EW(g, E[G], C)
            }
        } else {
            var A = I.KB(this.Jy)
                , i = this.zQ.slice(0);
            U.ng.qp(i, A);
            var e = new W(i[0], i[1], i[2] - i[0], i[3] - i[1])
                , a = U._C.vF(Y, e, h, [!0, null, !1], !0);
            U._C.I8(Y, e, a);
            A.x += a[0];
            A.y += a[1];
            for (var G = 0; G < Y.MJ.length; G++)
                U.ng.EW(g, Y.MJ[G], this.Vz[G]);
            U.ng.fJ(Y, A)
        }
        Y.Yw = !0
    }
        ;
    U.pE.prototype.mi = function (Y, S, h, q, H) {
        if (this.Jy == null)
            return;
        this.lu(Y);
        Y.K.Yi = null;
        Y.Yw = !0;
        this.Jy = null;
        this.Sa = null;
        this.Vz = null;
        this.Jn = !1
    }
        ;
    U.pE.DA = function (Y, S, h, q) {
        var H = Y.x
            , I = Y.y
            , E = []
            , d = -1
            , B = [];
        for (var G = 0; G < q.length; G++) {
            var n = q[G]
                , g = U.ng.QS(h, n)
                , z = g[0]
                , p = g[1]
                , C = g[2]
                , T = g[3];
            if (H < z - S || C + S < H || I < p - S || T + S < I)
                continue;
            var A = [H < z + S, I < p + S, C - S < H, T - S < I]
                , i = -1;
            for (var e = 0; e < 4; e++) {
                if (A[e] && A[e + 1 & 3])
                    i = 1 + 2 * (e & 1);
                if (A[e])
                    E.push(n, e)
            }
            if (i == -1) {
                if (A[0] || A[2])
                    i = 0;
                if (A[1] || A[3])
                    i = 2
            }
            if (i != -1) {
                d = i;
                B.push(n)
            }
        }
        var a = E.length;
        for (var G = 0; G < a; G += 2) {
            var n = E[G]
                , Z = E[G + 1]
                , O = U.ng.QS(h, n)[Z];
            for (var e = 0; e < q.length; e++) {
                var c = q[e];
                if (B.indexOf(c) != -1)
                    continue;
                var g = U.ng.QS(h, c);
                if (g[Z & 1] == O)
                    E.push(c, Z & 1);
                if (g[2 + (Z & 1)] == O)
                    E.push(c, 2 + (Z & 1))
            }
        }
        E.push(d);
        return E
    }
        ;
    U.$B = function () {
        U.Q_.call(this, [10, 44], U.a4X, "tools/oselect");
        this.Di = "crosshair";
        this.a0R = 0
    }
        ;
    U.$B.prototype = new U.Q_;
    U.$B.prototype.Kf = function (Y, S, h, q) {
        if (Math.random() < 1 / (1 + this.a0R)) {
            alert("The cross should be fully inside the object.", 3500);
            this.a0R++
        }
    }
        ;
    U.$B.prototype.fn = function (Y, S, h, q) {
        U.ww.w$(Y, U.Q_.WS, this.Su);
        if (!q.gk || !this.ul)
            return;
        var H = this.i6(Y, h, !1)
            , I = H.d
            , E = H.v
            , d = H.x
            , B = H.y
            , n = H.x + I
            , g = H.y + E
            , z = d + I / 2
            , p = B + E / 2
            , C = U.$B._S;
        Y.K.cv = {
            H: [d, B, n, B, n, g, d, g, z - I * C, p, z + I * C, p, z, p - E * C, z, p + E * C],
            Z: "M L L L Z M L M L".split(" ")
        };
        Y.Yw = !0
    }
        ;
    U.$B._S = .12;
    U.$B.prototype.wR = function (Y, S, h, q) {
        Y.K.cv = null;
        Y.Yw = !0;
        this.finish(Y, S, h, q)
    }
        ;
    U.$B.prototype.getSelection = function (Y, S, h, q) {
        if (this.zl.ma(this.SG) || !this.ul)
            return null;
        var H = this.i6(Y, h, !1)
            , I = Y.t[Y.C[0]];
        if (H.fa() || !H.CO(I.rect))
            return null;
        return U.Q_.jn("ObSl", H)
    }
        ;
    U.ww = function () {
        U.NJ.call(this, [10, 37], U.UT, "tools/qselect");
        this.rv = "qselect"
    }
        ;
    U.ww.prototype = new U.NJ;
    U.ww.prototype.FF = function (Y, S, h, q, H) {
        this.oC(Y, h, q, H, 1);
        if (this.I$ == null)
            return;
        this.Fk(Y)
    }
        ;
    U.ww.prototype.vr = function (Y, S, h, q, H) {
        this.rI(Y, S, h);
        U.ww.w$(Y, U.Q_.WS, S);
        if (this.x9)
            this.ss(Y, h, H);
        if (this.I$ == null)
            return;
        if (!H.gk)
            return;
        var I = this.o8(Y, h, q, H);
        if (I != 1)
            this.Fk(Y)
    }
        ;
    U.ww.w$ = function (Y, S, h) {
        if (Y && S.key != U.ww.TK(Y)) {
            S.key = U.ww.TK(Y);
            var q = Y.t[Y.C[0]].rect.e()
                , I = "Image Analysis ...";
            if (q == 0)
                return;
            var H = q > 1e6
                , E = new _(P.E.P, !0);
            E.data = {
                X: P.U.OW,
                rh: I
            };
            if (H)
                h.B(E);
            setTimeout(function () {
                var d = U.ww.db(Y);
                for (var B in d)
                    S[B] = d[B];
                var E = new _(P.E.P, !0);
                E.data = {
                    X: P.U.un,
                    rh: I
                };
                if (H)
                    h.B(E)
            }, 30)
        }
    }
        ;
    U.ww.TK = function (Y) {
        var S = Y.C[0]
            , h = Y.t[S]
            , q = h.rect
            , H = q.d
            , I = q.v
            , E = H * I
            , d = h.buffer;
        return [S, q.x, q.y, H, I, d[0], d[1], d[2], d[3]].join(",")
    }
        ;
    U.ww.db = function (Y) {
        var S = Y.C[0]
            , h = Y.t[S]
            , q = h.rect
            , H = q.d
            , I = q.v
            , E = H * I
            , d = h.buffer
            , B = Date.now()
            , n = t.m(E);
        n.fill(128);
        var g = t.mv.DE(d, H, I);
        console.log(Date.now() - B);
        var z = {
            key: U.ww.TK(Y),
            dC: d,
            rect: q.clone(),
            rz: H,
            UR: I,
            kb: 12,
            a1e: !1,
            tq: n,
            v4: g,
            N: t.m(E),
            uD: null,
            NW: null,
            ID: null
        };
        U.ww.bt(z);
        return z
    }
        ;
    U.ww.bt = function (Y, S) {
        var h = Y.rz
            , q = Y.UR
            , H = 0
            , I = 0
            , E = Date.now()
            , d = Y.uD != null && t.mv.agb(Y.v4.hs, Y.uD.hs, Y.uD.qR, Y.tq);
        H = Date.now() - E;
        E = Date.now();
        if (!d && !Y.a1e) {
            Y.uD = t.mv.ym(Y.v4, h, q, Y.tq, Y.kb);
            if (!t.mv.agb(Y.v4.hs, Y.uD.hs, Y.uD.qR, Y.tq)) {
                Y.a1e = !0;
                console.log("conflict")
            }
            Y.NW = t.mv.adh(Y.dC, h, q, Y.uD.hs, Y.uD.qR);
            Y.ID = [Y.NW[0].slice(0), []];
            I = Date.now() - E;
            E = Date.now()
        }
        var E = Date.now();
        if (S) {
            Y.ID[0].set(Y.NW[0]);
            var B = Y.NW[1]
                , n = Y.ID[1];
            for (var g = 0; g < B.length; g++)
                n[g] = B[g].slice(0);
            t.mv.aam(Y.uD.hs, h, q, Y.uD.qR, Y.tq, Y.N, Y.ID)
        }
    }
        ;
    function ht(Y, S, h, q, H, I, E, d) {
        this.p5 = null;
        this.YF = Y ? Y.slice(0) : null;
        this.Of = 4;
        this.SG = null;
        this.r8 = null;
        this.MR = null;
        this.$I = -1;
        this.nU = null;
        this.adK = !1;
        this.a3q = [];
        for (var G = 0; G < 8; G++)
            this.a3q.push(eD.ac7(0, PIMG.rotate, -.5, -.5, -45 - G * 45));
        this.a9h = S;
        this.akh = h;
        this.anZ = q;
        this.a19 = H;
        this.a1$ = I;
        this.JQ = E;
        this.a1C = d
    }
    ht.prototype.xk = function () {
        return this.$I != -1
    }
        ;
    ht.prototype.mx = function () {
        return this.YF.slice(0)
    }
        ;
    ht.prototype.Nk = function (Y) {
        this.YF = Y
    }
        ;
    ht.prototype.aeO = function () {
        return this.te(this.YF)
    }
        ;
    ht.prototype.ag7 = function () {
        return this.Of
    }
        ;
    ht.prototype.acL = function (Y) {
        this.Of = Y
    }
        ;
    ht.prototype.T$ = function (Y) {
        if (Y == null)
            Y = this.YF;
        if (this.Of == 9)
            return this.SG;
        else
            return this.te(Y)[this.Of]
    }
        ;
    ht.prototype.acg = function (Y) {
        if (this.Of == 9)
            this.SG = Y.clone();
        else {
            var S = this.T$()
                , h = new d5(1, 0, 0, 1, Y.x - S.x, Y.y - S.y);
            t.a.J(this.YF, h, this.YF)
        }
    }
        ;
    ht.prototype.ii = function (Y, S, h) {
        var q = this.tR(Y, S), H;
        if (q == 9)
            return "default";
        if (q == 10) {
            if (h)
                return null;
            return !this.a9h ? "move" : null
        }
        if (q == -1 || q == 4)
            return null;
        if (q == 11) {
            var I = this.T$().KB(Y);
            H = 90 - Math.atan2(I.y, I.x) * 180 / Math.PI;
            var E = Math.round(8 * (H / 360));
            E = (E + 8) % 8;
            return this.a3q[E]
        } else {
            var d = this.yi(Y, this.YF);
            H = [135, 90, 45, 180, 0, 0, 225, 270, 315][q];
            var B = t.I.Rc(this.YF);
            H += Math.atan2(-B[3], B[0]) * 180 / Math.PI;
            var n = "ew nesw ns nwse ew nesw ns nwse".split(" ")
                , E = Math.round(8 * (H / 360));
            E = (E + 8) % 8;
            return n[E] + "-resize"
        }
    }
        ;
    ht.prototype.yi = function (Y, S) {
        var h = t.I.fb(t.I.Rc(S))
            , q = new Float64Array(2);
        t.I.hp(Y.x, Y.y, h, q);
        return new aV(q[0], q[1])
    }
        ;
    ht.prototype.Ew = function (Y) {
        var S = this.yi(Y, this.YF);
        return 0 <= S.x && S.x <= 1 && 0 <= S.y && S.y <= 1
    }
        ;
    ht.prototype.FF = function (Y, S, h, q, H, I) {
        this.adK = I;
        this.nU = q;
        var E = Y.z.S, d;
        if (this.YF == null)
            q = U._C.jg(Y, q, S);
        this.MR = q.clone();
        if (this.YF == null) {
            this.MR.offset(1, 1);
            var B = H == null ? 1 : 1 / H;
            this.YF = [q.x, q.y, q.x + 1, q.y, q.x + 1, q.y + B, q.x, q.y + B];
            d = 8
        } else {
            d = this.tR(q, E);
            if (0 <= d && d <= 8)
                this.MR = this.te(this.YF)[d]
        }
        this.p5 = this.YF.slice(0);
        this.$I = d;
        this.hN(Y, S);
        this.r8 = this.T$();
        return d != -1
    }
        ;
    ht.prototype.tR = function (Y, S) {
        var h = -1
            , q = this.te()
            , H = 6 * P.M() / S;
        if (h == -1)
            if (aV.kr(this.T$(), Y) < H)
                h = 9;
        if (h == -1)
            for (var G = 0; G < q.length; G++)
                if (G != 4 && aV.kr(q[G], Y) < H)
                    h = G;
        if (h == -1 || this.JQ == 4) {
            if (this.Ew(Y)) {
                if (this.a9h)
                    h = 10
            } else {
                var I = this.yi(Y, this.YF)
                    , E = new W(0, 0, 1, 1);
                E.vo(.2, .2);
                h = E.uU(I) && this.JQ != 3 ? 11 : 10
            }
        }
        return h
    }
        ;
    ht.prototype.vr = function (Y, S, h, q) {
        if (this.$I == -1)
            return;
        this.nU = q;
        var H = h.q(F.aY), I = h.q(F.Gs), E = h.q(F.EO), d = Y.z.S, B = this.MR, n = this.$I, g = this.te(), z = U._C.jg(Y, B, S), p = U._C.jg(Y, q, S), C, T;
        if (n == 9) {
            var g = this.te()
                , A = -1;
            for (var G = 0; G < g.length; G++)
                if (aV.kr(g[G], p) * d < 10)
                    A = G;
            this.Of = A == -1 ? 9 : A;
            this.SG = H ? U.a$.mk(z, p) : p.clone()
        } else if (n == 10) {
            T = t.a.Zu(this.p5);
            var i = T.x
                , e = T.y;
            T.offset(q.x - B.x, q.y - B.y);
            if (this.O4()) {
                T.x = Math.round(T.x);
                T.y = Math.round(T.y)
            }
            C = U._C.vF(Y, T, S);
            var a = new d5(1, 0, 0, 1, T.x - i + C[0], T.y - e + C[1]);
            t.a.J(this.p5, a, this.YF)
        } else if (n == 11) {
            var Z = this.T$(this.p5)
                , O = Z.KB(q)
                , c = Z.KB(B)
                , s = Math.atan2(O.y, O.x)
                , x = Math.atan2(c.y, c.x)
                , a = new d5(1, 0, 0, 1, -Z.x, -Z.y)
                , u = Math.PI / 12;
            if (H)
                a.rotate(Math.round((x - s) / u) * u);
            else
                a.rotate(x - s);
            a.translate(Z.x, Z.y);
            t.a.J(this.p5, a, this.YF)
        } else {
            var y, j = this.p5, v = n == 0 || n == 2 || n == 6 || n == 8;
            if (this.JQ == 1) {
                if (v)
                    H = I = E = !0
            } else if (this.JQ == 2 && v && this.adK != !0)
                E = !0;
            if (this.JQ == 3)
                E = !1;
            if (this.anZ && v && E) {
                var G = [0, 0, 2, 0, 0, 0, 6, 0, 4, 0][n]
                    , X = -1
                    , N = p.x
                    , V = p.y;
                if (H) {
                    var $ = G + 6 & 7
                        , w = G + 10 & 7
                        , m = ht.Ff(j[G], j[G + 1], j[$], j[$ + 1], p.x, p.y)
                        , l = ht.Ff(j[G], j[G + 1], j[w], j[w + 1], p.x, p.y)
                        , b = m[2] < l[2] ? m : l;
                    N = b[0];
                    V = b[1];
                    if (I)
                        X = m[2] < l[2] ? $ : w
                } else if (I)
                    X = G + 4 & 7;
                y = j.slice(0);
                if (X != -1) {
                    var K = j[X]
                        , J = j[X + 1]
                        , R = (j[G] + K) / 2
                        , r = (j[G + 1] + J) / 2;
                    y[X] = R - (N - R);
                    y[X + 1] = r - (V - r)
                }
                y[G] = N;
                y[G + 1] = V
            } else if (v && I) {
                var Z = this.r8
                    , f = Z.x
                    , gf = Z.y
                    , aa = z.x - f
                    , aA = z.y - gf
                    , e5 = 1
                    , fk = 1;
                if (Math.abs(aa) >= 1)
                    e5 = (p.x - f) / aa;
                if (Math.abs(aA) >= 1)
                    fk = (p.y - gf) / aA;
                if (H)
                    e5 = fk = (e5 + fk) / 2;
                var o = new d5;
                o.translate(-f, -gf);
                o.scale(e5, fk);
                o.translate(f, gf);
                y = j.slice(0);
                t.a.J(y, o, y)
            } else {
                if (this.O4()) {
                    p.x = Math.round(p.x);
                    p.y = Math.round(p.y)
                }
                var eY = [0, 1, 2, 5, 8, 7, 6, 3]
                    , du = eY[(eY.indexOf(n) + 4) % 8]
                    , dV = [];
                for (var G = 0; G < 3; G++)
                    for (var X = 0; X < 3; X++)
                        dV.push(new aV(X / 2, G / 2));
                var Z = this.r8
                    , hy = this.yi(p, j)
                    , bq = this.yi(B, j)
                    , i5 = I && (this.Of == 4 || this.Of == 9) ? this.yi(Z, j) : dV[du]
                    , hX = new d5
                    , bY = new d5
                    , e5 = (hy.x - i5.x) / (bq.x - i5.x);
                if (e5 == 0)
                    e5 = 1e-4;
                var fk = (hy.y - i5.y) / (bq.y - i5.y);
                if (fk == 0)
                    fk = 1e-4;
                if (this.a19) {
                    e5 = Math.max(e5, 0);
                    fk = Math.max(fk, 0)
                }
                if (n == 0 || n == 2 || n == 6 || n == 8) {
                    if (H || this.a1$)
                        hX.scale(e5, e5);
                    else
                        hX.scale(e5, fk)
                }
                if (n == 1 || n == 3 || n == 5 || n == 7) {
                    var ds = this.a1$;
                    if (n == 1 || n == 7)
                        hX.scale(ds ? fk : 1, fk);
                    else
                        hX.scale(e5, ds ? e5 : 1);
                    if (this.akh && E) {
                        if (n == 1 || n == 7)
                            bY.Pb = (hy.x - i5.x) / (hy.y - i5.y);
                        else
                            bY.O = (hy.y - i5.y) / (hy.x - i5.x)
                    }
                }
                var o = new d5;
                o.translate(-i5.x, -i5.y);
                o.concat(hX);
                o.concat(bY);
                o.translate(i5.x, i5.y);
                y = [0, 0, 1, 0, 1, 1, 0, 1];
                t.a.J(y, o, y);
                var b = t.I.Rc(j);
                t.I.apply(b, y)
            }
            if (ht.P1(y))
                this.YF = y
        }
        this.hN(Y, S);
        if (C)
            U._C.I8(Y, T, C)
    }
        ;
    ht.Ff = function (Y, S, h, q, H, I) {
        var E = h - Y
            , d = q - S
            , B = H - Y
            , n = I - S
            , g = E * E + d * d
            , z = B * E + n * d
            , p = z / g
            , C = Y + p * E
            , T = S + p * d
            , A = H - C
            , i = I - T;
        return [C, T, Math.sqrt(A * A + i * i)]
    }
        ;
    ht.prototype.O4 = function () {
        var Y = this.YF;
        return Math.abs(Y[1] - Y[3]) < 1e-6 && Math.abs(Y[2] - Y[4]) < 1e-6 || Math.abs(Y[0] - Y[2]) < 1e-6 && Math.abs(Y[3] - Y[5]) < 1e-6
    }
        ;
    ht.P1 = function (Y) {
        return t.a.QB(Y) || t.a.QB([Y[6], Y[7], Y[4], Y[5], Y[2], Y[3], Y[0], Y[1]])
    }
        ;
    ht.prototype.mi = function (Y, S, h, q) {
        this.$I = -1;
        this.nU = null;
        Y.K.Yi = null;
        Y.K.NS = [];
        Y.Yw = !0
    }
        ;
    ht.prototype.jL = function (Y, S, h) {
        var q = h.ct();
        if (q.x || q.y) {
            var H = new d5(1, 0, 0, 1, q.x, q.y);
            t.a.J(this.YF, H, this.YF);
            this.hN(Y, S);
            return !0
        }
        return !1
    }
        ;
    ht.prototype.te = function (Y) {
        if (Y == null)
            Y = this.YF;
        var S = Y[6] - Y[0]
            , h = Y[7] - Y[1]
            , q = Y[4] - Y[2]
            , H = Y[5] - Y[3]
            , I = [Y[0], Y[1], Y[2], Y[3], Y[0] + S / 2, Y[1] + h / 2, Y[2] + q / 2, Y[3] + H / 2, Y[6], Y[7], Y[4], Y[5]]
            , E = [];
        for (var G = 0; G < 3; G++) {
            var d = G * 4
                , B = I[d + 0]
                , n = I[d + 1]
                , g = I[d + 2]
                , z = I[d + 3];
            E.push(new aV(B, n));
            E.push(new aV(B + (g - B) / 2, n + (z - n) / 2));
            E.push(new aV(g, z))
        }
        return E
    }
        ;
    ht.prototype.hN = function (Y, S, h) {
        if (h == null)
            h = !1;
        var q = this.te()
            , H = q[0]
            , I = q[2]
            , E = q[6]
            , d = q[8];
        Y.K.cv = {
            Z: [],
            H: []
        };
        Y.K.cv.Z.push("M", "L", "L", "L", "Z");
        Y.K.cv.H.push(H.x, H.y, I.x, I.y, d.x, d.y, E.x, E.y);
        if (this.a1C) {
            var B = I.KB(H)
                , n = E.KB(H)
                , g = d.KB(I)
                , z = d.KB(E);
            for (var G = 0; G < 3; G++) {
                Y.K.cv.Z.push("M", "L", "M", "L");
                var p = (G + 1) * .25;
                Y.K.cv.H.push(H.x + B.x * p, H.y + B.y * p, E.x + z.x * p, E.y + z.y * p);
                Y.K.cv.H.push(H.x + n.x * p, H.y + n.y * p, I.x + g.x * p, I.y + g.y * p)
            }
        }
        Y.z.Tz = new W(0, 0, aV.kr(q[0], q[2]), aV.kr(q[0], q[6]));
        if (this.$I != -1 && this.$I < 9 && this.nU) {
            var C = Y.z.XV(this.nU.x, this.nU.y);
            U.Il.Qe(C.x + 10, C.y - 10, Y.z.Tz, Y, S)
        }
        if (!h) {
            Y.K.iF = [];
            for (var G = 0; G < q.length; G++)
                if (G != 4)
                    Y.K.iF.push(q[G].x, q[G].y);
            var T = this.T$();
            Y.K.iF.push(T.x, T.y)
        }
        Y.Yw = !0
    }
        ;
    ht.prototype.clear = function (Y) {
        Y.z.Tz = null;
        Y.K.Yi = null;
        Y.K.cv = null;
        Y.K.iF = [];
        Y.Yw = !0
    }
        ;
    function i4(Y, S) {
        this.P8 = null;
        this.$I = -1;
        this.Kt(Y)
    }
    i4.prototype.k3 = function () {
        return JSON.parse(JSON.stringify(this.P8))
    }
        ;
    i4.prototype.Kt = function (Y) {
        this.P8 = JSON.parse(JSON.stringify(Y))
    }
        ;
    i4.prototype.Ew = function (Y) {
        return !0
    }
        ;
    i4.prototype.ii = function (Y, S) {
        var h = this.tR(Y, S);
        if (h == -1)
            return "default";
        return "pointer"
    }
        ;
    i4.prototype.FF = function (Y, S, h, q) {
        this.$I = this.tR(q, Y.z.S);
        return this.$I != -1
    }
        ;
    i4.prototype.tR = function (Y, S) {
        var h = -1
            , q = 20 * P.M()
            , H = this.zb();
        for (var G = 0; G < H.length; G++)
            if (aV.kr(H[G], Y) * S < q)
                h = G;
        return h
    }
        ;
    i4.prototype.vr = function (Y, S, h, q) {
        if (this.$I == -1)
            return;
        var H = Y.z.S
            , I = this.$I
            , E = t.P8.eT(this.P8);
        E[I * 2] = q.x;
        E[I * 2 + 1] = q.y;
        t.P8.iB(E, this.P8)
    }
        ;
    i4.prototype.mi = function (Y, S, h, q) {
        this.$I = -1;
        Y.Yw = !0
    }
        ;
    i4.prototype.jL = function (Y, S, h) {
        var q = h.ct();
        if (q.x || q.y) {
            var H = new d5(1, 0, 0, 1, q.x, q.y);
            t.a.J(this.YF, H, this.YF);
            this.hN(Y)
        }
    }
        ;
    i4.prototype.zb = function (Y) {
        var S = t.P8.eT(this.P8)
            , h = [];
        for (var G = 0; G < S.length; G += 2)
            h.push(new aV(S[G], S[G + 1]));
        return h
    }
        ;
    i4.prototype.hN = function (Y) {
        var S = this.zb();
        Y.K.cv = {
            Z: [],
            H: []
        };
        Y.K.cv.Z.push("M", "C", "C", "C", "C");
        var h = [0, 1, 2, 3, 7, 11, 15, 14, 13, 12, 8, 4, 0];
        for (var G = 0; G < h.length; G++)
            Y.K.cv.H.push(S[h[G]].x, S[h[G]].y);
        Y.K.cv.Z.push("M", "L", "L", "M", "L", "L", "M", "L", "L", "M", "L", "L");
        h = [4, 0, 1, 2, 3, 7, 11, 15, 14, 13, 12, 8];
        for (var G = 0; G < h.length; G++)
            Y.K.cv.H.push(S[h[G]].x, S[h[G]].y);
        Y.K.iF = [];
        for (var G = 0; G < S.length; G++)
            Y.K.iF.push(S[G].x, S[G].y);
        Y.Yw = !0
    }
        ;
    i4.prototype.clear = function (Y) {
        Y.K.cv = null;
        Y.K.iF = [];
        Y.Yw = !0
    }
        ;
    var cU = {};
    cU.Br = function (Y) {
        this.id = Y;
        this.Su = null
    }
        ;
    cU.Br.prototype.ON = function (Y, S, h, q, H) { }
        ;
    cU.Br.prototype.RV = function (Y, S) { }
        ;
    cU.Br.prototype.Td = function (Y, S) { }
        ;
    cU.Br.prototype.track = function (Y) {
        var S = new _(P.E.$_, !0);
        S.data = Y;
        Y.Zz = !0;
        this.Su.B(S)
    }
        ;
    cU.History = function () {
        cU.Br.call(this, U.Sb);
        this.BI = !0;
        this.a4R = 0
    }
        ;
    cU.History.prototype = new cU.Br;
    cU.History.prototype.ON = function (Y, S, h, q) {
        h.P7 = !0;
        if (Y.X == "h_itemchange") {
            if (Y.index < h.Zj)
                for (var G = h.Zj; G > Y.index; G--)
                    this.kp(h);
            if (Y.index > h.Zj)
                for (var G = h.Zj; G < Y.index; G++)
                    this.oq(h)
        }
        if (Y.X == "h_stepfwd")
            this.oq(h);
        if (Y.X == "h_stepbck")
            this.kp(h);
        if (Y.X == "h_undoredo") {
            var H = this.BI || this.a4R != h.Zj;
            if (H) {
                this.kp(h);
                H = !1
            } else {
                this.oq(h);
                H = !0
            }
            this.BI = H;
            this.a4R = h.Zj
        } else
            this.BI = !0
    }
        ;
    cU.History.prototype.kp = function (Y) {
        if (Y.Zj == 0)
            return;
        var S = Y.history[Y.Zj];
        S.F.Td(S.data, Y);
        Y.Zj--
    }
        ;
    cU.History.prototype.oq = function (Y) {
        if (Y.Zj == Y.history.length - 1)
            return;
        var S = Y.history[Y.Zj + 1];
        S.F.RV(S.data, Y);
        Y.Zj++
    }
        ;
    cU.sC = function () {
        cU.Br.call(this, U.GC);
        this.Su = null
    }
        ;
    cU.sC.prototype = new cU.Br;
    cU.sC.prototype.ON = function (Y, S, h, q, H) {
        debugger
        this.Su = S;
        var I = Y.X
            , E = Y.$ != null ? Y.$ : h.C.length != 0 ? h.C[0] : h.t.length - 1
            , d = h.t[E];
        h.Dn = !0;
        if (I == M.eu && h.N == null)
            I = M.Vo;
        if (I == M.tl) {
            var B = new fj([6, 33], this)
                , n = d.i4() ? ["pass"].concat(iS.LQ) : iS.LQ
                , g = Y.$ != null ? [Y.$] : h.C
                , z = JSON.stringify(g)
                , p = [];
            for (var G = 0; G < g.length; G++)
                p.push(h.t[g[G]].XC);
            B.data = {
                X: I,
                An: z,
                iR: p,
                aq: n[Y.aq]
            };
            h._l(B);
            this.RV(B.data, h);
            this.track(bw.$Y("Md", {
                t: "enum",
                v: {
                    BlnM: iS.Qu[Y.aq]
                }
            }))
        }
        if (I == M.zh) {
            var B, C = h.JK(), g = Y.$ != null ? [Y.$] : h.C, z = JSON.stringify(g);
            if (C && C.data && C.data.X == I && C.data.An == z)
                B = C;
            else {
                var T = bw.$Y("Opct", {
                    t: "UntF",
                    v: {
                        type: "#Prc",
                        val: 0
                    }
                });
                this.track(T);
                var p = [];
                for (var G = 0; G < g.length; G++)
                    p.push(h.t[g[G]].opacity);
                B = new fj([6, 32], this);
                B.data = {
                    X: I,
                    An: z,
                    iR: p,
                    aq: Y.aq,
                    qS: T.Jz
                };
                h._l(B)
            }
            B.data.aq = Y.aq;
            B.data.qS.T.v.Opct.v.val = Math.round(Y.aq * 100 / 255);
            this.RV(B.data, h)
        }
        if (I == M.XJ) {
            if (d.add.iOpa == null)
                d.add.iOpa = 255;
            var B, C = h.JK();
            if (C && C.data && C.data.X == I && C.data.$ == E)
                B = C;
            else {
                B = new fj("Fill Opacity Change", this);
                B.data = {
                    X: I,
                    $: E,
                    iR: d.add.iOpa,
                    aq: Y.aq
                };
                h._l(B)
            }
            B.data.aq = Y.aq;
            this.RV(B.data, h)
        }
        if (I == M.Be) {
            var A = Y.aq, i = Y.$ != null ? [Y.$] : h.C.slice(0), e = [], a = [], B;
            for (var Z = 0; Z < i.length; Z++) {
                var O = h.t[i[Z]];
                if (O.add.lspf == null)
                    O.add.lspf = 0;
                var p = O.add.lspf
                    , c = p;
                for (var G = 0; G < A[0].length; G++) {
                    var s = A[1][G]
                        , x = 1 << s;
                    if ((c & x) == 0 && A[0][G])
                        c ^= x;
                    else if ((c & x) != 0 && !A[0][G])
                        c ^= x
                }
                e.push(p);
                a.push(c)
            }
            var C = h.JK()
                , g = JSON.stringify(i);
            if (C && C.data && C.data.X == I && JSON.stringify(C.data.An) == g) {
                B = C;
                B.data.aq = a
            } else {
                var B = new fj([6, 57, 1], this);
                B.data = {
                    X: I,
                    An: g,
                    iR: e,
                    aq: a
                };
                h._l(B)
            }
            this.RV(B.data, h)
        }
        if (I == M.gE) {
            var u = "----"
                , y = Y.jr
                , c = null;
            for (var G = 0; G < b6.YI.DH.length; G++)
                if (d.add[b6.YI.DH[G]])
                    u = b6.YI.DH[G];
            var j = d.add[u];
            if (y == "TySh")
                c = ap.Hr(50, 50, H.qK);
            var B = new fj("Layer Type", this);
            B.data = {
                X: I,
                $: E,
                a1u: [u, j],
                jr: [y, c]
            };
            h._l(B);
            this.RV(B.data, h)
        }
        if (I == M.OU) {
            var i = [];
            if (q.q(F.Gs)) {
                var v = h.JK()
                    , X = v ? v.data : null;
                if (v != null && v.F == this && X.X == M.OU && X.An.length != 1) {
                    var N = new _(P.E.A);
                    N.F = U.Sb;
                    N.data = {
                        X: "h_stepbck"
                    };
                    S.B(N);
                    if (X.$ == E)
                        return
                }
                var V = h.root.TZ(E)
                    , $ = h.rf(null, E);
                while (V.parent != h.root) {
                    $.push(V.parent.index);
                    V = V.parent
                }
                for (var G = 0; G < h.t.length; G++) {
                    var w = h.t[G]
                        , m = w.yj()
                        , l = $.indexOf(G) != -1;
                    if (!l && m)
                        i.push(G);
                    if (G == E && !m)
                        i.push(G)
                }
            } else {
                i.push(E);
                var m = h.t[E].yj()
                    , T = {
                        f0: m ? "hide" : "show",
                        Jz: {
                            classID: m ? "Hd" : "Shw",
                            null: {
                                t: "VlLs",
                                v: [bw.wC("Lyr", !0)]
                            }
                        }
                    };
                this.track(T)
            }
            var B = new fj("Layer visibility", this, !0);
            B.data = {
                X: I,
                An: i,
                $: E
            };
            h._l(B);
            this.RV(B.data, h)
        }
        if (I == M.QJ) {
            var T = {
                f0: "select",
                Jz: {
                    classID: "null",
                    MkVs: {
                        t: "bool",
                        v: !1
                    }
                }
            }, b, escape = !1;
            if (h.z.L5.join("") != "111") {
                h.z.L5 = [1, 1, 1];
                h.Yw = !0
            }
            if (q.q(F.EO) || Y.a0y == 0) {
                var K = h.C.indexOf(E);
                if (K == -1)
                    h.C.push(E);
                else if (h.C.length > 1)
                    h.C.splice(K, 1);
                h.C.sort(function (B, dk) {
                    return B - dk
                });
                T.Jz.selectionModifier = {
                    t: "enum",
                    v: {
                        selectionModifierType: "addToSelection"
                    }
                };
                b = E
            } else if (q.q(F.aY) && !q.q(F.Gs) && Y.md > 0) {
                I = Y.md == 1 ? M.XG : Y.md == 2 ? M.bq : M.O7;
                escape = !0
            } else if ((q.q(F.aY) || Y.a0y == 1) && h.C.length > 0) {
                var J = Math.min(E, h.C[0])
                    , R = Math.max(E, h.C[h.C.length - 1]);
                h.C = [];
                for (var G = J; G <= R; G++)
                    if (h.t[G].add.lsct != hg._q)
                        h.C.push(G);
                T.Jz.selectionModifier = {
                    t: "enum",
                    v: {
                        selectionModifierType: "addToSelectionContinuous"
                    }
                };
                b = E
            } else {
                b = E;
                var w = h.t[E];
                if (w && w.i4() && Y.akE)
                    w.add.lsct = hg.fC;
                else if (h.C.length == 1 && h.C[0] == E && Y.md == w.wF) {
                    return
                }
                h.C = [E];
                h.QQ()
            }
            if (b != null && b < h.t.length) {
                T.Jz.null = {
                    t: "obj ",
                    v: [{
                        t: "name",
                        v: {
                            classID: "Lyr",
                            val: h.t[b].getName()
                        }
                    }]
                },
                    this.track(T)
            }
            if (!escape) {
                if (h.C.length == 1) {
                    var r = h.C[0];
                    for (var G = 0; G < h.t.length; G++) {
                        if (G == r)
                            continue;
                        var O = h.t[G];
                        O.wF = 0;
                        O.cI = !1
                    }
                    var d = h.t[r];
                    if (Y.md == 2) {
                        d.cI = !d.cI;
                        h.IO = []
                    } else if (d) {
                        d.wF = Y.md <= 0 ? 0 : Y.md;
                        if (Y.md == 1 || Y.md == 3) {
                            var f = Y.md == 3 ? d.$l(h).r : d.Qn();
                            f.Qb = !1
                        }
                    }
                } else
                    for (var G = 0; G < h.t.length; G++) {
                        var O = h.t[G];
                        O.wF = 0;
                        O.cI = !1
                    }
                h.Fj = null;
                h.P7 = !0
            }
        }
        if (I == M.XG || I == M.O7) {
            var gf = I == M.XG
                , f = gf ? d.Qn() : d.$l(h).r;
            if (f == null)
                return;
            var B = new fj(f.isEnabled ? gf ? [6, 15] : [6, 42] : gf ? [6, 14] : [6, 41], this);
            B.data = {
                X: I,
                $: E
            };
            h._l(B);
            this.RV(B.data, h)
        }
        if (I == M.bq) {
            var f = d.add.vmsk;
            if (f == null)
                return;
            var B = new fj(f.isEnabled ? [6, 17] : [6, 16], this);
            B.data = {
                X: I,
                $: E
            };
            h._l(B);
            this.RV(B.data, h)
        }
        if (I == M.dA) {
            var aa = d.add.lsct == hg.fC ? hg.N4 : hg.fC;
            if (q.q(F.EO)) {
                var aA = h.root.TZ(h.t.indexOf(d)).parent;
                for (var G = 0; G < aA.children.length; G++) {
                    var e5 = aA.children[G].$;
                    if (e5.i4())
                        e5.add.lsct = aa
                }
            } else
                d.add.lsct = aa;
            h.P7 = !0
        }
        if (I == M.JA) {
            if (!h.Hj(E))
                return;
            var B = new fj(d.f6 ? [6, 19] : [6, 18], this);
            B.data = {
                X: I,
                $: E
            };
            h._l(B);
            if (Y.aq == null || Y.aq != d.f6)
                this.RV(B.data, h);
            this.track({
                f0: "groupEvent",
                Jz: {
                    classID: "GrpL",
                    null: {
                        t: "obj ",
                        v: [bw.wC("Lyr", !0)]
                    }
                }
            })
        }
        if (I == M.fI) {
            if (d.yc())
                d.xa -= 32;
            else
                d.xa += 32;
            h.P7 = !0
        }
        if (I == M.gy || I == M.uT) {
            var B;
            if (I == M.gy)
                B = new fj(d.add.lmfx.masterFXSwitch.v ? [6, 30] : [6, 29], this);
            if (I == M.uT)
                B = new fj(d.add.SoLd.filterFX.v.enab.v ? [6, 44] : [6, 43], this);
            B.data = {
                X: I,
                $: E
            };
            h._l(B);
            this.RV(B.data, h)
        }
        if (I == M.N3 || I == M.M_) {
            var r = Y.index, B;
            if (I == M.N3)
                B = new fj(d.add.lmfx[ai.m6[r[0]]].v[r[1]].v.enab.v ? [6, 30] : [6, 29], this);
            if (I == M.M_)
                B = new fj(d.add.SoLd.filterFX.v.filterFXList.v[r].v.enab.v ? [6, 44] : [6, 43], this);
            B.data = {
                X: I,
                $: E,
                index: Y.index
            };
            h._l(B);
            this.RV(B.data, h)
        }
        if (I == M.vb) {
            if (Y.src == Y.b3)
                return;
            var fk = h.t[Y.src]
                , o = h.t[Y.b3]
                , eY = fk.add.lmfx ? JSON.stringify(fk.add.lmfx) : ""
                , du = o.add.lmfx ? JSON.stringify(o.add.lmfx) : "";
            if (o.add.lmfx == null) {
                o.add.lmfx = JSON.parse(ai.default);
                for (var G = 0; G < ai.order.length; G++)
                    o.add.lmfx[ai.m6[G]] = {
                        t: "VlLs",
                        v: []
                    }
            }
            if (Y.Gp == null) {
                o.add.lmfx = JSON.parse(eY);
                if (!Y.lW)
                    delete fk.add.lmfx
            } else {
                var dV = Y.Gp[0]
                    , hy = ai.m6[dV];
                if (ai.Bz.indexOf(ai.order[dV]) == -1)
                    o.add.lmfx[hy].v = [];
                o.add.lmfx[hy].v.push(fk.add.lmfx[hy].v[Y.Gp[1]]);
                if (!Y.lW)
                    fk.add.lmfx[hy].v.splice(Y.Gp[1], 1)
            }
            var bq = fk.add.lmfx ? JSON.stringify(fk.add.lmfx) : ""
                , i5 = o.add.lmfx ? JSON.stringify(o.add.lmfx) : "";
            if (!o.yc())
                o.xa += 32;
            var B = new fj("Move Layer Styles", this);
            B.data = {
                X: I,
                ae2: Y.src,
                a70: Y.b3,
                a9X: eY,
                aiG: du,
                a1X: bq,
                a1v: i5
            };
            h._l(B);
            this.RV(B.data, h)
        }
        if (I == M.so) {
            var O = h.t[Y.src]
                , hX = JSON.stringify(O.add.SoLd)
                , bY = JSON.parse(hX)
                , ds = bY.filterFX.v.filterFXList.v;
            ds.splice(Y.Gp, 1);
            var B = new fj([6, 53], this);
            B.data = {
                X: M._h,
                q_: [{
                    oK: Y.src,
                    xB: [hX, JSON.stringify(bY)]
                }]
            };
            h._l(B);
            this.RV(B.data, h)
        }
        if (I == M.fA) {
            var fk = h.t[Y.src]
                , o = h.t[Y.b3]
                , hV = [];
            if (fk != o && o.add.SoLd == null) {
                alert("Target layer is not a smart object!");
                return
            }
            if (fk == o && !Y.lW && (Y.Gp == Y.Rf || Y.Gp == -1))
                return;
            var gF = fk.$l(h)
                , hX = JSON.stringify(fk.add.SoLd)
                , bY = JSON.parse(hX)
                , ds = bY.filterFX.v.filterFXList.v;
            if (fk == o) {
                ds.splice(Y.Rf, 0, ds[Y.Gp]);
                if (!Y.lW)
                    ds.splice(Y.Gp + (Y.Gp < Y.Rf ? 0 : 1), 1);
                hV.push({
                    oK: Y.src,
                    xB: [hX, JSON.stringify(bY)]
                })
            } else if (Y.Gp == -1) {
                var co = bY.filterFX;
                if (!Y.lW) {
                    delete bY.filterFX;
                    hV.push({
                        oK: Y.src,
                        xB: [hX, JSON.stringify(bY)],
                        OB: [gF, null]
                    })
                }
                var a5 = o.ef() ? o.$l(h) : null
                    , gb = dh.zi(gF)
                    , iC = JSON.stringify(o.add.SoLd)
                    , cC = JSON.parse(iC);
                cC.placed.v = gb.id;
                cC.filterFX = co;
                hV.push({
                    oK: Y.b3,
                    xB: [iC, JSON.stringify(cC)],
                    OB: [a5, gb]
                })
            } else {
                var aB = ds[Y.Gp];
                if (!Y.lW) {
                    ds.splice(Y.Gp, 1);
                    hV.push({
                        oK: Y.src,
                        xB: [hX, JSON.stringify(bY)]
                    })
                }
                var iC = JSON.stringify(o.add.SoLd)
                    , cC = JSON.parse(iC);
                if (cC.filterFX == null)
                    cC.filterFX = io.JP();
                var cd = cC.filterFX.v.filterFXList.v;
                cd.splice(Y.Rf, 0, aB);
                var dZ = {
                    oK: Y.b3,
                    xB: [iC, JSON.stringify(cC)]
                };
                if (!o.ef()) {
                    var gb = dh.D6(o.add.SoLd.placed.v);
                    dZ.OB = [null, gb]
                }
                hV.push(dZ)
            }
            var B = new fj([6, 52], this);
            B.data = {
                X: M._h,
                q_: hV
            };
            h._l(B);
            this.RV(B.data, h)
        }
        if (I == M.bE) {
            var f = d.Qn()
                , B = new fj(f.Pa ? [6, 26] : [6, 25], this);
            B.data = {
                X: I,
                $: E
            };
            h._l(B);
            this.RV(B.data, h);
            this.track({
                f0: "set",
                Jz: {
                    classID: "setd",
                    null: {
                        t: "obj ",
                        v: [bw.wC("Lyr", !0)]
                    },
                    T: {
                        t: "Objc",
                        v: {
                            classID: "Lyr",
                            Usrs: {
                                t: "bool",
                                v: f.Pa
                            }
                        }
                    }
                }
            })
        }
        if (I == M.sa) {
            var f = d.add.vmsk
                , B = new fj(f.Pa ? [6, 28] : [6, 27], this);
            B.data = {
                X: I,
                $: E
            };
            h._l(B);
            this.RV(B.data, h)
        }
        if (I == M._5) {
            var en = [], B;
            for (var G = 0; G < h.C.length; G++) {
                var Z = h.C[G]
                    , w = h.t[Z];
                if (w.add.vogk)
                    en.push(Z, JSON.stringify(w.add.vogk))
            }
            for (var G = 0; G < h.IO.length; G++) {
                var Z = h.IO[G]
                    , w = h._b[Z];
                if (w.add.vogk)
                    en.push(-1 - Z, JSON.stringify(w.add.vogk))
            }
            t.tx.a0H(h, Y.MK, Y.ao7);
            var cD = [];
            for (var G = 0; G < h.C.length; G++) {
                var Z = h.C[G]
                    , w = h.t[Z];
                if (w.add.vogk)
                    cD.push(Z, JSON.stringify(w.add.vogk))
            }
            for (var G = 0; G < h.IO.length; G++) {
                var Z = h.IO[G]
                    , w = h._b[Z];
                if (w.add.vogk)
                    cD.push(-1 - Z, JSON.stringify(w.add.vogk))
            }
            var C = h.JK();
            if (C && C.data && C.data.X == I) {
                var hP = !0;
                for (var G = 0; G < en.length; G += 2)
                    if (en[G] != C.data.Hs[G])
                        hP = !1;
                if (hP) {
                    B = C;
                    B.data.aw = cD
                }
            }
            if (B == null) {
                var B = new fj([12, 91, 1], this);
                B.data = {
                    X: I,
                    Hs: en,
                    aw: cD
                };
                h._l(B)
            }
            this.RV(B.data, h)
        }
        if (I == M.Pi) {
            var B, C = h.JK();
            if (C && C.data && C.data.X == I && C.data.$ == E) {
                B = C;
                B.data.al = JSON.stringify(Y.al)
            }
            if (B == null) {
                var B = new fj("Editing Artboard", this);
                B.data = {
                    X: I,
                    $: E,
                    ab9: JSON.stringify(d.add.artb),
                    al: JSON.stringify(Y.al)
                };
                h._l(B)
            }
            this.RV(B.data, h)
        }
        if (I == M.i2) {
            var cD = h.h3.slice(0)
                , ea = h.AN.slice(0)
                , fp = h.N
                , bC = h.N;
            if (Y.Wg == "fromAction") {
                var hG = Y.G.f0
                    , b3 = Y.G.Jz;
                if (hG == "make" || hG == "duplicate") {
                    var ct = cD.length
                        , cj = !1
                        , fJ = !1;
                    if (h.ns())
                        ct--;
                    var fQ = new M.WB;
                    fQ.name = "Alpha " + (ct + 1);
                    if (hG == "make") {
                        var cM = b3.Nw.v;
                        fQ.color = 255;
                        ea = [ct];
                        fQ.Qb = !0;
                        fQ.Sr = cM.Opct.v;
                        if (cM.Nm)
                            fQ.name = cM.Nm.v;
                        if (cM.classID == "SCch") {
                            cj = !0;
                            bC = null;
                            fQ.I7 = 1
                        }
                    } else {
                        var cc = b3.null.v[0].v;
                        if (cc.keyID == "fsel")
                            cj = !0;
                        else {
                            var cr = U.Q_.i7(h);
                            bC = U.Q_.d3(h, cr);
                            fQ.color = 0;
                            fQ.rect = bC.rect;
                            fQ.channel = bC.channel
                        }
                    }
                    if (cj) {
                        fQ.color = 0;
                        if (h.N) {
                            fQ.rect = h.N.rect.clone();
                            fQ.channel = h.N.channel.slice(0)
                        }
                        if (fJ) {
                            fQ.color = 255 - fQ.color;
                            t.fb(fQ.channel)
                        }
                    }
                    cD.splice(ct, 0, fQ)
                } else if (hG == "delete") {
                    var $ = h.AN;
                    $.sort(function (B, dk) {
                        return dk - B
                    });
                    if ($.length == 0)
                        return;
                    for (var G = 0; G < $.length; G++)
                        cD.splice($[G], 1);
                    ea = []
                } else if (hG == "hide") {
                    cD[ea[0]] = cD[ea[0]].clone();
                    cD[ea[0]].Qb = !1
                }
            }
            if (Y.Wg == "rnm") {
                cD[Y.Y8] = cD[Y.Y8].clone();
                cD[Y.Y8].name = Y.name
            }
            var B = new fj("Channel Edit", this);
            B.data = {
                X: I,
                Hs: h.h3.slice(0),
                q6: h.AN.slice(0),
                aw: cD,
                RG: ea,
                ez: fp,
                nI: bC
            };
            this.RV(B.data, h);
            h._l(B)
        }
        if (I == M.BO) {
            var B = new fj(Y.vc, this);
            B.data = {
                X: M.BO,
                T4: h.t.slice(0),
                PF: Y.PF,
                e2: h.C.slice(0),
                _Q: Y.nI
            };
            h._l(B);
            this.RV(B.data, h)
        }
        if (I == M.Yn) {
            var bZ = h.rf(null, Y.$)
                , gL = 1e10;
            if (bZ.length == 0)
                return;
            if (h.t.length == bZ.length) {
                alert("Project must have at least 1 layer");
                return
            }
            var eb = [];
            for (var G = 0; G < h.t.length; G++)
                if (bZ.indexOf(G) == -1)
                    eb.push(h.t[G]);
            for (var G = 0; G < bZ.length; G++)
                gL = Math.min(gL, bZ[G]);
            gL = Math.max(gL - 1, 0);
            while (eb[gL].name == "</Layer group>")
                gL++;
            this.track({
                f0: "delete",
                Jz: {
                    classID: "Dlt",
                    null: bw.wC("Lyr", !0)
                }
            });
            var B = new fj([6, 31], this);
            B.data = {
                X: M.BO,
                T4: h.t.slice(0),
                PF: eb,
                e2: h.C.slice(0),
                _Q: [gL]
            };
            h._l(B);
            this.RV(B.data, h)
        }
        if (I == M.CH) {
            var $ = Y.a6_ ? Y.a6_ : h.C
                , fn = 0
                , ej = !1;
            if ($.length == 0)
                return;
            if ($.length == 1 && h.t[$[0]].BN == 0) {
                alert(gx.get([15, 7, 5]));
                return
            }
            var aq = [];
            for (var G = 0; G < h.t.length; G++) {
                var di = h.t[G].BN;
                aq.push(di);
                fn = Math.max(fn, di)
            }
            var cn = -1
                , aj = -1;
            for (var G = 0; G < $.length; G++) {
                var di = h.t[$[G]].BN;
                if (di == 0)
                    ej = !0;
                else if (cn == -1 || cn == di)
                    cn = di;
                else
                    aj = di
            }
            if (!ej)
                for (var G = 0; G < $.length; G++)
                    h.t[$[G]].BN = 0;
            else if (cn != -1 && aj == -1)
                for (var G = 0; G < $.length; G++)
                    h.t[$[G]].BN = cn;
            else
                for (var G = 0; G < $.length; G++)
                    h.t[$[G]].BN = fn + 1;
            var a6 = [];
            for (var G = 0; G < h.t.length; G++) {
                var di = h.t[G].BN;
                if (a6[di] == null)
                    a6[di] = 0;
                a6[di]++
            }
            for (var G = 0; G < h.t.length; G++) {
                var di = h.t[G].BN;
                if (a6[di] == 1)
                    h.t[G].BN = 0
            }
            var hJ = aq;
            aq = [];
            for (var G = 0; G < h.t.length; G++) {
                var di = h.t[G].BN;
                aq.push(di);
                fn = Math.max(fn, di)
            }
            var B = new fj(ej ? [6, 54, 0] : [6, 54, 1], this);
            B.data = {
                X: M.CH,
                a0r: hJ,
                aft: aq
            };
            h._l(B);
            this.RV(B.data, h)
        }
        if (I == M.Vo && (Y.$ != null || h.C.length != 0) || I == M.Ix) {
            var dv = h.LL(I == M.Vo ? Y.$ : E, null, Y.akN);
            if (I == M.Ix) {
                var O = dv[0]
                    , hG = O.add.SoLd.Idnt.v
                    , bi = h.Al(hG).clone();
                O.add.SoLd.Idnt.v = bi._z = dh.$C() + hG.slice(8);
                h.add.lnk2.push(bi)
            }
            if (I == M.Vo) {
                var cT = {
                    f0: "duplicate",
                    Jz: {
                        classID: "null",
                        null: bw.wC("Lyr", !0)
                    }
                };
                if (Y.Tk) {
                    dv[0].wN(Y.Tk);
                    cT.Nm = {
                        t: "TEXT",
                        v: Y.Tk
                    }
                }
                this.track(cT);
                Y.alf = Y.$
            }
            I = M.H0;
            Y.t = dv;
            Y.e5 = h;
            Y.bR = h
        }
        if (I == M.H0) {
            var cO, bD, hS = Y.e5, fi = Y.bR;
            if (hS != fi) {
                console.log("ADDLAYERS different projs");
                var cO = new W(0, 0, hS.d, hS.v)
                    , bD = new W(0, 0, fi.d, fi.v)
                    , em = []
                    , gA = [];
                for (var G = 0; G < Y.t.length; G++) {
                    var O = Y.t[G];
                    if (O.add.SoLd == null)
                        continue;
                    var hG = O.add.SoLd.Idnt.v;
                    if (em.indexOf(hG) == -1) {
                        em.push(hG);
                        gA.push(dh.$C() + hG.slice(8))
                    }
                    O.add.SoLd.Idnt.v = gA[em.indexOf(hG)];
                    var gF = O.$l(hS);
                    if (gF) {
                        hS.Yh(gF);
                        fi.Af(gF)
                    }
                }
                if (em.length > 0) {
                    if (fi.add.lnk2 == null)
                        fi.add.lnk2 = [];
                    for (var G = 0; G < em.length; G++) {
                        var aK = hS.Al(em[G])
                            , bi = aK.clone();
                        bi._z = gA[G];
                        fi.add.lnk2.push(bi)
                    }
                }
            }
            var fp = fi.C.slice(0);
            fp.sort(function (B, dk) {
                return B - dk
            });
            var eb = fi.t.slice(0)
                , bC = []
                , bR = -1;
            for (var G = 0; G < fp.length; G++)
                bR = Math.max(bR, fp[G]);
            if (Y.alf != null)
                bR = Y.alf;
            bR++;
            for (var G = 0; G < Y.t.length; G++) {
                var w = Y.t[G];
                eb.splice(bR, 0, w);
                bC.push(bR);
                bR++
            }
            if (Y.t[Y.t.length - 1].i4())
                bC = [bR - 1];
            var B = new fj([6, 0], this);
            B.data = {
                X: M.BO,
                T4: fi.t.slice(0),
                PF: eb,
                e2: fp,
                _Q: bC
            };
            fi._l(B);
            this.RV(B.data, fi)
        }
        if (I == M.Ny) {
            var aP = Y.$ != null ? [Y.$] : h.rf()
                , eb = h.t.slice(0);
            for (var G = 0; G < aP.length; G++) {
                var w = h.t[aP[G]].clone();
                w.xH(h);
                eb.splice(aP[G], 1, w)
            }
            var B = new fj([6, 8], this);
            B.data = {
                X: M.BO,
                T4: h.t.slice(0),
                PF: eb,
                e2: h.C.slice(0),
                _Q: h.C.slice(0)
            };
            h._l(B);
            this.RV(B.data, h)
        }
        if (I == M.o2) {
            var eb = h.t.slice(0)
                , w = eb[h.C[0]] = eb[h.C[0]].clone()
                , al = w.add.lmfx
                , hn = 0;
            delete w.add.lmfx;
            var d6 = t.m(w.rect.e());
            t.Ft(w.buffer, d6, 3);
            var hx = av.wb(al, null, d6, w.rect, h, w.rect).type;
            for (var G = 0; G < ai.order.length; G++) {
                var fX = ai.order[G]
                    , d1 = hx[fX]
                    , h$ = G > 7;
                for (var f9 = 0; f9 < d1.length; f9++) {
                    var e6 = d1[f9]
                        , g = h.rY();
                    g.XC = e6.D4;
                    g.opacity = Math.round(255 * e6.wn);
                    g.f6 = !h$;
                    g.buffer = e6.nP;
                    g.rect = e6.sE;
                    g.rect.offset(w.rect.x, w.rect.y);
                    g.wN(w.getName() + "'s " + gx.get(ai.names[G]));
                    eb.splice(h.C[0] + (h$ ? 0 : 1), 0, g);
                    if (h$)
                        hn++
                }
            }
            var B = new fj("Styles to Layers", this);
            B.data = {
                X: M.BO,
                T4: h.t.slice(0),
                PF: eb,
                e2: h.C.slice(0),
                _Q: [h.C[0] + hn]
            };
            h._l(B);
            this.RV(B.data, h)
        }
        if (I == M.hb) {
            var aP = h.rf()
                , eb = h.t.slice(0)
                , cy = new W(0, 0, h.d, h.v);
            for (var G = 0; G < aP.length; G++) {
                var cN = h.t[aP[G]]
                    , gZ = cN.yj();
                cN.yR(!0);
                var el = h.root.TZ(aP[G]);
                if (cN.i4())
                    continue;
                if (el == null)
                    continue;
                var w = cN.clone();
                w.xH(h);
                var cx = el.i6(h, !0)
                    , gu = h.t;
                h.HT([cN]);
                h.s();
                h.aj();
                w.buffer = t.m(cx.e() * 4);
                t.rd(h.Q3(), cy, w.buffer, cx);
                w.rect = cx;
                w.opacity = 255;
                w.add.iOpa = 255;
                w.XC = "norm";
                w.s();
                w.V.H4 = !0;
                h.HT(gu);
                if (w.add.lmfx)
                    delete w.add.lmfx;
                w.r = w.sK = null;
                eb.splice(aP[G], 1, w);
                w.yR(gZ);
                cN.yR(gZ)
            }
            var B = new fj([6, 34], this);
            B.data = {
                X: M.BO,
                T4: h.t.slice(0),
                PF: eb,
                e2: h.C.slice(0),
                _Q: h.C.slice(0)
            };
            h._l(B);
            this.RV(B.data, h)
        }
        if (I == M.w9) {
            var aP = h.rf()
                , eb = h.t.slice(0);
            for (var G = 0; G < aP.length; G++) {
                var w = h.t[aP[G]]
                    , i7 = w.add.TySh;
                if (i7 == null)
                    continue;
                var O = new cm(i7.lV, H.Z7)
                    , gK = t.a.eD(gd.Ht(O, i7));
                for (var dp in gK) {
                    var fg = gK[dp]
                        , e5 = w.clone();
                    delete e5.add.TySh;
                    e5.xa = e5.xa | 1 << 4;
                    e5.add.SoCo = JSON.parse(JSON.stringify(ai.DD[0]));
                    var dS = e5.add.SoCo.Clr.v;
                    dS.Rd.v = parseInt(dp.slice(1, 3), 16);
                    dS.Grn.v = parseInt(dp.slice(3, 5), 16);
                    dS.Bl.v = parseInt(dp.slice(5, 7), 16);
                    var ii = new M.cJ;
                    ii.b = t.a.QG(fg, !1);
                    if (e5.add.vmsk != null) {
                        e5.add.vmsk.aer();
                        ii.concat(e5.add.vmsk)
                    }
                    debugger
                    e5.add.vmsk = ii;
                    e5.add.vstk = JSON.parse(JSON.stringify(ai.Ig.default));
                    e5.Ir();
                    e5._A(h);
                    eb.splice(eb.indexOf(w), 0, e5)
                }
                eb.splice(eb.indexOf(w), 1)
            }
            var bC = h.C.slice(0);
            for (var G = bC.length - 1; G >= 0; G--)
                if (bC[G] >= eb.length)
                    bC.splice(G, 1);
            var B = new fj([6, 40], this);
            B.data = {
                X: M.BO,
                T4: h.t.slice(0),
                PF: eb,
                e2: h.C.slice(0),
                _Q: bC
            };
            h._l(B);
            this.RV(B.data, h)
        }
        if (I == M.G6) {
            var hK = h.C.length;
            if (hK < 2) {
                alert("Select two or more layers.");
                return
            }
            if (!h.M1())
                return;
            var e5 = h.t[h.C[0]].clone()
                , eb = [];
            for (var G = 0; G < h.t.length; G++)
                if (h.C.indexOf(G) == -1)
                    eb.push(h.t[G]);
            eb.splice(h.C[0], 0, e5);
            for (var G = 1; G < hK; G++)
                if (h.t[h.C[G]].rect.e() > 2e6) {
                    alert("Blended areas are too large.");
                    return
                }
            for (var G = 1; G < hK; G++) {
                var w = h.t[h.C[G]]
                    , ah = w.rect.clone();
                ah.vo(1, 1);
                var dk = t.m(ah.e() * 4);
                t.rd(w.buffer, w.rect, dk, ah);
                e5.extend(ah);
                var dC = t.m(ah.e() * 4);
                t.rd(e5.buffer, e5.rect, dC, ah);
                var B = t.m(ah.e());
                t.Ft(dk, B, 3);
                t.round(B, 200);
                t.Vj(B, dk, 3);
                t.Q.Bc("norm", dk, ah, dC, ah, ah, 1);
                t.m5.nK(dC, B, ah);
                t.rd(dC, ah, e5.buffer, e5.rect)
            }
            var B = new fj([2, 10, 0], this);
            B.data = {
                X: M.BO,
                T4: h.t.slice(0),
                PF: eb,
                e2: h.C.slice(0),
                _Q: [h.C[0]]
            };
            h._l(B);
            this.RV(B.data, h)
        }
        if (I == M.hS) {
            var eb = h.t.slice(0)
                , ea = h.C.slice(0);
            for (var G = 0; G < eb.length; G++) {
                var w = eb[G]
                    , bI = w.add.vmsk;
                if (w.uy() && bI && w.add.vstk.strokeEnabled.v && !w.add.vstk.fillEnabled.v) {
                    var hu = bI.b
                        , i3 = 0
                        , bP = -1;
                    for (var f9 = 0; f9 < hu.length; f9++) {
                        if ((hu[f9].type == 0 || hu[f9].type == 3) && hu[f9].Mg != -1) {
                            i3++;
                            if (hu[f9].type == 3 && bP == -1) {
                                hu[f9].rq = hu[f9].Mg = 1;
                                bP = f9
                            }
                        }
                    }
                    if (i3 > 1 && bP != -1) {
                        console.log("separating an open path into a new layer");
                        w = w.clone();
                        bI = w.add.vmsk;
                        hu = bI.b;
                        var g = hu[bP].length
                            , gi = w.clone();
                        gi.add.lyid = h.dL();
                        bI.b = hu.slice(0, 2).concat(hu.slice(bP, bP + g + 1));
                        bI.C = [];
                        w._A(h);
                        w.s();
                        var eG = gi.add.vmsk.b;
                        gi.add.vmsk.b = eG.slice(0, bP).concat(eG.slice(bP + g + 1, eG.length));
                        gi.add.vmsk.C = [];
                        gi._A(h);
                        eb[G] = w;
                        eb.splice(G + 1, 0, gi);
                        for (var f9 = 0; f9 < ea.length; f9++)
                            if (ea[f9] > G)
                                ea[f9]++;
                        var hY = ea.indexOf(G);
                        if (hY != -1) {
                            ea.splice(hY + 1, 0, G + 1)
                        }
                    }
                }
            }
            if (eb.length != h.t.length) {
                var B = new fj("Splitting open paths", this);
                B.data = {
                    X: M.BO,
                    T4: h.t.slice(0),
                    PF: eb,
                    e2: h.C.slice(0),
                    _Q: ea
                };
                h._l(B);
                this.RV(B.data, h)
            }
        }
        if (I == M.DJ) {
            debugger
            this.ON({
                X: M.hS
            }, S, h, q, H);
            var fp = h.C.slice(0)
                , gu = h.t.slice(0)
                , aP = h.rf();
            if (aP.length == 0)
                return;
            h.my(aP, !1, Y.Wo);
            var B = new fj([6, 36, 0], this);
            B.data = {
                X: M.BO,
                T4: gu,
                PF: h.t.slice(),
                e2: fp,
                _Q: h.C.slice(0)
            };
            h._l(B);
            this.RV(B.data, h)
        }
        if (I == M.Nt) {
            var hX = d.add.SoLd;
            if (hX == null)
                return;
            var hG = hX.Idnt.v
                , a3 = h.Al(hG);
            a3.Q3(!1);
            var cf = a3.aE[0]
                , ah = a3.aE[1];
            if (t.eM(cf)) {
                alert("The smart object contains transparency.");
                return
            }
            var h5 = eD.Oh("jpg").rr([[cf.buffer]], ah.d, ah.v, [90]);
            debugger
            this.ON({
                X: M.ED,
                n3: h,
                data: new Uint8Array(h5),
                id: hG,
                Wo: "jpg"
            }, S, h, q, H);
            console.log(h.add);
            return
        }
        if (I == M.ED) {
            var aK = Y.n3.Al(Y.id)
                , bi = aK.clone();
            bi.raw = Y.data;
            if (Y.Wo) {
                bi.kf = "    ";
                bi.zH = "    ";
                bi.hg = bi.hg + "." + Y.Wo
            } else {
                bi.kf = "8BIM";
                bi.zH = "8BPB";
                bi.hg = bi.hg + ".psd"
            }
            bi.Q3(!1);
            aK.Q3(!1);
            var B = new fj([6, 36, 1], this);
            B.data = {
                X: M.ED,
                id: Y.id,
                og: aK,
                ap: bi
            };
            Y.n3._l(B);
            this.RV(B.data, Y.n3)
        }
        if (I == M.Cx) {
            var B = new fj([6, 36, 4], this);
            B.data = {
                X: I,
                $: E,
                IJ: d.add.SoLd.Impr.v.classID,
                aq: Y.aq
            };
            h._l(B);
            this.RV(B.data, h)
        }
        if (I == M.Kb) {
            var gX, bf;
            if (Y.ft) {
                gX = Y.n3;
                bf = Y.ft
            } else {
                Y.n3.Ko();
                Y.n3.gQ();
                Y.n3.s();
                Y.n3.aj();
                Y.n3.Q3();
                gX = eD.Oh("PSD").rr(Y.n3, 0, 0, [!0, !0]);
                bf = Y.n3.name
            }
            if (!(gX instanceof ArrayBuffer))
                throw "e";
            gX = new Uint8Array(gX);
            var K = Y.Pq != null ? Y.Pq : h.C[h.C.length - 1] + 1
                , ck = h.IC(gX, bf, 0, 0, !0)
                , eb = h.t.slice(0);
            eb.splice(K, 0, ck);
            var B = new fj([6, 36, 2], this);
            B.data = {
                X: M.BO,
                T4: h.t.slice(),
                PF: eb,
                e2: h.C.slice(0),
                _Q: [eb.indexOf(ck)]
            };
            h._l(B);
            this.RV(B.data, h)
        }
        if (I == M.YD && Y.Wg == "merge") {
            var bk = []
                , fY = h.root.children
                , eF = 0;
            for (var G = 0; G < fY.length; G++) {
                var V = fY[G]
                    , w = V.$
                    , eB = V.children
                    , dL = !0;
                if (!w.i4() || eB.length == 0)
                    continue;
                for (var f9 = 0; f9 < eB.length; f9++)
                    if (!eB[f9].$.getName().startsWith("_a_")) {
                        dL = !1;
                        break
                    }
                if (dL)
                    bk.push(h.t.indexOf(w))
            }
            var g$ = [];
            for (var G = 0; G < bk.length; G++)
                if (h.C.indexOf(bk[G]) != -1)
                    g$.push(bk[G]);
            if (g$.length >= 2)
                bk = g$;
            if (bk.length < 2) {
                alert("At least two animation folders needed (whose layers start with \"_a_\").", 3500);
                return
            }
            var hO = [];
            for (var G = 0; G < bk.length; G++)
                hO.push(h.t[bk[G]].getName());
            var d1 = [];
            for (var fe = 0; fe < bk.length; fe++) {
                var V = h.root.TZ(bk[fe])
                    , dZ = [[], [], 0, fe];
                d1.push(dZ);
                for (var G = 0; G < V.children.length; G++) {
                    var Z = V.children[G].index
                        , w = V.children[G].$
                        , fQ = w.getName()
                        , f6 = 20
                        , gq = fQ.split(",");
                    if (gq.length > 1) {
                        var it = parseInt(gq.pop());
                        if (!isNaN(it) && it != 0)
                            f6 = it
                    }
                    dZ[0].push(w);
                    dZ[1].push(f6);
                    dZ[2] += f6
                }
            }
            d1.sort(function (B, dk) {
                return dk[2] - B[2]
            });
            var gW = d1[0]
                , cY = gW[2];
            for (var ak = 1; ak < d1.length; ak++) {
                var dZ = d1[ak]
                    , a2 = 1
                    , bA = dZ[1].slice(0)
                    , ag = 0;
                while ((a2 + 1) * dZ[2] <= gW[2]) {
                    a2++;
                    bA = bA.concat(dZ[1])
                }
                dZ[1] = bA;
                dZ[2] *= a2;
                var hz = gW[2] / dZ[2];
                for (var G = 0; G < dZ[1].length; G++) {
                    var iT = Math.floor(dZ[1][G] * hz);
                    dZ[1][G] = iT;
                    ag += iT
                }
                while (ag < cY) {
                    ag++;
                    dZ[1][dZ[1].length - 1]++
                }
                dZ[2] = ag
            }
            var aC = []
                , cK = []
                , iT = [];
            for (var G = 0; G < d1.length; G++) {
                aC.push(0);
                cK.push(0)
            }
            while (eF < cY) {
                var eA = 1e9
                    , ct = -1;
                for (var G = 0; G < d1.length; G++) {
                    var ee = d1[G][1]
                        , is = aC[G];
                    if (is != ee.length && cK[G] + ee[is] < eF + eA) {
                        ct = G;
                        eA = cK[G] + ee[is] - eF
                    }
                }
                cK[ct] += d1[ct][1][aC[ct]];
                aC[ct]++;
                if (eA != 0) {
                    iT.push(eA);
                    eF += eA
                }
            }
            for (var G = 0; G < iT.length; G++) {
                var ik = iT[G]
                    , hH = ik >>> 1;
                if (ik < 17) {
                    var Z = iT.length - 1;
                    if (G == 0)
                        iT[1] += ik;
                    else if (G == iT.length - 1)
                        iT[Z - 1] += ik;
                    else {
                        iT[G - 1] += hH;
                        iT[G + 1] += ik - hH
                    }
                    iT.splice(G, 1);
                    G--
                }
            }
            var gZ = []
                , cy = new W(0, 0, h.d, h.v);
            for (var G = 0; G < h.t.length; G++) {
                gZ[G] = h.t[G].yj();
                h.t[G].yR(!1)
            }
            var hQ = h.C.slice(0);
            h.C = bk;
            var bZ = h.rf();
            bZ.sort(function (B, dk) {
                return B - dk
            });
            var eb = [];
            for (var G = 0; G < h.t.length; G++) {
                if (bZ.indexOf(G) == -1)
                    eb.push(h.t[G])
            }
            d1.sort(function (B, dk) {
                return B[3] - dk[3]
            });
            function h9(ee, eJ) {
                var G = 0
                    , gG = 0;
                while (gG + ee[G] <= eJ) {
                    gG += ee[G];
                    G++
                }
                return G
            }
            eF = 0;
            eb.splice(bZ[0], 0, h.Ue());
            for (var fL = 0; fL < iT.length; fL++) {
                var i = [];
                for (var G = 0; G < d1.length; G++) {
                    var is = h9(d1[G][1], eF) % d1[G][0].length
                        , w = d1[G][0][is];
                    i.push(w)
                }
                var w = h.rY();
                for (var G = 0; G < d1.length; G++) {
                    var hD = i[G]
                        , aA = h.t[bk[G]];
                    hD.yR(!0);
                    aA.yR(!0)
                }
                h.s();
                h.aj();
                var cf = h.Q3();
                w.rect = t.VY(cf, cy);
                w.buffer = t.m(w.rect.e() * 4);
                t.rd(cf, cy, w.buffer, w.rect);
                for (var G = 0; G < d1.length; G++) {
                    var hD = i[G]
                        , aA = h.t[bk[G]];
                    hD.yR(!1);
                    aA.yR(!1)
                }
                w.yR(fL == 0);
                w.wN("_a_frm" + fL + "," + iT[fL]);
                eb.splice(bZ[0] + 1 + fL, 0, w);
                eF += iT[fL]
            }
            var w = h.rY();
            w.wN(hO.join(" + "));
            w.XC = "pass";
            w.add.lsct = hg.N4;
            w.xa = 24;
            eb.splice(bZ[0] + 1 + iT.length, 0, w);
            for (var G = 0; G < h.t.length; G++)
                h.t[G].yR(gZ[G]);
            var B = new fj([6, 12, 0], this);
            B.data = {
                X: M.BO,
                T4: h.t,
                PF: eb,
                e2: hQ,
                _Q: [bZ[0] + 1 + iT.length]
            };
            h._l(B);
            this.RV(B.data, h)
        }
        if (I == M.sn || I == M.zS || I == M.xo) {
            var gu = h.t.slice(0), fp = h.C.slice(0), dA = !0, ck, bC;
            if (I == M.sn)
                h.C = [E, E - 1];
            if (I == M.xo) {
                h.C = [];
                for (var G = 0; G < h.t.length; G++)
                    if (h.t[G].yj())
                        h.C.push(G)
            }
            var aP = h.rf();
            aP.sort(function (B, dk) {
                return B - dk
            });
            var bh = new W
                , cy = new W(0, 0, h.d, h.v);
            for (var G = 0; G < aP.length; G++) {
                var Z = aP[G]
                    , w = h.t[Z];
                dA = dA && w.uy() && w.add.vmsk != null;
                bh = bh.TG(h.root.TZ(Z).i6(h, !0))
            }
            if (dA) {
                ck = h.t[aP[0]].clone();
                var bI = ck.add.vmsk;
                for (var G = 1; G < aP.length; G++) {
                    var g = h.t[aP[G]]
                        , eG = M.cJ.s7(g.add.vmsk.b);
                    bI.b = bI.b.concat(eG.slice(2));
                    ck.add.vogk = ck.add.vogk.concat(JSON.parse(JSON.stringify(g.add.vogk)))
                }
                ck.add.vmsk.Uh = !0;
                ck._A(h)
            } else if (cy.HS(bh)) {
                ck = h.rY();
                ck.wN(h.t[aP[aP.length - 1]].getName());
                ck.rect = bh;
                ck.buffer = t.m(bh.e() * 4);
                var eC = h.Q3(aP);
                t.rd(eC, cy, ck.buffer, bh);
                ck.s()
            } else {
                h.my(aP, !0);
                ck = h.t[h.C[0]];
                h.t.splice(h.C[0], 1);
                var ha = h.Al(ck.add.SoLd.Idnt.v);
                h.add.lnk2.splice(h.add.lnk2.indexOf(ha), 1);
                delete ck.add.SoLd
            }
            var fc = q.q(F.Gs)
                , da = -1;
            if (Y.Jz && Y.Jz.Dplc && Y.Jz.Dplc.v)
                fc = !0;
            if (fc && I == M.xo && h.t[fp[0]].Ac() && h.t[fp[0]].rect.fa()) {
                da = fp[0];
                ck.wN(h.t[da].getName())
            }
            var eb = [];
            for (var G = 0; G < h.t.length; G++)
                if (fc || aP.indexOf(G) == -1)
                    if (G != da)
                        eb.push(h.t[G]);
            var ge = aP[aP.length - 1]
                , fS = ge == h.t.length - 1 ? null : h.t[ge + 1]
                , dI = fS ? eb.indexOf(fS) : eb.length;
            eb.splice(dI, 0, ck);
            bC = [dI];
            var B = new fj([6, 12, 0], this);
            B.data = {
                X: M.BO,
                T4: gu,
                PF: eb,
                e2: fp,
                _Q: bC
            };
            h._l(B);
            this.RV(B.data, h)
        }
        if (I == M.Mj) {
            var e5 = h.rY();
            e5.rect = new W(0, 0, h.d, h.v);
            e5.buffer = t.m(e5.rect.e() * 4);
            t.A5(e5.buffer, 4294967295);
            t.Q.Bc("norm", h.Q3(), e5.rect, e5.buffer, e5.rect, e5.rect, 1);
            e5.wN("Background");
            e5.add.lspf = 1 << 2;
            var B = new fj([6, 12, 1], this);
            B.data = {
                X: M.BO,
                T4: h.t.slice(),
                PF: [e5],
                e2: h.C.slice(0),
                _Q: [0]
            };
            h._l(B);
            this.RV(B.data, h)
        }
        if (I == M.tD || I == M.KY || I == M.Kh || I == M.Vr || I == M.eu) {
            debugger
            var w = I == M.eu ? h.t[h.C[0]].clone() : h.rY(), fI = gx.get([0, 3]), e7 = Y.Tk, ij = !1, eZ, bd;
            if (I == M.Kh)
                fI = gx.get([12, 76, 1]);
            if (I == M.eu) {
                var cN = h.t[h.C[0]]
                    , ih = cN.kY(h, h.N);
                if (ih == null) {
                    alert("Copied area is empty");
                    return
                }
                w.rect = ih.rect;
                w.buffer = ih.kQ;
                w.xH(h)
            }
            if (I == M.Vr) {
                w.rect = cU.sC.KP(Y.Iw, h);
                w.buffer = Y.Iw.buffer.slice(0);
                if (Y.jv && h.N) {
                    w.r = new M.WB;
                    w.r.rect = h.N.rect;
                    w.r.color = 0;
                    w.r.channel = h.N.channel.slice(0)
                }
            }
            if (I == M.tD) {
                this.track({
                    f0: "make",
                    Jz: {
                        classID: "Mk",
                        null: bw.wC("Lyr")
                    }
                })
            }
            if (I == M.KY) {
                w.xa |= 16;
                var iV = Y.Jz.Usng.v
                    , gI = iV.Type.v
                    , iH = dD.rs[gI.classID];
                fI = gx.get(dD.names[iH]);
                if (iV.Nm)
                    e7 = iV.Nm.v;
                w.add[iH] = io.g4(iH);
                if (w.add[iH] == null)
                    w.add[iH] = {};
                for (var fu in gI)
                    w.add[iH][fu] = JSON.parse(JSON.stringify(gI[fu]));
                w.r = cU.sC.eq(h)
            }
            if (I == M.Kh) {
                debugger
                w.xa |= 16;
                var b3 = Y.Jz
                    , iV = b3.Usng.v
                    , ie = iV.Type.v
                    , aL = iV.Shp;
                if (aL == null) {
                    var c2 = h.L1()
                        , gK = c2[0]
                        , ae = c2[1];
                    if (ae.length != 0) {
                        var iA = gK[ae[0]].add;
                        debugger
                        w.add.vmsk = iA.vmsk.clone();
                        w.add.vstk = JSON.parse(JSON.stringify(ai.Ig.default));
                        w.add.vogk = JSON.parse(JSON.stringify(iA.vogk));
                        h.IO = []
                    } else
                        w.r = cU.sC.eq(h)
                } else {
                    console.log(iV);
                    debugger
                    w.add.vmsk = new M.cJ;
                    w.add.vstk = JSON.parse(JSON.stringify(iV.strokeStyle ? iV.strokeStyle.v : ai.Ig.default));
                    w.add.vogk = [];
                    if (aL) {
                        var hA = t.tx.dV(aL);
                        if (hA) {
                            w.add.vogk = [hA];
                            w.add.vmsk.b.push({
                                type: 0,
                                Mg: 1,
                                length: 0
                            });
                            t.tx.J1(w.add.vogk, w.add.vmsk)
                        } else {
                            aL = aL.v;
                            var bE = aL.classID;
                            if (bE == "Plgn") {
                                var a_ = aL.Cntr.v
                                    , bF = aL.corner.v;
                                a_ = new aV(a_.Hrzn.v.val, a_.Vrtc.v.val);
                                bF = new aV(bF.Hrzn.v.val, bF.Vrtc.v.val);
                                w.add.vmsk.b = t.Y.jZ.as(a_.x, a_.y, Math.sqrt(bF.x * bF.x + bF.y * bF.y), Math.atan2(bF.y, bF.x), aL.sides.v, 0)
                            } else if (bE == "customShape") {
                                var fP = t.tx.Lz(aL), iG = fP[2] - fP[0], dt = fP[3] - fP[1], iP = H.AS, bG, iF;
                                for (var G = 0; G < iP.length; G++)
                                    if (iP[G].jq == aL.Nm.v)
                                        bG = iP[G];
                                if (bG) {
                                    iF = M.cJ.s7(bG.b);
                                    t.Y.$M(iF, new d5(iG, 0, 0, dt, fP[0], fP[1]))
                                } else
                                    iF = t.Y.jZ.Rect(fP[0], fP[1], iG, dt, 0);
                                w.add.vmsk.b = iF
                            }
                            w.Ir()
                        }
                    }
                }
                var hi = {
                    solidColorLayer: 0,
                    gradientLayer: 1,
                    patternLayer: 2
                }[ie.classID]
                    , hF = ["SoCo", "GdFl", "PtFl"][hi];
                w.add[hF] = JSON.parse(JSON.stringify(ai.DD[hi]));
                cU.sC.a_(ie, w.add[hF], hi);
                if (aL == null)
                    fI = gx.get([6, 48, 0, hi]);
                if (hF == "PtFl")
                    h.pj(av._O(w.add[hF].Ptrn.v, H.QW));
                w._A(h)
            }
            var hK = cU.sC.K2(h, fI + " ");
            w.wN(fI + " " + (hK + 1));
            if (e7)
                w.wN(e7);
            var gr = h.C.length == 0 ? h.t.length - 1 : h.C[h.C.length - 1]
                , dr = h.t[gr];
            if (I == M.Kh && dr.Ac() && dr.rect.fa()) {
                ij = !0;
                w.wN(dr.getName());
                eZ = gr
            } else {
                eZ = gr + 1;
                if (dr && dr.add.lsct == hg.fC)
                    eZ--
            }
            if (Y.a2H)
                eZ = Math.max(0, eZ - 1);
            var eb = h.t.slice(0);
            eb.splice(eZ, ij ? 1 : 0, w);
            var bl = [5, 2];
            if (I == M.tD)
                bl = [6, 13];
            if (I == M.KY)
                bl = [6, 1];
            if (I == M.Kh) {
                bl = [6, 48, 1];
                var aL = Y.Jz.Usng.v.Shp;
                if (aL) {
                    var dF = {
                        Rctn: [10, 32],
                        Ln: [10, 35],
                        Elps: [10, 33],
                        Plgn: [12, 93, 0],
                        customShape: [10, 31]
                    }[aL.v.classID];
                    if (dF)
                        bl = dF
                }
            }
            if (I == M.eu) {
                bl = [6, 49]
            }
            if (I == M.eu || I == M.Kh || I == M.Vr)
                if (h.N)
                    bd = [h.N, null];
            var B = new fj(bl, this);
            B.data = {
                X: M.BO,
                T4: h.t.slice(0),
                PF: eb,
                e2: h.C.slice(0),
                _Q: [eZ],
                Ne: bd
            };
            h._l(B);
            this.RV(B.data, h);
            if (I == M.Kh && aL == null && hi != 0 || I == M.KY) {
                var fH = new _(P.E.P);
                fH.data = {
                    X: P.U.EG,
                    Fh: bV.Ej.$a
                };
                S.B(fH)
            }
        }
        if (I == M.cW) {
            var w = h.rY();
            w.wN(gx.get([0, 4]) + " " + h.t.length);
            w.XC = "pass";
            w.add.lsct = hg.fC;
            w.xa = 24;
            var bb = h.Ue()
                , gr = E
                , eZ = gr + 1
                , eb = h.t.slice(0);
            eb.splice(eZ, 0, bb, w);
            var B = new fj([6, 20], this);
            B.data = {
                X: M.BO,
                T4: h.t.slice(0),
                PF: eb,
                e2: h.C.slice(0),
                _Q: [eZ + 1]
            };
            h._l(B);
            this.RV(B.data, h)
        }
        if (I == M.Tr || I == M.wA) {
            var be = I == M.Tr ? Y.source : h.C[0], i2, iU, d7 = h.C.indexOf(be) != -1, eh = q.q(F.Gs) | Y.adS, ba;
            if (d7)
                ba = h.rf();
            else
                ba = h.oj(be);
            ba.sort(function (B, dk) {
                return B - dk
            });
            if (I == M.Tr) {
                i2 = Y.target;
                iU = Y.HR > .5
            } else if (Y.target != null) {
                i2 = Y.target;
                iU = !0;
                h.Pm = !0
            } else {
                var bm = Y.Wg;
                iU = bm > 1;
                if (bm == 0) {
                    i2 = h.t.length - 1
                }
                if (bm == 1) {
                    i2 = ba[ba.length - 1] + 1;
                    var g = h.oj(i2);
                    if (g.indexOf(be) == -1)
                        i2 += g.length - 1
                }
                if (bm == 2) {
                    i2 = ba[0] - 1;
                    var g = h.oj(i2);
                    if (g.indexOf(be) == -1)
                        i2 -= g.length - 1
                }
                if (bm == 3) {
                    i2 = 0
                }
                if (i2 < 0 || i2 > h.t.length - 1)
                    return;
                h.Pm = !0
            }
            if (ba.indexOf(i2) != -1 && !eh)
                return;
            var fR = h.t[i2]
                , eb = [];
            if (eh)
                eb = h.t.slice(0);
            else
                for (var G = 0; G < h.t.length; G++)
                    if (ba.indexOf(G) == -1)
                        eb.push(h.t[G]);
            var ef = eb.indexOf(fR);
            if (I == M.Tr && fR.i4() && fR.add.lsct == hg.N4 && Y.HR > .8)
                ef -= h.oj(i2).length - 1;
            var eH = []
                , ax = eh ? h.LL(d7 ? null : be) : null;
            for (var G = 0; G < ba.length; G++) {
                var b1 = ef + (iU ? 0 : 1) + G
                    , O = eh ? ax[G] : h.t[ba[G]];
                eb.splice(b1, 0, O);
                eH.push(b1)
            }
            var B = new fj(eh ? [6, 0] : [6, 35], this);
            B.data = {
                X: M.BO,
                T4: h.t.slice(0),
                PF: eb,
                e2: h.C.slice(0),
                _Q: eH
            };
            h._l(B);
            this.RV(B.data, h);
            var b3 = {
                classID: "move",
                null: bw.wC("Lyr", !0),
                T: {
                    t: "obj ",
                    v: [{
                        t: "indx",
                        v: {
                            classID: "Lyr",
                            val: ef + (iU ? 0 : 1)
                        }
                    }]
                },
                Adjs: {
                    t: "bool",
                    v: !1
                },
                Vrsn: {
                    t: "long",
                    v: 5
                },
                Dplc: {
                    t: "long",
                    v: eh
                }
            };
            this.track({
                f0: "move",
                Jz: b3
            })
        }
        if (I == M.D5) {
            if (Y.c2) {
                if (d == null || !d.i4())
                    return;
                var V = h.root.TZ(E)
                    , dn = h.t.indexOf(V.ad0)
                    , eb = h.t.slice(0);
                eb.splice(E, 1);
                eb.splice(dn, 1);
                var ea = [];
                for (var G = dn; G < E - 1; G++)
                    ea.push(G);
                var B = new fj("Ungroup Layers", this);
                B.data = {
                    X: M.BO,
                    T4: h.t.slice(0),
                    PF: eb,
                    e2: h.C.slice(0),
                    _Q: ea
                };
                h._l(B);
                this.RV(B.data, h)
            } else {
                var w = h.rY()
                    , dO = gx.get([0, 4]) + " ";
                w.wN(dO + (cU.sC.K2(h, dO) + 1));
                w.XC = "pass";
                if (Y.Tk)
                    w.wN(Y.Tk);
                w.add.lsct = h.C.length == 1 ? hg.fC : hg.N4;
                w.xa = 24;
                var bb = h.Ue()
                    , ba = h.rf();
                if (ba.length == 0)
                    return;
                ba.sort(function (B, dk) {
                    return B - dk
                });
                var eb = [];
                for (var G = 0; G < h.t.length; G++)
                    if (ba.indexOf(G) == -1)
                        eb.push(h.t[G]);
                var gr = h.C[h.C.length - 1] - ba.length;
                eb.splice(gr + 1, 0, bb);
                for (var G = 0; G < ba.length; G++)
                    eb.splice(gr + 2 + G, 0, h.t[ba[G]]);
                eb.splice(gr + 2 + ba.length, 0, w);
                var B = new fj([6, 9], this);
                B.data = {
                    X: M.BO,
                    T4: h.t.slice(0),
                    PF: eb,
                    e2: h.C.slice(0),
                    _Q: [eb.indexOf(w)]
                };
                h._l(B);
                this.RV(B.data, h);
                var T = {
                    f0: "make",
                    Zz: !0
                };
                T.Jz = {
                    classID: "Mk",
                    null: bw.wC("layerSection"),
                    From: bw.wC("Lyr", !0),
                    Usng: {
                        t: "Objc",
                        v: {
                            classID: "layerSection",
                            Nm: {
                                t: "TEXT",
                                v: w.getName()
                            }
                        }
                    }
                };
                this.track(T)
            }
        }
        if (I == M.CX) {
            if (h.C.length != 1)
                return;
            var K = h.C[0]
                , dN = q.q(F.Gs);
            if (h.t[K].Qn() == null) {
                I = M.AI;
                Y.JQ = h.N ? !dN ? "RvlS" : "HdSl" : !dN ? "RvlA" : "HdAl"
            } else
                I = M._Z
        }
        if (I == M.AI) {
            if (h.C.length != 1)
                return;
            var K = h.C[0]
                , w = h.t[K];
            if (w.add.vmsk && w.r == null)
                w._A(h);
            var e8 = w.Qn();
            if (e8 == null || Y.a4c) {
                var B = new fj([6, 21], this)
                    , ay = new M.WB
                    , g7 = Y.JQ
                    , ad = g7 == "RvlS" || g7 == "HdSl";
                if (g7 == "RvlS" || g7 == "HdAl" || g7 == "Trns")
                    ay.color = 0;
                if (ad) {
                    ay.channel = h.N.channel.slice(0);
                    ay.rect = h.N.rect.clone();
                    if (g7 == "HdSl")
                        t.fb(ay.channel)
                }
                if (g7 == "Trns") {
                    ay.rect = w.rect.clone();
                    ay.channel = t.m(w.rect.e());
                    t.Ft(w.buffer, ay.channel, 3)
                }
                B.data = {
                    X: I,
                    $: K,
                    r: ay,
                    mz: e8,
                    Ne: ad ? [h.N, null] : null
                };
                h._l(B);
                this.RV(B.data, h);
                h.t[K].wF = 1;
                this.track({
                    f0: "make",
                    Jz: {
                        __name: "Make",
                        classID: "Mk",
                        Nw: {
                            t: "type",
                            v: {
                                classID: "Chnl"
                            }
                        },
                        At: {
                            t: "obj ",
                            v: [{
                                t: "Enmr",
                                v: {
                                    classID: "Chnl",
                                    typeID: "Chnl",
                                    enum: "Msk"
                                }
                            }]
                        },
                        Usng: {
                            t: "enum",
                            v: {
                                UsrM: g7
                            }
                        }
                    }
                })
            }
        } else if (I == M.zx) {
            var fk = h.t[Y.src]
                , o = h.t[Y.b3];
            if (o.Qn())
                return;
            var B = new fj([6, 21], this)
                , ay = fk.Qn();
            if (Y.lW) {
                B.data = {
                    X: M.AI,
                    $: Y.b3,
                    r: ay.clone()
                }
            } else {
                B.data = {
                    X: I,
                    src: Y.src,
                    b3: Y.b3,
                    r: ay
                }
            }
            h._l(B);
            this.RV(B.data, h)
        }
        if (I == M.D$) {
            if (h.C.length != 1)
                return;
            var K = E;
            if (h.t[K].Qn() != null) {
                var B = new fj([6, 22], this);
                B.data = {
                    X: I,
                    $: K,
                    r: h.t[K].Qn()
                };
                h._l(B);
                this.RV(B.data, h)
            }
        }
        if (I == M.bg) {
            var gu = h.t.slice(0)
                , e5 = d.clone()
                , ft = e5.Qn();
            t.jK(ft.Ga(e5.rect), e5.rect, e5.buffer, e5.rect);
            cU.sC.je(h, e5);
            h.t[h.C[0]] = e5;
            var B = new fj([5, 8], this);
            B.data = {
                X: M.BO,
                T4: gu,
                PF: h.t.slice(),
                e2: h.C.slice(0),
                _Q: h.C.slice(0)
            };
            h._l(B);
            this.RV(B.data, h)
        }
        if (I == M.HG) {
            if (h.C.length != 1)
                return;
            var K = h.C[0];
            if (h.t[K].$l(h).r == null) {
                var B = new fj([6, 45], this);
                B.data = {
                    X: I,
                    $: K,
                    r: new M.WB
                };
                h._l(B);
                this.RV(B.data, h)
            }
        }
        if (I == M.Ya) {
            if (h.C.length != 1)
                return;
            var K = h.C[0];
            if (h.t[K].$l(h).r != null) {
                var B = new fj([6, 46], this);
                B.data = {
                    X: I,
                    $: K,
                    r: h.t[K].$l(h).r
                };
                h._l(B);
                this.RV(B.data, h)
            }
        }
        if (I == M.KR) {
            if (Y.$ == null && h.C.length != 1)
                return;
            if (h.t[E].ef()) {
                var B = new fj([6, 47], this)
                    , hX = JSON.stringify(h.t[E].add.SoLd)
                    , bY = JSON.parse(hX);
                delete bY.filterFX;
                B.data = {
                    X: M._h,
                    q_: [{
                        oK: E,
                        xB: [hX, JSON.stringify(bY)],
                        OB: [h.t[E].$l(h), null]
                    }]
                };
                h._l(B);
                this.RV(B.data, h)
            }
        }
        if (I == M._Z) {
            if (h.C.length != 1)
                return;
            if (d.add.vmsk == null) {
                var B = new fj([6, 23], this), hu = h.L1(), $ = hu[1], hu = hu[0], ay, hA;
                if (Y.a0t && $.length != 0) {
                    var iA = hu[$[0]].add;
                    ay = iA.vmsk.clone();
                    hA = iA.vogk
                } else {
                    ay = new M.cJ;
                    hA = [];
                    ay.b[1].all = Y.a0q ? 0 : 1
                }
                B.data = {
                    X: I,
                    $: E,
                    Ug: !0,
                    r: ay,
                    tx: JSON.stringify(hA),
                    Ig: null
                };
                if (d.uy()) {
                    B.data.Ig = JSON.stringify(ai.Ig.default)
                }
                h._l(B);
                this.RV(B.data, h)
            }
        }
        if (I == M.Vk) {
            var fk = h.t[Y.src]
                , o = h.t[Y.b3];
            if (o.add.vmsk)
                return;
            var B = new fj([6, 23], this)
                , bI = fk.add.vmsk;
            B.data = {
                $: Y.b3,
                Ug: fk.cI,
                r: bI.clone(),
                tx: JSON.stringify(fk.add.vogk),
                Ig: fk.add.vstk ? JSON.stringify(fk.add.vstk) : null
            };
            if (Y.lW) {
                B.data.X = M._Z
            } else {
                B.data.X = I;
                B.data.src = Y.src;
                B.data.b3 = Y.b3
            }
            h._l(B);
            this.RV(B.data, h)
        }
        if (I == M.OI) {
            if (h.C.length != 1)
                return;
            var w = h.t[E]
                , bI = w.add.vmsk;
            if (bI != null) {
                var B = new fj([6, 24], this);
                B.data = {
                    X: I,
                    $: E,
                    Ug: w.cI,
                    r: bI,
                    tx: JSON.stringify(w.add.vogk),
                    Ig: w.add.vstk ? JSON.stringify(w.add.vstk) : null
                };
                h._l(B);
                this.RV(B.data, h)
            }
        }
        if (I == M.mA) {
            var B = new fj("Metadata", this);
            B.data = {
                X: I,
                jD: JSON.stringify(h.wH),
                UU: JSON.stringify(Y.UU)
            };
            h._l(B);
            this.RV(B.data, h)
        }
        if (I == M.wJ) {
            var gm = Y.b3 ? Y.b3 : h
                , ci = gm.name
                , e7 = Y.G + ".psd";
            if (ci == e7)
                return;
            var B = new fj([6, 37], this);
            B.data = {
                X: I,
                a0A: ci,
                Tk: e7
            };
            if (Y.a9E != !0)
                gm._l(B);
            this.RV(B.data, gm)
        }
        if (I == M.YD && Y.Wg == "makeframes") {
            var aR = [];
            for (var G = 0; G < h.C.length; G++) {
                var Z = h.C[G]
                    , w = h.t[Z]
                    , dQ = w.getName();
                if (dQ.startsWith("_a_") || w.add.lsct == hg._q)
                    continue;
                aR.push([Z, dQ, "_a_" + dQ, w.add.lnsr, null])
            }
            var B = new fj([6, 37], this);
            B.data = {
                X: M.vT,
                go: aR
            };
            h._l(B);
            this.RV(B.data, h)
        }
        if (I == M.vT) {
            var ci = d.getName()
                , e7 = Y.name.substring(0, 255);
            if (ci == e7)
                return;
            var B = new fj([6, 37], this);
            B.data = {
                X: I,
                go: [[E, ci, e7, d.add.lnsr, null]]
            };
            h._l(B);
            this.RV(B.data, h);
            this.track(bw.$Y("Nm", {
                t: "TEXT",
                v: e7
            }))
        }
        if (I == M.Hv) {
            var fA = h.rf()
                , gg = []
                , a0 = [];
            for (var G = 0; G < fA.length; G++) {
                gg.push(h.t[fA[G]].add.lclr);
                a0.push(Y.amQ)
            }
            var B = new fj([6, 38], this);
            B.data = {
                X: I,
                t: fA,
                a4w: gg,
                a1p: a0
            };
            h._l(B);
            this.RV(B.data, h)
        }
        if (I == M.rA) {
            var B = h.history[h.Zj];
            if (B != null && B.F == this && B.data.X == I && B.data.$ == Y.H2 && B.data.aq.l6 == Y.QX.l6)
                B.data.aq = Y.QX;
            else {
                B = new fj("Mask Density / Feather", this);
                B.data = {
                    X: I,
                    $: Y.H2,
                    IJ: h.t[Y.H2].Ro(Y.QX.l6),
                    aq: Y.QX
                };
                h._l(B)
            }
            this.RV(B.data, h)
        }
        if (I == M.mb) {
            var az = JSON.stringify(Y.G)
                , bM = JSON.parse(az)
                , B = h.history[h.Zj];
            if (B != null && B.F == this && B.data.X == I && B.data.C8 == Y.C8 && B.data.An.join(",") == Y.An.join(",")) {
                for (var G = 0; G < Y.An.length; G++)
                    B.data.YL[G] = bM;
                if (B.data.Jz && bM.zH != 0)
                    cU.sC.a_(bM.yW, B.data.Jz.T.v, bM.zH - 1)
            } else {
                B = new fj([11, 6], this);
                B.data = {
                    X: I,
                    An: Y.An,
                    C8: Y.C8,
                    al0: [],
                    YL: []
                };
                var ho = !1;
                for (var G = 0; G < Y.An.length; G++) {
                    var Z = Y.An[G]
                        , w = h.t[Z]
                        , gM = Y.C8 ? U.u1.e$(h, Z) : JSON.parse(JSON.stringify(w.add.vstk));
                    B.data.al0.push(gM);
                    B.data.YL.push(bM);
                    if (JSON.stringify(gM) != az)
                        ho = !0
                }
                if (!ho)
                    return;
                h._l(B);
                if (Y.C8 && bM.zH > 0) {
                    var b3 = B.data.Jz = {
                        classID: "setd",
                        null: bw.wC("contentLayer", !0),
                        T: {
                            t: "Objc",
                            v: {}
                        }
                    }
                        , hF = ["SoCo", "GdFl", "PtFl"][bM.zH - 1];
                    cU.sC.a_(bM.yW, b3.T.v, bM.zH - 1);
                    this.track({
                        f0: "set",
                        Jz: b3
                    })
                }
            }
            if (Y.C8 && bM.zH == 3)
                h.pj(av._O(bM.yW.Ptrn.v, H.QW));
            if (!Y.C8) {
                var cG = bM.strokeStyleContent.v;
                if (cG.classID == ai.Ig.bj[2])
                    h.pj(av._O(cG.Ptrn.v, H.QW))
            }
            this.RV(B.data, h)
        }
    }
        ;
    cU.sC.a_ = function (Y, S, h) {
        var q = [ai.pJ, ai.eK, ai.PV][h];
        if (S.classID == null)
            S.classID = ["solidColorLayer", "gradientLayer", "patternLayer"][h];
        for (var G = 0; G < q.length; G++)
            if (Y[q[G]])
                S[q[G]] = JSON.parse(JSON.stringify(Y[q[G]]))
    }
        ;
    cU.sC.eq = function (Y) {
        var S = new M.WB;
        if (Y.N != null) {
            S.color = 0;
            S.channel = Y.N.channel.slice(0);
            S.rect = Y.N.rect.clone()
        }
        return S
    }
        ;
    cU.sC.zJ = function (Y, S, h, q) {
        var H = q.d / h.d
            , I = q.v / h.v
            , E = q.d / 2
            , d = q.v / 2
            , B = t.a.yP(q).H;
        for (var G = 0; G < Y.t.length; G++) {
            var n = Y.t[G]
                , g = n.add.SoLd;
            if (g == null || g.Idnt.v != S)
                continue;
            if (H != 1 || I != 1) {
                var z = U.o.U8(g.nonAffineTransform)
                    , p = t.I.Rc(z, q)
                    , C = new d5;
                C.translate(-E, -d);
                C.scale(H, I);
                C.translate(E, d);
                var T = t.I.K7(p, t.I.gA(C))
                    , A = B.slice(0);
                t.I.apply(T, A);
                g.Trnf = U.o.FQ(A);
                g.nonAffineTransform = U.o.FQ(A)
            }
            n.rH(Y)
        }
        Y.s()
    }
        ;
    cU.sC.ail = function (Y, S, h) {
        S.color = 255 - S.color;
        t.fb(S.channel);
        S.Uh = !0;
        Y._A(h);
        h.s()
    }
        ;
    cU.sC.prototype.Td = function (Y, S) {
        var h = Y.X
            , q = S.t[Y.$];
        S.Dn = !0;
        if (h == M.ED) {
            S.add.lnk2.splice(S.add.lnk2.indexOf(Y.ap), 1, Y.og);
            cU.sC.zJ(S, Y.id, Y.ap.aE[1], Y.og.aE[1])
        }
        if (h == M.Cx) {
            q.add.SoLd.Impr.v.classID = Y.IJ;
            q.rH(S)
        }
        if (h == M.tl) {
            var H = JSON.parse(Y.An);
            for (var G = 0; G < H.length; G++)
                S.t[H[G]].XC = Y.iR[G];
            S.s()
        }
        if (h == M.zh) {
            var H = JSON.parse(Y.An);
            for (var G = 0; G < H.length; G++)
                S.t[H[G]].opacity = Y.iR[G];
            S.s()
        }
        if (h == M.Be) {
            var H = JSON.parse(Y.An);
            for (var G = 0; G < H.length; G++)
                if (S.t[H[G]].add.lsct != hg._q)
                    S.t[H[G]].add.lspf = Y.iR[G]
        }
        if (h == M.gE) {
            var I = Y.jr
                , E = Y.a1u;
            delete q.add[I[0]];
            if (E[0] != "----")
                q.add[E[0]] = E[1]
        }
        if (h == M.XJ) {
            q.add.iOpa = Y.iR;
            S.s()
        }
        if (h == M.OU) {
            for (var G = 0; G < Y.An.length; G++) {
                var d = S.t[Y.An[G]];
                d.yR(!d.yj())
            }
            S.s()
        }
        if (h == M.XG) {
            var B = q.Qn();
            B.isEnabled = !B.isEnabled;
            q._A(S);
            S.s()
        }
        if (h == M.O7) {
            var B = q.$l(S).r;
            B.isEnabled = !B.isEnabled;
            q.s();
            S.s()
        }
        if (h == M.bq) {
            var B = q.add.vmsk;
            B.isEnabled = !B.isEnabled;
            if (!B.isEnabled) {
                if (q.sK) {
                    q.r = q.sK;
                    q.sK = null
                } else
                    q.r = null
            } else if (q.r) {
                q.sK = q.r;
                q.r = null
            }
            q._A(S);
            S.s()
        }
        if (h == M.JA) {
            q.f6 = !q.f6;
            S.s()
        }
        if (h == M.gy) {
            q.add.lmfx.masterFXSwitch.v = !q.add.lmfx.masterFXSwitch.v;
            q.V.H4 = !0;
            S.s()
        }
        if (h == M.uT) {
            q.add.SoLd.filterFX.v.enab.v = !q.add.SoLd.filterFX.v.enab.v;
            q.ih(S);
            S.s()
        }
        if (h == M.N3) {
            var n = Y.index
                , g = q.add.lmfx[ai.m6[n[0]]].v[n[1]].v;
            g.enab.v = !g.enab.v;
            q.V.H4 = !0;
            S.s()
        }
        if (h == M.vb) {
            var z = S.t[Y.ae2]
                , p = S.t[Y.a70]
                , C = Y.a9X
                , T = Y.aiG;
            if (C == "")
                delete z.add.lmfx;
            else
                z.add.lmfx = JSON.parse(C);
            if (T == "")
                delete p.add.lmfx;
            else
                p.add.lmfx = JSON.parse(T);
            z.V.H4 = !0;
            p.V.H4 = !0;
            S.s()
        }
        if (h == M.M_) {
            var A = q.add.SoLd.filterFX.v.filterFXList.v[Y.index].v;
            A.enab.v = !A.enab.v;
            q.ih(S);
            S.s()
        }
        if (h == M.ly) {
            q.add.SoLd.filterFX.v = JSON.parse(JSON.stringify(Y.am8));
            q.ih(S);
            S.s()
        }
        if (h == M.bE) {
            var B = q.Qn();
            B.Pa = !B.Pa
        }
        if (h == M.sa) {
            var B = q.add.vmsk;
            B.Pa = !B.Pa
        }
        if (h == M._5) {
            var i = Y.Hs;
            for (var G = 0; G < i.length; G += 2) {
                var e = i[G]
                    , d = e >= 0 ? S.t[e] : S._b[-1 - e];
                d.add.vogk = JSON.parse(i[G + 1]);
                t.tx.J1(d.add.vogk, d.add.vmsk);
                if (e >= 0)
                    d._A(S)
            }
            S.s()
        }
        if (h == M.Pi) {
            q.add.artb = JSON.parse(Y.ab9);
            S.s()
        }
        if (h == M.i2) {
            S.N = Y.ez;
            S.h3 = Y.Hs.slice(0);
            S.AN = Y.q6.slice(0);
            S.Yw = S.P7 = !0
        }
        if (h == M.CH) {
            var a = Y.a0r;
            for (var G = 0; G < a.length; G++)
                S.t[G].BN = a[G]
        }
        if (h == M.BO) {
            if (Y.e2)
                S.C = Y.e2;
            if (Y.Ne)
                S.N = Y.Ne[0];
            S.Fj = null;
            S.s();
            S.HT(Y.T4)
        }
        if (h == M.AI) {
            cU.sC.je(S, q);
            if (Y.mz)
                cU.sC.w3(S, q, Y.mz);
            if (Y.Ne) {
                var Z = Y.Ne[0];
                if (Z == null)
                    delete S.N;
                else
                    S.N = Z
            }
        }
        if (h == M.zx) {
            cU.sC.je(S, S.t[Y.b3]);
            cU.sC.w3(S, S.t[Y.src], Y.r)
        }
        if (h == M.D$) {
            cU.sC.w3(S, q, Y.r)
        }
        if (h == M.HG) {
            q.$l(S).r = null;
            q.s();
            S.s()
        }
        if (h == M.Ya) {
            q.$l(S).r = Y.r;
            q.s();
            S.s()
        }
        if (h == M._h) {
            cU.sC.rK(S, Y.q_, 0)
        }
        if (h == M._Z) {
            cU.sC.Eg(S, q, !0)
        }
        if (h == M.Vk) {
            cU.sC.Eg(S, S.t[Y.b3], Y.r.isEnabled);
            cU.sC.UL(S, S.t[Y.src], Y)
        }
        if (h == M.OI) {
            cU.sC.UL(S, q, Y)
        }
        if (h == M.mA) {
            S.wH = JSON.parse(Y.jD)
        }
        if (h == M.wJ) {
            S.name = Y.a0A
        }
        if (h == M.vT) {
            for (var G = 0; G < Y.go.length; G++) {
                var O = Y.go[G]
                    , d = S.t[O[0]];
                d.wN(O[1]);
                if (O[3])
                    d.add.lnsr = O[3];
                else
                    delete d.add.lnsr
            }
        }
        if (h == M.Hv) {
            for (var G = 0; G < Y.t.length; G++)
                S.t[Y.t[G]].add.lclr = Y.a4w[G]
        }
        if (h == M.mb) {
            var c = Y.al0;
            for (var G = 0; G < Y.An.length; G++) {
                var d = S.t[Y.An[G]]
                    , s = c[G];
                if (!Y.C8)
                    d.add.vstk = JSON.parse(JSON.stringify(s));
                else
                    U.u1.sN(d, JSON.parse(JSON.stringify(s)));
                d.$T(S)
            }
            S.s()
        }
        if (h == M.rA) {
            q.ZH(Y.IJ);
            q._A(S);
            S.s()
        }
        S.P7 = !0
    }
        ;
    cU.sC.prototype.RV = function (Y, S) {
        var h = Y.X
            , q = S.t[Y.$];
        S.Dn = !0;
        if (h == M.ED) {
            S.add.lnk2.splice(S.add.lnk2.indexOf(Y.og), 1, Y.ap);
            cU.sC.zJ(S, Y.id, Y.og.aE[1], Y.ap.aE[1])
        }
        if (h == M.Cx) {
            q.add.SoLd.Impr.v.classID = Y.aq;
            q.rH(S)
        }
        if (h == M.tl) {
            var H = JSON.parse(Y.An);
            for (var G = 0; G < H.length; G++)
                S.t[H[G]].XC = Y.aq;
            S.s()
        }
        if (h == M.zh) {
            var H = JSON.parse(Y.An);
            for (var G = 0; G < H.length; G++)
                S.t[H[G]].opacity = Y.aq;
            S.s()
        }
        if (h == M.Be) {
            var H = JSON.parse(Y.An);
            for (var G = 0; G < H.length; G++)
                if (S.t[H[G]].add.lsct != hg._q)
                    S.t[H[G]].add.lspf = Y.aq[G]
        }
        if (h == M.gE) {
            var I = Y.a1u
                , E = Y.jr;
            delete q.add[I[0]];
            if (E[0] != "----")
                q.add[E[0]] = E[1]
        }
        if (h == M.XJ) {
            q.add.iOpa = Y.aq;
            S.s()
        }
        if (h == M.OU) {
            for (var G = 0; G < Y.An.length; G++) {
                var d = S.t[Y.An[G]];
                d.yR(!d.yj())
            }
            S.s()
        }
        if (h == M.XG) {
            var B = q.Qn();
            B.isEnabled = !B.isEnabled;
            q._A(S);
            S.s()
        }
        if (h == M.O7) {
            var B = q.$l(S).r;
            B.isEnabled = !B.isEnabled;
            q.s();
            S.s()
        }
        if (h == M.bq) {
            var B = q.add.vmsk;
            B.isEnabled = !B.isEnabled;
            if (!B.isEnabled) {
                if (q.sK) {
                    q.r = q.sK;
                    q.sK = null
                } else
                    q.r = null
            } else if (q.r) {
                q.sK = q.r;
                q.r = null
            }
            q._A(S);
            S.s()
        }
        if (h == M.JA) {
            q.f6 = !q.f6;
            S.s()
        }
        if (h == M.gy) {
            q.add.lmfx.masterFXSwitch.v = !q.add.lmfx.masterFXSwitch.v;
            q.V.H4 = !0;
            S.s()
        }
        if (h == M.uT) {
            q.add.SoLd.filterFX.v.enab.v = !q.add.SoLd.filterFX.v.enab.v;
            q.ih(S);
            S.s()
        }
        if (h == M.N3) {
            var n = Y.index
                , g = q.add.lmfx[ai.m6[n[0]]].v[n[1]].v;
            g.enab.v = !g.enab.v;
            q.V.H4 = !0;
            S.s()
        }
        if (h == M.vb) {
            var z = S.t[Y.ae2]
                , p = S.t[Y.a70]
                , C = Y.a1X
                , T = Y.a1v;
            if (C == "")
                delete z.add.lmfx;
            else
                z.add.lmfx = JSON.parse(C);
            if (T == "")
                delete p.add.lmfx;
            else
                p.add.lmfx = JSON.parse(T);
            z.V.H4 = !0;
            p.V.H4 = !0;
            S.s()
        }
        if (h == M.M_) {
            var A = q.add.SoLd.filterFX.v.filterFXList.v[Y.index].v;
            A.enab.v = !A.enab.v;
            q.ih(S);
            S.s()
        }
        if (h == M.ly) {
            q.add.SoLd.filterFX.v = JSON.parse(JSON.stringify(Y.a8J));
            q.ih(S);
            S.s()
        }
        if (h == M.bE) {
            var B = q.Qn();
            B.Pa = !B.Pa
        }
        if (h == M.sa) {
            var B = q.add.vmsk;
            B.Pa = !B.Pa
        }
        if (h == M._5) {
            var i = Y.aw;
            for (var G = 0; G < i.length; G += 2) {
                var e = i[G]
                    , d = e >= 0 ? S.t[e] : S._b[-1 - e];
                d.add.vogk = JSON.parse(i[G + 1]);
                t.tx.J1(d.add.vogk, d.add.vmsk);
                if (e >= 0)
                    d._A(S)
            }
            S.s()
        }
        if (h == M.Pi) {
            q.add.artb = JSON.parse(Y.al);
            S.s()
        }
        if (h == M.i2) {
            S.N = Y.nI;
            S.h3 = Y.aw.slice(0);
            S.AN = Y.RG.slice(0);
            S.Yw = S.P7 = !0
        }
        if (h == M.CH) {
            var a = Y.aft;
            for (var G = 0; G < a.length; G++)
                S.t[G].BN = a[G]
        }
        if (h == M.BO) {
            var Z = Y.PF, O = 0, c;
            for (var G = 0; G < Z.length; G++) {
                var d = Z[G]
                    , s = d.add.lsct;
                if (s == hg._q)
                    O++;
                else if (s == hg.fC || s == hg.N4)
                    O--;
                if (d.add.artb && O != 0)
                    c = "Artboards can not be inside folders."
            }
            if (c) {
                S.history.pop();
                S.Zj--;
                alert(c);
                return
            }
            if (Y._Q)
                S.C = Y._Q;
            if (Y.Ne)
                S.N = Y.Ne[1];
            S.Fj = null;
            S.s();
            S.HT(Y.PF)
        }
        if (h == M.AI) {
            if (Y.mz)
                cU.sC.je(S, q);
            cU.sC.w3(S, q, Y.r);
            if (Y.Ne) {
                var x = Y.Ne[1];
                if (x == null)
                    delete S.N;
                else
                    S.N = x
            }
        }
        if (h == M.zx) {
            cU.sC.je(S, S.t[Y.src]);
            cU.sC.w3(S, S.t[Y.b3], Y.r)
        }
        if (h == M.D$) {
            cU.sC.je(S, q)
        }
        if (h == M.HG) {
            q.$l(S).r = Y.r;
            q.wF = 0;
            q.s();
            S.s()
        }
        if (h == M.Ya) {
            q.$l(S).r = null;
            q.wF = 0;
            q.s();
            S.s()
        }
        if (h == M._h) {
            cU.sC.rK(S, Y.q_, 1)
        }
        if (h == M._Z) {
            cU.sC.UL(S, q, Y)
        }
        if (h == M.Vk) {
            cU.sC.Eg(S, S.t[Y.src], Y.r.isEnabled);
            cU.sC.UL(S, S.t[Y.b3], Y)
        }
        if (h == M.OI) {
            cU.sC.Eg(S, q, Y.r.isEnabled)
        }
        if (h == M.mA) {
            S.wH = JSON.parse(Y.UU)
        }
        if (h == M.wJ) {
            S.name = Y.Tk
        }
        if (h == M.vT) {
            for (var G = 0; G < Y.go.length; G++) {
                var u = Y.go[G]
                    , d = S.t[u[0]];
                d.wN(u[2]);
                if (u[4])
                    d.add.lnsr = u[4];
                else
                    delete d.add.lnsr
            }
        }
        if (h == M.Hv) {
            for (var G = 0; G < Y.t.length; G++)
                S.t[Y.t[G]].add.lclr = Y.a1p[G]
        }
        if (h == M.mb) {
            var y = Y.YL;
            for (var G = 0; G < Y.An.length; G++) {
                var d = S.t[Y.An[G]]
                    , j = y[G];
                if (!Y.C8)
                    d.add.vstk = JSON.parse(JSON.stringify(j));
                else
                    U.u1.sN(d, JSON.parse(JSON.stringify(j)));
                d.$T(S)
            }
            S.s()
        }
        if (h == M.rA) {
            q.ZH(Y.aq);
            q._A(S);
            S.s()
        }
        S.P7 = !0
    }
        ;
    cU.sC.K2 = function (Y, S) {
        var h = 0;
        for (var G = 0; G < Y.t.length; G++) {
            var q = Y.t[G].getName();
            if (q.startsWith(S)) {
                var H = q.slice(S.length).trim()
                    , I = parseInt(H);
                if (!isNaN(I) && I + "" == H)
                    h = I
            }
        }
        return h
    }
        ;
    cU.sC.rK = function (Y, S, h) {
        for (var G = 0; G < S.length; G++) {
            var q = S[G]
                , H = Y.t[q.oK];
            if (q.xB) {
                H.add.SoLd = JSON.parse(q.xB[h])
            }
            if (q.OB) {
                if (q.OB[1 - h] != null)
                    Y.Yh(q.OB[1 - h]);
                if (q.OB[h] != null)
                    Y.Af(q.OB[h]);
                else
                    H.wF = 0
            }
            H.rH(Y)
        }
    }
        ;
    cU.sC.KP = function (Y, S) {
        var h = Y.nN
            , q = Y.rect.clone();
        if (h != null && (h.x != S.d || h.y != S.v)) {
            q.x = Math.floor((S.d - q.d) / 2);
            q.y = Math.floor((S.v - q.v) / 2)
        }
        return q
    }
        ;
    cU.sC.je = function (Y, S) {
        if (S.sK)
            S.sK = null;
        else
            S.r = null;
        S._A(Y);
        Y.s();
        S.wF = 0
    }
        ;
    cU.sC.w3 = function (Y, S, h) {
        if (S.r)
            S.sK = h;
        else
            S.r = h;
        S._A(Y);
        Y.s()
    }
        ;
    cU.sC.Eg = function (Y, S, h) {
        if (S.sK && h) {
            S.r = S.sK;
            S.sK = null
        } else if (S.r && h) {
            S.r = null
        }
        delete S.add.vogk;
        delete S.add.vstk;
        delete S.add.vmsk;
        S._A(Y);
        S.cI = !1;
        Y.Fj = [];
        Y.s()
    }
        ;
    cU.sC.UL = function (Y, S, h) {
        S.add.vogk = JSON.parse(h.tx);
        if (h.Ig)
            S.add.vstk = JSON.parse(h.Ig);
        else
            delete S.add.vstk;
        debugger
        S.add.vmsk = h.r.clone();
        if (S.r && S.add.vmsk.isEnabled)
            S.sK = S.r;
        S._A(Y);
        S.cI = h.Ug;
        Y.Fj = [Y.t.indexOf(S)];
        Y.IO = [];
        Y.s()
    }
        ;
    cU.Zm = function () {
        cU.Br.call(this, U.lc);
        this.DF = null;
        this.Gd = null;
        this.es = null;
        this.l_ = [];
        this.aV = null
    }
        ;
    cU.Zm.prototype = new cU.Br;
    cU.Zm.prototype.ON = function (Y, S, h, q, H) {
        var I = Y.$;
        if (I == null)
            I = h.C[0];
        var E = h.t[I]
            , d = Y.Y8;
        if (this.DF == null) {
            this.es = cU.Zm.em(h, E);
            this.DF = JSON.stringify(this.es);
            if (E.add.lmfx)
                this.Gd = JSON.stringify(E.add.lmfx)
        }
        if (E.add.lmfx == null) {
            E.add.lmfx = JSON.parse(ai.default);
            for (var G = 0; G < ai.order.length; G++)
                E.add.lmfx[ai.m6[G]] = {
                    t: "VlLs",
                    v: []
                }
        }
        if (Y.X == "scaleeffects") {
            if (Y.G == "confirm" || Y.G == "cancel") {
                debugger
                this.ON({
                    X: Y.G
                }, S, h, q, H);
                return
            }
            E.add.lmfx = JSON.parse(this.Gd);
            av.bT(E.add.lmfx, Y.G / 100)
        } else if (Y.X == "changeprop") {
            var B = null;
            if (d != 0) {
                var n = this.l_[d[0]];
                if (n == null)
                    n = ai.l_[d[0]];
                n = JSON.parse(n);
                var g = E.add.lmfx[ai.m6[d[0]]].v;
                if (g[d[1]] == null)
                    g[d[1]] = {
                        t: "Objc",
                        v: n
                    };
                B = g[d[1]].v;
                for (var z in n)
                    if (B[z] == null)
                        B[z] = n[z]
            }
            if (Y.X == "changeprop") {
                if (d == 0) {
                    this.es[Y.J6].v = Y.G;
                    cU.Zm.iE(h, E, this.es)
                } else if (Y.J6 == "lagl") {
                    if (B.uglg && B.uglg.v) {
                        h.OX(Y.G.val);
                        this.es.adk = h.Ai()
                    } else
                        B[Y.J6].v = Y.G
                } else if (Y.J6 == "Lald") {
                    if (B.uglg.v) {
                        h.Lc(Y.G.val);
                        this.es.aac = h.tz()
                    } else
                        B[Y.J6].v = Y.G
                } else if ((d[0] == 3 || d[0] == 8) && (Y.J6 == "Clr" || Y.J6 == "Grad")) {
                    if (Y.J6 == "Clr") {
                        B.Clr = {
                            t: "Objc",
                            v: Y.G
                        };
                        delete B.Grad
                    }
                    if (Y.J6 == "Grad") {
                        B.Grad = {
                            t: "Objc",
                            v: Y.G
                        };
                        delete B.Clr
                    }
                } else {
                    B[Y.J6].v = Y.G
                }
                if (d != 0)
                    this.l_[d[0]] = JSON.stringify(B)
            }
            if (d != 0)
                if (B.Ptrn)
                    h.pj(av._O(B.Ptrn.v, H.QW))
        } else if (Y.X == "setstl") {
            var p = Y.G.Lefx;
            if (p)
                av.dd(p, h, H.QW);
            av.d6(Y.G, E);
            this.es = cU.Zm.em(h, E)
        } else if (Y.X == "st_dupsingle") {
            var C = E.add.lmfx[ai.m6[Y.eS[0]]].v;
            if (C[Y.eS[1]] == null)
                return;
            var T = JSON.parse(JSON.stringify(C[Y.eS[1]]));
            C.splice(Y.eS[1], 0, T)
        } else if (Y.X == "st_movsingle") {
            var A = Y.eS[1]
                , C = E.add.lmfx[ai.m6[Y.eS[0]]].v;
            if (C[Y.eS[1]] == null)
                return;
            var i = Math.max(0, Math.min(C.length - 1, A + Y.agi))
                , e = C[i];
            C[i] = C[A];
            C[A] = e
        } else if (Y.X == "cancel") {
            if (this.Gd == null)
                delete E.add.lmfx;
            else
                E.add.lmfx = JSON.parse(this.Gd);
            cU.Zm.iE(h, E, JSON.parse(this.DF));
            this.DF = null;
            this.Gd = null
        } else if (Y.X == "confirm") {
            var a = JSON.stringify(E.add.lmfx)
                , Z = new fj([11, 6], this);
            Z.data = {
                t: [I],
                $n: [this.Gd],
                QC: [a],
                ST: [this.DF],
                sD: [JSON.stringify(this.es)]
            };
            h._l(Z);
            this.DF = null;
            this.Gd = null;
            if (a != null) {
                var O = JSON.parse(a);
                f4.S5(O);
                O.classID = "Lefx";
                delete O.masterFXSwitch;
                var c = new _(P.E.$_);
                c.NN = !0;
                c.data = {
                    f0: "set",
                    Zz: !0
                };
                var s = bw.wC("Lyr", !0);
                s.v.splice(0, 0, {
                    t: "prop",
                    v: {
                        classID: "Prpr",
                        keyID: "Lefx"
                    }
                });
                c.data.Jz = {
                    __name: "Set",
                    classID: "setd",
                    null: s,
                    T: {
                        t: "Objc",
                        v: O
                    }
                };
                S.B(c)
            }
        } else if (Y.X == "st_copy") {
            this.aV = [this.DF, this.Gd];
            this.DF = null;
            this.Gd = null
        } else if (Y.X == "st_paste" || Y.X == "st_clear") {
            if (Y.X == "st_paste" && this.aV == null)
                return;
            var x = Y.$ != null ? [Y.$] : h.C.slice(0)
                , u = []
                , y = []
                , j = []
                , v = [];
            for (var G = 0; G < x.length; G++) {
                var E = h.t[x[G]]
                    , X = cU.Zm.em(h, E);
                u.push(E.add.lmfx ? JSON.stringify(E.add.lmfx) : null);
                j.push(JSON.stringify(X));
                if (Y.X == "st_paste") {
                    y.push(this.aV[1]);
                    v.push(this.aV[0])
                } else {
                    y.push(null);
                    X.lrMd.v = 0;
                    X.Opct.v.val = 100;
                    X.iOpa.v.val = 100;
                    X.blIf = {
                        v: []
                    };
                    for (var N = 0; N < 10; N++)
                        X.blIf.v.push(0, 0, 255, 255);
                    v.push(JSON.stringify(X))
                }
            }
            var Z = new fj([11, 6], this);
            Z.data = {
                t: x,
                $n: u,
                QC: y,
                ST: j,
                sD: v
            };
            this.RV(Z.data, h);
            h._l(Z);
            this.DF = null;
            this.Gd = null
        } else {
            var V = this.es
                , O = null;
            if (Y.X == "st_delsingle") {
                O = JSON.parse(this.Gd);
                O[ai.m6[Y.eS[0]]].v.splice(Y.eS[1], 1);
                O = JSON.stringify(O)
            }
            if (O == null)
                delete E.add.lmfx;
            else
                E.add.lmfx = JSON.parse(O);
            if (V != null)
                cU.Zm.iE(h, E, V);
            var Z = new fj([11, 6], this);
            Z.data = {
                t: [Y.$],
                $n: [this.Gd],
                QC: [O],
                ST: [this.DF],
                sD: [JSON.stringify(V)]
            };
            h._l(Z);
            this.DF = null;
            this.Gd = null
        }
        E.V.H4 = !0;
        h.Dn = !0;
        h.s()
    }
        ;
    cU.Zm.em = function (Y, S) {
        if (S.add.iOpa == null)
            S.add.iOpa = 255;
        if (S.add.brst == null)
            S.add.brst = [1, 1, 1];
        var h = S.i4() ? ["pass"].concat(iS.LQ) : iS.LQ;
        return {
            lrMd: {
                v: h.indexOf(S.XC)
            },
            Opct: {
                v: {
                    type: "#Prc",
                    val: Math.round(S.opacity * 100 / 255)
                },
                t: "UntF"
            },
            iOpa: {
                v: {
                    type: "#Prc",
                    val: Math.round(S.add.iOpa * 100 / 255)
                },
                t: "UntF"
            },
            blIf: {
                v: S.s9.slice(0)
            },
            brst: {
                v: S.add.brst
            },
            adk: Y.Ai(),
            aac: Y.tz(),
            i4: S.i4()
        }
    }
        ;
    cU.Zm.iE = function (Y, S, h) {
        var q = S.i4() ? ["pass"].concat(iS.LQ) : iS.LQ;
        S.XC = q[h.lrMd.v];
        S.opacity = Math.round(h.Opct.v.val * 255 / 100);
        S.add.iOpa = Math.round(h.iOpa.v.val * 255 / 100);
        S.s9 = h.blIf.v.slice(0);
        S.add.brst = h.brst.v.slice(0);
        Y.OX(h.adk);
        Y.Lc(h.aac)
    }
        ;
    cU.Zm.prototype.Td = function (Y, S) {
        for (var G = 0; G < Y.t.length; G++) {
            var h = S.t[Y.t[G]]
                , q = Y.$n[G];
            if (q == null)
                delete h.add.lmfx;
            else
                h.add.lmfx = JSON.parse(q);
            cU.Zm.iE(S, h, JSON.parse(Y.ST[G]));
            h.V.H4 = !0
        }
        S.Dn = !0;
        S.s()
    }
        ;
    cU.Zm.prototype.RV = function (Y, S) {
        for (var G = 0; G < Y.t.length; G++) {
            var h = S.t[Y.t[G]]
                , q = Y.QC[G];
            if (q == null)
                delete h.add.lmfx;
            else
                h.add.lmfx = JSON.parse(q);
            cU.Zm.iE(S, h, JSON.parse(Y.sD[G]));
            h.V.H4 = !0
        }
        S.Dn = !0;
        S.s()
    }
        ;
    cU.yr = function () {
        cU.Br.call(this, U.dN)
    }
        ;
    cU.yr.prototype = new cU.Br;
    cU.yr.prototype.ON = function (Y, S, h, q) {
        var H = JSON.parse(JSON.stringify(h.bL))
            , I = JSON.parse(JSON.stringify(h.bL))
            , E = null
            , d = null
            , B = null
            , n = -1
            , g = !1;
        if (Y.X == "delLC") {
            var z = cU.yr.MD(h.bL, Y.Y8)
                , p = h.bL.lastAppliedComp ? h.bL.lastAppliedComp.v : 0;
            I.list.v.splice(z, 1);
            if (p == Y.Y8)
                delete I.lastAppliedComp;
            E = "Delete Layer Comp"
        }
        if (Y.X == "editLC") {
            var z = cU.yr.MD(h.bL, Y.Y8)
                , C = I.list.v[z].v;
            if (Y.Tk != null)
                C.Nm.v = Y.Tk;
            if (Y.a09 != null) {
                var T = Y.a09
                    , A = C.capturedInfo.v
                    , i = A & (1 << T) - 1;
                A = A >> T;
                if ((A & 1) == 1)
                    A--;
                else
                    A++;
                C.capturedInfo.v = (A << T) + i
            }
            E = "Layer Comp properties"
        }
        if (Y.X == "setLC") {
            cU.yr.WF(h);
            if (Y.Y8 == 0)
                delete I.lastAppliedComp;
            else
                I.lastAppliedComp = {
                    t: "long",
                    v: Y.Y8
                };
            E = "Switch Layer Comp";
            g = !0
        }
        if (Y.X == "updLC") {
            cU.yr.WF(h);
            d = cU.yr.a80(h, Y.Y8);
            B = cU.yr.GI(h, Y.Y8);
            I.lastAppliedComp = {
                t: "long",
                v: Y.Y8
            };
            E = "Update Layer Comp";
            n = Y.Y8;
            g = !0
        }
        if (Y.X == "addLC") {
            cU.yr.WF(h);
            var e = 1;
            for (var G = 0; G < I.list.v.length; G++)
                e = Math.max(e, I.list.v[G].v.compID.v) + 1;
            e += Math.floor(Math.random() * 1e4);
            var a = {
                t: "Objc",
                v: {
                    classID: "Comp",
                    Nm: {
                        t: "TEXT",
                        v: "New Comp " + (I.list.v.length + 1)
                    },
                    compID: {
                        t: "long",
                        v: e
                    },
                    capturedInfo: {
                        t: "long",
                        v: 7
                    }
                }
            };
            I.list.v.push(a);
            I.lastAppliedComp = {
                t: "long",
                v: e
            };
            E = "New Layer Comp";
            var Z = cU.yr.GI(h, e);
            cU.yr.$h(h, Z, e)
        }
        var O = new fj(E, this);
        O.data = {
            aiI: H,
            aja: I,
            alc: d,
            a3K: B,
            Y8: n,
            mP: g
        };
        this.RV(O.data, h);
        h._l(O)
    }
        ;
    cU.yr.prototype.RV = function (Y, S) {
        S.bL = Y.aja;
        S.Dn = !0;
        if (Y.a3K)
            cU.yr.$h(S, Y.a3K, Y.Y8);
        if (Y.mP) {
            var h = S.bL.lastAppliedComp ? S.bL.lastAppliedComp.v : 0
                , q = cU.yr.MD(S.bL, h)
                , H = q == -1 ? null : S.bL.list.v[q].v
                , I = H ? H.capturedInfo.v : 7;
            cU.yr.Ua(S, h, I);
            S.s()
        }
    }
        ;
    cU.yr.prototype.Td = function (Y, S) {
        S.bL = Y.aiI;
        S.Dn = !0;
        if (Y.alc)
            cU.yr.$h(S, Y.alc, Y.Y8);
        if (Y.mP) {
            var h = S.bL.lastAppliedComp ? S.bL.lastAppliedComp.v : 0
                , q = cU.yr.MD(S.bL, h)
                , H = q == -1 ? null : S.bL.list.v[q].v
                , I = H ? H.capturedInfo.v : 7;
            cU.yr.Ua(S, h, I);
            S.s()
        }
    }
        ;
    cU.yr.WF = function (Y) {
        if (Y.bL.lastAppliedComp != null || !Y.la)
            return;
        var S = cU.yr.GI(Y, 0);
        cU.yr.$h(Y, S, 0);
        Y.la = !1
    }
        ;
    cU.yr.Vm = function (Y, S, h) {
        Y.v.Hrzn.v += S;
        Y.v.Vrtc.v += h
    }
        ;
    cU.yr.MD = function (Y, S) {
        var h = Y.list.v;
        for (var G = 0; G < h.length; G++)
            if (h[G].v.compID.v == S)
                return G;
        return -1
    }
        ;
    cU.yr.a13 = function (Y) {
        var S = Y.layerSettings.v
            , H = null;
        if (S.length == 0)
            return;
        var h = "compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" ")
            , q = S[0].v;
        if (q.enab == null)
            q.enab = {
                t: "bool",
                v: !0
            };
        if (q.Ofst == null)
            q.Ofst = {
                t: "Objc",
                v: {
                    classID: "null",
                    Hrzn: {
                        t: "long",
                        v: 0
                    },
                    Vrtc: {
                        t: "long",
                        v: 0
                    }
                }
            };
        for (var G = 0; G < S.length; G++) {
            var I = S[G].v;
            if (H == null)
                H = JSON.parse(JSON.stringify(I));
            else
                for (var E = 0; E < h.length; E++) {
                    var d = h[E];
                    if (I[d])
                        H[d] = JSON.parse(JSON.stringify(I[d]))
                }
            S[G].v = JSON.parse(JSON.stringify(H))
        }
    }
        ;
    cU.yr.R5 = function (Y, S) {
        var h = Y.add.shmd.cmls
            , q = h.layerSettings.v;
        for (var H = 0; H < q.length; H++) {
            var I = q[H].v
                , E = I.compList.v[0].v;
            if (E == S)
                return H
        }
        return -1
    }
        ;
    cU.yr.ta = function (Y, S) {
        var h = cU.yr.R5(Y, S);
        return h == -1 ? null : Y.add.shmd.cmls.layerSettings.v[h].v
    }
        ;
    cU.yr.Ua = function (Y, S, h) {
        for (var G = 0; G < Y.t.length; G++) {
            var q = Y.t[G]
                , H = q.add.shmd.cmls;
            if (H == null)
                continue;
            var I = H.layerSettings.v
                , E = cU.yr.ta(q, S);
            if (E == null) {
                q.yR(!1);
                continue
            }
            if ((h & 1) != 0) {
                if (E.enab)
                    q.yR(E.enab.v);
                else
                    q.yR(!0)
            }
            if ((h & 2) != 0) {
                if (E.Ofst) {
                    var d = E.Ofst.v
                        , B = q.ZA(Y)
                        , n = Math.round(d.Hrzn.v - B.x)
                        , g = Math.round(d.Vrtc.v - B.y);
                    if (n != 0 || g != 0)
                        U._C.aJ(Y, [G], null, n, g)
                }
            }
            if ((h & 4) != 0) {
                if (E.Lefx) {
                    var z = JSON.parse(JSON.stringify(E.Lefx.v));
                    f4.cS(z);
                    if (JSON.stringify(z) != JSON.stringify(q.add.lmfx)) {
                        q.add.lmfx = z;
                        q.V.H4 = !0
                    }
                } else
                    delete q.add.lmfx;
                if (E.blendOptions) {
                    var p = E.blendOptions.v;
                    if (p.Opct)
                        q.opacity = Math.round(255 * p.Opct.v.val / 100);
                    if (p.fillOpacity)
                        q.add.iOpa = Math.round(255 * p.fillOpacity.v.val / 100);
                    if (p.Md)
                        q.XC = q.add.lsct == hg._q ? "norm" : iS.Gn(p.Md.v.BlnM)
                } else {
                    q.opacity = 255;
                    q.XC = q.i4() ? "pass" : "norm";
                    q.add.iOpa = 255
                }
            }
        }
    }
        ;
    cU.yr.a80 = function (Y, S) {
        var h = {};
        for (var G = 0; G < Y.t.length; G++) {
            var q = Y.t[G];
            if (q.add.shmd == null || q.add.shmd.cmls == null)
                continue;
            h["l" + q.add.lyid] = JSON.parse(JSON.stringify(cU.yr.ta(q, S)))
        }
        return h
    }
        ;
    cU.yr.GI = function (Y, S) {
        var h = {};
        for (var G = 0; G < Y.t.length; G++) {
            var q = Y.t[G]
                , H = q.add.lyid;
            h["l" + H] = cU.yr.Uw(Y, q, S)
        }
        return h
    }
        ;
    cU.yr.Uw = function (Y, S, h) {
        var q = S.add.shmd ? S.add.shmd.cmls : null
            , H = {
                classID: "null"
            }
            , I = S.ZA(Y)
            , E = {
                t: "Objc",
                v: {
                    classID: "null",
                    Hrzn: {
                        t: "long",
                        v: I.x
                    },
                    Vrtc: {
                        t: "long",
                        v: I.y
                    }
                }
            };
        H.compList = {
            t: "VlLs",
            v: [{
                t: "long",
                v: h
            }]
        };
        H.enab = {
            t: "bool",
            v: S.yj()
        };
        H.Ofst = JSON.parse(JSON.stringify(E));
        H.FXRefPoint = JSON.parse(JSON.stringify(q && q.origFXRefPoint ? q.origFXRefPoint : E));
        H.blendOptions = {
            t: "Objc",
            v: {
                classID: "null",
                Md: {
                    t: "enum",
                    v: {
                        BlnM: iS.zw(S.XC)
                    }
                },
                Opct: {
                    t: "UntF",
                    v: {
                        type: "#Prc",
                        val: 100 * S.opacity / 255
                    }
                },
                fillOpacity: {
                    t: "UntF",
                    v: {
                        type: "#Prc",
                        val: S.add.iOpa != null ? 100 * S.add.iOpa / 255 : 100
                    }
                }
            }
        };
        if (S.add.vmsk) {
            H.vectorMask = {
                t: "Objc",
                v: {
                    classID: "null"
                }
            };
            H.vectorMask.v.Ofst = JSON.parse(JSON.stringify(E))
        }
        if (S.add.lmfx) {
            H.Lefx = {
                t: "Objc",
                v: JSON.parse(JSON.stringify(S.add.lmfx))
            };
            f4.S5(H.Lefx.v)
        }
        return H
    }
        ;
    cU.yr.a4N = function (Y, S) {
        var h = S.add.lyid;
        if (S.add.shmd == null)
            S.add.shmd = {};
        if (S.add.shmd.cmls == null) {
            S.add.shmd.cmls = {
                classID: "null",
                LyrI: {
                    t: "long",
                    v: h
                },
                layerSettings: {
                    t: "VlLs",
                    v: [{
                        t: "Objc",
                        v: cU.yr.Uw(Y, S, 0)
                    }]
                }
            }
        }
    }
        ;
    cU.yr.$h = function (Y, S, h) {
        for (var G = 0; G < Y.t.length; G++) {
            var q = Y.t[G]
                , H = q.add.lyid;
            cU.yr.a4N(Y, q);
            var I = q.add.shmd.cmls
                , E = I.layerSettings.v
                , d = S["l" + H];
            if (d != null)
                d = {
                    t: "Objc",
                    v: JSON.parse(JSON.stringify(d))
                };
            var B = cU.yr.R5(q, h);
            if (B == -1) {
                if (d == null)
                    continue;
                else
                    E.push(d)
            } else {
                if (d == null)
                    E.splice(B, 1);
                else
                    E[B] = d
            }
        }
    }
        ;
    cU.yr.bU = function (Y, S) {
        for (var G = 0; G < Y.t.length; G++) {
            var h = Y.t[G]
                , q = h.add.lyid;
            if (h.add.shmd == null || h.add.shmd.cmls == null)
                continue;
            var H = h.ZA(Y)
                , I = Math.round(H.x)
                , E = Math.round(H.y);
            if (!S) {
                I = -I;
                E = -E
            }
            var d = h.add.shmd.cmls
                , B = d.layerSettings.v;
            if (d.origFXRefPoint)
                cU.yr.Vm(d.origFXRefPoint, -I, -E);
            for (var n = 0; n < B.length; n++) {
                var g = B[n].v;
                cU.yr.Vm(g.Ofst, I, E);
                var z = g.imageMask
                    , p = g.vectorMask;
                if (z && z.v.Ofst)
                    cU.yr.Vm(z.v.Ofst, I, E);
                if (p && p.v.Ofst)
                    cU.yr.Vm(p.v.Ofst, I, E)
            }
        }
    }
        ;
    cU.Xw = function () {
        cU.Br.call(this, U.dk);
        this.UU = null;
        this.yF = null
    }
        ;
    cU.Xw.prototype = new cU.Br;
    cU.Xw.ah = function (Y, S, h, q) {
        if (q)
            S /= 4;
        var H = 0
            , I = 0
            , E = 255
            , d = 0
            , B = 0
            , n = 255;
        while (I + Y[H] < S) {
            I += Y[H];
            H++
        }
        while (d + Y[E] < S) {
            d += Y[E];
            E--
        }
        if (q) {
            H -= Math.round(Y[H] / (h / 32));
            E += Math.round(Y[E] / (h / 32));
            if (H < 0)
                B = Math.round(-H * 255 / (E - H));
            if (E > 255)
                n = 255 - Math.round((E - 255) * 255 / (E - H))
        }
        return [Math.max(H, 0), Math.min(E, 255), B, n, 100]
    }
        ;
    cU.Xw.prototype.ON = function (Y, S, h, q, H) {
        var I = Y.X;
        if (I == "auto") {
            var E = Y.er
                , d = cU.Xw.getData(h);
            for (var G = 0; G < d.length; G++) {
                var B = d[G], n;
                if (E < 3) { } else {
                    var g = io.g4("hue2");
                    c9.SK(g, 0, [0, -100, 0]);
                    n = dD.HA("hue2", g)
                }
                dD.Cu(n, B.kQ, B.d7, B._)
            }
            cU.Xw._v(h, d);
            cU.Xw.xQ(h, d, E < 3 ? [4, 16, E] : [19, 7, 0], this);
            h.s()
        }
        if (I == "edit_layer")
            this.ach(Y, S, h, q);
        if (I == "edit" || I == "confirm" || I == "cancel")
            this.BZ(Y, S, h, H, !0);
        if (I == "start") {
            if (h.C.length == 0)
                return;
            var z = h.t[h.C[0]];
            if (z.add.SoLd && z.wF <= 0) {
                var p = new _(P.E.A, !0);
                p.F = U.J_;
                p.data = {
                    X: "start",
                    ks: Y.xE
                };
                S.B(p);
                return
            }
            if (!h.M1(S, null, !0))
                return;
            if (L[Y.xE] && Y.w1 == null) {
                if (h.C.length != 1)
                    alert("Will be applied to " + h.C.length + " layers.");
                var p = new _(P.E.P, !0);
                p.data = {
                    X: P.U.V5,
                    Fh: "afw_" + Y.xE
                };
                S.B(p)
            } else {
                this.BZ({
                    X: "edit",
                    w1: Y.w1,
                    ks: Y.xE
                }, S, h, H);
                this.BZ({
                    X: "confirm",
                    ks: Y.xE
                }, S, h, H)
            }
        }
    }
        ;
    cU.Xw.prototype.ach = function (Y, S, h, q) {
        var H = Y.X, I = h.C[0], E = h.t[I], d = dD.get(E.add), B = JSON.parse(JSON.stringify(Y.G)), z;
        for (var n in dD.rs)
            if (dD.rs[n] == d)
                B.classID = n;
        var g = h.history[h.Zj];
        if (g && g.F == this && g.data.IJ != null && g.data.$ == I)
            z = g;
        else {
            var p = new _(P.E.$_, !0)
                , C = {
                    classID: "setd",
                    null: bw.wC("AdjL", !0),
                    T: {
                        t: "Objc",
                        v: B
                    }
                };
            p.data = {
                Zz: !0,
                f0: "set",
                Jz: C
            };
            S.B(p);
            var z = new fj([6, 39], this);
            z.data = {
                $: I,
                IJ: E.add[d],
                aq: Y.G,
                qS: C
            };
            h._l(z)
        }
        z.data.aq = Y.G;
        z.data.qS.T.v = B;
        this.RV(z.data, h)
    }
        ;
    cU.Xw.getData = function (Y, S, h) {
        var q = []
            , H = new W(0, 0, Y.d, Y.v)
            , I = Y.AN.length != 0 ? [-1 - Y.AN[0]] : Y.C;
        for (var G = 0; G < I.length; G++) {
            var E = I[G]
                , d = E < 0 ? null : Y.t[E]
                , B = {
                    $: E,
                    g8: E < 0 ? 1 : d.wF
                };
            q.push(B);
            var n = Y.h3[-1 - E];
            if (0 <= E)
                n = d.wF <= 0 ? null : d.wF == 1 ? d.Qn() : d.$l(Y).r;
            var g = n ? n.rect : d.rect;
            if (Y.N)
                B._ = n != null ? Y.N.rect.lF(H) : Y.N.rect.lF(g);
            else
                B._ = S || n != null ? g.TG(H) : g.clone();
            if (h)
                B._ = h[G]._.clone();
            var z = B._.e();
            B.kQ = t.m(z * 4);
            if (n)
                U.NJ.wh(n.channel, n.rect, n.color, B.kQ, B._);
            else
                t.rd(d.buffer, g, B.kQ, B._);
            B.d7 = B.kQ.slice(0);
            if (Y.N) {
                B.G4 = t.m(z);
                t.m7(Y.N.channel, Y.N.rect, B.G4, B._)
            }
        }
        return q
    }
        ;
    cU.Xw.abC = function (Y, S, h) {
        if (S == null)
            return S;
        var q = dD.TF(Y, S), I;
        if (q == -1)
            return S;
        var H = h.length >>> 2
            , E = t.Po(h)
            , d = .001 * H;
        if (q == 0 || q == 2)
            I = [[0, 255, 0, 255, 100], cU.Xw.ah(E[1], d, H, q == 2), cU.Xw.ah(E[2], d, H, q == 2), cU.Xw.ah(E[3], d, H, q == 2)];
        if (q == 1)
            I = [cU.Xw.ah(E[0], d * .33, H, !1), [0, 255, 0, 255, 100], [0, 255, 0, 255, 100], [0, 255, 0, 255, 100]];
        var B = io.g4("levl");
        for (var G = 0; G < 4; G++)
            i9.SK(B, G, I[G]);
        return B
    }
        ;
    cU.Xw.prototype.BZ = function (Y, S, h, q) {
        if (this.UU == null) {
            if (Y.ks == "aply")
                h.t[h.C[0]].extend(new W(0, 0, h.d, h.v));
            this.UU = cU.Xw.getData(h, null, Y.ks == "fade" ? h.JK().data : null);
            if (Y.ks == "aply")
                this.UU[0].Vi = h.Q3()
        }
        if (Y.X == "edit") {
            this.yF = [Y.ks, Y.w1];
            var H = this.UU[0]
                , I = cU.Xw.abC(Y.ks, Y.w1, H.kQ)
                , E = dD.HA(Y.ks, I);
            if (Y.ks == "fade" || Y.ks == "aply")
                E = Y.w1;
            if (E != null) {
                for (var G = 0; G < this.UU.length; G++) {
                    var d = this.UU[G];
                    if (Y.vj)
                        t.vx(d.kQ, d.d7);
                    else if (Y.ks == "fade") {
                        var B = iS.Gn(Y.w1.Md.v.BlnM)
                            , n = Y.w1.Opct.v.val / 100
                            , g = h.JK().data[G];
                        t.vx(g.kQ, d.d7);
                        if (B == "norm")
                            t.Q.OA(d.kQ, d._, d.d7, d._, null, null, null, d._, n);
                        else {
                            var z = av.$N();
                            z.x6 = !0;
                            for (var G = 0; G < g.kQ.length; G += 4)
                                if (g.kQ[G + 3] != d.kQ[G + 3]) {
                                    z = null;
                                    break
                                }
                            t.Q.Bc(B, d.kQ, d._, d.d7, d._, d._, n, z)
                        }
                    } else if (Y.ks == "aply") {
                        E = E.With.v;
                        var p = E.T.v, C, T;
                        if (p[1].t == "name") {
                            var A = 0;
                            for (var i = 0; i < h.t.length; i++)
                                if (h.t[i].getName() == p[1].v.val)
                                    A = i;
                            if (A == d.$) {
                                C = d.kQ;
                                T = d._
                            } else {
                                var e = h.t[A];
                                C = e.buffer;
                                T = e.rect
                            }
                        } else {
                            T = new W(0, 0, h.d, h.v);
                            C = d.Vi
                        }
                        var a = E.Clcl ? E.Clcl.v.Clcn : null
                            , B = a ? iS.Gn(a) : "norm"
                            , n = E.Opct ? E.Opct.v.val / 100 : 1
                            , Z = ["RGB", "Rd", "Grn", "Bl", "Trsp"].indexOf(p[0].v.enum)
                            , I = E.Invr && E.Invr.v;
                        if (I || Z != 0) {
                            C = C.slice(0);
                            if (I)
                                t.a1B(C);
                            if (Z != 0) {
                                var O = t.m(T.e());
                                t.Ft(C, O, Z - 1);
                                if (Z == 4)
                                    t.fb(O);
                                for (var i = 0; i < 3; i++)
                                    t.Vj(O, C, i)
                            }
                        }
                        if (a == "Sbtr") {
                            var c = 1 / E.Scl.v
                                , s = E.Ofst.v
                                , x = new Uint8ClampedArray(d.d7.buffer);
                            for (var G = 0; G < C.length; G += 4) {
                                x[G] = (d.kQ[G] - C[G]) * c + s;
                                x[G + 1] = (d.kQ[G + 1] - C[G + 1]) * c + s;
                                x[G + 2] = (d.kQ[G + 2] - C[G + 2]) * c + s
                            }
                        } else {
                            var z = av.$N();
                            z.x6 = E.PrsT && E.PrsT.v;
                            d.d7.fill(0);
                            d.d7.set(d.kQ);
                            t.Q.Bc(B, C, T, d.d7, d._, d._, n, z)
                        }
                    } else
                        dD.Cu(E, d.kQ, d.d7, d._)
                }
                cU.Xw._v(h, this.UU)
            }
        }
        if (Y.X == "cancel") {
            cU.Xw.Y4(h, this.UU);
            this.UU = null
        }
        if (Y.X == "confirm") {
            var u = Y.ks == "fade" ? [2, 11] : Y.ks == "aply" ? [2, 12] : dD.names[Y.ks]
                , y = dD.TF(Y.ks, this.yF[1]);
            if (y != -1)
                u = [4, 16, y];
            cU.Xw.xQ(h, this.UU, u, this);
            this.UU = null;
            if (y == -1)
                cU.Xw.Iz(S, this.yF)
        }
        h.s()
    }
        ;
    cU.Xw.Iz = function (Y, S) {
        var h = S[0], q = S[1], H, I;
        if (dD.LS[h]) {
            H = dD.LS[h];
            if (L[h])
                I = q
        }
        if (io.LS[h]) {
            H = io.LS[h];
            if (L[h])
                I = q
        }
        if (h == "fade") {
            H = "fade";
            I = q
        }
        if (h == "aply") {
            H = "applyImageEvent";
            I = q
        }
        if (H == null)
            return;
        var E = new _(P.E.$_, !0);
        E.data = {
            Zz: !0,
            f0: H
        };
        if (I) {
            I = JSON.parse(JSON.stringify(I));
            I.classID = "null";
            delete I.__name;
            E.data.Jz = I
        }
        Y.B(E)
    }
        ;
    cU.Xw.Y4 = function (Y, S) {
        cU.Xw.eL(Y, S)
    }
        ;
    cU.Xw.xQ = function (Y, S, h, q) {
        for (var G = 0; G < S.length; G++) {
            var H = S[G]
                , I = Y.t[H.$]
                , E = H.$ < 0 ? Y.h3[-1 - H.$] : H.g8 <= 0 ? null : H.g8 == 1 ? I.Qn() : I.$l(Y).r;
            if (E) {
                E.Mq();
                E.Uh = !0;
                if (I)
                    I._A(Y)
            } else {
                I.Mq();
                I.s()
            }
            delete H.d7;
            delete H.G4
        }
        var d = new fj(h, q);
        d.data = S;
        Y._l(d);
        Y.Dn = !0
    }
        ;
    cU.Xw._v = function (Y, S, h) {
        for (var G = 0; G < S.length; G++) {
            var q = S[G]
                , H = Y.t[q.$]
                , I = h ? q.kQ : q.d7
                , E = q._;
            if (q.g8 == 0) {
                H.extend(E);
                if (q.G4) {
                    t.rd(q.kQ, E, H.buffer, H.rect);
                    t.Q.OA(I, E, H.buffer, H.rect, q.G4, E, 0, E, 1)
                } else
                    t.rd(I, E, H.buffer, H.rect)
            } else {
                var d = q.$ < 0 ? Y.h3[-1 - q.$] : q.g8 == 1 ? H.Qn() : H.$l(Y).r;
                d.extend(E);
                if (q.G4) {
                    var B = t.m(E.e() * 4);
                    t.vx(q.kQ, B);
                    t.Q.OA(I, E, B, E, q.G4, E, 0, E, 1);
                    U.NJ.tg(B, E, d)
                } else
                    U.NJ.tg(I, E, d);
                d.Uh = !0;
                if (H)
                    H._A(Y)
            }
            if (H)
                H.s()
        }
        if (!h)
            cU.Xw.vP(Y, S)
    }
        ;
    cU.Xw.eL = function (Y, S) {
        for (var G = 0; G < S.length; G++) {
            var h = S[G]
                , q = Y.t[h.$]
                , H = h._
                , I = t.m(H.e() * 4);
            if (h.g8 == 0) {
                t.rd(q.buffer, q.rect, I, H);
                q.extend(H);
                t.rd(h.kQ, H, q.buffer, q.rect);
                q.Mq()
            } else {
                var E = h.$ < 0 ? Y.h3[-1 - h.$] : h.g8 == 1 ? q.Qn() : q.$l(Y).r;
                U.NJ.wh(E.channel, E.rect, E.color, I, H);
                E.extend(H);
                U.NJ.tg(h.kQ, H, E);
                E.Mq();
                E.Uh = !0;
                if (q)
                    q._A(Y)
            }
            h.kQ = I;
            if (q)
                q.s()
        }
        Y.Dn = !0
    }
        ;
    cU.Xw.vP = function (Y, S) {
        var h = cU.Xw.SS(Y)
            , q = ~h;
        if (h == 16777215)
            return;
        for (var G = 0; G < S.length; G++) {
            var H = S[G]
                , I = Y.t[H.$]
                , E = H._;
            if (H.g8 != 0)
                continue;
            I.extend(E);
            var d = E.x - I.rect.x
                , B = E.y - I.rect.y
                , n = I.rect.d
                , g = new Uint32Array(H.kQ.buffer)
                , z = new Uint32Array(I.buffer.buffer);
            for (var p = 0; p < E.v; p++)
                for (var C = 0; C < E.d; C++) {
                    var T = p * E.d + C
                        , A = (p + B) * n + (C + d);
                    z[A] = z[A] & h | g[T] & q
                }
            I.Mq();
            I.s()
        }
        Y.s()
    }
        ;
    cU.Xw.SS = function (Y) {
        var S = Y.z.L5;
        return S[2] * 16711680 | S[1] * 65280 | S[0] * 255
    }
        ;
    cU.Xw.prototype.Td = function (Y, S) {
        var h = S.t[Y.$];
        if (Y.IJ != null)
            h.add[dD.get(h.add)] = Y.IJ;
        else
            cU.Xw.eL(S, Y);
        S.s()
    }
        ;
    cU.Xw.prototype.RV = function (Y, S) {
        var h = S.t[Y.$];
        if (Y.IJ != null)
            h.add[dD.get(h.add)] = Y.aq;
        else
            cU.Xw.eL(S, Y);
        S.s()
    }
        ;
    cU.Cw = function () {
        cU.Br.call(this, U.J_);
        this.UU = null;
        this.zV = null;
        this.X = null;
        this.yF = null
    }
        ;
    cU.Cw.prototype = new cU.Br;
    cU.Cw.prototype.ON = function (Y, S, h, q, H) {
        if (Y.X == "start") {
            if (h.C.length == 0)
                return;
            var I = h.t[h.C[0]];
            if (I.add.SoLd && I.wF <= 0) { } else if (!h.M1(S, null, !0))
                return;
            var E = Y.ks;
            if ((L[E] || io.Cf[E]) && Y.w1 == null) {
                if (h.C.length != 1)
                    alert("Will be applied to " + h.C.length + " layers.");
                var d = new _(P.E.P, !0);
                d.data = cU.Cw.hi(E, this.Ia(h, E));
                S.B(d)
            } else {
                var B = {
                    X: "edit",
                    ks: E,
                    w1: Y.w1,
                    dX: this.Ia(h)
                };
                debugger
                this.ON(B, S, h, q, H);
                B.X = "confirm";
                delete B.w1;
                debugger
                this.ON(B, S, h, q, H)
            }
        }
        if (Y.X == "edit" || Y.X == "cancel" || Y.X == "confirm") {
            if (Y.X == "edit")
                this.yF = [Y.ks, Y.w1];
            if (Y.dX)
                this.a1D(Y, h, H);
            else
                this.ahy(Y, S, h, H)
        }
        if (Y.X == "applylast" && this.yF != null) {
            var B = {
                X: "edit",
                ks: this.yF[0],
                w1: this.yF[1],
                dX: this.Ia(h)
            };
            debugger
            this.ON(B, S, h, q, H);
            B.X = "confirm";
            delete B.w1;
            this.ON(B, S, h, q, H)
        }
    }
        ;
    cU.Cw.hi = function (Y, S) {
        var h = io.Cf[Y];
        if (h)
            return {
                X: P.U.iK,
                F: h,
                mY: {
                    dX: S
                }
            };
        else
            return {
                X: P.U.V5,
                Fh: "afw_" + Y,
                dX: S
            }
    }
        ;
    cU.Cw.prototype.Ia = function (Y, S) {
        var h = Y.t[Y.C[0]], q;
        if (h.add.SoLd && h.wF <= 0) {
            q = {
                $: Y.C[0],
                index: 0
            };
            if (h.add.SoLd.filterFX != null) {
                var H = h.add.SoLd.filterFX.v.filterFXList.v;
                q.index = H.length;
                for (var G = 0; G < H.length; G++)
                    if (io.mU(H[G].v) == S && io.Cf[S])
                        q.index = G
            }
        }
        return q
    }
        ;
    cU.Cw.prototype.a1D = function (Y, S, h) {
        var q = S.t[Y.dX.$]
            , H = Y.ks;
        if (Y.X == "edit") {
            if (this.X == null) {
                var I = io.names[H];
                if (I == null)
                    I = dD.names[H];
                if (H == "blendOptions")
                    I = [14, 10];
                this.X = new fj(I, this);
                this.X.data = {
                    dX: Y.dX,
                    anE: JSON.parse(JSON.stringify(q.add.SoLd))
                }
            }
            if (!q.ef()) {
                q.add.SoLd.filterFX = io.JP();
                this.X.data.OB = dh.D6(q.add.SoLd.placed.v);
                S.Af(this.X.data.OB);
                q.rH(S)
            }
            var E = q.add.SoLd.filterFX.v.filterFXList.v;
            if (E[Y.dX.index] == null) {
                E.push(io.gW(H, h))
            }
            if (Y.w1) {
                E[Y.dX.index].v.enab.v = Y.vj != !0;
                if (H == "blendOptions")
                    E[Y.dX.index].v.blendOptions.v = Y.w1;
                else
                    E[Y.dX.index].v.Fltr.v = Y.w1
            }
            this.X.data.ahv = JSON.parse(JSON.stringify(q.add.SoLd));
            this.RV(this.X.data, S)
        }
        if (Y.X == "cancel") {
            if (this.X)
                this.Td(this.X.data, S);
            this.X = null
        }
        if (Y.X == "confirm") {
            if (this.X)
                S._l(this.X);
            this.X = null
        }
    }
        ;
    cU.Cw.prototype.dz = function (Y) {
        return {
            h: Y >>> 16,
            l: Y >>> 8 & 255,
            O: Y & 255
        }
    }
        ;
    cU.Cw.prototype.ahy = function (Y, S, h, q) {
        if (this.UU == null) {
            var H = io.He(Y.ks, Y.w1);
            this.UU = cU.Xw.getData(h, H.x != 0 || H.y != 0)
        }
        if (Y.X == "edit") {
            var I = JSON.stringify(Y.w1);
            if ((Y.w1 == null || I != this.zV) && Y.vj != !0)
                for (var G = 0; G < this.UU.length; G++) {
                    var E = this.UU[G]
                        , d = {
                            rect: E._,
                            buffer: E.kQ
                        }
                        , B = {
                            rect: E._,
                            buffer: E.d7
                        };
                    io.Cu(Y.ks, d, Y.w1, this.dz(q.jy), this.dz(q.E$), B, [h.add.lnk2 ? h.add.lnk2 : [], h.t[h.C[0]].Qn(), h.h3]);
                    this.zV = I
                }
            cU.Xw._v(h, this.UU, Y.vj)
        }
        if (Y.X == "cancel") {
            cU.Xw.Y4(h, this.UU);
            this.UU = null;
            this.zV = null
        }
        if (Y.X == "confirm") {
            cU.Xw.xQ(h, this.UU, io.names[Y.ks], this);
            this.UU = null;
            this.zV = null;
            cU.Xw.Iz(S, this.yF)
        }
        h.s();
        h.Dn = !0
    }
        ;
    cU.Cw.prototype.Td = function (Y, S) {
        if (Y.dX) {
            var h = S.t[Y.dX.$];
            if (Y.OB)
                S.Yh(Y.OB);
            h.add.SoLd = JSON.parse(JSON.stringify(Y.anE));
            if (h.ef())
                h.ih(S);
            else {
                h.rH(S);
                h.wF = 0
            }
        } else
            cU.Xw.eL(S, Y);
        S.s();
        S.Dn = !0
    }
        ;
    cU.Cw.prototype.RV = function (Y, S) {
        if (Y.dX) {
            var h = S.t[Y.dX.$];
            if (Y.OB)
                S.Af(Y.OB);
            h.add.SoLd = JSON.parse(JSON.stringify(Y.ahv));
            if (h.ef())
                h.ih(S);
            else
                h.rH(S);
            if (!h.yc())
                h.xa += 32
        } else
            cU.Xw.eL(S, Y);
        S.s();
        S.Dn = !0
    }
        ;
    var iD = {
        Ie: "0",
        e8: "1",
        MM: "2",
        Se: "3",
        YM: "4",
        Zp: "5",
        Bt: "6",
        jl: "7",
        A: "8",
        iL: "8.5",
        HE: "8.8",
        A4: "9",
        OO: "10",
        O1: "11",
        Rt: "12",
        iZ: "13",
        Zl: "14",
        kJ: "15",
        oo: "21",
        bh: "22",
        Lb: "23",
        Ln: "23.0",
        Ch: "23.1",
        Nv: "23.2",
        H6: "23.3",
        Ay: "23.4",
        v7: "23.5",
        uG: "23.6",
        tj: "30",
        zY: "31",
        Ub: "40",
        Wl: "41",
        Mm: "42"
    };
    iD.FV = {};
    iD.FV[iD.e8] = ["abr", "brushes", cZ, [9, 3]];
    iD.FV[iD.MM] = ["grd", "gradients", eW, [12, 37]];
    iD.FV[iD.Se] = ["shc", "contours", f0, [12, 21]];
    iD.FV[iD.YM] = ["asl", "styles", eU, [12, 22]];
    iD.FV[iD.Zp] = ["pat", "patterns", fG, [12, 62]];
    iD.FV[iD.Bt] = ["csh", "shapes", e$, [12, 77]];
    iD.FV[iD.jl] = ["aco", "swatches", eg, [9, 8]];
    iD.FV[iD.A] = ["atn", "actions", gT, [9, 9]];
    iD.FV[iD.iL] = ["tpl", "tpresets", g4, [9, 12]];
    iD.FV[iD.HE] = ["icc", "profiles", a9, "ICCs"];
    function fj(Y, S, h) {
        if (h == null)
            h = !1;
        this.name = Y;
        this.F = S;
        this.h8 = h;
        this.data = null
    }
    var bw = {};
    bw.wC = function (Y, S) {
        var h = {
            t: "Clss",
            v: {
                classID: Y
            }
        };
        if (S)
            h = {
                t: "Enmr",
                v: {
                    classID: Y,
                    typeID: "Ordn",
                    enum: "Trgt"
                }
            };
        return {
            t: "obj ",
            v: [h]
        }
    }
        ;
    bw.$Y = function (Y, S) {
        var h = {
            classID: "Lyr"
        };
        h[Y] = S;
        return {
            f0: "set",
            Jz: {
                classID: "null",
                null: bw.wC("Lyr", !0),
                T: {
                    t: "Objc",
                    v: h
                }
            }
        }
    }
        ;
    bw.ao9 = function (Y, S, h, q, H) {
        var I = new _(P.E.$_, !0)
            , E = []
            , G = 0
            , d = bw.$v(S, h, q, E);
        while (E.length != 0) {
            var B = E.pop();
            G++;
            if (!B.p)
                continue;
            if (B.f0 == "conditional") {
                var n = Y.t[Y.C[0]]
                    , g = B.Jz.null.v.Cndt
                    , z = !1;
                if (g == "Bckg")
                    z = !1;
                else if (g == "Pxel" && Y.gH(!1))
                    z = !0;
                else if (g == "Adjs" && dD.get(n.add))
                    z = !0;
                else if (g == "Shp" && n.add.vogk)
                    z = !0;
                else if (g == "Grup" && n.i4())
                    z = !0;
                var p = B.Jz.then.v;
                if (z)
                    bw.$v(S, p[0].v.val, p[1].v.val, E)
            } else if (B.f0 == "stop") {
                if (B.Jz.Cntn && B.Jz.Cntn.v == !0)
                    window.confirm(B.Jz.Msge.v);
                else {
                    alert(B.Jz.Msge.v);
                    break
                }
            } else if (B.f0 == "play") {
                var C = B.Jz.null.v
                    , T = new _(P.E.P, !0);
                T.data = {
                    X: P.U.dr,
                    Qg: [C[0].v.val, C[1].v.val]
                };
                H.B(T)
            } else {
                I.data = {
                    f0: B.f0,
                    Jz: B.Jz
                };
                H.B(I)
            }
        }
    }
        ;
    bw.$v = function (Y, S, h, q) {
        var H;
        for (var G = 0; G < Y.length; G++) {
            if (Y[G].vc != h)
                continue;
            var I = Y[G].Eq;
            for (var E = 0; E < I.length; E++) {
                if (I[E].vc != S)
                    continue;
                H = I[E].Eq
            }
        }
        var d = H.length;
        for (var G = 0; G < d; G++)
            q.push(H[d - 1 - G])
    }
        ;
    bw.a1x = function (Y) {
        var S = Y.f0, h = Y.Jz, q, E, d, B, n, g;
        if (h && h.null)
            q = h.null.v[0];
        if (h && q == null && h.At)
            q = h.At.v[0];
        if (q && q.t == "obj ")
            q = q.v[0];
        var H = q ? q.v.classID : null
            , I = ["purge"];
        if (I.indexOf(S) != -1)
            return S[0].toUpperCase() + S.slice(1);
        g = dD.LS;
        for (E in g)
            if (g[E] == S)
                d = E;
        g = io.LS;
        for (E in g)
            if (g[E] == S)
                B = E;
        g = eE.LS;
        for (E in g)
            if (g[E] == S)
                n = E;
        if (d) {
            var z = dD.TF(d, h);
            if (z != -1)
                return [4, 16, z];
            return dD.names[d]
        }
        if (B)
            return io.names[B];
        if (n)
            return eE.names[n];
        var p = bw.gR;
        if (S == "make") {
            if (q) {
                if (H == "AdjL")
                    return [6, 1];
                else if (H == "layerSection")
                    return [6, 9];
                else if (H == "Lyr")
                    return [6, 13];
                else if (H == "Chnl" && q.v.enum == "Msk")
                    return [6, 2];
                else if (H == "contentLayer")
                    return [6, 48, 1];
                else if (H == "BckL")
                    return "Make Background Layer";
                else if (H == "Path")
                    return "Make Path";
                else if (H == "TxLr")
                    return "Make Text Layer"
            }
            if (h.Nw) {
                H = h.Nw.v.classID;
                if (H == "Dcmn")
                    return [11, 7];
                else if (H == "Chnl" || H == "SCch")
                    return "New Channel"
            }
        } else if (S == "select") {
            if (H == "Chnl")
                return "Select " + (q.v.enum == "Msk" ? "Mask " : "") + "Channel";
            else if (H == "Mn")
                return "Select Panel \"" + q.v.enum + "\"";
            else if (H == "Lyr") {
                if (q.t == "Enmr")
                    return "Select " + {
                        Bckw: "Backward"
                    }[q.v.enum] + " Layer";
                return "Select Layer \"" + q.v.val + "\""
            } else if (H == "Dcmn")
                return "Select Document"
        } else if (p[S] && H == "Chnl") {
            var C = q.v.keyID == "fsel";
            return p[S] + " " + (C ? "Selection" : "Channel")
        } else if (S == "set") {
            if (H == "Lyr")
                return "Set Current Layer";
            else if (H == "AdjL")
                return [6, 39];
            else if (H == "contentLayer")
                return [6, 48, 2];
            else if (H == "Prpr")
                return [11, 6];
            else if (H == "Clr")
                return "Set " + (q.v.keyID == "FrgC" ? "Foreground" : "Background") + " color";
            else if (H == "Brsh")
                return "Set Brush";
            else
                console.log(H)
        } else if (S == "move") {
            if (H == "Lyr")
                return "Move Layer"
        } else if (S == "show" || S == "hide") {
            var T = "";
            if (H == "Lyr")
                +"Layer";
            if (H == "Chnl")
                +"Channel";
            return (S == "show" ? "Show" : "Hide") + " " + T
        } else if (S == "reset") {
            if (H == "Clr")
                return "Reset Colors"
        } else if (S == "exchange") {
            if (H == "Clr")
                return [22, 7, 0]
        } else if (S == "rotateEventEnum")
            return [2, 5];
        else if (S == "flip") {
            var A = h.Axis.v.Ornt == "Hrzn";
            return [[2, 6], [22, 4, A ? 2 : 3]]
        }
        if (H == "Chnl") {
            if (S == "duplicate") {
                if (q.v.keyID == "fsel")
                    return "Selection to Channel";
                else
                    return "Duplicate Channel"
            }
            if (S == "delete")
                return "Delete Channel"
        }
        if (S == "transform")
            return q.v.keyID == "fsel" ? [7, 10] : [10, 16];
        var i = {
            cut: [5, 0],
            copyEvent: [5, 1],
            copyToLayer: [6, 49],
            copyMerged: [5, 7],
            paste: [5, 2],
            close: [1, 12],
            save: [1, 2],
            groupEvent: [6, 18],
            duplicate: [6, 0],
            mergeLayersNew: [6, 12, 0],
            mergeVisible: "Merge Visible",
            flattenImage: [6, 12, 1],
            updatePlacedLayer: [6, 36, 1],
            fade: [2, 11],
            applyImageEvent: [2, 12],
            fill: [2, 3],
            colorRange: [7, 8],
            desaturate: [19, 7, 0],
            delete: h ? [6, 31] : [2, 2],
            align: [20, 4, 0],
            applyLocking: [6, 57, 1],
            crop: [11, 12, 1],
            placedLayerEditContents: "Edit Contents",
            newPlacedLayer: [6, 7],
            canvasSize: [11, 3],
            imageSize: [11, 10],
            rasterizeLayer: [6, 8],
            revealAll: [11, 12, 2],
            conditional: "If"
        }
            , e = i[S];
        if (e == null)
            e = bw.$q[S];
        if (e)
            return e;
        return S
    }
        ;
    bw.$q = {
        border: [7, 9],
        smoothness: [19, 3, 0],
        expand: [7, 4],
        contract: [7, 5],
        feather: [7, 6],
        inverse: [7, 2]
    };
    bw.gR = {
        set: "Set",
        add: "Add Transparency",
        addTo: "Add To",
        subtract: "Subtract Transparency",
        subtractFrom: "Subtract From",
        interfaceIconFrameDimmed: "Intersect Transparency",
        interfaceWhite: "Intersect With"
    };
    bw.aaD = function (Y, S, h, q) {
        var H = Y.f0, I = Y.Jz, E = new _(P.E.A, !0), n, g, z, p, C, e;
        E.F = U.GC;
        var d = new _(P.E.P, !0)
            , B = ["purge", "updatePlacedLayer"];
        if (B.indexOf(H) != -1)
            return;
        C = dD.LS;
        for (n in C)
            if (C[n] == H)
                g = n;
        C = io.LS;
        for (n in C)
            if (C[n] == H)
                z = n;
        C = eE.LS;
        for (n in C)
            if (C[n] == H)
                p = n;
        if (H == "fade")
            g = H;
        if (H == "applyImageEvent")
            g = "aply";
        if (g) {
            E.F = U.dk;
            E.data = {
                X: "start",
                xE: g,
                w1: I
            }
        } else if (z) {
            E.F = U.J_;
            E.data = {
                X: "start",
                ks: z,
                w1: I
            }
        } else if (p) {
            E.F = U.J_;
            E.data = {
                X: "start",
                ks: "GEfc",
                w1: I
            }
        } else if (H == "imageSize" || H == "canvasSize" || H == "revealAll" || H == "trim" || H == "crop") {
            E.F = U._G;
            E.data = {
                X: "fromAction",
                gM: Y
            }
        } else if (H == "fill" || H == "delete" && I == null) {
            E.F = U.e8;
            E.data = {
                X: "fromAction",
                gM: Y
            }
        } else if (H == "colorRange") {
            var T = I.Mnm.v
                , A = I.Mxm.v;
            E.F = U.n5;
            E.data = {
                X: "crange",
                wV: {
                    sj: T.Lmnc.v,
                    R: T.A.v,
                    O: T.B.v
                },
                br: {
                    sj: A.Lmnc.v,
                    R: A.A.v,
                    O: A.B.v
                },
                kb: I.Fzns.v / 200
            }
        } else if (bw.$q[H] || bw.gR[H] && (!1 || I.With && I.With.v[0].v.keyID == "fsel" || I.From && I.From.v[0].v.keyID == "fsel" || I.null && I.null.v[0].v.keyID == "fsel" || I.T.v[0] && I.T.v[0].v.keyID == "fsel")) {
            E.F = U.n5;
            E.data = {
                X: "fromAction",
                gM: Y
            }
        }
        var i = {
            copyToLayer: M.eu,
            mergeLayersNew: q && q.C.length == 1 ? M.sn : M.zS,
            rasterizeLayer: M.Ny,
            mergeVisible: M.xo,
            flattenImage: M.Mj,
            newPlacedLayer: M.DJ
        };
        if (i[H])
            E.data = {
                X: i[H],
                Jz: I
            };
        if (E.data) {
            S.B(E);
            return
        }
        if (H == "desaturate") {
            E.F = U.dk;
            E.data = {
                X: "auto",
                er: 3
            };
            if (q && q.t[q.C[0]].add.SoLd == null)
                S.B(E);
            return
        }
        if (H == "close") {
            if (I.Svng.v.YsN == "Ys") {
                d.data = {
                    X: P.U.$k
                };
                S.B(d)
            }
            d.data = {
                X: P.U.sO,
                J7: q
            };
            S.B(d);
            return
        }
        if (H == "save") {
            d.data = {
                X: P.U.$k
            };
            S.B(d);
            return
        }
        var i = {
            placedLayerEditContents: P.U.or,
            copyEvent: P.U.ZF,
            paste: P.U.Ut
        };
        if (i[H])
            d.data = {
                X: i[H]
            };
        if (d.data) {
            S.B(d);
            return
        }
        if (I.null || I.At)
            e = (I.null ? I.null : I.At).v;
        else
            e = [{
                t: "----",
                v: I
            }];
        if (e[0].t == "obj ") {
            if (e.length != 1)
                throw "e";
            e = e[0].v
        }
        for (var a = 0; a < e.length; a++) {
            var Z = e[a]
                , O = Z.v.classID;
            E.data = null;
            if (H == "make") {
                if (I.null == null && I.Nw)
                    O = I.Nw.v.classID;
                if (O == "AdjL") {
                    E.data = {
                        X: M.KY,
                        Jz: I
                    }
                } else if (O == "layerSection") {
                    E.data = {
                        X: M.D5
                    };
                    if (I.Usng)
                        E.data.Tk = I.Usng.v.Nm.v
                } else if (O == "Lyr") {
                    if (I.Usng && I.Usng.v.length == 2)
                        E.data = {
                            X: M.o2
                        };
                    else {
                        E.data = {
                            X: M.tD
                        };
                        if (I.Usng)
                            E.data.Tk = I.Usng.v.Nm.v;
                        if (I.below && I.below.v)
                            E.data.a2H = !0
                    }
                } else if (O == "Chnl" && Z.v.enum == "Msk") {
                    E.data = {
                        X: M.AI,
                        JQ: I.Usng.v.UsrM
                    }
                } else if (O == "Chnl" || O == "SCch") {
                    E.data = {
                        X: M.i2,
                        Wg: "fromAction",
                        G: Y
                    }
                } else if (O == "contentLayer") {
                    E.data = {
                        X: M.Kh,
                        Jz: I
                    }
                } else if (O == "BckL") {
                    q.t[q.C[0]].acu();
                    continue
                } else if (O == "Dcmn") {
                    var c = I.Nw.v;
                    d.data = {
                        X: P.U.Qc,
                        n3: dh.a1T(c, h)
                    }
                } else if (O == "Ptrn")
                    d.data = {
                        X: P.U.yG,
                        go: 0
                    };
                else if (O == "Path") {
                    E.F = U.qL;
                    E.data = {
                        X: "pathedit",
                        Wg: "fromsel"
                    }
                } else if (O == "TxLr") {
                    E.F = U.bk;
                    E.data = {
                        X: "fromAction",
                        gM: Y
                    }
                } else {
                    console.log(H, O, I);
                    throw "e"
                }
            } else if (H == "select") {
                var s = {
                    PcTl: U.Rd,
                    magicWandTool: U.gi
                };
                if (O == "Lyr") {
                    var x = I.selectionModifier
                        , u = x ? x.v.selectionModifierType : null
                        , y = bw.sL(q, Z);
                    E.data = {
                        X: M.QJ,
                        $: y,
                        a0y: u ? ["addToSelection", "addToSelectionContinuous"].indexOf(u) : null,
                        md: 0,
                        akE: !0
                    }
                } else if (O == "Chnl") {
                    E.data = {
                        X: M.QJ,
                        $: y,
                        md: 1
                    }
                } else if (O == "Dcmn") {
                    if (S.PS.length < 2)
                        return;
                    d.data = {
                        X: P.U.M3,
                        dir: I.null.v[0].v.val
                    }
                } else if (s[O]) {
                    d.data = {
                        X: P.U.iK,
                        F: s[O]
                    }
                }
            } else if ((H == "set" || H == "reset" || H == "exchange") && O == "Clr") {
                d.data = {
                    X: P.U.PD,
                    go: iD.oo,
                    Wg: H == "reset" ? 3 : 2
                };
                if (H == "set") {
                    d.data.Wg = Z.v.keyID == "FrgC" ? 0 : 1;
                    var j = t.W.cd(I.T.v);
                    d.data.G = j.h << 16 | j.l << 8 | j.O
                }
            } else if (H == "set") {
                if (O == "AdjL") {
                    var v = I.T.v.classID;
                    v = dD.rs[v];
                    E.F = U.dk;
                    if (v)
                        E.data = {
                            X: "edit_layer",
                            G: I.T.v
                        }
                } else if (O == "Lyr") {
                    var X = I.T.v
                        , y = bw.sL(q, Z);
                    if (X.Nm)
                        E.data = {
                            X: M.vT,
                            name: X.Nm.v
                        };
                    else if (X.Opct)
                        E.data = {
                            X: M.zh,
                            aq: Math.round(X.Opct.v.val * 255 / 100)
                        };
                    else if (X.fillOpacity)
                        E.data = {
                            X: M.XJ,
                            aq: Math.round(X.fillOpacity.v.val * 255 / 100)
                        };
                    else if (X.Md)
                        E.data = {
                            X: M.tl,
                            aq: iS.Qu.indexOf(X.Md.v.BlnM) + (q.t[y].i4() ? 1 : 0)
                        };
                    else if (X.Usrs)
                        E.data = {
                            X: M.bE,
                            $: y
                        };
                    else if (X.Blnd) {
                        E.F = U.lc;
                        E.data = {
                            X: "setstl",
                            $: y,
                            G: {
                                blendOptions: {
                                    t: "objc",
                                    v: X
                                }
                            }
                        };
                        S.B(E);
                        E.data = {
                            X: "confirm",
                            $: y
                        }
                    } else if (X.Clr) {
                        var N = {
                            Rd: 1,
                            Ylw: 3,
                            Vlt: 6
                        }[X.Clr.v.Clr];
                        if (N == null)
                            throw X.Clr.v.Clr;
                        E.data = {
                            X: M.Hv,
                            amQ: N
                        }
                    } else if (e[0].t == "prop")
                        continue;
                    else {
                        console.log(I);
                        throw "e"
                    }
                    var V = q.t[y];
                    V.a7O()
                } else if (O == "Prpr") {
                    var X = JSON.parse(JSON.stringify(I.T.v));
                    if (Z.v.keyID == "TxtS") {
                        var y = bw.sL(q, I.null.v[1])
                            , V = q.t[y]
                            , $ = V.add.TySh
                            , w = JSON.parse(JSON.stringify($.lV))
                            , m = ap.lo(w)
                            , l = ap.Rm(w, 0, m.length - 2);
                        if (X.Undl && X.Undl.v.Undl == "underlineOnLeftInVertical")
                            l.cD.Underline = !0;
                        ap.aN(w, 0, m.length - 1, l);
                        E.F = U.bk;
                        E.data = {
                            X: "newED",
                            ph: y,
                            oy: w
                        };
                        a = 1e9
                    } else {
                        for (var b in X)
                            if (X[b].v) {
                                if (b == "Scl")
                                    X[b].v.val = 100;
                                if (X[b].v.TrnS && X[b].v.TrnS.v.Crv == null) {
                                    X[b].v.TrnS = JSON.parse(ai.l_[9]).TrnS
                                }
                            }
                        f4.cS(X);
                        if (X.masterFXSwitch == null)
                            X.masterFXSwitch = {
                                t: "bool",
                                v: !0
                            };
                        var y = bw.sL(q, I.null.v[1]);
                        E.F = U.lc;
                        E.data = {
                            X: "setstl",
                            $: y,
                            G: {
                                Lefx: {
                                    t: "objc",
                                    v: X
                                }
                            }
                        };
                        S.B(E);
                        E.data = {
                            X: "confirm",
                            $: y
                        }
                    }
                } else if (O == "contentLayer") {
                    var y = bw.sL(q, Z)
                        , X = I.T.v;
                    if (X.classID == "shapeStyle")
                        X = X.FlCn.v;
                    var K = {
                        solidColorLayer: 0,
                        gradientLayer: 1,
                        patternLayer: 2
                    }[X.classID]
                        , z = JSON.parse(JSON.stringify(ai.DD[K]));
                    cU.sC.a_(X, z, K);
                    E.data = {
                        X: M.mb,
                        An: [y],
                        C8: !0,
                        G: {
                            zH: K + 1,
                            yW: z
                        }
                    }
                } else if (O == "Brsh") {
                    var J = JSON.parse(JSON.stringify(h.Ly.jh))
                        , R = I.T.v;
                    if (R.masterDiameter)
                        J.Brsh.v.Dmtr.v.val = R.masterDiameter.v.val;
                    else
                        console.log("unknown brush parameters");
                    d.data = {
                        X: P.U.PD,
                        go: iD.Zl,
                        t7: J
                    }
                } else {
                    console.log(Z, I);
                    throw O
                }
            } else if (H == "move") {
                if (O == "Lyr") {
                    var X = I.T.v;
                    if (X.classID == "Ofst") {
                        E.data = {
                            X: "trsl",
                            adr: X.Hrzn.v.val,
                            a0L: X.Vrtc.v.val
                        };
                        E.F = U.Vg
                    } else {
                        var r, f;
                        if (X[0].t == "Enmr") {
                            if (X[0].v.enum == "Frnt")
                                f = 0;
                            else if (X[0].v.enum == "Prvs")
                                f = 2;
                            else if (X[0].v.enum == "Back")
                                f = 3;
                            else
                                throw "e"
                        } else
                            r = X[0].v.val;
                        E.data = {
                            X: M.wA,
                            target: r,
                            Wg: f,
                            adS: I.Dplc ? I.Dplc.v : !1
                        }
                    }
                }
            } else if (H == "groupEvent")
                E.data = {
                    X: M.JA
                };
            else if (H == "show" || H == "hide") {
                if (O == "Lyr") {
                    var y = bw.sL(q, Z);
                    if (y == -1)
                        continue;
                    var aa = q.t[y].yj();
                    if (H == "show" && aa || H == "hide" && !aa)
                        continue;
                    E.data = {
                        X: M.OU,
                        $: y
                    }
                } else if (O == "Chnl") {
                    E.data = {
                        X: M.i2,
                        Wg: "fromAction",
                        G: Y
                    }
                }
            } else if (H == "rotateEventEnum") {
                E.F = U._G;
                var aA = I.Angl.v.val;
                E.data = {
                    X: "rot",
                    vc: [2, 5],
                    G: -aA * Math.PI / 180
                }
            } else if (H == "flip") {
                E.F = U._G;
                var e5 = I.Axis.v.Ornt == "Hrzn"
                    , fk = e5 ? new aV(-1, 1) : new aV(1, -1);
                E.data = {
                    X: "scl",
                    vc: [[2, 6], [22, 4, e5 ? 2 : 3]],
                    G: fk
                }
            } else if (H == "transform") {
                var o = 1
                    , eY = 1
                    , du = 0
                    , dV = 0
                    , hy = 0
                    , bq = 0
                    , i5 = 0;
                if (I.Wdth)
                    o = I.Wdth.v.val / 100;
                if (I.Hght)
                    eY = I.Hght.v.val / 100;
                if (I.Skew) {
                    var hX = I.Skew.v;
                    du = hX.Hrzn.v.val;
                    dV = hX.Vrtc.v.val
                }
                if (I.Ofst) {
                    var bY = I.Ofst.v;
                    bq = bY.Hrzn.v.val;
                    i5 = bY.Vrtc.v.val
                }
                if (I.Angl)
                    hy = I.Angl.v.val;
                var ds = new d5;
                ds.concat(new d5(o, o * Math.tan(dV * Math.PI / 180), eY * Math.tan(du * Math.PI / 180), eY, 0, 0));
                ds.rotate(-hy * Math.PI / 180);
                ds.translate(bq, i5);
                var hV = {
                    Qcsa: 4,
                    Qcs0: 0,
                    Qcs1: 2,
                    Qcs2: 8,
                    Qcs3: 6,
                    Qcs4: 1,
                    Qcs5: 5,
                    Qcs6: 7,
                    Qcs7: 3
                }[I.FTcs.v.QCSt];
                if (hV == null)
                    throw I.FTcs.v.QCSt;
                var Z = I.null;
                if (Z && Z.v instanceof Array)
                    Z = Z.v[0];
                var y = Z ? bw.sL(q, Z) : null;
                if (y == -1)
                    y = null;
                E.F = Z && Z.v.keyID == "fsel" ? U.P_ : U.Fz;
                E.data = {
                    X: "mat",
                    fR: hV,
                    G: ds,
                    $: y
                }
            } else if (O == "Chnl") {
                E.data = {
                    X: M.i2,
                    Wg: "fromAction",
                    G: Y
                }
            } else if (H == "duplicate")
                E.data = {
                    X: M.Vo,
                    Tk: I.Nm ? I.Nm.v : null
                };
            else if (H == "delete")
                E.data = {
                    X: M.Yn
                };
            else if (H == "align") {
                if (I.Aply && I.Aply.v.projection == "Auto") {
                    E.F = U._G;
                    E.data = {
                        X: "auto-align"
                    }
                } else {
                    E.F = U.Vg;
                    var g = {
                        AdLf: 0
                    }[I.Usng.v.ADSt];
                    if (g == null)
                        throw "e";
                    E.data = {
                        X: "algn",
                        G: g
                    }
                }
            } else if (H == "applyLocking") {
                var gF = I.layerLocking.v, co;
                if (gF.protectTransparency)
                    co = [[gF.protectTransparency.v], [0]];
                else if (gF.protectNone)
                    co = [[!1, !1, !1, !1], [0, 1, 2, 31]];
                else {
                    console.log(gF);
                    throw "e"
                }
                E.data = {
                    X: M.Be,
                    aq: co
                }
            }
            if (E.data)
                S.B(E);
            else if (d.data)
                S.B(d);
            else {
                console.log(Y);
                alert("Unknown action \"" + H + "\"");
                throw "e"
            }
        }
    }
        ;
    bw.sL = function (Y, S) {
        var h = S.t
            , q = -1;
        if (h == "name") {
            var H = S.v.val
                , q = -1;
            for (var G = 0; G < Y.t.length; G++)
                if (Y.t[G].getName() == H) {
                    q = G;
                    break
                }
        }
        if (h == "Enmr" && Y.C.length != 0)
            q = Y.C[0];
        if (h == "Enmr" && S.v.enum == "Frwr")
            q = Y.C[0] + 1;
        if (h == "Enmr" && S.v.enum == "Bckw")
            q = Y.C[0] - 1;
        if (h == "prop") {
            if (S.v.keyID == "Bckg")
                q = 0
        }
        return q
    }
        ;
    var dD = {};
    dD.get = function (Y) {
        for (var S in dD.names)
            if (Y[S] != null)
                return S;
        return null
    }
        ;
    dD.HA = function (Y, S) {
        var h = dD.ny, q;
        if (Y == "brit") {
            var H = S.Brgh ? S.Brgh.v : 0
                , I = S.Cntr ? S.Cntr.v : 0
                , E = S.useLegacy ? S.useLegacy.v : !1;
            if (E) {
                var d = H / 255
                    , B = 1 + I / 100;
                if (B > 1)
                    B = 1 + Math.tan(Math.PI / 2 * I / 101);
                var n = (1 - B) / 2
                    , g = t.eC.pt(d, d, d)
                    , z = [B, 0, 0, n, 0, B, 0, n, 0, 0, B, n, 0, 0, 0, 1]
                    , p = t.eC.multiply(g, z)
                    , C = new t.ho(256);
                for (var G = 0; G < 256; G++)
                    C.h[G] = G;
                t.eC.transform(C, C, p);
                q = {
                    type: h.R1,
                    gL: C.h,
                    fK: C.h,
                    D4: C.h,
                    uB: !1,
                    EK: !1
                }
            } else {
                var T = 1024
                    , A = -30 + 60 * (I + 100) / 200
                    , i = [];
                for (var G = 0; G < 4; G++)
                    i.push(t.hn.oR(G / 3 * 255, G / 3 * 255, !0));
                i[1].v.Hrzn.v = 64;
                i[1].v.Vrtc.v = 64 - A;
                i[2].v.Hrzn.v = 128 + 64;
                i[2].v.Vrtc.v = 128 + 64 + A;
                i.sort(function (hK, ah) {
                    return hK.v.Hrzn.v - ah.v.Hrzn.v
                });
                var e = t.hn.Ok(i, T);
                function a(hK, T) {
                    var i = []
                        , D = 3;
                    for (var G = 0; G < D + 1; G++)
                        i.push(t.hn.oR(G / D * 255, G / D * 255, !0));
                    i[1].v.Hrzn.v = 130 - hK * 26;
                    i[1].v.Vrtc.v = 130 + hK * 51;
                    i[2].v.Hrzn.v = 233 - hK * 48;
                    i[2].v.Vrtc.v = 233 + hK * 10;
                    return t.hn.Ok(i, T)
                }
                var Z = a(Math.abs(H) / 100, T);
                if (H < 0) {
                    var O = []
                        , c = 1 / T;
                    for (var G = 0; G < T; G++) {
                        var s = G * c
                            , x = G;
                        while (Z[x] > s && x > 1)
                            x--;
                        O[G] = x * c
                    }
                    Z = O
                }
                var u = new Uint8Array(T);
                for (var G = 0; G < T; G++) {
                    var y = Math.round((T - 1) * Z[G]);
                    u[G] = Math.round(255 * e[y])
                }
                q = {
                    type: h.R1,
                    gL: u,
                    fK: u,
                    D4: u,
                    uB: !1,
                    EK: !1
                }
            }
        }
        if (Y == "levl") {
            var j = [], v, X, g, N, V, $;
            for (var G = 0; G < 4; G++)
                j.push(i9.hB(S, G));
            v = -j[0][0] / 255;
            X = 1 / (j[0][1] / 255 - j[0][0] / 255);
            g = t.eC.multiply(t.eC.GX(X, X, X), t.eC.pt(v, v, v));
            N = t.eC.GX(1 / (j[1][1] / 255 - j[1][0] / 255), 1 / (j[2][1] / 255 - j[2][0] / 255), 1 / (j[3][1] / 255 - j[3][0] / 255));
            V = t.eC.pt(-j[1][0] / 255, -j[2][0] / 255, -j[3][0] / 255);
            $ = t.eC.multiply(N, V);
            var u = new t.ho(256);
            for (var G = 0; G < 256; G++)
                u.h[G] = u.l[G] = u.O[G] = G;
            var w = 1 / (j[0][4] / 100)
                , m = 1 / (j[1][4] / 100)
                , l = 1 / (j[2][4] / 100)
                , b = 1 / (j[3][4] / 100);
            t.eC.transform(u, u, $);
            for (var G = 0; G < 256; G++) {
                u.h[G] = Math.round(Math.max(0, Math.min(255, 255 * Math.pow(u.h[G] / 255, m))));
                u.l[G] = Math.round(Math.max(0, Math.min(255, 255 * Math.pow(u.l[G] / 255, l))));
                u.O[G] = Math.round(Math.max(0, Math.min(255, 255 * Math.pow(u.O[G] / 255, b))))
            }
            t.eC.transform(u, u, g);
            for (var G = 0; G < 256; G++) {
                u.h[G] = Math.round(Math.max(0, Math.min(255, 255 * Math.pow(u.h[G] / 255, w))));
                u.l[G] = Math.round(Math.max(0, Math.min(255, 255 * Math.pow(u.l[G] / 255, w))));
                u.O[G] = Math.round(Math.max(0, Math.min(255, 255 * Math.pow(u.O[G] / 255, w))))
            }
            v = j[0][2] / 255;
            X = j[0][3] / 255 - j[0][2] / 255;
            g = t.eC.multiply(t.eC.pt(v, v, v), t.eC.GX(X, X, X));
            N = t.eC.GX(j[1][3] / 255 - j[1][2] / 255, j[2][3] / 255 - j[2][2] / 255, j[3][3] / 255 - j[3][2] / 255);
            V = t.eC.pt(j[1][2] / 255, j[2][2] / 255, j[3][2] / 255);
            $ = t.eC.multiply(V, N);
            t.eC.transform(u, u, t.eC.multiply(g, $));
            q = {
                type: h.R1,
                gL: u.h,
                fK: u.l,
                D4: u.O,
                uB: !1,
                EK: !1
            }
        }
        if (Y == "curv") {
            var K = eM.hB(S, 0).length == 256 ? 1 : 0
                , J = [];
            if (K == 0) {
                var R = t.hn.fz(eM.hB(S, 0), 256);
                for (var G = 1; G < 4; G++) {
                    var f = t.hn.fz(eM.hB(S, G), 256);
                    J.push(t.hn.fi(f, R))
                }
            } else {
                var gf = [];
                for (var G = 0; G < 4; G++) {
                    var aa = new Uint8Array(256);
                    gf.push(aa);
                    var aA = eM.hB(S, G);
                    for (var x = 0; x < 256; x++)
                        aa[x] = aA[x]
                }
                for (var G = 1; G < 4; G++)
                    J.push(t.hn.fi(gf[G], gf[0]))
            }
            q = {
                type: h.R1,
                gL: J[0],
                fK: J[1],
                D4: J[2],
                uB: !1,
                EK: !1
            }
        }
        if (Y == "expA") {
            console.log(S);
            var fk = S.Exps
                , o = S.Ofst
                , eY = S.gammaCorrection
                , du = fk ? fk.v : 0
                , dV = o ? o.v : 0
                , hy = eY ? eY.v : 1
                , u = new Uint8Array(256);
            for (var G = 0; G < 256; G++) {
                var S = G / 255
                    , bq = Math.pow(Math.abs(dV), 1 / (Math.PI / 2));
                if (dV > 0) {
                    S = Math.max(dV / Math.E, S);
                    S = S * Math.exp(dV / 1.75 + du / Math.PI);
                    S = (1 - bq) * S + bq * 1
                } else {
                    S = S * Math.exp(-dV * 1.75 + du / Math.PI);
                    S = S + -bq * 1.14
                }
                S = Math.pow(S, 1 / hy);
                S = Math.max(0, Math.min(1, S));
                u[G] = Math.round(S * 255)
            }
            q = {
                type: h.R1,
                gL: u,
                fK: u,
                D4: u,
                uB: !1,
                EK: !1
            }
        }
        if (Y == "vibA") {
            q = {
                type: h.IK,
                go: [S.vibrance ? S.vibrance.v : 0, S.Strt ? S.Strt.v : 0]
            }
        }
        if (Y == "hue2") {
            var i5 = []
                , hX = []
                , bY = []
                , hV = S.Clrz ? S.Clrz.v : !1;
            for (var G = 0; G < 256; G++) {
                i5[G] = G / 255;
                hX[G] = 0;
                bY[G] = 0
            }
            var gF = c9.hB(S, 0)
                , co = dD.YW(gF[1] / 100);
            if (hV) {
                var c_ = gF[0] / 360;
                for (var G = 0; G < 256; G++) {
                    i5[G] = c_;
                    hX[G] = co
                }
            } else {
                for (var G = 0; G < 256; G++) {
                    var a5 = i5[G]
                        , gb = hX[G];
                    i5[G] += gF[0] / 360;
                    for (var x = 0; x < 6; x++) {
                        var iC = c9.hB(S, x + 1)
                            , cC = iC.$c
                            , aB = iC.uZ
                            , bq = 0;
                        for (var cd = 1; cd < 4; cd++)
                            if (aB[cd] < aB[0])
                                aB[cd] += 360;
                        var dZ = aB[0]
                            , en = aB[1]
                            , cD = aB[2]
                            , hP = aB[3]
                            , ea = a5 * 360;
                        if (ea < aB[0])
                            ea += 360;
                        var fp = (ea - dZ) / (en - dZ)
                            , bC = (ea - cD) / (hP - cD);
                        if (fp < 0)
                            bq = 0;
                        else if (fp < 1)
                            bq = fp;
                        else if (bC < 0)
                            bq = 1;
                        else if (bC < 1)
                            bq = 1 - bC;
                        else
                            bq = 0;
                        var B = dD.YW(cC[1] / 100);
                        i5[G] += bq * cC[0] / 360;
                        hX[G] += bq * B;
                        bY[G] += bq * cC[2] / 100
                    }
                }
                for (var G = 0; G < 256; G++) {
                    hX[G] = (1 + hX[G]) * (1 + co) - 1;
                    bY[G] = Math.max(-1, Math.min(1, bY[G]))
                }
            }
            var hG = new Uint8Array(256)
                , b3 = new Uint8Array(256)
                , ct = new Uint8Array(256);
            for (var G = 0; G < 256; G++) {
                var fQ = i5[G]
                    , cj = hX[G]
                    , fJ = bY[G];
                if (fQ > 1)
                    fQ--;
                if (fQ < 0)
                    fQ++;
                cj = dD.aeR(cj);
                cj = (1 + cj) * .5;
                fJ = (1 + fJ) * .5;
                hG[G] = Math.round(255 * fQ);
                b3[G] = Math.round(255 * cj);
                ct[G] = Math.round(255 * fJ)
            }
            var cM = gF[2] / 100
                , cc = cM < 0 ? -cM : cM
                , cr = cM < 0 ? 0 : 1;
            q = {
                type: h.l0,
                a1Z: hG,
                Zo: b3,
                ao1: ct,
                a73: cc * cr,
                M8: 1 - cc,
                afE: gF[2] / 100,
                anC: hV ? 1 : 0
            }
        }
        if (Y == "nvrt") {
            var u = new Uint8Array(256);
            for (var G = 0; G < 256; G++)
                u[G] = 255 - G;
            q = {
                type: h.R1,
                gL: u,
                fK: u,
                D4: u,
                uB: !1,
                EK: !1
            }
        }
        if (Y == "post") {
            var bZ = S.Lvls.v
                , u = new Uint8Array(256)
                , bq = bZ / 255.001
                , eb = 255 / (bZ - 1);
            for (var G = 0; G < 256; G++)
                u[G] = Math.floor(G * bq) * eb;
            q = {
                type: h.R1,
                gL: u,
                fK: u,
                D4: u,
                uB: !1,
                EK: !1
            }
        }
        if (Y == "grdm") {
            var gL = S.Grad.v
                , fn = S.Rvrs
                , aq = t.W.vi(gL.Clrs.v, 0, 0)
                , T = 1024
                , di = t.W.w7(gL, aq, T, fn ? fn.v : !1)
                , ej = t.m(T)
                , cn = t.m(T)
                , aj = t.m(T);
            t.Ft(di, ej, 0);
            t.Ft(di, cn, 1);
            t.Ft(di, aj, 2);
            q = {
                type: h.R1,
                gL: ej,
                fK: cn,
                D4: aj,
                uB: !0,
                EK: !1
            }
        }
        if (Y == "selc") {
            var a6 = new Float32Array(9 * 3 * 2)
                , hJ = S.EA
                , dv = S.Mthd ? S.Mthd.v.CrcM == "Absl" : !1;
            for (var x = 0; x < 9; x++) {
                var bi = x * 6
                    , cT = d_.hB(S, x)
                    , cO = cT[0] / 100
                    , bD = cT[1] / 100
                    , hS = cT[2] / 100
                    , fi = cT[3] / 100;
                if (dv) {
                    a6[bi] = a6[bi + 1] = a6[bi + 2] = 1;
                    a6[bi + 3] = cO * (1 + fi) + fi;
                    a6[bi + 4] = bD * (1 + fi) + fi;
                    a6[bi + 5] = hS * (1 + fi) + fi
                } else {
                    a6[bi + 0] = (1 + cO) * (1 + fi);
                    a6[bi + 1] = (1 + bD) * (1 + fi);
                    a6[bi + 2] = (1 + hS) * (1 + fi)
                }
            }
            q = {
                type: h.RM,
                j2: a6
            }
        }
        if (Y == "blwh") {
            var em = "Rd Yllw Grn Cyn Bl Mgnt".split(" ")
                , q = []
                , al = 0
                , d6 = 0;
            for (var G = 0; G < 6; G++)
                q.push(S[em[G]].v);
            q.push(S.useTint.v, S.tintColor.v);
            var gA = [];
            for (var G = 0; G < 6; G++)
                gA.push((q[G] - 50) / 50);
            var aK = t.W.cd(q[7]);
            aK.h /= 255;
            aK.l /= 255;
            aK.O /= 255;
            var bR = t.Yl(aK.h, aK.l, aK.O)
                , fJ = t.s4(t.Uf(bR.UR, 1, .5))
                , aP = bR.D1 * bR.w1;
            if (fJ == .5)
                al = d6 = .5;
            else {
                al = aP * (.5 - fJ) / (.5 / fJ - 1);
                d6 = 1 - aP * (.5 - fJ) - 1 / (2 * (1 - fJ));
                d6 /= 1 - 1 / (2 * (1 - fJ))
            }
            q = {
                type: h.H_,
                a7l: gA,
                xD: q[6] ? 1 : 0,
                ai_: bR.UR,
                s4: fJ,
                aeh: aP,
                FO: al,
                a7i: d6
            }
        }
        if (Y == "blnc") {
            console.log(S);
            var j = []
                , hx = ["ShdL", "MdtL", "HghL"];
            for (var G = 0; G < 3; G++) {
                if (S[hx[G]] == null) {
                    j[G] = [0, 0, 0];
                    continue
                }
                var bZ = S[hx[G]].v
                    , hn = bZ[0].v / 100
                    , fX = bZ[1].v / 100
                    , d1 = bZ[2].v / 100
                    , h$ = S.PrsL == null || S.PrsL.v ? (Math.min(hn, fX, d1) + Math.max(hn, fX, d1)) / 2 : 0;
                j[G] = [hn - h$, fX - h$, d1 - h$]
            }
            var J = [t.m(256), t.m(256), t.m(256)];
            for (var x = 0; x < 3; x++)
                for (var G = 0; G < 256; G++) {
                    var s = G * (1 / 255)
                        , f9 = 0
                        , A = 0
                        , e6 = 0;
                    A = j[2][x];
                    e6 = Math.abs(A);
                    if (A < 0)
                        f9 = Math.pow(s, Math.SQRT2);
                    else
                        f9 = 1.63 * (Math.pow(s + .04, .5) - .2);
                    s = e6 * f9 + (1 - e6) * s;
                    A = j[1][x];
                    e6 = Math.abs(A);
                    if (A < 0)
                        f9 = Math.pow(s, 2);
                    else
                        f9 = Math.min(2.35 * (Math.pow(s + .09, .5) - .3), Math.pow(s, 1 / 2));
                    s = e6 * f9 + (1 - e6) * s;
                    A = j[0][x];
                    e6 = Math.abs(A);
                    if (A < 0)
                        f9 = s < .4 ? 0 : Math.pow((s - .4) / .6, Math.SQRT2);
                    else
                        f9 = Math.pow(s, Math.SQRT2 / 2);
                    s = e6 * f9 + (1 - e6) * s;
                    s = Math.max(0, Math.min(1, s));
                    J[x][G] = Math.round(s * 255)
                }
            q = {
                type: h.R1,
                gL: J[0],
                fK: J[1],
                D4: J[2],
                uB: !1,
                EK: !1
            }
        }
        if (Y == "phfl") {
            var cy = t.W.cd(S.Clr.v)
                , cN = [cy.h / 255, cy.l / 255, cy.O / 255]
                , gZ = S.Dnst.v / 100
                , J = [t.m(256), t.m(256), t.m(256)];
            for (var x = 0; x < 3; x++)
                for (var G = 0; G < 256; G++) {
                    var s = G * (1 / 255)
                        , el = s * cN[x];
                    el = Math.max(0, Math.min(1, el));
                    s = gZ * el + (1 - gZ) * s;
                    J[x][G] = Math.round(s * 255)
                }
            q = {
                type: h.R1,
                gL: J[0],
                fK: J[1],
                D4: J[2],
                uB: !1,
                EK: S.PrsL.v
            }
        }
        if (Y == "thrs") {
            var u = t.m(256);
            for (var G = S.Lvl.v; G < 256; G++)
                u[G] = 255;
            q = {
                type: h.R1,
                gL: u,
                fK: u,
                D4: u,
                uB: !0,
                EK: !1
            }
        }
        if (Y == "mixr") {
            var cx = dD.Ea(S)
                , p = [];
            for (var G = 0; G < cx.G.length; G++)
                if (G % 5 != 3)
                    p.push(cx.G[G] / 100);
            if (cx.oU) {
                for (var gu = 1; gu < 3; gu++)
                    for (var s = 0; s < 4; s++)
                        p[gu * 4 + s] = p[s]
            }
            q = {
                type: h.Ti,
                cu: p
            }
        }
        if (Y == "rplc") {
            var i7 = S.Mnm.v
                , gK = S.Mxm.v;
            q = {
                type: h.hF,
                wV: [i7.Lmnc.v, i7.A.v, i7.B.v],
                br: [gK.Lmnc.v, gK.A.v, gK.B.v],
                shift: [S.H.v / 360, S.Strt.v / 100, S.Lght.v / 100],
                kb: S.Fzns.v / 200
            }
        }
        if (Y == "clrL" && S.profile) {
            var dp = new Uint8Array(S.profile.v)
                , fg = ICC.R(dp.buffer)
                , dS = []
                , ii = 17
                , dS = ICC.U.sampleLUT(fg, ii);
            q = {
                type: h.qC,
                kQ: ICC.U.rgba8LUT(dS, ii),
                aat: dS,
                n9: ii
            }
        }
        return q
    }
        ;
    dD.TF = function (Y, S) {
        var h = -1;
        if (Y != "levl" || S == null)
            h = -1;
        else if (S.Auto)
            h = 0;
        else if (S.AuCo)
            h = 1;
        else if (S.autoBlackWhite)
            h = 2;
        return h
    }
        ;
    dD.ny = {
        R1: 0,
        l0: 1,
        IK: 2,
        RM: 3,
        H_: 4,
        Ti: 5,
        hF: 6,
        qC: 7
    };
    dD.YW = function (Y) {
        if (Y < 0)
            return Y;
        return Math.pow(Math.tan(Math.PI / 2 * Y), 1.3)
    }
        ;
    dD.aeR = function (Y) {
        if (Y < 0)
            return Y;
        Y = Math.pow(Y, 1 / 1.3);
        return Math.atan2(Y, 1) / (Math.PI / 2)
    }
        ;
    dD.Cu = function (Y, S, h, q) {
        var H = dD.ny
            , I = Date.now();
        if (Q.nc && q.e() > 300 * 300 && Y.type != H.R1 && Y.type != H.qC) {
            q = q.clone();
            q.x = q.y = 0;
            var E = Q.BG(0, q.d, q.v);
            E.set(S);
            Q.Mx(E, q);
            E.Pd(q);
            dD.OG(Y, E.we, q);
            E.get(h);
            return
        }
        if (Y.type == H.qC) {
            var d = Y.aat
                , B = Y.n9;
            ICC.U.applyLUT(d, B, S, h)
        }
        if (Y.type == H.Ti)
            t.eC.iU(S, h, Y.cu);
        if (Y.type == H.H_) {
            var n = Y.aeh
                , g = Y.s4
                , z = Y.FO
                , p = Y.a7i
                , C = S.length;
            for (var G = 0; G < C; G += 4) {
                var q = S[G] * (1 / 255)
                    , T = S[G + 1] * (1 / 255)
                    , A = S[G + 2] * (1 / 255)
                    , i = t.kX(q, T, A)
                    , e = 0;
                for (var a = 0; a < 6; a++)
                    e += Math.min(1, 1.7 * (1 - i._I)) * i.D1 * Y.a7l[a] * dD.wT(i.UR, a * (1 / 6));
                var Z = Math.max(0, Math.min(1, i._I * (1 + e)));
                if (Y.xD == 1) {
                    var O = 0;
                    if (Z < z)
                        O = Z * (.5 / g);
                    else if (Z < p)
                        O = Z + n * (.5 - g);
                    else
                        O = 1 - (1 - Z) * .5 / (1 - g);
                    i.UR = Y.ai_;
                    i.D1 = Math.min(1, n + 3 * n * Math.abs(Z - .5 * (z + p)));
                    i._I = O
                } else {
                    i.UR = 0;
                    i.D1 = 0;
                    i._I = Z
                }
                var c = t.Uf(i.UR, i.D1, i._I);
                h[G] = Math.round(c.h * 255);
                h[G + 1] = Math.round(c.l * 255);
                h[G + 2] = Math.round(c.O * 255)
            }
        }
        if (Y.type == H.RM) {
            var s = Y.j2
                , C = S.length
                , x = 1 / 255;
            for (var G = 0; G < C; G += 4) {
                var q = S[G] * x
                    , T = S[G + 1] * x
                    , A = S[G + 2] * x
                    , i = t.kX(q, T, A)
                    , u = Math.max(q, Math.max(T, A))
                    , y = Math.min(q, Math.min(T, A))
                    , j = 1 - q
                    , v = 1 - T
                    , X = 1 - A
                    , N = 0
                    , V = 0
                    , $ = 0;
                for (var a = 0; a < 9; a++) {
                    var w = a * 6
                        , K = 0;
                    if (s[w] == 1 && s[w + 1] == 1 && s[w + 2] == 1 && s[w + 3] == 0 && s[w + 4] == 0 && s[w + 5] == 0)
                        continue;
                    var m = j * s[w] + s[w + 3]
                        , l = v * s[w + 1] + s[w + 4]
                        , b = X * s[w + 2] + s[w + 5];
                    if (a < 6)
                        K = dD.wT(i.UR, a * (1 / 6)) * i.D1 * 2 * Math.min(i._I, 1 - i._I);
                    else if (a == 6)
                        K = Math.max(0, y - .5) * 2;
                    else if (a == 7)
                        K = 1 - (Math.abs(u - .5) + Math.abs(y - .5));
                    else
                        K = Math.max(0, .5 - u) * 2;
                    N += (Math.max(0, Math.min(1, m)) - j) * K;
                    V += (Math.max(0, Math.min(1, l)) - v) * K;
                    $ += (Math.max(0, Math.min(1, b)) - X) * K
                }
                j = Math.max(0, Math.min(1, j + N));
                v = Math.max(0, Math.min(1, v + V));
                X = Math.max(0, Math.min(1, X + $));
                q = 1 - j;
                T = 1 - v;
                A = 1 - X;
                h[G] = Math.round(q * 255);
                h[G + 1] = Math.round(T * 255);
                h[G + 2] = Math.round(A * 255)
            }
        }
        if (Y.type == H.R1) {
            t.ajG(S, h, Y.gL, Y.fK, Y.D4, Y.uB, Y.EK)
        }
        if (Y.type == H.l0) {
            var J = new Uint32Array(S.buffer)
                , R = new Uint32Array(h.buffer)
                , C = J.length;
            if (dD.lM == null) {
                dD.lM = new Float64Array(256);
                for (var G = 0; G < 256; G++)
                    dD.lM[G] = dD.YW(-1 + 2 * G / 255)
            }
            var r = dD.lM;
            for (var G = 0; G < C; G++) {
                var f = J[G]
                    , q = (f & 255) * (1 / 255)
                    , T = (f >>> 8 & 255) * (1 / 255)
                    , A = (f >>> 16 & 255) * (1 / 255)
                    , gf = f >>> 24
                    , aa = Math.min(q, T, A)
                    , aA = Math.max(q, T, A)
                    , e5 = 0
                    , fk = 0
                    , o = 0;
                if (aA != aa) {
                    var eY = aA - aa;
                    switch (aA) {
                        case q:
                            e5 = (T - A) / eY + (T < A ? 6 : 0);
                            break;
                        case T:
                            e5 = (A - q) / eY + 2;
                            break;
                        case A:
                            e5 = (q - T) / eY + 4;
                            break
                    }
                    e5 = e5 * (1 / 6)
                }
                var du = ~~(e5 * 255 + .5)
                    , dV = Y.a1Z[du] * (1 / 255)
                    , hy = Y.Zo[du] * (1 / 255) * 2 - 1
                    , bq = Y.ao1[du] * (1 / 255) * 2 - 1
                    , e = -bq
                    , i5 = aa;
                if (0 < bq) {
                    e = bq;
                    i5 = aA
                }
                var hX = Y.a73 + Y.M8 * e * i5
                    , bY = Y.M8 * (1 - e);
                q = hX + bY * q;
                T = hX + bY * T;
                A = hX + bY * A;
                aA = Math.max(q, T, A);
                aa = Math.min(q, T, A);
                o = (aA + aa) * .5;
                if (aA != aa) {
                    var eY = aA - aa;
                    fk = o > .5 ? eY / (2 - (aA + aa)) : eY / (aA + aa)
                }
                var ds = hy;
                if (Y.anC == 0) {
                    hy = r[Math.floor((1 + hy) * 127.5)];
                    ds = Math.min(fk * (1 + hy), 1)
                }
                e5 = dV;
                fk = ds;
                if (fk == 0)
                    q = T = A = o;
                else {
                    var hV = o < .5 ? o * (1 + fk) : o + fk - o * fk
                        , gF = 2 * o - hV;
                    q = t.Dv(gF, hV, e5 + 1 / 3);
                    T = t.Dv(gF, hV, e5);
                    A = t.Dv(gF, hV, e5 - 1 / 3)
                }
                R[G] = gf << 24 | A * 255 << 16 | T * 255 << 8 | q * 255
            }
        }
        if (Y.type == H.hF) {
            t.vx(S, h);
            var J = new Uint32Array(S.buffer)
                , R = new Uint32Array(h.buffer)
                , C = J.length
                , co = Y.kb
                , c_ = 1 / co
                , a5 = {
                    sj: Y.wV[0],
                    R: Y.wV[1],
                    O: Y.wV[2]
                }
                , gb = {
                    sj: Y.br[0],
                    R: Y.br[1],
                    O: Y.br[2]
                };
            for (var G = 0; G < C; G++) {
                var f = J[G]
                    , iC = f & 255
                    , cC = f >>> 8 & 255
                    , aB = f >>> 16 & 255
                    , q = iC * (1 / 255)
                    , T = cC * (1 / 255)
                    , A = aB * (1 / 255)
                    , gf = f >>> 24
                    , cd = t.XT(iC, cC, aB)
                    , dZ = t.AF(cd, a5, gb, co, c_);
                if (dZ == 0)
                    continue;
                var i = t.kX(q, T, A)
                    , dV = 2 + i.UR + dZ * Y.shift[0];
                i.UR = dV - ~~dV;
                i.D1 = Math.max(0, Math.min(1, i.D1 + dZ * Y.shift[1]));
                i._I = Math.max(0, Math.min(1, i._I + dZ * Y.shift[2]));
                var c = t.Uf(i.UR, i.D1, i._I);
                q = c.h;
                T = c.l;
                A = c.O;
                R[G] = gf << 24 | A * 255 << 16 | T * 255 << 8 | q * 255
            }
        }
        if (Y.type == H.IK) {
            var J = new Uint32Array(S.buffer)
                , R = new Uint32Array(h.buffer)
                , C = J.length
                , en = Y.go[0] / 100
                , cD = Y.go[1] / 100;
            for (var G = 0; G < C; G++) {
                var f = J[G]
                    , q = (f & 255) * (1 / 255)
                    , T = (f >>> 8 & 255) * (1 / 255)
                    , A = (f >>> 16 & 255) * (1 / 255)
                    , gf = f >>> 24
                    , i = t.Yl(q, T, A)
                    , e5 = i.UR
                    , fk = i.D1
                    , o = i.w1
                    , hP = 0
                    , ea = 45 / 360
                    , fp = e5 < ea ? Math.cos(Math.PI / 2 * (e5 - ea / 2) / (ea / 2)) : 0;
                fk = fk + .2 * (1 - .4 * fp) * en * Math.max(0, Math.sin(fk * Math.PI));
                fk = fk * (1 + cD);
                fk = Math.max(0, Math.min(1, fk));
                var c = t.im(e5, fk, o);
                q = c.h;
                T = c.l;
                A = c.O;
                R[G] = gf << 24 | A * 255 << 16 | T * 255 << 8 | q * 255
            }
        }
    }
        ;
    dD.OG = function (Y, S, h) {
        Q.xE.OG(Y, S)
    }
        ;
    dD.wT = function (Y, S) {
        var h = t.KF(S, Y) * 6;
        return Math.max(0, Math.min(1, h < 0 ? 1 + h : 1 - h))
    }
        ;
    dD.names = {
        brit: [4, 0],
        levl: [4, 1],
        curv: [4, 2],
        expA: [4, 3],
        vibA: [4, 4],
        hue2: [4, 5],
        blnc: [4, 6],
        blwh: [4, 7],
        phfl: [4, 8],
        mixr: [4, 9],
        clrL: [4, 10],
        nvrt: [4, 11],
        post: [4, 12],
        thrs: [4, 13],
        grdm: [4, 14],
        selc: [4, 15],
        rplc: [4, 17]
    };
    dD.d8 = ["expA", "clrL", "selc"];
    dD.li = [[13, 1, 1], [13, 1, 3], [13, 1, 4], [13, 1, 11], [13, 1, 5], [13, 1, 12]];
    dD.ak9 = [[13, 1, 11], [13, 1, 12], [13, 1, 3], [13, 1, 10]];
    dD.B$ = [[13, 1, 1], [13, 1, 4], [13, 1, 5]];
    dD.CY = {
        BrgC: "brit",
        Lvls: "levl",
        Crvs: "curv",
        Exps: "expA",
        vibrance: "vibA",
        HStr: "hue2",
        ClrB: "blnc",
        BanW: "blwh",
        photoFilter: "phfl",
        Invr: "nvrt",
        Pstr: "post",
        Thrs: "thrs",
        GrMp: "grdm",
        SlcC: "selc",
        ChnM: "mixr",
        colorLookup: "clrL",
        rplc: "rplc"
    };
    dD.rs = function () {
        var Y = JSON.parse(JSON.stringify(dD.CY));
        delete Y.GrMp;
        Y.GdMp = "grdm";
        return Y
    }();
    dD.LS = {
        brit: "brightnessEvent",
        levl: "levels",
        curv: "curves",
        expA: "exposure",
        vibA: "vibrance",
        hue2: "hueSaturation",
        blnc: "colorBalance",
        blwh: "blackAndWhite",
        phfl: "photoFilter",
        mixr: "channelMixer",
        clrL: "colorLookup",
        nvrt: "invert",
        post: "posterization",
        thrs: "thresholdClassEvent",
        grdm: "gradientMapEvent",
        selc: "selectiveColor",
        rplc: "replaceColor"
    };
    dD.keys = {
        levl: [F.EO, F.sj],
        curv: [F.EO, F.PA],
        hue2: [F.EO, F.va],
        nvrt: [F.EO, F.aC],
        blnc: [F.EO, F.KO]
    };
    dD.oG = function (Y) {
        var S = io.g4("mixr");
        S.Mnch = {
            t: "bool",
            v: Y.oU
        };
        function h(q, G) {
            var H = {
                classID: "ChMx"
            }
                , I = {
                    Rd: 0,
                    Grn: 1,
                    Bl: 2,
                    Cnst: 4
                };
            for (var E in I)
                H[E] = {
                    t: "UntF",
                    v: {
                        type: "#Prc",
                        val: q[G + I[E]]
                    }
                };
            return {
                t: "Objc",
                v: H
            }
        }
        if (Y.oU)
            S.Gry = h(Y.G, 0);
        else {
            S.Rd = h(Y.G, 0);
            S.Grn = h(Y.G, 5);
            S.Bl = h(Y.G, 10)
        }
        return S
    }
        ;
    dD.Ea = function (Y) {
        function S(q, H, G) {
            var I = {
                Rd: 0,
                Grn: 1,
                Bl: 2,
                Cnst: 4
            };
            for (var E in I)
                if (q[E])
                    H[G + I[E]] = q[E].v.val
        }
        var h = {
            oU: !1,
            G: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        };
        if (Y.Mnch && Y.Mnch.v)
            h.oU = !0;
        if (h.oU)
            S(Y.Gry.v, h.G, 0);
        else {
            S(Y.Rd.v, h.G, 0);
            S(Y.Grn.v, h.G, 5);
            S(Y.Bl.v, h.G, 10)
        }
        return h
    }
        ;
    var io = {};
    io.mU = function (Y) {
        var S = Y.filterID.v;
        return S > 16777215 ? k.a3s(S) : Y.Fltr.v.classID
    }
        ;
    io.ET = [{
        yW: "GEfc"
    }, {
        yW: "LnCr"
    }, {
        yW: "LqFy",
        Sp: !0
    }, {
        Hl: "3D",
        Wj: ["lightFilterGradient"]
    }, {
        Hl: [24, 2],
        Wj: "Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")
    }, {
        Hl: [24, 4],
        Wj: "Dspl,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave".split(",")
    }, {
        Hl: [24, 6],
        Wj: ["AdNs", "Dspc", "DstS", "Mdn "]
    }, {
        Hl: [24, 8],
        Wj: "ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")
    }, {
        Hl: [24, 10],
        Wj: ["Clds", "DfrC", "LnsF"]
    }, {
        Hl: [24, 12],
        Wj: ["Shrp", "ShrE", "ShrM", "smartSharpen", "UnsM"]
    }, {
        Hl: [24, 14],
        Wj: "Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")
    }, {
        Hl: [24, 16],
        Wj: "HghP,Mxm ,Mnm ,Ofst,Rept,Ctoa".split(",")
    }, {
        Hl: "Fourier",
        Wj: ["dDFT", "iDFT"]
    }];
    io.LS = {
        LqFy: "LqFy",
        Avrg: "Avrg",
        "Blr ": "blurEvent",
        BlrM: "blurMethod",
        boxblur: "boxblur",
        GsnB: "gaussianBlur",
        MtnB: "motionBlur",
        RdlB: "radialBlur",
        surfaceBlur: "surfaceBlur",
        lightFilterGradient: "lightFilterGradient",
        adaptCorrect: "adaptCorrect",
        Pnch: "pinch",
        "Plr ": "polar",
        Rple: "ripple",
        "Shr ": "shear",
        Sphr: "spherize",
        Twrl: "twirl",
        Wave: "wave",
        AdNs: "addNoise",
        DstS: "dustAndScratches",
        "Mdn ": "median",
        ClrH: "colorHalftone",
        Crst: "",
        Frgm: "",
        Mztn: "mezzotint",
        "Msc ": "mosaic",
        Pntl: "",
        Clds: "clouds",
        DfrC: "differenceClouds",
        LnsF: "LnsF",
        Shrp: "sharpen",
        ShrM: "sharpenMore",
        smartSharpen: "smartSharpen",
        UnsM: "unsharpMask",
        FndE: "findEdges",
        oilPaint: "oilPaint",
        HghP: "highPass",
        "Mxm ": "maximum",
        "Mnm ": "minimum",
        Ofst: "offset"
    };
    io.EF = {
        AddNoise: "AdNs",
        Average: "Avrg",
        Blur: "Blr ",
        BlurMore: "BlrM",
        Clouds: "Clds",
        DifferenceClouds: "DfrC",
        DustAndScratches: "DstS",
        GaussianBlur: "GsnB",
        HighPass: "HghP",
        Maximum: "Mxm ",
        Minimum: "Mnm ",
        MotionBlur: "MtnB",
        Offset: "Ofst",
        Pinch: "Pnch",
        PolarCoordinates: "Plr ",
        Ripple: "Rple",
        Sharpen: "Shrp",
        SharpenMore: "ShrM",
        Twirl: "Twrl",
        UnsharpMask: "UnsM"
    };
    io.Cf = {
        rigidTransform: U.nY
    };
    io.names = {
        lightFilterGradient: "Normal Map",
        rigidTransform: [10, 46],
        LnCr: [24, 1, 1, 0],
        LqFy: [24, 1, 0, 0],
        GEfc: [24, 0],
        Avrg: [24, 3, 0],
        "Blr ": [24, 3, 1],
        BlrM: [24, 3, 2],
        boxblur: [24, 3, 3],
        GsnB: [24, 3, 4],
        Bokh: [24, 3, 5],
        MtnB: [24, 3, 6],
        RdlB: [24, 3, 7],
        surfaceBlur: [24, 3, 10],
        Dspl: [24, 5, 0],
        Pnch: [24, 5, 1],
        "Plr ": [24, 5, 2],
        Rple: [24, 5, 3],
        "Shr ": [24, 5, 4],
        Sphr: [24, 5, 5],
        Twrl: [24, 1, 0, 1, 3],
        Wave: [24, 5, 6],
        AdNs: [24, 7, 0],
        Dspc: [24, 7, 1],
        DstS: [24, 7, 2],
        "Mdn ": [24, 7, 3],
        ClrH: [24, 9, 0],
        Crst: [24, 9, 1],
        Frgm: [24, 9, 3],
        Mztn: [24, 9, 4],
        "Msc ": [24, 9, 5],
        Pntl: [24, 9, 6],
        Clds: [24, 11, 0],
        DfrC: [24, 11, 1],
        LnsF: [24, 11, 2],
        Shrp: [24, 13, 0],
        ShrE: [24, 13, 1],
        ShrM: [24, 13, 2],
        smartSharpen: [24, 13, 3],
        UnsM: [24, 13, 4],
        "Dfs ": [24, 15, 0],
        Embs: [24, 15, 1],
        FndE: [24, 15, 3],
        oilPaint: [24, 15, 4],
        Slrz: "Solarize",
        TrcC: "Trace Contour",
        "Wnd ": "Wind",
        HghP: [24, 17, 1],
        "Mxm ": [24, 17, 2],
        "Mnm ": [24, 17, 3],
        Ofst: [24, 17, 4],
        Rept: [24, 17, 5],
        Ctoa: "Color to Alpha",
        dDFT: "Fourier Transform",
        iDFT: "Inverse Fourier Transform",
        adaptCorrect: ["VAR0/VAR1", [19, 6, 0], [19, 6, 2]]
    };
    io.g4 = function (Y) {
        var S = null;
        if (Y == "GEfc")
            S = {
                __name: "Filter Gallery",
                classID: "GEfc",
                GEfs: {
                    t: "VlLs",
                    v: [{
                        t: "Objc",
                        v: eE.g4("GlwE")
                    }]
                }
            };
        if (Y == "LqFy") {
            var h = {
                rz: 5,
                UR: 5,
                map: new Float32Array(5 * 5 * 2)
            }
                , q = new Uint8Array(de.zN(h))
                , H = [];
            for (var G = 0; G < q.length; G++)
                H.push(q[G]);
            S = {
                __name: "Liquify",
                classID: "LqFy",
                LqMe: {
                    t: "tdta",
                    v: H
                }
            }
        }
        if (Y == "rigidTransform") {
            S = {
                __name: "Puppet Warp",
                classID: "rigidTransform",
                null: {
                    t: "obj ",
                    v: [{
                        t: "Enmr",
                        v: {
                            classID: "Lyr",
                            typeID: "Ordn",
                            enum: "Trgt"
                        }
                    }]
                },
                rigidType: {
                    t: "bool",
                    v: !0
                },
                puppetShapeList: {
                    t: "VlLs",
                    v: []
                },
                PuX0: {
                    t: "doub",
                    v: 0
                },
                PuX1: {
                    t: "doub",
                    v: 1e3
                },
                PuX2: {
                    t: "doub",
                    v: 1e3
                },
                PuX3: {
                    t: "doub",
                    v: 0
                },
                PuY0: {
                    t: "doub",
                    v: 0
                },
                PuY1: {
                    t: "doub",
                    v: 0
                },
                PuY2: {
                    t: "doub",
                    v: 1e3
                },
                PuY3: {
                    t: "doub",
                    v: 1e3
                }
            }
        }
        if (Y == "LnCr")
            S = {
                __name: "Lens Correction",
                classID: "LnCr",
                LnAg: {
                    t: "bool",
                    v: !0
                },
                LnAc: {
                    t: "bool",
                    v: !1
                },
                LnAv: {
                    t: "bool",
                    v: !1
                },
                LnAs: {
                    t: "bool",
                    v: !1
                },
                LnIp: {
                    t: "bool",
                    v: !1
                },
                LnFo: {
                    t: "doub",
                    v: 0
                },
                LnPr: {
                    t: "TEXT",
                    v: ""
                },
                LnIa: {
                    t: "doub",
                    v: 0
                },
                LnI0: {
                    t: "doub",
                    v: 0
                },
                LnI1: {
                    t: "doub",
                    v: 0
                },
                LnI2: {
                    t: "doub",
                    v: 0
                },
                LnI3: {
                    t: "doub",
                    v: 1
                },
                LnRa: {
                    t: "doub",
                    v: 0
                },
                LnVp: {
                    t: "doub",
                    v: 0
                },
                LnHp: {
                    t: "doub",
                    v: 0
                },
                LnSi: {
                    t: "doub",
                    v: 100
                },
                LnFt: {
                    t: "long",
                    v: 2
                },
                LnSb: {
                    t: "doub",
                    v: 0
                },
                LnSt: {
                    t: "long",
                    v: 50
                },
                LnRc: {
                    t: "doub",
                    v: 0
                },
                LnGm: {
                    t: "doub",
                    v: 0
                },
                LnBy: {
                    t: "doub",
                    v: 0
                },
                LnNa: {
                    t: "long",
                    v: 64
                },
                LnIh: {
                    t: "long",
                    v: 0
                },
                LnIv: {
                    t: "long",
                    v: 0
                },
                LnIs: {
                    t: "Objc",
                    v: {
                        classID: "RGBC",
                        Rd: {
                            t: "doub",
                            v: 127
                        },
                        Grn: {
                            t: "doub",
                            v: 127
                        },
                        Bl: {
                            t: "doub",
                            v: 127
                        }
                    }
                },
                LnNm: {
                    t: "bool",
                    v: !1
                }
            };
        if (Y == "adaptCorrect")
            S = {
                __name: "Shadow/Highlight",
                classID: "adaptCorrect",
                sdwM: {
                    t: "Objc",
                    v: {
                        __name: "Parameters",
                        classID: "adaptCorrectTones",
                        Amnt: {
                            t: "UntF",
                            v: {
                                type: "#Prc",
                                val: 50
                            }
                        },
                        Wdth: {
                            t: "UntF",
                            v: {
                                type: "#Prc",
                                val: 25
                            }
                        },
                        Rds: {
                            t: "long",
                            v: 12
                        }
                    }
                },
                hglM: {
                    t: "Objc",
                    v: {
                        __name: "Parameters",
                        classID: "adaptCorrectTones",
                        Amnt: {
                            t: "UntF",
                            v: {
                                type: "#Prc",
                                val: 0
                            }
                        },
                        Wdth: {
                            t: "UntF",
                            v: {
                                type: "#Prc",
                                val: 0
                            }
                        },
                        Rds: {
                            t: "long",
                            v: 0
                        }
                    }
                },
                BlcC: {
                    t: "doub",
                    v: 0
                },
                WhtC: {
                    t: "doub",
                    v: 0
                },
                Cntr: {
                    t: "long",
                    v: 0
                },
                ClrC: {
                    t: "long",
                    v: 0
                }
            };
        if (Y == "Dfs ")
            S = {
                __name: "Diffuse",
                classID: "Dfs",
                Md: {
                    t: "enum",
                    v: {
                        DfsM: "Nrml"
                    }
                },
                FlRs: {
                    t: "long",
                    v: 14061024
                }
            };
        if (Y == "Embs")
            S = {
                __name: "Emboss",
                classID: "Embs",
                Angl: {
                    t: "long",
                    v: 45
                },
                Hght: {
                    t: "long",
                    v: 5
                },
                Amnt: {
                    t: "long",
                    v: 100
                }
            };
        if (Y == "oilPaint")
            S = {
                __name: "Oil Paint",
                classID: "oilPaint",
                lightingOn: {
                    t: "bool",
                    v: !0
                },
                stylization: {
                    t: "doub",
                    v: 3
                },
                brushScale: {
                    t: "doub",
                    v: 1
                },
                microBrush: {
                    t: "doub",
                    v: 0
                },
                LghD: {
                    t: "long",
                    v: 45
                },
                specularity: {
                    t: "doub",
                    v: 1
                },
                cleanliness: {
                    t: "doub",
                    v: 2
                }
            };
        if (Y == "TrcC")
            S = {
                __name: "Trace Contour",
                classID: "TrcC",
                Lvl: {
                    t: "long",
                    v: 128
                },
                Edg: {
                    t: "enum",
                    v: {
                        CntE: "Lwr"
                    }
                }
            };
        if (Y == "Wnd ")
            S = {
                __name: "Wind",
                classID: "Wnd",
                WndM: {
                    t: "enum",
                    v: {
                        WndM: "Wnd"
                    }
                },
                Drct: {
                    t: "enum",
                    v: {
                        Drct: "Rght"
                    }
                }
            };
        if (Y == "lightFilterGradient")
            S = {
                __name: "Generate Normals",
                classID: "lightFilterGradient",
                blur: {
                    t: "doub",
                    v: 0
                },
                textureScale: {
                    t: "doub",
                    v: 1
                },
                Scl: {
                    t: "doub",
                    v: 1
                },
                Dtl: {
                    t: "VlLs",
                    v: [{
                        t: "doub",
                        v: 1
                    }, {
                        t: "doub",
                        v: 1
                    }, {
                        t: "doub",
                        v: 1
                    }]
                }
            };
        if (Y == "boxblur")
            S = {
                __name: "Box Blur",
                classID: "boxblur",
                Rds: {
                    t: "UntF",
                    v: {
                        type: "#Pxl",
                        val: 15
                    }
                }
            };
        if (Y == "GsnB")
            S = {
                __name: "Gaussian Blur",
                classID: "GsnB",
                Rds: {
                    t: "UntF",
                    v: {
                        type: "#Pxl",
                        val: 7.2
                    }
                }
            };
        if (Y == "Bokh")
            S = {
                __name: "Lens Blur",
                classID: "Bokh",
                BkDi: {
                    t: "enum",
                    v: {
                        BtDi: "BeIn"
                    }
                },
                BkDp: {
                    t: "long",
                    v: 0
                },
                BkDs: {
                    t: "bool",
                    v: !1
                },
                BkIs: {
                    t: "enum",
                    v: {
                        BtIs: "BeS6"
                    }
                },
                BkIb: {
                    t: "doub",
                    v: 30
                },
                BkIc: {
                    t: "long",
                    v: 0
                },
                BkIr: {
                    t: "long",
                    v: 0
                },
                BkSb: {
                    t: "doub",
                    v: 0
                },
                BkSt: {
                    t: "long",
                    v: 255
                },
                BkNa: {
                    t: "long",
                    v: 0
                },
                BkNt: {
                    t: "enum",
                    v: {
                        BtNt: "BeNu"
                    }
                },
                BkNm: {
                    t: "bool",
                    v: !1
                }
            };
        if (Y == "MtnB")
            S = {
                __name: "Motion Blur",
                classID: "MtnB",
                Angl: {
                    t: "long",
                    v: 0
                },
                Dstn: {
                    t: "UntF",
                    v: {
                        type: "#Pxl",
                        val: 4
                    }
                }
            };
        if (Y == "RdlB")
            S = {
                __name: "Radial Blur",
                classID: "RdlB",
                Amnt: {
                    t: "long",
                    v: 10
                },
                BlrM: {
                    t: "enum",
                    v: {
                        BlrM: "Spn"
                    }
                },
                BlrQ: {
                    t: "enum",
                    v: {
                        BlrQ: "Gd"
                    }
                },
                Cntr: {
                    t: "Objc",
                    v: {
                        classID: "Pnt",
                        Hrzn: {
                            t: "doub",
                            v: .5
                        },
                        Vrtc: {
                            t: "doub",
                            v: .5
                        }
                    }
                }
            };
        if (Y == "surfaceBlur")
            S = {
                __name: "Surface Blur",
                classID: "surfaceBlur",
                Rds: {
                    t: "UntF",
                    v: {
                        type: "#Pxl",
                        val: 15
                    }
                },
                Thsh: {
                    t: "long",
                    v: 15
                }
            };
        if (Y == "Dspl")
            S = {
                __name: "Displace",
                classID: "Dspl",
                HrzS: {
                    t: "long",
                    v: 10
                },
                VrtS: {
                    t: "long",
                    v: 10
                },
                DspM: {
                    t: "enum",
                    v: {
                        DspM: "StrF"
                    }
                },
                UndA: {
                    t: "enum",
                    v: {
                        UndA: "RptE"
                    }
                },
                DspF: {
                    t: "Pth ",
                    v: {
                        sig: "txtu",
                        pth: "file.psd\0"
                    }
                }
            };
        if (Y == "Pnch")
            S = {
                __name: "Pinch",
                classID: "Pnch",
                Amnt: {
                    t: "long",
                    v: -100
                }
            };
        if (Y == "Plr ")
            S = {
                __name: "Polar Coordinates",
                classID: "Plr",
                Cnvr: {
                    t: "enum",
                    v: {
                        Cnvr: "RctP"
                    }
                }
            };
        if (Y == "Rple")
            S = {
                __name: "Ripple",
                classID: "Rple",
                Amnt: {
                    t: "long",
                    v: 999
                },
                RplS: {
                    t: "enum",
                    v: {
                        RplS: "Mdm"
                    }
                }
            };
        if (Y == "Shr ")
            S = {
                __name: "Shear",
                classID: "Shr",
                ShrP: {
                    t: "VlLs",
                    v: [{
                        t: "Objc",
                        v: {
                            classID: "Pnt",
                            Hrzn: {
                                t: "doub",
                                v: 0
                            },
                            Vrtc: {
                                t: "doub",
                                v: 1
                            }
                        }
                    }, {
                        t: "Objc",
                        v: {
                            classID: "Pnt",
                            Hrzn: {
                                t: "doub",
                                v: 0
                            },
                            Vrtc: {
                                t: "doub",
                                v: 128
                            }
                        }
                    }]
                },
                UndA: {
                    t: "enum",
                    v: {
                        UndA: "WrpA"
                    }
                },
                ShrS: {
                    t: "long",
                    v: 0
                },
                ShrE: {
                    t: "long",
                    v: 1
                }
            };
        if (Y == "Sphr")
            S = {
                __name: "Spherize",
                classID: "Sphr",
                Amnt: {
                    t: "long",
                    v: 100
                },
                SphM: {
                    t: "enum",
                    v: {
                        SphM: "Nrml"
                    }
                }
            };
        if (Y == "Twrl")
            S = {
                __name: "Twirl",
                classID: "Twrl",
                Angl: {
                    t: "long",
                    v: 90
                }
            };
        if (Y == "Wave")
            S = {
                __name: "Wave",
                classID: "Wave",
                Wvtp: {
                    t: "enum",
                    v: {
                        Wvtp: "WvSn"
                    }
                },
                NmbG: {
                    t: "long",
                    v: 1
                },
                WLMn: {
                    t: "long",
                    v: 101
                },
                WLMx: {
                    t: "long",
                    v: 102
                },
                AmMn: {
                    t: "long",
                    v: 36
                },
                AmMx: {
                    t: "long",
                    v: 37
                },
                SclH: {
                    t: "long",
                    v: 100
                },
                SclV: {
                    t: "long",
                    v: 100
                },
                UndA: {
                    t: "enum",
                    v: {
                        UndA: "WrpA"
                    }
                },
                RndS: {
                    t: "long",
                    v: 743887
                }
            };
        if (Y == "AdNs")
            S = {
                __name: "Add Noise",
                classID: "AdNs",
                Dstr: {
                    t: "enum",
                    v: {
                        Dstr: "Unfr"
                    }
                },
                Nose: {
                    t: "UntF",
                    v: {
                        type: "#Prc",
                        val: 20
                    }
                },
                Mnch: {
                    t: "bool",
                    v: !1
                },
                FlRs: {
                    t: "long",
                    v: 100691320
                }
            };
        if (Y == "DstS")
            S = {
                __name: "Dust & Scratches",
                classID: "DstS",
                Rds: {
                    t: "long",
                    v: 2
                },
                Thsh: {
                    t: "long",
                    v: 26
                }
            };
        if (Y == "Mdn ")
            S = {
                __name: "Median",
                classID: "Mdn",
                Rds: {
                    t: "UntF",
                    v: {
                        type: "#Pxl",
                        val: 7
                    }
                }
            };
        if (Y == "ClrH")
            S = {
                __name: "Color Halftone",
                classID: "ClrH",
                Rds: {
                    t: "long",
                    v: 8
                },
                Ang1: {
                    t: "long",
                    v: 10
                },
                Ang2: {
                    t: "long",
                    v: 40
                },
                Ang3: {
                    t: "long",
                    v: 70
                },
                Ang4: {
                    t: "long",
                    v: 80
                }
            };
        if (Y == "Crst")
            S = {
                __name: "Crystallize",
                classID: "Crst",
                ClSz: {
                    t: "long",
                    v: 10
                },
                FlRs: {
                    t: "long",
                    v: 1554929224
                }
            };
        if (Y == "Mztn")
            S = {
                __name: "Mezzotint",
                classID: "Mztn",
                MztT: {
                    t: "enum",
                    v: {
                        MztT: "FnDt"
                    }
                },
                FlRs: {
                    t: "long",
                    v: 204994187
                }
            };
        if (Y == "Msc ")
            S = {
                __name: "Mosaic",
                classID: "Msc",
                ClSz: {
                    t: "UntF",
                    v: {
                        type: "#Pxl",
                        val: 12
                    }
                }
            };
        if (Y == "Pntl")
            S = {
                __name: "Pointillize",
                classID: "Pntl",
                ClSz: {
                    t: "long",
                    v: 10
                },
                FlRs: {
                    t: "long",
                    v: 1554929236
                }
            };
        if (Y == "LnsF")
            S = {
                __name: "Lens Flare",
                classID: "LnsF",
                Brgh: {
                    t: "long",
                    v: 100
                },
                FlrC: {
                    t: "Objc",
                    v: {
                        classID: "Pnt",
                        Hrzn: {
                            t: "doub",
                            v: .19140625
                        },
                        Vrtc: {
                            t: "doub",
                            v: .185628741979599
                        }
                    }
                },
                Lns: {
                    t: "enum",
                    v: {
                        Lns: "Zm"
                    }
                }
            };
        if (Y == "smartSharpen")
            S = {
                __name: "Smart Sharpen",
                classID: "smartSharpen",
                presetKind: {
                    t: "enum",
                    v: {
                        presetKindType: "presetKindCustom"
                    }
                },
                useLegacy: {
                    t: "bool",
                    v: !1
                },
                Amnt: {
                    t: "UntF",
                    v: {
                        type: "#Prc",
                        val: 150
                    }
                },
                Rds: {
                    t: "UntF",
                    v: {
                        type: "#Pxl",
                        val: 1
                    }
                },
                noiseReduction: {
                    t: "UntF",
                    v: {
                        type: "#Prc",
                        val: 0
                    }
                },
                blur: {
                    t: "enum",
                    v: {
                        blurType: "GsnB"
                    }
                }
            };
        if (Y == "UnsM")
            S = {
                __name: "Unsharp Mask",
                classID: "UnsM",
                Amnt: {
                    t: "UntF",
                    v: {
                        type: "#Prc",
                        val: 142
                    }
                },
                Rds: {
                    t: "UntF",
                    v: {
                        type: "#Pxl",
                        val: 4.5
                    }
                },
                Thsh: {
                    t: "long",
                    v: 0
                }
            };
        if (Y == "HghP")
            S = {
                __name: "High Pass",
                classID: "HghP",
                Rds: {
                    t: "UntF",
                    v: {
                        type: "#Pxl",
                        val: 3
                    }
                }
            };
        if (Y == "Mxm ")
            S = {
                __name: "Maximum",
                classID: "Mxm",
                Rds: {
                    t: "UntF",
                    v: {
                        type: "#Pxl",
                        val: 9
                    }
                }
            };
        if (Y == "Mnm ")
            S = {
                __name: "Minimum",
                classID: "Mnm",
                Rds: {
                    t: "UntF",
                    v: {
                        type: "#Pxl",
                        val: 14
                    }
                }
            };
        if (Y == "Ofst")
            S = {
                __name: "Offset",
                classID: "Ofst",
                Hrzn: {
                    t: "long",
                    v: 144
                },
                Vrtc: {
                    t: "long",
                    v: 278
                },
                Fl: {
                    t: "enum",
                    v: {
                        FlMd: "Wrp"
                    }
                }
            };
        if (Y == "Rept")
            S = {
                __name: "Repeat",
                classID: "Rept",
                Scl: {
                    v: {
                        type: "#Prc",
                        val: 100
                    },
                    t: "UntF"
                },
                Rsft: {
                    v: {
                        type: "#Prc",
                        val: 0
                    },
                    t: "UntF"
                },
                SpcX: {
                    v: {
                        type: "#Prc",
                        val: 0
                    },
                    t: "UntF"
                },
                SpcY: {
                    v: {
                        type: "#Prc",
                        val: 0
                    },
                    t: "UntF"
                },
                SpcC: {
                    t: "bool",
                    v: !1
                },
                Angl: {
                    t: "long",
                    v: 0
                }
            };
        if (Y == "Ctoa")
            S = {
                __name: "Color to Alpha",
                classID: "Ctoa",
                Trsp: {
                    v: {
                        type: "#Prc",
                        val: 0
                    },
                    t: "UntF"
                },
                Opct: {
                    v: {
                        type: "#Prc",
                        val: 100
                    },
                    t: "UntF"
                },
                Clr: {
                    v: {
                        classID: "RGBC",
                        Rd: {
                            v: 0,
                            t: "doub"
                        },
                        Grn: {
                            v: 0,
                            t: "doub"
                        },
                        Bl: {
                            v: 0,
                            t: "doub"
                        }
                    },
                    t: "Objc"
                }
            };
        if (Y == "brit")
            S = {
                __name: "Brightness/Contrast",
                classID: "BrgC",
                Brgh: {
                    t: "long",
                    v: 0
                },
                Cntr: {
                    t: "long",
                    v: 0
                },
                useLegacy: {
                    t: "bool",
                    v: !1
                }
            };
        if (Y == "levl")
            S = {
                __name: "Levels",
                classID: "Lvls",
                presetKind: {
                    t: "enum",
                    v: {
                        presetKindType: "presetKindCustom"
                    }
                },
                Adjs: {
                    t: "VlLs",
                    v: []
                }
            };
        if (Y == "curv")
            S = {
                __name: "Curves",
                classID: "Crvs",
                presetKind: {
                    t: "enum",
                    v: {
                        presetKindType: "presetKindCustom"
                    }
                },
                Adjs: {
                    t: "VlLs",
                    v: []
                }
            };
        if (Y == "expA")
            S = {
                __name: "Exposure",
                classID: "Exps",
                presetKind: {
                    t: "enum",
                    v: {
                        presetKindType: "presetKindCustom"
                    }
                },
                Exps: {
                    t: "doub",
                    v: 0
                },
                Ofst: {
                    t: "doub",
                    v: 0
                },
                gammaCorrection: {
                    t: "doub",
                    v: 1
                }
            };
        if (Y == "vibA")
            S = {
                __name: "Vibrance",
                classID: "vibrance",
                vibrance: {
                    t: "long",
                    v: 0
                },
                Strt: {
                    t: "long",
                    v: 0
                }
            };
        if (Y == "hue2")
            S = {
                __name: "Hue/Saturation",
                classID: "HStr",
                presetKind: {
                    t: "enum",
                    v: {
                        presetKindType: "presetKindCustom"
                    }
                },
                Clrz: {
                    t: "bool",
                    v: !1
                },
                Adjs: {
                    t: "VlLs",
                    v: []
                }
            };
        if (Y == "blnc")
            S = {
                __name: "Color Balance",
                classID: "ClrB",
                ShdL: {
                    t: "VlLs",
                    v: [{
                        t: "long",
                        v: 0
                    }, {
                        t: "long",
                        v: 0
                    }, {
                        t: "long",
                        v: 0
                    }]
                },
                MdtL: {
                    t: "VlLs",
                    v: [{
                        t: "long",
                        v: 0
                    }, {
                        t: "long",
                        v: 0
                    }, {
                        t: "long",
                        v: 0
                    }]
                },
                HghL: {
                    t: "VlLs",
                    v: [{
                        t: "long",
                        v: 0
                    }, {
                        t: "long",
                        v: 0
                    }, {
                        t: "long",
                        v: 0
                    }]
                },
                PrsL: {
                    t: "bool",
                    v: !0
                }
            };
        if (Y == "blwh")
            S = {
                __name: "Black & White",
                classID: "BanW",
                presetKind: {
                    t: "enum",
                    v: {
                        presetKindType: "presetKindCustom"
                    }
                },
                Rd: {
                    t: "long",
                    v: 40
                },
                Yllw: {
                    t: "long",
                    v: 85
                },
                Grn: {
                    t: "long",
                    v: 204
                },
                Cyn: {
                    t: "long",
                    v: 60
                },
                Bl: {
                    t: "long",
                    v: 20
                },
                Mgnt: {
                    t: "long",
                    v: 80
                },
                useTint: {
                    t: "bool",
                    v: !0
                },
                tintColor: {
                    t: "Objc",
                    v: {
                        classID: "RGBC",
                        Rd: {
                            t: "doub",
                            v: 0
                        },
                        Grn: {
                            t: "doub",
                            v: 0
                        },
                        Bl: {
                            t: "doub",
                            v: 0
                        }
                    }
                }
            };
        if (Y == "phfl")
            S = {
                __name: "Photo Filter",
                classID: "photoFilter",
                Clr: {
                    t: "Objc",
                    v: {
                        classID: "LbCl",
                        Lmnc: {
                            t: "doub",
                            v: 67.06
                        },
                        A: {
                            t: "doub",
                            v: 32
                        },
                        B: {
                            t: "doub",
                            v: 120
                        }
                    }
                },
                Dnst: {
                    t: "long",
                    v: 80
                },
                PrsL: {
                    t: "bool",
                    v: !0
                }
            };
        if (Y == "grdm")
            S = {
                __name: "Gradient Map",
                classID: "GrMp",
                Rvrs: {
                    t: "bool",
                    v: !1
                },
                Grad: JSON.parse(ai.l_[6]).Grad
            };
        if (Y == "selc")
            S = {
                __name: "Selective Color",
                classID: "SlcC",
                presetKind: {
                    t: "enum",
                    v: {
                        presetKindType: "presetKindCustom"
                    }
                },
                Mthd: {
                    t: "enum",
                    v: {
                        CrcM: "Rltv"
                    }
                },
                ClrC: {
                    t: "VlLs",
                    v: []
                }
            };
        if (Y == "thrs")
            S = {
                __name: "Threshold",
                classID: "Thrs",
                Lvl: {
                    t: "long",
                    v: 128
                }
            };
        if (Y == "mixr")
            S = {
                __name: "Channel Mixer",
                classID: "ChnM",
                presetKind: {
                    t: "enum",
                    v: {
                        presetKindType: "presetKindDefault"
                    }
                },
                Rd: {
                    t: "Objc",
                    v: {
                        classID: "ChMx",
                        Rd: {
                            t: "UntF",
                            v: {
                                type: "#Prc",
                                val: 100
                            }
                        }
                    }
                },
                Grn: {
                    t: "Objc",
                    v: {
                        classID: "ChMx",
                        Grn: {
                            t: "UntF",
                            v: {
                                type: "#Prc",
                                val: 100
                            }
                        }
                    }
                },
                Bl: {
                    t: "Objc",
                    v: {
                        classID: "ChMx",
                        Bl: {
                            t: "UntF",
                            v: {
                                type: "#Prc",
                                val: 100
                            }
                        }
                    }
                }
            };
        if (Y == "clrL")
            S = {
                __name: "Color Lookup",
                classID: "colorLookup"
            };
        if (Y == "post")
            S = {
                __name: "Posterize",
                classID: "Pstr",
                Lvls: {
                    t: "long",
                    v: 3
                }
            };
        if (Y == "rplc")
            S = {
                __name: "Replace Color",
                classID: "RplC",
                Fzns: {
                    t: "long",
                    v: 55
                },
                Mnm: {
                    t: "Objc",
                    v: {
                        classID: "LbCl",
                        Lmnc: {
                            t: "doub",
                            v: 73.1
                        },
                        A: {
                            t: "doub",
                            v: 23.95
                        },
                        B: {
                            t: "doub",
                            v: 8.03
                        }
                    }
                },
                Mxm: {
                    t: "Objc",
                    v: {
                        classID: "LbCl",
                        Lmnc: {
                            t: "doub",
                            v: 73
                        },
                        A: {
                            t: "doub",
                            v: 23
                        },
                        B: {
                            t: "doub",
                            v: 8
                        }
                    }
                },
                H: {
                    t: "long",
                    v: -22
                },
                Strt: {
                    t: "long",
                    v: 100
                },
                Lght: {
                    t: "long",
                    v: 2
                }
            };
        if (Y == "fade")
            S = {
                __name: "Fade",
                classID: "fade",
                Opct: {
                    t: "UntF",
                    v: {
                        type: "#Prc",
                        val: 100
                    }
                },
                Md: {
                    t: "enum",
                    v: {
                        BlnM: "Nrml"
                    }
                }
            };
        if (Y == "aply")
            S = {
                classID: "null",
                With: {
                    t: "Objc",
                    v: {
                        classID: "Clcl",
                        T: {
                            t: "obj ",
                            v: [{
                                t: "Enmr",
                                v: {
                                    classID: "Chnl",
                                    typeID: "Chnl",
                                    enum: "RGB"
                                }
                            }, {
                                t: "Enmr",
                                v: {
                                    classID: "Lyr",
                                    typeID: "Ordn",
                                    enum: "Mrgd"
                                }
                            }]
                        },
                        Invr: {
                            t: "bool",
                            v: !1
                        },
                        Clcl: {
                            t: "enum",
                            v: {
                                Clcn: "Nrml"
                            }
                        },
                        Opct: {
                            t: "UntF",
                            v: {
                                type: "#Prc",
                                val: 100
                            }
                        },
                        PrsT: {
                            t: "bool",
                            v: !1
                        }
                    }
                }
            };
        if (Y == "blendOptions")
            S = {
                classID: "blendOptions",
                Opct: {
                    t: "UntF",
                    v: {
                        type: "#Prc",
                        val: 100
                    }
                },
                Md: {
                    t: "enum",
                    v: {
                        BlnM: "Nrml"
                    }
                }
            };
        return S
    }
        ;
    io.gs = {
        sAdNs: function (Y, S) {
            S[0] = Y.Nose.v.val;
            S[1] = ["Gsn", "Unfr"].indexOf(Y.Dstr.v.Dstr);
            S[2] = Y.Mnch.v
        },
        gAdNs: function (Y, S) {
            Y.Nose.v.val = S[0];
            Y.Dstr.v.Dstr = ["Gsn", "Unfr"][S[1]];
            Y.Mnch.v = S[2]
        },
        sDstS: function (Y, S) {
            S[0] = Y.Rds.v;
            S[1] = Y.Thsh.v
        },
        gDstS: function (Y, S) {
            Y.Rds.v = S[0];
            Y.Thsh.v = S[1]
        },
        sGsnB: function (Y, S) {
            S[0] = Y.Rds.v.val
        },
        gGsnB: function (Y, S) {
            Y.Rds.v.val = S[0]
        },
        sHghP: function (Y, S) {
            S[0] = Y.Rds.v.val
        },
        gHghP: function (Y, S) {
            Y.Rds.v.val = S[0]
        },
        "sMxm ": function (Y, S) {
            S[0] = Y.Rds.v.val
        },
        "gMxm ": function (Y, S) {
            Y.Rds.v.val = S[0]
        },
        "sMnm ": function (Y, S) {
            S[0] = Y.Rds.v.val
        },
        "gMnm ": function (Y, S) {
            Y.Rds.v.val = S[0]
        },
        sMtnB: function (Y, S) {
            S[0] = Y.Angl.v;
            S[1] = Y.Dstn.v.val
        },
        gMtnB: function (Y, S) {
            Y.Angl.v = typeof S[0] == "number" ? S[0] : S[0].Lk;
            Y.Dstn.v.val = S[1]
        },
        sOfst: function (Y, S) {
            S[0] = Y.Hrzn.v;
            S[1] = Y.Vrtc.v;
            S[2] = ["Rpt", "Bckg", "Wrp"].indexOf(Y.Fl.v.FlMd)
        },
        gOfst: function (Y, S) {
            Y.Hrzn.v = S[0];
            Y.Vrtc.v = S[1];
            Y.Fl.v.FlMd = ["Rpt", "Bckg", "Wrp"][S[2]]
        },
        sPnch: function (Y, S) {
            S[0] = Y.Amnt.v
        },
        gPnch: function (Y, S) {
            Y.Amnt.v = S[0]
        },
        "sPlr ": function (Y, S) {
            S[0] = ["RctP", "PlrR"].indexOf(Y.Cnvr.v.Cnvr)
        },
        "gPlr ": function (Y, S) {
            Y.Cnvr.v.Cnvr = ["RctP", "PlrR"][S[0]]
        },
        sRple: function (Y, S) {
            S[0] = Y.Amnt.v;
            S[1] = ["Sml", "Mdm", "Lrg"].indexOf(Y.RplS.v.RplS)
        },
        gRple: function (Y, S) {
            Y.Amnt.v = S[0];
            Y.RplS.v.RplS = ["Sml", "Mdm", "Lrg"][S[1]]
        },
        sTwrl: function (Y, S) {
            S[0] = Y.Angl.v
        },
        gTwrl: function (Y, S) {
            Y.Angl.v = S[0]
        },
        sUnsM: function (Y, S) {
            S[0] = Y.Amnt.v.val;
            S[1] = Y.Rds.v.val;
            S[2] = Y.Thsh.v
        },
        gUnsM: function (Y, S) {
            Y.Amnt.v.val = S[0];
            Y.Rds.v.val = S[1];
            Y.Thsh.v = S[2]
        }
    };
    io.a8T = function (Y) {
        var S = new aV(0, 0);
        if (Y.enab.v == !1)
            return S;
        var h = Y.filterFXList.v;
        for (var G = 0; G < h.length; G++) {
            var q = h[G].v;
            if (q.enab.v == !1)
                continue;
            var H = io.mU(q)
                , I = io.He(H, q.Fltr ? q.Fltr.v : null);
            if (I.x > S.x)
                S.x = I.x;
            if (I.y > S.y)
                S.y = I.y
        }
        return S
    }
        ;
    io.He = function (Y, S) {
        var h = 0
            , q = 0;
        if (["GsnB", "boxblur", "smartSharpen", "UnsM", "HghP"].indexOf(Y) != -1) {
            var H = S.Rds.v.val;
            h = q = H * 2.57
        }
        if (Y == "MtnB")
            h = q = S.Dstn.v.val;
        if ("Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm".split(",").indexOf(Y) != -1) {
            h = q = 1e4
        }
        if (Y == "GEfc")
            return eE.He(S);
        return new aV(Math.ceil(h), Math.ceil(q))
    }
        ;
    io.JP = function () {
        return {
            t: "Objc",
            v: {
                classID: "filterFXStyle",
                enab: {
                    t: "bool",
                    v: !0
                },
                validAtPosition: {
                    t: "bool",
                    v: !0
                },
                filterMaskEnable: {
                    t: "bool",
                    v: !0
                },
                filterMaskLinked: {
                    t: "bool",
                    v: !0
                },
                filterMaskExtendWithWhite: {
                    t: "bool",
                    v: !0
                },
                filterFXList: {
                    t: "VlLs",
                    v: []
                }
            }
        }
    }
        ;
    io.gW = function (Y, S) {
        var h = {
            h: S.jy >> 16,
            l: S.jy >> 8 & 255,
            O: S.jy & 255
        }
            , q = {
                h: S.E$ >> 16,
                l: S.E$ >> 8 & 255,
                O: S.E$ & 255
            }
            , H = io.names[Y];
        if (H == null)
            H = dD.names[Y];
        var I = Y;
        for (var E in dD.CY)
            if (dD.CY[E] == Y)
                I = E;
        var d = {
            t: "Objc",
            v: {
                classID: "filterFX",
                Nm: {
                    t: "TEXT",
                    v: gx.get(H)
                },
                blendOptions: {
                    t: "Objc",
                    v: {
                        classID: "blendOptions",
                        Opct: {
                            t: "UntF",
                            v: {
                                type: "#Prc",
                                val: 100
                            }
                        },
                        Md: {
                            t: "enum",
                            v: {
                                BlnM: "Nrml"
                            }
                        }
                    }
                },
                enab: {
                    t: "bool",
                    v: !0
                },
                hasoptions: {
                    t: "bool",
                    v: !0
                },
                FrgC: {
                    t: "Objc",
                    v: t.W.Da(h)
                },
                BckC: {
                    t: "Objc",
                    v: t.W.Da(q)
                },
                filterID: {
                    t: "long",
                    v: I.length == 4 ? k.a8N(I) : 777
                }
            }
        }
            , B = io.g4(Y);
        if (B)
            d.v.Fltr = {
                t: "Objc",
                v: B
            };
        return d
    }
        ;
    io.TH = function (Y, S, h, q, H, I, E, d) {
        var B = h * q * 4;
        t.Ll.a30(Y, S, h, q, H, I, E)
    }
        ;
    io.rG = function (Y, S, h, q) {
        t.cH(h);
        if (Y < 1) {
            var H = Math.round(Y * 5)
                , I = [1, 2, 1, 2, [40, 26, 13, 6, 4, 2][H], 2, 1, 2, 1];
            I = t.Hd.Tt(I);
            var E = h.slice(0);
            t.Hd.FH(E, h, q.d, q.v, I, 255)
        } else
            S(h, q, Y);
        t.Bj(h)
    }
        ;
    io.abu = function (Y, S, h, q) {
        for (var G = 0; G < Y.length; G++) {
            h[G] = Y[G] * (1 / 255);
            q[G] = 0
        }
        FFT.fft2d(h, q);
        var H = S >>> 1
            , I = 16384
            , E = 128
            , B = 100;
        while (E < S) {
            E <<= 1;
            I <<= 2
        }
        var d = 255 / Math.log(I)
            , n = -100;
        for (var g = 0; g < S; g++)
            for (var z = 0; z < H; z++) {
                var p = S + H + g & S - 1
                    , C = h[p * S + z]
                    , T = q[p * S + z]
                    , A = Math.sqrt(C * C + T * T)
                    , i = Math.atan2(T, C);
                Y[g * S + z] = Math.round(d * Math.log(A + 1));
                Y[g * S + H + z] = Math.round((Math.PI + i) * (255 * .5 / Math.PI))
            }
    }
        ;
    io.aiY = function (Y, S, h, q) {
        h.fill(0);
        q.fill(0);
        var H = S >>> 1
            , I = 16384
            , E = 128;
        while (E < S) {
            E <<= 1;
            I <<= 2
        }
        var d = 255 / Math.log(I)
            , B = []
            , n = []
            , g = [];
        for (var G = 0; G < 256; G++) {
            B[G] = Math.exp(G / d) - 1;
            var z = G * (2 * Math.PI / 255) - Math.PI;
            n[G] = Math.sin(z);
            g[G] = Math.cos(z)
        }
        for (var p = 0; p < S; p++)
            for (var C = 0; C < H; C++) {
                var T = S + H + p & S - 1
                    , A = B[Y[p * S + C]]
                    , z = Y[p * S + H + C]
                    , i = A * g[z]
                    , e = A * n[z];
                h[T * S + C] = i;
                q[T * S + C] = e;
                if (C != 0) {
                    var a = T == 0 ? T * S + S - C : (S - T) * S + (S - C);
                    h[a] = i;
                    q[a] = -e
                }
            }
        FFT.ifft2d(h, q);
        for (var G = 0; G < Y.length; G++) {
            Y[G] = Math.max(0, Math.min(255, ~~(.5 + 255 * h[G])))
        }
    }
        ;
    io.xO = new ArrayBuffer(512);
    io.aie = function (Y) {
        var S = io.xO
            , h = Y.length;
        if (S.byteLength < h)
            io.xO = S = new ArrayBuffer(h);
        var q = new Uint8Array(S);
        for (var G = 0; G < h; G += 4) {
            q[G] = Y[G];
            q[G + 1] = Y[G + 1];
            q[G + 2] = Y[G + 2];
            q[G + 3] = Y[G + 3]
        }
        return S
    }
        ;
    io.Cu = function (Y, S, h, q, H, I, E) {
        if (I == null)
            I = {
                buffer: t.m(S.buffer.length),
                rect: S.rect.clone()
            };
        t.vx(S.buffer, I.buffer);
        if (Y == "GEfc") {
            var d = [];
            if (h.GEfs) {
                var B = h.GEfs.v;
                for (var G = 0; G < B.length; G++) {
                    var n = B[G].v;
                    if (n.GELv && n.GELv.v == !1)
                        continue;
                    d.push(n)
                }
            } else
                d = [h];
            for (var G = 0; G < d.length; G++) {
                var g;
                if (G == 0)
                    eE.Cu(Y, S, d[G], q, H, I, E);
                else {
                    if (g == null)
                        g = {
                            buffer: t.m(S.buffer.length),
                            rect: S.rect.clone()
                        };
                    t.vx(I.buffer, g.buffer);
                    eE.Cu(Y, g, d[G], q, H, I, E)
                }
            }
        }
        if (Y == "adaptCorrect") {
            var z = S.rect
                , p = z.d
                , C = z.v
                , T = p * C
                , A = T * 4
                , i = h.sdwM.v
                , e = i.Amnt.v.val / 100
                , a = i.Wdth.v.val / 100
                , Z = i.Rds.v
                , O = h.hglM.v
                , c = O.Amnt.v.val / 100
                , s = O.Wdth.v.val / 100
                , x = O.Rds.v;
            t.AJ.agw(S.buffer, I.buffer, p, C, e, a, Z, c, s, x, h.ClrC.v / 100, h.Cntr.v / 100)
        }
        if (Y == "Fbrs") {
            var z = S.rect
                , p = z.d
                , C = z.v
                , u = t.m(p * C)
                , y = Date.now()
                , j = 1
                , v = 1 - j;
            for (var G = 0; G < p * 100; G++) {
                var X = Math.random() * p;
                for (var N = 0; N < C; N++) {
                    var V = ~~(X + 4096) & 511;
                    u[N * p + V] = Math.min(255, u[N * p + V] + 1);
                    var $ = Math.random();
                    X = X - j + $ * 2 * j
                }
            }
            t.fb(u);
            I.buffer.fill(255);
            t.xe(u, I.buffer)
        }
        if (Y == "Frgm") {
            var z = S.rect
                , p = z.d
                , C = z.v
                , w = S.buffer.slice(0);
            t.cH(w);
            t.q0.akl(w, p, C, I.buffer);
            t.Bj(I.buffer)
        }
        if (Y == "Dfs ") {
            var z = S.rect
                , p = z.d
                , C = z.v
                , m = ["Nrml", "DrkO", "LghO", "anisotropic"].indexOf(h.Md.v.DfsM);
            if (m < 3)
                t.q0.a9c(S.buffer, p, C, I.buffer, [m]);
            else {
                var l = [1.4, 1.6, 1, 4, !1, 2, [0, 0, .001]]
                    , z = S.rect.clone();
                z.x = z.y = 0;
                t.wu.filter(S.buffer, z, I.buffer, l)
            }
        }
        if (Y == "TrcC") {
            var z = S.rect
                , p = z.d
                , b = p << 2
                , C = z.v
                , K = h.Lvl.v
                , J = h.Edg.v.CntE == "Lwr"
                , R = S.buffer
                , r = I.buffer;
            t.A5(r, 16777215, 4278190080);
            function f(aL, c2) {
                aa(aL, c2);
                aa(aL + 1, c2 + 1);
                aa(aL + 2, c2 + 2)
            }
            function gf(aL, c2) {
                e5(aL, c2);
                e5(aL + 1, c2 + 1);
                e5(aL + 2, c2 + 2)
            }
            function aa(aL, c2) {
                var hM = R[aL]
                    , ii = R[c2];
                if (hM >= K && ii < K)
                    r[aL] = 0;
                if (hM < K && ii >= K)
                    r[c2] = 0
            }
            function e5(aL, c2) {
                var hM = R[aL]
                    , ii = R[c2];
                if (hM > K && ii <= K)
                    r[c2] = 0;
                if (hM <= K && ii > K)
                    r[aL] = 0
            }
            if (J)
                for (var N = 1; N < C; N++)
                    for (var X = 1; X < p; X++) {
                        var fk = N * p + X << 2;
                        f(fk, fk - 4);
                        f(fk, fk - b)
                    }
            else
                for (var N = 1; N < C; N++)
                    for (var X = 1; X < p; X++) {
                        var fk = N * p + X << 2;
                        gf(fk, fk - 4);
                        gf(fk, fk - b)
                    }
        }
        if (Y == "Embs") {
            var z = S.rect
                , p = z.d
                , C = z.v
                , o = -h.Angl.v * Math.PI / 180
                , eY = h.Hght.v
                , du = h.Amnt.v / 100;
            eY /= 2;
            var dV = Math.cos(o) * eY
                , hy = Math.sin(o) * eY
                , R = S.buffer
                , r = I.buffer;
            r.fill(0);
            var bq = new Uint32Array(R.buffer)
                , i5 = new Uint8Array(4)
                , hX = new Uint32Array(i5.buffer);
            for (var N = 0; N < C; N++)
                for (var X = 0; X < p; X++) {
                    var bY = 0
                        , ds = 0
                        , hV = 0;
                    if (0 <= X + dV && X + dV < p && 0 <= N + hy && N + hy < C) {
                        t.I.a5(X + dV + .5, N + hy + .5, bq, p, C, hX, 0, 0);
                        bY += i5[0] - 128;
                        ds += i5[1] - 128;
                        hV += i5[2] - 128
                    }
                    if (0 <= X - dV && X - dV < p && 0 <= N - hy && N - hy < C) {
                        t.I.a5(X - dV + .5, N - hy + .5, bq, p, C, hX, 0, 0);
                        bY -= i5[0] - 128;
                        ds -= i5[1] - 128;
                        hV -= i5[2] - 128
                    }
                    var fk = N * p + X << 2;
                    r[fk] = Math.max(0, Math.min(255, bY * du + 128));
                    r[fk + 1] = Math.max(0, Math.min(255, ds * du + 128));
                    r[fk + 2] = Math.max(0, Math.min(255, hV * du + 128));
                    r[fk + 3] = R[fk + 3]
                }
        }
        if (Y == "ShrE") {
            var z = S.rect
                , p = z.d
                , C = z.v;
            t.q0.ajs(S.buffer, p, C, I.buffer)
        }
        if (Y == "Dspc") {
            var z = S.rect
                , p = z.d
                , C = z.v;
            t.q0.ad5(S.buffer, p, C, I.buffer)
        }
        if (Y == "Slrz") {
            var gF = I.buffer
                , co = 128;
            for (var G = 0; G < gF.length; G += 4) {
                if (gF[G] > co)
                    gF[G] = 255 - gF[G];
                if (gF[G + 1] > co)
                    gF[G + 1] = 255 - gF[G + 1];
                if (gF[G + 2] > co)
                    gF[G + 2] = 255 - gF[G + 2]
            }
        }
        if (Y == "Wnd ") {
            var z = S.rect
                , p = z.d
                , C = z.v
                , c_ = ["Wnd", "Blst", "Stgr"]
                , a5 = h.WndM.v.WndM;
            t.q0.Fh(S.buffer, p, C, I.buffer, [c_.indexOf(a5), h.Drct.v.Drct != "Left"])
        }
        if (Y == "Bokh") {
            var z = S.rect
                , p = z.d
                , C = z.v
                , T = p * C
                , A = T * 4
                , gb = S.buffer.slice(0)
                , iC = h.BkDi.v.BtDi
                , cC = h.BkDc
                , aB = h.BkDp.v / 255;
            if (iC == "BeIn")
                aB = 0;
            var cd = 57 * (.3 + .7 * ((p + C) / 2) / 1750) * (h.BkIb.v / 100) * (1 + .2 * Math.pow(aB, .1))
                , D = parseInt(h.BkIs.v.BtIs.slice(3))
                , dZ = -h.BkIr.v * Math.PI / 180
                , en = [];
            for (var G = 0; G < 8; G++) {
                var cD = dZ + G * (Math.PI * 2 / D)
                    , hP = dZ + (G + 1) * (Math.PI * 2 / D)
                    , ea = Math.cos(cD)
                    , fp = Math.sin(cD)
                    , bC = Math.cos(hP)
                    , hG = Math.sin(hP)
                    , b3 = [0, 0, 0];
                t.cu.kN([[ea, fp, 1, 0], [bC, hG, 1, 0], [1, 1, 1, 1]], b3);
                if (b3[2] > 0) {
                    b3[0] *= -1;
                    b3[1] *= -1;
                    b3[2] *= -1
                }
                en.push(b3[0], b3[1], b3[2], 0)
            }
            if (iC == "BeIn") {
                t.A5(gb, 0, 16777215);
                aB = 1
            } else if (iC == "BeIt" && cC.v.BtDc == "BeCt") { } else {
                var ct;
                if (iC == "BeIt" && cC.v.BtDc == "BeCm")
                    ct = E[1];
                else if (iC == "BeIa")
                    ct = E[2][cC.v];
                if (ct == null) {
                    t.A5(gb, 0, 16777215)
                } else {
                    var fQ;
                    if (ct.rect.ma(z))
                        fQ = ct.channel;
                    else
                        fQ = ct.Ga(z);
                    t.Vj(fQ, gb, 3)
                }
            }
            if (Q.nc) {
                var cj = gb
                    , fJ = p
                    , cM = C
                    , cc = 1
                    , cr = (h.BkSb.v == 0 || h.BkSt.v == 255) && iC == "BeIn";
                if (!cr) {
                    var bZ = 0;
                    for (var G = 0; G < A; G += 4)
                        bZ += Math.abs(aB - gb[G + 3] * (1 / 255));
                    bZ = bZ / T * cd;
                    var eb = 3.14 * bZ * bZ * p * C / 3e6;
                    if (eb > 2e3) {
                        alert("too large radius");
                        return
                    }
                }
                while (cr && 3 * (cd / cc) * (cd / cc) * p * C > 500 * 2e3 * 2e3) {
                    var gL = t.b8(gb, new W(0, 0, fJ, cM));
                    gb = gL.nP;
                    fJ = gL.rect.d;
                    cM = gL.rect.v;
                    cc *= 2
                }
                var y = Date.now()
                    , fn = Q.BG(0, fJ, cM);
                fn.set(gb);
                var aq = Q.BG(1, p, C);
                Q.Mx(aq);
                Q.filter.OG({
                    type: Q.filter.KG,
                    LD: new Float32Array([1 / fJ, 1 / cM]),
                    abK: aB,
                    am6: cd / cc,
                    a6r: new Float32Array([h.BkSb.v / 100, h.BkSt.v / 255]),
                    abB: new Float32Array([h.BkNa.v / 100, h.BkNt.v.BtNt == "BeNu" ? 0 : 1, h.BkNm.v ? 1 : 0]),
                    a6S: new Float32Array(en.slice(0, 16)),
                    ag6: new Float32Array(en.slice(16))
                }, fn.$Q);
                aq.get(I.buffer);
                var di = I.buffer;
                for (var G = 0; G < A; G += 4)
                    di[G + 3] = S.buffer[G + 3]
            }
        }
        if (Y == "rigidTransform") {
            var y = Date.now()
                , ej = io.aie
                , fn = S.buffer.slice(0)
                , bi = 0
                , cT = 0;
            t.cH(fn);
            t.A5(I.buffer, 0);
            var p = S.rect.d
                , C = S.rect.v
                , cn = h.puppetShapeList.v
                , aj = []
                , a6 = []
                , hJ = []
                , dv = [];
            for (var cO = 0; cO < cn.length; cO++) {
                var bD = cn[cO].v
                    , hS = bi * 2
                    , fi = cT * 3
                    , em = bD.originalVertexArray.v.length >>> 2
                    , gA = bD.indexArray.v.length >>> 2
                    , aK = new Float32Array(ej(bD.originalVertexArray.v));
                for (var G = 0; G < em; G++)
                    aj[hS + G] = aK[G];
                var bR = new Float32Array(ej(bD.deformedVertexArray.v));
                for (var G = 0; G < em; G++)
                    a6[hS + G] = bR[G];
                var al = new Uint32Array(ej(bD.indexArray.v));
                for (var G = 0; G < gA; G++)
                    hJ[fi + G] = bi + al[G];
                var d6 = []
                    , hx = []
                    , hn = bD.PnDp.v;
                for (var G = 0; G < hn.length; G++) {
                    d6.push(bD.pinVertexIndices.v[G].v);
                    hx.push(hn[G].v)
                }
                var fX = t.$H.a2Z(aK, al, d6, hx);
                for (var G = 0; G < fX.length; G++)
                    dv[bi + G] = fX[G];
                bi += em >>> 1;
                cT += ~~(gA / 3)
            }
            t.$H.tL(fn, I.buffer, S.rect, aj, a6, dv, hJ);
            t.Bj(I.buffer)
        }
        if (Y == "lightFilterGradient") {
            function d1(bI) {
                var hM = 1 / Math.sqrt(bI[0] * bI[0] + bI[1] * bI[1] + bI[2] * bI[2]);
                bI[0] *= hM;
                bI[1] *= hM;
                bI[2] *= hM
            }
            var p = S.rect.d
                , C = S.rect.v
                , T = p * C
                , y = Date.now()
                , h$ = t.m(T)
                , ii = .3
                , hK = .7;
            t.ei(I.buffer, h$);
            var f9 = t.m(T);
            t.n8.NC(h$, f9, I.rect, 16);
            var e6 = t.m(T);
            t.n8.NC(h$, e6, I.rect, 8);
            var cy = h$
                , u = new Float32Array(T)
                , cN = h.Dtl.v
                , gZ = cN[2].v
                , el = cN[1].v
                , cx = cN[0].v
                , gu = h.Scl.v * 40 * h.textureScale.v / (gZ + el + cx);
            gZ *= gu;
            el *= gu;
            cx *= gu;
            for (var G = 0; G < T; G++) {
                var i7 = f9[G] * (1 / 255)
                    , gK = e6[G] * (1 / 255)
                    , dp = cy[G] * (1 / 255);
                dp = dp * dp;
                u[G] = gZ * i7 + el * gK + cx * dp
            }
            var fg = h.blur.v;
            if (fg != 0) {
                var dS = u.slice(0);
                t.n8.SL(dS, u, I.rect, fg)
            }
            var ah = p - 1
                , dk = C - 1;
            for (var N = 1; N < dk; N++)
                for (var X = 1; X < ah; X++) {
                    var G = N * p + X
                        , fk = G * 4
                        , dC = u[G]
                        , dV = ii * (u[G + 1] - dC) + hK * (dC - u[G - 1])
                        , hy = ii * (u[G + p] - dC) + hK * (dC - u[G - p])
                        , bI = [1, 0, dV]
                        , hu = [0, 1, hy];
                    d1(bI);
                    d1(hu);
                    var hP = bI[0]
                        , i3 = bI[2]
                        , bP = hu[1]
                        , gi = hu[2]
                        , eG = -i3 * bP
                        , hY = -hP * gi
                        , a3 = hP * bP;
                    I.buffer[fk] = ~~(127.5 + eG * 127.5);
                    I.buffer[fk + 1] = ~~(127.5 + hY * 127.5);
                    I.buffer[fk + 2] = ~~(127.5 + a3 * 127.5)
                }
        }
        if (Y == "dDFT" || Y == "iDFT") {
            function cf(D) {
                if (D == 0)
                    return 1;
                D--;
                D |= D >> 1;
                D |= D >> 2;
                D |= D >> 4;
                D |= D >> 8;
                D |= D >> 16;
                return D + 1
            }
            var p = S.rect.d
                , C = S.rect.v
                , h5 = cf(Math.max(p, C))
                , gX = h5 >>> 1
                , bf = new W(0, 0, h5, h5)
                , ck = new W(0, 0, p, C);
            ck.y = h5 - C >>> 1;
            var bk = p >>> 1
                , fY = new W(0, ck.y, bk, C)
                , eB = new t.ho(p * C);
            t.vK(S.buffer, eB);
            var dL = new Float64Array(h5 * h5)
                , g$ = new Float64Array(h5 * h5)
                , fQ = t.m(h5 * h5);
            FFT.init(h5);
            var hO = [eB.h, eB.l, eB.O];
            for (var G = 0; G < 3; G++) {
                var fe = hO[G];
                fQ.fill(0);
                if (Y == "dDFT") {
                    t.m7(fe, ck, fQ, bf);
                    io.abu(fQ, h5, dL, g$);
                    t.m7(fQ, bf, fe, ck, fY);
                    fY.x += bk;
                    bf.x -= gX - bk;
                    t.m7(fQ, bf, fe, ck, fY);
                    fY.x -= bk;
                    bf.x += gX - bk
                } else {
                    t.m7(fe, ck, fQ, bf, fY);
                    fY.x += gX;
                    ck.x += gX - bk;
                    t.m7(fe, ck, fQ, bf, fY);
                    fY.x -= gX;
                    ck.x -= gX - bk;
                    io.aiY(fQ, h5, dL, g$);
                    t.m7(fQ, bf, fe, ck)
                }
            }
            t.in(eB, I.buffer)
        }
        if (Y == "Avrg") {
            var f6 = 0
                , gq = 0
                , it = 0
                , gW = 0
                , cY = 1;
            for (var G = 0; G < S.buffer.length; G += 4) {
                var ak = S.buffer[G + 3];
                it += S.buffer[G] * ak;
                gq += S.buffer[G + 1] * ak;
                f6 += S.buffer[G + 2] * ak;
                gW += ak
            }
            var a2 = 1 / gW;
            f6 = Math.round(cY * (f6 * a2) + (1 - cY) * 255);
            gq = Math.round(cY * (gq * a2) + (1 - cY) * 255);
            it = Math.round(cY * (it * a2) + (1 - cY) * 255);
            t.A5(I.buffer, f6 << 16 | gq << 8 | it, 4278190080)
        }
        if (["GsnB", "boxblur", "smartSharpen", "UnsM", "HghP"].indexOf(Y) != -1) {
            var bA = h.Rds.v.val
                , hz = Y == "boxblur" ? t.n8.nk : t.n8.ada;
            io.rG(bA, hz, I.buffer, I.rect);
            if (Y == "UnsM" || Y == "smartSharpen") {
                var du = h.Amnt.v.val / 100
                    , ag = 0;
                if (Y == "UnsM")
                    ag = h.Thsh.v;
                else
                    du *= .75;
                for (var G = 0; G < S.buffer.length; G++) {
                    if ((G & 3) == 3) {
                        I.buffer[G] = S.buffer[G];
                        continue
                    }
                    var iT = S.buffer[G]
                        , eF = I.buffer[G]
                        , aC = du * (iT - eF);
                    if (aC > 0)
                        aC = Math.max(0, aC - ag);
                    else
                        aC = Math.min(0, aC + ag);
                    I.buffer[G] = Math.max(0, Math.min(255, iT + aC))
                }
            }
            if (Y == "HghP")
                for (var G = 0; G < S.buffer.length; G++) {
                    if ((G & 3) == 3) {
                        I.buffer[G] = S.buffer[G];
                        continue
                    }
                    var iT = S.buffer[G]
                        , eF = I.buffer[G];
                    I.buffer[G] = Math.max(0, Math.min(255, 128 + iT - eF))
                }
        }
        if (Y == "surfaceBlur") {
            var cK = h.Rds.v.val
                , eA = h.Thsh.v
                , p = S.rect.d
                , C = S.rect.v;
            io.TH(S.buffer, I.buffer, p, C, cK, t.Ll.nn, [eA], 2)
        }
        if (Y == "AdNs") {
            var ee = new Uint8ClampedArray(I.buffer.buffer), is = 255 * h.Nose.v.val / 100, ik;
            if (h.Dstr.v.Dstr == "Gsn")
                ik = function () {
                    return (Math.random() + Math.random() + Math.random() + Math.random() - 2) * 2
                }
                    ;
            else
                ik = function () {
                    return Math.random() * 2 - 1
                }
                    ;
            for (var G = 0; G < ee.length; G += 4) {
                var cK = ee[G], hH = ee[G + 1], hQ = ee[G + 2], h9, fL, hD;
                if (h.Mnch.v) {
                    h9 = fL = hD = ik()
                } else {
                    h9 = ik();
                    fL = ik();
                    hD = ik()
                }
                cK += is * h9;
                hH += is * fL;
                hQ += is * hD;
                ee[G] = cK;
                ee[G + 1] = hH;
                ee[G + 2] = hQ
            }
        }
        if (Y == "Mdn " || Y == "DstS" || Y == "Mxm " || Y == "Mnm ") {
            var cK = 0;
            if (Y == "Mdn " || Y == "Mxm " || Y == "Mnm ")
                cK = h.Rds.v.val;
            if (Y == "DstS")
                cK = h.Rds.v;
            t.Ll.Th = .5;
            var hz = t.Ll.jQ;
            if (Y == "Mxm ")
                hz = t.Ll.ax;
            if (Y == "Mnm ")
                hz = t.Ll.l5;
            var p = S.rect.d
                , C = S.rect.v
                , dA = {
                    "Mdn ": 0,
                    "Mxm ": 1,
                    "Mnm ": 1,
                    DstS: 2
                }[Y];
            io.TH(S.buffer, I.buffer, p, C, cK, hz, [], dA);
            if (Y == "DstS") {
                var eA = h.Thsh.v;
                for (var G = 0; G < p * C * 4; G++) {
                    var bh = Math.abs(S.buffer[G] - I.buffer[G]);
                    if (bh <= eA)
                        I.buffer[G] = S.buffer[G]
                }
            }
        }
        if (Y == "ClrH") {
            var fY = S.rect.clone();
            fY.x = fY.y = 0;
            var cK = h.Rds.v;
            cK = Math.round(cK * Math.sqrt(2));
            var p = fY.d
                , C = fY.v
                , eB = new t.ho(p * C);
            t.vK(S.buffer, eB);
            t.fb(eB.h);
            t.fb(eB.l);
            t.fb(eB.O);
            var eC = P.w("canvas", "");
            eC.width = p;
            eC.height = C;
            var ha = eC.getContext("2d")
                , di = t.m(p * C * 4);
            for (var fc = 0; fc < 3; fc++) {
                var fQ = fc == 0 ? eB.h : fc == 1 ? eB.l : eB.O
                    , o = Math.PI * h["Ang" + (fc + 1)].v / 180
                    , da = new d5(1 / cK, 0, 0, 1 / cK, 0, 0);
                da.rotate(o);
                t.Vj(fQ, di, 3);
                var i5 = U.o.dG([di, fY], da, !0)
                    , ck = i5.rect;
                ha.clearRect(0, 0, p, C);
                var ge = Math.sin(o)
                    , fS = Math.cos(o);
                for (var G = 0; G < ck.v; G++)
                    for (var dI = 0; dI < ck.d; dI++) {
                        var X = (dI + ck.x + .5) * cK
                            , N = (G + ck.y + .5) * cK
                            , fI = X
                            , dj = N;
                        X = fS * fI - ge * dj;
                        N = ge * fI + fS * dj;
                        var T = i5.buffer[(G * ck.d + dI << 2) + 3] * (1 / 255)
                            , bA = cK * Math.sqrt(T * (1 / Math.PI));
                        ha.beginPath();
                        ha.arc(X, N, bA, 0, 2 * Math.PI);
                        ha.fill()
                    }
                var e7 = ha.getImageData(0, 0, p, C);
                t.Ft(e7.data, fQ, 3)
            }
            t.fb(eB.h);
            t.fb(eB.l);
            t.fb(eB.O);
            t.in(eB, I.buffer)
        }
        if (Y == "Crst" || Y == "Pntl") {
            var p = S.rect.d
                , C = S.rect.v
                , hz = Y == "Crst" ? t.FP.a2M : t.FP.a9a;
            hz(S.buffer, p, C, I.buffer, h.ClSz.v, [Math.round(H.h), Math.round(H.l), Math.round(H.O)])
        }
        if (Y == "Mztn") {
            var p = S.rect.d
                , C = S.rect.v
                , T = p * C
                , eB = new t.ho(T)
                , ih = [eB.h, eB.l, eB.O];
            t.vK(S.buffer, eB);
            var a5 = h.MztT.v.MztT
                , iV = {
                    FnDt: [.1, 0, .3, 1.4],
                    MdmD: [.9, 0, .1, 1.4],
                    GrnD: [3, 0, .2, 1.4],
                    CrsD: [7, 0, .1, 1.4],
                    ShrL: [0, 10, .16, 3],
                    MdmL: [0, 22, .06, 3],
                    LngL: [0, 25, .01, 4.5],
                    ShSt: [3, 10, .05, 4.4],
                    MdmS: [4, 25, .15, 4],
                    LngS: [4, 30, .05, 4]
                }[a5]
                , y = Date.now()
                , gI = [];
            for (var G = 0; G < T; G++) {
                gI[G] = Math.random()
            }
            var T = p * C
                , iH = Math.round(T * iV[0])
                , fu = T - p - 1;
            for (var G = 0; G < iH; G++) {
                var $ = Math.random()
                    , ie = 1;
                if ($ < .5) {
                    ie = p;
                    $ *= 2
                } else
                    $ = 2 * ($ - .5);
                var aL = Math.floor($ * fu)
                    , c2 = aL + ie;
                gI[aL] = gI[c2]
            }
            var ae = Math.round(p * iV[1]);
            for (var N = 0; N < C; N++)
                for (var G = 0; G < ae; G++) {
                    var $ = t.Q.tK(N * T + G)
                        , aL = N * p + Math.floor($ * (p - 1));
                    gI[aL] = gI[aL + 1]
                }
            var iA = new Float64Array(256);
            for (var G = 0; G < 256; G++) {
                var hA = G / 255
                    , bE = 2 * (hA < .5 ? hA : 1 - hA);
                bE = iV[2] + Math.pow(bE, iV[3]) * (1 - iV[2]);
                hA = hA < .5 ? bE * .5 : 1 - bE * .5;
                iA[G] = hA
            }
            for (var a_ = 0; a_ < 3; a_++) {
                var fQ = ih[a_];
                for (var N = 0; N < C; N++) {
                    for (var X = 0; X < p; X++) {
                        var G = N * p + X
                            , bF = fQ[G]
                            , hA = iA[bF]
                            , $ = gI[G];
                        fQ[G] = $ > hA ? 0 : 255
                    }
                }
            }
            t.in(eB, I.buffer)
        }
        if (Y == "Msc ") {
            var fP = h.ClSz.v.val
                , p = S.rect.d
                , C = S.rect.v
                , iG = Math.ceil(p / fP)
                , dt = Math.ceil(C / fP)
                , iP = t.m(iG * dt * 4);
            t.scale.GY(S.buffer, p, C, iP, iG, dt, 1 / fP);
            t.scale.GY(iP, iG, dt, I.buffer, p, C, fP)
        }
        if (Y == "Clds" || Y == "DfrC") {
            var p = I.rect.d
                , C = I.rect.v
                , T = p * C
                , bG = t.m(T);
            if (Y == "Clds")
                t.A5(I.buffer, 4278190080);
            var iF = t.m(256 * 4);
            for (var G = 0; G < 256; G++) {
                var fk = G << 2
                    , hi = G / 255
                    , al = 1 - hi;
                iF[fk] = Math.round(hi * q.h + al * H.h);
                iF[fk + 1] = Math.round(hi * q.l + al * H.l);
                iF[fk + 2] = Math.round(hi * q.O + al * H.O)
            }
            t.q0.amy(S.buffer, p, C, bG);
            var hF = I.buffer;
            for (var G = 0; G < T; G++) {
                var fk = G << 2
                    , a_ = bG[G] << 2
                    , cK = iF[a_]
                    , hH = iF[a_ + 1]
                    , hQ = iF[a_ + 2];
                if (Y == "Clds") {
                    hF[fk] = cK;
                    hF[fk + 1] = hH;
                    hF[fk + 2] = hQ
                } else {
                    hF[fk] = Math.abs(hF[4 * G] - cK);
                    hF[fk + 1] = Math.abs(hF[4 * G + 1] - hH);
                    hF[fk + 2] = Math.abs(hF[4 * G + 2] - hQ)
                }
            }
        }
        if (Y == "LnsF") {
            var p = S.rect.d
                , C = S.rect.v
                , a5 = ["Zm", "Nkn", "Nkn1", "PnVs"].indexOf(h.Lns.v.Lns)
                , gr = h.FlrC.v
                , dr = [Math.min(a5, 2), h.Brgh.v / 100, gr.Hrzn.v, gr.Vrtc.v]
                , y = Date.now();
            t.a1y(S.buffer, p, C, I.buffer, dr)
        }
        var ij = ["Blr ", "BlrM", "Shrp", "ShrM"].indexOf(Y);
        if (ij != -1) {
            var eZ = ij > 1
                , p = S.rect.d
                , C = S.rect.v
                , bl = t.Hd.XE[ij]
                , bd = S.buffer.slice(0);
            if (!eZ)
                t.cH(bd);
            t.Hd.FH(bd, I.buffer, p, C, bl, 255, !1, eZ);
            if (!eZ)
                t.Bj(I.buffer)
        }
        if (Y == "MtnB") {
            var dF = -h.Angl.v * Math.PI / 180
                , fH = h.Dstn.v.val / 2
                , y = Date.now()
                , p = S.rect.d
                , C = S.rect.v
                , z = S.rect.clone();
            z.x = z.y = 0;
            if (Q.nc) {
                var y = Date.now()
                    , bb = I.buffer;
                bb.set(S.buffer);
                t.cH(bb);
                var be = Q.BG(0, p, C);
                be.set(bb);
                var R = t.m(4);
                R[0] = Math.round(128 + 127 * Math.cos(dF));
                R[1] = Math.round(128 + 127 * Math.sin(dF));
                new Uint32Array(bb.buffer).fill(new Uint32Array(R.buffer)[0]);
                var i2 = Q.BG(1, p, C);
                i2.set(bb);
                Q.Mx(be, z);
                be.Pd(z);
                Q.filter.OG({
                    type: Q.filter.YE,
                    D7: i2.$Q,
                    LD: new Float32Array([1 / p, 1 / C]),
                    a6C: fH / 2,
                    aly: 1
                }, be.we);
                be.get(bb);
                t.Bj(bb)
            } else {
                var da = new d5;
                da.rotate(dF);
                var i5 = U.o.dG([S.buffer, S.rect], da, !1, null, !0);
                io.rG(fH, t.n8.S1, i5.buffer, i5.rect);
                da.fb();
                i5 = U.o.dG([i5.buffer, i5.rect], da, !1, I.buffer.buffer, !0, I.rect)
            }
            console.log(Date.now() - y)
        }
        if (Y == "RdlB") {
            var p = S.rect.d
                , C = S.rect.v
                , du = h.Amnt.v
                , iU = h.BlrM.v.BlrM == "Zm"
                , fc = h.Cntr.v
                , d7 = fc.Hrzn.v
                , eh = fc.Vrtc.v
                , dV = Math.max(d7, 1 - d7) * p
                , hy = Math.max(eh, 1 - eh) * C
                , bA = Math.sqrt(dV * dV + hy * hy)
                , ba = 2 * Math.PI * bA * 1.5
                , bm = Math.round(ba)
                , fR = Math.round(bA)
                , fY = new W(0, 0, bm, fR)
                , ef = t.m(bm * fR * 4)
                , eH = iU ? 4 : 1
                , ax = iU ? .6 : 8 * ((p + C) / 2) / 1400
                , b1 = .1
                , cc = 1
                , dn = 1;
            t.I.Mt(S.buffer, p, C, ef, bm, fR, d7, eh, eH, b1, cc, dn);
            var dO = iU ? t.m(bm * fR * 4) : null;
            if (iU) {
                t.I.N6(ef, dO, bm, fR);
                var dN = dO;
                dO = ef;
                ef = dN;
                fY.d = fR;
                fY.v = bm
            }
            io.rG(ax * du, t.n8.S1, ef, fY);
            if (iU) {
                t.I.N6(ef, dO, fR, bm);
                var dN = dO;
                dO = ef;
                ef = dN;
                fY.d = bm;
                fY.v = fR
            }
            t.I.Lu(ef, bm, fR, I.buffer, p, C, d7, eh, eH, b1, cc, dn)
        }
        if (Y == "Plr ") {
            var p = S.rect.d
                , C = S.rect.v;
            if (h.Cnvr.v.Cnvr == "RctP")
                t.I.Lu(S.buffer, p, C, I.buffer, p, C, .5, .5, 1, 0, 2, p / C);
            else
                t.I.Mt(S.buffer, p, C, I.buffer, p, C, .5, .5, 1, 0, 2, p / C)
        }
        if (Y == "FndE") {
            var p = S.rect.d
                , C = S.rect.v;
            t.Hd.yY(S.buffer, I.buffer, p, C)
        }
        if (Y == "oilPaint") {
            var o = h.LghD.v * Math.PI / 180
                , e8 = [Math.cos(o), Math.sin(o), .001]
                , l = [h.stylization.v, h.cleanliness.v, h.brushScale.v, h.microBrush.v, h.lightingOn.v, h.specularity.v, e8]
                , z = S.rect.clone();
            z.x = z.y = 0;
            t.wu.filter(S.buffer, z, I.buffer, l)
        }
        if (Y == "Ofst") {
            var p = S.rect.d
                , C = S.rect.v
                , ay = new Uint32Array(S.buffer.buffer)
                , g7 = new Uint32Array(I.buffer.buffer)
                , fI = h.Hrzn.v
                , dj = h.Vrtc.v
                , ad = h.Fl.v.FlMd;
            t.A5(g7, 0);
            if (ad == "Bckg" || ad == "Rpt") {
                var fY = S.rect.clone();
                fY.offset(fI, dj);
                t.rd(ay, fY, g7, I.rect)
            }
            if (ad == "Rpt") {
                var ea, fp, bC, hG, ft;
                fI = Math.max(-p, Math.min(p, fI));
                dj = Math.max(-C, Math.min(C, dj));
                ea = fI > 0 ? fI : 0;
                bC = fI > 0 ? p : p + fI;
                fp = dj > 0 ? 0 : dj + C;
                hG = dj > 0 ? dj : C;
                ft = dj > 0 ? 0 : p * (C - 1);
                for (var N = fp; N < hG; N++)
                    for (var X = ea; X < bC; X++)
                        g7[N * p + X] = ay[ft + X - fI];
                ea = fI > 0 ? 0 : p + fI;
                bC = fI > 0 ? fI : p;
                fp = dj > 0 ? dj : 0;
                hG = dj > 0 ? C : C + dj;
                ft = fI > 0 ? 0 : p - 1;
                for (var N = fp; N < hG; N++)
                    for (var X = ea; X < bC; X++)
                        g7[N * p + X] = ay[ft + p * (N - dj)];
                if (fI >= 0 && dj >= 0) {
                    ea = 0;
                    bC = fI;
                    fp = 0;
                    hG = dj;
                    ft = 0
                }
                if (fI >= 0 && dj < 0) {
                    ea = 0;
                    bC = fI;
                    fp = C + dj;
                    hG = C;
                    ft = p * (C - 1)
                }
                if (fI < 0 && dj >= 0) {
                    ea = p + fI;
                    bC = p;
                    fp = 0;
                    hG = dj;
                    ft = p - 1
                }
                if (fI < 0 && dj < 0) {
                    ea = p + fI;
                    bC = p;
                    fp = C + dj;
                    hG = C;
                    ft = p * C - 1
                }
                for (var N = fp; N < hG; N++)
                    for (var X = ea; X < bC; X++)
                        g7[N * p + X] = ay[ft]
            }
            if (ad == "Wrp") {
                fI = (fI + 100 * p) % p;
                dj = (dj + 100 * C) % C;
                var fY = new W(fI - p, dj - C, p, C);
                t.rd(ay, fY, g7, I.rect);
                fY.offset(p, 0);
                t.rd(ay, fY, g7, I.rect);
                fY.offset(0, C);
                t.rd(ay, fY, g7, I.rect);
                fY.offset(-p, 0);
                t.rd(ay, fY, g7, I.rect)
            }
        }
        if (Y == "Rept") {
            var gm = h.Rsft.v.val / 100
                , aR = h.SpcX.v.val / 100;
            aR = Math.max(aR, -.99);
            var dQ = h.SpcY.v.val / 100;
            dQ = Math.max(dQ, -.99);
            var cc = h.Scl.v.val / 100
                , da = new d5;
            da.rotate(h.Angl.v * Math.PI / 180);
            da.scale(cc, cc);
            var fA = {
                buffer: S.buffer,
                rect: S.rect
            };
            t.Wq(fA);
            if (fA.rect.fa()) {
                fA.buffer = S.buffer;
                fA.rect = S.rect
            }
            var hF = fA.buffer
                , fY = fA.rect
                , gg = t.VY(hF, fY, 0)
                , a0 = new Uint32Array(hF.buffer)[0];
            if (!gg.fa() && !gg.ma(fY)) {
                var az = t.m(gg.e() * 4);
                t.rd(hF, fY, az, gg);
                hF = az;
                fY = gg
            }
            fY.x = fY.y = 0;
            a0 = aR == 0 && dQ == 0 || h.SpcC.v ? a0 : 0;
            function bM(X) {
                return X < 0 ? Math.ceil(X) : Math.floor(X)
            }
            var ho = da.I_(new aV(fY.d, 0));
            ho.x = bM(ho.x);
            ho.y = bM(ho.y);
            var gM = da.I_(new aV(0, fY.v));
            gM.x = bM(gM.x);
            gM.y = bM(gM.y);
            var i5 = U.o.dG([hF, fY], da, !1)
                , ck = i5.rect
                , r = i5.buffer
                , cG = Math.round(ck.x)
                , bt = Math.round(ck.y)
                , gG = Math.max(I.rect.d, I.rect.v) / Math.min(fY.d * cc * (1 + aR), fY.v * cc * (1 + dQ));
            gG = Math.ceil(gG * 1.7);
            t.A5(I.buffer, a0);
            for (var N = -gG; N < gG; N++) {
                for (var X = -gG; X < gG; X++) {
                    var bu = (X + N * gm) * (1 + aR)
                        , d4 = N * (1 + dQ);
                    ck.x = cG + Math.round(bu * ho.x + d4 * gM.x);
                    ck.y = bt + Math.round(bu * ho.y + d4 * gM.y);
                    if (ck.CO(I.rect))
                        t.Q.Bc("norm", r, ck, I.buffer, I.rect, ck, 1)
                }
            }
        }
        if (Y == "Ctoa") {
            var H = t.W.cd(h.Clr.v)
                , eA = h.Trsp.v.val / 100
                , b4 = h.Opct.v.val / 100;
            eA = b4 == 0 ? 0 : eA / b4;
            var p = S.rect.d
                , C = S.rect.v
                , cF = ~~H.h
                , d0 = ~~H.l
                , gh = ~~H.O
                , ft = S.buffer
                , aX = I.buffer;
            for (var N = 0; N < C; N++)
                for (var X = 0; X < p; X++) {
                    var G = N * p + X
                        , fk = G << 2
                        , fY = ft[fk]
                        , gv = ft[fk + 1]
                        , hF = ft[fk + 2]
                        , a$ = Math.abs(cF - fY)
                        , eq = Math.abs(d0 - gv)
                        , as = Math.abs(gh - hF)
                        , cu = Math.max(a$, eq, as) * (1 / 255);
                    cu = Math.max(0, Math.min(1, cu / b4));
                    var g0 = cu == 0 ? 0 : 1 / cu
                        , bQ = eA == 1 ? 1 : Math.max(0, Math.min(1, (cu - eA) / (1 - eA)));
                    aX[fk] = Math.max(0, Math.min(255, (fY - cF * (1 - cu)) * g0));
                    aX[fk + 1] = Math.max(0, Math.min(255, (gv - d0 * (1 - cu)) * g0));
                    aX[fk + 2] = Math.max(0, Math.min(255, (hF - gh * (1 - cu)) * g0));
                    aX[fk + 3] = ~~(.5 + bQ * 255)
                }
        }
        if ("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr".split(",").indexOf(Y) != -1) {
            var hB = E[0], p = S.rect.d, C = S.rect.v, iA, ao = 0;
            if (Y == "LqFy")
                iA = de.z7(new Uint8Array(h.LqMe.v).buffer);
            else {
                var iE = 3;
                iA = {
                    rz: Math.floor(p / iE),
                    UR: Math.floor(C / iE)
                };
                iA.map = new Float32Array(iA.rz * iA.UR * 2);
                if (Y == "LnCr") {
                    var d7 = .5 * (iA.rz - 1)
                        , eh = .5 * (iA.UR - 1)
                        , e3 = Math.max(Math.abs(0 - d7), Math.abs(1 - d7))
                        , iq = Math.max(Math.abs(0 - eh), Math.abs(1 - eh))
                        , bO = Math.sqrt(e3 * e3 + iq * iq)
                        , bU = 0
                        , gp = 0
                        , cA = -1
                        , hf = 2
                        , cc = h.LnSi.v / 100
                        , iU = 1 / cc
                        , ev = h.LnIa.v / 100
                        , iR = ev == 0 ? 1e-6 : ev * 4.6
                        , aO = iU / bO;
                    for (var N = 0; N < iA.UR; N++) {
                        for (var X = 0; X < iA.rz; X++) {
                            var dV = (X - d7) * aO
                                , hy = (N - eh) * aO
                                , cK = Math.sqrt(dV * dV + hy * hy) * iR
                                , iw = Math.atan(cK)
                                , cv = ev > 0 ? iw / cK : cK / iw
                                , dn = d7 + bO * cv * dV
                                , er = eh + bO * cv * hy
                                , G = N * iA.rz + X << 1;
                            iA.map[G] = dn - X;
                            iA.map[G + 1] = er - N
                        }
                    }
                } else if (Y == "Dspl" && hB.length != 0) {
                    ao = h.UndA.v.UndA == "WrpA" ? 2 : 1;
                    var eN = h.DspF.v.pth, ip;
                    for (var G = 0; G < hB.length; G++)
                        if (hB[G]._z == eN)
                            ip = hB[G];
                    if (ip == null)
                        ip = hB[0];
                    ip.Q3();
                    var a$ = ip.aE[1]
                        , fM = t.m(a$.e());
                    t.ei(ip.aE[0], fM);
                    var c$ = a$.d
                        , dw = a$.v;
                    iA = {
                        rz: c$,
                        UR: dw
                    };
                    iA.map = new Float32Array(iA.rz * iA.UR * 2);
                    var gE = 2.54 * h.HrzS.v * c$ / p
                        , dm = 2.54 * h.VrtS.v * dw / C;
                    for (var N = 0; N < iA.UR; N++) {
                        for (var X = 0; X < iA.rz; X++) {
                            var bh = -.5 + fM[N * c$ + X] * (1 / 255)
                                , G = N * iA.rz + X << 1;
                            iA.map[G] = bh * gE;
                            iA.map[G + 1] = bh * dm
                        }
                    }
                } else if (Y == "Pnch" || Y == "Twrl" || Y == "Sphr") {
                    var du = 1
                        , dF = Math.PI
                        , et = 0
                        , fc = 3
                        , fP = 1.53
                        , cv = 1;
                    if (Y == "Pnch" || Y == "Sphr")
                        du = h.Amnt.v / 100;
                    if (Y == "Twrl")
                        dF = h.Angl.v * Math.PI / 180;
                    if (Y == "Sphr")
                        et = ["Nrml", "HrzO", "VrtO"].indexOf(h.SphM.v.SphM);
                    function hz(X) {
                        X = Math.pow(X, 1 - X * .3 - X * X * (X * X) * .5);
                        return -.225 * Math.sin(X * Math.PI)
                    }
                    function cV(C, hM, cK, ea, fp, bC, hG, cv) {
                        var dV = bC - ea
                            , hy = hG - fp
                            , fm = ea - C
                            , cH = fp - hM
                            , hi = dV * dV + hy * hy
                            , hQ = 2 * (dV * fm + hy * cH)
                            , fc = fm * fm + cH * cH - cK * cK
                            , f1 = Math.sqrt(hQ * hQ - 4 * hi * fc)
                            , hk = cv / (2 * hi)
                            , a7 = (-hQ + f1) * hk
                            , hL = (-hQ - f1) * hk;
                        return cv * Math.min(a7, hL)
                    }
                    var iG = iA.rz
                        , dt = iA.UR
                        , cQ = iA.rz / 2
                        , dk = iA.UR / 2
                        , dd = 1 / cQ
                        , cK = Math.sqrt(fc * fc + 1) / fc
                        , fe = fc + Math.sqrt(1 / (fc * fc));
                    if (du < 0) {
                        fc = 1.72;
                        cK = 1;
                        fe = fc;
                        fP = -1;
                        cv = -1
                    }
                    for (var N = 0; N < dt; N++) {
                        var hy = (N - dk) / dk;
                        for (var X = 0; X < iG; X++) {
                            var dV = (X - cQ) * dd;
                            if (et == 1)
                                hy = 0;
                            else if (et == 2)
                                dV = 0;
                            var gc = Math.sqrt(dV * dV + hy * hy);
                            if (gc < 1 && gc != 0) {
                                var G = N * iA.rz + X << 1;
                                if (Y == "Pnch") {
                                    var iK = -du * hz(gc) / gc;
                                    iA.map[G] = dV * iK * cQ;
                                    iA.map[G + 1] = hy * iK * dk
                                } else if (Y == "Sphr") {
                                    var dN = cV(0, fe, cK, 0, 0, gc, fc, cv)
                                        , gY = fP * du * (dN - 1);
                                    iA.map[G] = dV * gY * cQ;
                                    iA.map[G + 1] = hy * gY * dk
                                } else if (Y == "Twrl") {
                                    var o = Math.atan2(hy, dV) - dF * (1 - gc) * (1 - gc)
                                        , af = Math.cos(o)
                                        , bN = Math.sin(o);
                                    iA.map[G] = (gc * af - dV) * cQ;
                                    iA.map[G + 1] = (gc * bN - hy) * dk
                                }
                            }
                        }
                    }
                } else if (Y == "Shr ") {
                    var ce = JSON.parse(JSON.stringify(h.ShrP.v));
                    t.hn.J(ce, new d5(0, 255 / 127, 255 / 127, 0, -2, 0));
                    var cP = t.hn.Ok(ce, iA.UR, !0);
                    ao = h.UndA.v.UndA == "WrpA" ? 2 : 1;
                    for (var N = 0; N < iA.UR; N++) {
                        var dV = -cP[N] * iA.rz;
                        for (var X = 0; X < iA.rz; X++) {
                            var G = N * iA.rz + X << 1;
                            iA.map[G] = dV
                        }
                    }
                } else if (Y == "Wave") {
                    var dG = h.NmbG.v
                        , h3 = h.WLMn.v
                        , dT = h.WLMx.v
                        , b8 = h.AmMn.v * (Math.PI / 4)
                        , gn = h.AmMx.v * (Math.PI / 4)
                        , eo = h.SclH.v / 100
                        , eO = h.SclV.v / 100
                        , a5 = h.Wvtp.v.Wvtp
                        , bX = Math.sin;
                    if (a5 == "WvTr")
                        bX = function (X) {
                            X *= 2 / Math.PI;
                            return -.5 + Math.abs(X % 2 - 1)
                        }
                            ;
                    if (a5 == "WvSq")
                        bX = function (X) {
                            X *= 2 / Math.PI;
                            return 1 + 2 * Math.floor(X % 2 - 1)
                        }
                            ;
                    var dM = []
                        , ew = new t.Q.On(h.RndS.v);
                    for (var G = 0; G < dG; G++) {
                        dM.push(ew.get() * 10);
                        dM.push(Math.PI * iE / (h3 + ew.get() * (dT - h3)));
                        dM.push(eo * (b8 + ew.get() * (gn - b8)) / iE);
                        dM.push(ew.get() * 10);
                        dM.push(Math.PI * iE / (h3 + ew.get() * (dT - h3)));
                        dM.push(eO * (b8 + ew.get() * (gn - b8)) / iE)
                    }
                    var gC = []
                        , h0 = []
                        , c3 = Math.max(iA.rz, iA.UR);
                    for (var G = 0; G < c3; G++) {
                        var dV = 0
                            , hy = 0;
                        for (var dI = 0; dI < dG; dI++) {
                            var fv = dI * 6;
                            dV += dM[fv + 2] * bX(dM[fv] + G * dM[fv + 1]);
                            hy += dM[fv + 5] * bX(dM[fv + 3] + G * dM[fv + 4])
                        }
                        gC[G] = hy;
                        h0[G] = dV
                    }
                    for (var N = 0; N < iA.UR; N++) {
                        for (var X = 0; X < iA.rz; X++) {
                            var G = N * iA.rz + X << 1;
                            iA.map[G] = h0[N];
                            iA.map[G + 1] = gC[X]
                        }
                    }
                    ao = h.UndA.v.UndA == "WrpA" ? 2 : 1
                } else if (Y == "Rple") {
                    ao = 1;
                    var du = h.Amnt.v / 100
                        , dW = 4
                        , il = [0, -.19, -.29, -.32, .92, .37, .93, .54, -.54, .42, -.29, -.58, -.67, .85, 0, .64]
                        , hW = 1
                        , iJ = 1
                        , fm = 0
                        , dy = ["Sml", "Mdm", "Lrg"].indexOf(h.RplS.v.RplS);
                    if (dy == 0) {
                        hW = 1;
                        iJ = .2;
                        fm = 3
                    }
                    if (dy == 2) {
                        hW = 1;
                        iJ = 2;
                        fm = -1;
                        il = il.reverse()
                    }
                    var f5 = function (X, N) {
                        var fc = Math.cos
                            , gu = 0;
                        for (var G = 0; G < dW; G++)
                            for (var dI = 0; dI < dW; dI++)
                                gu += il[G * dW + dI] * fc(X * (G + fm) - N * (dI + fm));
                        return gu
                    }
                        , hj = Math.floor(50 / iE)
                        , b$ = new Float32Array(hj * hj * 2)
                        , aD = iJ * du * .5 / iE;
                    for (var N = 0; N < hj; N++)
                        for (var X = 0; X < hj; X++) {
                            var d7 = hW * X * 2 * Math.PI / hj
                                , eh = hW * N * 2 * Math.PI / hj
                                , hc = f5(d7, eh)
                                , dV = (f5(d7 + .01, eh) - hc) * 100
                                , hy = (f5(d7, eh + .01) - hc) * 100
                                , G = (N * hj + X) * 2;
                            b$[G] = dV * aD;
                            b$[G + 1] = hy * aD
                        }
                    for (var N = 0; N < iA.UR; N++)
                        for (var X = 0; X < iA.rz; X++) {
                            var bN = N % hj
                                , af = X % hj
                                , G = N * iA.rz + X << 1
                                , dP = bN * hj + af << 1;
                            iA.map[G] = b$[dP];
                            iA.map[G + 1] = b$[dP + 1]
                        }
                }
            }
            t.eh.uW(S.buffer, I.buffer, p, C, null, iA.map, iA.rz, iA.UR, ao)
        }
        return I
    }
        ;
    var eE = {};
    eE.dq = "BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");
    eE.PU = "LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
    eE.Ah = ["ScrC", "ScrD", "ScrL"];
    eE.jH = ["SDRD", "SDHz", "SDLD", "SDVt"];
    eE.Y9 = "TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
    eE.LS = {
        PntD: "paintDaubs"
    };
    eE.ET = ["Artistic", "Brush Strokes", [24, 4], "Sketch", [24, 14], [12, 67]];
    eE.names = {
        PntD: [0, "Paint Daubs"],
        PlsW: [0, "Plastic Wrap"],
        Spt: [1, "Spatter"],
        SprS: [1, "Sprayed Strokes"],
        Gls: [2, "Glass"],
        OcnR: [2, "Ocean Ripple"],
        BsRl: [3, "Bas Relief"],
        Chrc: [3, "Charcoal"],
        Chrm: [3, "Chrome"],
        GraP: [3, "Graphic Pen"],
        HlfS: [3, "Halftone Pattern"],
        Phtc: [3, "Photocopy"],
        Stmp: [3, "Stamp"],
        GlwE: [4, "Glowing Edges"],
        StnG: [5, "Stained Glass"],
        Txtz: [5, "Texturizer"]
    };
    eE.g4 = function (Y) {
        var S;
        if (Y == "PntD")
            S = {
                Sz: {
                    t: "long",
                    v: 10
                },
                Shrp: {
                    t: "long",
                    v: 10
                },
                BrsT: {
                    t: "enum",
                    v: {
                        BrsT: "BrSm"
                    }
                }
            };
        if (Y == "PlsW")
            S = {
                HghS: {
                    t: "long",
                    v: 20
                },
                Dtl: {
                    t: "long",
                    v: 4
                },
                Smth: {
                    t: "long",
                    v: 5
                }
            };
        if (Y == "Spt")
            S = {
                SprR: {
                    t: "long",
                    v: 10
                },
                Smth: {
                    t: "long",
                    v: 5
                },
                FlRs: {
                    t: "long",
                    v: 10738420
                }
            };
        if (Y == "SprS")
            S = {
                StrL: {
                    t: "long",
                    v: 12
                },
                SprR: {
                    t: "long",
                    v: 7
                },
                SDir: {
                    t: "enum",
                    v: {
                        StrD: "SDRD"
                    }
                },
                FlRs: {
                    t: "long",
                    v: 893120664
                }
            };
        if (Y == "Gls")
            S = {
                Dstr: {
                    t: "long",
                    v: 3
                },
                Smth: {
                    t: "long",
                    v: 1
                },
                TxtT: {
                    t: "enum",
                    v: {
                        TxtT: "TxTL"
                    }
                },
                Scln: {
                    t: "long",
                    v: 100
                },
                InvT: {
                    t: "bool",
                    v: !1
                }
            };
        if (Y == "OcnR")
            S = {
                RplS: {
                    t: "long",
                    v: 5
                },
                RplM: {
                    t: "long",
                    v: 15
                },
                FlRs: {
                    t: "long",
                    v: 64008840
                }
            };
        if (Y == "BsRl")
            S = {
                Dtl: {
                    t: "long",
                    v: 11
                },
                Smth: {
                    t: "long",
                    v: 7
                },
                LghD: {
                    t: "enum",
                    v: {
                        LghD: "LDBt"
                    }
                }
            };
        if (Y == "Chrc")
            S = {
                ChAm: {
                    t: "long",
                    v: 1
                },
                Dtl: {
                    t: "long",
                    v: 5
                },
                LgDr: {
                    t: "long",
                    v: 50
                },
                GELv: {
                    t: "bool",
                    v: !0
                }
            };
        if (Y == "Chrm")
            S = {
                Dtl: {
                    t: "long",
                    v: 4
                },
                Smth: {
                    t: "long",
                    v: 4
                }
            };
        if (Y == "GraP")
            S = {
                StrL: {
                    t: "long",
                    v: 7
                },
                LgDr: {
                    t: "long",
                    v: 50
                },
                SDir: {
                    t: "enum",
                    v: {
                        StrD: "SDRD"
                    }
                },
                FlRs: {
                    t: "long",
                    v: 55993248
                }
            };
        if (Y == "HlfS")
            S = {
                HlSz: {
                    t: "long",
                    v: 1
                },
                Cntr: {
                    t: "long",
                    v: 5
                },
                ScrT: {
                    t: "enum",
                    v: {
                        ScrT: "ScrD"
                    }
                }
            };
        if (Y == "Phtc")
            S = {
                Dtl: {
                    t: "long",
                    v: 10
                },
                Drkn: {
                    t: "long",
                    v: 4
                }
            };
        if (Y == "Stmp")
            S = {
                LgDr: {
                    t: "long",
                    v: 25
                },
                Smth: {
                    t: "long",
                    v: 4
                }
            };
        if (Y == "GlwE")
            S = {
                EdgW: {
                    t: "long",
                    v: 1
                },
                EdgB: {
                    t: "long",
                    v: 10
                },
                Smth: {
                    t: "long",
                    v: 1
                }
            };
        if (Y == "StnG")
            S = {
                ClSz: {
                    t: "long",
                    v: 10
                },
                BrdT: {
                    t: "long",
                    v: 4
                },
                LghI: {
                    t: "long",
                    v: 0
                },
                FlRs: {
                    t: "long",
                    v: 319935998
                }
            };
        if (Y == "Txtz")
            S = {
                TxtT: {
                    t: "enum",
                    v: {
                        TxtT: "TxBr"
                    }
                },
                Scln: {
                    t: "long",
                    v: 100
                },
                Rlf: {
                    t: "long",
                    v: 10
                },
                LghD: {
                    t: "enum",
                    v: {
                        LghD: "LDBL"
                    }
                },
                InvT: {
                    t: "bool",
                    v: !1
                }
            };
        S.__name = "Filter Gallery";
        S.classID = "GEfc";
        S.GEfk = {
            t: "enum",
            v: {
                GEft: Y
            }
        };
        S.GELv = {
            t: "bool",
            v: !0
        };
        return S
    }
        ;
    eE.uB = function (Y, S) {
        for (var G = 0; G < S.length; G++)
            ~~(S[G] = (Y[4 * G] + Y[4 * G + 1] + Y[4 * G + 2]) * (1 / 3))
    }
        ;
    eE.Cu = function (Y, S, h, q, H, I, E) {
        Y = h.GEfk.v.GEft;
        var d = S.rect
            , B = d.d
            , n = d.v
            , g = B * n;
        if (Y == "PstE") { }
        if (Y == "Chrc") {
            var z = t.m(B * n)
                , p = t.m(B * n);
            eE.uB(S.buffer, z);
            t.q0.an1(z, B, n, p, [h.ChAm.v, h.Dtl.v, h.LgDr.v]);
            eE.IQ(p, I.buffer, q, H)
        }
        if (Y == "Stmp") {
            var z = t.m(B * n)
                , p = t.m(B * n);
            eE.uB(S.buffer, z);
            t.q0.a1g(z, B, n, p, [h.LgDr.v, h.Smth.v]);
            eE.IQ(p, I.buffer, q, H)
        }
        if (Y == "GraP") {
            var z = t.m(B * n)
                , p = t.m(B * n);
            t.ei(S.buffer, z);
            t.q0.al8(z, B, n, p, [h.StrL.v, h.LgDr.v, ["SDRD", "SDHz", "SDLD", "SDVt"].indexOf(h.SDir.v.StrD)]);
            eE.IQ(p, I.buffer, q, H)
        }
        if (Y == "Phtc") {
            function C(dZ, en, d, fi) {
                t.n8.MQ(dZ, en, d, fi);
                for (var G = 0; G < g; G++)
                    en[G] = Math.max(0, Math.min(255, 128 + dZ[G] - en[G]))
            }
            var T = h.Dtl.v
                , A = h.Drkn.v
                , z = t.m(g);
            t.ei(S.buffer, z);
            var i = t.m(g);
            C(z, i, d, 1);
            var e = t.m(g);
            C(z, e, d, T);
            for (var G = 0; G < g; G++)
                z[G] = Math.max(0, Math.min(255, 255 - (i[G] - e[G]) * A));
            eE.IQ(z, I.buffer, q, H)
        }
        if (Y == "Spt" || Y == "SprS") {
            var a, Z = 1, O = 1;
            a = {
                rz: Math.floor(B / O),
                UR: Math.floor(n / O)
            };
            a.map = new Float32Array(a.rz * a.UR * 2);
            var c = new t.Q.On(h.FlRs.v)
                , s = new Float32Array(8192)
                , x = h.SprR.v
                , u = x < 20 ? .018 * x : .36 + (x - 20) * .128;
            if (Y == "SprS") {
                u = .07 + [0, .02, .04, .06, .08, .1, .12, .14, .16, .18, .2, .22, .24, .26, .28, .3, .34, .38, .5, .65, .75, .85, 1, 1.5, 2.2, 3][x]
            }
            for (var G = 0; G < 8192; G++)
                s[G] = (-1 + 2 * c.get()) * u * 70;
            for (var y = 0; y < n; y++)
                for (var j = 0; j < B; j++) {
                    var v = y * B + j << 1;
                    a.map[v] = s[v % 7919];
                    a.map[v + 1] = s[(v + 1) % 7919]
                }
            var X = a.map.slice(0)
                , N = Y == "Spt" ? h.Smth.v - 1 : 1;
            if (Y == "Spt" && N != 0) {
                eE.u6(a.map, X, B, n, N);
                eE.nb(X, a.map, B, n, N)
            }
            if (Y == "SprS") {
                var V = h.StrL.v >>> 1
                    , $ = V == 0 ? 2 : 1;
                eE.u6(a.map, X, B, n, $);
                eE.nb(X, a.map, B, n, $);
                if (V != 0) {
                    var w = eE.jH.indexOf(h.SDir.v.StrD)
                        , m = [1, 1, 1, 0][w]
                        , l = [-1, 0, 1, 1][w]
                        , b = 2 * V + 1
                        , K = 1 / b;
                    for (var y = 0; y < n; y++)
                        for (var j = 0; j < B; j++) {
                            var v = y * B + j << 1
                                , J = 0
                                , R = 0;
                            for (var G = 0; G < b; G++) {
                                var r = Math.max(0, Math.min(B - 1, j - (V + G) * m))
                                    , f = Math.max(0, Math.min(n - 1, y - (V + G) * l))
                                    , gf = f * B + r << 1;
                                J += a.map[gf];
                                R += a.map[gf + 1]
                            }
                            X[v] = J * K;
                            X[v + 1] = R * K
                        }
                    a.map = X
                }
            }
            t.eh.uW(S.buffer, I.buffer, B, n, null, a.map, a.rz, a.UR, Z)
        }
        if (Y == "BsRl" || Y == "PlsW" || Y == "Chrm") {
            var aa = Date.now()
                , aA = t.m(g)
                , e5 = aA.slice(0);
            t.ei(S.buffer, aA);
            var T = h.Dtl.v
                , fk = h.Smth.v;
            if (T != 15) {
                t.n8.NC(aA, e5, d, Math.round((15 - T) * .5));
                t.vx(e5, aA)
            }
            var o = 1.4 / B
                , eY = 1.4 / n
                , du = new Float32Array(g)
                , dV = new Float32Array(g)
                , hy = new Float32Array(I.buffer.buffer);
            for (var y = 0; y < n; y++)
                for (var j = 0; j < B; j++) {
                    var G = y * B + j
                        , m = j == B - 1 ? aA[G] - aA[G - 1] : aA[G + 1] - aA[G]
                        , l = y == n - 1 ? aA[G] - aA[G - B] : aA[G + B] - aA[G]
                        , bq = j * o - .7
                        , i5 = y * eY - .7;
                    du[G] = m == 0 ? bq : m * .4;
                    dV[G] = l == 0 ? i5 : l * .4
                }
            if (Y == "BsRl") {
                var hX = (2 + eE.PU.indexOf(h.LghD.v.LghD)) * Math.PI * .25
                    , J = Math.cos(hX);
                if (Math.abs(J) < .1)
                    J = 0;
                J = Math.sign(J);
                var R = Math.sin(hX);
                if (Math.abs(R) < .1)
                    R = 0;
                R = Math.sign(R);
                var bY = 1 / (J * J + R * R);
                for (var y = 0; y < n; y++)
                    for (var j = 0; j < B; j++) {
                        var G = y * B + j
                            , ds = Math.max(-1, Math.min(1, J * du[G]))
                            , hV = Math.max(-1, Math.min(1, R * dV[G]));
                        e5[G] = 128 + 127 * (ds + hV) * bY
                    }
                if (fk != 1) {
                    t.n8.NC(e5, aA, d, Math.round((fk - 1) * .5));
                    t.vx(aA, e5)
                }
                eE.IQ(e5, I.buffer, q, H)
            } else {
                if (Y == "Chrm")
                    fk = 5 + fk;
                if (fk > 1)
                    eE.rG(du, dV, hy, d, fk - 1);
                if (Y == "PlsW") {
                    var gF = new Uint8Array(du.buffer);
                    for (var G = 0; G < g; G++) {
                        var co = G << 2
                            , m = du[G]
                            , l = dV[G]
                            , c_ = 1 / (Math.sqrt(1 + m * m) * Math.sqrt(1 + l * l))
                            , a5 = c_ * c_
                            , gb = a5 * a5
                            , iC = ~~(255 * (gb * gb * a5));
                        gF[co + 0] = iC;
                        gF[co + 1] = iC;
                        gF[co + 2] = iC;
                        gF[co + 3] = iC
                    }
                    I.buffer.set(S.buffer);
                    t.Q.Bc("norm", gF, d, I.buffer, d, d, h.HghS.v / 20)
                } else if (Y == "Chrm") {
                    var cC = I.buffer
                        , aB = B >>> 1
                        , cd = n >>> 1;
                    for (var G = 0; G < g; G++) {
                        var co = G << 2
                            , m = du[G]
                            , l = dV[G]
                            , dZ = {
                                x: 1,
                                y: 0,
                                GD: m
                            };
                        av.Aq(dZ);
                        var en = {
                            x: 0,
                            y: 1,
                            GD: l
                        };
                        av.Aq(en);
                        var cD = av.ou(dZ, en)
                            , hP = 1 / cD.GD
                            , ea = ~~Math.max(0, Math.min(B - 1, aB - cD.x * hP * aB))
                            , fp = ~~Math.max(0, Math.min(n - 1, cd - cD.y * hP * cd))
                            , iC = aA[fp * B + ea];
                        cC[co + 0] = iC;
                        cC[co + 1] = iC;
                        cC[co + 2] = iC
                    }
                }
            }
        }
        if (Y == "Gls" || Y == "OcnR" || Y == "Txtz") {
            var bC = Y == "OcnR" ? 2 : eE.Y9.indexOf(h.TxtT.v.TxtT), b = 24, cn = 0, aj, a6;
            if (bC == 6)
                bC = 2;
            var hG = "blocks canvas frosted tinylens brick burlap".split(" ")[bC];
            if (eE.lX == null)
                eE.lX = [];
            if (eE.lX[bC] == null) {
                var b3, ct;
                if (bC == 2) {
                    ct = new W(0, 0, 128, 128);
                    var fQ = io.g4("AdNs");
                    fQ.Mnch.v = !0;
                    fQ.Dstr.v.Dstr = "Gsn";
                    fQ.Nose.v.val = 50;
                    var b3 = t.m(ct.e() * 4)
                        , cj = b3.slice(0);
                    new Uint32Array(cj.buffer).fill(4286611584);
                    io.Cu("AdNs", {
                        buffer: cj,
                        rect: ct
                    }, fQ, 0, 0, {
                        buffer: b3,
                        rect: ct
                    })
                } else {
                    var fJ = eD.wg.get("tex/" + hG, !0)[0];
                    ct = fJ.jJ;
                    b3 = new Uint8Array(fJ.data)
                }
                var aA = t.m(ct.e());
                t.Ft(b3, aA, 0);
                eE.lX[bC] = [ct, aA]
            }
            var ct = eE.lX[bC][0]
                , aA = eE.lX[bC][1]
                , cM = ct.d
                , cc = ct.v;
            function cr(ah, dk, dC) {
                return ~~(bZ * (ah + dk) + 8192) & 127
            }
            var du = new Float32Array(g)
                , dV = new Float32Array(g)
                , hy = new Float32Array(I.buffer.buffer)
                , bZ = Y == "OcnR" ? 1 / (1 + (h.RplS.v - 1) * .1) : 100 / h.Scln.v;
            if (bC == 3)
                bZ *= 32 / 22.2;
            var aa = Date.now()
                , eb = bZ
                , o = 1.4 / B
                , eY = 1.4 / n;
            if (Y == "Txtz") {
                eb *= 1 / 255;
                b = 256
            }
            for (var y = 0; y < n; y++) {
                var gL = cr(y, d.y, cc)
                    , f = gL + 1 & 127;
                for (var j = 0; j < B; j++) {
                    var G = y * B + j
                        , fn = cr(j, d.x, cM)
                        , r = fn + 1 & 127
                        , aq = 0
                        , di = 0
                        , ej = 0;
                    if (Y == "Txtz") {
                        aq = t.I.J5(bZ * j, bZ * y, aA, 128, 128);
                        di = t.I.J5(bZ * j, bZ * y + 1, aA, 128, 128);
                        ej = t.I.J5(bZ * j + 1, bZ * y, aA, 128, 128)
                    } else {
                        aq = aA[gL * cM + fn];
                        di = aA[f * cM + fn];
                        ej = aA[gL * cM + r]
                    }
                    du[G] = Math.max(-b, Math.min((ej - aq) * eb, b));
                    dV[G] = Math.max(-b, Math.min((di - aq) * eb, b))
                }
            }
            if (Y == "Txtz")
                eE.Jq(du, dV, hy, d, 6);
            else
                eE.rG(du, dV, hy, d, Y == "Txtz" ? 1 : Y == "OcnR" ? 3.5 / bZ : h.Smth.v);
            if (Y == "Txtz")
                cn = h.InvT.v ? -1 : 1;
            else if (Y == "Gls") {
                cn = [1, .4, .5, .5][bC] * (Math.exp(h.Dstr.v * .155) - 1);
                if (h.InvT.v)
                    cn = -cn
            } else {
                cn = .5 * (Math.exp(h.RplM.v * .155) - 1)
            }
            var cC = I.buffer;
            if (Y == "Txtz") {
                var hX = (2 + eE.PU.indexOf(h.LghD.v.LghD)) * Math.PI * .25
                    , J = Math.cos(hX)
                    , R = Math.sin(hX);
                aj = {
                    x: J,
                    y: R,
                    GD: 0
                };
                av.Aq(aj);
                a6 = h.Rlf.v;
                a6 = a6 / 4 + Math.max(0, (a6 - 35) * 2)
            }
            function hJ(dZ, en, bi) {
                var hx = t.Q.overF(en, dZ, 1)
                    , ah = (1 - bi) * dZ + bi * (bi * en + (1 - bi) * hx);
                return ah * 255
            }
            for (var y = 0; y < n; y++)
                for (var j = 0; j < B; j++) {
                    var G = y * B + j
                        , co = G << 2
                        , m = du[G]
                        , l = dV[G]
                        , dZ = {
                            x: 1,
                            y: 0,
                            GD: m
                        };
                    av.Aq(dZ);
                    var en = {
                        x: 0,
                        y: 1,
                        GD: l
                    };
                    av.Aq(en);
                    var cD = av.ou(dZ, en);
                    if (Y == "Txtz") {
                        var dv = av.alp(cD, aj) * cn
                            , bi = 1
                            , iC = 1;
                        if (dv < 0) {
                            iC = 0;
                            dv = -dv
                        }
                        bi = Math.min(1, dv * a6);
                        cC[co + 0] = ~~hJ(S.buffer[co] * (1 / 255), iC, bi);
                        cC[co + 1] = ~~hJ(S.buffer[co + 1] * (1 / 255), iC, bi);
                        cC[co + 2] = ~~hJ(S.buffer[co + 2] * (1 / 255), iC, bi)
                    } else {
                        var hP = cn / cD.GD
                            , ea = ~~Math.max(0, Math.min(B - 1, j - cD.x * hP))
                            , fp = ~~Math.max(0, Math.min(n - 1, y - cD.y * hP))
                            , cT = fp * B + ea << 2;
                        cC[co + 0] = S.buffer[cT];
                        cC[co + 1] = S.buffer[cT + 1];
                        cC[co + 2] = S.buffer[cT + 2]
                    }
                }
        }
        if (Y == "PntD") {
            var cO = h.Shrp.v * .4
                , bD = h.BrsT.v.BrsT
                , hS = {
                    BrSm: [.75],
                    BrsL: [.85],
                    BrDR: [.68],
                    BrsW: [.75],
                    BrbW: [.78],
                    BrSp: [.62]
                }[bD]
                , fi = Math.round(h.Sz.v * .5);
            t.Ll.Th = hS[0];
            var em = t.Ll.jQ;
            io.TH(S.buffer, I.buffer, B, n, fi, em, [], 0);
            var gA = [-.7, -1, -.7, -1, 10, -1, -.7, -1, -.7];
            gA = t.Hd.Tt(gA);
            var aK = I.buffer.slice(0);
            t.Hd.FH(aK, I.buffer, B, n, gA, 0);
            for (var G = 0; G < S.buffer.length; G++) {
                var bR = I.buffer[G] - aK[G];
                I.buffer[G] = Math.max(0, Math.min(255, aK[G] + cO * bR))
            }
        }
        if (Y == "GlwE") {
            var al = I.buffer.slice(0);
            t.Ll.Th = .5;
            var em = t.Ll.jQ;
            io.TH(S.buffer, al, B, n, h.Smth.v >>> 1, em, [], 0);
            t.Hd.yY(al, I.buffer, B, n);
            t.vx(I.buffer, al);
            t.fb(al);
            t.A5(al, 4278190080, 16777215);
            io.TH(al, I.buffer, B, n, h.EdgW.v >>> 1, t.Ll.ax, [], 0);
            var d6 = h.EdgB.v / 10;
            for (var G = 0; G < al.length; G++) {
                if ((G & 3) == 3)
                    continue;
                var hx = I.buffer[G];
                I.buffer[G] = Math.max(0, Math.min(255, hx * d6))
            }
        }
        if (Y == "StnG") {
            t.FP.a6Z(S.buffer, B, n, I.buffer, h.ClSz.v, [Math.round(q.h), Math.round(q.l), Math.round(q.O)], h.BrdT.v)
        }
        if (Y == "HlfS") {
            var hn = h.HlSz.v
                , fX = hn * 2 + 1
                , d1 = h.Cntr.v
                , h$ = eE.Ah.indexOf(h.ScrT.v.ScrT)
                , g = B * n
                , f9 = g * 4
                , e6 = t.m(g)
                , cy = S.buffer
                , gu = 0
                , i7 = 0;
            for (var G = 0; G < f9; G += 4)
                e6[G >>> 2] = ~~(.5 + (cy[G] + cy[G + 1] + cy[G + 2]) * (1 / 3));
            var cN = e6.slice(0);
            t.n8.bc(cN, e6, d, hn);
            var gZ = Math.PI / fX
                , el = new Float64Array(B)
                , J = new Float64Array(B)
                , cx = new Float64Array(2 * B);
            for (var j = 0; j < B; j++) {
                var fn = (j - (B >>> 1)) * gZ;
                el[j] = fn * fn;
                J[j] = Math.cos(fn);
                var m = j << 1;
                cx[m] = Math.sin(m * (1 / 4.5));
                cx[m + 1] = Math.sin((m + 1) * (1 / 4.5))
            }
            for (var y = 0; y < n; y++) {
                var gL = (y - (n >>> 1)) * gZ
                    , R = Math.cos(gL)
                    , gK = gL * gL;
                for (var j = 0; j < B; j++) {
                    var iC = R;
                    if (h$ == 0) {
                        var dp = .5 + Math.sqrt(el[j] + gK) * 4.5;
                        iC = cx[~~dp]
                    } else if (h$ == 1) {
                        iC = J[j] * R
                    }
                    var G = y * B + j
                        , fg = e6[G] * (.75 + .25 * iC)
                        , bi = cy[(G << 2) + 3] * (1 / 255)
                        , dS = Math.max(0, Math.min(255, ~~fg));
                    gu += dS * bi,
                        i7 += bi;
                    e6[G] = dS
                }
            }
            gu /= i7;
            var ii = 128 + 1.26 * (gu - 128)
                , d6 = .08 + .25 * Math.abs((128 - gu) / 128)
                , hK = 1 + d6 * d1;
            for (var G = 0; G < g; G++) {
                var fg = ii + (e6[G] - ii) * hK;
                e6[G] = Math.max(0, Math.min(255, ~~fg))
            }
            if (d1 > 46)
                t.round(e6);
            eE.IQ(e6, I.buffer, q, H)
        }
        for (var G = 0; G < S.buffer.length; G += 4)
            I.buffer[G + 3] = S.buffer[G + 3]
    }
        ;
    eE.IQ = function (Y, S, h, q) {
        var H = Y.length
            , I = h.h
            , E = h.l
            , d = h.O
            , B = q.h
            , n = q.l
            , g = q.O;
        for (var G = 0; G < H; G++) {
            var z = Y[G] * (1 / 255)
                , p = 1 - z
                , C = G << 2;
            S[C] = ~~(I * p + B * z);
            S[C + 1] = ~~(E * p + n * z);
            S[C + 2] = ~~(d * p + g * z)
        }
    }
        ;
    eE.rG = function (Y, S, h, q, H) {
        if (H <= 1) {
            H = Math.round(H);
            eE.Jq(Y, S, h, q, [1, 16, 4][H]);
            return
        }
        var I = H * .42;
        if (Y) {
            t.n8.SL(Y, h, q, I, 3);
            Y.set(h)
        }
        if (S) {
            t.n8.SL(S, h, q, I, 3);
            S.set(h)
        }
    }
        ;
    eE.Jq = function (Y, S, h, q, H) {
        var I = t.Hd.Tt([1, 2, 1, 2, H, 2, 1, 2, 1]);
        if (Y) {
            h.set(Y);
            t.Hd.Z8(Y, h, q.d, q.v, I);
            Y.set(h)
        }
        if (S) {
            h.set(S);
            t.Hd.Z8(S, h, q.d, q.v, I);
            S.set(h)
        }
    }
        ;
    eE.He = function (Y) {
        if (Y == null)
            return new aV(0, 0);
        var S = 0
            , h = Y.GEfs ? Y.GEfs.v : [{
                v: Y
            }];
        for (var G = 0; G < h.length; G++) {
            var q = h[G].v
                , I = 1e4;
            if (q.GELv && !q.GELv.v)
                continue;
            var H = q.GEfk.v.GEft;
            if (H == "GlwE" || H == "Phtc" || H == "BsRl" || H == "PlsW" || H == "Chrm" || H == "Gls" || H == "OcnR")
                I = 0;
            S = Math.max(S, I)
        }
        return new aV(S, S)
    }
        ;
    eE.Lx = function (Y) {
        var S = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
            , h = [0, .6, .7, .8, 1, 1.2, 1.4, 1.6, 1.8, 2, 2.2, 2.6, 3, 4, 5][Y];
        for (var G = 0; G < 13; G++) {
            var q = G - 6;
            S[G] = 1 / (h * Math.sqrt(2 * Math.PI)) * Math.exp(-.5 * (q / h) * (q / h))
        }
        return S
    }
        ;
    eE.u6 = function (Y, S, h, q, H) {
        var I = eE.Lx(H)
            , E = 6
            , d = 13;
        for (var B = 0; B < q; B++)
            for (var n = 0; n < h; n++) {
                var g = B * h + n << 1
                    , z = 0
                    , p = 0;
                for (var G = 0; G < d; G++) {
                    var C = n + G - E
                        , T = C < 0 ? 0 : C >= h ? h - 1 : C
                        , A = (B * h + T) * 2
                        , i = I[G];
                    z += i * Y[A];
                    p += i * Y[A + 1]
                }
                S[g] = z;
                S[g + 1] = p
            }
    }
        ;
    eE.nb = function (Y, S, h, q, H) {
        var I = eE.Lx(H)
            , E = 6
            , d = 13;
        for (var B = 0; B < q; B++)
            for (var n = 0; n < h; n++) {
                var g = B * h + n << 1
                    , z = 0
                    , p = 0;
                for (var G = 0; G < d; G++) {
                    var C = B + G - E
                        , T = C < 0 ? 0 : C >= q ? q - 1 : C
                        , A = (T * h + n) * 2
                        , i = I[G];
                    z += i * Y[A];
                    p += i * Y[A + 1]
                }
                S[g] = z;
                S[g + 1] = p
            }
    }
        ;
    function iS() { }
    iS.sm = [2, 5, 5, 7, 4, 4];
    iS.LQ = "norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
    iS.Qu = "Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
    iS.hc = [[15, 10, 0], [15, 10, 1], [15, 10, 2], [15, 10, 3], [15, 10, 4], [15, 10, 5], [15, 10, 6], [15, 10, 7], [15, 10, 8], [15, 10, 9], [15, 10, 10], [15, 10, 11], [15, 10, 12], [15, 10, 13], [15, 10, 14], [15, 10, 15], [15, 10, 16], [15, 10, 17], [15, 10, 18], [15, 10, 19], [15, 10, 20], [15, 10, 21], [15, 10, 22], [15, 10, 23], [15, 10, 24], [15, 10, 25], [15, 10, 26]];
    iS.ZR = ["normal", null, "darken", "multiply", "color-burn", null, null, "lighten", "screen", "color-dodge", null, null, "overlay", "soft-light", "hard-light", null, null, null, null, "difference", "exclusion", null, null, "hue", "saturation", "color", "luminosity"];
    iS.Gn = function (Y) {
        if (Y == "passThrough")
            return "pass";
        return iS.LQ[iS.Qu.indexOf(Y)]
    }
        ;
    iS.zw = function (Y) {
        if (Y == "pass")
            return "passThrough";
        return iS.Qu[iS.LQ.indexOf(Y)]
    }
        ;
    iS.getName = function (Y) {
        return iS.hc[iS.LQ.indexOf(Y)]
    }
        ;
    function M() {
        this.rect = null;
        this.XC = "norm";
        this.opacity = 255;
        this.f6 = !1;
        this.xa = 0;
        this.BN = 0;
        this.s9 = [];
        for (var G = 0; G < 10; G++)
            this.s9.push(0, 0, 255, 255);
        this.name = null;
        this.add = {};
        this.buffer = null;
        this.qe = null;
        this.nh = null;
        this.r = null;
        this.sK = null;
        this.a6N = 30;
        this.lH = M.ja();
        this.aj8 = M.ja();
        this.a6e = M.ja();
        this.aiu = M.ja();
        this.wF = 0;
        this.cI = !1;
        this.LM = null;
        this.V = new M.$o
    }
    M.ja = function () {
        var Y = P.w("canvas");
        Y.width = Y.height = 30;
        return Y.getContext("2d")
    }
        ;
    M.$o = function () {
        this.Lj = !0;
        this.H4 = !0;
        this.I2 = t.m(0);
        this.ag1 = t.m(0);
        this.u8 = null;
        this.Y_ = {};
        this.a2G = null;
        this.YU = null;
        this.bu = null;
        this.ne = null;
        this.Sf = null;
        this.k$ = null;
        this._k = null;
        this.Xq = null;
        this.JS = null;
        this.hk = null;
        this.Ee = null;
        this.zP = null;
        this.pY = !1
    }
        ;
    M.$o.prototype.X_ = function () {
        this.Lj = !1;
        this.H4 = !1;
        this.u8 = null;
        this.pY = Q.nc
    }
        ;
    M.$o.prototype.ain = function () {
        av.Sq(this.Y_);
        this.I2 = t.m(0);
        this.ag1 = t.m(0);
        if (this.ne)
            this.ne.delete();
        if (this.Sf)
            this.Sf.delete();
        this.ne = null;
        this.Sf = null;
        var Y = [this.k$, this._k, this.Xq, this.JS, this.hk, this.Ee];
        for (var G = 0; G < 6; G++)
            if (Y[G] != null && Y[G] instanceof Q.ho)
                Y[G].delete();
        this.k$ = null;
        this._k = null;
        this.Xq = null;
        this.JS = null;
        this.hk = null;
        this.Ee = null
    }
        ;
    M.prototype.s = function (Y) {
        if (Y == null)
            Y = this.rect.clone();
        if (this.V.u8 == null)
            this.V.u8 = Y;
        else
            this.V.u8 = this.V.u8.TG(Y)
    }
        ;
    M.prototype.i4 = function () {
        return this.add.lsct == hg.fC || this.add.lsct == hg.N4
    }
        ;
    M.prototype.uy = function () {
        var Y = this.add;
        return Y.SoCo != null || Y.GdFl != null || Y.PtFl != null
    }
        ;
    M.prototype.mI = function () {
        var Y = this.add.lmfx;
        if (Y == null)
            return;
        var S = ["GrFl", "patternFill"];
        for (var G = 0; G < S.length; G++) {
            var h = ai.m6[ai.order.indexOf(S[G])]
                , q = Y[h].v;
            if (q.length == 0)
                continue;
            for (var H = 0; H < q.length; H++) {
                var I = q[H].v;
                if (I.enab.v && (I.Algn == null || !I.Algn.v))
                    this.V.H4 = !0
            }
        }
    }
        ;
    M.prototype.ed = function () {
        var Y = this.r;
        if (this.uy())
            Y = this.Qn();
        if (!Q.nc)
            return Y.IS();
        if (this.V.Sf == null || this.V.Lj || Q.nc != this.V.pY) {
            if (this.V.Sf)
                this.V.Sf.delete();
            this.V.Sf = new Q.tn(Y.i6().d, Y.i6().v);
            this.V.Sf.set(Y.IS())
        }
        return this.V.Sf
    }
        ;
    M.prototype.Xy = function (Y) {
        var S = this.rect
            , h = this.buffer;
        if (!Q.nc) {
            var q = this.jB(Y, h, S);
            if (q) {
                h = q.nP;
                S = q.rect
            }
            return h
        }
        if (this.V.u8 != null || Q.nc != this.V.pY) {
            var q = this.jB(Y, h, S);
            if (q) {
                h = q.nP;
                S = q.rect
            }
            var H = S;
            if (Q.nc != this.V.pY || this.V.ne == null || this.V.ne.d != H.d || this.V.ne.v != H.v) {
                if (this.V.ne)
                    this.V.ne.delete();
                this.V.ne = new Q.ho(H.d, H.v);
                this.V.ne.set(h)
            } else {
                var I = this.V.u8.clone();
                I.offset(-S.x, -S.y);
                this.V.ne.set(h, I)
            }
        }
        return this.V.ne
    }
        ;
    M.prototype.sQ = function () {
        var Y = this.r;
        if (this.uy())
            Y = this.Qn();
        return Y != null && Y.isEnabled && (Y.cd() == 0 || Y.cd() != 0 && !Y.rect.fa())
    }
        ;
    M.prototype.jB = function (Y, S, h) {
        if (this.ef()) {
            var q = this.$l(Y);
            if (q.r && q.r.isEnabled && (!q.r.rect.fa() || q.r.color == 0)) {
                var H = this.add.SoLd.filterFX.v;
                q.r.G0 = H.filterMaskDensity ? H.filterMaskDensity.v : 255;
                q.r.Cm = H.filterMaskFeather ? H.filterMaskFeather.v : 0;
                var I = q.buffer
                    , E = q.r.Ga(h);
                t.fb(E);
                S = S.slice(0);
                t.Q.OA(I, q.rect, S, h, E, h, 0, h, 1);
                return {
                    nP: S,
                    rect: h
                }
            }
        }
    }
        ;
    M.prototype.a7U = function () {
        var Y = {
            n$: !1,
            ND: !1,
            rb: 0,
            oI: 0
        };
        if (this.add.vmsk && this.add.vmsk.isEnabled)
            Y.ND = !0;
        if (this.Qn() && this.Qn().isEnabled)
            Y.n$ = !0;
        if (Y.n$ && Y.ND) {
            Y.rb = this.Qn().rect.x - this.add.vmsk.Qn().rect.x;
            Y.oI = this.Qn().rect.y - this.add.vmsk.Qn().rect.y
        }
        return Y
    }
        ;
    M.prototype._A = function (Y) {
        if (this.add.lsct == hg._q)
            return;
        var S = this
            , h = this.Qn() != null && this.Qn().Uh
            , q = this.add.vmsk != null && this.add.vmsk.Uh
            , H = this.a7U()
            , I = JSON.stringify(H) != this.V.a2G || H.n$ && h || H.ND && q;
        if (I) {
            if (H.ND) {
                var E = this.add.vmsk.Qn();
                if (H.n$) {
                    this.r = this.Qn().K7(E);
                    this.V.YU = new aV(this.r.rect.x - this.Qn().rect.x, this.r.rect.y - this.Qn().rect.y)
                } else
                    this.r = E
            }
            if (this.r)
                this.V.Lj = !0;
            if (this.r)
                this.V.bu = new aV(this.rect.x - this.r.rect.x, this.rect.y - this.r.rect.y);
            if (H.n$)
                this.Qn().Uh = !1;
            if (H.ND)
                this.add.vmsk.Uh = !1;
            this.s()
        } else {
            if (H.n$ && H.ND) {
                this.r.rect.x = this.Qn().rect.x + this.V.YU.x;
                this.r.rect.y = this.Qn().rect.y + this.V.YU.y
            }
        }
        if (S.uy()) {
            this.$T(Y)
        }
        if (S.Ac()) {
            var d;
            if (this.r)
                d = new aV(this.rect.x - this.r.rect.x, this.rect.y - this.r.rect.y);
            if (this.r && this.r.isEnabled && (this.V.bu == null || !d.ma(this.V.bu))) {
                this.V.bu = d;
                this.s();
                this.V.Lj = !0
            }
        }
        if (dD.get(S.add) != null)
            this.V.Lj = !0;
        this.V.a2G = JSON.stringify(H)
    }
        ;
    M.prototype.$T = function (Y) {
        var S = this, h = S.add.vstk, q, H = S.add.vmsk ? this.add.vmsk.Qn() : null, d = !0;
        if (H && H.isEnabled && H.cd() == 0)
            q = H.i6().clone();
        else
            q = new W(0, 0, Y.d, Y.v);
        var I = S.Qn();
        if (I && I.isEnabled && I.cd() == 0)
            q = q.lF(S.r.i6());
        var E = H && h;
        if (h && (!h.strokeEnabled.v || h.strokeStyleLineWidth.v.val == 0))
            E = !1;
        if (h && !h.fillEnabled.v && E)
            d = !1;
        var B = t.m(q.e() * 4);
        if (d) {
            if (S.add.SoCo)
                av.ru(B, S.add.SoCo.Clr.v);
            if (S.add.GdFl)
                av.HO(S.add.GdFl, B, q, Y, null, H && H.color == 0 ? H.rect : null);
            if (S.add.PtFl)
                av.u2(S.add.PtFl, B, q, Y, S.add.fxrp)
        }
        if (H) {
            var n = H.G0;
            if (E)
                H.G0 = 255;
            var g = t.m(q.e());
            if (H.cd() != 0)
                g.fill(Math.round(H.cd()));
            if (H && H.isEnabled) {
                var z = H.i6()
                    , p = H.IS();
                if (z.ma(q))
                    t.vx(p, g);
                else
                    t.m7(p, z, g, q)
            }
            if (S.add.SoCo && d) {
                t.Vj(g, B, 3)
            } else
                t.jK(g, q, B, q);
            if (E)
                H.G0 = n
        }
        S.buffer = B;
        S.rect = q;
        if (E) {
            var C = ai.Ig.ZK.indexOf(h.strokeStyleLineAlignment.v.strokeStyleLineAlignment)
                , T = h.strokeStyleContent.v
                , A = ai.Ig.bj.indexOf(T.classID)
                , i = this.add.vmsk.Qn(h);
            if (S.rect.ma(new W(0, 0, Y.d, Y.v)))
                S.rect = S.rect;
            else if (C != 0) {
                var e = S.rect.TG(i.i6())
                    , a = t.m(e.e() * 4);
                t.rd(S.buffer, S.rect, a, e);
                S.buffer = a;
                S.rect = e
            }
            var n = i.G0;
            i.G0 = 255;
            var Z = i.Ga(S.rect);
            i.G0 = n;
            if (i.color == 255)
                t.fb(Z);
            var O = t.m(S.rect.e() * 4);
            if (A == 0)
                av.ru(O, T.Clr.v);
            if (A == 1)
                av.HO(T, O, S.rect, Y, null, H.color == 0 ? H.rect : null);
            if (A == 2)
                av.u2(T, O, S.rect, Y, S.add.fxrp);
            var c = h.strokeStyleOpacity.v.val / 100;
            if (c != 1)
                t.d0(Z, c);
            t.Vj(Z, O, 3);
            if (i.color == 255)
                C = 2 - C;
            if (C == 0) {
                t.Q.Bc("norm", O, S.rect, S.buffer, S.rect, S.rect, 1);
                t.jK(g, S.rect, S.buffer, S.rect)
            }
            if (C == 1) {
                t.Q.Bc("norm", O, S.rect, S.buffer, S.rect, S.rect, 1)
            }
            if (C == 2) {
                t.fb(g);
                t.Q.OA(O, S.rect, S.buffer, S.rect, g, q, 255, S.rect, 1, !1);
                t.fb(g)
            }
            if (i.G0 != 255) {
                var s = O.slice(0);
                t.A5(s, 4278190080, 16777215);
                t.Q.Bc("norm", s, S.rect, S.buffer, S.rect, S.rect, 1 - i.G0 / 255)
            }
            n = H.G0;
            H.G0 = 255;
            this.ag1 = H.Ga(S.rect);
            H.G0 = n
        }
        this.s()
    }
        ;
    M.prototype.rH = function (Y, S) {
        var h = this
            , q = h.add.SoLd.Idnt.v
            , H = h.add.SoLd
            , I = t.a.Zu(U.o.U8(H.nonAffineTransform))
            , E = Y.Ky(q, H.Crop ? H.Crop.v : null, [I.d, I.v], H.Impr.v.classID);
        if (E == null)
            return;
        var d = E.aE;
        H.Sz.v.Wdth.v = d[1].d;
        H.Sz.v.Hght.v = d[1].v;
        var B = H.warp.v
            , n = U.o.U8(H.nonAffineTransform)
            , g = t.I.Rc(n, d[1]);
        if (B && !t.P8.Oq(B)) {
            var I = t.a.Zu(t.P8.eT(B))
                , z = I.x
                , p = I.y
                , C = 1 / I.d
                , T = 1 / I.v;
            g = t.I.Rc(n);
            g = t.I.K7(g, [C, 0, -z * C, 0, T, -p * T, 0, 0])
        }
        var A = U.o.Hz(d, S ? 0 : 1, g, B, null, null, null, S);
        if (A == null) {
            h.buffer = t.m();
            h.rect = new W
        } else if (h.ef()) {
            var i = h.$l(Y);
            i.buffer = A.buffer;
            i.rect = A.rect.clone();
            this.ih(Y, S)
        } else {
            h.buffer = A.buffer;
            h.rect = A.rect
        }
        h._A(Y);
        h.s();
        Y.s()
    }
        ;
    M.prototype.ih = function (Y, S) {
        if (S == null)
            S = !1;
        var h = this.$l(Y)
            , q = this.add.SoLd.filterFX.v
            , H = io.a8T(q)
            , I = new W(0, 0, Y.d, Y.v)
            , E = h.rect.TG(I)
            , d = h.rect.clone();
        d.vo(H.x, H.y);
        var B = {
            buffer: null,
            rect: E.lF(d)
        };
        B.buffer = t.m(B.rect.e() * 4);
        t.rd(h.buffer, h.rect, B.buffer, B.rect);
        if (q.enab.v && S == !1) {
            var n = q.filterFXList.v;
            for (var G = 0; G < n.length; G++) {
                var g = n[G].v;
                if (g.enab.v == !1)
                    continue;
                var z = g.blendOptions.v
                    , p = iS.Gn(z.Md.v.BlnM)
                    , C = z.Opct.v.val / 100
                    , T = t.W.cd(g.FrgC.v)
                    , A = t.W.cd(g.BckC.v)
                    , i = io.mU(g)
                    , e = {
                        buffer: t.m(B.buffer.length),
                        rect: B.rect.clone()
                    }
                    , a = g.Fltr ? g.Fltr.v : null;
                if (dD.CY[i] != null) {
                    var Z = dD.CY[i]
                        , O = dD.HA(Z, a);
                    if (O)
                        dD.Cu(O, B.buffer, e.buffer, B.rect)
                } else
                    io.Cu(i, B, a, T, A, e, [Y.add.lnk2 ? Y.add.lnk2 : [], this.Qn(), Y.h3]);
                if (p == "norm" && C == 1)
                    B = e;
                else if (p == "norm") {
                    t.Q.OA(e.buffer, e.rect, B.buffer, B.rect, null, null, null, B.rect, C)
                } else {
                    t.Q.Bc(p, e.buffer, e.rect, B.buffer, B.rect, B.rect, C)
                }
            }
        }
        this.rect = B.rect;
        this.buffer = B.buffer;
        this.Mq();
        this.s();
        Y.s()
    }
        ;
    M.prototype.TP = function (Y, S, h) {
        this.LM = this.p1(Y, S, h)
    }
        ;
    M.prototype.kY = function (Y, S) {
        var h = this.p1(Y, S, !0);
        if (h == null)
            return null;
        var q = {
            md: h.wF,
            kQ: h.TB,
            rect: h.Cq
        };
        if (q.md == 1 || q.md == 3) {
            var H = q.rect
                , I = t.m(H.d * H.v * 4);
            t.Vj(q.kQ, I, 0);
            t.Vj(q.kQ, I, 1);
            t.Vj(q.kQ, I, 2);
            t.xz(Y.N.channel, Y.N.rect, I, H);
            q.kQ = I
        }
        return q
    }
        ;
    M.prototype.p1 = function (Y, S, h) {
        var q, H, I, E, d, B, n;
        if (this.wF <= 0) {
            var g = t.m(this.rect.e());
            t.Ft(this.buffer, g, 3);
            q = t.bZ.mB(S, {
                channel: g,
                rect: this.rect
            }, "intersection");
            if (q == null)
                return null;
            var z = t.o9(q.channel, q.rect);
            E = q.rect.clone();
            d = this.rect.clone();
            H = t.m(E.e() * 4);
            t.rd(this.buffer, d, H, E);
            t.Vj(q.channel, H, 3);
            I = this.buffer.slice(0);
            if (!h) {
                var p = S.channel.slice(0);
                t.fb(p);
                t.jK(p, S.rect, I, d)
            }
            B = this.buffer.slice(0);
            n = this.rect.clone()
        }
        if (this.wF == 1 || this.wF == 3) {
            var C = this.wF == 1 ? this.Qn() : this.$l(Y).r;
            E = S.rect.clone();
            d = C.rect.clone();
            H = C.M6(E);
            var I = C.channel.slice(0);
            if (!h)
                t.Q.Oo(C.color == 255 ? t.p2(E.e()) : t.QO(E.e()), E, I, d, S.channel, E, 1);
            B = C.channel.slice(0);
            n = C.rect.clone()
        }
        return {
            wF: this.wF,
            TB: H,
            Cq: E,
            MK: I,
            A$: d,
            Oz: B,
            Ao: n
        }
    }
        ;
    M.prototype.Q9 = function (Y, S) {
        var h = this.LM;
        if (h.wF == 0) {
            this.rect = h.Ao;
            this.buffer = h.Oz;
            this.s()
        }
        if (h.wF == 1 || h.wF == 3) {
            var q = h.wF == 1 ? this.Qn() : this.$l(Y).r;
            q.channel = h.Oz;
            q.rect = h.Ao;
            if (this.wF == 1) {
                q.Uh = !0;
                this._A(Y)
            }
            if (this.wF == 3)
                this.s()
        }
        this.LM = S
    }
        ;
    M.prototype.eG = function (Y, S) {
        if (this.wF <= 0 && S.rect.ma(this.rect)) {
            var h = t.m(this.rect.e());
            t.Ft(this.buffer, h, 3);
            if (t.ma(Y.N.channel, h)) {
                var q = this.rect
                    , H = this.buffer;
                this.LM = {
                    wF: this.wF,
                    TB: H.slice(0),
                    Cq: q.clone(),
                    MK: t.m(0),
                    A$: new W,
                    Oz: t.m(0),
                    Ao: new W
                };
                return !0
            }
        }
        var I = this.LM;
        if (I == null)
            return !1;
        if (I.wF != this.wF)
            return !1;
        if (!S.rect.ma(I.Cq))
            return !1;
        var E = I.A$.TG(I.Cq);
        if (I.wF <= 0) {
            if (!E.ma(this.rect))
                return !1;
            var d = t.m(I.TB.length >> 2);
            t.Ft(I.TB, d, 3);
            if (!t.ma(S.channel, d))
                return !1;
            var B = t.m(E.d * E.v * 4);
            t.rd(I.MK, I.A$, B, E);
            t.Q.Bc("norm", I.TB, I.Cq, B, E, E, 1);
            return t.ma(B, this.buffer)
        }
        if (I.wF == 1 || I.wF == 3) {
            var n = I.wF == 1 ? this.Qn() : this.$l(Y).r;
            if (!E.ma(n.rect))
                return !1;
            var g = t.m(E.e());
            g.fill(n.color);
            t.m7(I.MK, I.A$, g, E);
            t.Q.Oo(I.TB, I.Cq, g, E, S.channel, E, 1);
            return t.ma(g, n.channel)
        }
    }
        ;
    M.prototype.aD = function (Y, S, h, q) {
        
        var H = this.LM;
        H.Cq.offset(S, h);
        var I = H.A$.TG(H.Cq);
        if (H.wF <= 0) {
            var E = t.m(I.e() * 4);
            t.rd(H.MK, H.A$, E, I);
            t.Q.Bc("norm", H.TB, H.Cq, E, I, I, 1);
            this.buffer = E;
            this.rect = I;
            this.s()
        } else {
            var d = this.wF == 1 ? this.Qn() : this.$l(Y).r
                , B = t.m(I.e());
            B.fill(d.color);
            t.m7(H.MK, H.A$, B, I);
            t.Q.Oo(H.TB, H.Cq, B, I, q.channel, I, 1);
            d.channel = B;
            d.rect = I.clone();
            if (this.wF == 1) {
                d.Uh = !0;
                this._A(Y)
            }
            if (this.wF == 3)
                this.s()
        }
    }
        ;
    M.prototype.Xh = function () {
        var Y = [-1, 0, 1, 2];
        if (this.r)
            Y.push(-2);
        if (this.sK)
            Y.push(-3);
        return Y
    }
        ;
    M.prototype.getName = function () {
        return this.add.luni ? this.add.luni : this.name
    }
        ;
    M.prototype.wN = function (D) {
        this.add.luni = this.name = D
    }
        ;
    M.prototype.cC = function (Y) {
        var S = this.add.lnsr
            , h = this.add.TySh;
        if (S == "rend" && h)
            this.wN(ap.lo(h.lV).replace(/(?:\r\n|\r|\n)/g, " ").slice(0, 32))
    }
        ;
    M.prototype.yj = function () {
        return (this.xa & 1 << 1) == 0
    }
        ;
    M.prototype.Ac = function () {
        return (this.xa & 1 << 4) == 0
    }
        ;
    M.prototype.yc = function () {
        return (this.xa & 1 << 5) != 0
    }
        ;
    M.prototype.acu = function () {
        var Y = this;
        if (Y.add.lnsr != "bgnd") {
            Y.add.lnsr = "bgnd";
            Y.wN("Background");
            Y.add.lspf = 1 << 2
        }
    }
        ;
    M.prototype.a7O = function () {
        var Y = this;
        if (Y.add.lnsr == "bgnd") {
            delete Y.add.lnsr;
            Y.wN("Layer 0");
            Y.add.lspf = 0
        }
    }
        ;
    M.prototype.Ag = function (Y) {
        var S = this.add.lspf;
        return S == null ? !1 : (S >> Y & 1) != 0
    }
        ;
    M.prototype.yR = function (Y) {
        if (Y && !this.yj())
            this.xa -= 2;
        if (!Y && this.yj())
            this.xa += 2
    }
        ;
    M.prototype.vI = function () {
        var Y = this.add.lmfx;
        if (Y == null)
            return !1;
        for (var S in Y) {
            if (S == "masterFXSwitch")
                continue;
            if (S == "Scl")
                continue;
            if (S == "classID")
                continue;
            if (Y[S].v.length > 0)
                return !0
        }
        return !1
    }
        ;
    M.prototype.ef = function () {
        return this.add.SoLd != null && this.add.SoLd.filterFX != null
    }
        ;
    M.prototype.Xz = function () {
        var Y = this.add.lmfx;
        if (Y == null)
            return !1;
        if (!Y.masterFXSwitch.v)
            return !1;
        for (var S in Y) {
            if (S == "masterFXSwitch")
                continue;
            if (S == "Scl")
                continue;
            if (S == "classID")
                continue;
            var h = Y[S].v;
            for (var G = 0; G < h.length; G++)
                if (h[G].v.enab.v)
                    return !0
        }
        return !1
    }
        ;
    M.prototype.ZA = function (Y, S, h, q) {
        var H = new W
            , I = this.NO(Y, h, q);
        if (I.indexOf(0) != -1)
            H = H.TG(this.rect);
        if (I.indexOf(1) != -1)
            H = H.TG(this.Qn().i6());
        if (I.indexOf(2) != -1) {
            var E = this.add.vmsk, d;
            if (S) {
                if (E.xf.length > 1) {
                    var B = t.Y.AD(E.b, null, E.xf);
                    d = t.a.Zu(B)
                } else
                    d = t.Y.c9(E.b, E.C.length != 0 ? E.C : null)
            } else
                d = t.Y.c9(E.b);
            H = H.TG(d)
        }
        if (I.indexOf(3) != -1)
            H = H.TG(this.$l(Y).r.i6());
        if (I.length == 0 && this.uy())
            H = new W(0, 0, Y.d, Y.v);
        return H
    }
        ;
    M.prototype.ps = function () {
        var Y = this.add.artb
            , S = Y.artboardBackgroundType.v
            , h = 0;
        if (S == 1)
            h = 4294967295;
        else if (S == 2)
            h = 4278190080;
        else if (S == 3)
            h = 0;
        else if (S == 4) {
            h = Y.Clr.v;
            h = 255 << 24 | h.Bl.v << 16 | h.Grn.v << 8 | h.Rd.v
        } else
            throw S;
        return h
    }
        ;
    M.prototype.aG = function () {
        var Y = this.add.artb.artboardRect.v
            , S = Y.Btom.v
            , h = Y.Left.v
            , q = Y.Rght.v
            , top = Y.Top.v;
        return new W(h, top, q - h, S - top)
    }
        ;
    M.prototype.SV = function (Y) {
        var S = M.lY(Y);
        if (this.add.artb == null)
            this.add.artb = {
                classID: "artboard",
                artboardRect: {
                    t: "Objc",
                    v: null
                },
                artboardBackgroundType: {
                    t: "long",
                    v: 1
                }
            };
        this.add.artb.artboardRect.v = S
    }
        ;
    M.lY = function (Y) {
        var S = {
            classID: "classFloatRect",
            Top: {
                t: "doub",
                v: 0
            },
            Left: {
                t: "doub",
                v: 0
            },
            Btom: {
                t: "doub",
                v: 0
            },
            Rght: {
                t: "doub",
                v: 0
            }
        };
        S.Btom.v = Y.y + Y.v;
        S.Left.v = Y.x;
        S.Rght.v = Y.x + Y.d;
        S.Top.v = Y.y;
        return S
    }
        ;
    M.prototype.NO = function (Y, S, h) {
        var q = []
            , H = this
            , I = this.cI;
        if (!S && H.cI && h) {
            q.push(2)
        } else if (H.wF <= 0 || S) {
            if (H.Ac())
                if (!this.rect.fa())
                    q.push(0);
            if (H.Qn() && !H.Qn().rect.fa())
                if (H.Qn().Pa || S)
                    q.push(1);
            if (H.add.vmsk)
                if (H.add.vmsk.Pa || S)
                    q.push(2);
            if (H.ef() && H.$l(Y).r && !H.$l(Y).r.rect.fa())
                q.push(3)
        } else if (H.wF == 1) {
            q.push(1);
            if (H.Qn().Pa && !H.Qn().rect.fa()) {
                if (H.Ac())
                    if (!this.rect.fa())
                        q.push(0);
                if (H.add.vmsk)
                    if (H.add.vmsk.Pa)
                        q.push(2)
            }
        } else if (H.wF == 3 && !H.$l(Y).r.rect.fa())
            q.push(3);
        if (H.add.artb && q.indexOf(0) == -1)
            q.push(0);
        q.sort();
        return q
    }
        ;
    M.prototype.Qn = function () {
        var Y = this;
        return Y.sK ? Y.sK : Y.add.vmsk && Y.add.vmsk.isEnabled ? null : Y.r
    }
        ;
    M.prototype.$l = function (Y) {
        var S = this.add.SoLd.placed.v
            , h = Y.add.FEid;
        if (h == null)
            return null;
        for (var G = 0; G < h.length; G++)
            if (h[G].id == S)
                return h[G];
        return null
    }
        ;
    M.prototype.extend = function (Y) {
        t.aeu(this, Y)
    }
        ;
    M.prototype.HZ = function (Y, S, h) {
        var q = Y.clone();
        if (this.Xz()) {
            var H = this.add.lmfx
                , I = S.root.TZ(S.t.indexOf(this))
                , E = H.gradientFillMulti.v
                , d = !1;
            for (var G = 0; G < E.length; G++)
                if (E[G].v.enab.v && E[G].v.Algn.v)
                    d = !0;
            if (d)
                q = q.TG(I.i6(S, !1));
            var B = av.alO(this, S, h);
            q.offset(B.x, B.y);
            q.d += B.d;
            q.v += B.v
        }
        return q
    }
        ;
    M.prototype.Mq = function () {
        if (this.Ac())
            t.Wq(this);
        var Y = this.Qn();
        if (Y)
            Y.Mq()
    }
        ;
    M.prototype.clone = function () {
        var Y = new M;
        Y.rect = this.rect.clone();
        Y.buffer = this.buffer.slice(0);
        Y.XC = this.XC;
        Y.opacity = this.opacity;
        Y.f6 = this.f6;
        Y.xa = this.xa;
        Y.name = this.name;
        Y.s9 = this.s9.slice(0);
        if (this.r)
            Y.r = this.r.clone();
        if (this.sK)
            Y.sK = this.sK.clone();
        for (var S in this.add)
            Y.add[S] = f4.clone(S, this.add[S]);
        return Y
    }
        ;
    M.prototype.xH = function (Y) {
        
        var S = this;
        if (S.add.TySh)
            delete S.add.TySh;
        if (S.add.SoLd) {
            var h = this.jB(Y, this.buffer, this.rect);
            if (h) {
                this.buffer = h.nP;
                this.rect = h.rect;
                this.s()
            }
            delete S.add.SoLd
        }
        if (S.add.SoCo || S.add.GdFl || S.add.PtFl) {
            if (S.add.vogk)
                delete S.add.vogk;
            if (S.add.SoCo)
                delete S.add.SoCo;
            if (S.add.GdFl)
                delete S.add.GdFl;
            if (S.add.PtFl)
                delete S.add.PtFl;
            if (S.add.vmsk) {
                console.log(S.sK, S.r);
                delete S.add.vmsk;
                if (S.sK == null && S.r)
                    delete S.r;
                else if (S.sK != null && S.r != null) {
                    S.r = S.sK;
                    delete S.sK
                }
            }
        }
        if (!S.i4() && dD.get(S.add) == null && !this.Ac())
            this.xa -= 16
    }
        ;
    M.prototype.Ro = function (Y) {
        var S = 255
            , h = 0;
        if (Y == 2) {
            var q = this.add.SoLd.filterFX.v;
            if (q.filterMaskDensity)
                S = q.filterMaskDensity.v;
            if (q.filterMaskFeather)
                h = q.filterMaskFeather.v
        } else {
            var H = Y == 0 ? this.Qn() : this.add.vmsk;
            S = H.G0;
            h = H.Cm
        }
        return {
            l6: Y,
            ZV: S,
            k6: h
        }
    }
        ;
    M.prototype.ZH = function (Y) {
        if (Y.l6 == 2) {
            var S = this.add.SoLd.filterFX.v;
            if (Y.ZV == 255)
                delete S.filterMaskDensity;
            else
                S.filterMaskDensity = {
                    t: "long",
                    v: Y.ZV
                };
            if (Y.k6 == 0)
                delete S.filterMaskFeather;
            else
                S.filterMaskFeather = {
                    t: "doub",
                    v: Y.k6
                };
            this.s()
        } else {
            var h = Y.l6 == 0 ? this.Qn() : this.add.vmsk;
            h.G0 = Y.ZV;
            h.Cm = Y.k6;
            h.Uh = !0
        }
    }
        ;
    M.prototype.Ir = function () {
        var Y = this
            , S = Y.add.vmsk;
        if (S == null)
            return;
        Y.add.vogk = M.Ir(S.b)
    }
        ;
    M.Ir = function (Y) {
        var S = []
            , h = t.Y.Id(Y);
        for (var q = 0; q < h; q++)
            S.push(t.tx.QO());
        return S
    }
        ;
    var hg = {
        _p: 0,
        fC: 1,
        N4: 2,
        _q: 3
    };
    M.WB = function () {
        this.name = "Mask";
        this.Qb = !1;
        this.oA = {
            h: 255,
            l: 0,
            O: 0
        };
        this.Sr = 50;
        this.I7 = 0;
        this.color = 255;
        this.Pa = !0;
        this.isEnabled = !0;
        this.ZD = !1;
        this.G0 = 255;
        this.Cm = 0;
        this.rect = new W;
        this.channel = t.m(0);
        this.DS = null;
        this.a6V = null;
        this.Uh = !0
    }
        ;
    M.WB.prototype.K7 = function (Y) {
        if (!this.isEnabled)
            return Y;
        var S = new M.WB;
        S.color = Math.round(this.cd() * Y.cd() / 255);
        if (this.cd() == 0 && Y.cd() == 0)
            S.rect = this.i6().lF(Y.i6());
        else if (Y.cd() == 0)
            S.rect = Y.i6().clone();
        else if (this.cd() == 0)
            S.rect = this.i6().clone();
        else
            S.rect = this.i6().TG(Y.i6());
        S.channel = this.Ga(S.rect);
        S.G0 = 255;
        S.Cm = 0;
        var h = Y.Ga(S.rect);
        t.aa2(h, S.rect, S.channel, S.rect);
        return S
    }
        ;
    M.WB.prototype.i6 = function () {
        if (this.Cm == 0)
            return this.rect;
        var Y = Math.ceil(this.Cm * 2.2)
            , S = this.rect.clone();
        S.vo(Y, Y);
        return S
    }
        ;
    M.WB.prototype.IS = function () {
        if (this.Cm == 0 && this.G0 == 255)
            return this.channel;
        if (this.Cm == 0) {
            var Y = this.channel.slice(0);
            t.fb(Y);
            t.d0(Y, this.G0 / 255);
            t.fb(Y);
            return Y
        }
        var S = this.i6()
            , h = this.M6(S)
            , Y = t.m(S.e());
        t.n8.NC(h, Y, S, this.Cm);
        if (this.G0 != 255) {
            t.fb(Y);
            t.d0(Y, this.G0 / 255);
            t.fb(Y)
        }
        return Y
    }
        ;
    M.WB.prototype.cd = function () {
        return Math.round(255 - (255 - this.color) * (this.G0 / 255))
    }
        ;
    M.WB.prototype.extend = function (Y) {
        t.extend(this, Y, this.color)
    }
        ;
    M.WB.prototype.Mq = function () {
        if (this.color == 255)
            t.fb(this.channel);
        t.Mq(this);
        if (this.color == 255)
            t.fb(this.channel)
    }
        ;
    M.WB.prototype.clone = function () {
        var Y = new M.WB;
        Y.name = this.name;
        Y.Qb = this.Qb;
        Y.oA = this.oA;
        Y.Sr = this.Sr;
        Y.I7 = this.I7;
        Y.color = this.color;
        Y.Pa = this.Pa;
        Y.isEnabled = this.isEnabled;
        Y.ZD = this.ZD;
        Y.G0 = this.G0;
        Y.Cm = this.Cm;
        Y.rect = this.rect.clone();
        Y.channel = this.channel.slice(0);
        return Y
    }
        ;
    M.WB.prototype.M6 = function (Y, S) {
        if (S == null)
            S = t.m(Y.e());
        S.fill(this.color);
        t.m7(this.channel, this.rect, S, Y);
        return S
    }
        ;
    M.WB.prototype.Ga = function (Y, S) {
        var h = this.i6()
            , q = this.IS();
        if (S == null)
            S = t.m(Y.e());
        S.fill(this.cd());
        t.m7(q, h, S, Y);
        return S
    }
        ;
    M.cJ = function () {
        this.Pa = !0;
        this.isEnabled = !0;
        this.G0 = 255;
        this.Cm = 0;
        this.b = [{
            type: 6
        }, {
            type: 8,
            all: 0
        }];
        this.YF = [-3, -3];
        this.mg = !1;
        this.sK = null;
        this.Uh = !0;
        this.C = [];
        this.xf = []
    }
        ;
    M.cJ.prototype.offset = function (Y, S) {
        this.sK = this.Qn();
        t.Y.$M(this.b, new d5(1, 0, 0, 1, Y, S));
        this.sK.rect.offset(Y, S)
    }
        ;
    M.cJ.prototype.Qn = function (Y) {
        if (!this.Uh && this.sK && Y == null) {
            this.sK.isEnabled = this.isEnabled;
            return this.sK
        }
        var S = t.Y.c9(this.b)
            , h = "strokeStyleLineAlignment"
            , q = "strokeStyleLineJoinType";
        if (S.e() > 3e4 * 3e4)
            S = new W(0, 0, 100, 100);
        if (Y && Y[h].v[h] != "strokeStyleAlignInside") {
            var H = 1;
            if (Y[q].v[q] == "strokeStyleMiterJoin") {
                var I = t.Y.ad9(this.b)
                    , E = I / 2
                    , d = Math.sin(E)
                    , B = Math.cos(E);
                B /= d;
                d = 1;
                var H = Math.sqrt(B * B + d * d);
                if (isNaN(H) || H < 1)
                    H = 1
            }
            H *= Y[h].v[h] == "strokeStyleAlignOutside" ? 1 : .5;
            var n = Math.ceil(Y.strokeStyleLineWidth.v.val * H);
            n = Math.min(n, 600);
            S.vo(n, n)
        }
        S = t.a.Ca(S);
        var g = new M.WB;
        g.color = t.Y.Tj(this.b) ? 0 : 255;
        g.Pa = this.Pa;
        g.isEnabled = this.isEnabled;
        g.ZD = !0;
        g.rect = S;
        g.G0 = this.G0;
        g.Cm = this.Cm;
        g.channel = t.m(g.rect.e());
        if (!S.fa())
            t.Y.a8W(this.b, g.channel, g.rect, Y);
        if (Y == null) {
            this.sK = g;
            this.Uh = !1
        }
        return g
    }
        ;
    M.cJ.prototype.clone = function () {
        var Y = new M.cJ;
        Y.Pa = this.Pa;
        Y.isEnabled = this.isEnabled;
        Y.G0 = this.G0;
        Y.Cm = this.Cm;
        Y.b = M.cJ.s7(this.b);
        Y.YF = this.YF.slice(0);
        Y.mg = this.mg;
        Y.C = this.C.slice(0);
        Y.xf = this.xf.slice(0);
        return Y
    }
        ;
    M.cJ.prototype.concat = function (Y) {
        var S = Y.b.slice(2);
        if (S.length == 0)
            return;
        S[0].Mg = 3;
        this.b = this.b.concat(S)
    }
        ;
    M.cJ.s7 = function (Y) {
        var S = [];
        for (var G = 0; G < Y.length; G++) {
            var h = Y[G];
            if (h.type > 5 || h.type == 0 || h.type == 3)
                S.push(JSON.parse(JSON.stringify(h)));
            else
                S.push({
                    type: h.type,
                    c4: h.c4.clone(),
                    D: h.D.clone(),
                    TA: h.TA.clone()
                })
        }
        return S
    }
        ;
    M.cJ.aep = function (Y, S, h) {
        if (Y.length != S.length)
            return !1;
        for (var G = 2; G < Y.length; G++) {
            var q = Y[G]
                , H = S[G];
            if (q.type != H.type)
                return !1;
            if (q.type == 0 || q.type == 3) {
                if (q.length != H.length || !h && q.Mg != H.Mg)
                    return !1
            } else if (!q.c4.ma(H.c4) || !q.D.ma(H.D) || !q.TA.ma(H.TA))
                return !1
        }
        return !0
    }
        ;
    M.cJ.prototype.aer = function () {
        var Y = this.b;
        for (var G = 3; G < Y.length; G++)
            if (Y[G].type == 0 || Y[G].type == 3)
                Y[G].Mg = -1
    }
        ;
    M.zs = function () {
        this.type = null;
        this.GN = 2;
        this._z = null;
        this.hg = "";
        this.zH = "";
        this.kf = "";
        this.open = 0;
        this.raw = null;
        this.aE = null;
        this.aj_ = ""
    }
        ;
    M.zs.prototype.clone = function () {
        var Y = new M.zs;
        Y.type = this.type;
        Y.GN = this.GN;
        Y._z = this._z;
        Y.hg = this.hg;
        Y.zH = this.zH;
        Y.kf = this.kf;
        Y.open = this.open;
        Y.raw = new Uint8Array(this.raw.buffer.slice(0));
        return Y
    }
        ;
    M.zs.prototype.Q3 = function (Y, S, h) {
        if (h == null)
            h = "none";
        var q = this
            , H = eD.hj(q.raw.buffer)
            , I = H == "svg" || H == "pdf";
        if (q.aE) {
            var E = S && I && Math.max(q.aE[1].d, q.aE[1].v) < Math.max(S[0], S[1]);
            if (!E && h == this.aj_)
                return
        }
        this.aj_ = h;
        if (!I)
            Y = 0;
        if (H == null) {
            alert("Unsupported format: " + k.Fe(q.raw, 0, 4));
            return null
        }
        var d = eD.Oh(H);
        if (d.M4) {
            var B = new dh(name + (H == "psd" ? "" : "-" + H) + ".psd"), n;
            d.C3(q.raw.buffer, B, S);
            var g = new W(0, 0, B.d, B.v);
            if ("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(h) != -1) {
                var z = [];
                for (var G = 0; G < B.t.length; G++) {
                    var p = B.t[G]
                        , C = p.buffer;
                    if (!p.rect.ma(g)) {
                        C = t.m(g.e() * 4);
                        t.rd(p.buffer, p.rect, C, g);
                        console.log("resizing")
                    }
                    z.push(C)
                }
                n = t.m(g.e() * 4);
                t.stack.stack(z, n, h)
            } else {
                for (var G = 0; G < B.t.length; G++)
                    if (B.t[G].uy())
                        B.t[G]._A(B);
                B.Ko();
                B.s();
                B.aj();
                n = B.Q3()
            }
            q.aE = [n, g]
        } else if (d) {
            var T = d.C3(q.raw.buffer)[0];
            q.aE = [new Uint8Array(T.data), T.jJ]
        }
        if (q.aE) {
            if (Y == 1) {
                var C = q.aE[0]
                    , A = q.aE[1]
                    , i = t.m(A.e());
                t.Ft(C, i, 3);
                var e = t.o9(i, A)
                    , a = t.m(e.e() * 4);
                t.rd(C, A, a, e);
                q.aE = [a, e]
            }
            t.zU(q.aE)
        }
    }
        ;
    M.Vo = "0";
    M.Yn = "2";
    M.CH = "2.5";
    M.DJ = "3";
    M.ED = "4";
    M.Cx = "4.5";
    M.Nt = "4.6";
    M.Kb = "5";
    M.Ix = "5.5";
    M.Ny = "6";
    M.hb = "7";
    M.o2 = "7.5";
    M.sn = "8";
    M.zS = "9";
    M.xo = "9.3";
    M.Mj = "9.5";
    M.YD = "9.6";
    M.XG = "10";
    M.bq = "11";
    M.O7 = "12";
    M.D$ = "13";
    M.zx = "13.5";
    M.bg = "13.7";
    M.OI = "14";
    M.Vk = "14.5";
    M.AI = "15";
    M._Z = "16";
    M.bE = "17";
    M.sa = "18";
    M.CX = "19";
    M._5 = "19.5";
    M.i2 = "19.6";
    M.Pi = "19.7";
    M.tl = "20";
    M.zh = "21";
    M.Be = "21.5";
    M.XJ = "22";
    M.gE = "22.5";
    M.OU = "23";
    M.aml = "24";
    M.QJ = "25";
    M.dA = "26";
    M.fI = "27";
    M.gy = "28";
    M.N3 = "29";
    M.H0 = "30";
    M.JA = "31";
    M.tD = "32";
    M.cW = "33";
    M.KY = "34";
    M.Vr = "35";
    M.Tr = "36";
    M.vb = "36.5";
    M.D5 = "37";
    M.wA = "37.5";
    M.akJ = "37.6";
    M.vT = "38";
    M.wJ = "38.5";
    M.mA = "38.6";
    M.BO = "39";
    M.Hv = "40";
    M.w9 = "41";
    M.G6 = "42";
    M.uT = "50";
    M.M_ = "51";
    M.HG = "52";
    M.Ya = "53";
    M.KR = "54";
    M.fA = "54.5";
    M.so = "54.6";
    M.ly = "54.7";
    M._h = "54.8";
    M.mb = "55";
    M.Kh = "56";
    M.eu = "57";
    M.rA = "58";
    M.hS = "59";
    function bL() {
        this.depth = 0;
        this.index = -1;
        this.$ = null;
        this.ad0 = null;
        this.d9 = -1;
        this.children = null;
        this.parent = null;
        this.tF = null
    }
    bL.prototype.yb = function (Y, S) {
        if (this.depth != 0)
            Y.push(this.$.getName());
        if (this.children)
            for (var G = 0; G < this.children.length; G++)
                this.children[G].yb(Y, S);
        if (Y.length > S.w1.length)
            S.w1 = Y.slice(0);
        if (this.depth != 0)
            Y.pop()
    }
        ;
    bL.prototype.aiB = function () {
        var Y = 0;
        if (this.$.i4()) {
            for (var G = 0; G < this.children.length; G++)
                Y += this.children[G].aiB()
        } else if (this.$.buffer)
            Y += this.$.buffer.length;
        return Y
    }
        ;
    bL.prototype.TZ = function (Y) {
        var S = this.tF[Y];
        return this.tF[Y]
    }
        ;
    bL.prototype.kR = function (Y, S) {
        var h = this.$;
        if (!h.yj() || h.Ag(2) || h.Ag(31))
            return null;
        if (h.sQ()) {
            var q = h.r.rect.CO(Y);
            if (!q && h.r.color == 0)
                return
        }
        if (h.i4()) {
            for (var G = 0; G < this.children.length; G++) {
                var D = this.children[G];
                D.kR(Y, S)
            }
        } else if (h.rect.CO(Y))
            S.push(this.index)
    }
        ;
    bL.prototype.h4 = function (Y, S) {
        var h = this.$;
        if (!h.yj() || h.Ag(2) || h.Ag(31))
            return null;
        if (h.sQ()) {
            if (h.r.rect.uU(Y)) {
                if (!t.h4(Y, h.r.channel, h.r.rect))
                    return null
            } else if (h.r.color == 0)
                return null
        }
        if (h.i4()) {
            for (var G = this.children.length - 1; G >= 0; G--) {
                var D = this.children[G]
                    , q = D.h4(Y, S);
                if (q && S == null)
                    return q
            }
            return null
        } else if (h.add.TySh && h.rect.uU(Y) || t.aa8(Y, h.buffer, h.rect)) {
            if (S == null)
                return this;
            else
                S.push(this.index)
        }
        return null
    }
        ;
    bL.prototype.a99 = function (Y) {
        var S = this.$;
        if (!S.yj() || S.Ag(2) || S.Ag(31))
            return null;
        var h = S.add.vmsk;
        if (h && h.isEnabled) {
            var q = t.Y.h4(h.b, Y).Y8;
            if (q != -1)
                return {
                    abo: this,
                    akn: q
                }
        }
        if (S.i4()) {
            for (var G = this.children.length - 1; G >= 0; G--) {
                var D = this.children[G]
                    , H = D.a99(Y);
                if (H)
                    return H
            }
            return null
        }
        return null
    }
        ;
    bL.prototype.GR = function (Y, S) {
        Y.push(this.index);
        if (this.$.i4()) {
            Y.push(this.d9);
            if (S)
                if (this.$.wF == 1 && this.$.Qn().Pa == !1)
                    return;
            for (var G = 0; G < this.children.length; G++)
                this.children[G].GR(Y)
        }
    }
        ;
    bL.prototype.PG = function (Y, S, h) {
        var q = this.$, H, I;
        if (q.i4() && q.add.artb != null)
            S = q.aG();
        if (S.d > S.v) {
            H = h;
            I = Math.floor(h * (S.v / S.d))
        } else {
            H = Math.floor(h * (S.d / S.v));
            I = h
        }
        if (q.uy() && q.add.vmsk == null || q.add.TySh)
            H = I = Math.max(I, 16);
        var E = I
            , d = q.uy() && q.add.vmsk;
        if (d) {
            var B = q.rect.clone(), z, p;
            if (B.fa())
                B = new W(0, 0, 20, 20);
            var n = B.d
                , g = B.v;
            if (n > g) {
                z = h;
                p = Math.floor(h * (g / n))
            } else {
                z = Math.floor(h * (n / g));
                p = h
            }
            if (z * p == 0)
                z = p = 16;
            t.Xg.MV(q.lH, z, p, B, q.buffer, q.rect, !1);
            t.Xg.ajB(q.lH, z, p);
            E = p
        } else if (q.add.TySh) {
            t.Xg.amt(q.lH, E, E, q.add.TySh)
        } else if (q.add.SoCo) {
            E = Math.max(16, Math.min(H, I));
            t.Xg.a71(q.lH, E, E, q.add.SoCo)
        } else if (q.add.GdFl) {
            t.Xg.ali(q.lH, E, E, q.add.GdFl)
        } else if (q.add.PtFl) {
            t.Xg.abN(q.lH, E, E, q.add.PtFl, Y)
        } else if (dD.get(q.add) != null) {
            t.Xg.adQ(q.lH, E, E, q.add)
        } else if (q.add.SoLd) {
            t.Xg.MV(q.lH, H, I, S, q.buffer, q.rect, !1);
            t.Xg.agV(q.lH, H, I, q.add.SoLd)
        } else if (q.i4()) {
            E = 16
        } else {
            if (q.Ac())
                t.Xg.MV(q.lH, H, I, S, q.buffer, q.rect, !1);
            else {
                t.Xg.ajy(q.lH, E, E)
            }
        }
        var C = q.Qn();
        if (C)
            t.Xg.VE(q.aj8, H, I, S, C);
        if (q.ef() && q.$l(Y) && q.$l(Y).r) {
            var T = q.$l(Y).r;
            t.Xg.VE(q.aiu, H, I, S, T)
        }
        if (!d && q.add.vmsk) {
            t.Xg.VE(q.a6e, H, I, S, q.add.vmsk.Qn(), !0)
        }
        if (q.add.vmsk || C)
            E = Math.max(E, I);
        q.a6N = Math.max(E, 16);
        if (q.i4() && q.add.lsct == hg.fC)
            for (var G = 0; G < this.children.length; G++)
                this.children[G].PG(Y, S, h)
    }
        ;
    bL.prototype.bC = function (Y, S, h, q) {
        this.depth = h;
        var H = Y[S];
        if (q == null)
            q = [];
        this.tF = q;
        if (H.add.lsct == hg._q) {
            this.ad0 = H;
            this.d9 = S - 1;
            this.children = [];
            var G = S + 1;
            while (!0) {
                var I = Y[G];
                if (I == null)
                    console.log(G, Y.length);
                if (I.add.lsct == hg.fC || I.add.lsct == hg.N4) {
                    if (H.add.lyid == I.add.lyid)
                        H.add.lyid += 16777215;
                    this.$ = I;
                    this.index = G - 1;
                    q[this.index] = this;
                    q[S - 1] = this;
                    break
                }
                var E = new bL;
                E.parent = this;
                G = E.bC(Y, G, h + 1, q);
                this.children.push(E)
            }
            return G + 1
        } else {
            this.$ = H;
            this.index = S - 1;
            q[this.index] = this;
            return S + 1
        }
    }
        ;
    bL.prototype.Qm = function (Y, S, h, q) {
        var H = this.TZ(h)
            , I = Y;
        while (H.parent != null) {
            I = H.$.HZ(I, S, q);
            H = H.parent
        }
        return I
    }
        ;
    bL.prototype.i6 = function (Y, S) {
        var h = this.$
            , q = new W;
        if (!h.yj())
            return q;
        var H = h.Qn();
        if (h.i4())
            for (var G = 0; G < this.children.length; G++) {
                var I = this.children[G].i6(Y, !0);
                q = q.TG(I)
            }
        else if (dD.get(h.add) != null)
            q = h.sQ() && h.r.color == 0 ? h.r.i6().clone() : new W(0, 0, Y.d, Y.v);
        else if (h.uy() && h.add.vmsk && h.add.vmsk.isEnabled && h.add.vstk) {
            q = h.rect.clone()
        } else if (h.uy() && H && H.isEnabled && H.cd() != 0)
            q = new W(0, 0, Y.d, Y.v);
        else {
            q = h.ZA(Y, !1, !0);
            if (h.add.vmsk)
                q = t.a.Ca(q)
        }
        return S ? h.HZ(q, Y) : q
    }
        ;
    bL.prototype.kw = function (Y, S, h, q, H) {
        var I = this.$
            , E = av.em(I);
        if (!I.yj())
            return;
        if (I.opacity == 255) {
            this.cF(Y, S, h, q, H);
            return
        }
        var d = Y.slice(0);
        this.cF(d, S, h, q, H);
        t.Q.OA(d, S, Y, S, null, null, 0, h, I.opacity / 255, I.XC == "diss")
    }
        ;
    bL.prototype.cF = function (Y, S, h, q, H) {
        var I = this.$, E = av.em(I), d = dD.get(I.add) != null, z, T;
        if (I.i4() && I.XC == "pass" && !I.sQ() && !(H.length > 0 || E.fill != 1 || I.Xz())) {
            this.kk(Y, S, h, q);
            return
        }
        var B = I.i4() && I.XC == "pass" && (H.length > 0 || E.fill != 1 || I.Xz())
            , n = I.rect
            , g = I.buffer;
        if (I.i4()) {
            n = this.i6(q, !1);
            var p = t.m(n.e() * 4);
            z = t.m(n.e());
            this.kk(p, n, h, q);
            t.Ft(p, z, 3)
        } else if (d) {
            n = S.clone();
            z = t.m(n.e());
            z.fill(255)
        } else {
            n = I.rect;
            z = t.m(n.e());
            t.Ft(g, z, 3)
        }
        if (I.sQ()) {
            var C = I.r.Ga(n);
            t._y(C, z)
        }
        if (I.Xz())
            T = av.wb(I.add.lmfx, I.add.fxrp, z, n, q);
        if (I.Xz())
            av.S9(I.add.lmfx, T, n, Y, S, h);
        if (I.i4()) {
            g = t.m(n.e() * 4);
            if (I.XC == "pass")
                t.rd(Y, S, g, n);
            if (B) {
                var p = t.m(n.e() * 4);
                this.kk(p, n, h, q);
                var A = t.m(n.e());
                t.Ft(p, A, 3);
                t.jK(A, n, g, n)
            }
            this.kk(g, n, h, q)
        }
        if (d) {
            g = Y.slice(0);
            t.A5(g, 4278190080, 16777215);
            var i = dD.get(I.add)
                , e = dD.HA(i, I.add[i]);
            dD.Cu(e, g, g, n)
        }
        var a = g.slice(0);
        t.A5(a, 4278190080, 16777215);
        for (var G = 0; G < H.length; G++)
            H[G].kw(a, n, h, q, []);
        var Z = t.m(n.e() * 4);
        t.rd(Y, S, Z, n);
        if (d)
            E.x6 = !0;
        t.Q.Bc(I.XC == "pass" ? "norm" : I.XC, a, n, Z, n, h, 1, E);
        if (I.Xz()) {
            var O = I.V.Y_.type.FrFX
                , c = null;
            if (O.length != 0) {
                c = O[0];
                for (var G = 0; G < O.length; G++)
                    if (O[G].Dj.d > c.Dj.d)
                        c = O[G];
                var s = t.m(c.Dj.d * c.Dj.v * 4);
                t.rd(Y, S, s, c.Dj)
            }
            av.yn(I.add.lmfx, T, n, Y, S, h, Z, s, c ? c.Dj : null)
        }
        t.Q.OA(Z, n, Y, S, z, n, 0, h, 1, I.XC == "diss")
    }
        ;
    bL.prototype.kk = function (Y, S, h, q) {
        var H = this.children;
        for (var G = 0; G < H.length; G++) {
            var I = [];
            for (var E = G + 1; E < H.length; E++)
                if (H[E].$.f6)
                    I.push(H[E]);
                else
                    break;
            H[G].kw(Y, S, h, q, I);
            G += I.length
        }
    }
        ;
    bL.va = {
        delete: function (Y) {
            if (Y && Y.d)
                Y.delete()
        },
        m: function (Y, S) {
            return Q.nc ? new Q.ho(Y, S) : t.m(Y * S * 4)
        },
        Gt: function (Y, S, h) {
            if (Q.nc) {
                if (Y == null || Y.d != S || Y.v != h) {
                    bL.va.delete(Y);
                    return new Q.ho(S, h)
                }
            } else {
                if (Y == null || !(Y instanceof Uint8Array) || Y.length != S * h * 4) {
                    bL.va.delete(Y);
                    return t.m(S * h * 4)
                }
            }
            return Y
        },
        m7: function (Y, S, h, q, H) {
            (Q.nc ? Q.Jb : t.rd)(Y, S, h, q, H)
        },
        OA: function (Y, S, h, q, H, I, E, d, G, B, n) {
            (Q.nc ? Q.Q.Bg : t.Q.OA)(Y, S, h, q, H, I, E, d, G, B, n)
        },
        Bc: function (Y, S, h, q, H, I, E, d) {
            if (Q.nc)
                Q.Q.Nz(Y, S, h, q, H, I, E, d);
            else
                t.Q.Bc(Y, S, h, q, H, I, E, d)
        },
        A5: function (Y, S, h) {
            if (Q.nc) {
                Q.Mx(Y);
                Q.Ys(S, h)
            } else
                t.A5(Y, S, h)
        },
        ahq: function (Y, S, h, q, H) {
            if (Q.nc) {
                Q.Q.Bg(null, null, q, H, Y, S, h, H, 1, !1)
            } else {
                if (h == 255)
                    t.jK(Y, S, q, H);
                else {
                    var I = t.m(S.e());
                    t.qu(q, H, I, S);
                    t._y(Y, I);
                    t.A5(q, 0, 16777215);
                    t.xz(I, S, q, H)
                }
            }
        },
        N1: function (Y, S, h, q) {
            if (Q.nc)
                Q.Q.Bg(null, null, h, q, Y, S, 0, q, 1, !1);
            else
                t.N1(Y, S, h, q)
        }
    };
    bL.prototype.V$ = function (Y, S, h, q, H, I) {
        var E = typeof I == "number";
        if (!this.$.i4() && (E && this.index > I || !E && I.indexOf(this.index) == -1)) {
            return
        }
        var d = this.$
            , B = av.em(d)
            , n = bL.va
            , g = d.uy() ? d.Qn() : d.r;
        if (!d.yj())
            return;
        if (d.sQ() && g.rect.fa()) {
            return
        }
        if (d.add.vstk == null && this.i6(q, !1).fa() && d.add.artb == null) {
            return
        }
        var z = this.i6(q, !0).lF(h);
        if (!S.ma(h) && !h.CO(z) && d.add.artb == null)
            return;
        if (d.i4() && d.add.artb) {
            var p = d.aG();
            h = h.lF(p);
            var C = d.ps();
            if (C != 0) {
                if (Q.nc) {
                    Q.Mx(Y, h);
                    Q.Ys(C);
                    Q.Ys(C)
                } else
                    t.akg(Y, S, h, C)
            }
        }
        var T = bL.Ek(d, H, B);
        if (!T) {
            this.AM(Y, S, h, q, H, I);
            return
        }
        d.V.k$ = n.Gt(d.V.k$, z.d, z.v);
        n.m7(Y, S, d.V.k$, z, h);
        this.AM(d.V.k$, z, h, q, H, I);
        n.OA(d.V.k$, z, Y, S, null, null, 0, h, d.opacity / 255, d.XC == "diss", B.aW)
    }
        ;
    bL.Ek = function (Y, S, h) {
        if (h.aW[0] * h.aW[1] * h.aW[2] == 0)
            return !0;
        return Y.opacity != 255 && (S.length != 0 || Y.i4() || Y.Xz())
    }
        ;
    bL.acr = {
        V: {}
    };
    bL.prototype.AM = function (Y, S, h, q, H, I) {
        var E = this.$, d = av.em(E), B = dD.get(E.add) != null, n = bL.va, g = bL.Ek(E, H, d), z = g ? 1 : E.opacity / 255, p = E.uy() ? E.Qn() : E.r, C = E.i4() && E.XC == "pass" && !(H.length > 0 || d.fill != 1 || E.Xz()), T = !E.i4() && !B && !E.Xz() && H.length == 0, A = B && !E.Xz() && H.length == 0, c = null, s = null, x = null, v;
        if (C || T || A) {
            var i = Y
                , e = S;
            if (E.sQ()) {
                e = this.i6(q, !1);
                i = E.V.JS = n.Gt(E.V.JS, e.d, e.v);
                n.m7(Y, S, E.V.JS, e)
            }
            if (C)
                this.nH(i, e, h, q, I);
            if (T)
                n.Bc(E.XC, E.Xy(q), E.rect, i, e, h, z, d);
            if (A) {
                var a = E.sQ() && p.cd() == 0 ? p.i6().clone() : e.clone()
                    , Z = E.V;
                if (a.ma(new W(0, 0, q.d, q.v)))
                    Z = bL.acr;
                Z.Xq = this.Gc(i, e, Z.Xq, a, E.add);
                d.x6 = !0;
                n.Bc(E.XC, Z.Xq, a, i, e, h, z, d)
            }
            if (E.sQ())
                n.OA(i, e, Y, S, E.ed(), p.i6(), p.cd(), h, 1, E.XC == "diss");
            E.V.X_();
            return
        }
        var O = E.i4() && E.XC == "pass" && (H.length > 0 || d.fill != 1 || E.Xz())
            , a = E.rect;
        if (E.i4()) {
            a = this.i6(q, !1);
            x = E.V.Xq = n.Gt(E.V.Xq, a.d, a.v);
            n.A5(x, 0);
            this.nH(x, a, a, q, I);
            s = n.Gt(E.V._k, a.d, a.v);
            n.m7(x, a, s, a)
        } else if (B) {
            a = E.sQ() && p.cd() == 0 ? p.i6().clone() : S.clone();
            s = n.Gt(E.V._k, a.d, a.v);
            n.A5(s, 4294967295)
        } else {
            a = E.rect;
            c = E.Xy(q);
            s = n.Gt(E.V._k, a.d, a.v);
            n.m7(c, a, s, a)
        }
        E.V._k = s;
        if (E.sQ())
            n.ahq(E.ed(), p.i6(), p.cd(), s, a);
        if (E.Xz())
            if (E.V.u8 || E.V.H4 || E.V.pY != Q.nc || E.V.Lj || E.i4()) {
                var u = t.m(a.d * a.v);
                if (av.Zv(E.add.lmfx)) {
                    if (Q.nc) {
                        if (!E.i4() && E.Qn() == null && E.rect.ma(a))
                            t.Ft(E.buffer, u, 3);
                        else {
                            var y = t.m(a.d * a.v * 4);
                            s.get(y);
                            t.Ft(y, u, 3)
                        }
                    } else
                        t.Ft(s, u, 3)
                }
                if (E.V.H4 || E.V.pY != Q.nc || !t.ma(u, E.V.I2)) {
                    var j = null;
                    if (E.uy() && E.add.vmsk && E.add.vmsk.isEnabled && E.add.vmsk.Qn().color == 0)
                        j = E.add.vmsk.Qn().rect;
                    av.ajl(E.V.Y_, u, a, E.add.lmfx, E.add.fxrp, q, j);
                    E.V.I2 = u
                }
            }
        if (E.Xz())
            av.S9(E.add.lmfx, E.V.Y_, a, Y, S, h);
        if (E.i4()) {
            c = n.Gt(E.V.JS, a.d, a.v);
            n.A5(c, 0);
            if (E.XC == "pass")
                n.m7(Y, S, c, a);
            if (O)
                n.N1(x, a, c, a);
            this.nH(c, a, h, q, I);
            E.V.JS = c
        }
        if (B) {
            c = E.V.JS = this.Gc(Y, S, E.V.JS, a, E.add)
        }
        if (E.i4() || B)
            v = c;
        else {
            v = n.Gt(E.V.JS, a.d, a.v);
            n.m7(c, a, v, a, h);
            E.V.JS = v
        }
        n.A5(v, 4278190080, 16777215);
        for (var G = 0; G < H.length; G++)
            H[G].V$(v, a, h, q, [], I);
        var X = E.V.hk = n.Gt(E.V.hk, a.d, a.v);
        n.m7(Y, S, X, a, h);
        if (B)
            d.x6 = !0;
        n.Bc(E.XC == "pass" ? "norm" : E.XC, v, a, X, a, h, 1, d);
        if (E.Xz()) {
            var N = E.V.Y_.type.FrFX
                , V = null;
            if (N.length != 0) {
                V = N[0];
                for (var G = 0; G < N.length; G++)
                    if (N[G].Dj.d > V.Dj.d)
                        V = N[G];
                E.V.Ee = n.Gt(E.V.Ee, V.Dj.d, V.Dj.v);
                n.m7(Y, S, E.V.Ee, V.Dj, h);
                E.V.zP = n.Gt(E.V.zP, V.Dj.d, V.Dj.v)
            }
            av.yn(E.add.lmfx, E.V.Y_, a, Y, S, h, X, E.V.Ee, E.V.zP, V ? V.Dj : null)
        }
        if (!Q.nc) {
            var $ = t.m(a.e());
            t.Ft(s, $, 3);
            s = $
        }
        n.OA(X, a, Y, S, s, a, 0, h, 1, E.XC == "diss");
        E.V.X_()
    }
        ;
    bL.prototype.Gc = function (Y, S, h, q, H) {
        var I = dD.get(H), E;
        if (I)
            E = dD.HA(I, H[I]);
        var d = bL.va;
        h = d.Gt(h, q.d, q.v);
        if (!(Q.nc && S.ma(q)))
            d.m7(Y, S, h, q);
        if (E) {
            if (Q.nc) {
                var B = q.clone();
                B.x = B.y = 0;
                if (S.ma(q)) {
                    Q.Mx(h, B);
                    dD.OG(E, Y.$Q, B)
                } else {
                    Q.Mx(h, q);
                    h.Pd(q);
                    dD.OG(E, h.we, B)
                }
            } else
                dD.Cu(E, h, h, q)
        }
        return h
    }
        ;
    bL.prototype.nH = function (Y, S, h, q, H) {
        var I = this.children;
        for (var G = 0; G < I.length; G++) {
            var E = [];
            for (var d = G + 1; d < I.length; d++)
                if (I[d].$.f6)
                    E.push(I[d]);
                else
                    break;
            I[G].V$(Y, S, h, q, E, H);
            G += E.length
        }
    }
        ;
    function dh(Y) {
        this.wa = "psd";
        this.OH = !1;
        this.name = Y;
        this.PJ = -1;
        this.UI = null;
        this.MP = null;
        this.K9 = null;
        this.JV = null;
        this.d = 0;
        this.v = 0;
        this.t = [];
        this.aR = {};
        this.add = {};
        this.buffer = null;
        this.bD = 4;
        this.i1 = null;
        this.PW = 72;
        this.wH = {};
        this.C = [];
        this.E9 = [[], []];
        this.r1 = [];
        this.MJ = [];
        debugger
        this._b = [dh.KK("Work Path")];
        this.IO = [];
        this.Fj = null;
        this.bL = {
            classID: "CompList",
            list: {
                t: "VlLs",
                v: []
            }
        };
        this.root = null;
        this.Hb = null;
        this.Wm = !1;
        this.a1w = !1;
        this.la = !1;
        this.P5 = !1;
        this.Yw = !1;
        this.P7 = !1;
        this.Dn = !1;
        this.W6 = !1;
        this.Pm = !1;
        this.u8 = null;
        this.Sg = null;
        this.LM = {};
        this.N = null;
        this.h3 = [];
        this.AN = [];
        this.K = {
            sH: {},
            iF: [],
            ab6: [],
            VO: [],
            tZ: [],
            cv: null,
            ds: null,
            Yi: null,
            mC: null,
            nS: [],
            NS: []
        };
        this.history = [new fj([1, 0], null)];
        this.Zj = 0;
        this.Kr = 0;
        this.z = new gw(this)
    }
    dh.prototype.ns = function () {
        var Y = this.h3
            , S = this.h3.length;
        if (S != 0 && Y[S - 1].name == "Quick Mask")
            return Y[S - 1]
    }
        ;
    dh.prototype.tV = function () {
        return this.wa == P.Iq("% |/!)") || this.wa == P.V1("gP")
    }
        ;
    dh.prototype.Eo = function (Y) {
        this.add.artd = {
            classID: "null",
            Cnt: {
                t: "long",
                v: Y
            },
            autoExpandOffset: {
                t: "Objc",
                v: {
                    classID: "Pnt",
                    Hrzn: {
                        t: "doub",
                        v: 0
                    },
                    Vrtc: {
                        t: "doub",
                        v: 0
                    }
                }
            },
            origin: {
                t: "Objc",
                v: {
                    classID: "Pnt",
                    Hrzn: {
                        t: "doub",
                        v: 0
                    },
                    Vrtc: {
                        t: "doub",
                        v: 0
                    }
                }
            },
            canvasColorMode: {
                t: "enum",
                v: {
                    canvasColorType: "Cstm"
                }
            },
            canvasColor: {
                t: "Objc",
                v: {
                    classID: "RGBC",
                    Rd: {
                        t: "doub",
                        v: 220
                    },
                    Grn: {
                        t: "doub",
                        v: 220
                    },
                    Bl: {
                        t: "doub",
                        v: 220
                    }
                }
            },
            autoExpandEnabled: {
                t: "bool",
                v: !0
            },
            autoNestEnabled: {
                t: "bool",
                v: !0
            },
            autoPositionEnabled: {
                t: "bool",
                v: !0
            }
        }
    }
        ;
    dh.prototype.Af = function (Y) {
        if (this.add.FEid == null)
            this.add.FEid = [];
        if (this.add.FEid.indexOf(Y) == -1)
            this.add.FEid.push(Y)
    }
        ;
    dh.prototype.Yh = function (Y) {
        var S = this.add.FEid.indexOf(Y);
        this.add.FEid.splice(S, 1);
        if (this.add.FEid.length == 0)
            delete this.add.FEid
    }
        ;
    dh.prototype.s = function (Y) {
        if (Y == null)
            Y = new W(0, 0, this.d, this.v);
        if (this.u8 == null)
            this.u8 = Y;
        else
            this.u8 = this.u8.TG(Y)
    }
        ;
    dh.prototype.a67 = function (Y) {
        return this.u8 != null
    }
        ;
    dh.prototype.Hj = function (Y) {
        var S = this.t[Y]
            , h = this.root.TZ(Y);
        if (h == null)
            return !1;
        if (S.i4() || h.parent.children.indexOf(h) == 0)
            return !1;
        return !0
    }
        ;
    dh.a3M = function (Y) {
        if (Y.add.lnk2)
            for (var G = 0; G < Y.add.lnk2.length; G++) {
                var S = Y.add.lnk2[G]._z;
                Y.add.lnk2[G]._z = dh.$C() + S.slice(8);
                for (var h = 0; h < Y.t.length; h++) {
                    var q = Y.t[h].add.SoLd;
                    if (q && q.Idnt.v == S)
                        q.Idnt.v = Y.add.lnk2[G]._z
                }
            }
    }
        ;
    dh.prototype._w = function (Y, S, h) {
        Y.sort(function (z, p) {
            return z - p
        });
        var top = Y[Y.length - 1]
            , q = this.t.slice(0)
            , H = this.C.slice(0)
            , I = []
            , E = [];
        for (var G = 0; G < this.t.length; G++) {
            if (Y.indexOf(G) != -1)
                E.push(this.t[G]);
            else
                I.push(this.t[G])
        }
        this.HT(E);
        this.C = [];
        var d = this.root.i6(this, !0);
        if (S)
            d = d.lF(S);
        if (h)
            d = d.TG(h);
        if (d.fa())
            d = new W(0, 0, 100, 100);
        var B = new W(-d.x, -d.y, this.d, this.v)
            , n = new Uint8Array(eD.Oh("PSD").rr(this, 0, 0, [!0, !1]));
        this.HT(q);
        this.C = H;
        var g = new dh(this.t[top].getName());
        eD.Oh("PSD").C3(n.buffer, g);
        delete g.add.artd;
        g.E9 = [[], []];
        g.r1 = [];
        g.HT(g.t);
        dh.a3M(g);
        U.AQ.Yf(g, d);
        g.s();
        g.aj();
        g.Q3();
        return [g, d, I, top]
    }
        ;
    dh.prototype.my = function (Y, S, h) {
        var q = this._w(Y), H = q[0], I = q[1], E = q[2], top = q[3], d;
        if (h == "jpg")
            d = new Uint8Array(eD.Oh("JPG").rr([[H.Q3().buffer]], H.d, H.v, [80]));
        else
            d = new Uint8Array(eD.Oh("PSD").rr(H, null, null, [!0, !1]));
        if (S)
            E = this.t.slice(0);
        var B = this.IC(d, H.name, I.x, I.y);
        if (top == this.t.length - 1)
            E.push(B);
        else
            E.splice(S ? top + 1 : top - Y.length + 1, 0, B);
        this.HT(E);
        this.C = [E.indexOf(B)]
    }
        ;
    dh.$C = function () {
        var Y = "";
        for (var G = 0; G < 8; G++)
            Y += Math.floor(Math.random() * 16).toString(16);
        return Y
    }
        ;
    dh.prototype.pj = function (Y) {
        if (Y == null)
            return;
        if (this.add.Patt == null)
            this.add.Patt = [];
        var S = this.add.Patt;
        for (var G = 0; G < S.length; G++)
            if (S[G].id == Y.id)
                return;
        S.push(Y)
    }
        ;
    dh.prototype.IC = function (Y, S, h, q, H) {
        if (this.add.lnk2 == null)
            this.add.lnk2 = [];
        var I = null
            , z = !1;
        for (var G = 0; G < this.add.lnk2.length; G++)
            if (t.ma(Y, this.add.lnk2[G].raw)) {
                I = this.add.lnk2[G]._z;
                break
            }
        if (I == null) {
            var E = eD.hj(Y.buffer);
            I = dh.$C() + "-d71c-11e5-b1ae-a548a96e5f9f";
            var d = new M.zs;
            d._z = I;
            d.kf = E == "psd" ? "8BIM" : "    ";
            d.hg = S + "." + E;
            d.zH = E == "psd" ? "8BPB" : "    ";
            d.open = 0;
            d.raw = Y;
            d.type = "liFD";
            d.GN = 2;
            this.add.lnk2.push(d)
        }
        var B = this.Ky(I)
            , n = dh.$C() + "-d71c-11e5-b1ae-a548a96e5f9f"
            , g = this.rY();
        g.wN(S);
        if (B != null) {
            var p = g.rect = B.aE[1].clone();
            g.rect.offset(h, q);
            var C = Math.max(p.d / this.d, p.v / this.v)
                , z = H && C > 1.0001;
            if (z) {
                p.d = Math.round(p.d / C);
                p.v = Math.round(p.v / C);
                p.x = Math.round((this.d - p.d) / 2);
                p.y = Math.round((this.v - p.v) / 2)
            } else if (H && eD.hj(Y.buffer) == "pdf" && this.PW != 144) {
                var C = 144 / this.PW;
                p.d = Math.round(p.d / C);
                p.v = Math.round(p.v / C);
                z = !0
            }
            g.buffer = t.m(g.rect.e() * 4);
            if (!z)
                t.vx(B.aE[0], g.buffer)
        }
        g.add.SoLd = {
            classID: "null",
            Idnt: {
                t: "TEXT",
                v: I
            },
            Impr: {
                t: "Objc",
                v: {
                    __name: "None",
                    classID: "none"
                }
            },
            placed: {
                t: "TEXT",
                v: n
            },
            PgNm: {
                t: "long",
                v: 1
            },
            totalPages: {
                t: "long",
                v: 1
            },
            frameStep: {
                t: "Objc",
                v: {
                    classID: "null",
                    numerator: {
                        t: "long",
                        v: 0
                    },
                    denominator: {
                        t: "long",
                        v: 600
                    }
                }
            },
            duration: {
                t: "Objc",
                v: {
                    classID: "null",
                    numerator: {
                        t: "long",
                        v: 0
                    },
                    denominator: {
                        t: "long",
                        v: 600
                    }
                }
            },
            frameCount: {
                t: "long",
                v: 1
            },
            Annt: {
                t: "long",
                v: 16
            },
            Type: {
                t: "long",
                v: 2
            },
            Trnf: null,
            nonAffineTransform: null,
            warp: {
                t: "Objc",
                v: t.P8.m(g.rect)
            },
            Sz: {
                t: "Objc",
                v: {
                    classID: "Pnt",
                    Wdth: {
                        t: "doub",
                        v: g.rect.d
                    },
                    Hght: {
                        t: "doub",
                        v: g.rect.v
                    }
                }
            },
            Rslt: {
                t: "UntF",
                v: {
                    type: "#Rsl",
                    val: 72
                }
            }
        };
        var T = t.a.yP(g.rect).H;
        g.add.SoLd.Trnf = U.o.FQ(T);
        g.add.SoLd.nonAffineTransform = U.o.FQ(T);
        if (z)
            g.rH(this, !1);
        return g
    }
        ;
    dh.prototype.Q3 = function (Y) {
        if (Y != null) {
            this.s();
            this.aj(Y);
            var S = this.buffer;
            if (Q.nc)
                this.Hb.get(S);
            else
                S = S.slice(0);
            this.s();
            this.aj();
            return S
        }
        if (this.u8) {
            this.aj();
            this.u8 = null
        }
        if (Q.nc && this.Sg) {
            this.Hb.get(this.buffer);
            this.Sg = null;
            this.P7 = !0
        }
        return this.buffer
    }
        ;
    dh.prototype.TY = function () {
        for (var G = 0; G < this.t.length; G++)
            this.t[G].mI();
        this.s()
    }
        ;
    dh.prototype.V2 = function () {
        for (var G = 0; G < this.t.length; G++)
            if (this.t[G].add.lmfx)
                this.t[G].V.H4 = !0
    }
        ;
    dh.prototype.dL = function () {
        var Y = this.aR.r1044;
        if (Y == null) {
            Y = this.aR.r1044 = new Uint8Array(4);
            var S = 0;
            for (var G = 0; G < this.t.length; G++)
                S = Math.max(S, this.t[G].add.lyid);
            k._6(Y, 0, S)
        }
        var h = k.n(Y, 0);
        k._6(Y, 0, h + 1);
        return h + 1
    }
        ;
    dh.prototype.gH = function (Y, S, h) {
        if (Y == null)
            Y = !0;
        var q = this;
        if (q.AN.length != 0)
            return !0;
        if (q.C.length != 1) {
            if (Y)
                alert(q.C.length == 0 ? "Select a layer first." : "More than one layer selected.");
            return !1
        }
        return this.M1(Y, S, h)
    }
        ;
    dh.prototype.M1 = function (Y, S, h) {
        if (Y == null)
            Y = !0;
        if (S == null)
            S = !1;
        var q = this;
        if (q.AN.length != 0)
            return !0;
        for (var G = 0; G < q.C.length; G++) {
            var H = q.t[q.C[G]]
                , I = S || H.wF <= 0;
            if (H.add.lsct != null && H.add.lsct != hg._p && H.wF != 1) {
                if (Y)
                    alert(gx.get([15, 7, 2]));
                return !1
            }
            if (I && !H.Ac()) {
                if (Y)
                    alert(gx.get([15, 7, 2]));
                return !1
            }
            if (I && H.add.TySh) {
                return this.mF(Y, [15, 7, 3], h)
            }
            if (I && H.add.SoLd) {
                return this.mF(Y, [15, 7, 4], h)
            }
            if (H.Ag(1) || H.Ag(31)) {
                if (Y)
                    alert(gx.get([6, 57, 0]));
                return !1
            }
        }
        return !0
    }
        ;
    dh.prototype.mF = function (Y, S, h) {
        if (Y && typeof Y == "object") {
            var q = window.confirm(gx.get(S) + ". " + gx.get([6, 8]) + "?");
            if (q) {
                var H = new _(P.E.$_, !0);
                H.data = {
                    f0: "rasterizeLayer",
                    Jz: {
                        classID: "rasterizeLayer",
                        null: bw.wC("Lyr", !0)
                    }
                };
                Y.B(H)
            }
            return h ? q : !1
        }
        if (Y)
            alert(gx.get(S));
        return !1
    }
        ;
    dh.prototype.eH = function (Y) {
        var S = this.root.TZ(Y);
        if (S.parent)
            return S.$.yj() && this.eH(S.parent.index);
        else
            return S.$.yj()
    }
        ;
    dh.prototype.ZL = function (Y) {
        var S = this.root.TZ(Y);
        if (S == null)
            return null;
        var h = S.$;
        if (h.add.artb)
            return h.aG();
        if (S.parent)
            return this.ZL(S.parent.index);
        return null
    }
        ;
    dh.prototype.KS = function () {
        var Y = this.t[this.C[0]];
        if (Y.wF <= 0 && !Y.rect.CO(this.N.rect)) {
            alert("Selected area is empty.");
            return !1
        }
        if (this.C.length == 1 && this.N) {
            var S = t.m(this.N.channel.length);
            t.qu(Y.buffer, Y.rect, S, this.N.rect);
            t._y(this.N.channel, S);
            if (t.Aw(S, 0)) {
                alert("Selected area is empty.");
                return !1
            }
        }
        return !0
    }
        ;
    dh.prototype.Ai = function () {
        if (this.aR["r" + 1037] == null)
            this.OX(30);
        return k.Ii(this.aR["r" + 1037], 0)
    }
        ;
    dh.prototype.OX = function (Y) {
        if (this.aR["r" + 1037] == null)
            this.aR["r" + 1037] = new Uint8Array(4);
        if (k.Ii(this.aR["r" + 1037], 0) == Y)
            return;
        k.Mp(this.aR["r" + 1037], 0, Y);
        this.V2()
    }
        ;
    dh.prototype.tz = function () {
        if (this.aR["r" + 1049] == null)
            this.Lc(30);
        return k.Ii(this.aR["r" + 1049], 0)
    }
        ;
    dh.prototype.Lc = function (Y) {
        if (this.aR["r" + 1049] == null)
            this.aR["r" + 1049] = new Uint8Array(4);
        if (k.Ii(this.aR["r" + 1049], 0) == Y)
            return;
        k.Mp(this.aR["r" + 1049], 0, Y);
        this.V2()
    }
        ;
    dh.prototype.Al = function (Y) {
        if (this.add.lnk2 == null)
            return null;
        for (var G = 0; G < this.add.lnk2.length; G++)
            if (this.add.lnk2[G]._z == Y)
                return this.add.lnk2[G];
        return null
    }
        ;
    dh.prototype.a9P = function (Y) {
        var S = this.Al(Y);
        if (S == null)
            return !1;
        var h = eD.hj(S.raw.buffer);
        if (h == null)
            return !1;
        if (eD.Oh(h) != null || h == "psd")
            return !0;
        return !1
    }
        ;
    dh.prototype.Ky = function (Y, S, h, q) {
        var H = this.Al(Y);
        if (H == null)
            return null;
        H.Q3(S, h, q);
        if (H.aE)
            return H
    }
        ;
    dh.prototype.aj = function (Y) {
        if (Y == null)
            Y = 1e9;
        var S = this.d
            , h = this.v
            , q = new W(0, 0, S, h)
            , H = q.lF(this.u8);
        if (Q.nc && this.Hb == null)
            this.Hb = new Q.ho(S, h, !0);
        if (this.buffer == null || this.buffer.length != S * h * 4 || Q.nc && (this.Hb.d != S || this.Hb.v != h)) {
            this.buffer = t.m(S * h * 4);
            if (this.Hb)
                this.Hb.delete();
            if (Q.nc)
                this.Hb = new Q.ho(S, h, !0)
        }
        if (H.fa())
            return;
        if (!H.ma(q)) {
            if (!Q.nc) {
                var I = t.QO(H.e() * 4);
                t.rd(I, H, this.buffer, q)
            }
            if (Q.nc) {
                Q.Mx(this.Hb, H);
                Q.Ys(0)
            }
        } else {
            if (Q.nc) {
                this.Hb.set(null)
            } else {
                this.buffer.fill(0)
            }
        }
        var E = Date.now()
            , d = Q.nc ? this.Hb : this.buffer;
        this.root.V$(d, q, H, this, [], Y);
        this.Sg = this.u8.clone()
    }
        ;
    dh.prototype.rY = function (Y) {
        var S = new M;
        S.rect = new W(0, 0, 0, 0);
        S.buffer = t.m(1);
        S.add.luni = new aV(0, 0);
        if (Y != !0)
            S.add.lyid = this.dL();
        S.add.lsct = hg._p;
        S.add.lclr = 0;
        S.add.fxrp = new aV(0, 0);
        return S
    }
        ;
    dh.prototype.Ue = function (Y) {
        var S = this.rY(Y);
        S.wN("</Layer group>");
        S.add.lsct = hg._q;
        S.xa = 24;
        return S
    }
        ;
    dh.prototype.yw = function () {
        return this.Zj != this.Kr
    }
        ;
    dh.prototype._l = function (Y) {
        while (this.history.length > this.Zj + 1)
            this.history.pop();
        if (this.Kr > this.Zj)
            this.Kr = -1;
        if (Y.F.id != U.dN) {
            this.la = !0;
            if (this.bL.lastAppliedComp) {
                delete this.bL.lastAppliedComp;
                this.P7 = !0
            }
        }
        this.history.push(Y);
        this.Zj++;
        this.P7 = !0;
        var S = dq.nu() ? 60 : 30
            , h = 0;
        for (var G = this.history.length - 1; G >= 0; G--) {
            var q = this.history[G];
            if (q.h8)
                continue;
            h++;
            if (h == S) {
                this.Zj -= G;
                this.history = this.history.slice(G);
                break
            }
        }
    }
        ;
    dh.prototype.JK = function () {
        if (this.Zj != this.history.length - 1)
            return null;
        return this.history[this.history.length - 1]
    }
        ;
    dh.prototype.rf = function (Y, S, h, q) {
        if (Y == null)
            Y = !1;
        var H = S != null ? [S] : this.C.slice(0);
        if (q) {
            var I = [];
            for (var G = 0; G < H.length; G++) {
                var E = this.t[H[G]].BN;
                if (E != 0 && I.indexOf(E) == -1)
                    I.push(E)
            }
            for (var G = 0; G < this.t.length; G++) {
                var E = this.t[G].BN;
                if (E != 0 && I.indexOf(E) != -1 && H.indexOf(G) == -1)
                    H.push(G)
            }
        }
        var d = [];
        for (var G = 0; G < H.length; G++) {
            var B = this.oj(H[G], Y);
            for (var n = 0; n < B.length; n++)
                if (d.indexOf(B[n]) == -1)
                    d.push(B[n]);
            if (h) {
                var D = this.root.TZ(H[G]);
                while (D.parent != null && D.parent.parent != null) {
                    D = D.parent;
                    if (d.indexOf(D.index) == -1) {
                        d.push(D.index, D.d9)
                    }
                }
            }
        }
        return d
    }
        ;
    dh.prototype.LL = function (Y, S, h) {
        var q = this
            , H = q.rf(!1, Y, null, h);
        H.sort(function (a, Z) {
            return a - Z
        });
        var I = {};
        for (var E = 0; E < q.t.length; E++) {
            var d = q.t[E].getName();
            I[d] = !0
        }
        var B = [];
        for (var G = 0; G < H.length; G++) {
            var n = q.t[H[G]].clone(), A, i;
            n.add.lyid = q.dL();
            n.add.lspf = 0;
            if (n.ef()) {
                var g = n.$l(q)
                    , z = dh.zi(g);
                q.Af(z);
                n.add.SoLd.placed.v = z.id
            }
            n._A(q);
            var p = n.getName()
                , C = p.length;
            while (48 <= p.charCodeAt(C - 1) && p.charCodeAt(C - 1) <= 57)
                C--;
            var T = parseInt(p.slice(C));
            if (isNaN(T)) {
                if (p.endsWith(" copy")) {
                    T = 1;
                    A = p.slice(0, p.length - 5)
                } else {
                    T = 0;
                    A = p
                }
            } else if (p.slice(0, C).endsWith(" copy ")) {
                T = T;
                A = p.slice(0, C - 6)
            } else {
                T = 0;
                A = p
            }
            T++;
            while (!0) {
                i = A + " copy" + (T == 1 ? "" : " " + T);
                if (I[i] == null)
                    break;
                T++
            }
            var e = H.indexOf(this.root.TZ(H[G]).parent.index) != -1;
            if (S != !0 && !e)
                n.wN(i);
            I[i] = !0;
            B.push(n)
        }
        return B
    }
        ;
    dh.zi = function (Y) {
        return {
            id: dh.$C() + Y.id.slice(8),
            buffer: Y.buffer.slice(0),
            rect: Y.rect.clone(),
            r: Y.r ? Y.r.clone() : null
        }
    }
        ;
    dh.D6 = function (Y) {
        return {
            id: Y,
            rect: new W,
            buffer: t.m(1),
            r: new M.WB
        }
    }
        ;
    dh.KK = function (Y, S) {
        if (S == null)
            S = {
                vmsk: new M.cJ
            };
        if (S.vogk == null) {
            S.vogk = [];
            var h = t.Y.Id(S.vmsk.b);
            for (var q = 0; q < h; q++)
                S.vogk.push(t.tx.QO())
        }
        return {
            name: Y,
            Y8: 0,
            add: S
        }
    }
        ;
    dh.prototype.L1 = function (Y) {
        var S = []
            , h = []
            , q = this
            , I = 0;
        for (var G = 1; G < q._b.length; G++) {
            var H = q._b[G];
            H.Y8 = -1 - G;
            S.push(H);
            if (q.IO.indexOf(G) != -1)
                h.push(S.length - 1)
        }
        if (q._b[0].add.vmsk.b.length > 2) {
            var H = q._b[0];
            H.Y8 = -1;
            S.push(H);
            if (q.IO.indexOf(0) != -1)
                h.push(S.length - 1)
        }
        var E = q.Fj == null;
        if (E)
            q.Fj = [];
        for (var G = q.C.length - 1; G >= 0; G--) {
            var d = q.t[q.C[G]]
                , B = d.add.TySh;
            if (d.add.vmsk != null && (d.cI || d.uy())) {
                var H = dh.KK("\"" + d.getName() + "\" Shape Path", d.add);
                H.Y8 = q.C[G];
                S.push(H);
                if (E)
                    q.Fj.push(I);
                if (q.Fj.indexOf(I) != -1)
                    h.push(S.length - 1);
                I++
            }
            if (Y != !0 && B && B.add && t.P8.Oq(B.gO)) {
                var H = dh.KK("\"" + d.getName().slice(0, 10) + "..\" Text Path", B.add);
                H.Y8 = 1e6 + q.C[G];
                S.push(H);
                h.push(S.length - 1);
                I++
            }
        }
        if (h.length == 0 && Y) {
            q._b[0].Y8 = -1;
            q.IO = [0];
            h.push(S.length);
            S.push(q._b[0])
        }
        return [S, h]
    }
        ;
    dh.prototype.oj = function (G, Y) {
        var S = []
            , D = this.root.TZ(G);
        if (D)
            D.GR(S, Y);
        return S
    }
        ;
    dh.prototype.gQ = function () {
        this.root.PG(this, new W(0, 0, this.d, this.v), 32)
    }
        ;
    dh.prototype.HT = function (Y) {
        for (var G = 0; G < this.t.length; G++) {
            var S = this.t[G];
            if (Y.indexOf(S) == -1) {
                S.V.ain();
                S.s()
            }
        }
        this.t = Y.slice(0);
        this.Ko()
    }
        ;
    dh.prototype.Ko = function () {
        var Y = this.t
            , S = Y.length;
        this.root = new bL;
        var h = this.rY(!0);
        h.XC = "pass";
        h.add.lsct = hg.fC;
        var q = this.Ue(!0)
            , H = [q];
        for (var G = 0; G < S; G++)
            H.push(Y[G]);
        H.push(h);
        this.root.bC(H, 0, 0);
        if (this.C.length == 0)
            this.C = [S - 1]
    }
        ;
    dh.prototype.QQ = function () {
        if (this.C.length != 1)
            return;
        var Y = this.root.TZ(this.C[0]);
        while (Y.parent != null) {
            var S = Y.parent.$;
            S.add.lsct = hg.fC;
            Y = Y.parent
        }
        this.Yw = this.a5c = !0
    }
        ;
    dh.prototype.ahL = function () {
        this.Ko();
        var Y = [this.root]
            , hb = 0;
        while (Y.length != 0) {
            var top = Y.pop();
            hb++;
            if (top.$.add.lsct == hg.fC)
                for (var G = 0; G < top.children.length; G++)
                    Y.push(top.children[G])
        }
        if (hb > 1e3) {
            var S = this.root.children;
            for (var G = 0; G < S.length; G++)
                if (S[G].$.add.lsct == hg.fC)
                    S[G].$.add.lsct = hg.N4
        }
    }
        ;
    dh.f9 = function (Y, S, h, q, H) {
        var I = {
            __name: "Make",
            classID: "Mk",
            Nw: {
                t: "Objc",
                v: {
                    classID: "Dcmn",
                    Nm: {
                        t: "TEXT",
                        v: q
                    },
                    Md: {
                        t: "type",
                        v: {
                            classID: "RGBM"
                        }
                    },
                    Wdth: {
                        t: "UntF",
                        v: {
                            type: "#Rlt",
                            val: Y
                        }
                    },
                    Hght: {
                        t: "UntF",
                        v: {
                            type: "#Rlt",
                            val: S
                        }
                    },
                    Rslt: {
                        t: "UntF",
                        v: {
                            type: "#Rsl",
                            val: h
                        }
                    },
                    pixelScaleFactor: {
                        t: "doub",
                        v: 1
                    },
                    Fl: {
                        t: "enum",
                        v: {
                            Fl: H
                        }
                    },
                    Dpth: {
                        t: "long",
                        v: 8
                    },
                    profile: {
                        t: "TEXT",
                        v: "sRGB IEC61966-2.1"
                    }
                }
            }
        };
        return {
            f0: "make",
            Jz: I
        }
    }
        ;
    dh.a1T = function (Y, S) {
        var h = 0
            , q = 0
            , H = 72
            , I = S.a55
            , E = Y.preset && Y.preset.v == "Clipboard";
        if (E) {
            h = I.d;
            q = I.v
        } else {
            h = Y.Wdth.v.val;
            q = Y.Hght.v.val;
            H = Y.Rslt.v.val
        }
        var d = new dh((Y.Nm ? Y.Nm.v : gx.get([11, 7])) + ".psd");
        d.d = h;
        d.v = q;
        d.PW = H;
        var B = d.rY();
        B.wN("Background");
        d.HT([B]);
        B.add.lspf = 1 << 2;
        var n = Y.Fl ? Y.Fl.v.Fl : "Wht";
        if (n != "Trns") {
            var g = S.E$;
            g = (g & 255) << 16 | (g >>> 8 & 255) << 8 | g >>> 16;
            B.rect = new W(0, 0, h, q);
            B.buffer = t.m(h * q * 4);
            t.A5(B.buffer, {
                Wht: 4294967295,
                BckC: 255 << 24 | g
            }[n])
        }
        d.buffer = t.m(h * q * 4);
        return d
    }
        ;
    function gw(Y) {
        this.n3 = Y;
        this.S = 0;
        this.rE = 1;
        this.T = new aV(0, 0);
        this.m8 = new aV(0, 0);
        this.UZ = 0;
        this.L5 = [1, 1, 1];
        this.Eq = new W(0, 0, 1, 1);
        this.a4T = new W(0, 0, Y.d, Y.v);
        this.Tz = null;
        this.dK = null;
        this.pq = new Uint32Array(0);
        this.HW = null;
        this.Le = null;
        this.zd = t.m(0);
        this.bF = null;
        this.Ja = null
    }
    gw.prototype.x5 = function (Y) {
        var S = new d5
            , h = this.Eq
            , q = this.n3
            , H = Y ? this.rE : this.S
            , I = Y ? this.m8 : this.T
            , E = Math.round((h.d - q.d * H) / 2 + I.x)
            , d = Math.round((h.v - q.v * H) / 2 + I.y);
        S.translate(-E, -d);
        S.scale(1 / H, 1 / H);
        var B = q.d / 2
            , n = q.v / 2;
        S.translate(-B, -n);
        S.rotate(this.UZ);
        S.translate(B, n);
        return S
    }
        ;
    gw.prototype.Oi = function (Y) {
        var S = this.Eq
            , h = this.n3
            , q = Math.atan2(-Y.O, Y.R)
            , H = h.d / 2
            , I = h.v / 2;
        Y.translate(-H, -I);
        Y.rotate(-q);
        Y.translate(H, I);
        var E = 1 / Y.Fu();
        Y.scale(E, E);
        var d = -Y.TR
            , B = -Y.Un
            , n = Math.round(d - (S.d - h.d * E) / 2)
            , g = Math.round(B - (S.v - h.v * E) / 2);
        if (Math.abs(E - Math.round(E)) < 1e-6)
            E = Math.round(E);
        this.UZ = q;
        this.S = E;
        this.T = new aV(n, g)
    }
        ;
    gw.prototype.vl = function (Y, S) {
        var h = this.x5();
        return h.I_(new aV(Y, S))
    }
        ;
    gw.prototype.XV = function (Y, S) {
        var h = this.x5();
        h.fb();
        return h.I_(new aV(Y, S))
    }
        ;
    function ai() { }
    ai.order = "ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");
    ai.m6 = "ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
    ai.names = [[14, 4], [14, 9], [14, 1], [14, 3], [14, 8], [14, 5], [14, 6], [14, 7], [14, 2], [14, 0]];
    ai.Bz = ["DrSh", "IrSh", "SoFi", "GrFl", "FrFX"];
    ai.pJ = ["Clr"];
    ai.eK = "Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");
    ai.PV = ["Ptrn", "Scl", "Algn", "phase"];
    ai.m_ = {
        tt: "{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",
        Yt: "{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Two Color\",\"t\":\"TEXT\"},\"GrdF\":{\"v\":{\"GrdF\":\"CstS\"},\"t\":\"enum\"},\"Intr\":{\"v\":4096,\"t\":\"doub\"},\"Clrs\":{\"v\":[{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",
        gd: "{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Foreground to Background\",\"t\":\"TEXT\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",
        qc: "{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"
    };
    ai.m_.tt = "\"Clr\": " + ai.m_.tt;
    ai.m_.W = "\"Grad\":" + ai.m_.Yt + ",\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
    ai.m_.qc = "\"Ptrn\":" + ai.m_.qc + ",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
    ai.default = "{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
    ai.l_ = ["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}", "{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"}," + ai.m_.tt + "," + ai.m_.W + "," + ai.m_.qc + "}", "{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}", "{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}", "{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}", "{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"}," + ai.m_.tt + "}", "{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"}," + ai.m_.W + "}", "{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"}," + ai.m_.qc + "}", "{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}", "{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
    ai.W = {
        types: "Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),
        names: [[19, 0, 0], [19, 0, 1], [19, 0, 2], [19, 0, 3], [19, 0, 4], [19, 0, 5]]
    };
    ai.stroke = {
        types: ["InsF", "CtrF", "OutF"],
        names: [[19, 5, 2], [19, 5, 1], [19, 5, 0]],
        Px: ["SClr", "GrFl", "Ptrn"],
        ajU: [[13, 0], [12, 37], [12, 62]]
    };
    ai.t8 = {
        types: ["SfBL", "PrBL"],
        names: [[19, 1, 0], [19, 1, 1]],
        av: ["SrcC", "SrcE"],
        a9w: [[19, 5, 1], [12, 69]]
    };
    ai.hv = {
        types: ["OtrB", "InrB", "Embs", "PlEb", "strokeEmboss"],
        style: [[19, 2, 0], [19, 2, 1], [19, 2, 2], [19, 2, 3], [19, 2, 4]],
        TD: ["SfBL", "PrBL", "Slmt"],
        aiL: [[19, 3, 0], [19, 3, 1], [19, 3, 2]],
        dir: [[19, 4, 0], [19, 4, 1]]
    };
    ai.Ig = {
        Og: ["strokeStyleButtCap", "strokeStyleRoundCap", "strokeStyleSquareCap"],
        ZK: ["strokeStyleAlignInside", "strokeStyleAlignCenter", "strokeStyleAlignOutside"],
        join: ["strokeStyleMiterJoin", "strokeStyleRoundJoin", "strokeStyleBevelJoin"],
        bj: ["solidColorLayer", "gradientLayer", "patternLayer"],
        default: {
            classID: "strokeStyle",
            strokeStyleVersion: {
                t: "long",
                v: 2
            },
            strokeEnabled: {
                t: "bool",
                v: !1
            },
            fillEnabled: {
                t: "bool",
                v: !0
            },
            strokeStyleLineWidth: {
                t: "UntF",
                v: {
                    type: "#Pnt",
                    val: 4.38
                }
            },
            strokeStyleLineDashOffset: {
                t: "UntF",
                v: {
                    type: "#Pnt",
                    val: 0
                }
            },
            strokeStyleMiterLimit: {
                t: "doub",
                v: 100
            },
            strokeStyleLineCapType: {
                t: "enum",
                v: {
                    strokeStyleLineCapType: "strokeStyleButtCap"
                }
            },
            strokeStyleLineJoinType: {
                t: "enum",
                v: {
                    strokeStyleLineJoinType: "strokeStyleMiterJoin"
                }
            },
            strokeStyleLineAlignment: {
                t: "enum",
                v: {
                    strokeStyleLineAlignment: "strokeStyleAlignCenter"
                }
            },
            strokeStyleScaleLock: {
                t: "bool",
                v: !1
            },
            strokeStyleStrokeAdjust: {
                t: "bool",
                v: !1
            },
            strokeStyleLineDashSet: {
                t: "VlLs",
                v: []
            },
            strokeStyleBlendMode: {
                t: "enum",
                v: {
                    BlnM: "Nrml"
                }
            },
            strokeStyleOpacity: {
                t: "UntF",
                v: {
                    type: "#Prc",
                    val: 100
                }
            },
            strokeStyleContent: {
                t: "Objc",
                v: JSON.parse("{\"classID\":\"solidColorLayer\"," + ai.m_.tt + "}")
            },
            strokeStyleResolution: {
                t: "doub",
                v: 72
            }
        }
    };
    ai.DD = [{
        classID: "null",
        Clr: JSON.parse(ai.l_[5]).Clr
    }, {
        classID: "null",
        Grad: JSON.parse(ai.l_[6]).Grad,
        Dthr: {
            t: "bool",
            v: !1
        },
        Rvrs: {
            t: "bool",
            v: !1
        },
        Angl: {
            t: "UntF",
            v: {
                type: "#Ang",
                val: 60
            }
        },
        Type: {
            t: "enum",
            v: {
                GrdT: "Lnr"
            }
        },
        Algn: {
            t: "bool",
            v: !0
        },
        Scl: {
            t: "UntF",
            v: {
                type: "#Prc",
                val: 100
            }
        },
        Ofst: {
            t: "Objc",
            v: {
                classID: "Pnt",
                Hrzn: {
                    t: "UntF",
                    v: {
                        type: "#Prc",
                        val: 0
                    }
                },
                Vrtc: {
                    t: "UntF",
                    v: {
                        type: "#Prc",
                        val: 0
                    }
                }
            }
        }
    }, {
        classID: "null",
        Ptrn: JSON.parse(ai.l_[7]).Ptrn,
        Algn: {
            v: !0,
            t: "bool"
        },
        Scl: {
            v: {
                type: "#Prc",
                val: 100
            },
            t: "UntF"
        },
        phase: {
            v: {
                classID: "Pnt",
                Hrzn: {
                    v: 0,
                    t: "doub"
                },
                Vrtc: {
                    v: 0,
                    t: "doub"
                }
            },
            t: "Objc"
        }
    }];
    var av = {};
    av.aj0 = function (Y, S, h) {
        if (Y.fa())
            return;
        var q = t.Y.aok(Y.b);
        q.x = Math.floor(q.x * S);
        q.d = Math.ceil(q.d * S);
        q.y = Math.floor(q.y * h);
        q.v = Math.ceil(q.v * h);
        Y.rect = q;
        Y.channel = t.m(q.e());
        t.Eh.width = q.d;
        t.Eh.height = q.v;
        var H = t.Eq;
        H.fillStyle = "#ffffff";
        t.Y.af0(H, Y.b, S, h, -q.x, -q.y);
        H.fill();
        var I = H.getImageData(0, 0, q.d, q.v).data;
        t.Ft(I, Y.channel, 3)
    }
        ;
    av.qk = function (Y, S) {
        function h(Y, p) {
            if (Y == null)
                return null;
            var C = Y[p].v, T;
            if (C.length != 0) {
                T = C[0].v;
                if (!T.enab.v)
                    T = null
            }
            return T
        }
        var q = S.SoCo
            , H = S.GdFl
            , I = h(Y, "solidFillMulti")
            , E = h(Y, "gradientFillMulti");
        if (I == null && E == null)
            return [q, H];
        var d = av.aif;
        if (q && I && E == null) {
            var B = JSON.parse(JSON.stringify(q));
            B.Clr.v = d(I.Clr.v, q.Clr.v, I);
            return [B, null]
        }
        if (H && I && E == null) {
            var n = JSON.parse(JSON.stringify(H))
                , g = n.Grad.v.Clrs.v;
            for (var G = 0; G < g.length; G++) {
                var z = g[G].v.Clr;
                z.v = d(I.Clr.v, z.v, I)
            }
            return [null, n]
        }
        if (q && E) {
            var n = JSON.parse(JSON.stringify(E))
                , g = n.Grad.v.Clrs.v;
            for (var G = 0; G < g.length; G++) {
                var z = g[G].v.Clr;
                z.v = d(z.v, q.Clr.v, E)
            }
            return [null, n]
        }
        return [I, E]
    }
        ;
    av.a3h = {
        f2: t.m(4),
        g3: t.m(4),
        h: new W(0, 0, 1, 1)
    };
    av.aif = function (Y, S, h) {
        var q = iS.Gn(h.Md.v.BlnM)
            , H = h.Opct.v.val / 100
            , I = av.a3h;
        Y = t.W.cd(Y);
        S = t.W.cd(S);
        I.f2[0] = Y.h;
        I.f2[1] = Y.l;
        I.f2[2] = Y.O;
        I.f2[3] = 255;
        I.g3[0] = S.h;
        I.g3[1] = S.l;
        I.g3[2] = S.O;
        I.g3[3] = 255;
        t.Q.Bc(q, I.f2, I.h, I.g3, I.h, I.h, H);
        return {
            classID: "RGBC",
            Rd: {
                t: "doub",
                v: I.g3[0]
            },
            Grn: {
                t: "doub",
                v: I.g3[1]
            },
            Bl: {
                t: "doub",
                v: I.g3[2]
            }
        }
    }
        ;
    av.Lg = function (Y, S, h) {
        var q = Y;
        Y = Y.slice(0);
        var H = iS.LQ[iS.Qu.indexOf(S.Md.v.BlnM)]
            , I = t.W.cd(S.Clr.v)
            , E = 4278190080 | Math.round(I.O) << 16 | Math.round(I.l) << 8 | Math.round(I.h)
            , d = t.m(h.e() * 4);
        t.A5(d, E);
        t.Q.Bc(H, d, h, Y, h, h, S.Opct.v.val / 100);
        for (var G = 0; G < Y.length; G += 4)
            Y[G + 3] = q[G + 3];
        return Y
    }
        ;
    av.bT = function (Y, S) {
        var h = ["Sz", "blur", "Sftn", "Dstn"];
        for (var G = 0; G < ai.order.length; G++) {
            var q = ai.order[G]
                , H = Y[ai.m6[G]].v;
            for (var I = 0; I < H.length; I++) {
                var E = H[I].v;
                for (var d = 0; d < h.length; d++) {
                    var B = E[h[d]];
                    if (B) {
                        var n = B.v.val
                            , g = n;
                        g = Math.max(n == 0 ? 0 : 1, g * S);
                        if (q == "ChFX")
                            g = Math.min(g, 250);
                        if (q == "ebbl") {
                            if (h[d] == "blur")
                                g = Math.min(g, 250);
                            if (h[d] == "Sftn")
                                g = Math.min(g, 16)
                        }
                        B.v.val = Math.round(g)
                    }
                }
                if (q == "ebbl" || q == "patternFill" || q == "FrFX")
                    if (E.Ptrn && E.Scl)
                        E.Scl.v.val = Math.max(1, Math.min(1e3, E.Scl.v.val * S))
            }
        }
    }
        ;
    av.alO = function (Y, S, h) {
        var q = new W(-.5, -.5, 1, 1)
            , H = Y.add.lmfx;
        for (var G = 0; G < ai.order.length; G++) {
            var I = ai.order[G]
                , E = H[ai.m6[G]].v;
            for (var d = 0; d < E.length; d++) {
                var B = E[d].v, p;
                if (!B.enab.v)
                    continue;
                var n = B.blur ? B.blur.v.val + 1 : 0
                    , g = B.Ckmt ? B.Ckmt.v.val / 100 : 0
                    , z = Math.round(n * g);
                if (I == "DrSh" || I == "IrSh" && h) {
                    p = new W(-.5, -.5, 1, 1);
                    p.vo(n, n);
                    av.ha(p, B, S, 0)
                }
                if (I == "OrGl" || I == "IrGl" && h) {
                    p = new W(-.5, -.5, 1, 1);
                    p.vo(n, n)
                }
                if (I == "FrFX") {
                    var C = av.O$(B)
                        , T = C[1];
                    if (h)
                        T = Math.max(C[0], T);
                    p = new W(-.5, -.5, 1, 1);
                    p.vo(Math.ceil(T), Math.ceil(T))
                }
                if (I == "ebbl") {
                    var n = B.blur.v.val
                        , A = B.bvlS.v.BESl;
                    if (A == "Embs" || A == "PlEb")
                        n /= 2;
                    var i = ["OtrB", "InrB", "Embs", "PlEb", "strokeEmboss"]
                        , e = ["SfBL", "PrBL", "Slmt"]
                        , a = ["In", "Out"]
                        , Z = B.bvlT.v.bvlT != "SfBL" ? n : n * .43
                        , O = Math.round(n);
                    p = new W(-O - 1, -O - 1, 2 * O + 2, 2 * O + 2)
                }
                if (h && I == "ChFX") {
                    p = new W(-.5, -.5, 1, 1);
                    p.vo(n, n);
                    var c = p.clone();
                    av.ha(p, B, S, 0);
                    av.ha(c, B, S, Math.PI);
                    p = p.TG(c)
                }
                if (p)
                    q = q.TG(p)
            }
        }
        if (q.x != Math.ceil(q.x)) {
            q.x = Math.ceil(q.x);
            q.d -= 1
        }
        if (q.y != Math.ceil(q.y)) {
            q.y = Math.ceil(q.y);
            q.v -= 1
        }
        return q
    }
        ;
    av.O$ = function (Y) {
        var S = 0
            , h = 0
            , q = Y.Styl.v.FStl
            , H = Y.Sz.v.val;
        if (q == "OutF")
            h = H;
        if (q == "InsF")
            S = H;
        if (q == "CtrF")
            S = h = H / 2;
        return [S, h]
    }
        ;
    av.Sq = function (Y) {
        if (Y.all == null)
            return;
        for (var G = 0; G < Y.all.length; G++) {
            var S = Y.all[G];
            if (S.ox)
                S.ox.delete();
            if (S.TT)
                S.TT.delete();
            if (S.fY)
                S.fY.delete()
        }
    }
        ;
    av.ajl = function (Y, S, h, q, H, I, E) {
        av.Sq(Y);
        var d = av.wb(q, H, S, h, I, E);
        Y.type = d.type,
            Y.all = d.all;
        if (Q.nc)
            for (var G = 0; G < Y.all.length; G++) {
                var B = Y.all[G];
                B.ox = new Q.ho(B.sE.d, B.sE.v);
                B.ox.set(B.nP);
                delete B.nP;
                if (B.up) {
                    B.TT = new Q.tn(B.sE.d, B.sE.v);
                    B.TT.set(B.up);
                    delete B.up
                }
                if (B.JU) {
                    B.fY = new Q.tn(B.sE.d, B.sE.v);
                    B.fY.set(B.JU);
                    delete B.JU
                }
            }
    }
        ;
    av.Zv = function (Y) {
        for (var G = 0; G < ai.order.length; G++) {
            var S = ai.order[G]
                , h = ai.m6[G]
                , q = Y[h].v;
            for (var H = 0; H < q.length; H++) {
                var I = q[H].v;
                if (I.enab.v && ["patternFill", "GrFl", "SoFi"].indexOf(S) == -1)
                    return !0
            }
        }
        return !1
    }
        ;
    av.wb = function (Y, S, h, q, H, I) {
        if (I == null)
            I = q;
        var E = 0
            , d = 0;
        for (var G = 0; G < ai.order.length; G++) {
            var B = ai.order[G]
                , n = ai.m6[G]
                , g = Y[n].v;
            for (var z = 0; z < g.length; z++) {
                var p = g[z].v;
                if (B == "DrSh" && p.enab.v && p.Ckmt.v.val > 0 && p.blur.v.val > 0)
                    E = Math.max(E, Math.ceil(p.Ckmt.v.val * p.blur.v.val / 100));
                if (B == "OrGl" && p.enab.v && p.Ckmt.v.val > 0 && p.blur.v.val > 0 && p.GlwT.v.BETE == "SfBL")
                    E = Math.max(E, Math.ceil(p.Ckmt.v.val * p.blur.v.val / 100));
                if (B == "OrGl" && p.enab.v && p.blur.v.val > 0 && p.GlwT.v.BETE == "PrBL")
                    E = Math.max(E, p.blur.v.val);
                if (B == "FrFX" && p.enab.v && p.Sz.v.val > 0) {
                    if (p.Styl.v.FStl == "OutF")
                        E = Math.max(E, p.Sz.v.val);
                    if (p.Styl.v.FStl == "CtrF")
                        E = Math.max(E, Math.ceil(p.Sz.v.val / 2));
                    d = Math.max(d, av.O$(p)[1])
                }
            }
        }
        var C = new av.KE(h, q, E, av.Zv(Y))
            , T = -q.x
            , A = -q.y
            , i = {
                type: {},
                all: []
            };
        for (var e = 0; e < ai.order.length; e++) {
            var B = ai.order[e]
                , n = ai.m6[e];
            i.type[B] = [];
            for (var a = Y[n].v.length - 1; a >= 0; a--) {
                var Z = Y[n].v[a].v;
                if (!Z.enab.v)
                    continue;
                var O = Z.blur ? Z.blur.v.val : 0
                    , c = Z.Ckmt ? Z.Ckmt.v.val / 100 : 0
                    , s = O * c;
                if (B == "DrSh") {
                    var x = C.CA(s, O - s, !0)
                        , u = x.OQ
                        , y = x._;
                    y.offset(T, A);
                    av.qj(u, Z, !1);
                    av.ha(y, Z, H, 0);
                    var j = t.m(y.e() * 4);
                    av.ru(j, Z.Clr.v);
                    t.Vj(u, j, 3);
                    var v = {
                        nP: j,
                        sE: y,
                        D4: iS.Gn(Z.Md.v.BlnM),
                        wn: Z.Opct.v.val / 100,
                        a4r: Z.layerConceals.v
                    };
                    i.type[B].push(v);
                    i.all.push(v)
                }
                if (B == "IrSh") {
                    var x = C.CA(s, O - s, !1);
                    av.ha(x._, Z, H, 0);
                    var y = C.rect().clone()
                        , u = t.m(y.e());
                    u.fill(255);
                    t.m7(x.OQ, x._, u, y);
                    av.qj(u, Z, !0);
                    var j = t.m(y.e() * 4);
                    av.ru(j, Z.Clr.v);
                    t.Vj(u, j, 3);
                    y.offset(T, A);
                    var v = {
                        nP: j,
                        sE: y,
                        D4: iS.Gn(Z.Md.v.BlnM),
                        wn: Z.Opct.v.val / 100
                    };
                    i.type[B].push(v);
                    i.all.push(v)
                }
                if (B == "GrFl") {
                    var j = t.m(C.rect().e() * 4);
                    av.HO(Z, j, C.rect(), H, null, I);
                    var y = C.rect().clone();
                    y.offset(T, A);
                    var v = {
                        nP: j,
                        sE: y,
                        D4: iS.Gn(Z.Md.v.BlnM),
                        wn: Z.Opct.v.val / 100
                    };
                    i.type[B].push(v);
                    i.all.push(v)
                }
                if (B == "SoFi") {
                    var j = t.m(C.OQ().length * 4);
                    av.ru(j, Z.Clr.v);
                    var y = C.rect().clone();
                    y.offset(T, A);
                    var v = {
                        nP: j,
                        sE: y,
                        D4: iS.Gn(Z.Md.v.BlnM),
                        wn: Z.Opct.v.val / 100
                    };
                    i.type[B].push(v);
                    i.all.push(v)
                }
                if (B == "ebbl") {
                    var X = !1;
                    if (X)
                        console.log(Z);
                    var N = Date.now()
                        , V = Z.bvlS.v.BESl;
                    if (V == "strokeEmboss") {
                        var $ = Y.frameFXMulti.v;
                        if ($.length == 0)
                            continue;
                        $ = $[0].v;
                        if (!$.enab.v)
                            continue;
                        var w = $.Styl.v.FStl;
                        if (w == "OutF")
                            V = "OtrB";
                        if (w == "CtrF")
                            V = "Embs";
                        if (w == "InsF")
                            V = "InrB"
                    }
                    var O = Z.blur.v.val;
                    if (O == 0)
                        O = .7;
                    if (V == "Embs" || V == "PlEb")
                        O /= 2;
                    var m = ["OtrB", "InrB", "Embs", "PlEb", "strokeEmboss"]
                        , l = ["SfBL", "PrBL", "Slmt"]
                        , b = ["In", "Out"]
                        , K = Z.bvlT.v.bvlT != "SfBL" ? O : O * .45
                        , J = Math.round(O)
                        , R = C.rect().clone()
                        , r = R.clone();
                    r.vo(J, J);
                    var f = r.d
                        , gf = r.v
                        , aa = f * gf
                        , aA = t.m(aa);
                    t.m7(C.OQ(), R, aA, r);
                    var e5 = new Float64Array(aa)
                        , fk = new Float64Array(aa);
                    t.style.Xo(aA, e5, f, gf);
                    t.fb(aA);
                    t.style.Xo(aA, fk, f, gf);
                    if (X)
                        console.log("distTransform computed", Date.now() - N);
                    for (var G = 0; G < aa; G++)
                        fk[G] = fk[G] - e5[G];
                    for (var G = 0; G < aa; G++) {
                        var eY = fk[G];
                        if (eY < -K)
                            fk[G] = -K;
                        else if (eY > K)
                            fk[G] = K
                    }
                    if (X)
                        console.log("summing + cropping", Date.now() - N);
                    if (Z.bvlT.v.bvlT == "SfBL") {
                        var du = Math.pow(O * .21, 1.22);
                        if (!0)
                            du = Math.max(du, 2);
                        var dV = t.n8.Ve(du, 2);
                        t.n8.UY(fk, e5, r, dV[0] >>> 1);
                        t.n8.UY(e5, fk, r, dV[1] >>> 1)
                    }
                    if (X)
                        console.log("blurring", Date.now() - N);
                    var hy = fk
                        , bq = hy.slice(0);
                    if (Z.useShape.v) {
                        var i5 = Math.min(100, Z.Inpr.v.val + 1) / 100;
                        if (V != "OtrB" && V != "InrB")
                            i5 = 1;
                        var hX = t.hn.Ok(Z.MpgS.v.Crv.v, 2e3)
                            , bY = Math.round(2e3 / i5);
                        hX = t.hn.acQ(hX, bY, V == "InrB");
                        var ds = .5 / K;
                        for (var G = 0; G < aa; G++) {
                            var hV = hy[G]
                                , gF = .99999 * (hV + K) * ds;
                            hy[G] = -K + 2 * K * hX[~~(gF * (bY - 1))]
                        }
                        if (X)
                            console.log("applying shape", Date.now() - N)
                    }
                    if (Z.useTexture.v) {
                        var co = t.m(f * gf * 4);
                        av.u2(Z, co, r, H, S);
                        var c_ = t.m(f * gf);
                        t.ei(co, c_);
                        var a5 = t.m(f * gf);
                        t.n8.bc(c_, a5, r, 1);
                        c_ = a5;
                        var gb = O * Z.textureDepth.v.val * (1 / 100) * (1 / 255);
                        if (Z.InvT.v)
                            gb = -gb;
                        for (var G = 0; G < aa; G++)
                            hy[G] += -gb * c_[G];
                        if (X)
                            console.log("applying texture", Date.now() - N)
                    }
                    var iC = (Z.bvlT.v.bvlT == "SfBL" ? 1 : .5) * (Z.bvlD.v.BESs == "In" ? 1 : -1) * Z.srgR.v.val / 100;
                    for (var G = 0; G < aa; G++)
                        hy[G] *= iC;
                    if (X)
                        console.log("scaling", Date.now() - N);
                    var cC = Z.uglg && Z.uglg.v ? H.Ai() : Z.lagl.v.val;
                    cC = cC * (Math.PI / 180);
                    var aB = Z.uglg && Z.uglg.v ? H.tz() : Z.Lald.v.val;
                    aB = aB * (Math.PI / 180);
                    var cd = Math.cos(cC) * Math.cos(aB)
                        , dZ = -Math.sin(cC) * Math.cos(aB)
                        , en = Math.sin(aB)
                        , cD = new Float64Array(aa)
                        , hP = new Float64Array(aa)
                        , ea = V == "PlEb";
                    for (var fp = 0; fp < gf; fp++)
                        for (var bC = 0; bC < f; bC++) {
                            var G = fp * f + bC
                                , hG = 0
                                , b3 = 0
                                , ct = 1;
                            if (fp != 0 && fp != gf - 1 && bC != 0 && bC != f - 1) {
                                var fQ = hy[G - f - 1]
                                    , cj = hy[G - f + 1]
                                    , fJ = hy[G + f - 1]
                                    , cM = hy[G + f + 1];
                                hG = -.125 * (cj + 2 * hy[G + 1] + cM - (fQ + 2 * hy[G - 1] + fJ));
                                b3 = -.125 * (fJ + 2 * hy[G + f] + cM - (fQ + 2 * hy[G - f] + cj))
                            } else {
                                var cc = hy[G];
                                b3 = -(fp == 0 ? hy[G + f] - cc : fp == gf - 1 ? cc - hy[G - f] : .5 * (hy[G + f] - hy[G - f]));
                                hG = -(bC == 0 ? hy[G + 1] - cc : bC == f - 1 ? cc - hy[G - 1] : .5 * (hy[G + 1] - hy[G - 1]))
                            }
                            var cr = 1 / Math.sqrt(hG * hG + b3 * b3 + 1);
                            hG *= cr;
                            b3 *= cr;
                            ct *= cr;
                            var bZ = hG * cd + b3 * dZ + ct * en
                                , eb = bZ;
                            if (ea)
                                eb = -hG * cd - b3 * dZ + ct * en;
                            if (bZ > 0)
                                cD[G] = bZ;
                            if (eb > 0)
                                hP[G] = eb
                        }
                    if (X)
                        console.log("raycasting", Date.now() - N);
                    if (Z.Sftn.v.val != 0) {
                        t.n8.SL(cD, e5, r, Z.Sftn.v.val * .43);
                        var gL = e5
                            , e5 = cD
                            , cD = gL;
                        if (ea) {
                            t.n8.SL(hP, e5, r, Z.Sftn.v.val * .43);
                            var gL = e5
                                , e5 = hP
                                , hP = gL
                        } else
                            t.vx(cD, hP)
                    }
                    if (X)
                        console.log("softening", Date.now() - N);
                    var hX = t.hn.Ok(Z.TrnS.v.Crv.v, 1024);
                    for (var G = 0; G < aa; G++) {
                        cD[G] = hX[~~(cD[G] * 1024)];
                        hP[G] = hX[~~(hP[G] * 1024)]
                    }
                    if (X)
                        console.log("contour remap", Date.now() - N);
                    f = Math.round(f);
                    gf = Math.round(gf);
                    var fn = t.m(f * gf * 4);
                    av.ru(fn, Z.hglC.v);
                    var aq = t.m(f * gf * 4);
                    av.ru(aq, Z.sdwC.v);
                    var di = t.m(f * gf * 4);
                    av.ru(di, Z.hglC.v);
                    var ej = t.m(f * gf * 4);
                    av.ru(ej, Z.sdwC.v);
                    var cn = 1 / en
                        , aj = 1 / (1 - en)
                        , ds = 1 / K
                        , a6 = new Float64Array(1e3);
                    for (var G = 0; G < 1e3; G++)
                        a6[G] = Math.pow(G * .001, .2);
                    for (var fp = 0; fp < gf; fp++)
                        for (var bC = 0; bC < f; bC++) {
                            var G = fp * f + bC
                                , hJ = 4 * G + 3
                                , dv = 0
                                , bi = 0;
                            dv = cD[G];
                            bi = hP[G];
                            var cT = Math.max(0, Math.min(.9999, (bq[G] + K * .993) * ds));
                            cT = a6[Math.floor(cT * 1e3)];
                            var cO = cT * (1 - Math.min(1, dv * cn))
                                , bD = cT * (1 - Math.min(1, (1 - dv) * aj))
                                , hS = cT * (1 - Math.min(1, bi * cn))
                                , fi = cT * (1 - Math.min(1, (1 - bi) * aj));
                            aq[hJ] = Math.round(255 * cO);
                            fn[hJ] = Math.round(255 * bD);
                            ej[hJ] = Math.round(255 * hS);
                            di[hJ] = Math.round(255 * fi)
                        }
                    if (X)
                        console.log("baking textures", Date.now() - N);
                    r = C.rect().clone();
                    r.vo(J, J);
                    r.offset(T, A);
                    var em = {
                        a2b: Z.bvlS.v.BESl == "strokeEmboss"
                    };
                    if (["InrB", "Embs", "PlEb"].indexOf(V) != -1) {
                        em.sW = {
                            nP: fn,
                            sE: r,
                            D4: iS.Gn(Z.hglM.v.BlnM),
                            wn: Z.hglO.v.val / 100
                        };
                        em.m3 = {
                            nP: aq,
                            sE: r,
                            D4: iS.Gn(Z.sdwM.v.BlnM),
                            wn: Z.sdwO.v.val / 100
                        };
                        i.all.push(em.sW, em.m3)
                    }
                    if (["OtrB", "Embs", "PlEb"].indexOf(V) != -1) {
                        em.ZP = {
                            nP: di,
                            sE: r,
                            D4: iS.Gn(Z.hglM.v.BlnM),
                            wn: Z.hglO.v.val / 100
                        };
                        em.oJ = {
                            nP: ej,
                            sE: r,
                            D4: iS.Gn(Z.sdwM.v.BlnM),
                            wn: Z.sdwO.v.val / 100
                        };
                        i.all.push(em.ZP, em.oJ)
                    }
                    if (X)
                        console.log(Date.now() - N);
                    i.type[B].push(em)
                }
                if (B == "patternFill") {
                    var gA = C.rect()
                        , j = t.m(gA.e() * 4);
                    av.u2(Z, j, gA, H, S);
                    var y = gA.clone();
                    y.offset(T, A);
                    var v = {
                        nP: j,
                        sE: y,
                        D4: iS.Gn(Z.Md.v.BlnM),
                        wn: Z.Opct.v.val / 100
                    };
                    i.type[B].push(v);
                    i.all.push(v)
                }
                if (B == "ChFX") {
                    var j = t.m(C.OQ().length * 4);
                    av.ru(j, Z.Clr.v);
                    var O = Z.blur.v.val
                        , aK = C.rect().clone();
                    aK.vo(O, O);
                    var bR = t.m(aK.e())
                        , aP = t.m(aK.e());
                    t.m7(C.OQ(), C.rect(), aP, aK);
                    t.n8.NC(aP, bR, aK, O * .43);
                    var al = t.hn.fz(Z.MpgS.v.Crv.v, 256, !0);
                    t._Y(bR, al);
                    var d6 = t.m(C.OQ().length)
                        , hx = t.m(C.OQ().length)
                        , hn = C.rect().clone();
                    av.ha(hn, Z, H, 0);
                    t.m7(bR, aK, d6, hn);
                    hn = C.rect().clone();
                    av.ha(hn, Z, H, Math.PI);
                    t.m7(bR, aK, hx, hn);
                    var fX = d6.length;
                    for (var G = 0; G < fX; G++)
                        j[4 * G + 3] = Math.abs(d6[G] - hx[G]);
                    if (Z.Invr.v)
                        for (var G = 0; G < fX; G++)
                            j[4 * G + 3] = 255 - j[4 * G + 3];
                    var y = C.rect().clone();
                    y.offset(T, A);
                    var v = {
                        nP: j,
                        sE: y,
                        D4: iS.Gn(Z.Md.v.BlnM),
                        wn: Z.Opct.v.val / 100
                    };
                    i.type[B].push(v);
                    i.all.push(v)
                }
                if (B == "OrGl") {
                    var x;
                    if (Z.GlwT.v.BETE == "SfBL")
                        x = C.CA(s, O - s, !0);
                    else
                        x = C.cl(O, c, !0);
                    var u = x.OQ
                        , y = x._
                        , d1 = u.slice(0);
                    av.l8(u, Z);
                    var j = t.m(y.e() * 4);
                    if (Z.Grad == null) {
                        av.ru(j, Z.Clr.v);
                        av.qj(u, Z, !1)
                    } else {
                        av.qj(u, Z, null);
                        var h$ = {
                            gn: u,
                            Ld: 255,
                            IB: 0,
                            ku: y
                        };
                        av.HO(Z, j, y, H, h$);
                        var f9 = Z.Nose.v.val / 100
                            , e6 = y.d;
                        for (var G = 0; G < d1.length; G++) {
                            var cy = 255
                                , cN = d1[G];
                            if (cN < 32) {
                                var gZ = (cN + d1[G - 1] + d1[G + 1] + d1[G - e6] + d1[G + e6]) * .2 - 1;
                                cy = Math.min(255, Math.round(Math.max(0, gZ) * 8))
                            }
                            u[G] = cy
                        }
                        av.$L(u, Z)
                    }
                    t.Vj(u, j, 3);
                    y.offset(T, A);
                    var v = {
                        nP: j,
                        sE: y,
                        D4: iS.Gn(Z.Md.v.BlnM),
                        wn: Z.Opct.v.val / 100
                    };
                    i.type[B].push(v);
                    i.all.push(v)
                }
                if (B == "IrGl") {
                    var x;
                    if (Z.GlwT.v.BETE == "SfBL")
                        x = C.CA(s, O - s, !1);
                    else
                        x = C.cl(O, c, !1);
                    var u = x.OQ
                        , y = x._;
                    av.l8(u, Z);
                    if (Z.glwS.v.IGSr == "SrcC")
                        t.fb(u);
                    var j = t.m(y.e() * 4);
                    if (Z.Grad == null) {
                        av.ru(j, Z.Clr.v);
                        av.qj(u, Z, !0)
                    } else {
                        av.qj(u, Z, null);
                        var h$ = {
                            gn: u,
                            Ld: 255,
                            IB: 0,
                            ku: y
                        };
                        av.HO(Z, j, y, H, h$);
                        u.fill(255);
                        av.$L(u, Z)
                    }
                    t.Vj(u, j, 3);
                    y.offset(T, A);
                    var v = {
                        nP: j,
                        sE: y,
                        D4: iS.Gn(Z.Md.v.BlnM),
                        wn: Z.Opct.v.val / 100
                    };
                    i.type[B].push(v);
                    i.all.push(v)
                }
                if (B == "FrFX") {
                    var el = av.O$(Z)
                        , cx = el[0]
                        , gu = el[1]
                        , y = C.rect().clone()
                        , i7 = null
                        , gK = null;
                    y.vo(Math.ceil(d), Math.ceil(d));
                    if (gu > 0) {
                        var x = C.CA(gu, 0, !0);
                        gK = x.OQ;
                        if (gK.length < y.e()) {
                            gK = t.m(y.e());
                            t.m7(x.OQ, x._, gK, y)
                        }
                    }
                    if (cx > 0) {
                        var x = C.CA(cx, 0, !1);
                        i7 = t.m(y.e());
                        i7.fill(255);
                        t.m7(x.OQ, x._, i7, y)
                    }
                    y.offset(T, A);
                    var j = t.m(y.e() * 4)
                        , dp = Z.PntT.v.FrFl;
                    if (dp == "SClr")
                        av.ru(j, Z.Clr.v);
                    if (dp == "GrFl")
                        av.HO(Z, j, y, H, C.a8r(cx, gu));
                    if (dp == "Ptrn")
                        av.u2(Z, j, y, H, S);
                    var v = {
                        nP: j,
                        sE: y,
                        D4: iS.Gn(Z.Md.v.BlnM),
                        wn: Z.Opct.v.val / 100,
                        JU: gK,
                        up: i7
                    };
                    i.type[B].push(v);
                    i.all.push(v)
                }
            }
        }
        return i
    }
        ;
    av.Aq = function (Y) {
        var S = 1 / Math.sqrt(Y.x * Y.x + Y.y * Y.y + Y.GD * Y.GD);
        Y.x *= S;
        Y.y *= S;
        Y.GD *= S
    }
        ;
    av.ou = function (Y, S) {
        return {
            x: Y.y * S.GD - Y.GD * S.y,
            y: Y.GD * S.x - Y.x * S.GD,
            GD: Y.x * S.y - Y.y * S.x
        }
    }
        ;
    av.alp = function (Y, S) {
        return Y.x * S.x + Y.y * S.y + Y.GD * S.GD
    }
        ;
    av.$L = function (Y, S) {
        var h = S.Nose.v.val / 100;
        if (h > 0)
            for (var G = 0; G < Y.length; G++) {
                var q = Y[G];
                q = Math.min(510 - (1 + h) * t.style.tK(G), q);
                Y[G] = q
            }
    }
        ;
    av.em = function (Y) {
        var S = av.$N()
            , h = Y.s9
            , q = !1;
        for (var G = 0; G < 32; G += 8)
            if (h[G] + h[G + 1] + h[4] + h[5] != 0 || h[G + 2] + h[G + 3] + h[6] + h[7] != 1020)
                q = !0;
        if (q) {
            h = h.slice(0);
            for (var G = 0; G < 40; G += 4) {
                var H = h[G] / 255
                    , I = h[G + 1] / 255
                    , E = h[G + 2] / 255
                    , d = h[G + 3] / 255;
                h[G] = H - 1e-4;
                h[G + 1] = H == I ? 1e9 : 1 / (I - (H - 1e-4));
                h[G + 2] = E == d ? -1e9 : 1 / (E - (d + 1e-4));
                h[G + 3] = d + 1e-4
            }
        }
        var B = Y.add.iOpa != null ? Y.add.iOpa / 255 : S.fill
            , n = Y.add.vstk;
        if (n && !n.fillEnabled.v && (!n.strokeEnabled.v || n.strokeStyleLineWidth.v.val == 0))
            B = 0;
        return {
            fill: B,
            $P: q ? h : null,
            aW: Y.add.brst != null ? Y.add.brst : S.aW,
            aco: Y.add.knko != null ? Y.add.knko : S.aco,
            style: !1,
            x6: !1
        }
    }
        ;
    av.$N = function () {
        return {
            fill: 1,
            $P: null,
            aW: [1, 1, 1],
            aco: 0,
            style: !1,
            x6: !1
        }
    }
        ;
    av._O = function (Y, S) {
        if (S == null)
            return null;
        var h = Y.Idnt.v
            , q = null;
        for (var G = 0; G < S.length; G++)
            if (S[G].id == h)
                return S[G];
        return null
    }
        ;
    av.dd = function (Y, S, h) {
        var q = ["patternFillMulti", "ebblMulti", "frameFXMulti"];
        for (var G = 0; G < q.length; G++) {
            var H = Y.v[q[G]].v;
            for (var I = 0; I < H.length; I++)
                if (H[I].v.Ptrn)
                    S.pj(av._O(H[I].v.Ptrn.v, h))
        }
    }
        ;
    av.a4M = function (Y, S, h) {
        var q = ["patternFillMulti", "ebblMulti", "frameFXMulti"];
        for (var G = 0; G < q.length; G++) {
            var H = Y.v[q[G]].v;
            for (var I = 0; I < H.length; I++)
                if (H[I].v.Ptrn) {
                    var E = H[I].v.Ptrn.v
                        , d = av._O(E, h)
                        , B = av._O(E, S.add.Patt);
                    if (d == null && B)
                        h.push(B)
                }
        }
    }
        ;
    av.u2 = function (Y, S, h, q, H) {
        var I = av._O(Y.Ptrn.v, q.add.Patt);
        if (I != null && !h.fa()) {
            var E = I.ar
                , d = E[0]
                , B = E[1]
                , n = 0;
            t.zU(E);
            var g = Y.Scl.v.val / 100;
            while ((g < .3 || g == .5) && E[n + 2]) {
                g *= B.d / E[n + 3].d;
                n += 2;
                d = E[n];
                B = E[n + 1]
            }
            var z = t.scale.u2(d, B.d, B.v)
                , p = -h.x + Y.phase.v.Hrzn.v - 1
                , C = -h.y + Y.phase.v.Vrtc.v - 1;
            if (Y.Algn != null && !Y.Algn.v) { } else {
                p += H.x;
                C += H.y
            }
            t.scale.ad3(z, S, h.d, h.v, g, g, p + 1, C + 1)
        }
    }
        ;
    av.HO = function (Y, S, h, q, H, I) {
        if (I == null)
            I = h;
        var E = Y.Type ? Y.Type.v.GrdT : "shapeburst"
            , d = Y.Algn && Y.Algn.v ? I : new W(0, 0, q.d, q.v)
            , B = Y.Angl ? t.W.RR(Y, d) : [new aV(0, 0), new aV(100, 0)]
            , n = B[0].x
            , g = B[0].y
            , z = B[1].x - n
            , p = B[1].y - g
            , C = Math.sqrt(z * z + p * p);
        C = 1 / (2 * C * C);
        var T = [z * C, p * C, -p * C, z * C]
            , A = Y.Rvrs ? Y.Rvrs.v : !1
            , i = Y.Dthr ? Y.Dthr.v : !1;
        t.W.XH(Y.Grad.v, S, h, T, n, g, A, ai.W.types.indexOf(E), 0, 0, H, i)
    }
        ;
    av.a2C = function (Y, S) {
        for (var G = 0; G < Y.all.length; G++) {
            var h = Y.all[G];
            h.Dj = h.sE.clone();
            h.Dj.offset(S.x, S.y)
        }
    }
        ;
    av.S9 = function (Y, S, h, q, H, I) {
        var E = Q.nc ? av.Mv : av.C1;
        av.a2C(S, h);
        var d = S.type.DrSh;
        for (var G = 0; G < d.length; G++)
            if (!d[G].a4r)
                E(d[G], q, H, I)
    }
        ;
    av.yn = function (Y, S, h, q, H, I, E, d, B, n) {
        var g = h, z = Q.nc ? av.Mv : av.C1, p = Q.nc ? Q.Q.Bg : t.Q.OA, C;
        C = S.type.DrSh;
        for (var G = 0; G < C.length; G++)
            if (C[G].a4r)
                z(C[G], q, H, I);
        C = S.type.OrGl;
        for (var G = 0; G < C.length; G++)
            z(C[G], q, H, I);
        var T = "patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");
        for (var A = 0; A < T.length; A++) {
            var C = S.type[T[A]];
            for (var G = 0; G < C.length; G++)
                z(C[G], E, g, I)
        }
        var i = S.type.ebbl[0]
            , e = i != null && i.a2b;
        C = S.type.FrFX;
        for (var G = 0; G < C.length; G++) {
            var a = C[G];
            bL.va.m7(d, n, B, n, I);
            z(a, B, n, I);
            if (e && G == C.length - 1) {
                if (i.oJ)
                    z(i.oJ, B, n, I);
                if (i.ZP)
                    z(i.ZP, B, n, I);
                if (i.m3)
                    z(i.m3, B, n, I);
                if (i.sW)
                    z(i.sW, B, n, I)
            }
            if (a.up || a.TT)
                p(B, n, E, g, Q.nc ? a.TT : a.up, a.Dj, 0, I, 1);
            if (a.JU || a.fY)
                p(B, n, q, H, Q.nc ? a.fY : a.JU, a.Dj, 0, I, 1)
        }
        if (!e && i != null) {
            if (i.oJ)
                z(i.oJ, q, H, I);
            if (i.ZP)
                z(i.ZP, q, H, I);
            if (i.m3)
                z(i.m3, E, g, I);
            if (i.sW)
                z(i.sW, E, g, I)
        }
    }
        ;
    av.C1 = function (Y, S, h, q) {
        var H = av.$N();
        H.fill = Y.wn;
        H.style = !0;
        t.Q.Bc(Y.D4, Y.nP, Y.Dj, S, h, q, 1, H)
    }
        ;
    av.Mv = function (Y, S, h, q) {
        var H = av.$N();
        H.fill = Y.wn;
        H.style = !0;
        Q.Q.Nz(Y.D4, Y.ox, Y.Dj, S, h, q, 1, H)
    }
        ;
    av.l8 = function (Y, S) {
        var h = 1 - S.Inpr.v.val / 100
            , q = 1 + Math.tan(h * (Math.PI / 2))
            , H = Y.length;
        for (var G = 0; G < H; G++)
            Y[G] = Math.min(255, Math.round(Y[G] * q))
    }
        ;
    av.qj = function (Y, S, h) {
        var q = S.blur.v.val
            , H = Math.round(q * (S.Ckmt.v.val / 100));
        if (q > H) {
            var I = t.hn.fz(S.TrnS.v.Crv.v, 256, !0);
            t._Y(Y, I)
        }
        if (h != null && S.Nose.v.val > 0)
            t.style.vA(Y, S.Nose.v.val / 100, h)
    }
        ;
    av.ru = function (Y, S, h) {
        if (h == null)
            h = 255;
        var q = t.W.cd(S)
            , H = h << 24 | q.O << 16 | q.l << 8 | q.h
            , I = new Uint32Array(Y.buffer);
        I.fill(H)
    }
        ;
    av.ha = function (Y, S, h, q) {
        var H = S.uglg && S.uglg.v ? h.Ai() : S.lagl.v.val;
        H = H * Math.PI / 180 + q;
        var I = Math.cos(H) * S.Dstn.v.val
            , E = Math.sin(H) * S.Dstn.v.val;
        Y.x -= Math.round(I);
        Y.y += Math.round(E)
    }
        ;
    av.qW = function (Y) {
        if (Y == null)
            return null;
        var S = Y.frameFXMulti.v;
        if (S.length == 0)
            return null;
        S = S[0].v;
        var h = JSON.parse(JSON.stringify(ai.Ig.default));
        av.jo(S, h);
        return h
    }
        ;
    av.jo = function (Y, S) {
        var h = ai.stroke.Px.indexOf(Y.PntT.v.FrFl)
            , q = [ai.pJ, ai.eK, ai.PV][h]
            , H = S.strokeStyleContent.v = {
                classID: ai.Ig.bj[h]
            };
        for (var G = 0; G < q.length; G++)
            H[q[G]] = Y[q[G]];
        S.strokeEnabled = Y.enab;
        S.strokeStyleLineWidth = Y.Sz;
        S.strokeStyleLineAlignment.v.strokeStyleLineAlignment = ai.Ig.ZK[ai.stroke.types.indexOf(Y.Styl.v.FStl)];
        S.strokeStyleOpacity = Y.Opct;
        S.strokeStyleBlendMode = Y.Md
    }
        ;
    av.wL = function (Y, S) {
        var h = [];
        for (var G = 0; G < Y.length; G++)
            h.push({
                t: "UntF",
                v: {
                    type: "#Nne",
                    val: Math.round(Y[G] * S)
                }
            });
        return h
    }
        ;
    av.KE = function (Y, S, h, q) {
        this.HU = S.clone();
        this.acJ = S.clone();
        this.acJ.vo(h, h);
        if (q) {
            this.HU.vo(1, 1);
            this.K6 = t.m(this.HU.e());
            t.m7(Y, S, this.K6, this.HU)
        } else
            this.K6 = Y;
        this.Tq = null;
        this.bM = null;
        this.qi = null
    }
        ;
    av.KE.prototype.OQ = function () {
        return this.K6
    }
        ;
    av.KE.prototype.rect = function () {
        return this.HU
    }
        ;
    av.KE.prototype.Et = function () {
        return this.acJ
    }
        ;
    av.KE.prototype.c2 = function () {
        if (this.Tq)
            return this.Tq;
        this.Tq = this.OQ().slice(0);
        t.fb(this.Tq);
        return this.Tq
    }
        ;
    av.KE.prototype.EV = function () {
        if (this.bM)
            return this.bM;
        this.bM = new Float64Array(this.rect().e());
        t.style.Xo(this.c2(), this.bM, this.rect().d, this.rect().v);
        return this.bM
    }
        ;
    av.KE.prototype.Q8 = function () {
        if (this.qi)
            return this.qi;
        var Y = this.Et()
            , S = t.m(Y.e());
        t.m7(this.OQ(), this.rect(), S, Y);
        this.qi = new Float64Array(Y.e());
        t.style.Xo(S, this.qi, Y.d, Y.v);
        return this.qi
    }
        ;
    av.KE.prototype.a8r = function (Y, S) {
        var h = {
            Ld: -S,
            IB: Y,
            ku: null,
            gn: null
        };
        if (S == 0) {
            h.ku = this.rect();
            h.gn = this.EV();
            return h
        }
        var q = this.Q8().slice(0)
            , H = this.Et();
        h.ku = H;
        h.gn = q;
        for (var G = 0; G < q.length; G++)
            q[G] = -q[G];
        if (Y == 0)
            return h;
        var I = this.EV()
            , E = this.rect();
        for (var d = 0; d < E.v; d++)
            for (var B = 0; B < E.d; B++) {
                var n = d * E.d + B
                    , g = (d + E.y - H.y) * H.d + B + E.x - H.x;
                q[g] += I[n]
            }
        return h
    }
        ;
    av.KE.prototype.CA = function (Y, S, h) {
        var q = Math.ceil(Y + S)
            , H = {
                _: this.rect().clone(),
                OQ: null
            };
        H._.vo(q, q);
        H.OQ = t.m(H._.e());
        if (Y == 0 && S == 0)
            t.vx(h ? this.OQ() : this.c2(), H.OQ);
        else {
            var I = t.m(H._.e());
            t.m7(this.OQ(), this.rect(), I, H._);
            if (!h)
                t.fb(I);
            if (Y != 0) {
                if (h)
                    t.style.kT(I, H._, this.Q8(), this.Et(), Y);
                else
                    t.style.kT(I, H._, this.EV(), this.rect(), Y)
            }
            if (S != 0)
                t.n8.NC(I, H.OQ, H._, Math.max(1, S * .43));
            else
                H.OQ = I
        }
        return H
    }
        ;
    av.KE.prototype.cl = function (Y, S, h) {
        var q = Y * (S - .5)
            , H = {
                _: this.rect().clone(),
                OQ: null
            };
        if (h)
            H._.vo(Y, Y);
        H.OQ = t.m(H._.e());
        var I = H._.d
            , E = H._.v
            , d = h ? this.Q8() : this.EV()
            , B = h ? this.Et() : this.rect()
            , n = H._
            , g = n.lF(B)
            , I = g.d
            , E = g.v
            , z = g.x - n.x
            , p = g.y - n.y
            , C = g.x - B.x
            , T = g.y - B.y
            , A = 1 - S * 2;
        for (var i = 0; i < E; i++)
            for (var e = 0; e < I; e++) {
                var a = d[(i + T) * B.d + e + C]
                    , Z = a / Y;
                H.OQ[(i + p) * n.d + e + z] = Math.max(0, Math.min(255, 255 - 255 * ((Z + A) / (1 + A))))
            }
        return H
    }
        ;
    av.d6 = function (Y, S, h) {
        var q = Y.Lefx
            , H = Y.blendOptions;
        if (q) {
            var I = S.add.lmfx;
            if (h == null)
                h = I ? I.Scl.v.val : 100;
            S.add.lmfx = JSON.parse(JSON.stringify(q.v));
            av.bT(S.add.lmfx, h / S.add.lmfx.Scl.v.val);
            if (I)
                S.add.lmfx.Scl.v.val = I.Scl.v.val
        } else
            delete S.add.lmfx;
        if (H) {
            H = H.v;
            if (H.Md)
                S.XC = iS.Gn(H.Md.v.BlnM);
            if (H.Opct)
                S.opacity = Math.round(H.Opct.v.val * 255 / 100);
            if (H.fillOpacity)
                S.add.iOpa = Math.round(H.fillOpacity.v.val * 255 / 100);
            if (H.Blnd) {
                var E = [];
                for (var G = 0; G < 10; G++)
                    E.push(0, 0, 255, 255);
                var d = H.Blnd.v
                    , B = "SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
                for (var G = 0; G < d.length; G++) {
                    var n = d[G].v
                        , g = 8 * ["Gry", "Rd", "Grn", "Bl"].indexOf(n.Chnl.v[0].v.enum);
                    for (var z = 0; z < 8; z++) {
                        E[g + z] = n[B[z]].v
                    }
                }
                S.s9 = E
            }
        }
    }
        ;
    av.pQ = function (Y) {
        var S = "SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ")
            , h = []
            , q = Y.s9;
        for (var G = 0; G < 4; G++) {
            var H = G * 8;
            if (q[H] + q[H + 1] + q[H + 4] + q[H + 5] == 0 && q[H + 2] + q[H + 3] + q[H + 6] + q[H + 7] == 4 * 255)
                continue;
            var I = {
                t: "Objc",
                v: {
                    classID: "Blnd",
                    Chnl: {
                        t: "obj ",
                        v: [{
                            t: "Enmr",
                            v: {
                                classID: "Chnl",
                                typeID: "Chnl",
                                enum: ["Gry", "Rd", "Grn", "Bl"][G]
                            }
                        }]
                    }
                }
            };
            h.push(I);
            for (var E = 0; E < 8; E++)
                I.v[S[E]] = {
                    t: "long",
                    v: q[G * 8 + E]
                }
        }
        var d = {
            classID: "blendOptions"
        };
        if (Y.XC != "norm")
            d.Md = {
                t: "enum",
                v: {
                    BlnM: iS.zw(Y.XC)
                }
            };
        if (Y.opacity != 255)
            d.Opct = {
                t: "UntF",
                v: {
                    type: "#Prc",
                    val: Math.round(Y.opacity * 100 / 255)
                }
            };
        if (Y.add.iOpa != null)
            d.fillOpacity = {
                t: "UntF",
                v: {
                    type: "#Prc",
                    val: Math.round(Y.add.iOpa * 100 / 255)
                }
            };
        if (h.length != 0)
            d.Blnd = {
                t: "VlLs",
                v: h
            };
        var B = {
            Yg: {
                classID: "null",
                Idnt: {
                    t: "TEXT",
                    v: dh.$C() + "-bd9f-11d5-b8ba-b73f8571793d"
                },
                Nm: {
                    t: "TEXT",
                    v: "Custom Style"
                }
            },
            a7: {
                classID: "Styl",
                blendOptions: {
                    t: "Objc",
                    v: d
                }
            }
        }
            , n = Y.add.lmfx;
        if (n)
            B.a7.Lefx = {
                t: "Objc",
                v: n
            };
        return B
    }
        ;
    function gk() { }
    gk.vv = function (Y) {
        return JSON.parse(JSON.stringify(Y))
    }
        ;
    gk.CG = function (Y) {
        var S = gk.vv(gk.a9v)
            , h = S.Brsh.v;
        if (Y != null) {
            delete h.Hrdn;
            h.classID = "sampledBrush";
            h.Nm = {
                t: "TEXT",
                v: "layer.png"
            },
                h.sampledData = {
                    t: "TEXT",
                    v: Y
                }
        }
        return S
    }
        ;
    gk.a9v = {
        classID: "brushPreset",
        Nm: {
            t: "TEXT",
            v: "Custom Brush"
        },
        Brsh: {
            t: "Objc",
            v: {
                classID: "computedBrush",
                Dmtr: {
                    t: "UntF",
                    v: {
                        type: "#Pxl",
                        val: 15
                    }
                },
                Hrdn: {
                    t: "UntF",
                    v: {
                        type: "#Prc",
                        val: 100
                    }
                },
                Angl: {
                    t: "UntF",
                    v: {
                        type: "#Ang",
                        val: 0
                    }
                },
                Rndn: {
                    t: "UntF",
                    v: {
                        type: "#Prc",
                        val: 100
                    }
                },
                Spcn: {
                    t: "UntF",
                    v: {
                        type: "#Prc",
                        val: 25
                    }
                },
                Intr: {
                    t: "bool",
                    v: !0
                },
                flipX: {
                    t: "bool",
                    v: !1
                },
                flipY: {
                    t: "bool",
                    v: !1
                }
            }
        },
        useTipDynamics: {
            t: "bool",
            v: !1
        },
        useScatter: {
            t: "bool",
            v: !1
        },
        dualBrush: {
            t: "Objc",
            v: {
                classID: "dualBrush",
                useDualBrush: {
                    t: "bool",
                    v: !1
                }
            }
        },
        brushGroup: {
            t: "Objc",
            v: {
                classID: "brushGroup",
                useBrushGroup: {
                    t: "bool",
                    v: !1
                }
            }
        },
        useTexture: {
            t: "bool",
            v: !1
        },
        usePaintDynamics: {
            t: "bool",
            v: !1
        },
        useColorDynamics: {
            t: "bool",
            v: !1
        },
        Wtdg: {
            t: "bool",
            v: !1
        },
        Nose: {
            t: "bool",
            v: !1
        },
        Rpt: {
            t: "bool",
            v: !1
        }
    };
    gk.Aq = {};
    gk.Aq.check = function (Y) {
        var S = gk.Aq.Ls;
        for (var G = 0; G < S.length; G++)
            if (Y[S[G]] == null)
                Y[S[G]] = JSON.parse(gk.Aq.kl[S[G]]);
        var h = [];
        for (var G = 0; G < S.length; G++)
            h.push(S[G]);
        var q = gk.Aq.WA;
        for (var G = 0; G < q.length; G++) {
            var H = q[G][0]
                , I = q[G][1]
                , E = !0;
            for (var d = 0; d < H.length; d++)
                E = E && Y[H[d]].v == !0;
            if (E)
                for (var d = 0; d < I.length; d++) {
                    if (Y[I[d]] == null)
                        console.log("Missing conditional parameter " + I[d]);
                    else
                        h.push(I[d])
                }
        }
        for (var B in Y)
            if (h.indexOf(B) == -1)
                console.log("Extra parameter " + B);
        Y = Y.Brsh.v;
        S = gk.Aq.t7.Ls;
        for (var G = 0; G < S.length; G++)
            if (Y[S[G]] == null)
                Y[S[G]] = JSON.parse(gk.Aq.t7.kl[S[G]]);
        h = [];
        for (var G = 0; G < S.length; G++)
            if (Y[S[G]])
                h.push(S[G]);
            else
                console.log("Missing default parameter " + S[G]);
        q = gk.Aq.t7.a5L[Y.classID];
        for (var G = 0; G < q.length; G++)
            if (Y[q[G]] == null && q[G] != "dtipsGridSize" && q[G] != "dtipsErodibleTipHeightMap" && Y.a4p != 1)
                console.log("Missing conditional parameter " + q[G]);
            else
                h.push(q[G]);
        for (var B in Y)
            if (h.indexOf(B) == -1)
                console.log("Extra parameter " + B)
    }
        ;
    gk.Aq.FW = function (Y) {
        var S = gk.Aq.WA;
        for (var G = 0; G < S.length; G++) {
            var h = S[G][0]
                , q = S[G][1]
                , H = !0;
            for (var I = 0; I < h.length; I++)
                H = H && Y[h[I]] && Y[h[I]].v == !0;
            if (H) {
                for (var I = 0; I < q.length; I++)
                    if (Y[q[I]] == null) {
                        Y[q[I]] = JSON.parse(gk.Aq.kl[q[I]])
                    }
            } else
                for (var I = 0; I < q.length; I++)
                    if (Y[q[I]] != null) {
                        delete Y[q[I]]
                    }
        }
    }
        ;
    gk.Aq.t7 = {};
    gk.Aq.t7.Ls = "classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
    gk.Aq.t7.kl = {
        flipX: "{\"t\":\"bool\",\"v\":false}",
        flipY: "{\"t\":\"bool\",\"v\":false}"
    };
    gk.Aq.t7.a5L = {
        computedBrush: ["Hrdn", "Rndn"],
        sampledBrush: ["Nm", "Rndn", "sampledData"],
        dBrush: "Shp Dnst Lngt clumping thickness stiffness physics".split(" "),
        dTips: "dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")
    };
    gk.Aq.WA = [[["useTipDynamics"], "flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")], [["usePaintDynamics"], ["prVr", "opVr", "wtVr", "mxVr"]], [["useBrushPose"], "overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")], [["useTexture"], "TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")], [["useColorDynamics"], "clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")], [["useScatter"], ["Cnt", "countDynamics", "bothAxes", "scatterDynamics"]], [["useScatter", "bothAxes"], ["Spcn"]]];
    gk.Aq.Ls = "classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
    gk.Aq.kl = {
        useBrushSize: "{\"t\":\"bool\",\"v\":false}",
        useBrushPose: "{\"t\":\"bool\",\"v\":false}",
        brushGroup: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",
        flipX: "{\"t\":\"bool\",\"v\":false}",
        flipY: "{\"t\":\"bool\",\"v\":false}",
        brushProjection: "{\"t\":\"bool\",\"v\":false}",
        minimumDiameter: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",
        minimumRoundness: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",
        tiltScale: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",
        szVr: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
        angleDynamics: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
        roundnessDynamics: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
        prVr: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
        opVr: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
        wtVr: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
        mxVr: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
        overridePoseAngle: "{\"t\":\"bool\",\"v\":false}",
        overridePoseTiltX: "{\"t\":\"bool\",\"v\":true}",
        overridePoseTiltY: "{\"t\":\"bool\",\"v\":true}",
        overridePosePressure: "{\"t\":\"bool\",\"v\":true}",
        brushPosePressure: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",
        brushPoseTiltX: "{\"t\":\"long\",\"v\":0}",
        brushPoseTiltY: "{\"t\":\"long\",\"v\":0}",
        brushPoseAngle: "{\"t\":\"long\",\"v\":0}",
        TxtC: "{\"t\":\"bool\",\"v\":false}",
        interpretation: "{\"t\":\"bool\",\"v\":true}",
        textureBlendMode: "{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",
        textureDepth: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",
        minimumDepth: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",
        textureDepthDynamics: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
        Txtr: "{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",
        textureScale: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",
        InvT: "{\"t\":\"bool\",\"v\":false}",
        textureBrightness: "{\"t\":\"long\",\"v\":14}",
        textureContrast: "{\"t\":\"long\",\"v\":100}",
        Cnt: "{\"t\":\"doub\",\"v\":4}",
        countDynamics: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
        bothAxes: "{\"t\":\"bool\",\"v\":false}",
        scatterDynamics: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
        clVr: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
        H: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",
        Strt: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",
        Brgh: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",
        purity: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",
        colorDynamicsPerTip: "{\"t\":\"bool\",\"v\":false}"
    };
    function h_(Y, S) {
        this.a76 = Y;
        this.UZ = S == null ? 0 : S;
        this.dir = 0
    }
    h_.prototype.oQ = function (Y, S) {
        var h = this.a76
            , q = new aV(Y.x - h.x, Y.y - h.y)
            , H = new d5;
        H.rotate(-this.UZ);
        q = H.I_(q);
        if (this.dir == 0 && !h.ma(Y))
            this.dir = Math.abs(q.x) < Math.abs(q.y) ? 1 : 2;
        if (S.q(F.aY)) {
            if (this.dir == 1)
                q.x = 0;
            if (this.dir == 2)
                q.y = 0
        }
        H.fb();
        q = H.I_(q);
        var I = new aV(h.x + q.x, h.y + q.y);
        return I
    }
        ;
    function fU(Y, S, h, q, H, I, E, d) {
        this.r0 = S;
        this.SR = h;
        this.E$ = I;
        this.Qg = q;
        if (q.y_ == null)
            q.y_ = [!1, !0];
        this.Hx = null;
        this.Ju = null;
        this.ZY = 0;
        this.a2z = 0;
        this.a7A = 0;
        this.aF = 0;
        this.sU = 0;
        this.a08 = E;
        this.jJ = new W;
        this.Hi = new W;
        this.rect = new W;
        if (d != null) {
            this.nP = d
        } else {
            var B = fU.Tc;
            if (B.length != E.e() * 4)
                B = t.m(E.e() * 4);
            else
                B.fill(0);
            this.nP = fU.Tc = B
        }
        this.rect = E.clone();
        this.wq = [];
        this.gF = [];
        this.SG = null;
        this.jy = 0;
        this.O = null;
        this.tc = "";
        this.sM = null;
        this.Mi(Y, H)
    }
    fU.Tc = t.m(16);
    fU.prototype.Mi = function (Y, S) {
        this.jy = S;
        this.O = Y;
        this.tc = JSON.stringify(Y) + JSON.stringify(this.Qg.vy);
        this.sM = fU.al6(Y, this.r0, this.SR)
    }
        ;
    fU.prototype.moveTo = function (Y, S, h) {
        h = this.pM(h);
        this.ZY = h;
        var q = new aV(Y, S)
            , H = this.O.Brsh.v.Dmtr.v.val;
        this.Hx = q.clone();
        this.Ju = q.clone();
        this.SG = q.clone();
        this.wq = [Y, S];
        this.gF = [h];
        var I = this.Qg.y_;
        if (this.Qg.yS != fU.eZ)
            this.Fm(this.jN(q, this.a4() * (I[1] ? h : 1), this.Qg.xC * (I[0] ? h * .5 : 1), new aV(0, 0)));
        this.aF = q.clone()
    }
        ;
    fU.prototype.lineTo = function (Y, S, h) {
        h = this.pM(h);
        var q = this.wq
            , H = q.length
            , I = q[H - 2]
            , E = q[H - 1];
        if (Y == I && S == E)
            return;
        var d = this.O.Brsh.v.Dmtr.v.val
            , B = Math.ceil(d) + 1
            , n = new W(Math.round(I), Math.round(E), 0, 0);
        n.vo(B, B);
        var g = new W(Math.round(Y), Math.round(S), 0, 0);
        g.vo(B, B);
        this.LJ(n.TG(g));
        this.wq.push(Y, S);
        this.gF.push(h);
        H += 2;
        if (H >= 6)
            this.Fm(this.tk(H))
    }
        ;
    fU.prototype.pM = function (Y) {
        if (Y == null)
            Y = 1;
        Y = Math.max(.05, Math.min(5, Y));
        if (isNaN(Y)) {
            alert("Pressure is not a number");
            throw "e"
        }
        return Y
    }
        ;
    fU.prototype.Fm = function (Y) {
        this.jJ = Y;
        this.Hi = this.Hi.TG(Y)
    }
        ;
    fU.prototype.finish = function () {
        var Y = this.wq, S = Y.length, h;
        if (S == 4)
            h = this.Fl(Y[S - 2], Y[S - 1], this.gF[(S >> 1) - 1], !0);
        if (S > 4)
            h = this.tk(S + 2);
        if (h)
            this.Fm(h)
    }
        ;
    fU.prototype.tk = function (Y) {
        var S = this.wq
            , h = this.gF
            , q = S[Y - 6]
            , H = S[Y - 5]
            , I = S[Y - 4]
            , E = S[Y - 3]
            , d = h[(Y >> 1) - 3]
            , B = h[(Y >> 1) - 2]
            , n = new aV(0, 0)
            , g = new aV(0, 0);
        if (8 <= Y)
            n = fU.aS(S[Y - 8], S[Y - 7], q, H, I, E);
        if (Y <= S.length)
            g = fU.aS(S[Y - 2], S[Y - 1], I, E, q, H);
        var z = q + n.x
            , p = H + n.y
            , C = I + g.x
            , T = E + g.y
            , A = new W;
        for (var G = 0; G < 10; G++) {
            var i = (G + 1) * .1
                , e = 1 - i
                , a = e * e * e * q + 3 * i * e * e * z + 3 * i * i * e * C + i * i * i * I
                , Z = e * e * e * H + 3 * i * e * e * p + 3 * i * i * e * T + i * i * i * E
                , O = this.Fl(a, Z, d + i * (B - d));
            A = A.TG(O)
        }
        return A
    }
        ;
    fU.aS = function (Y, S, h, q, H, I) {
        var E = Y - h
            , d = S - q
            , B = H - h
            , n = I - q
            , g = Math.sqrt(E * E + d * d)
            , z = Math.sqrt(B * B + n * n)
            , p = Math.acos((E * B + d * n) / (g * z)) / Math.PI
            , C = .35
            , T = .1;
        p = T + p * (C - T);
        var A = H - Y
            , i = I - S
            , e = Math.sqrt(A * A + i * i)
            , a = p * z / e;
        return new aV(A * a, i * a)
    }
        ;
    fU.prototype.Fl = function (Y, S, h, q) {
        var H = new W
            , I = this.Qg.aov;
        if (I == null)
            I = 0;
        if (I == 0 || q) {
            H = this.T7(Y, S, h);
            return H
        }
        var E = this.SG
            , d = Y - E.x
            , B = S - E.y
            , n = Math.sqrt(d * d + B * B);
        d /= n;
        B /= n;
        if (n > I) {
            var g = E.x + d * (n - I)
                , z = E.y + B * (n - I);
            H = this.T7(g, z, h);
            this.SG.bm(g, z)
        }
        return H
    }
        ;
    fU.prototype.T7 = function (Y, S, h) {
        var q = new W
            , H = new aV(Y, S)
            , I = this.O.Brsh.v.Dmtr.v.val
            , E = this.Qg.yS
            , d = H.KB(this.Ju);
        d.normalize(1);
        var B = aV.kr(this.Ju, H)
            , n = -this.a2z
            , g = this.Ju.clone()
            , z = this.Qg.y_;
        while (!0) {
            var p = this.ZY + (h - this.ZY) * (Math.max(0, n) / B)
                , C = this.a4() * (z[1] ? p : 1)
                , T = this.ajE() * (C + this.a7A) / 2;
            if (E == fU.eZ)
                T = 1;
            if (n + T < B) {
                n += T;
                var A = new aV(this.Ju.x + d.x * n, this.Ju.y + d.y * n)
                    , a = 1;
                if (E == fU.eZ) {
                    var i = g.clone();
                    i.x += d.x > 0 ? 1 : -1;
                    var e = g.clone();
                    e.y += d.y > 0 ? 1 : -1;
                    if (aV.kr(i, A) < aV.kr(e, A))
                        A = i;
                    else
                        A = e;
                    n = aV.kr(A, this.Ju)
                }
                if (this.O.useScatter.v == !0) {
                    a = this.O.Cnt.v;
                    var Z = this.O.countDynamics.v.jitter.v.val / 100
                        , O = Z * (-1 + 2 * this.TL());
                    a += Math.round(a * O)
                }
                for (var G = 0; G < a; G++) {
                    var c = this.jN(A, C, this.Qg.xC * (z[0] ? p * .5 : 1), d);
                    q = q.TG(c)
                }
                g = A
            } else
                break
        }
        this.a2z = B - n;
        this.Ju = H;
        this.ZY = h;
        return q
    }
        ;
    fU.prototype.ajE = function () {
        var Y = this.O.Brsh.v
            , S = Y.Spcn.v.val
            , h = Math.max(5, Y.Rndn.v.val);
        return h / 100 * (S / 100)
    }
        ;
    fU.prototype.a4 = function () {
        var Y = this.O
            , S = Y.Brsh.v.Dmtr.v.val;
        if (Y.useTipDynamics.v) {
            var h = S * (Y.minimumDiameter.v.val / 100);
            S = h + (S - h) * (1 - this.TL() * (Y.szVr.v.jitter.v.val / 100))
        }
        return S
    }
        ;
    fU.prototype.jN = function (Y, S, h, q) {
        h = Math.min(1, h);
        var H = this.O
            , I = this.O.Brsh.v
            , E = I.Dmtr.v.val
            , d = this.Qg
            , B = d.yS
            , n = d.ahz
            , g = new d5;
        g.translate(-this.sM.Ru.d / 2, -this.sM.Ru.v / 2);
        g.scale(1 / this.sM.akb, 1 / this.sM.akb);
        g.scale(S / E, S / E);
        g.scale(1, Math.max(5, I.Rndn.v.val) / 100);
        if (H.useTipDynamics.v) {
            var z = H.minimumRoundness.v.val / 100;
            g.scale(1, z + (1 - z) * Math.round(100 - this.TL() * H.roundnessDynamics.v.jitter.v.val) / 100);
            g.rotate((-.5 + this.TL()) * 4 * Math.PI * (H.angleDynamics.v.jitter.v.val / 100))
        }
        g.rotate(I.Angl.v.val * (Math.PI / 180));
        if (H.useScatter.v) {
            var p = (-1 + 2 * this.TL()) * H.scatterDynamics.v.jitter.v.val / 100;
            g.translate(-p * S * q.y, p * S * q.x)
        }
        g.translate(Y.x, Y.y);
        var C = this.amw(g, Y);
        this.LJ(C.rect);
        var T = C.rect.clone();
        if (B == null) {
            var A = this.cd(H);
            t.A5(C.po, Math.round(A.O * 255) << 16 | Math.round(A.l * 255) << 8 | Math.round(A.h * 255) << 0, 4278190080);
            if (this.Hi.fa() && this.rect.ma(C.rect) && h == 1)
                this.nP = C.po.slice(0);
            else
                t.Q.a2U(C.po, C.rect, this.nP, this.rect, C.rect, h)
        }
        if (B == fU.eZ) {
            var i = new aV(C.rect.x + C.rect.d / 2, C.rect.y + C.rect.v / 2)
                , e = Math.round(i.x - this.aF.x)
                , a = Math.round(i.y - this.aF.y)
                , Z = C.rect.clone();
            Z.offset(-e, -a);
            var O = Z.lF(this.rect);
            O.offset(e, a);
            t.rd(this.nP, this.rect, C.po, Z);
            t.Q.zE(C.po, C.rect, this.nP, this.rect, C.tq, C.rect, h)
        }
        if (B == fU.XP || B == fU.oT || B == fU.ML) {
            var c = C.rect.lF(this.rect), s;
            if (c.ma(C.rect))
                s = C.tq;
            else {
                s = t.m(c.e());
                t.m7(C.tq, C.rect, s, c)
            }
            var x = t.m(c.e() * 4);
            t.rd(this.nP, this.rect, x, c);
            if (B == fU.oT) {
                var u = x.slice(0)
                    , y = t.Hd.Tt([-1, -1, -1, -1, 25, -1, -1, -1, -1]);
                t.Hd.FH(x, u, c.d, c.v, y, 0);
                t.vx(u, x)
            } else if (B == fU.ML) {
                var j = io.g4("UnsM");
                j.Amnt.v.val = 15;
                j.Thsh.v = 0;
                j.Rds.v.val = 5;
                var u = t.m(x.length);
                io.Cu("UnsM", {
                    buffer: x,
                    rect: c
                }, j, 0, 0, {
                    buffer: u,
                    rect: c
                });
                t.vx(u, x)
            } else {
                io.rG(1, t.n8.nk, x, c)
            }
            t.Q.zE(x, c, this.nP, this.rect, s, c, h)
        }
        this.a7A = S;
        this.aF = i;
        return T
    }
        ;
    fU.prototype.cd = function (Y) {
        var S = fU.BA(this.jy);
        if (Y.useColorDynamics && Y.useColorDynamics.v) {
            var h = 1 - this.TL() * Y.clVr.v.jitter.v.val / 100
                , q = fU.BA(this.E$);
            S.h = h * S.h + (1 - h) * q.h;
            S.l = h * S.l + (1 - h) * q.l;
            S.O = h * S.O + (1 - h) * q.O;
            var H = (-.5 + this.TL()) * Y.H.v.val / 100
                , I = (-1 + 2 * this.TL()) * Y.Strt.v.val / 100
                , E = (-1 + 2 * this.TL()) * Y.Brgh.v.val / 100
                , d = t.Yl(S.h, S.l, S.O);
            d.UR = (d.UR + H + 1) % 1;
            d.D1 = d.D1 + I;
            if (d.D1 < 0)
                d.D1 = -d.D1;
            if (d.D1 > 1)
                d.D1 = 1 - (d.D1 - 1);
            d.w1 = d.w1 + E;
            if (d.w1 < 0)
                d.w1 = -d.w1;
            if (d.w1 > 1)
                d.w1 = 1 - (d.w1 - 1);
            S = t.im(d.UR, d.D1, d.w1)
        }
        return S
    }
        ;
    fU.prototype.Aq = function (Y) {
        return Math.max(0, Math.min(1, Y))
    }
        ;
    fU.prototype.TL = function () {
        this.sU++;
        return fU.hash(this.sU)
    }
        ;
    fU.BA = function (Y) {
        return {
            h: (Y >> 16 & 255) / 255,
            l: (Y >> 8 & 255) / 255,
            O: (Y >> 0 & 255) / 255
        }
    }
        ;
    fU.hash = function (Y) {
        Y = Y ^ 61 ^ Y >> 16;
        Y = Y + (Y << 3);
        Y = Y ^ Y >> 4;
        Y = Y * 668265261;
        Y = Y ^ Y >> 15;
        return (Y & 16777215) / 16777215
    }
        ;
    fU.hf = [];
    fU.ana = function (Y, D) {
        var S = Y.Fu()
            , h = D.Fu();
        if (S < h) {
            var q = S;
            S = h;
            h = q
        }
        var H = Y.R - D.R
            , I = Y.O - D.O
            , E = Y.Pb - D.Pb
            , d = Y.RH - D.RH;
        return h != 0 && S - h < .025 && Math.max(H * H, I * I, E * E, d * d) <= .01
    }
        ;
    fU.prototype.amw = function (Y, S) {
        var h = null, I;
        for (var G = 0; G < fU.hf.length; G++)
            if (fU.hf[G].tc == this.tc) {
                h = fU.hf[G];
                fU.hf.splice(G, 1)
            }
        if (h == null)
            h = {
                oh: [],
                tc: this.tc,
                z9: 0,
                e: 0
            };
        var q = h.oh
            , H = this.Qg.vy;
        if (H) {
            Y = Y.clone();
            Y.TR = Math.floor(Y.TR);
            Y.Un = Math.floor(Y.Un)
        }
        var E = fU.kn(Y.TR, Y.Un);
        for (var G = 0; G < q.length; G++) {
            var d = q[G];
            if (!fU.ana(d.dM, Y))
                continue;
            if (fU.agF(d.Pl, E) < .2 || d.rect.e() > 2500) {
                I = d;
                break
            }
        }
        var B = Math.round(this.O.Brsh.v.Dmtr.v.val);
        if (I) {
            I.rect.x = Math.round(I.vt.x - I.dM.TR + Y.TR);
            I.rect.y = Math.round(I.vt.y - I.dM.Un + Y.Un);
            if (H) {
                I.rect.x = Math.round(S.x - I.rect.d / 2);
                I.rect.y = Math.round(S.y - I.rect.v / 2)
            }
            I.z9 = Date.now()
        } else {
            var n;
            if (H && B <= 3) {
                n = {
                    buffer: t.m(B * B * 4),
                    rect: new W(Math.round(S.x - B / 2), Math.round(S.y - B / 2), B, B)
                };
                t.A5(n.buffer, 4278190080)
            } else if (Y.R == 1 && Y.O == 0 && Y.Pb == 0 && Y.RH == 1) {
                n = {
                    buffer: this.sM.po,
                    rect: this.sM.Ru.clone()
                };
                n.rect.x = Math.round(Y.TR);
                n.rect.y = Math.round(Y.Un)
            } else
                n = U.o.dG([this.sM.po, this.sM.Ru], Y);
            if (H) {
                for (var G = 0; G < n.buffer.length; G++)
                    n.buffer[G] = n.buffer[G] > 127 ? 255 : 0
            }
            if (n == null)
                n = {
                    buffer: t.m(0),
                    rect: new W
                };
            var g = Y.TR - Math.floor(Y.TR)
                , z = Y.Un - Math.floor(Y.Un);
            I = {
                po: n.buffer,
                tq: t.m(n.rect.e()),
                rect: n.rect,
                vt: n.rect.clone(),
                dM: Y,
                Pl: fU.kn(Y.TR, Y.Un),
                z9: Date.now()
            };
            t.Ft(I.po, I.tq, 3);
            q.push(I);
            h.e += n.rect.e();
            if (q.length > 2e3 || h.e > 100 * 100 * 400) {
                console.log("pruning", h.e, q.length);
                q.sort(function (C, T) {
                    return T.z9 - C.z9
                });
                while (q.length > 1e3 || h.e > 100 * 100 * 200) {
                    var p = q.pop();
                    h.e -= p.rect.e()
                }
            }
        }
        h.oh = q;
        h.z9 = Date.now();
        fU.hf.push(h);
        fU.hf.sort(function (C, T) {
            return T.z9 - C.z9
        });
        while (fU.hf.length > 3)
            fU.hf.pop();
        return I
    }
        ;
    fU.kn = function (Y, S) {
        return new aV(Y - Math.floor(Y), S - Math.floor(S))
    }
        ;
    fU.agF = function (Y, S) {
        var h = S.x
            , q = S.y
            , H = Math.abs(h - Y.x)
            , I = Math.abs(q - Y.y);
        if (Math.abs(h - 1 - Y.x) < H)
            h--;
        else if (Math.abs(h + 1 - Y.x) < H)
            h++;
        if (Math.abs(q - 1 - Y.y) < I)
            q--;
        else if (Math.abs(q + 1 - Y.y) < I)
            q++;
        H = Y.x - h;
        I = Y.y - q;
        return Math.sqrt(H * H + I * I)
    }
        ;
    fU.prototype.LJ = function (Y) { }
        ;
    fU.al6 = function (Y, S, h) {
        var q, H, I, E = Y.Brsh.v.Dmtr.v.val;
        if (Y.Brsh.v.classID == "computedBrush") {
            var d = Y.Brsh.v.Hrdn.v.val / 100
                , B = 1 + .55 * (1 - d);
            I = E < 100 ? 1.2 : 1;
            var n = Math.round(I * E * B);
            H = new W(0, 0, n, n);
            q = t.m(n * n * 4);
            var g = new Uint32Array(q.buffer)
                , z = n / 2
                , p = B / z
                , C = Date.now()
                , T = fU.ec(d)
                , A = Math.round(8e3 / z)
                , S = T[0]
                , i = T[1] - A
                , e = T[2] + A
                , a = Math.min(n, (n >>> 1) + 1);
            for (var G = 0; G < a; G++) {
                var Z = p * (G - z + .25);
                Z *= Z;
                var O = p * (G - z + .75);
                O *= O;
                var c = G * n
                    , s = (n - 1 - G) * n;
                for (var x = 0; x < a; x++) {
                    var u = p * (x - z + .25)
                        , y = Math.floor(Math.sqrt(u * u + Z) * (4e3 / 1.55));
                    if (e < y)
                        continue;
                    else if (y < i) {
                        var j = 4278190080;
                        while (x < a) {
                            var v = n - 1 - x;
                            g[c + x] = j;
                            g[c + v] = j;
                            g[s + x] = j;
                            g[s + v] = j;
                            x++
                        }
                        break
                    } else {
                        var X = p * (x - z + .75)
                            , N = Math.floor(Math.sqrt(X * X + Z) * (4e3 / 1.55))
                            , V = Math.floor(Math.sqrt(u * u + O) * (4e3 / 1.55))
                            , $ = Math.floor(Math.sqrt(X * X + O) * (4e3 / 1.55))
                            , j = ~~(.5 + 255 * .25 * (S[y] + S[N] + S[V] + S[$])) << 24
                            , v = n - 1 - x;
                        g[c + x] = j;
                        g[c + v] = j;
                        g[s + x] = j;
                        g[s + v] = j
                    }
                }
            }
        }
        if (Y.Brsh.v.classID == "sampledBrush") {
            var w;
            for (var G = 0; G < S.length; G++)
                if (S[G].id == Y.Brsh.v.sampledData.v)
                    w = S[G];
            H = new W(0, 0, w._.d, w._.v);
            I = Math.max(H.d, H.v) / E;
            q = t.m(H.e() * 4);
            t.Vj(w.channel, q, 3)
        }
        while (Math.min(H.d, H.v) > E * 2) {
            var m = new W(H.x, H.y, Math.floor(H.d / 2), Math.floor(H.v / 2))
                , l = U.o.dG([q, H], new d5(m.d / H.d, 0, 0, m.v / H.v, 0, 0));
            I *= m.d / H.d;
            H = l.rect;
            q = l.buffer
        }
        return {
            akb: I,
            Ru: H,
            po: q
        }
    }
        ;
    fU.vz = [];
    fU.ec = function (Y) {
        if (fU.vz[Y])
            return fU.vz[Y];
        var S = Math.pow(Y, .55)
            , h = new Float64Array(8e3)
            , q = 0
            , H = 8e3;
        for (var G = 0; G < 8e3; G++) {
            var I = fU.ahs(G * (1.55 / 4e3), S);
            if (I >= 1)
                q = G;
            else if (I <= 0 && H == 8e3)
                H = G;
            h[G] = I
        }
        var E = [h, q, H];
        fU.vz[Y] = E;
        return E
    }
        ;
    fU.ahs = function (Y, S) {
        var h = Y < S ? 1 : fU.a3R((Y - S) / Math.pow(1.001 - S, .86));
        return h
    }
        ;
    fU.a3R = function (Y) {
        var S = Y * .85;
        return Math.exp(-(S * S) * (1 / (2 * .4 * .4))) * (1 / (.4 * Math.sqrt(2 * Math.PI)))
    }
        ;
    fU.prototype.i6 = function () {
        return this.rect.clone()
    }
        ;
    fU.prototype.sB = function () {
        return this.jJ.lF(this.rect)
    }
        ;
    fU.prototype.HK = function () {
        return this.Hi.lF(this.rect)
    }
        ;
    fU.prototype.ce = function () {
        return this.nP
    }
        ;
    fU.yD = null;
    fU.Jd = null;
    fU.PG = function (Y, S, h, q, H, I) {
        var E = fU.yD
            , d = fU.Jd;
        if (E == null) {
            fU.yD = E = P.w("canvas", "");
            fU.Jd = d = E.getContext("2d")
        }
        if (I == null)
            I = q;
        if (E.width != I || E.height != H) {
            E.width = I;
            E.height = H
        } else
            d.clearRect(0, 0, I, H);
        d.fillStyle = "#000000";
        d.font = Math.floor(10 * P.M()) + "px sans-serif";
        var B = Y.Brsh.v.Dmtr.v.val
            , n = "" + B
            , g = d.measureText(n);
        d.fillText(n, (q - g.width) / 2, H - 2);
        var z = q
            , p = H - 10 * P.M()
            , C = Math.min(z, p)
            , T = Y.Brsh.v.classID;
        if (T == "computedBrush") {
            d.translate(z / 2, p / 2);
            d.rotate(-Y.Brsh.v.Angl.v.val * Math.PI / 180);
            d.scale(1, .1 + .9 * Y.Brsh.v.Rndn.v.val / 100);
            var A = Math.min(.95 * C / 2, B / 2) + .5
                , i = .9 * Y.Brsh.v.Hrdn.v.val / 100
                , e = d.createRadialGradient(0, 0, 0, 0, 0, A);
            e.addColorStop(i, "rgba(0,0,0,1)");
            e.addColorStop((.5 + i) / 1.5, "rgba(0,0,0,.5)");
            e.addColorStop(1, "rgba(0,0,0,0)");
            d.fillStyle = e;
            d.fillRect(-A, -A, 2 * A, 2 * A);
            d.setTransform(1, 0, 0, 1, 0, 0)
        } else if (T == "sampledBrush") {
            var a, x = 0;
            for (var G = 0; G < S.length; G++)
                if (S[G].id == Y.Brsh.v.sampledData.v)
                    a = S[G];
            var Z = a.abk;
            if (Z == null) {
                Z = a.abk = [a.channel, a._];
                t.h2(Z)
            }
            var O = a.channel
                , c = a._.d
                , s = a._.v;
            while ((c > z || s > p) && Z[x + 2]) {
                x += 2;
                O = Z[x];
                c = Z[x + 1].d;
                s = Z[x + 1].v
            }
            if (c * s != 0) {
                var u = t.m(c * s * 4);
                t.Vj(O, u, 3);
                var y = new ImageData(new Uint8ClampedArray(u.buffer), c, s);
                d.putImageData(y, Math.round((z - c) / 2), Math.round((p - s) / 2))
            }
        } else { }
        return E.toDataURL()
    }
        ;
    fU.TC = function (Y, S, h, q) {
        if (h == 0)
            h = 1;
        var H = Y.Brsh.v, I = H.Dmtr.v.val, E = H.Dmtr.v.val = Math.min(q != null ? Math.round(q * 2.6) : 3e3, I * h), d = H.Hrdn ? H.Hrdn.v.val / 100 : 1, B = q != null ? q : Math.round(E * (1 + .55 * (1 - d))) + 4, z;
        B = Math.max(15, Math.min(B, 3e3));
        var n = new W(0, 0, B, B)
            , g = new fU(Y, S, null, {
                xC: 1
            }, 16711712, 0, n);
        H.Dmtr.v.val = I;
        g.moveTo(n.d / 2, n.v / 2);
        var p = g.ce()
            , C = g.i6();
        if (n.ma(C))
            z = p;
        else {
            z = t.m(n.e() * 4);
            t.rd(p, C, z, n)
        }
        return [z, n, E]
    }
        ;
    fU.by = function (Y, S, h, q) {
        var H = fU.TC(Y, S, h)
            , I = H[0].slice(0)
            , E = H[1]
            , d = H[2]
            , B = E.e()
            , n = t.m(B);
        t.Ft(I, n, 3);
        var g = t.m(B);
        t.N.a1U(n, g, E);
        if (d < 3 || t.Aw(g, 0) || q && d > 12) {
            var z = E.d
                , p = z >>> 1
                , C = g
                , T = 255;
            for (var G = 0; G < 4; G++) {
                C[z * (p - 6 + G) + p] = T;
                C[z * p + p - 6 + G] = T;
                C[z * p + p + 6 - G] = T;
                C[z * (p + 6 - G) + p] = T
            }
        }
        var A = [1, 2, 1, 2, 8, 2, 1, 2, 1];
        A = t.Hd.Tt(A);
        t.Hd.zp(g, n, E.d, E.v, A);
        t.A5(I, 4294967295);
        t.Vj(n, I, 3);
        for (var G = 0; G < B; G++)
            if (g[G] == 255) {
                I[G << 2] = I[(G << 2) + 1] = I[(G << 2) + 2] = 0;
                I[(G << 2) + 3] = 255
            }
        return {
            Vi: I,
            _: E,
            qy: new aV(E.d / 2, E.v / 2)
        }
    }
        ;
    fU.eZ = "0";
    fU.XP = "1";
    fU.oT = "2";
    fU.ML = "3";
    var gd = {};
    gd.tL = function (Y, S) {
        var h = Y.To(), B;
        if (h.x == Infinity || h.fa())
            return {
                nP: t.m(0),
                _: new W,
                tI: new W
            };
        var q = Y.To()
            , H = gd.Ht(Y, S)
            , I = t.a.wO(H.H);
        if (I.fa())
            return {
                nP: t.m(0),
                _: new W,
                tI: new W
            };
        var E = P.w("canvas", "");
        E.width = I.d;
        E.height = I.v;
        var d = E.getContext("2d");
        d.translate(-I.x, -I.y);
        gd.alj(H, d);
        if (Y.cD.length != 0) {
            var n = ap.dc(S)
                , g = d.getImageData(0, 0, I.d, I.v);
            B = new Uint8Array(g.data.buffer);
            if (n == 0)
                for (var G = 0; G < B.length; G += 4)
                    B[G + 3] = B[G + 3] > 80 ? 255 : 0;
            if (n == 3)
                for (var G = 0; G < B.length; G += 4)
                    B[G + 3] = Math.min(255, B[G + 3] * 1.5)
        } else
            B = t.m(I.e() * 4);
        return {
            nP: B,
            _: I,
            tI: q
        }
    }
        ;
    gd.Ht = function (Y, S) {
        var h = {
            Z: [],
            H: []
        }
            , q = S.J
            , H = ap.dc(S)
            , I = Math.max(q.O * q.O, q.Pb * q.Pb) < 1e-9 ? q : null;
        if (H == 3 || H == 4)
            I = null;
        gd.ai8(Y, h, I);
        if (!t.P8.Oq(S.gO)) {
            var E = t.a.Zu(h.H);
            h = t.a.xr(h);
            h = t.a.dH(h, Math.min(E.d, E.v) / 8);
            var d = ap.i6(S, Y)
                , B = t.P8.eT(S.gO, d);
            t.FL.apply(B, h.H, d)
        }
        t.a.J(h.H, q, h.H);
        return h
    }
        ;
    gd.alj = function (Y, S) {
        Typr.U.pathToContext({
            crds: Y.H,
            cmds: Y.Z
        }, S)
    }
        ;
    gd.By = function (Y, S) {
        if (!cm.nj())
            return;
        var h = Y.lV
            , q = h.ResourceDict.FontSet
            , H = h.ResourceDict.StyleSheetSet[0].StyleSheetData
            , I = h.EngineDict.StyleRun.RunLengthArray
            , E = h.EngineDict.StyleRun.RunArray
            , d = ap.lo(h)
            , B = !0
            , n = {}
            , g = 0;
        for (var G = 0; G < E.length; G++) {
            var z = E[G].StyleSheet.StyleSheetData.Font;
            if (z == null)
                z = H.Font;
            for (var p = 0; p < I[G]; p++) {
                var C = d.charCodeAt(g + p)
                    , T = z + "," + (C > 128 ? C : -1);
                if (n[T] == null) {
                    n[T] = 1;
                    if (S.De(q[z].Name, C) == null)
                        B = !1
                }
            }
            g += I[G]
        }
        return B
    }
        ;
    gd.ai8 = function (Y, S, h) {
        var q = new d5;
        for (var G = 0; G < Y.vY.length; G++)
            gd.a4P(Y.cD, Y.vY[G], S, q, h)
    }
        ;
    gd.a4P = function (Y, S, h, q, H) {
        q.translate(S.Pl.x, S.Pl.y);
        for (var G = 0; G < S.rm.length; G++) {
            var I = {}
                , E = S.rm[G];
            if (!E.ME)
                break;
            var d = q.clone();
            d.translate(E.Pl.x, E.Pl.y);
            if (H) {
                var B = H.Un + d.Un * H.RH;
                d.Un = (Math.round(B) - H.Un) / H.RH
            }
            for (var n = E.start; n < E.end; n++)
                gd.ajQ(Y, S.O9[n], S, I, h, d)
        }
        q.translate(-S.Pl.x, -S.Pl.y)
    }
        ;
    gd.akW = "()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
    gd.ajQ = function (Y, S, h, q, H, I) {
        I.translate(S.Pl.x, S.Pl.y);
        for (var E = S.pP; E <= S.WT; E++) {
            var d = h.Cp[E]
                , B = d._.d
                , n = Y[h.aoh + d.ke];
            if (n.vQ == "\n")
                continue;
            var g = n.z8.FontSize / n.E7.head.unitsPerEm
                , z = ap.cd(n.z8)
                , p = (Math.round(z.h) << 16) + (Math.round(z.l) << 8) + Math.round(z.O);
            H.Z.push("#" + t.u9(p));
            var C = I.clone();
            C.translate(d.Pl.x + d.rb * g, d.Pl.y - d.oI * g);
            var T = new d5;
            T.scale(g, -g);
            if (n.lm == 1 && gd.akW.indexOf(n.vQ) != -1)
                T.concat(new d5(-1, 0, 0, 1, B, 0));
            if (n.z8.FauxItalic)
                T.concat(new d5(1, 0, -Math.tan(.18), 1, 0, 0));
            T.translate(0, n.mQ);
            T.scale(n.scale.x, n.scale.y);
            if (n.z8.BaselineShift != null)
                T.translate(0, -n.z8.BaselineShift);
            if (d.UZ != 0) {
                T.rotate(-d.UZ)
            }
            T.concat(C);
            if (d.path.Z.length != 0 && n.vQ != "\t") {
                if (n.z8.FauxBold) {
                    var A = n.z8.FontSize / 2048 * 27 * n.scale.x;
                    T.TR += A;
                    t.a.concat(H, d.path, T);
                    T.TR -= A + A;
                    t.a.concat(H, d.path, T)
                } else
                    t.a.concat(H, d.path, T)
            }
            if (n.vQ != "\n") {
                if (n.z8.Underline) {
                    if (q.LY == null)
                        q.LY = n.E7.post.underlineThickness;
                    if (q.ad8 == null)
                        q.ad8 = n.E7.post.underlinePosition;
                    var i = 0
                        , e = q.ad8 - q.LY / 2
                        , a = d.q5 * 1.05
                        , Z = -q.LY;
                    t.a.concat(H, {
                        Z: ["M", "L", "L", "L", "Z"],
                        H: [i, e, i + a, e, i + a, e + Z, i, e + Z]
                    }, T)
                }
                if (n.z8.Strikethrough) {
                    var O = n.E7["OS/2"].yStrikeoutSize
                        , c = n.E7["OS/2"].yStrikeoutPosition
                        , i = 0
                        , e = c + O / 2
                        , a = d.q5 * 1.05
                        , Z = -O;
                    t.a.concat(H, {
                        Z: ["M", "L", "L", "L", "Z"],
                        H: [i, e, i + a, e, i + a, e + Z, i, e + Z]
                    }, T)
                }
            }
            H.Z.push("X")
        }
        I.translate(-S.Pl.x, -S.Pl.y)
    }
        ;
    function cm(Y, S) {
        var h = ap.Vu(Y), q, H, I = ap.mu(Y), B;
        if (Y.Curve)
            H = cm.Uy(Y.Curve);
        if (h != 0) {
            q = new W(I[0], I[1], I[2], I[3]);
            if (h == 2) {
                q.d = H[5] - H[4];
                q.v = 9999
            }
        }
        this.vY = [];
        this.cD = [];
        this.I7 = h;
        var E = this.a3V = ap.lo(Y)
            , d = -1;
        for (var G = 0; G < E.length; G++) {
            var n = B
                , g = ap.XR(Y, G);
            if (g != d) {
                d = g;
                n = B = ap.a3I(Y, G)
            }
            var z = {
                vQ: E.charAt(G),
                z8: n,
                E7: null,
                yt: -1,
                mQ: 0,
                scale: new aV(0, 0),
                uc: 0,
                lineHeight: 0,
                lm: 0
            }
                , p = Y.ResourceDict.FontSet[n.Font].Name
                , C = z.E7 = S.De(p, E.charCodeAt(G));
            z.scale.x = n.HorizontalScale == null ? 1 : n.HorizontalScale;
            z.scale.y = n.VerticalScale == null ? 1 : n.VerticalScale;
            var T = C["OS/2"]
                , A = C.hhea;
            if (n.FontCaps == 1 && z.vQ != z.vQ.toUpperCase()) {
                var i = T.sxHeight ? T.sxHeight / T.sTypoAscender : .76;
                z.scale.x *= i;
                z.scale.y *= i
            }
            var e = 1 / C.head.unitsPerEm * n.FontSize;
            if (n.FontBaseline == 1) {
                var i = Y.ResourceDict.SuperscriptSize;
                z.scale.x *= i;
                z.scale.y *= i;
                z.mQ -= Y.ResourceDict.SuperscriptPosition * n.FontSize
            }
            if (n.FontBaseline == 2) {
                var i = Y.ResourceDict.SubscriptSize;
                z.scale.x *= i;
                z.scale.y *= i;
                z.mQ += Y.ResourceDict.SubscriptPosition * n.FontSize
            }
            var a = cm.uc(C, p);
            z.uc = a * e;
            z.lineHeight = n.FontSize * 1.2;
            if (n.AutoLeading == !1)
                z.lineHeight = n.Leading;
            if (z.lineHeight == 0)
                z.lineHeight = .001;
            this.cD.push(z)
        }
        var Z = this.vY
            , O = [0];
        for (var G = 0; G < Y.EngineDict.ParagraphRun.RunLengthArray.length; G++) {
            var c = new cm.YX(Y, S, this.cD, G, q, O, h == 1 ? H : null);
            Z.push(c)
        }
        if (h == 2) {
            var s = Y.Curve.Points
                , x = H[0]
                , u = H[1]
                , y = H[2]
                , j = H[3]
                , v = H[4]
                , X = H[5];
            for (var G = 0; G < Z.length; G++)
                for (var N = 0; N < Z[G].rm.length; N++)
                    if (!(G == 0 && N == 0))
                        Z[G].rm[N].ME = !1;
            var c = Z[0]
                , V = c.rm[0];
            c.Pl.bm(0, 0);
            V.Pl.bm(0, 0);
            for (var N = V.start; N < V.end; N++) {
                var $ = c.O9[N]
                    , w = $.Pl.x;
                $.Pl.x = 0;
                for (var m = $.pP; m <= $.WT; m++) {
                    var l = c.Cp[m]
                        , b = l._.d / 2;
                    l.Pl.x += w;
                    var K = cm.a2g(x, (v + l.Pl.x + b) % j);
                    l.Pl.x = K[0] - b * K[2];
                    l.Pl.y = K[1] - b * K[3];
                    l.UZ = Math.atan2(K[3], K[2])
                }
            }
        }
    }
    cm.uc = function (Y, S) {
        var h = Y["OS/2"]
            , q = Y.hhea
            , H = 0
            , H = 0
            , I = [];
        I.push(h && h.sxHeight && S.toLowerCase().indexOf("capitals") != -1 ? h.sxHeight : 0);
        I.push(h && h.sCapHeight ? h.sCapHeight : 0);
        I.push(h && h.sTypoAscender ? h.sTypoAscender : 0);
        I.push(q.ascender ? q.ascender : 0);
        for (var E = 0; E < I.length; E++)
            if (I[E] != 0) {
                H = I[E];
                break
            }
        return H
    }
        ;
    cm.prototype.amU = function () {
        return !this.k9(0)
    }
        ;
    cm.prototype.a6y = function () {
        return this.k9(1)
    }
        ;
    cm.prototype.k9 = function (Y) {
        var S = this.vY
            , h = !0
            , q = 0;
        for (var G = 0; G < S.length; G++) {
            var H = S[G].rm
                , I = H.length;
            q += I;
            for (var E = 0; E < I; E++)
                h &= H[E].ME
        }
        return [h, q][Y]
    }
        ;
    cm.Uy = function (Y) {
        debugger
        var S = Y.Points
            , h = S.length
            , q = h >>> 3
            , H = Y.TextOnPathTRange
            , I = Y.Reversed
            , g = 0
            , z = 0;
        if (I) {
            var E = S.slice(0);
            for (var G = 0; G < h; G += 2) {
                E[G] = S[h - 2 - G];
                E[G + 1] = S[h - 1 - G]
            }
            S = E;
            H = [q - H[1] % q, q - H[0] % q]
        }
        var d = []
            , B = [0]
            , n = [0];
        for (var G = 0; G < h; G += 8) {
            var p = S[G + 6] - S[G + 0]
                , C = S[G + 7] - S[G + 1]
                , T = Math.round(4 * Math.sqrt(p * p + C * C));
            for (var A = 0; A < T; A++) {
                var i = A / T
                    , e = 1 - i
                    , a = e * e * e * S[G + 0] + 3 * e * e * i * S[G + 2] + 3 * e * i * i * S[G + 4] + i * i * i * S[G + 6]
                    , Z = e * e * e * S[G + 1] + 3 * e * e * i * S[G + 3] + 3 * e * i * i * S[G + 5] + i * i * i * S[G + 7];
                d.push(a, Z);
                if (G + A != 0) {
                    var p = a - g
                        , C = Z - z;
                    n.push(n[n.length - 1] + Math.sqrt(p * p + C * C));
                    B.push((G >>> 3) + i)
                }
                g = a;
                z = Z
            }
        }
        var O = n.length
            , c = n[O - 1]
            , s = cm.cg(H[0], B)
            , x = cm.cg(H[1] % q, B)
            , u = n[s % O]
            , y = n[x % O];
        if (u >= y)
            y += c;
        return [d, B, n, c, u, y]
    }
        ;
    cm.cg = function (Y, S) {
        var G = 0;
        while (S[G] < Y)
            G++;
        return G
    }
        ;
    cm.a2g = function (Y, S) {
        var h = 0, G = 0, q, H, I;
        while (h < S) {
            q = Y[G + 2] - Y[G];
            H = Y[G + 3] - Y[G + 1];
            I = Math.sqrt(q * q + H * H);
            h += I;
            G += 2
        }
        return [Y[G], Y[G + 1], q / I, H / I]
    }
        ;
    cm.prototype.aiC = function (Y) {
        return this.cD[Y]
    }
        ;
    cm.prototype.abw = function (Y) {
        for (var S = 0; S < this.vY.length; S++) {
            var h = this.vY[S];
            for (var q = 0; q < h.rm.length; q++) {
                var H = h.rm[q]
                    , I = h.O9[H.start].start
                    , E = h.O9[H.end - 1].end;
                if (I < Y && Y < E)
                    return [I, E - 1]
            }
        }
        return [0, 1]
    }
        ;
    cm.prototype.NY = function (Y, S) {
        var h = -1
            , q = this.vY;
        if (this.I7 == 2) {
            var H = 1e9
                , I = 0
                , E = q[0]
                , d = E.rm[0];
            for (var B = d.start; B < d.end; B++) {
                var n = E.O9[B];
                for (var g = n.pP; g <= n.WT; g++) {
                    var z = E.Cp[g]
                        , p = z._.d
                        , C = Y.x - z.Pl.x
                        , T = Y.y - z.Pl.y
                        , A = C * C + T * T;
                    if (A < H) {
                        H = A;
                        I = z.ke
                    }
                }
            }
            if (I != 0 && this.a3V.codePointAt(I - 1) > 65535)
                I--;
            return I
        }
        for (var i = 0; i < q.length; i++) {
            var E = q[i];
            for (var e = 0; e < E.rm.length; e++) {
                h++;
                var d = E.rm[e]
                    , a = E.rm[e + 1];
                if (a == null && i < q.length - 1)
                    a = q[i + 1].rm[0];
                if (S != null) {
                    if (h != S)
                        continue
                } else {
                    if (a != null && E.Pl.y + d.Pl.y < Y.y)
                        continue
                }
                for (var B = d.start; B < d.end; B++) {
                    var n = E.O9[B];
                    for (var g = n.pP; g <= n.WT; g++) {
                        var z = E.Cp[g]
                            , p = z._.d
                            , Z = E.Pl.x + d.Pl.x + n.Pl.x
                            , O = Z + z.Pl.x
                            , c = Z + (g < n.WT ? E.Cp[g + 1].Pl.x : z.Pl.x + p);
                        if (Y.x <= c || B + 1 == d.end && g == n.WT) {
                            var s = E.aoh + z.ke
                                , x = this.cD[s]
                                , u = x.lm & 1;
                            if (x.vQ != "\n" && (u == 0 && Y.x > O + p / 2 || u == 1 && Y.x < O + p / 2))
                                s += this.a3V.codePointAt(s) > 65535 ? 2 : 1;
                            return s
                        }
                    }
                }
            }
        }
    }
        ;
    cm.prototype.NV = function (Y) {
        var S = {
            _: new W,
            lZ: 0
        }
            , h = 0;
        for (var q = 0; q < this.vY.length; q++) {
            var H = this.vY[q];
            for (var I = 0; I < H.rm.length; I++) {
                var E = H.rm[I];
                S.lZ = h;
                h++;
                for (var d = E.start; d < E.end; d++) {
                    var B = H.O9[d];
                    for (var n = B.start; n < B.end; n++) {
                        if (n == Y) {
                            var g = this.cD[n]
                                , z = g.yt
                                , p = H.Cp[z].ke
                                , C = 1;
                            while (H.Cp[z] != null && H.Cp[z].ke == p) {
                                var T = H.Cp[z]
                                    , A = H.Pl.x + E.Pl.x + B.Pl.x + T.Pl.x
                                    , i = H.Pl.y + E.Pl.y + B.Pl.y + T.Pl.y;
                                S._ = S._.TG(new W(A, i - g.lineHeight, T._.d, g.lineHeight));
                                S.UZ = T.UZ;
                                z += C
                            }
                            return S
                        }
                    }
                }
            }
        }
    }
        ;
    cm.prototype.To = function () {
        var Y = Infinity
            , S = Infinity
            , h = -Infinity
            , q = -Infinity;
        for (var G = 0; G < this.vY.length; G++) {
            var H = this.vY[G];
            for (var I = 0; I < H.rm.length; I++) {
                var E = H.rm[I];
                if (!E.ME)
                    break;
                for (var d = E.start; d < E.end; d++) {
                    var B = H.O9[d];
                    for (var n = B.pP; n <= B.WT; n++) {
                        var g = H.Cp[n]
                            , z = g._
                            , p = H.Pl.x + E.Pl.x + B.Pl.x + g.Pl.x
                            , C = H.Pl.y + E.Pl.y + B.Pl.y + g.Pl.y;
                        Y = Math.min(Y, p + z.x);
                        S = Math.min(S, C + z.y);
                        h = Math.max(h, p + z.x + z.d);
                        q = Math.max(q, C + z.y + z.v)
                    }
                }
            }
        }
        return new W(Y, S, h - Y, q - S)
    }
        ;
    cm.ey = function (Y) {
        return 19968 <= Y && Y <= 40959 || 12288 <= Y && Y <= 12543
    }
        ;
    cm.a6X = function (Y, S, h, q, H, I, E) {
        var d = [I]
            , B = 0;
        for (var G = I; G < E; G++) {
            if (h[G] == null)
                console.log(G, I, E, h);
            var n = h[G].vQ
                , g = n.charCodeAt(0);
            if (g == 32 || g == 9) {
                d.push(B, G, 1, G + 1);
                B = 0
            } else if (g == 3851) {
                d.push(B + 1, G + 1);
                B = 0
            } else if (cm.ey(g)) {
                d.push(B, G);
                B = 1
            } else if (G != I && h[G].lm != h[G - 1].lm) {
                d.push(B, G);
                B = 1
            } else
                B++
        }
        d.push(B);
        var z = [];
        for (var G = 0; G < d.length; G += 2) {
            var p = d[G]
                , C = d[G + 1];
            if (C == 0)
                continue;
            z.push(new cm.a2$(Y, S, h, q, H, p, C))
        }
        return z
    }
        ;
    cm.a83 = function (Y, S, h, q, H, I, E) {
        var d = [0, S ? S.d : 1e9]
            , B = [];
        if (q) {
            var n = Y[I].uc
                , g = H + (H == 0 ? n : Y[I].lineHeight)
                , z = g - n * .9
                , p = t.a.se(q[0], z)
                , C = p.length
                , T = t.a.se(q[0], g)
                , A = T.length;
            if (C != 0 && A != 0) {
                var i = 0
                    , e = 0;
                d = [];
                while (i < C && e < A) {
                    var a = Math.max(p[i], T[e])
                        , Z = p[i + 1]
                        , O = T[e + 1]
                        , c = Math.min(Z, O);
                    if (a < c)
                        d.push(a, c);
                    if (Z < O)
                        i += 2;
                    else
                        e += 2
                }
            }
        }
        for (var s = 0; s < d.length; s += 2) {
            var x = d[s + 1] - d[s]
                , u = 0
                , y = I
                , j = S ? x - h.StartIndent - h.EndIndent - (I == 0 ? h.FirstLineIndent : 0) : Infinity;
            while (I != Y.length) {
                var v = Y[I]
                    , X = u == 0 || (v.kO || v.jC) || u + v._.d < j;
                if (!X)
                    break;
                u += v._.d;
                I++
            }
            B.push(I - y)
        }
        E[0] = B;
        E[1] = d;
        E[2] = I
    }
        ;
    cm.a84 = function (Y, S) {
        var h = Y.length
            , q = new Uint32Array(h)
            , H = new Uint8Array(h)
            , I = 0;
        for (var G = 0; G < h; G++) {
            H[G] = 0;
            var E = Y.charCodeAt(G);
            q[G] = E;
            if (E > I)
                I = E
        }
        if (I > 1424)
            H = cm.a6p(q, S);
        return H
    }
        ;
    cm.YX = function (Y, S, h, q, H, I, E) {
        this.O9 = [];
        this.rm = [];
        this.Pl = new aV(0, 0);
        this.Cp = null;
        this.O9 = null;
        this.z8 = ap.aa$(Y, q);
        var d = this.z8
            , z = 0
            , T = ""
            , Z = 0
            , O = 1
            , J = 0;
        if (q != 0) {
            var B = d.SpaceBefore;
            if (B != null)
                I[0] += B
        }
        var n = Y.EngineDict.ParagraphRun.RunLengthArray
            , g = n[q];
        for (var G = 0; G < q; G++)
            z += n[G];
        var p = d._Direction ? d._Direction : 0;
        this.aoh = z;
        var C = ap.lo(Y).slice(z, z + g);
        for (var A = 0; A < C.length; A++) {
            var i = C.charAt(A);
            T += h[z + A].z8.FontCaps == 0 ? i : i.toUpperCase()
        }
        C = T;
        var e = cm.a84(C, p)
            , a = []
            , c = e[G] & 1
            , s = h[z].E7;
        h[z].lm = e[0];
        for (var G = 1; G < C.length; G++) {
            var i = h[z + G]
                , x = e[G];
            i.lm = x;
            if (x != c || i.E7 != s) {
                a.push(Z, O);
                Z = G;
                O = 1;
                c = x;
                s = i.E7
            } else
                O++
        }
        a.push(Z, O);
        var u = this.Cp = [];
        for (var G = 0; G < a.length; G += 2) {
            var y = a[G]
                , j = a[G + 1]
                , v = (h[z + y].lm & 1) == 0
                , X = C.slice(y, y + j)
                , N = Typr.U.shapeHB(h[z + y].E7, X, v)
                , V = []
                , m = 0;
            for (var A = 0; A < N.length; A++) {
                var $ = N[A];
                V.push({
                    l: $.g,
                    ke: $.cl,
                    q5: $.ax,
                    sZ: $.ay,
                    rb: $.dx,
                    oI: $.dy
                })
            }
            N = V;
            var w = N.slice(0);
            if (!v)
                w.reverse();
            for (var A = 0; A < X.length; A++) {
                while (m + 1 < w.length && w[m + 1].ke <= A) {
                    m++
                }
                while (m > 0 && w[m - 1].ke == A)
                    m--;
                h[z + y + A].yt = u.length + (v ? m : w.length - m - 1)
            }
            for (var A = 0; A < N.length; A++) {
                u.push(N[A]);
                N[A].ke += y;
                var i = h[z + N[A].ke];
                if (i.vQ == "\n")
                    N[A].q5 = 0;
                if (i.vQ == "\t")
                    N[A].q5 = i.E7.head.unitsPerEm * 2
            }
        }
        var l = ap.Xl(d)
            , b = this.O9 = cm.a6X(Y, S, h, z, u, z, z + g)
            , K = this.rm
            , R = -1
            , T = [null, null, 0];
        while (J < b.length) {
            cm.a83(b, H, d, E, I[0], J, T);
            R++;
            var r = {
                start: J,
                end: 0,
                _: new W,
                Pl: new aV(0, 0),
                ME: !0
            }
                , bY = 0
                , ds = 0;
            K.push(r);
            r.end = T[2];
            var f = r.end == b.length;
            function aa(w, y, co) {
                var c_ = co - y >>> 1;
                for (var G = 0; G < c_; G++) {
                    var a5 = w[y + G];
                    w[y + G] = w[co - 1 - G];
                    w[co - 1 - G] = a5
                }
            }
            for (var aA = 1; aA < 5; aA++) {
                var e5 = -1;
                for (var G = r.start; G < r.end; G++) {
                    var x = h[b[G].start].lm;
                    if (e5 == -1 && x >= aA)
                        e5 = G;
                    else if (e5 != -1 && x < aA) {
                        aa(b, e5, G);
                        e5 = -1
                    }
                }
                var fk = r.end;
                if (p == 0 && b[fk - 1].kO)
                    fk--;
                if (e5 != -1)
                    aa(b, e5, fk)
            }
            var o = T[0]
                , eY = T[1]
                , e5 = J
                , du = J;
            for (var dV = 0; dV < o.length; dV++) {
                var hy = eY[dV * 2 + 1] - eY[dV * 2]
                    , bq = 0;
                e5 = du;
                du += o[dV];
                var i5 = this.agd(e5, du, b, p, H != null);
                if (H) {
                    if (l == 1 || f && l == 4)
                        bq = i5[1] + (hy - i5[0]);
                    if (l == 2 || f && l == 5)
                        bq = i5[1] + (hy - i5[0]) / 2;
                    if (R == 0)
                        bq += d.FirstLineIndent;
                    bq += d.StartIndent
                } else {
                    if (l == 0)
                        bq = d.StartIndent + d.FirstLineIndent;
                    if (l == 1)
                        bq = -i5[0] - d.EndIndent;
                    if (l == 2)
                        bq = -i5[0] / 2
                }
                bq += eY[dV * 2];
                if (H && l > 2 && (l == 6 || !f))
                    this.ajX(e5, du, b, hy, p, bq);
                else {
                    var hX = bq;
                    for (var G = e5; G < du; G++) {
                        b[G].Pl.x = hX;
                        hX += b[G]._.d
                    }
                }
            }
            J = r.end;
            for (var G = r.start; G < r.end; G++) {
                var hV = b[G]._.clone();
                hV.JC(b[G].Pl);
                r._ = r._.TG(hV);
                bY = Math.max(bY, b[G].uc);
                ds = Math.max(ds, b[G].lineHeight)
            }
            r.Pl.y = R == 0 ? 0 : K[R - 1].Pl.y + ds;
            if (R == 0) {
                if (q == 0 && H)
                    I[0] += bY;
                if (q != 0)
                    I[0] += ds;
                this.Pl.y = I[0]
            } else
                I[0] += ds;
            if (H)
                r.ME = this.Pl.y + r.Pl.y < H.y + H.v
        }
        var gF = d.SpaceAfter;
        if (gF != null)
            I[0] += gF
    }
        ;
    cm.YX.prototype.agd = function (Y, S, h, q, H) {
        var I = 0
            , E = 0;
        for (var G = Y; G < S; G++)
            I += h[G]._.d;
        if (H) {
            if (q == 0)
                for (var G = S - 1; G >= Y; G--)
                    if (h[G].kO || h[G].jC)
                        I -= h[G]._.d;
                    else
                        break;
            if (q == 1)
                for (var G = Y; G < S; G++)
                    if (h[G].kO || h[G].jC) {
                        var d = h[G]._.d;
                        I -= d;
                        E -= d
                    } else
                        break
        }
        return [I, E]
    }
        ;
    cm.YX.prototype.ajX = function (Y, S, h, q, H, I) {
        var E = 0
            , d = 0
            , B = 0
            , n = 0;
        for (var G = Y; G < S; G++)
            if (h[G].kO)
                B++;
            else {
                E += h[G]._.d;
                d++
            }
        if (H == 0)
            for (var G = S - 1; G >= Y; G--)
                if (h[G].kO || h[G].jC) {
                    if (h[G].kO) {
                        B--
                    }
                } else
                    break;
        if (H == 1)
            for (var G = Y; G < S; G++)
                if (h[G].kO || h[G].jC) {
                    if (h[G].kO) {
                        B--;
                        n++
                    }
                } else
                    break;
        if (d <= 1 || B == 0) {
            if (d == 1)
                h[Y].Pl.x = I;
            return
        }
        var g = (q - E) / B
            , z = -n * g;
        for (var G = Y; G < S; G++) {
            if (h[G].kO)
                this.Cp[h[G].pP]._.d = h[G]._.d = g;
            h[G].Pl.x = I + z;
            z += h[G]._.d
        }
    }
        ;
    cm.a2$ = function (Y, S, h, q, H, I, E) {
        this.V7 = "";
        for (var G = 0; G < E; G++)
            this.V7 += h[I + G].vQ;
        this.kO = E == 1 && (h[I].vQ == " " || h[I].vQ == "\t");
        this.jC = E == 1 && h[I].vQ == "\n";
        this.start = I;
        this.end = I + E;
        this._ = new W;
        this.Pl = new aV(0, 0);
        this.uc = 0;
        this.lineHeight = 0;
        var d = 0
            , B = 0;
        if (E == 0) {
            this.lineHeight = h[I].lineHeight;
            this.uc = h[I].uc;
            this._ = new W(0, -h[I].lineHeight, 0, h[I].lineHeight)
        }
        var n = h[I].yt
            , g = h[I + E - 1].yt;
        if (g < n) {
            var z = n;
            n = g;
            g = z
        }
        while (g + 1 < H.length && H[g].ke == H[g + 1].ke) {
            g++
        }
        this.pP = n;
        this.WT = g;
        for (var p = n; p <= g; p++) {
            var C = H[p]
                , T = h[q + C.ke]
                , A = 1 / T.E7.head.unitsPerEm * T.z8.FontSize
                , Z = 0;
            if (!T.z8.AutoKerning)
                d += T.z8.Kerning * 2 * A * T.scale.x;
            var i = C.q5 * A * T.scale.x;
            C.Pl = new aV(d, 0);
            C.UZ = 0;
            C._ = new W(0, -T.lineHeight, i, T.lineHeight);
            var e = Typr.U.glyphToPath(T.E7, C.l);
            C.path = {
                Z: e.cmds,
                H: e.crds
            };
            var a = C._.clone();
            a.JC(C.Pl);
            if (T.z8.Tracking != null)
                Z = T.z8.Tracking * .001 * T.z8.FontSize;
            if (T.z8.FauxBold == !0)
                Z += .027 * T.z8.FontSize;
            d += i + Z;
            if (E == 1 && (T.vQ == " " || T.vQ == "\t"))
                a.d += 2 * Z;
            else if (E == 1 && T.vQ != null && cm.ey(T.vQ.charCodeAt(0)))
                a.d += Z;
            this._ = this._.TG(a);
            this.uc = Math.max(this.uc, T.uc);
            this.lineHeight = Math.max(this.lineHeight, T.lineHeight)
        }
    }
        ;
    cm.kd = 0;
    cm.nj = function () {
        if (cm.kd == 2)
            return !0;
        if (cm.kd == 1)
            return !1;
        cm.kd = 1;
        function Y() {
            fetch("code/external/fribidi.wasm").then(function (S) {
                return S.arrayBuffer()
            }).then(function (S) {
                return WebAssembly.instantiate(S)
            }).then(function (S) {
                var h = S.instance.exports
                    , q = h.memory
                    , E = 16
                    , d = 256
                    , B = 1;
                q.grow(400);
                var H = new Uint8Array(q.buffer)
                    , I = new Uint32Array(q.buffer)
                    , n = E | d
                    , g = E | d | B;
                cm.a6p = function (p, C) {
                    var T = p.length
                        , A = h.calloc(T * 4 + 4 + T * 4 + T * 4 + T, 1)
                        , i = A + T * 4
                        , e = i + 4
                        , a = e + T * 4
                        , Z = a + T * 4;
                    I.set(p, A >>> 2);
                    I[i >>> 2] = C == 0 ? n : g;
                    h.fribidi_get_bidi_types(A, T, e);
                    h.fribidi_get_bracket_types(A, T, e, a);
                    h.fribidi_get_par_embedding_levels_ex(e, a, T, i, Z);
                    var O = H.slice(Z, Z + T);
                    h.free(A);
                    return O
                }
                    ;
                cm.kd = 2;
                var z = new _(P.E.P, !0);
                z.data = {
                    X: P.U.PD,
                    UI: "add",
                    go: iD.OO,
                    Gu: null
                };
                debugger
                fa.C0.B(z)
            })
        }
        Typr.U.initHB("code/external/hb.wasm", Y);
        return !1
    }
        ;
    function ap() { }
    ap.vv = function (Y) {
        return JSON.parse(JSON.stringify(Y))
    }
        ;
    ap.O2 = function (Y, S) {
        for (var h in S)
            Y[h] = S[h]
    }
        ;
    ap.Hr = function (Y, S, h) {
        var q = ap.tP();
        if (h)
            ap.aN(q, 0, 0, h);
        var H = {
            J: new d5(1, 0, 0, 1, Math.round(Y), Math.round(S)),
            lV: q
        };
        H._j = ap.I9();
        H.gO = t.P8.m();
        H.tI = new W;
        return H
    }
        ;
    ap.Ms = function (Y) {
        var S = ["CharacterDirection", 0];
        for (var G = 0; G < S.length; G += 2) {
            if (Y[S[G]] != null && Y[S[G]] != S[G + 1]) {
                throw "e";
                console.log(S[G], Y[S[G]])
            }
        }
        if (Y instanceof Array)
            for (var G = 0; G < Y.length; G++)
                ap.Ms(Y[G]);
        else if (Y instanceof Object)
            for (var h in Y)
                ap.Ms(Y[h])
    }
        ;
    ap.Xl = function (Y, S) {
        if (S == null)
            S = Y.Justification;
        var h = Y._Direction ? Y._Direction : 0;
        if (h == 1) {
            if (S == 0 || S == 3)
                S++;
            else if (S == 1 || S == 4)
                S--
        }
        return S
    }
        ;
    ap.Kl = function (Y) {
        debugger
        if (Y.add == null)
            return;
        var S = Y.lV
            , h = S.Curve
            , q = Y.add.vmsk
            , H = q.b
            , I = t.a.df(H, !0).H
            , E = Y.J.clone();
        E.fb();
        t.a.J(I, E, I);
        var d = I.slice(0, 8);
        for (var B = 8; B < I.length; B += 6)
            d.push(I[B - 2], I[B - 1], I[B], I[B + 1], I[B + 2], I[B + 3], I[B + 4], I[B + 5]);
        h.Points = d;
        h.TextOnPathTRange = q.YF.slice(0);
        h.Reversed = q.mg;
        if (ap.Vu(S) == 1) {
            var h = cm.Uy(S.Curve)
                , n = t.a.Zu(h[0]);
            ap.h6(S, [0, 0, n.d, n.v].map(Math.round));
            for (var G = 0; G < d.length; G += 2) {
                d[G] -= n.x;
                d[G + 1] -= n.y
            }
            var g = new d5(1, 0, 0, 1, n.x, n.y);
            g.concat(Y.J);
            Y.J = g
        }
    }
        ;
    ap.yA = function (Y) {
        if (Y.add == null)
            return;
        var S = Y.add.vmsk
            , h = Y.lV.Curve
            , q = h.Points
            , H = {
                Z: ["M"],
                H: [q[0], q[1]]
            };
        for (var G = 0; G < q.length; G += 8) {
            H.Z.push("C");
            H.H.push(q[G + 2], q[G + 3], q[G + 4], q[G + 5], q[G + 6], q[G + 7])
        }
        t.a.J(H.H, Y.J, H.H);
        var I = t.a.QG(H, !0);
        S.b = I;
        S.mg = h.Reversed;
        S.YF = h.TextOnPathTRange.slice(0);
        Y.add.vogk = M.Ir(I)
    }
        ;
    ap.cd = function (Y) {
        var S = {
            h: 0,
            l: 0,
            O: 0
        };
        if (Y.FillColor) {
            var h = Y.FillColor
                , q = h.Values;
            if (h.Type == 1)
                S = {
                    h: q[1] * 255,
                    l: q[2] * 255,
                    O: q[3] * 255
                };
            else if (h.Type == 2) {
                var H = {
                    classID: "CMYC",
                    Cyn: {
                        t: "doub",
                        v: q[1] * 100
                    },
                    Mgnt: {
                        t: "doub",
                        v: q[2] * 100
                    },
                    Ylw: {
                        t: "doub",
                        v: q[3] * 100
                    },
                    Blck: {
                        t: "doub",
                        v: q[4] * 100
                    }
                };
                S = t.W.cd(H)
            } else
                console.log("Unknown color type")
        }
        return S
    }
        ;
    ap.aeX = function (Y) {
        for (var G = 0; G < Y.length; G++) {
            var S = Y[G].StyleSheet.StyleSheetData
                , h = S.FillColor;
            if (h && h.Type == 2) {
                var q = ap.cd(S);
                h.Type = 1;
                h.Values = [1, q.h / 255, q.l / 255, q.O / 255]
            }
        }
    }
        ;
    ap.i6 = function (Y, S) {
        var h;
        if (ap.Vu(Y.lV) == 1) {
            var q = ap.mu(Y.lV);
            h = new W(0, 0, q[2] - q[0], q[3] - q[1])
        } else
            h = S.To();
        return h
    }
        ;
    ap.K7 = function (Y) {
        var S = Y[0];
        for (var G = 0; G < Y.length; G++)
            S = ap.aaH(S, Y[G]);
        return S
    }
        ;
    ap.aaH = function (Y, S) {
        var h = {};
        for (var q in Y)
            if (JSON.stringify(Y[q]) == JSON.stringify(S[q]))
                h[q] = Y[q];
        return h
    }
        ;
    ap.UB = function (Y, S) {
        var h = Y.GZ
            , q = -1;
        for (var G = 0; G < h.length; G++)
            if (h[G].Name == S)
                q = G;
        if (q == -1) {
            q = h.length;
            h.push({
                FontType: 1,
                Name: S,
                Script: 0,
                Synthetic: 0
            })
        }
        Y.cD.Font = q
    }
        ;
    ap.lo = function (Y) {
        return Y.EngineDict.Editor.Text.replace(/\r/g, "\n").replace(/\u0003/g, "\n")
    }
        ;
    ap.ql = function (Y, S) {
        Y.EngineDict.Editor.Text = S.replace(/\n/g, "\r")
    }
        ;
    ap.Vu = function (Y) {
        return Y.Curve && Y.Curve.TextOnPathTRange[0] >= 0 ? 2 : Y.EngineDict.Rendered.Shapes.Children[0].ShapeType
    }
        ;
    ap.sI = function (Y, S) {
        var h = Y.EngineDict.Rendered.Shapes.Children[0];
        h.ShapeType = S;
        var q = h.Cookie.Photoshop;
        q.ShapeType = S;
        q.Base.ShapeType = S;
        if (S == 0) {
            delete q.BoxBounds;
            q.PointBase = [0, 0]
        }
        if (S == 1) {
            delete q.PointBase;
            q.BoxBounds = [0, 0, 1, 1]
        }
    }
        ;
    ap.mu = function (Y) {
        return Y.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds
    }
        ;
    ap.h6 = function (Y, S) {
        Y.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds = S
    }
        ;
    ap.a3I = function (Y, S) {
        return ap.a3O(Y, ap.XR(Y, S))
    }
        ;
    ap.XR = function (Y, S) {
        var h = Y.EngineDict.StyleRun.RunLengthArray;
        return ap.v5(h, S).cy
    }
        ;
    ap.a3O = function (Y, S) {
        var h = Y.ResourceDict.StyleSheetSet[0].StyleSheetData
            , q = {};
        for (var H in h)
            q[H] = h[H];
        var I = Y.EngineDict.StyleRun.RunArray[S].StyleSheet.StyleSheetData;
        ap.O2(q, I);
        return q
    }
        ;
    ap.aa$ = function (Y, S) {
        var h = Y.ResourceDict.ParagraphSheetSet[0].Properties
            , q = {};
        for (var H in h)
            q[H] = h[H];
        var I = Y.EngineDict.ParagraphRun.RunArray[S].ParagraphSheet.Properties;
        ap.O2(q, I);
        var E = ["StartIndent", "EndIndent", "FirstLineIndent"];
        for (var G = 0; G < 3; G++)
            if (q[E[G]] == null)
                q[E[G]] = 0;
        return q
    }
        ;
    ap.LB = function (Y, S, h) {
        if (h == "")
            return;
        var q = ap.lo(Y);
        ap.ql(Y, q.substring(0, S) + h + q.substring(S, q.length));
        var H = Y.EngineDict.StyleRun
            , I = H.RunLengthArray
            , E = ap.v5(I, S - 1);
        I[E.cy] += h.length;
        var d = Y.EngineDict.ParagraphRun
            , I = d.RunLengthArray
            , B = ap.v5(I, S)
            , n = h.split("\n");
        if (n.length == 1) {
            I[B.cy] += h.length;
            return
        }
        I.splice(B.cy + 1, 0, I[B.cy] - (S - B.RK));
        d.RunArray.splice(B.cy + 1, 0, ap.vv(d.RunArray[B.cy]));
        I[B.cy] -= I[B.cy + 1];
        I[B.cy] += n[0].length + 1;
        for (var G = 1; G < n.length - 1; G++) {
            d.RunArray.splice(B.cy + G, 0, ap.vv(d.RunArray[B.cy + G - 1]));
            d.RunLengthArray.splice(B.cy + G, 0, n[G].length + 1)
        }
        I[B.cy + n.length - 1] += n[n.length - 1].length
    }
        ;
    ap.W9 = function (Y, S, h) {
        var q = ap.lo(Y);
        ap.ql(Y, q.substring(0, S) + q.substring(h, q.length));
        ap.xh(Y.EngineDict.ParagraphRun, S, h, !0);
        ap.xh(Y.EngineDict.StyleRun, S, h, !1)
    }
        ;
    ap.xh = function (Y, S, h, q) {
        var H = Y.RunLengthArray
            , I = ap.v5(H, S)
            , E = ap.v5(H, h)
            , d = [];
        for (var G = 0; G < H.length; G++)
            for (var B = 0; B < H[G]; B++)
                d.push(G);
        d.splice(S, h - S);
        var n = [];
        for (var G = 0; G < H.length; G++)
            n.push(0);
        for (var G = 0; G < d.length; G++)
            n[d[G]]++;
        for (var G = 0; G < H.length; G++) {
            if (n[G] == 0) {
                n.splice(G, 1);
                H.splice(G, 1);
                Y.RunArray.splice(G, 1);
                G--
            } else if (n[G] < H[G])
                H[G] = n[G]
        }
        if (q && I.cy != E.cy && I.RK != S) {
            H[I.cy] += H[I.cy + 1];
            H.splice(I.cy + 1, 1);
            Y.RunArray.splice(I.cy + 1, 1)
        }
    }
        ;
    ap.aN = function (Y, S, h, q) {
        var H = Y.EngineDict.Editor.Text.length;
        if (h == H - 2)
            h++;
        if (q.cD.Font != null)
            Y.ResourceDict.FontSet = q.GZ.slice(0);
        if (S <= h)
            ap.VN(Y.EngineDict.StyleRun, q.cD, S, h, !0);
        ap.VN(Y.EngineDict.ParagraphRun, q.vY, S, h, !1)
    }
        ;
    ap.VN = function (Y, S, h, q, H) {
        var I = Y.RunLengthArray;
        if (H) {
            var E = ap.v5(I, h);
            if (E.RK != h) {
                var d = I[E.cy];
                I.splice(E.cy, 0, h - E.RK);
                I[E.cy + 1] = d - I[E.cy];
                Y.RunArray.splice(E.cy + 1, 0, ap.vv(Y.RunArray[E.cy]))
            }
            var B = ap.v5(I, q);
            if (B.RK + I[B.cy] - 1 != q) {
                var d = I[B.cy];
                I.splice(B.cy, 0, q - B.RK + 1);
                I[B.cy + 1] = d - I[B.cy];
                Y.RunArray.splice(B.cy + 1, 0, ap.vv(Y.RunArray[B.cy]))
            }
        }
        var E = ap.v5(I, h)
            , B = ap.v5(I, q);
        if (H)
            for (var G = E.cy; G <= B.cy; G++)
                ap.O2(Y.RunArray[G].StyleSheet.StyleSheetData, S);
        else
            for (var G = E.cy; G <= B.cy; G++)
                ap.O2(Y.RunArray[G].ParagraphSheet.Properties, S)
    }
        ;
    ap.a20 = function (Y, S, h) {
        var q = Y.EngineDict.StyleRun.RunLengthArray
            , H = []
            , I = 0;
        for (var G = 0; G < q.length; G++) {
            var E = q[G];
            for (var d = 0; d < E; d++)
                if (S <= I + d && I + d < h)
                    H.push(G);
            I += E
        }
        var B = H[0]
            , n = [];
        for (var G = 0; G < H.length; G++) {
            var g = H[G] - B;
            if (g == n.length)
                n.push(0);
            n[g]++
        }
        return n
    }
        ;
    ap.abZ = function (Y) {
        var S = Y.EngineDict.StyleRun
            , h = S.RunArray
            , q = S.RunLengthArray;
        for (var G = 0; G < q.length - 1; G++) {
            var H = h[G].StyleSheet.StyleSheetData
                , I = h[G + 1].StyleSheet.StyleSheetData;
            if (JSON.stringify(H) == JSON.stringify(I)) {
                h.splice(G + 1, 1);
                q[G] += q[G + 1];
                q.splice(G + 1, 1);
                G--
            }
        }
    }
        ;
    ap.dc = function (Y) {
        var S = Y._j.AntA.v.Annt;
        S = ["Anno", "antiAliasSharp", "AnCr", "AnSt", "AnSm"].indexOf(S);
        if (S == -1)
            S = 1;
        return S
    }
        ;
    ap.gV = function (Y, S) {
        Y._j.AntA.v.Annt = ["Anno", "antiAliasSharp", "AnCr", "AnSt", "AnSm"][S]
    }
        ;
    ap.Rm = function (Y, S, h) {
        var q = {
            GZ: Y.ResourceDict.FontSet.slice(0),
            cD: [],
            vY: []
        }
            , H = Y.EngineDict.StyleRun.RunLengthArray
            , I = ap.v5(H, S).cy
            , E = ap.v5(H, h).cy;
        for (var G = I; G <= E; G++) {
            var d = ap.vv(Y.ResourceDict.StyleSheetSet[0].StyleSheetData)
                , B = Y.EngineDict.StyleRun.RunArray;
            if (B.length == 0)
                continue;
            var n = B[G].StyleSheet.StyleSheetData;
            ap.O2(d, n);
            q.cD.push(d)
        }
        var g = Y.EngineDict.ParagraphRun.RunLengthArray
            , z = ap.v5(g, S).cy
            , p = ap.v5(g, h).cy;
        for (var G = z; G <= p; G++) {
            var C = Y.EngineDict.ParagraphRun.RunArray;
            if (C.length == 0)
                continue;
            q.vY.push(ap.vv(C[G].ParagraphSheet.Properties))
        }
        q.cD = q.cD.length == 0 ? {} : ap.K7(q.cD);
        q.vY = q.vY.length == 0 ? {} : ap.K7(q.vY);
        return q
    }
        ;
    ap.D9 = function (Y, S) {
        var h, q;
        h = ["FontSize", "Leading", "BaselineShift"];
        q = Y.cD;
        for (var G = 0; G < h.length; G++)
            if (q[h[G]] != null)
                q[h[G]] *= S;
        h = ["StartIndent", "EndIndent", "FirstLineIndent", "SpaceBefore", "SpaceAfter"];
        q = Y.vY;
        for (var G = 0; G < h.length; G++)
            if (q[h[G]] != null)
                q[h[G]] *= S
    }
        ;
    ap.aef = function () {
        return ap.Rm(ap.q8, 0, 0)
    }
        ;
    ap.I9 = function () {
        return {
            classID: "TxLr",
            Txt: {
                t: "TEXT",
                v: "\0"
            },
            textGridding: {
                t: "enum",
                v: {
                    textGridding: "None"
                }
            },
            Ornt: {
                t: "enum",
                v: {
                    Ornt: "Hrzn"
                }
            },
            AntA: {
                t: "enum",
                v: {
                    Annt: "antiAliasSharp"
                }
            },
            TextIndex: {
                t: "long",
                v: 0
            }
        }
    }
        ;
    ap.v5 = function (Y, S) {
        var h = 0
            , G = 0;
        while (h + Y[G] <= S) {
            h += Y[G];
            G++
        }
        return {
            cy: G,
            RK: h
        }
    }
        ;
    ap.tP = function () {
        var Y = ap.vv(this.q8);
        return Y
    }
        ;
    ap.wD = {
        Justification: 0,
        FirstLineIndent: 0,
        StartIndent: 0,
        EndIndent: 0,
        SpaceBefore: 0,
        SpaceAfter: 0,
        AutoHyphenate: !1,
        HyphenatedWordSize: 6,
        PreHyphen: 2,
        PostHyphen: 2,
        ConsecutiveHyphens: 8,
        Zone: 36,
        WordSpacing: [.8, 1, 1.33],
        LetterSpacing: [0, 0, 0],
        GlyphSpacing: [1, 1, 1],
        AutoLeading: 1.2,
        LeadingType: 0,
        Hanging: !1,
        Burasagari: !1,
        KinsokuOrder: 0,
        EveryLineComposer: !1,
        _Direction: 0
    };
    ap.a5S = {
        Font: 0,
        FontSize: 12,
        FauxBold: !1,
        FauxItalic: !1,
        AutoLeading: !0,
        Leading: 0,
        HorizontalScale: 1,
        VerticalScale: 1,
        Tracking: 0,
        AutoKerning: !0,
        Kerning: 0,
        BaselineShift: 0,
        FontCaps: 0,
        FontBaseline: 0,
        Underline: !1,
        Strikethrough: !1,
        Ligatures: !0,
        DLigatures: !1,
        BaselineDirection: 2,
        Tsume: 0,
        StyleRunAlignment: 2,
        Language: 0,
        NoBreak: !1,
        FillColor: {
            Type: 1,
            Values: [1, 0, 0, 0]
        },
        StrokeColor: {
            Type: 1,
            Values: [1, 0, 0, 0]
        },
        FillFlag: !0,
        StrokeFlag: !1,
        FillFirst: !0,
        YUnderline: 1,
        OutlineWidth: 1,
        CharacterDirection: 0,
        HindiNumbers: !1,
        Kashida: 1,
        DiacriticPos: 2
    };
    ap.q8 = {
        EngineDict: {
            Editor: {
                Text: "\n"
            },
            ParagraphRun: {
                DefaultRunData: {
                    ParagraphSheet: {
                        DefaultStyleSheet: 0,
                        Properties: {}
                    },
                    Adjustments: {
                        Axis: [1, 0, 1],
                        XY: [0, 0]
                    }
                },
                RunArray: [{
                    ParagraphSheet: {
                        DefaultStyleSheet: 0,
                        Properties: JSON.parse(JSON.stringify(ap.wD))
                    },
                    Adjustments: {
                        Axis: [1, 0, 1],
                        XY: [0, 0]
                    }
                }],
                RunLengthArray: [1],
                IsJoinable: 1
            },
            StyleRun: {
                DefaultRunData: {
                    StyleSheet: {
                        StyleSheetData: {}
                    }
                },
                RunArray: [{
                    StyleSheet: {
                        StyleSheetData: {
                            Font: 0,
                            FontSize: 24,
                            AutoKerning: !0,
                            Kerning: 0
                        }
                    }
                }],
                RunLengthArray: [1],
                IsJoinable: 2
            },
            GridInfo: {
                GridIsOn: !1,
                ShowGrid: !1,
                GridSize: 18,
                GridLeading: 22,
                GridColor: {
                    Type: 1,
                    Values: [0, 0, 0, 1]
                },
                GridLeadingFillColor: {
                    Type: 1,
                    Values: [0, 0, 0, 1]
                },
                AlignLineHeightToGridFlags: !1
            },
            AntiAlias: 4,
            UseFractionalGlyphWidths: !0,
            Rendered: {
                Version: 1,
                Shapes: {
                    WritingDirection: 0,
                    Children: [{
                        ShapeType: 0,
                        Procession: 0,
                        Lines: {
                            WritingDirection: 0,
                            Children: []
                        },
                        Cookie: {
                            Photoshop: {
                                ShapeType: 0,
                                PointBase: [0, 0],
                                Base: {
                                    ShapeType: 0,
                                    TransformPoint0: [1, 0],
                                    TransformPoint1: [0, 1],
                                    TransformPoint2: [0, 0]
                                }
                            }
                        }
                    }]
                }
            }
        },
        ResourceDict: {
            KinsokuSet: [{
                Name: "PhotoshopKinsokuHard",
                NoStart: "\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",
                NoEnd: "\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",
                Keep: "\u2015\u2025",
                Hanging: "\u3001\u3002.,"
            }, {
                Name: "PhotoshopKinsokuSoft",
                NoStart: "\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",
                NoEnd: "\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",
                Keep: "\u2015\u2025",
                Hanging: "\u3001\u3002.,"
            }],
            MojiKumiSet: [{
                InternalName: "Photoshop6MojiKumiSet1"
            }, {
                InternalName: "Photoshop6MojiKumiSet2"
            }, {
                InternalName: "Photoshop6MojiKumiSet3"
            }, {
                InternalName: "Photoshop6MojiKumiSet4"
            }],
            TheNormalStyleSheet: 0,
            TheNormalParagraphSheet: 0,
            ParagraphSheetSet: [{
                Name: "Normal RGB",
                DefaultStyleSheet: 0,
                Properties: JSON.parse(JSON.stringify(ap.wD))
            }],
            StyleSheetSet: [{
                Name: "Normal RGB",
                StyleSheetData: JSON.parse(JSON.stringify(ap.a5S))
            }],
            FontSet: [{
                Name: "DejaVuSans",
                Script: 0,
                FontType: 1,
                Synthetic: 0
            }, {
                Name: "AdobeInvisFont",
                Script: 0,
                FontType: 0,
                Synthetic: 0
            }, {
                Name: "MyriadHebrew-Regular",
                Script: 6,
                FontType: 0,
                Synthetic: 0
            }],
            SuperscriptSize: .583,
            SuperscriptPosition: .333,
            SubscriptSize: .583,
            SubscriptPosition: .333,
            SmallCapSize: .7
        }
    };
    var hI = {};
    hI.akf = function (Y) {
        return hI.a9T(Y._0, Y._1)
    }
        ;
    hI.a9I = function (Y, S, h) {
        var q = {};
        q._98 = {
            _0: "i7"
        };
        q._0 = hI.afp(Y, S, h ? h._0 : null);
        q._1 = hI.am9(Y, S, q._0, h ? h._1 : null);
        return q
    }
        ;
    hI.afp = function (Y, S, h) {
        var q = {};
        q._1 = hI.adn(Y, h ? h._1 : null);
        q._2 = {
            _0: [{
                _0: {
                    _0: "s"
                }
            }],
            _1: [{
                _0: "i0"
            }]
        };
        q._3 = JSON.parse(JSON.stringify(hI.a1t));
        q._4 = JSON.parse(JSON.stringify(hI.alF));
        q._5 = hI.a2j(Y, q._1._0, h ? h._5 : null);
        q._6 = hI.a2m(Y, h ? h._6 : null);
        q._8 = hI.a4j(Y, S, h ? h._8 : null);
        q._9 = hI.a3x;
        return q
    }
        ;
    hI.adn = function (Y, S) {
        var h = []
            , q = [];
        for (var G = 0; G < Y.length; G++) {
            var H = Y[G].ResourceDict.FontSet;
            for (var I = 0; I < H.length; I++) {
                var E = H[I];
                if (q.indexOf(E.Name) != -1)
                    continue;
                h.push(E);
                q.push(E.Name)
            }
        }
        var d = {
            _0: []
        };
        for (var G = 0; G < h.length; G++) {
            var B = h[G]
                , n = {
                    _0: {
                        _99: "/CoolTypeFont",
                        _0: {
                            _0: "s" + B.Name,
                            _1: "i" + B.Script,
                            _2: "i" + B.FontType
                        }
                    }
                };
            if (B.Script == 0)
                delete n._0._0._1;
            d._0.push(n)
        }
        return d
    }
        ;
    hI.a2j = function (Y, S, h) {
        var q = {
            _0: [],
            _1: []
        }
            , H = {
                _0: JSON.parse(JSON.stringify(hI.WI))
            };
        hI.x7(H._0, Y[0].ResourceDict.StyleSheetSet[0], S, Y[0].ResourceDict.FontSet);
        q._0.push(H);
        q._1.push({
            _0: "i0"
        });
        q._0.push({
            _0: {
                _0: "sNone",
                _5: "i0",
                _6: {}
            }
        });
        q._1.push({
            _0: "i1"
        });
        return q
    }
        ;
    hI.a2m = function (Y, S) {
        var h = {
            _0: [],
            _1: []
        }
            , q = {
                _0: JSON.parse(JSON.stringify(hI.Ym))
            };
        hI.h7(q._0, Y[0].ResourceDict.ParagraphSheetSet[0]);
        h._0.push(q);
        h._1.push({
            _0: "i0"
        });
        q = {
            _0: JSON.parse(JSON.stringify(hI.Ym))
        };
        hI.h7(q._0, Y[0].ResourceDict.ParagraphSheetSet[0]);
        q._0._0 = "sBasic Paragraph";
        q._0._6 = "i0";
        h._0.push(q);
        h._1.push({
            _0: "i1"
        });
        return h
    }
        ;
    hI.a4j = function (Y, S, h) {
        var q = {
            _0: []
        };
        for (var G = 0; G < Y.length; G++) {
            var H = Y[G].Curve
                , I = {};
            q._0.push({
                _0: I
            });
            var E = ap.Vu(Y[G]);
            I._2 = {};
            I._2._0 = "i" + E;
            if (E == 0) {
                I._2._6 = ["f-1", "f-1"];
                I._2._11 = {
                    _4: "i-1",
                    _7: !1
                }
            } else if (E == 1 && H == null) {
                var d = ap.mu(Y[G])
                    , B = d[2]
                    , n = d[3];
                I._1 = {
                    _0: hI.XF("f", [0, 0, 0, 0, B, 0, B, 0, B, 0, B, 0, B, n, B, n, B, n, B, n, 0, n, 0, n, 0, n, 0, n, 0, 0, 0, 0])
                };
                I._2._6 = ["f-2", "f-2"];
                I._2._11 = {
                    _4: "i-2",
                    _7: !1
                }
            } else if (E == 1) {
                var d = ap.mu(Y[G])
                    , B = d[2]
                    , n = d[3];
                I._1 = {
                    _0: hI.XF("f", H.Points)
                };
                I._2._6 = ["f-3", "f-3"];
                I._2._11 = {
                    _4: "i-3",
                    _7: !1
                }
            } else if (E == 2) {
                I._1 = {
                    _0: hI.XF("f", H.Points)
                };
                I._2._6 = hI.XF("f", H.TextOnPathTRange);
                I._2._11 = {
                    _0: H.Reversed,
                    _3: "i0",
                    _5: "f0",
                    _7: !1
                }
            }
        }
        return q
    }
        ;
    hI.am9 = function (Y, S, h, q) {
        var H = {};
        H._0 = JSON.parse(JSON.stringify(hI.a7R));
        H._1 = hI.adO(Y, S, h, q ? q._1 : null);
        H._2 = JSON.parse(JSON.stringify(hI.WI._6));
        H._3 = JSON.parse(JSON.stringify(hI.Ym._5));
        return H
    }
        ;
    hI.a9T = function (Y, S) {
        return hI.ajV(Y, S._1)
    }
        ;
    hI.adO = function (Y, S, h, q) {
        var H = []
            , I = h._1._0;
        for (var G = 0; G < Y.length; G++) {
            var E = Y[G]
                , d = {
                    _0: {}
                };
            H.push(d);
            var B = q ? q[G] : null;
            d._0._0 = "s" + E.EngineDict.Editor.Text;
            d._0._0 = d._0._0;
            var n = {
                _0: []
            };
            d._0._5 = n;
            var g = E.EngineDict.ParagraphRun;
            for (var z = 0; z < g.RunArray.length; z++) {
                var p = {
                    _0: {}
                };
                n._0.push(p);
                p._0._0 = {
                    _0: "s",
                    _5: {},
                    _6: "i1"
                };
                hI.h7(p._0._0, E.EngineDict.ParagraphRun.RunArray[z].ParagraphSheet);
                p._1 = "i" + g.RunLengthArray[z]
            }
            var C = {
                _0: []
            };
            d._0._6 = C;
            var T = B ? B._0._6 : null;
            g = E.EngineDict.StyleRun;
            for (var z = 0; z < g.RunArray.length; z++) {
                var A = {
                    _0: {}
                };
                C._0.push(A);
                var i = T ? T._0 : null;
                A._0._0 = {
                    _0: "s",
                    _5: "i1",
                    _6: {}
                };
                hI.x7(A._0._0, E.EngineDict.StyleRun.RunArray[z].StyleSheet, I, E.ResourceDict.FontSet, i ? A._0._0 : null);
                A._1 = "i" + g.RunLengthArray[z]
            }
            d._0._10 = {
                _0: "i4",
                _2: !0
            };
            d._1 = hI.view.akq(E, null, G, null)
        }
        return H
    }
        ;
    hI.ajV = function (Y, S) {
        var h = []
            , q = null;
        for (var G = 0; G < S.length; G++) {
            var H = ap.tP();
            h.push(H);
            var I = S[G];
            H.EngineDict.Editor.Text = I._0._0.slice(1);
            var E = H.EngineDict.ParagraphRun.RunArray[0]
                , d = H.EngineDict.ParagraphRun
                , B = I._0._5;
            for (var n = 0; n < B._0.length; n++) {
                var g = B._0[n];
                d.RunLengthArray[n] = parseInt(g._1.slice(1));
                H.EngineDict.ParagraphRun.RunArray[n] = JSON.parse(JSON.stringify(E));
                hI.ab5(g._0._0, H.EngineDict.ParagraphRun.RunArray[n].ParagraphSheet)
            }
            var z = I._0._6;
            E = H.EngineDict.StyleRun.RunArray[0];
            d = H.EngineDict.StyleRun;
            if (z)
                for (var n = 0; n < z._0.length; n++) {
                    var p = z._0[n];
                    d.RunLengthArray[n] = parseInt(p._1.slice(1));
                    H.EngineDict.StyleRun.RunArray[n] = JSON.parse(JSON.stringify(E));
                    hI.anu(p._0._0, H.EngineDict.StyleRun.RunArray[n].StyleSheet, q, H.ResourceDict.FontSet)
                }
            else
                d.RunLengthArray[0] = ap.lo(H).length
        }
        return h
    }
        ;
    hI.x7 = function (Y, S, h, q, H) {
        Y._0 = "s" + (S.Name ? S.Name : "");
        var I = Y._6
            , E = H ? H._6 : null
            , d = S.StyleSheetData;
        if (d.Font == null)
            return;
        var B = q[d.Font].Name
            , n = -1;
        for (var G = 0; G < h.length; G++)
            if ("s" + B == h[G]._0._0._0) {
                n = G;
                break
            }
        I._0 = "i" + n;
        if (d.FontSize != null)
            I._1 = "f" + d.FontSize;
        if (d.FauxBold != null)
            I._2 = d.FauxBold;
        if (d.FauxItalic != null)
            I._3 = d.FauxItalic;
        if (d.AutoLeading != null)
            I._4 = d.AutoLeading;
        if (d.Leading != null)
            I._5 = "f" + d.Leading;
        if (d.HorizontalScale != null)
            I._6 = "f" + d.HorizontalScale;
        if (d.VerticalScale != null)
            I._7 = "f" + d.VerticalScale;
        if (d.Tracking != null)
            I._8 = "i" + d.Tracking;
        if (d.BaselineShift != null)
            I._9 = "f" + d.BaselineShift;
        if (d.AutoKerning != null)
            I._11 = "i" + (d.AutoKerning ? 1 : 0);
        if (d.FontCaps != null)
            I._12 = "i" + d.FontCaps;
        if (d.FontBaseline != null)
            I._13 = "i" + d.FontBaseline;
        if (d.Strikethrough != null)
            I._15 = "i" + (d.Strikethrough ? 1 : 0);
        if (d.Underline != null)
            I._16 = "i" + (d.Underline ? 2 : 0);
        if (d.Ligatures != null)
            I._18 = d.Ligatures;
        if (d.DLigatures != null)
            I._19 = d.DLigatures;
        if (d.Language != null)
            I._38 = "i" + d.Language;
        if (d.FillColor != null)
            I._53 = {
                _99: "/SimplePaint",
                _0: {
                    _0: "i1",
                    _1: hI.XF("f", d.FillColor.Values)
                }
            }
    }
        ;
    hI.anu = function (Y, S, h, q) {
        var H = Y._6
            , I = S.StyleSheetData;
        if (H._1)
            I.FontSize = parseFloat(H._1.slice(1));
        if (H._8)
            I.Tracking = parseFloat(H._8.slice(1));
        if (H._53) {
            var E = H._53._0._1
                , d = [];
            for (var G = 0; G < 4; G++)
                d[G] = parseFloat(E[G].slice(1));
            I.FillColor = {
                Type: 1,
                Values: d
            }
        }
    }
        ;
    hI.h7 = function (Y, S) {
        Y._0 = "s" + (S.Name ? S.Name : "");
        var h = Y._5
            , q = S.Properties;
        if (q.Justification != null)
            h._0 = "i" + q.Justification;
        if (q.FirstLineIndent != null)
            h._1 = "f" + q.FirstLineIndent;
        if (q.StartIndent != null)
            h._2 = "f" + q.StartIndent;
        if (q.EndtIndent != null)
            h._3 = "f" + q.EndtIndent;
        if (q.SpaceBefore != null)
            h._4 = "f" + q.SpaceBefore;
        if (q.SpaceAfter != null)
            h._5 = "f" + q.SpaceAfter;
        if (q.AutoHyphenate != null)
            h._9 = q.AutoHyphenate;
        if (q._Direction != null)
            h._33 = "i" + q._Direction
    }
        ;
    hI.ab5 = function (Y, S) {
        var h = Y._5
            , q = S.Properties;
        if (h._0)
            q.Justification = parseInt(h._0.slice(1))
    }
        ;
    hI.XF = function (Y, S) {
        var h = [];
        for (var G = 0; G < S.length; G++)
            h.push(Y + S[G]);
        return h
    }
        ;
    hI.a1t = {
        _0: [{
            _0: {
                _0: "sPhotoshop6MojiKumiSet4",
                _5: {
                    _0: "i0",
                    _3: "i2"
                }
            }
        }, {
            _0: {
                _0: "sPhotoshop6MojiKumiSet3",
                _5: {
                    _0: "i0",
                    _3: "i4"
                }
            }
        }, {
            _0: {
                _0: "sPhotoshop6MojiKumiSet2",
                _5: {
                    _0: "i0",
                    _3: "i3"
                }
            }
        }, {
            _0: {
                _0: "sPhotoshop6MojiKumiSet1",
                _5: {
                    _0: "i0",
                    _3: "i1"
                }
            }
        }, {
            _0: {
                _0: "sYakumonoHankaku",
                _5: {
                    _0: "i0",
                    _3: "i1"
                }
            }
        }, {
            _0: {
                _0: "sGyomatsuYakumonoHankaku",
                _5: {
                    _0: "i0",
                    _3: "i3"
                }
            }
        }, {
            _0: {
                _0: "sGyomatsuYakumonoZenkaku",
                _5: {
                    _0: "i0",
                    _3: "i4"
                }
            }
        }, {
            _0: {
                _0: "sYakumonoZenkaku",
                _5: {
                    _0: "i0",
                    _3: "i2"
                }
            }
        }],
        _1: [{
            _0: "i0"
        }, {
            _0: "i1"
        }, {
            _0: "i2"
        }, {
            _0: "i3"
        }, {
            _0: "i4"
        }, {
            _0: "i5"
        }, {
            _0: "i6"
        }, {
            _0: "i7"
        }]
    };
    hI.alF = {
        _0: [{
            _0: {
                _0: "sNone",
                _5: {
                    _0: "s",
                    _1: "s",
                    _2: "s",
                    _3: "s",
                    _4: "i0"
                }
            }
        }, {
            _0: {
                _0: "sPhotoshopKinsokuHard",
                _5: {
                    _0: "s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",
                    _1: "s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",
                    _2: "s\u2014\u2025\u2026",
                    _3: "s\u3001\u3002\uFF0C\uFF0E",
                    _4: "i1"
                }
            }
        }, {
            _0: {
                _0: "sPhotoshopKinsokuSoft",
                _5: {
                    _0: "s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",
                    _1: "s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",
                    _2: "s\u2014\u2025\u2026",
                    _3: "s\u3001\u3002\uFF0C\uFF0E",
                    _4: "i2"
                }
            }
        }, {
            _0: {
                _0: "sHard",
                _5: {
                    _0: "s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",
                    _1: "s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",
                    _2: "s\u2014\u2025\u2026",
                    _3: "s\u3001\u3002\uFF0C\uFF0E",
                    _4: "i1"
                }
            }
        }, {
            _0: {
                _0: "sSoft",
                _5: {
                    _0: "s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",
                    _1: "s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",
                    _2: "s\u2014\u2025\u2026",
                    _3: "s\u3001\u3002\uFF0C\uFF0E",
                    _4: "i2"
                }
            }
        }],
        _1: [{
            _0: "i0"
        }, {
            _0: "i1"
        }, {
            _0: "i2"
        }, {
            _0: "i3"
        }, {
            _0: "i4"
        }]
    };
    hI.WI = {
        _0: "sNormal RGB",
        _6: {
            _0: "i0",
            _1: "f12",
            _2: !1,
            _3: !1,
            _4: !0,
            _5: "f0",
            _6: "f1",
            _7: "f1",
            _8: "i0",
            _9: "f0",
            _10: "f0",
            _11: "i1",
            _12: "i0",
            _13: "i0",
            _14: "i0",
            _15: "i0",
            _16: "i0",
            _17: "f0",
            _18: !0,
            _19: !1,
            _20: !1,
            _21: !1,
            _22: !1,
            _23: !1,
            _24: !1,
            _25: !1,
            _26: !1,
            _27: !1,
            _28: !1,
            _29: !1,
            _30: "i0",
            _31: !1,
            _32: !1,
            _33: !1,
            _34: !1,
            _35: "i2",
            _36: "f0",
            _37: "i2",
            _38: "i0",
            _39: "i0",
            _40: !1,
            _41: "i2",
            _42: "i0",
            _43: {
                _0: "f.5"
            },
            _44: "i2",
            _45: "i2",
            _46: "i7",
            _47: "i0",
            _48: "i0",
            _49: "f-1",
            _50: "f-1",
            _51: "i0",
            _52: !1,
            _53: {
                _99: "/SimplePaint",
                _0: {
                    _0: "i1",
                    _1: ["f1", "f0", "f0", "f0"]
                }
            },
            _54: {
                _99: "/SimplePaint",
                _0: {
                    _0: "i1",
                    _1: ["f1", "f0", "f0", "f0"]
                }
            },
            _55: {
                _99: "/SimpleBlender"
            },
            _56: !0,
            _57: !1,
            _58: !0,
            _59: !1,
            _60: !1,
            _61: "i0",
            _62: "i0",
            _63: "f1",
            _64: "f4",
            _65: "f0",
            _66: [],
            _67: [],
            _68: "i0",
            _69: "i0",
            _70: "i0",
            _71: "i4",
            _72: "f0",
            _73: "f0",
            _74: !1,
            _75: !1,
            _76: !1,
            _77: !0,
            _78: !0,
            _79: {
                _99: "/SimplePaint",
                _0: {
                    _0: "i1",
                    _1: ["f1", "f1", "f1", "f0"]
                }
            },
            _80: !1,
            _81: "i0",
            _82: "f3",
            _83: "f3",
            _84: !1,
            _85: "i0",
            _86: {
                _99: "/SimpleCustomFeature"
            },
            _87: "f100",
            _88: !0
        }
    };
    hI.Ym = {
        _0: "sNormal RGB",
        _5: {
            _0: "i0",
            _1: "f0",
            _2: "f0",
            _3: "f0",
            _4: "f0",
            _5: "f0",
            _6: "i1",
            _7: "f1.2",
            _8: "i0",
            _9: !0,
            _10: "i6",
            _11: "i2",
            _12: "i2",
            _13: "i0",
            _14: "f36",
            _15: !0,
            _16: "f.5",
            _17: ["f.8", "f1", "f1.33"],
            _18: ["f0", "f0", "f0"],
            _19: ["f1", "f1", "f1"],
            _20: "i6",
            _21: !1,
            _22: "i0",
            _23: !0,
            _24: "i0",
            _25: "i0",
            _27: "/nil",
            _26: !1,
            _28: "/nil",
            _29: !1,
            _30: {},
            _31: "f36",
            _32: {},
            _33: "i0",
            _34: "i7",
            _35: "i1",
            _36: "/nil",
            _37: "i0",
            _38: !1,
            _39: "i0",
            _40: "i2"
        }
    };
    hI.a3x = {
        _0: [{
            _0: {
                _0: "skPredefinedNumericListStyleTag",
                _6: "i1"
            }
        }, {
            _0: {
                _0: "skPredefinedUppercaseAlphaListStyleTag",
                _6: "i2"
            }
        }, {
            _0: {
                _0: "skPredefinedLowercaseAlphaListStyleTag",
                _6: "i3"
            }
        }, {
            _0: {
                _0: "skPredefinedUppercaseRomanNumListStyleTag",
                _6: "i4"
            }
        }, {
            _0: {
                _0: "skPredefinedLowercaseRomanNumListStyleTag",
                _6: "i5"
            }
        }, {
            _0: {
                _0: "skPredefinedBulletListStyleTag",
                _6: "i6"
            }
        }],
        _1: [{
            _0: "i0"
        }, {
            _0: "i1"
        }, {
            _0: "i2"
        }, {
            _0: "i3"
        }, {
            _0: "i4"
        }, {
            _0: "i5"
        }]
    };
    hI.a7R = {
        _0: {
            _0: "i1",
            _1: [{
                _0: "s ",
                _1: "s1"
            }, {
                _0: "s\r",
                _1: "s6"
            }, {
                _0: "s\t",
                _1: "s0"
            }, {
                _0: "s\u2029",
                _1: "s5"
            }, {
                _0: "s\x03",
                _1: "s5"
            }, {
                _0: "s\u3000",
                _1: "s1"
            }, {
                _0: "s\xAD",
                _1: "s3"
            }]
        },
        _1: "i0",
        _2: "i0",
        _3: "f.583",
        _4: "f.333",
        _5: "f.583",
        _6: "f.333",
        _7: "f.7",
        _8: !0,
        _9: [{
            _0: "i0",
            _1: "s\u201C",
            _2: "s\u201D",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i1",
            _1: "s\u201D",
            _2: "s\u201D",
            _3: "s\u2019",
            _4: "s\u2019"
        }, {
            _0: "i2",
            _1: "s\xAB",
            _2: "s\xBB",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i3",
            _1: "s\xAB",
            _2: "s\xBB",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i4",
            _1: "s\u201E",
            _2: "s\u201C",
            _3: "s\u201A",
            _4: "s\u2018"
        }, {
            _0: "i5",
            _1: "s\u201E",
            _2: "s\u201C",
            _3: "s\u201A",
            _4: "s\u2018"
        }, {
            _0: "i6",
            _1: "s\xAB",
            _2: "s\xBB",
            _3: "s\u2039",
            _4: "s\u203A"
        }, {
            _0: "i7",
            _1: "s\u201C",
            _2: "s\u201D",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i8",
            _1: "s\xAB",
            _2: "s\xBB",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i9",
            _1: "s\xAB",
            _2: "s\xBB",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i10",
            _1: "s\u201C",
            _2: "s\u201D",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i11",
            _1: "s\u201C",
            _2: "s\u201D",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i12",
            _1: "s\u201C",
            _2: "s\u201D",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i13",
            _1: "s\u201D",
            _2: "s\u201D",
            _3: "s\u2019",
            _4: "s\u2019"
        }, {
            _0: "i14",
            _1: "s\u201C",
            _2: "s\u201D",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i15",
            _1: "s\u201C",
            _2: "s\u201D",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i16",
            _1: "s\u201D",
            _2: "s\u201D",
            _3: "s\u2019",
            _4: "s\u2019"
        }, {
            _0: "i17",
            _1: "s\u201C",
            _2: "s\u201D",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i18",
            _1: "s\xAB",
            _2: "s\xBB",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i19",
            _1: "s\xAB",
            _2: "s\xBB",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i20",
            _1: "s\u201E",
            _2: "s\u201C",
            _3: "s\u201A",
            _4: "s\u2018"
        }, {
            _0: "i21",
            _1: "s\u201E",
            _2: "s\u201C",
            _3: "s\u201A",
            _4: "s\u2018"
        }, {
            _0: "i22",
            _1: "s\u201E",
            _2: "s\u201C",
            _3: "s\u201A",
            _4: "s\u2018"
        }, {
            _0: "i23",
            _1: "s\u201E",
            _2: "s\u201D",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i24",
            _1: "s\u201E",
            _2: "s\u201D",
            _3: "s\u201A",
            _4: "s\u2019"
        }, {
            _0: "i25",
            _1: "s\xAB",
            _2: "s\xBB",
            _3: "s\u2039",
            _4: "s\u203A"
        }, {
            _0: "i26",
            _1: "s\u201C",
            _2: "s\u201D",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i27",
            _1: "s\u201C",
            _2: "s\u201D",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i28",
            _1: "s\u201E",
            _2: "s\u201D",
            _3: "s\u2019",
            _4: "s\u2019"
        }, {
            _0: "i29",
            _1: "s\u301D",
            _2: "s\u301E"
        }, {
            _0: "i30",
            _1: "s\u300C",
            _2: "s\u300D"
        }, {
            _0: "i31",
            _1: "s\u201E",
            _2: "s\u201C",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i32",
            _1: "s\u201C",
            _2: "s\u201D",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i33",
            _1: "s\u201E",
            _2: "s\u201C",
            _3: "s\u201A",
            _4: "s\u2018"
        }, {
            _0: "i34",
            _1: "s\xAB",
            _2: "s\xBB",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i35",
            _1: "s\u201C",
            _2: "s\u201D",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i36",
            _1: "s\u201E",
            _2: "s\u201C",
            _3: "s\u201A",
            _4: "s\u2018"
        }, {
            _0: "i37",
            _1: "s\xAB",
            _2: "s\xBB",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i38",
            _1: "s\u201E",
            _2: "s\u201C",
            _3: "s\u201A",
            _4: "s\u2018"
        }, {
            _0: "i39",
            _1: "s\xAB",
            _2: "s\xBB",
            _3: "s<",
            _4: "s>"
        }, {
            _0: "i40",
            _1: "s\u201E",
            _2: "s\u201C",
            _3: "s\u201A",
            _4: "s\u2018"
        }, {
            _0: "i41",
            _1: "s\xAB",
            _2: "s\xBB",
            _3: "s<",
            _4: "s>"
        }, {
            _0: "i42",
            _1: "s\u201E",
            _2: "s\u201C",
            _3: "s\u201A",
            _4: "s\u2018"
        }, {
            _0: "i43",
            _1: "s\u201C",
            _2: "s\u201D",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i44",
            _1: "s\xAB",
            _2: "s\xBB",
            _3: "s\u2039",
            _4: "s\u203A"
        }, {
            _0: "i45",
            _1: "s\u201C",
            _2: "s\u201D",
            _3: "s\u2018",
            _4: "s\u2019"
        }],
        _15: {
            _0: "sWinSoft"
        },
        _16: !1
    };
    var aE = {};
    aE.a1n = function (Y) {
        return aE.fx(Y, aE.uK, 0)
    }
        ;
    aE.a2t = function (Y) {
        return aE.Q4(Y, aE.uK)
    }
        ;
    aE.fx = function (Y, S, h) {
        var q;
        if (typeof Y == "string")
            return Y;
        if (Y instanceof Array) {
            q = [];
            for (var G = 0; G < Y.length; G++)
                q[G] = aE.fx(Y[G], S, h + 1)
        } else {
            q = {};
            var H = {};
            for (var I in S) {
                var E = S[I]
                    , d = "_" + E[0];
                if (Y[d] != null) {
                    q[I] = E[1] ? aE.fx(Y[d], E[1], h + 1) : Y[d];
                    H[d] = !0
                }
            }
            for (var I in Y) {
                if (H[I] == null) {
                    console.log(H);
                    console.log(I, Y, S);
                    throw "e"
                }
            }
        }
        return q
    }
        ;
    aE.Q4 = function (Y, S) {
        var h;
        if (Y instanceof Array) {
            h = [];
            for (var G = 0; G < Y.length; G++)
                h[G] = aE.Q4(Y[G], S)
        } else {
            h = {};
            var q = {};
            for (var H in S) {
                var I = S[H]
                    , E = "_" + I[0];
                if (Y[H] != null) {
                    h[E] = I[1] ? aE.Q4(Y[H], I[1]) : Y[H];
                    q[H] = !0
                }
            }
            for (var H in Y) {
                if (q[H] == null) {
                    console.log(q);
                    console.log(H, Y);
                    throw "e"
                }
            }
        }
        return h
    }
        ;
    aE.A6 = {
        _StreamTag: [99],
        _5: [5],
        _Color: [0, {
            _Type: [0],
            _Values: [1]
        }]
    };
    aE.Qu = {
        _Font: [0],
        _FontSize: [1],
        _FauxBold: [2],
        _FauxItalic: [3],
        _AutoLeading: [4],
        _Leading: [5],
        _HorizontalScale: [6],
        _VerticalScale: [7],
        _Tracking: [8],
        _BaselineShift: [9],
        _CharacterRotation: [10],
        _AutoKern: [11],
        _FontCaps: [12],
        _FontBaseline: [13],
        _FontOTPosition: [14],
        _StrikethroughPosition: [15],
        _UnderlinePosition: [16],
        _UnderlineOffset: [17],
        _Ligatures: [18],
        _DiscretionaryLigatures: [19],
        _ContextualLigatures: [20],
        _AlternateLigatures: [21],
        _OldStyle: [22],
        _Fractions: [23],
        _Ordinals: [24],
        _Swash: [25],
        _Titling: [26],
        _ConnectionForms: [27],
        _StylisticAlternates: [28],
        _Ornaments: [29],
        _FigureStyle: [30],
        _ProportionalMetrics: [31],
        _Kana: [32],
        _Italics: [33],
        _Ruby: [34],
        _BaselineDirection: [35],
        _Tsume: [36],
        _StyleRunAlignment: [37],
        _Language: [38],
        _JapaneseAlternateFeature: [39],
        _EnableWariChu: [40],
        _WariChuLineCount: [41],
        _WariChuLineGap: [42],
        _WariChuSubLineAmount: [43, {
            _WariChuSubLineScale: [0]
        }],
        _WariChuWidowAmount: [44],
        _WariChuOrphanAmount: [45],
        _WariChuJustification: [46],
        _TCYUpDownAdjustment: [47],
        _TCYLeftRightAdjustment: [48],
        _LeftAki: [49],
        _RightAki: [50],
        _JiDori: [51],
        _NoBreak: [52],
        _FillColor: [53, aE.A6],
        _StrokeColor: [54, aE.A6],
        _Blend: [55, {
            _StreamTag: [99]
        }],
        _FillFlag: [56],
        _StrokeFlag: [57],
        _FillFirst: [58],
        _FillOverPrint: [59],
        _StrokeOverPrint: [60],
        _LineCap: [61],
        _LineJoin: [62],
        _LineWidth: [63],
        _MiterLimit: [64],
        _LineDashOffset: [65],
        _LineDashArray: [66],
        _Type1EncodingNames: [67],
        _Kashidas: [68],
        _DirOverride: [69],
        _DigitSet: [70],
        _DiacVPos: [71],
        _DiacXOffset: [72],
        _DiacYOffset: [73],
        _OverlapSwash: [74],
        _JustificationAlternates: [75],
        _StretchedAlternates: [76],
        _FillVisibleFlag: [77],
        _StrokeVisibleFlag: [78],
        _FillBackgroundColor: [79, aE.A6],
        _FillBackgroundFlag: [80],
        _UnderlineStyle: [81],
        _DashedUnderlineGapLength: [82],
        _DashedUnderlineDashLength: [83],
        _SlashedZero: [84],
        _StylisticSets: [85],
        _CustomFeature: [86, {
            _StreamTag: [99]
        }],
        _87: [87],
        _88: [88]
    };
    aE.gZ = {
        _Justification: [0],
        _FirstLineIndent: [1],
        _StartIndent: [2],
        _EndIndent: [3],
        _SpaceBefore: [4],
        _SpaceAfter: [5],
        _DropCaps: [6],
        _AutoLeading: [7],
        _LeadingType: [8],
        _AutoHyphenate: [9],
        _HyphenatedWordSize: [10],
        _PreHyphen: [11],
        _PostHyphen: [12],
        _ConsecutiveHyphens: [13],
        _Zone: [14],
        _HyphenateCapitalized: [15],
        _HyphenationPreference: [16],
        _WordSpacing: [17],
        _LetterSpacing: [18],
        _GlyphSpacing: [19],
        _SingleWordJustification: [20],
        _Hanging: [21],
        _AutoTCY: [22],
        _KeepTogether: [23],
        _BurasagariType: [24],
        _KinsokuOrder: [25],
        _Kinsoku: [27],
        _KurikaeshiMojiShori: [26],
        _MojiKumiTable: [28],
        _EveryLineComposer: [29],
        _TabStops: [30],
        _DefaultTabWidth: [31],
        _DefaultStyle: [32, aE.Qu],
        _ParagraphDirection: [33],
        _JustificationMethod: [34],
        _ComposerEngine: [35],
        _ListStyle: [36],
        _ListTier: [37],
        _ListSkip: [38],
        _ListOffset: [39],
        _40: [40]
    };
    aE.pV = {
        _Name: [0],
        _Features: [5, aE.gZ],
        _Parent: [6]
    };
    aE.uV = {
        _Name: [0],
        _Parent: [5],
        _Features: [6, aE.Qu]
    };
    aE.uK = {
        _98: [98, {
            _0: [0]
        }],
        _DocumentResources: [0, {
            _0: [0],
            _FontSet: [1, {
                _Resources: [0, {
                    _Resource: [0, {
                        _StreamTag: [99],
                        _Identifier: [0, {
                            _Name: [0],
                            _ScriptType: [1],
                            _Type: [2],
                            _Synthetic: [3],
                            _4: [4]
                        }]
                    }]
                }],
                _1: [1, {
                    _0: [0]
                }]
            }],
            _MojiKumiCodeToClassSet: [2, {
                _Resources: [0, {
                    _Resource: [0, {
                        _Name: [0],
                        _5: [5]
                    }]
                }],
                _DisplayList: [1, {
                    _Resource: [0]
                }]
            }],
            _MojiKumiTableSet: [3, {
                _Resources: [0, {
                    _Resource: [0, {
                        _Name: [0],
                        _Members: [5, {
                            _CodeToClass: [0],
                            _AutoTsume: [1, {
                                _TsumeMappings: [0, {
                                    _Before: [0],
                                    _After: [1],
                                    _Code: [2]
                                }]
                            }],
                            _Table: [2, {
                                _DataArray: [0, {
                                    _SparseArray: [0, {
                                        _Index: [0],
                                        _Elements: [1, {
                                            _P: [0],
                                            _Data: [1, {
                                                _A: [0, {
                                                    _R: [0],
                                                    _P: [1]
                                                }],
                                                _B: [1, {
                                                    _R: [0],
                                                    _P: [1]
                                                }]
                                            }]
                                        }]
                                    }]
                                }]
                            }],
                            _PredefinedTag: [3]
                        }]
                    }]
                }],
                _DisplayList: [1, {
                    _Resource: [0]
                }]
            }],
            _KinsokuSet: [4, {
                _Resources: [0, {
                    _Resource: [0, {
                        _Name: [0],
                        _Data: [5, {
                            _NoStart: [0],
                            _NoEnd: [1],
                            _Keep: [2],
                            _Hanging: [3],
                            _PredefinedTag: [4]
                        }]
                    }]
                }],
                _DisplayList: [1, {
                    _Resource: [0]
                }]
            }],
            _StyleSheetSet: [5, {
                _Resources: [0, {
                    _Resource: [0, aE.uV]
                }],
                _DisplayList: [1, {
                    _Resource: [0]
                }]
            }],
            _ParagraphSheetSet: [6, {
                _Resources: [0, {
                    _Resource: [0, aE.pV]
                }],
                _DisplayList: [1, {
                    _Resource: [0]
                }]
            }],
            _TextFrameSet: [8, {
                _Resources: [0, {
                    _Resource: [0, {
                        _0: [0],
                        _Bezier: [1, {
                            _Points: [0]
                        }],
                        _Data: [2, {
                            _Type: [0],
                            _LineOrientation: [1],
                            _FrameMatrix: [2],
                            _TextOnPathTRange: [6],
                            _RowGutter: [7],
                            _ColumnGutter: [8],
                            _FirstBaselineAlignment: [10, {
                                _Flag: [0],
                                _Min: [1]
                            }],
                            _PathData: [11, {
                                _Reversed: [0],
                                _2: [2],
                                _3: [3],
                                _Spacing: [4],
                                _5: [5],
                                _7: [7]
                            }],
                            _12: [12]
                        }]
                    }]
                }]
            }],
            _ListStyleSet: [9, {
                _Resources: [0, {
                    _Resource: [0, {
                        _Name: [0],
                        _PredefinedTag: [6]
                    }]
                }],
                _DisplayList: [1, {
                    _Resource: [0]
                }]
            }]
        }],
        _DocumentObjects: [1, {
            _DocumentSettings: [0, {
                _HiddenGlyphFont: [0, {
                    _AlternateGlyphFont: [0],
                    _WhitespaceCharacterMapping: [1, {
                        _WhitespaceCharacter: [0],
                        _AlternateCharacter: [1]
                    }]
                }],
                _NormalStyleSheet: [1],
                _NormalParagraphSheet: [2],
                _SuperscriptSize: [3],
                _SuperscriptPosition: [4],
                _SubscriptSize: [5],
                _SubscriptPosition: [6],
                _SmallCapSize: [7],
                _UseSmartQuotes: [8],
                _SmartQuoteSets: [9, {
                    _Language: [0],
                    _OpenDoubleQuote: [1],
                    _CloseDoubleQuote: [2],
                    _OpenSingleQuote: [3],
                    _CloseSingleQuote: [4]
                }],
                _11: [11],
                _15: [15, {
                    _0: [0]
                }],
                _16: [16],
                _17: [17]
            }],
            _TextObjects: [1, {
                _Model: [0, {
                    _Text: [0],
                    _ParagraphRun: [5, {
                        _RunArray: [0, {
                            _RunData: [0, {
                                _ParagraphSheet: [0, aE.pV]
                            }],
                            _Length: [1]
                        }]
                    }],
                    _StyleRun: [6, {
                        _RunArray: [0, {
                            _RunData: [0, {
                                _StyleSheet: [0, aE.uV]
                            }],
                            _Length: [1]
                        }]
                    }],
                    _FirstKern: [7],
                    _8: [8],
                    _9: [9],
                    _StorySheet: [10, {
                        _AntiAlias: [0],
                        _UseFractionalGlyphWidths: [2],
                        _3: [3],
                        _4: [4]
                    }]
                }],
                _View: [1, {
                    _Frames: [0, {
                        _Resource: [0]
                    }],
                    _RenderedData: [1, {
                        _RunArray: [0, {
                            _RunData: [0, {
                                _0: [0],
                                _LineCount: [1]
                            }],
                            _Length: [1]
                        }]
                    }],
                    _Strikes: [2]
                }]
            }],
            _OriginalNormalStyleFeatures: [2, aE.Qu],
            _OriginalNormalParagraphFeatures: [3, aE.gZ]
        }]
    };
    hI.view = {};
    hI.view.akq = function (Y, S, h, q) {
        var H = {}
            , I = ap.Vu(Y);
        H._0 = [{
            _0: "i" + h
        }];
        return H
    }
        ;
    function CSS() { }
    CSS.adH = function (Y, S) {
        var h = Y.add
            , q = h.vmsk
            , H = h.vstk
            , I = h.lmfx
            , E = h.TySh
            , d = []
            , B = CSS.a6q(I, h);
        if (Y.uy() && q) {
            var n = t.Y.c9(q.b);
            if (!n.fa()) {
                d.push("width: " + Math.round(n.d) + "px");
                d.push("height: " + Math.round(n.v) + "px")
            }
            var g = t.Y.a97(q.b);
            if (g > 0)
                d.push("border-radius: " + Math.round(g) + "px")
        } else if (E) {
            var z = E.lV;
            if (ap.Vu(z) == 1) {
                var n = ap.mu(z);
                d.push("width: " + Math.round(n[2]) + "px");
                d.push("height: " + Math.round(n[3]) + "px")
            }
            CSS.xs(d, ap.Rm(z, 0, 0), E.J, !1, !1, B[0])
        }
        var p = []
            , C = I ? I.dropShadowMulti.v : 0;
        for (var G = 0; G < C.length; G++) {
            var T = C[G].v;
            if (T.enab.v) {
                var A = T.Dstn.v.val
                    , i = T.lagl.v.val * Math.PI / 180;
                if (T.uglg && T.uglg.v)
                    i = S.Ai() * Math.PI / 180;
                var e = A * Math.cos(i)
                    , a = A * Math.sin(i);
                p.push("drop-shadow(" + (e == 0 ? "0 " : CSS.cG(-e) + "px ") + (a == 0 ? "0 " : CSS.cG(a) + "px ") + T.blur.v.val / 2 + "px " + CSS.Qj(T.Clr.v, T.Opct.v.val / 100) + ")")
            }
        }
        if (p.length != 0)
            d.push("filter: " + p.join(" "));
        if (E == null)
            CSS.aeI(B, d);
        if (H == null || !H.strokeEnabled.v)
            H = av.qW(I);
        if (H && H.strokeEnabled.v) {
            var Z = H.strokeStyleContent.v
                , O = Z.classID
                , c = ai.Ig.Og.indexOf(H.strokeStyleLineCapType.v.strokeStyleLineCapType)
                , s = ai.Ig.join.indexOf(H.strokeStyleLineJoinType.v.strokeStyleLineJoinType)
                , x = H.strokeStyleOpacity.v.val / 100
                , u = H.strokeStyleLineWidth.v.val
                , y = "";
            if (O == "solidColorLayer")
                y = CSS.Qj(Z.Clr.v, x);
            d.push("border: " + u + "px solid " + y)
        }
        return d
    }
        ;
    CSS.a6q = function (Y, S) {
        var h = av.qk(Y, S), q = h[0], H = h[1], I, E;
        if (q) {
            I = CSS.Qj(q.Clr.v, S.iOpa != null ? S.iOpa / 255 : 1)
        } else if (H) {
            E = CSS.g_(H)
        }
        return [I, E]
    }
        ;
    CSS.aeI = function (Y, S) {
        if (Y[0])
            S.push("background-color: " + Y[0]);
        if (Y[1])
            S.push("background-image: " + Y[1])
    }
        ;
    CSS.Lv = {
        aliceblue: "#f0f8ff",
        antiquewhite: "#faebd7",
        aqua: "#00ffff",
        aquamarine: "#7fffd4",
        azure: "#f0ffff",
        beige: "#f5f5dc",
        bisque: "#ffe4c4",
        black: "#000000",
        blanchedalmond: "#ffebcd",
        blue: "#0000ff",
        blueviolet: "#8a2be2",
        brown: "#a52a2a",
        burlywood: "#deb887",
        cadetblue: "#5f9ea0",
        chartreuse: "#7fff00",
        chocolate: "#d2691e",
        coral: "#ff7f50",
        cornflowerblue: "#6495ed",
        cornsilk: "#fff8dc",
        crimson: "#dc143c",
        cyan: "#00ffff",
        darkblue: "#00008b",
        darkcyan: "#008b8b",
        darkgoldenrod: "#b8860b",
        darkgray: "#a9a9a9",
        darkgreen: "#006400",
        darkgrey: "#a9a9a9",
        darkkhaki: "#bdb76b",
        darkmagenta: "#8b008b",
        darkolivegreen: "#556b2f",
        darkorange: "#ff8c00",
        darkorchid: "#9932cc",
        darkred: "#8b0000",
        darksalmon: "#e9967a",
        darkseagreen: "#8fbc8f",
        darkslateblue: "#483d8b",
        darkslategray: "#2f4f4f",
        darkslategrey: "#2f4f4f",
        darkturquoise: "#00ced1",
        darkviolet: "#9400d3",
        deeppink: "#ff1493",
        deepskyblue: "#00bfff",
        dimgray: "#696969",
        dimgrey: "#696969",
        dodgerblue: "#1e90ff",
        firebrick: "#b22222",
        floralwhite: "#fffaf0",
        forestgreen: "#228b22",
        fuchsia: "#ff00ff",
        gainsboro: "#dcdcdc",
        ghostwhite: "#f8f8ff",
        gold: "#ffd700",
        goldenrod: "#daa520",
        gray: "#808080",
        green: "#008000",
        greenyellow: "#adff2f",
        grey: "#808080",
        honeydew: "#f0fff0",
        hotpink: "#ff69b4",
        indianred: "#cd5c5c",
        indigo: "#4b0082",
        ivory: "#fffff0",
        khaki: "#f0e68c",
        lavender: "#e6e6fa",
        lavenderblush: "#fff0f5",
        lawngreen: "#7cfc00",
        lemonchiffon: "#fffacd",
        lightblue: "#add8e6",
        lightcoral: "#f08080",
        lightcyan: "#e0ffff",
        lightgoldenrodyellow: "#fafad2",
        lightgray: "#d3d3d3",
        lightgreen: "#90ee90",
        lightgrey: "#d3d3d3",
        lightpink: "#ffb6c1",
        lightsalmon: "#ffa07a",
        lightseagreen: "#20b2aa",
        lightskyblue: "#87cefa",
        lightslategray: "#778899",
        lightslategrey: "#778899",
        lightsteelblue: "#b0c4de",
        lightyellow: "#ffffe0",
        lime: "#00ff00",
        limegreen: "#32cd32",
        linen: "#faf0e6",
        magenta: "#ff00ff",
        maroon: "#800000",
        mediumaquamarine: "#66cdaa",
        mediumblue: "#0000cd",
        mediumorchid: "#ba55d3",
        mediumpurple: "#9370db",
        mediumseagreen: "#3cb371",
        mediumslateblue: "#7b68ee",
        mediumspringgreen: "#00fa9a",
        mediumturquoise: "#48d1cc",
        mediumvioletred: "#c71585",
        midnightblue: "#191970",
        mintcream: "#f5fffa",
        mistyrose: "#ffe4e1",
        moccasin: "#ffe4b5",
        navajowhite: "#ffdead",
        navy: "#000080",
        oldlace: "#fdf5e6",
        olive: "#808000",
        olivedrab: "#6b8e23",
        orange: "#ffa500",
        orangered: "#ff4500",
        orchid: "#da70d6",
        palegoldenrod: "#eee8aa",
        palegreen: "#98fb98",
        paleturquoise: "#afeeee",
        palevioletred: "#db7093",
        papayawhip: "#ffefd5",
        peachpuff: "#ffdab9",
        peru: "#cd853f",
        pink: "#ffc0cb",
        plum: "#dda0dd",
        powderblue: "#b0e0e6",
        purple: "#800080",
        rebeccapurple: "#663399",
        red: "#ff0000",
        rosybrown: "#bc8f8f",
        royalblue: "#4169e1",
        saddlebrown: "#8b4513",
        salmon: "#fa8072",
        sandybrown: "#f4a460",
        seagreen: "#2e8b57",
        seashell: "#fff5ee",
        sienna: "#a0522d",
        silver: "#c0c0c0",
        skyblue: "#87ceeb",
        slateblue: "#6a5acd",
        slategray: "#708090",
        slategrey: "#708090",
        snow: "#fffafa",
        springgreen: "#00ff7f",
        steelblue: "#4682b4",
        tan: "#d2b48c",
        teal: "#008080",
        thistle: "#d8bfd8",
        tomato: "#ff6347",
        turquoise: "#40e0d0",
        violet: "#ee82ee",
        wheat: "#f5deb3",
        white: "#ffffff",
        whitesmoke: "#f5f5f5",
        yellow: "#ffff00",
        yellowgreen: "#9acd32"
    };
    CSS.cG = function (D) {
        return "" + parseFloat(D.toFixed(3))
    }
        ;
    CSS.v_ = function (Y) {
        if (Y == null)
            return {
                h: 0,
                l: 0,
                O: 0
            };
        var S = Y.indexOf("(");
        if (S != -1) {
            var h = Y.slice(S + 1, Y.length - 1).split(",");
            for (var G = 0; G < h.length; G++) {
                var q = h[G].trim();
                h[G] = parseFloat(q) * (q.endsWith("%") ? 255 / 100 : 1)
            }
            return {
                h: h[0],
                l: h[1],
                O: h[2]
            }
        }
        if (Y.charAt(0) != "#") {
            var H = CSS.Lv;
            if (H[Y])
                Y = H[Y];
            else
                console.log("unknown color " + Y)
        }
        Y = Y.slice(1);
        if (Y.length == 3)
            Y = Y[0] + Y[0] + Y[1] + Y[1] + Y[2] + Y[2];
        Y = parseInt(Y, 16);
        return {
            h: Y >> 16 & 255,
            l: Y >> 8 & 255,
            O: Y & 255
        }
    }
        ;
    CSS.Qj = function (Y, S) {
        return CSS.mW(t.W.cd(Y), S)
    }
        ;
    CSS.mW = function (Y, S) {
        if (S == null)
            S = 1;
        var h = Math.round(Y.h)
            , q = Math.round(Y.l)
            , H = Math.round(Y.O)
            , I = h << 16 | q << 8 | H;
        return S == 1 ? "#" + t.u9(I) : "rgba(" + h + "," + q + "," + H + "," + S + ")"
    }
        ;
    CSS.g_ = function (Y) {
        var S = Y.Grad.v;
        if (S.Clrs == null)
            return "";
        var h = S.Clrs.v.slice(0)
            , q = S.Trns.v.slice(0)
            , H = Y.Ofst.v
            , I = Y.Type.v.GrdT == "Rdl" ? 1 : 0
            , E = (I == 1 ? "radial" : "linear") + "-gradient"
            , d = I == 0 ? Math.round(-Y.Angl.v.val + 90) + "deg" : "circle at center"
            , B = Y.Rvrs.v;
        if (B) {
            h.reverse();
            q.reverse()
        }
        for (var G = 0; G < h.length; G++) {
            var n = h[G].v
                , g = G < q.length ? q[G].v.Opct.v.val / 100 : 1
                , z = n.Lctn.v / 4096;
            if (B)
                z = 1 - z;
            d += ", " + CSS.Qj(n.Clr.v, g) + " " + Math.round(z * 100) + "%"
        }
        return E + "(" + d + ")"
    }
        ;
    CSS.xs = function (Y, S, h, q, H, I) {
        var E = S.cD
            , d = q ? 1 : U.o.Fu(h)
            , B = Math.round(E.FontSize * d);
        Y.push("font-size: " + B + "px");
        var n = E.Tracking;
        if (!q && n != null && n != 0)
            Y.push("letter-spacing: " + Math.round(n * B / 1e3) + "px");
        if (!E.AutoLeading)
            Y.push("line-height: " + Math.round(E.Leading * d) + "px");
        if (E.Strikethrough)
            Y.push("text-decoration: line-through");
        var g = ap.cd(E);
        g = [g.h, g.l, g.O].map(Math.round);
        Y.push((q ? "fill: " : "color: ") + (I ? I : "#" + t.u9(g[0] << 16 | g[1] << 8 | g[2])));
        var z = S.GZ[E.Font].Name;
        if (z) {
            var p = fa.C0.De(z)
                , C = ""
                , T = null
                , A = null;
            if (p != null && z != fa.eU(p))
                p = null;
            if (H && p)
                C += "\"" + z + "\", ";
            var i = z.toLowerCase();
            if (p) {
                T = fa.o_(p)[0];
                if (p["OS/2"])
                    A = p["OS/2"].usWeightClass
            } else {
                T = CSS.ahl(z);
                if (i.indexOf("light") != -1)
                    A = 300;
                else if (i.indexOf("medium") != -1)
                    A = 500;
                else if (i.indexOf("black") != -1 || i.indexOf("extrabold") != -1)
                    A = 800;
                else if (i.indexOf("bold") != -1)
                    A = "bold"
            }
            if (T != null)
                C += "\"" + T + "\"";
            if (A != null)
                Y.push("font-weight: " + A);
            if (i.indexOf("italic") != -1 || i.indexOf("oblique") != -1)
                Y.push("font-style: italic");
            if (C)
                Y.push("font-family: " + C)
        }
        var e = S.vY.Justification;
        if (e != null && e != 0)
            if (q)
                Y.push("text-anchor: " + ["start", "end", "middle"][e % 3]);
            else
                Y.push("text-align: " + ["left", "right", "center"][e % 3])
    }
        ;
    CSS.ahl = function (Y) {
        Y = Y.split("-")[0];
        while (Y.endsWith("MT") || Y.endsWith("PS"))
            Y = Y.slice(0, Y.length - 2);
        var S = !0;
        for (var G = 0; G < Y.length; G++) {
            var h = Y.charAt(G);
            if (!S && h.toLowerCase() != h) {
                Y = Y.slice(0, G) + " " + Y.slice(G);
                G++;
                S = !0
            } else
                S = !1
        }
        return Y
    }
        ;
    function b6() { }
    b6.T_ = {
        document: !0,
        parent: !0,
        top: !0,
        eval: !0,
        postMessage: !0,
        UTIF: !0,
        PIMG: !0,
        LNG: !0,
        FNTS: !0
    };
    b6.ae = function (Y, S) {
        var h = Date.now(), q;
        try {
            q = acorn.parse(Y)
        } catch (gx) {
            console.log(gx);
            return
        }
        var H = JSON.parse(JSON.stringify(b6.YI.yN));
        H.__return = !1;
        H.__break = !1;
        H.__throw = !1;
        H.__fs = {};
        H.__window = {};
        b6.eval(q, S, H);
        var I = H.__fs;
        if (Object.keys(I).length != 0) {
            var E = UZIP.encode(I);
            gN.save(E, "output.zip")
        }
    }
        ;
    b6.eval = function (Y, S, h) {
        var q = Y.type;
        if (!1) { } else if (q == "Program" || q == "BlockStatement") {
            var H = Y.body;
            for (var G = 0; G < H.length; G++) {
                var I = H[G].type;
                if (I == "FunctionDeclaration")
                    h[H[G].id.name] = H[G]
            }
            for (var G = 0; G < H.length; G++) {
                var I = H[G].type
                    , E = b6.eval(H[G], S, h);
                if (h.__return || h.__break || h.__throw)
                    return E
            }
        } else if (q == "ReturnStatement") {
            h.__return = !0;
            return Y.argument ? b6.G7(Y.argument, S, h) : null
        } else if (q == "BreakStatement") {
            h.__break = !0
        } else if (q == "VariableDeclaration") {
            var d = Y.declarations;
            for (var G = 0; G < d.length; G++)
                b6.eval(d[G], S, h)
        } else if (q == "VariableDeclarator") {
            h[Y.id.name] = Y.init ? b6.G7(Y.init, S, h) : null
        } else if (q == "FunctionDeclaration") {
            h[Y.id.name] = Y
        } else if (q == "MemberExpression") {
            var B = b6.G7(Y.object, S, h), n = Y.computed ? b6.G7(Y.property, S, h) : b6.eval(Y.property, S, h), E;
            if (B.L5 != null)
                E = b6.YI.J6(B, n, S, h);
            else if (B == window && b6.T_[n]) { } else
                E = B[n];
            return E
        } else if (q == "ArrayExpression") {
            var g = []
                , z = Y.elements;
            for (var G = 0; G < z.length; G++)
                g.push(b6.G7(z[G], S, h));
            return g
        } else if (q == "ObjectExpression") {
            var g = {}
                , z = Y.properties;
            for (var G = 0; G < z.length; G++) {
                var p = z[G]
                    , C = z[G].key.name ? z[G].key.name : z[G].key.value;
                g[C] = b6.G7(z[G].value, S, h)
            }
            return g
        } else if (q == "ExpressionStatement") {
            return b6.eval(Y.expression, S, h)
        } else if (q == "NewExpression") {
            var T = Y.arguments
                , A = Y.callee
                , i = A.type
                , e = []
                , g = null;
            for (var G = 0; G < T.length; G++)
                e.push(b6.G7(T[G], S, h));
            if (i == "Identifier")
                g = b6.YI.am0(A.name, e, S, h);
            else
                throw "e";
            if (g == null)
                throw "new " + A.name;
            return g
        } else if (q == "CallExpression") {
            var T = Y.arguments
                , A = Y.callee
                , i = A.type
                , a = {};
            for (var Z in h)
                a[Z] = h[Z];
            var e = [];
            for (var G = 0; G < T.length; G++)
                e.push(b6.G7(T[G], S, h));
            if (i == "Identifier") {
                var O = A.name
                    , c = h[O];
                if (c) {
                    if (c.params) {
                        var s = c.params;
                        for (var G = 0; G < s.length; G++)
                            a[s[G].name] = e[G];
                        return b6.eval(c.body, S, a)
                    } else {
                        return c.apply(null, e)
                    }
                } else if (b6.YI.aeM.indexOf(O) != -1)
                    return b6.YI.rL({
                        L5: "Application"
                    }, O, e, S, h);
                else if (window[O] == null)
                    console.log("Unknown function " + O);
                else if (b6.T_[O])
                    alert(O + "() not available");
                else {
                    var x = window[O].apply(window, e);
                    return x
                }
            } else if (i == "MemberExpression") {
                var B = b6.G7(A.object, S, h)
                    , n = A.computed ? b6.G7(A.property, S, h) : b6.eval(A.property, S, h);
                if (B == window && b6.T_[n])
                    return;
                if (B.L5 != null)
                    return b6.YI.rL(B, n, e, S, h);
                else
                    return B[n].apply(B, e)
            } else if (i == "FunctionExpression") {
                return b6.eval(A.body, S, h)
            } else
                console.log(Y)
        } else if (q == "AssignmentExpression") {
            var u = Y.operator
                , y = Y.left
                , j = y.type
                , v = b6.G7(y, S, h)
                , X = b6.G7(Y.right, S, h)
                , E = null;
            if (!1) { } else if (u == "=")
                E = X;
            else if (u == "+=")
                E = v + X;
            else if (u == "-=")
                E = v - X;
            else if (u == "*=")
                E = v * X;
            else if (u == "/=")
                E = v / X;
            else if (u == "%=")
                E = v % X;
            else if (u == "&=")
                E = v & X;
            else if (u == "|=")
                E = v | X;
            else if (u == "&&=")
                E = v && X;
            else if (u == "||=")
                E = v || X;
            else
                console.log(Y);
            if (j == "Identifier") {
                var N = y.name;
                if (h.hasOwnProperty(N))
                    h[N] = E;
                else
                    h.__window[N] = E
            } else if (j == "MemberExpression") {
                var V = b6.eval(y.property, S, h)
                    , $ = b6.G7(y.object, S, h);
                if ($.L5 != null)
                    b6.YI.ah5($, V, E, S, h);
                else
                    $[V] = E
            } else
                console.log(Y)
        } else if (q == "Identifier")
            return Y.name;
        else if (q == "Literal")
            return Y.value;
        else if (q == "UpdateExpression") {
            var u = Y.operator
                , w = Y.argument.name
                , g = b6.G7(Y.argument, S, h);
            if (!1) { } else if (u == "++") {
                h[w]++;
                return Y.prefix ? h[w] : h[w] - 1
            } else if (u == "--") {
                h[w]--;
                return Y.prefix ? h[w] : h[w] + 1
            } else
                console.log(Y)
        } else if (q == "UnaryExpression") {
            var u = Y.operator
                , m = b6.G7(Y.argument, S, h);
            if (m.L5 == "UnitValue") {
                if (u == "-")
                    return -m.G;
                else
                    return b6.LT(m.G, u)
            } else
                return b6.LT(m, u)
        } else if (q == "BinaryExpression" || q == "LogicalExpression") {
            var u = Y.operator
                , y = b6.G7(Y.left, S, h)
                , m = b6.G7(Y.right, S, h);
            if (y == null || m == null)
                return b6.on(y, m, u);
            else if (y.L5 == "UnitValue" && m.L5 == "UnitValue")
                return b6.on(y.G, m.G, u);
            else if (y.L5 == "UnitValue")
                return b6.on(y.G, m, u);
            else if (m.L5 == "UnitValue") {
                if (u == "-")
                    return -(y - m.G);
                else
                    return b6.on(y, m.G, u)
            } else
                return b6.on(y, m, u)
        } else if (q == "IfStatement" || q == "ConditionalExpression") {
            var l = b6.G7(Y.test, S, h);
            if (l)
                return b6.eval(Y.consequent, S, h);
            else if (Y.alternate)
                return b6.eval(Y.alternate, S, h)
        } else if (q == "ForInStatement") {
            b6.eval(Y.left, S, h);
            var b = Y.left.declarations[0].id.name
                , K = b6.G7(Y.right, S, h);
            for (var Z in K) {
                h[b] = Z;
                var J = b6.eval(Y.body, S, h);
                if (h.__break)
                    break;
                if (h.__return)
                    return J
            }
            h.__break = !1
        } else if (q == "ForStatement") {
            b6.eval(Y.init, S, h);
            while (b6.eval(Y.test, S, h)) {
                var J = b6.eval(Y.body, S, h);
                if (h.__break)
                    break;
                if (h.__return)
                    return J;
                b6.eval(Y.update, S, h)
            }
            h.__break = !1
        } else if (q == "DoWhileStatement") {
            do {
                var J = b6.eval(Y.body, S, h);
                if (h.__break)
                    break;
                if (h.__return)
                    return J
            } while (b6.eval(Y.test, S, h)); h.__break = !1
        } else if (q == "TryStatement") {
            b6.eval(Y.block, S, h);
            if (h.__throw) {
                var R = Y.handler;
                h[R.param.name] = h.__throw;
                h.__throw = !1;
                b6.eval(R.body, S, h);
                delete h[R.param.name]
            }
        } else if (q == "EmptyStatement") { } else
            console.log(Y)
    }
        ;
    b6.on = function (Y, S, h) {
        if (h == "+")
            return Y + S;
        else if (h == "-")
            return Y - S;
        else if (h == "*")
            return Y * S;
        else if (h == "/")
            return Y / S;
        else if (h == "%")
            return Y % S;
        else if (h == "^")
            return Y ^ S;
        else if (h == "&")
            return Y & S;
        else if (h == "&&")
            return Y && S;
        else if (h == "|")
            return Y | S;
        else if (h == "||")
            return Y || S;
        else if (h == "<")
            return Y < S;
        else if (h == ">")
            return Y > S;
        else if (h == "==")
            return Y == S;
        else if (h == "<=")
            return Y <= S;
        else if (h == ">=")
            return Y >= S;
        else if (h == "!=")
            return Y != S;
        else if (h == "!==")
            return Y !== S;
        else if (h == "<<")
            return Y << S;
        else if (h == ">>")
            return Y >> S;
        else
            console.log(h)
    }
        ;
    b6.LT = function (Y, S) {
        if (S == "-")
            return -Y;
        else if (S == "!")
            return !Y;
        else if (S == "~")
            return ~Y;
        else if (S == "+")
            return Y;
        else
            console.log(obj)
    }
        ;
    b6.G7 = function (Y, S, h) {
        var q = Y.type;
        if (q == "Identifier")
            return b6.akx(Y.name, S, h);
        else
            return b6.eval(Y, S, h)
    }
        ;
    b6.akx = function (Y, S, h) {
        if (Y == "undefined")
            return undefined;
        else if (h.hasOwnProperty(Y))
            return h[Y];
        else if (Y == "app")
            return {
                L5: "Application"
            };
        else if (Y == "$")
            return {
                L5: "$"
            };
        else if (b6.YI.anK.indexOf(Y) != -1)
            return b6.YI.J6({
                L5: "Application"
            }, Y, S, h);
        else if (window[Y] && !b6.T_[Y])
            return window[Y];
        else {
            h[Y] = null;
            return null
        }
    }
        ;
    b6.YI = {};
    b6.YI.am0 = function (Y, S, h, q) {
        var H;
        if (Y == "SolidColor")
            H = {
                L5: Y,
                G: [1, 0, 0, 0]
            };
        if (Y == "Window")
            H = {
                L5: Y,
                G: new aI(S[0], S[1], S[2])
            };
        if (Y == "ExportOptionsSaveForWeb")
            H = {
                L5: Y,
                G: {
                    Wo: "png",
                    kc: 100
                }
            };
        if (Y == "JPEGSaveOptions")
            H = {
                L5: Y,
                G: {
                    Wo: "jpg",
                    kc: 100
                }
            };
        if (Y == "File")
            H = {
                L5: Y,
                G: S[0]
            };
        if (Y == "ActionReference")
            H = {
                L5: Y,
                G: []
            };
        if (Y == "ActionDescriptor")
            H = {
                L5: Y,
                G: {}
            };
        if (Y == "ActionList")
            H = {
                L5: Y,
                G: []
            };
        if (Y == "UnitValue")
            H = {
                L5: Y,
                G: S.length == 0 ? 0 : parseFloat(S[0])
            };
        return H
    }
        ;
    b6.YI.anK = "activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor".split(" ");
    b6.YI.aeM = ["charIDToTypeID", "stringIDToTypeID", "executeAction", "executeActionGet", "doAction"];
    b6.YI.J6 = function (Y, S, h, q) {
        var H = h.WU
            , I = h.$O();
        if (!1) { } else if (S == "typename") {
            if (Y.L5 == "Layer")
                return Y.G.i4() ? "LayerSet" : "ArtLayer";
            else
                return Y.L5
        } else if (["Document", "Layer"].indexOf(Y.L5) != -1 && ["layers", "artLayers", "layerSets"].indexOf(S) != -1) {
            var E = I.root
                , d = {
                    L5: "Layers",
                    Iu: S,
                    G: []
                };
            if (Y.L5 == "Layer")
                E = I.root.TZ(I.t.indexOf(Y.G));
            if (E.children == null)
                return null;
            for (var G = 0; G < E.children.length; G++) {
                var B = E.children[G].$
                    , n = B.i4();
                if (n && S == "artLayers" || !n && S == "layerSets")
                    continue;
                d.G.push({
                    L5: "Layer",
                    G: B
                })
            }
            d.G.reverse();
            return d
        } else if (Y.L5 == "Documents" || Y.L5 == "Layers" || Y.L5 == "HistoryStates") {
            if (!1) { } else if (S == "length")
                return Y.G.length;
            else if (Number.isInteger(S))
                return Y.G[S];
            else
                console.log(Y.L5 + ": unknown property ", S)
        } else if (Y.L5 == "Application") {
            if (!1) { } else if (S == "activeDocument")
                return {
                    L5: "Document",
                    G: h.$O()
                };
            else if (S == "documents") {
                var d = {
                    L5: "Documents",
                    G: []
                };
                for (var G = 0; G < h.PS.length; G++)
                    d.G.push({
                        L5: "Document",
                        G: h.PS[G]
                    });
                return d
            } else if (S == "fonts")
                return {
                    L5: "TextFonts"
                };
            else if (S == "preferences")
                return {
                    L5: "Preferences"
                };
            else if (S == "displayDialogs")
                return {
                    L5: "DialogModes"
                };
            else if (S == "foregroundColor" || S == "backgroundColor") {
                var g = S[0] == "f" ? H.jy : H.E$;
                return {
                    L5: "SolidColor",
                    G: [1, (g >>> 16 & 255) / 255, (g >>> 8 & 255) / 255, (g >>> 0 & 255) / 255]
                }
            } else if (S == "UI")
                return {
                    L5: "UI"
                };
            else
                console.log(Y, S)
        } else if (Y.L5 == "Document") {
            var I = Y.G;
            if (!1) { } else if (S == "activeLayer") {
                var B = I.t[I.C[0]];
                return {
                    L5: "Layer",
                    G: B
                }
            } else if (S == "resolution")
                return I.PW;
            else if (S == "width")
                return I.d;
            else if (S == "height")
                return I.v;
            else if (S == "name")
                return I.name;
            else if (S == "saved")
                return !I.yw();
            else if (S == "selection")
                return {
                    L5: "Selection"
                };
            else if (S == "activeHistoryState")
                return {
                    L5: "HistoryState",
                    Y8: I.Zj
                };
            else if (S == "source")
                return I.MP;
            else if (S == "historyStates") {
                var z = [];
                for (var G = 0; G < I.history.length; G++)
                    z.push({
                        L5: "HistoryState",
                        Y8: G
                    });
                return {
                    L5: "HistoryStates",
                    G: z
                }
            } else
                console.log(Y, S)
        } else if (Y.L5 == "Layer") {
            var p = {
                transparentPixelsLocked: 0,
                pixelsLocked: 1,
                positionLocked: 2,
                allLocked: 31
            }
                , B = Y.G;
            if (!1) { } else if (S == "visible")
                return B.yj();
            else if (S == "selected")
                return I.C.indexOf(I.t.indexOf(B)) != -1;
            else if (S == "grouped")
                return B.f6;
            else if (p[S] != null)
                return B.Ag(p[S]);
            else if (S == "opacity")
                return B.opacity * 100 / 255;
            else if (S == "blendMode")
                return B.XC;
            else if (S == "name")
                return B.getName();
            else if (S == "textItem")
                return {
                    L5: "TextItem",
                    G: B
                };
            else if (S == "bounds") {
                var C = U.o.i6(I, [I.t.indexOf(B)]);
                return b6.YI.qY(C, I)
            } else if (S == "parent") {
                var T = h.PS;
                for (var G = 0; G < T.length; G++)
                    if (T[G].t.indexOf(B) != -1)
                        return {
                            L5: "Document",
                            G: T[G]
                        }
            } else if (S == "kind") {
                var A = b6.YI.DH;
                for (var G = 0; G < A.length; G++)
                    if (B.add[A[G]] != null)
                        return G;
                return 0
            } else
                console.log(Y, S)
        } else if (Y.L5 == "Selection") {
            if (!1) { } else if (S == "bounds")
                return b6.YI.qY(h.$O().N.rect, I);
            else
                console.log(Y, S)
        } else if (Y.L5 == "TextItem") {
            var i = Y.G.add.TySh
                , e = i.lV
                , a = ap.lo(e)
                , Z = i.J.Fu()
                , O = ap.Rm(e, 0, Math.max(0, a.length - 2));
            if (S == "contents")
                return a.slice(0, a.length - 1).replace(/\n/g, "\r");
            else if (S == "font")
                return O.cD.Font != null ? O.GZ[O.cD.Font].Name : null;
            else if (S == "size")
                return b6.YI.kA(O.cD.FontSize * Z, I);
            else if (S == "leading")
                return b6.YI.kA(O.cD.Leading * Z, I);
            else if (S == "tracking")
                return b6.YI.kA(O.cD.Tracking);
            else if (S == "kind")
                return 1 - ap.Vu(e);
            else if (S == "useAutoLeading")
                return O.vY.AutoLeading;
            else if (S == "hyphenation")
                return O.vY.AutoHyphenate;
            else if (S == "color")
                return {
                    L5: "SolidColor",
                    G: O.cD.FillColor.Values.slice(0)
                };
            else if (S == "width" || S == "height") {
                var c = ap.mu(e)
                    , s = (c[2] - c[0]) * Z
                    , x = (c[3] - c[1]) * Z;
                return b6.YI.kA(S == "width" ? s : x, I)
            } else if (S == "position") {
                var u = i.J;
                return b6.YI.TJ([u.TR, u.Un], I)
            } else if (S == "horizontalScale" || S == "verticalScale") {
                var y = S[0].toUpperCase() + S.slice(1);
                return Math.round(O.cD[y] * 100)
            } else
                console.log(Y, S)
        } else if (Y.L5 == "Preferences") {
            if (S == "rulerUnits")
                return H.nF.W_;
            else
                console.log(Y, S)
        } else if (Y.L5 == "SolidColor") {
            if (S == "rgb")
                return {
                    L5: "RGBColor",
                    G: Y.G
                };
            else
                console.log(Y, S)
        } else if (Y.L5 == "RGBColor") {
            var C = Math.round(255 * Y.G[1])
                , j = Math.round(255 * Y.G[2])
                , v = Math.round(255 * Y.G[3]);
            if (!1) { } else if (S == "red")
                return C;
            else if (S == "green")
                return j;
            else if (S == "blue")
                return v;
            else if (S == "hexValue")
                return "#" + t.u9(C << 16 | j << 8 | v).toUpperCase();
            else
                console.log(Y, S)
        } else if (Y.L5 == "UnitValue") {
            if (S == "value")
                return Y.G;
            else
                throw "e"
        } else if (Y.L5 == "ExportOptionsSaveForWeb") {
            if (S == "format")
                return Y.G.Wo;
            else if (S == "PNG8")
                return !1;
            else if (S == "quality")
                return Y.G.kc;
            else
                throw S
        } else if (Y.L5 == "JPEGSaveOptions") {
            return 0
        } else
            console.log(Y, S)
    }
        ;
    b6.YI.qY = function (Y, S) {
        return b6.YI.TJ([Y.x, Y.y, Y.x + Y.d, Y.y + Y.v], S)
    }
        ;
    b6.YI.TJ = function (Y, S) {
        var h = [];
        for (var G = 0; G < Y.length; G++)
            h.push(b6.YI.kA(Y[G], S));
        return h
    }
        ;
    b6.YI.vN = function (Y) {
        var S = [];
        for (var G = 0; G < Y.length; G++)
            S.push(Y[G].L5 ? Y[G].G : Y[G]);
        return S
    }
        ;
    b6.YI.kA = function (Y, S) {
        return {
            L5: "UnitValue",
            G: Y
        }
    }
        ;
    b6.YI.a6w = function (Y, S) {
        if (Y.L5 == "UnitValue")
            return Y.G;
        return Y
    }
        ;
    b6.YI.ah5 = function (Y, S, h, q, H) {
        var I = new _(P.E.A, !0)
            , E = new _(P.E.P, !0)
            , d = q.$O()
            , B = q.WU;
        if (!1) { } else if (Y.L5 == "Application") {
            if (!1) { } else if (S == "activeDocument") {
                E.data = {
                    X: P.U.Qc,
                    n3: h.G
                };
                q.B(E)
            } else if (S == "displayDialogs") { } else
                console.log(Y, S, h)
        } else if (Y.L5 == "Document") {
            var n = Y.G;
            if (!1) { } else if (S == "name") {
                I.F = U.GC;
                I.data = {
                    X: M.wJ,
                    G: h,
                    a9E: !0,
                    b3: n
                };
                d.P7 = !0
            } else if (S == "source")
                n.MP = h;
            else if (S == "activeLayer") {
                n.C = [n.t.indexOf(h.G)]
            } else if (S == "activeHistoryState") {
                I.F = U.Sb;
                I.data = {
                    X: "h_itemchange",
                    index: h.Y8
                }
            } else
                console.log(Y, S)
        } else if (Y.L5 == "Layer") {
            I.F = U.GC;
            var g = {
                transparentPixelsLocked: 0,
                pixelsLocked: 1,
                positionLocked: 2,
                allLocked: 31
            }
                , z = Y.G
                , p = d.t.indexOf(z);
            if (!1) { } else if (S == "visible") {
                if (z.yj() != h)
                    I.data = {
                        X: M.OU,
                        $: p
                    }
            } else if (S == "opacity") {
                I.data = {
                    X: M.zh,
                    $: p,
                    aq: Math.round(255 * h / 100)
                }
            } else if (S == "blendMode") {
                I.data = {
                    X: M.tl,
                    $: p,
                    aq: iS.LQ.indexOf(h)
                }
            } else if (S == "name") {
                I.data = {
                    X: M.vT,
                    $: p,
                    name: h
                }
            } else if (g[S] != null) {
                I.data = {
                    X: M.Be,
                    $: p,
                    aq: [[h], [g[S]]]
                }
            } else if (S == "kind") {
                I.data = {
                    X: M.gE,
                    $: p,
                    jr: b6.YI.DH[h]
                }
            } else if (S == "grouped") {
                I.data = {
                    X: M.JA,
                    $: p,
                    aq: h
                }
            } else
                console.log(Y, S, h)
        } else if (Y.L5 == "TextItem") {
            I.F = U.bk;
            var z = Y.G
                , C = z.add.TySh
                , T = JSON.parse(JSON.stringify(C.lV))
                , A = C.J.clone()
                , i = C.J.Fu()
                , e = ap.lo(T)
                , a = ap.Rm(T, 0, e.length - 2)
                , Z = !1;
            if (!1) { } else if (S == "contents") {
                ap.W9(T, 0, e.length - 1);
                ap.LB(T, 0, h.replace(/\r/g, "\n"))
            } else if (S == "size") {
                a.cD.FontSize = (h.G != null ? h.G : h) / i;
                Z = !0
            } else if (S == "leading") {
                a.cD.Leading = (h.G != null ? h.G : h) / i;
                Z = !0
            } else if (S == "tracking") {
                a.cD.Tracking = h.G != null ? h.G : h;
                Z = !0
            } else if (S == "kind") {
                var O = ap.Vu(T);
                if (O == 1 && h == 1) {
                    var c = new cm(T, q.WU.Z7).vY[0]
                        , s = c.rm[0].end
                        , x = c.O9[s - 1].end;
                    ap.W9(T, 0, e.length - 1);
                    ap.LB(T, 0, e.slice(0, x - 1))
                }
                if (O == h)
                    ap.sI(T, 1 - h)
            } else if (S == "useAutoLeading") {
                a.vY.AutoLeading = h;
                Z = !0
            } else if (S == "hyphenation") {
                a.vY.AutoHyphenate = h;
                Z = !0
            } else if (S == "font") {
                ap.UB(a, h);
                Z = !0
            } else if (S == "color") {
                a.cD.FillColor.Values = h.G.slice(0);
                Z = !0
            } else if (S == "width" || S == "height") {
                var u = ap.mu(T).slice(0)
                    , y = b6.YI.a6w(h);
                if (S == "width")
                    u[2] = Math.round(u[0] + y / i);
                else
                    u[3] = Math.round(u[1] + y / i);
                ap.h6(T, u)
            } else if (S == "position") {
                A.TR = h[0];
                A.Un = h[1]
            } else if (S == "horizontalScale" || S == "verticalScale") {
                var j = S[0].toUpperCase() + S.slice(1);
                a.cD[j] = h / 100;
                Z = !0
            } else
                console.log(Y, S, h);
            if (Z)
                ap.aN(T, 0, e.length - 1, a);
            I.data = {
                X: "newED",
                ph: d.t.indexOf(z),
                oy: T,
                J: A
            }
        } else if (Y.L5 == "Preferences") {
            if (!1) { } else if (S == "rulerUnits") {
                var v = JSON.parse(JSON.stringify(B.nF));
                v.W_ = h;
                E.data = {
                    X: P.U.PD,
                    go: iD.Ln,
                    aq: v
                };
                q.B(E)
            } else
                console.log(Y, S, h)
        } else if (Y.L5 == "RGBColor") {
            if (!1) { } else if (S == "red")
                Y.G[1] = h / 255;
            else if (S == "green")
                Y.G[2] = h / 255;
            else if (S == "blue")
                Y.G[3] = h / 255;
            else if (S == "hexValue") {
                var X = t.B2(h.slice(1));
                Y.G[1] = (X >>> 16 & 255) / 255;
                Y.G[2] = (X >>> 8 & 255) / 255;
                Y.G[3] = (X >>> 0 & 255) / 255
            } else
                console.log(Y, S)
        } else if (Y.L5 == "ExportOptionsSaveForWeb") {
            if (S == "format")
                Y.G.Wo = h;
            else if (S == "PNG8") { } else if (S == "quality")
                Y.G.kc = h;
            else
                throw "e"
        } else if (Y.L5 == "JPEGSaveOptions") {
            if (S == "quality")
                Y.G.kc = Math.round(100 * h / 12)
        } else
            console.log(Y, S, h);
        if (I.data != null)
            q.B(I)
    }
        ;
    b6.YI.rL = function (Y, S, h, q, H) {
        var I = Y.L5
            , E = null
            , d = new _(P.E.A, !0)
            , B = new _(P.E.$_, !0)
            , n = new _(P.E.P, !0)
            , g = q.$O()
            , z = q.PS;
        if (!1) { } else if (I == "Application") {
            if (!1) { } else if (S == "charIDToTypeID") {
                var p = h[0].trim()
                    , C = {
                        slct: "select",
                        Dlt: "delete"
                    };
                return C[p] ? C[p] : p
            } else if (S == "stringIDToTypeID") {
                var T = h[0].trim()
                    , C = {
                        red: "Rd",
                        blue: "Bl",
                        color: "Clr",
                        RGBColor: "RGBC",
                        type: "Type",
                        using: "Usng"
                    }
                    , A = C[T];
                return A == null ? T : A
            } else if (S == "executeAction") {
                console.log(h);
                var i;
                if (h[1]) {
                    i = h[1].G;
                    i.classID = h[0]
                }
                var e = {
                    setd: "set"
                }
                    , a = e[h[0]];
                if (a == null)
                    a = h[0];
                var Z = dD.CY[h[0]];
                if (Z && dD.LS[Z])
                    a = dD.LS[Z];
                B.data = {
                    f0: a,
                    Jz: i
                }
            } else if (S == "executeActionGet") {
                return {
                    L5: "ActionDescriptor",
                    G: {
                        classID: "null",
                        null: {
                            t: "obj ",
                            v: h[0].G
                        }
                    }
                }
            } else if (S == "doAction") {
                n.data = {
                    X: P.U.dr,
                    Qg: [h[0], h[1]]
                }
            } else if (S == "open") {
                n.data = {
                    X: P.U.Pv,
                    go: {
                        url: h[0]
                    }
                };
                if (h[2] && z.length != 0)
                    n.data.go.lS = z.indexOf(g)
            } else if (S == "echoToOE") {
                n.data = {
                    X: P.U.gw,
                    go: h[0]
                }
            } else
                console.log(S)
        } else if (I == "Document") {
            var g = Y.G;
            if (!1) { } else if (S == "crop") {
                B.data = U.AQ.qA(h[0])
            } else if (S == "trim") {
                var O = [];
                for (var G = 0; G < 4; G++)
                    O.push(h[G + 1] != null ? h[G + 1] : !0);
                B.data = U.AQ.ob(h[0] != null ? h[0] : 0, O)
            } else if (S == "suspendHistory") {
                var c = acorn.parse(h[1]);
                b6.eval(c, q, H)
            } else if (S == "save") {
                n.data = {
                    X: P.U.$k
                }
            } else if (S == "saveToOE") {
                n.data = {
                    X: P.U.$k,
                    a3p: h
                }
            } else if (S == "rotateCanvas") {
                B.data = U.o.Im(!0, h[0])
            } else if (S == "resizeImage" || S == "resizeCanvas") {
                var s = h[0]
                    , x = h[1];
                if (typeof s != "number") {
                    s = g.d * parseFloat(s.slice(0, s.length - 1)) / 100;
                    x = g.v * parseFloat(x.slice(0, x.length - 1)) / 100
                }
                if (S == "resizeCanvas")
                    B.data = U.AQ.YV(Math.round(s), Math.round(x), h[2]);
                else
                    B.data = U.AQ.OJ(Math.round(s), Math.round(x), null, 1)
            } else if (S == "paste") {
                n.data = {
                    X: P.U.Ut,
                    jv: h.length != 0 && h[0]
                }
            } else if (S == "close") {
                n.data = {
                    X: P.U.sO,
                    J7: g
                }
            } else if (S == "exportDocument" || S == "saveAs") {
                var u = H.__fs
                    , y = h[0].G.replace(":", "").replace("~/", "")
                    , j = S == "exportDocument" ? h[2].G : h[1].G
                    , v = eD.mE(g, j.Wo, null, null, [j.kc], q.WU);
                u[y] = new Uint8Array(v)
            } else
                console.log(Y, S, h)
        } else if (I == "Layer") {
            var X = Y.G
                , N = g.t.indexOf(X);
            if (!1) { } else if (S == "copy") {
                b6.YI.WP(g, q, 0);
                n.data = {
                    X: P.U.ZF,
                    pT: h[0],
                    oK: N
                };
                q.B(n);
                delete n.data;
                b6.YI.WP(g, q, 1)
            } else if (S == "clear") {
                b6.YI.WP(g, q, 0);
                B.data = {
                    f0: "delete"
                };
                q.B(B);
                delete B.data;
                b6.YI.WP(g, q, 1)
            } else if (S == "duplicate") {
                if (h.length == 0) {
                    d.data = {
                        X: M.Vo,
                        $: N
                    };
                    d.F = U.GC;
                    q.B(d);
                    d.data = null;
                    E = {
                        L5: "Layer",
                        G: g.t[g.C[0]]
                    }
                } else if (h[0].L5 == "Document") {
                    d.data = {
                        X: M.H0,
                        t: g.LL(N),
                        e5: g,
                        bR: h[0].G
                    };
                    d.F = U.GC
                }
            } else if (S == "merge" || S == "remove") {
                d.data = {
                    X: S == "merge" ? M.sn : M.Yn,
                    $: N
                };
                d.F = U.GC;
                if (S != "remove")
                    E = {
                        L5: "Layer",
                        G: g.t[g.C[0]]
                    }
            } else if (S == "move") {
                d.data = {
                    X: M.Tr,
                    source: N,
                    target: g.t.indexOf(h[0].G),
                    HR: h[1] != 3 ? .6 : .3
                };
                d.F = U.GC
            } else if (S == "rasterize") {
                B.data = {
                    f0: "rasterizeLayer",
                    Jz: {
                        classID: "rasterizeLayer",
                        null: bw.wC("Lyr", !0)
                    }
                }
            } else if (S == "rotate") {
                d.data = {
                    X: "rot",
                    vc: [2, 5],
                    G: -h[0] * Math.PI / 180,
                    fR: h[1],
                    $: N
                };
                d.F = U.Fz
            } else if (S == "resize") {
                d.data = {
                    X: "scl",
                    vc: [2, 4],
                    G: new aV(h[0] / 100, h[1] / 100),
                    fR: h[2],
                    $: N
                };
                d.F = U.Fz
            } else if (S == "translate") {
                var V = b6.YI.vN(h);
                d.data = {
                    X: "trsl",
                    $: N,
                    adr: V[0],
                    a0L: V[1]
                };
                d.F = U.Vg
            } else if (S == "link") {
                d.data = {
                    X: M.CH,
                    a6_: [N, g.t.indexOf(h[0].G)]
                };
                d.F = U.GC
            } else if (S == "invert") {
                d.F = U.dk;
                d.data = {
                    X: "start",
                    xE: "nvrt"
                }
            } else if (S.startsWith("apply") && io.EF[S.slice(5)]) {
                var V = b6.YI.vN(h)
                    , $ = io.EF[S.slice(5)];
                B.data = {
                    f0: io.LS[$]
                };
                var i = io.g4($);
                if (i) {
                    io.gs["g" + $](i, V);
                    B.data.Jz = i
                }
            } else
                console.log(Y, S, h)
        } else if (I == "Documents") {
            if (S == "getByName") {
                for (var G = 0; G < z.length; G++)
                    if (z[G].name == h[0])
                        return {
                            L5: "Document",
                            G: z[G]
                        };
                return null
            } else if (S == "add") {
                var w = h[5];
                if (w == null)
                    w = 1;
                B.data = dh.f9(h[0], h[1], h[2], h[3], ["Wht", "Trns", "BckC"][w])
            } else
                throw "e"
        } else if (I == "Layers") {
            if (S == "getByName") {
                for (var G = 0; G < Y.G.length; G++)
                    if (Y.G[G].G.getName() == h[0]) {
                        E = Y.G[G];
                        break
                    }
                if (E == null)
                    H.__throw = {
                        message: "No layer with a name " + h[0]
                    }
            } else if (S == "add") {
                d.data = {
                    X: Y.Iu == "layerSets" ? M.cW : M.tD
                };
                d.F = U.GC;
                q.B(d);
                d.data = null;
                E = {
                    L5: "Layer",
                    G: g.t[g.C[0]]
                }
            } else
                console.log(Y, S, h)
        } else if (Y.L5 == "Selection") {
            if (S == "select") {
                var m = h[0]
                    , l = [];
                for (var G = 0; G < m.length; G++)
                    l.push(m[G][0], m[G][1]);
                B.data = U.Q_.G3(l)
            } else if (S == "selectAll") {
                B.data = U.Q_.zT(!0)
            } else if (S == "invert") {
                B.data = {
                    f0: "inverse"
                }
            } else if (S == "copy") {
                n.data = {
                    X: P.U.ZF
                }
            } else if (S == "deselect") {
                B.data = U.Q_.zT()
            } else if (S == "fill") {
                var b = h[0].G;
                b = t.W.Da({
                    h: b[1] * 255,
                    l: b[2] * 255,
                    O: b[3] * 255
                });
                B.data = U.NJ.kx("Clr", h[1], h[2] == null ? 1 : h[2] / 100, b)
            } else
                console.log(Y, S, h)
        } else if (Y.L5 == "Window") {
            if (S == "show") {
                n.data = {
                    X: P.U.V5,
                    Fh: Y.G
                }
            } else
                throw "e"
        } else if (Y.L5 == "ActionReference") {
            if (S == "putProperty") {
                Y.G.push({
                    t: "prop",
                    v: {
                        classID: h[0],
                        keyID: h[1]
                    }
                })
            } else if (S == "putClass") {
                Y.G.push({
                    t: "Clss",
                    v: {
                        classID: h[0]
                    }
                })
            } else if (S == "putEnumerated") {
                Y.G.push({
                    t: "Enmr",
                    v: {
                        classID: h[0],
                        typeID: h[1],
                        enum: h[2]
                    }
                })
            } else
                console.log(S, h)
        } else if (Y.L5 == "ActionDescriptor" || Y.L5 == "ActionList") {
            if (S == "putReference") {
                Y.G[h[0]] = {
                    t: "obj ",
                    v: h[1].G
                }
            } else if (S == "putDouble") {
                Y.G[h[0]] = {
                    t: "doub",
                    v: h[1]
                }
            } else if (S == "putUnitDouble") {
                Y.G[h[0]] = {
                    t: "UntF",
                    v: {
                        type: h[1],
                        val: h[2]
                    }
                }
            } else if (S == "putObject") {
                if (Y.L5 == "ActionList") {
                    var K = h[1].G;
                    K.classID = h[0];
                    Y.G.push({
                        t: "Objc",
                        v: K
                    })
                } else {
                    var K = h[2].G;
                    K.classID = h[1];
                    Y.G[h[0]] = {
                        t: "Objc",
                        v: K
                    }
                }
            } else if (S == "putList") {
                Y.G[h[0]] = {
                    t: "VlLs",
                    v: h[1].G
                }
            } else if (S == "putBoolean") {
                Y.G[h[0]] = {
                    t: "bool",
                    v: h[1]
                }
            } else if (S == "putInteger") {
                Y.G[h[0]] = {
                    t: "long",
                    v: h[1]
                }
            } else if (S == "hasKey") {
                var J = Y.G.null.v;
                for (var G = 0; G < J.length; G++) {
                    if (J[G].v.keyID == h[0]) {
                        if (h[0] == "UsrM") {
                            return g.t[g.C[0]].Qn() != null
                        } else
                            throw h
                    }
                }
            } else
                console.log(S, h)
        } else if (Y.L5 == "$") {
            if (S == "writeln") {
                console.log(h[0])
            } else
                throw S
        } else if (Y.L5 == "UI") {
            var R;
            if (S == "zoomIn" || S == "zoomOut") {
                R = {
                    X: "zoom",
                    IZ: S == "zoomIn"
                }
            } else if (S == "fitTheArea") {
                R = {
                    X: "adapt",
                    G: "fitscr"
                }
            } else if (S == "pixelToPixel") {
                R = {
                    X: "adapt",
                    G: "pixel"
                }
            }
            d.F = U.nf;
            d.data = R
        } else
            console.log(Y, S, h);
        if (d.data)
            q.B(d);
        if (B.data)
            q.B(B);
        if (n.data)
            q.B(n);
        return E
    }
        ;
    b6.YI.WP = function (Y, S, h) {
        var q = new _(P.E.A, !0);
        q.F = U.n5;
        var H = new _(P.E.$_, !0);
        if (h == 0) {
            b6.YI.rS = Y.N;
            H.data = U.Q_.zT(!0)
        } else {
            var I = b6.YI.rS;
            if (I)
                q.data = {
                    X: "setsel",
                    vc: "Restore Selection",
                    N: {
                        rect: I.rect.clone(),
                        channel: I.channel.slice(0)
                    }
                };
            else
                H.data = U.Q_.zT()
        }
        S.B(q.data ? q : H)
    }
        ;
    b6.YI.rS = null;
    b6.YI.yN = {
        AnchorPosition: {
            TOPLEFT: 0,
            TOPCENTER: 1,
            TOPRIGHT: 2,
            MIDDLELEFT: 3,
            MIDDLECENTER: 4,
            MIDDLERIGHT: 5,
            BOTTOMLEFT: 6,
            BOTTOMCENTER: 7,
            BOTTOMRIGHT: 8
        },
        Units: {
            PIXELS: 0,
            INCHES: 1,
            CM: 2,
            MM: 3,
            PERCENT: 4,
            PICAS: 5,
            POINTS: 6
        },
        ElementPlacement: {
            INSIDE: 0,
            PLACEATBEGINNING: 1,
            PLACEATEND: 2,
            PLACEBEFORE: 3,
            PLACEAFTER: 4
        },
        LayerKind: {
            NORMAL: 0,
            SMARTOBJECT: 1,
            TEXT: 2,
            SOLIDFILL: 3,
            GRADIENTFILL: 4,
            PATTERNFILL: 5
        },
        RippleSize: {
            SMALL: 0,
            MEDIUM: 1,
            LARGE: 2
        },
        PolarConversionType: {
            POLARTORECTANGULAR: 1,
            RECTANGULARTOPOLAR: 0
        },
        OffsetUndefinedAreas: {
            REPEATEDGEPIXELS: 0,
            SETTOBACKGROUND: 1,
            WRAPAROUND: 2
        },
        NoiseDistribution: {
            GAUSSIAN: 0,
            UNIFORM: 1
        },
        TextType: {
            PARAGRAPHTEXT: 0,
            POINTTEXT: 1
        },
        DialogModes: {
            ALL: 0,
            ERROR: 1,
            NO: 2
        },
        SaveOptions: {
            DONOTSAVECHANGES: 0,
            PROMPTTOSAVECHANGES: 1,
            SAVECHANGES: 2
        },
        SaveDocumentType: {
            PNG: "png",
            JPEG: "jpg",
            COMPUSERVEGIF: "gif"
        },
        ExportType: {
            SAVEFORWEB: 0
        },
        MatteType: {
            BACKGROUND: 0,
            BLACK: 1,
            FOREGROUND: 2,
            NETSCAPE: 3,
            NONE: 4,
            SEMIGRAY: 5,
            WHITE: 6
        },
        FormatOptions: {
            OPTIMIZEDBASELINE: 0,
            PROGRESSIVE: 1,
            STANDARDBASELINE: 3
        },
        DocumentMode: {
            RGB: 0
        },
        NewDocumentMode: {
            RGB: 0
        },
        DocumentFill: {
            WHITE: 0,
            TRANSPARENT: 1,
            BACKGROUNDCOLOR: 2
        },
        TrimType: {
            TOPLEFT: 0,
            BOTTOMRIGHT: 1,
            TRANSPARENT: 2
        },
        BlendMode: {
            NORMAL: "norm",
            DISSOLVE: "diss",
            DARKEN: "dark",
            MULTIPLY: "mul ",
            COLORBURN: "idiv",
            LINEARBURN: "lbrn",
            DARKERCOLOR: "dkCl",
            LIGHTEN: "lite",
            SCREEN: "scrn",
            COLORDODGE: "div ",
            LINEARDODGE: "lddg",
            LIGHTERCOLOR: "lgCl",
            OVERLAY: "over",
            SOFTLIGHT: "sLit",
            HARDLIGHT: "hLit",
            VIVIDLIGHT: "vLit",
            LINEARLIGHT: "lLit",
            PINLIGHT: "pLit",
            HARDMIX: "hMix",
            DIFFERENCE: "diff",
            EXCLUSION: "smud",
            SUBTRACT: "fsub",
            DIVIDE: "fdiv",
            HUE: "hue ",
            SATURATION: "sat ",
            COLOR: "colr",
            LUMINOSITY: "lum "
        }
    };
    b6.YI.yN.ColorBlendMode = b6.YI.yN.BlendMode;
    b6.YI.DH = "---- SoLd TySh SoCo GdFl PtFl".split(" ");
    function dc() { }
    dc.BR = {
        "dc:Title": ["", null, "dc:title"],
        "tiff:Artist": ["", 315, "dc:creator"],
        "tiff:ImageDescription": ["", 270, "dc:description"],
        "dc:Keywords": ["", null, "dc:subject"],
        "tiff:Copyright": ["", 33432],
        "tiff:Make": ["", 271],
        "tiff:Model": ["", 272],
        "exif:ExposureTime": [[1, 200], 33434],
        "exif:FNumber": [[16, 1], 33437],
        "exif:ExposureProgram": [1, 34850],
        "exif:ISOSpeedRatings": [200, 34855],
        "exif:DateTimeOriginal": ["", 36867],
        "exif:ShutterSpeedValue": [[1, 1], 37377],
        "exif:ApertureValue": [[8, 1], 37378],
        "exif:ExposureBiasValue": [[1, 1], 37380],
        "exif:MaxApertureValue": [[1, 1], 37381],
        "exif:MeteringMode": [5, 37383],
        "exif:LightSource": [0, 37384],
        "exif:Flash": [0, 37385],
        "exif:FocalLength": [[60, 1], 37386],
        "exif:PixelXDimension": [1, 40962],
        "exif:PixelYDimension": [1, 40963],
        "exif:FocalPlaneXResolution": [[1, 1], 41486],
        "exif:FocalPlaneYResolution": [[1, 1], 41487],
        "exif:FocalPlaneResolutionUnit": [2, 41488],
        "exif:DigitalZoomRatio": [[100, 100], 41988],
        "exif:FocalLengthIn35mmFilm": [1, 41989],
        "exif:SceneCaptureType": [0, 41990],
        "exif:LensInfo": ["", 42034],
        "exif:Lens": ["", 42036],
        "exif:LensSerialNumber": ["", 42037],
        "exif:SensitivityType": [2, 34864],
        "exif:RecommendedExposureIndex": [100, 34866],
        "exif:GPSVersionID": ["2.3.0.0", 0],
        "exif:GPSLatitude": ["48,35,57.646N", 2],
        "exif:GPSLongitude": ["22,56,42.238E", 4],
        "exif:GPSAltitudeRef": [0, 5],
        "exif:GPSAltitude": [[1, 1], 6],
        "exif:GPSStatus": ["A", 9],
        "exif:GPSMapDatum": ["", 18]
    };
    dc.VG = {
        "5": "dc:Title",
        "55": "exif:DateTimeOriginal",
        "80": "tiff:Artist",
        "120": "tiff:ImageDescription"
    };
    dc.a7X = function (Y, S) {
        if (S == null)
            S = {};
        var h = dc.VG
            , q = [];
        for (var G = 0; G < Y.length; G++) {
            var H = Y[G]
                , I = h[H[0] + ""];
            if (S[I] == null)
                S[I] = H[1];
            else if (H[0] == 25)
                q.push(H[1])
        }
        if (q.length != 0 && S["dc:Keywords"] == null)
            S["dc:Keywords"] = q.join(";");
        return S
    }
        ;
    dc.ak6 = function (Y) {
        var S = dc.VG
            , h = [];
        for (var q in S)
            if (Y[S[q]])
                h.push([parseInt(q), Y[S[q]]]);
        if (Y["dc:Keywords"]) {
            var H = Y["dc:Keywords"].split(";");
            for (var G = 0; G < H.length; G++)
                h.push([25, H[G].trim()])
        }
        return h
    }
        ;
    dc.Xv = function (Y, S) {
        if (S == null)
            S = {};
        var h = new DOMParser
            , q = h.parseFromString(Y, "image/svg+xml")
            , H = q.getElementsByTagName("rdf:Description")[0];
        if (H == null)
            return S;
        var I = dc.BR;
        for (var E in I) {
            var d = I[E][2];
            if (d == null)
                continue;
            var B = H.getElementsByTagName(d)[0];
            if (B == null)
                continue;
            var cs = B.getElementsByTagName("rdf:li")
                , n = [];
            for (var G = 0; G < cs.length; G++)
                n.push(cs[G].textContent);
            S[E] = n.join("; ")
        }
        return S
    }
        ;
    dc.H$ = function (Y) {
        var S = ["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>", "<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">", "<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">", "<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"]
            , h = dc.BR;
        for (var q in h) {
            var H = Y[q]
                , I = h[q][2]
                , E = "Seq"
                , d = "";
            if (H == null || I == null)
                continue;
            if (I == "dc:title" || I == "dc:description") {
                E = "Alt";
                d = " xml:lang=\"x-default\""
            }
            if (I == "dc:subject")
                E = "Bag";
            S.push("\t<" + I + "><rdf:" + E + ">");
            var B = I == "dc:subject" ? H.split(";").join(",").split(",") : [H];
            for (var G = 0; G < B.length; G++)
                S.push("\t\t<rdf:li" + d + ">" + B[G].trim() + "</rdf:li>");
            S.push("\t</rdf:" + E + "></" + I + ">")
        }
        S.push("</rdf:Description>", "</rdf:RDF>", "</x:xmpmeta>", "<?xpacket end=\"w\"?>");
        return S.join("\n")
    }
        ;
    dc.rM = function (Y) {
        var S = [];
        for (var G = 0; G < Y.length; G++)
            S[G] = Y[G][1] == 0 ? 0 : Y[G][0] / Y[G][1];
        return S
    }
        ;
    dc.M2 = function (Y) {
        var S = [];
        for (var G = 0; G < Y.length; G++) {
            var h = Y[G]
                , q = 1;
            if (h != Math.round(h)) {
                q = 1e3;
                h = Math.round(h * q)
            }
            S[G] = [h, q]
        }
        return S
    }
        ;
    dc.aB = function (Y, S) {
        var h = dc.BR;
        if (S == null)
            S = {};
        for (var q in h) {
            var H = h[q][1]
                , I = "t" + H;
            if (H != null && Y[I] != null) {
                var E = Y[I];
                if (H == 0)
                    E = E.join(".");
                else if (H == 2 || H == 4) {
                    var d = Y["t" + (H - 1)];
                    if (d == null)
                        d = [H == 2 ? "N" : "E"];
                    E = dc.rM(E).join(",") + d[0]
                } else if (H == 42034)
                    E = dc.rM(E).join(" ");
                else if (H == 270 || H == 315) {
                    var B = E[0]
                        , n = new Uint8Array(B.length);
                    k.St(n, 0, B);
                    E = k.Dt(n)
                } else
                    E = E[0];
                S[q] = E
            }
        }
        if (Y.exifIFD)
            dc.aB(Y.exifIFD, S);
        if (Y.gpsiIFD)
            dc.aB(Y.gpsiIFD, S);
        return S
    }
        ;
    dc.ay = function (Y, S, h) {
        var q = dc.BR
            , I = 0
            , d = 0;
        if (S == null)
            S = {};
        var H = {}
            , E = {};
        for (var B in q) {
            if (Y[B] == null || q[B][1] == null)
                continue;
            var n = q[B][1]
                , g = "t" + n
                , z = S;
            if (B.startsWith("exif:")) {
                z = H;
                I++;
                if (B.startsWith("exif:GPS")) {
                    z = E;
                    d++
                }
            }
            var p = Y[B];
            if (n == 0)
                p = new Uint8Array(p.split(".").map(parseFloat));
            else if (n == 2 || n == 4) {
                var C = p.length;
                z["t" + (n - 1)] = [p.slice(p.length - 1)];
                p = dc.M2(p.split(",").map(parseFloat))
            } else if (n == 42034)
                p = dc.M2(p.split(" ").map(parseFloat));
            else if (n == 270 || n == 315) {
                var T = k.gN(p);
                p = [k.Fe(T, 0, T.length)]
            } else
                p = [p];
            z[g] = p
        }
        if (I != 0) {
            S.exifIFD = H;
            S.t34665 = [0]
        }
        if (d != 0) {
            S.gpsiIFD = E;
            S.t34853 = [0]
        }
        var A = new Date
            , i = [A.getFullYear(), A.getMonth() + 1, A.getDate(), A.getHours(), A.getMinutes(), A.getSeconds()];
        for (var G = 0; G < 6; G++)
            i[G] = (i[G] + "").padStart(2, "0");
        S.t305 = ["Photopea Editor (www.photopea.com)"];
        if (h != !0)
            S.t306 = [i[0] + ":" + i[1] + ":" + i[2] + " " + i[3] + ":" + i[4] + ":" + i[5]];
        return S
    }
        ;
    var P = {};
    P.IR = 0;
    P.mU = function () {
        P.IR++;
        return P.IR
    }
        ;
    P.a9o = "uint8";
    P.D0 = function () {
        if (window.top != window.self)
            return !1;
        var Y = navigator.userAgent.toLowerCase();
        if (Y.indexOf("android") != -1)
            return !1;
        if (Y.indexOf("safari") != -1 && Y.indexOf("chrome") == -1)
            return !1;
        return window.ClipboardItem != null
    }
        ;
    P.IN = function (Y) {
        
        this.mo = Y;
        this.a5O = P.w("img");
        this.mX = P.w("canvas");
        this.gu = null;
        this.yx = "";
        this.$F = null;
        this.kW = new aV(0, 0);
        P.y2(this.mo, this.XN.bind(this))
    }
        ;
    P.IN.prototype.kg = function (Y, S) {
        this.gu = Y;
        if (S)
            this.yx = S;
        this.XN()
    }
        ;
    P.IN.prototype.XN = function (Y) {
        if (Y)
            this.kW = P.WW(Y, this.mo);
        var S = this.gu
            , h = typeof S == "string";
        if (!h) {
            var q = P.M()
                , H = this.kW
                , I = S._.d
                , E = S._.v
                , d = typeof S.Vi == "string"
                , B = d ? this.a5O : this.mX;
            if (d)
                B.setAttribute("src", S.Vi);
            else {
                B.width = I;
                B.height = E;
                var n = B.getContext("2d")
                    , g = new ImageData(new Uint8ClampedArray(S.Vi.buffer), I, E);
                n.putImageData(g, 0, 0)
            }
            B.setAttribute("style", " position:absolute; pointer-events:none;user-select:none;" + "top:" + (H.y - S.qy.y / q) + "px; left:" + (H.x - S.qy.x / q) + "px; width:" + I / q + "px; height:" + E / q + "px");
            var z = this.$F;
            if (z == null || z != B) {
                if (z)
                    this.mo.removeChild(z);
                this.mo.appendChild(B);
                this.$F = B
            }
        } else if (this.$F) {
            this.mo.removeChild(this.$F);
            this.$F = null
        }
        this.mo.setAttribute("style", "cursor:" + (h ? S : "none") + "; " + this.yx)
    }
        ;
    P.YJ = function (Y) {
        return Y.replace(/</g, "&lt;").replace(/>/g, "&gt;")
    }
        ;
    P.K3 = function (Y, S) {
        Y.D2(gx.get([12, 41]).charAt(0) + ":");
        S.D2(gx.get([12, 42]).charAt(0) + ":")
    }
        ;
    P.w = function (Y, S) {
        var h = document.createElement(Y);
        if (S != null)
            h.setAttribute("class", S);
        return h
    }
        ;
    P.v3 = function (Y) {
        while (Y.firstChild)
            Y.removeChild(Y.firstChild)
    }
        ;
    P.xv = function (Y, S) {
        var h = Y.getAttribute("class");
        if (h == null)
            h = "";
        h = h.split(" ");
        if (h.indexOf(S) == -1)
            h.push(S);
        Y.setAttribute("class", h.join(" "))
    }
        ;
    P.zM = function (Y, S) {
        var h = Y.getAttribute("class");
        if (h == null)
            return;
        h = h.split(" ");
        if (h.indexOf(S) != -1)
            h.splice(h.indexOf(S), 1);
        Y.setAttribute("class", h.join(" "))
    }
        ;
    P.Ap = function (Y) {
        while (!0) {
            if (Y == document)
                return !0;
            if (Y == null)
                return !1;
            Y = Y.parentNode
        }
    }
        ;
    P.f$ = function (Y) {
        Y.appendChild(P.w("br"))
    }
        ;
    P.p3 = function (Y) {
        Y.appendChild(P.w("hr"))
    }
        ;
    P.tO = document;
    P.v2 = function (Y) {
        var S = 0;
        for (var G = 0; G < Y; G++)
            S += Math.random();
        return S / Y < Math.PI / 4
    }
        ;
    P.j5 = function (Y, S) {
        var h = "";
        if (!P.v2(29))
            S -= 4;
        for (var G = 0; G < Y.length; G++)
            h += String.fromCharCode(Y.charCodeAt(G) - S - G);
        return h
    }
        ;
    P.Ei = function (Y, S) {
        var h = "";
        if (!P.v2(29))
            S += 4;
        for (var G = 0; G < Y.length; G++)
            h += String.fromCharCode(Y.charCodeAt(G) + S + G);
        return h
    }
        ;
    P.NB = function (Y) {
        var S = "";
        if (!P.v2(28))
            Y += "-3";
        for (var G = 0; G < Y.length; G++) {
            var h = Y.charCodeAt(G);
            if (h < 32 || 127 < h)
                throw "e";
            S += String.fromCharCode(32 + (h - 32 + 17 + 3 * G) % 96)
        }
        return S
    }
        ;
    P.mS = function (Y) {
        var S = "";
        if (!P.v2(28))
            Y += "-1";
        for (var G = 0; G < Y.length; G++) {
            var h = Y.charCodeAt(G);
            h -= 32;
            h += 96e4;
            h -= 17 + 3 * G;
            h = h % 96;
            S += String.fromCharCode(32 + h)
        }
        return S
    }
        ;
    P.V1 = function (Y) {
        var S = "";
        if (!P.v2(28))
            Y += "-3";
        for (var G = 0; G < Y.length; G++) {
            var h = Y.charCodeAt(G);
            if (h < 32 || 126 < h)
                throw "e";
            S += String.fromCharCode(32 + (h - 32 + 17 + 3 * G) % 95)
        }
        return S
    }
        ;
    P.Iq = function (Y) {
        var S = "";
        if (!P.v2(28))
            Y += "-1";
        for (var G = 0; G < Y.length; G++) {
            var h = Y.charCodeAt(G);
            h -= 32;
            h += 95e4;
            h -= 17 + 3 * G;
            h = h % 95;
            S += String.fromCharCode(32 + h)
        }
        return S
    }
        ;
    P.$J = function (Y, S) {
        var h = "";
        if (!P.v2(29))
            S += 3;
        for (var G = 0; G < Y.length; G++)
            h += String.fromCharCode((256 << 16) + Y.charCodeAt(G) + S * G & 255);
        return h
    }
        ;
    P.bw = function (Y) {
        var S = Math.random();
        P.a9o = "uint" + (3 + S);
        return new Y
    }
        ;
    P.h5 = 0;
    P.d$ = function (Y, S) {
        var h = 0;
        if (Date.now() - P.h5 > 1e3) {
            h = S == 0 ? 100 : S * 10
        } else {
            if (Y % 10 != 0)
                Y *= 10;
            h = (Y + S) % 100
        }
        P.h5 = Date.now();
        return h
    }
        ;
    P.aK = function (Y, S) {
        if (window.PointerEvent) {
            Y.addEventListener("pointerdown", S, !1);
            return
        }
        Y.addEventListener("mousedown", S, !1);
        Y.addEventListener("touchstart", S, !1)
    }
        ;
    P.y2 = function (Y, S) {
        if (window.PointerEvent) {
            Y.addEventListener("pointermove", S, !1);
            return
        }
        Y.addEventListener("mousemove", S, !1);
        Y.addEventListener("touchmove", S, !1)
    }
        ;
    P.cM = function (Y, S) {
        if (window.PointerEvent) {
            Y.addEventListener("pointerup", S, !1);
            return
        }
        Y.addEventListener("mouseup", S, !1);
        Y.addEventListener("touchend", S, !1)
    }
        ;
    P.aiK = function (Y, S) {
        if (window.PointerEvent) {
            Y.removeEventListener("pointerdown", S, !1);
            return
        }
        Y.removeEventListener("mousedown", S, !1);
        Y.removeEventListener("touchstart", S, !1)
    }
        ;
    P.r$ = function (Y, S) {
        if (window.PointerEvent) {
            Y.removeEventListener("pointermove", S, !1);
            return
        }
        Y.removeEventListener("mousemove", S, !1);
        Y.removeEventListener("touchmove", S, !1)
    }
        ;
    P.pp = function (Y, S) {
        if (window.PointerEvent) {
            Y.removeEventListener("pointerup", S, !1);
            return
        }
        Y.removeEventListener("mouseup", S, !1);
        Y.removeEventListener("touchend", S, !1)
    }
        ;
    P.qT = function (Y) {
        Y.addEventListener("touchstart", P.sS, !1);
        Y.addEventListener("touchmove", P.sS, !1);
        Y.addEventListener("touchend", P.sS, !1);
        Y.addEventListener("gesturestart", P.sS, !1);
        Y.addEventListener("gesturechange", P.sS, !1);
        Y.addEventListener("gestureend", P.sS, !1)
    }
        ;
    P.ve = function (Y, S, h, q) {
        var H = P.M();
        Y.width = Math.floor(S * H);
        Y.height = Math.floor(h * H);
        Y.style.width = Y.width / H + "px";
        Y.style.height = Y.height / H + "px";
        if (q)
            q.setTransform(H, 0, 0, H, 0, 0)
    }
        ;
    P.fs = function (Y, S, h) {
        Y.setAttribute("style", "width:" + S / P.M() + "px; height:" + h / P.M() + "px")
    }
        ;
    P.WW = function (Y, S) {
        if (S == null)
            S = Y.currentTarget;
        var h = S.getBoundingClientRect();
        if (Y.touches)
            Y = Y.touches.item(0);
        return {
            x: Y.clientX - h.left,
            y: Y.clientY - h.top
        }
    }
        ;
    P.M = function (Y) {
        return window.devicePixelRatio || 1
    }
        ;
    P.sS = function (Y) {
        Y.preventDefault()
    }
        ;
    P.IM = function (Y) {
        Y.stopPropagation();
        Y.preventDefault()
    }
        ;
    P.NM = function (Y, S, h) {
        h = h ? h : "";
        if (PIMG["__" + Y] == null)
            h += " gsicon";
        return "<img src=\"" + PIMG[Y] + "\" alt=\"" + (S ? S : "") + "\" class=\"" + h + "\" />"
    }
        ;
    P.Dg = function (Y, S, h, q) {
        var H = Y.dataTransfer.getData("text/uri-list");
        if (H != null && H.startsWith("http")) {
            var I = new _(P.E.P, !0);
            I.data = {
                X: P.U.Pv,
                go: {
                    url: H,
                    jz: !0,
                    lS: h,
                    _V: q
                }
            };
            S.B(I)
        }
        if (Y.dataTransfer.files.length == 0)
            return;
        
        if (window.showOpenFilePicker) {
            var E = []
                , d = Y.dataTransfer.items.length
                , B = Y.dataTransfer.files;
            for (var n of Y.dataTransfer.items)
                n.getAsFileSystemHandle().then(function (g) {
                    E.push(g);
                    if (E.length == d) {
                        var I = new _(P.E.P, !0);
                        I.data = {
                            X: P.U.Q$,
                            data: B,
                            lS: h,
                            _V: q,
                            ahu: E
                        };
                        S.B(I)
                    }
                })
        } else {
            var I = new _(P.E.P, !0);
            I.data = {
                X: P.U.Q$,
                data: Y.dataTransfer.files,
                lS: h,
                _V: q
            };
            S.B(I)
        }
    }
        ;
    var _ = function (Y, S) {
        if (!S)
            S = !1;
        this.type = Y;
        this.target = null;
        this.currentTarget = null;
        this.bubbles = S;
        this.F = null;
        this.NN = !1
    };
    P.E = {
        A: "0",
        P: "1",
        $_: "1.5",
        L: "2",
        Os: "3",
        eE: "4",
        Tx: "5"
    };
    P.U = {
        lO: "10",
        pa: "11",
        g1: "12",
        j8: "13",
        t6: "14",
        pb: "14.1",
        Pv: "15",
        MY: "16",
        Ar: "17",
        rB: "18",
        $k: "19",
        Pf: "19.5",
        or: "20",
        ZM: "21",
        ZF: "22",
        Ut: "23",
        EG: "24",
        V5: "25",
        mt: "26",
        Qc: "27",
        sh: "28",
        Qf: "29",
        Q$: "30",
        iK: "31",
        Yk: "32",
        lP: "33",
        tS: "34",
        PD: "35",
        qU: "35.5",
        wU: "37",
        Gl: "38",
        OW: "39",
        un: "40",
        sw: "41",
        gw: "41.5",
        Gq: "42",
        yG: "43",
        M3: "43.5",
        sO: "44",
        VH: "45",
        i9: "46",
        SM: "47",
        gc: "48",
        dr: "49",
        UF: "50"
    };
    if (P.v2(27))
        P.tO = window;
    else
        P.tO = P.amE;
    P.tO._cwY = P.tO[P.$J("clh]]c[", 3)];
    var gU = {};
    gU.Xm = function (G) {
        var Y = gU.b2[G]
            , S = document.documentElement.style
            , q = 20;
        S.setProperty("--bg-color", "#" + t.u9(Y["--bg-color"]));
        S.setProperty("--bg-panel", "#" + t.u9(Y["--bg-panel"]));
        S.setProperty("--bg-canvas", "#" + t.u9(Y["--bg-canvas"]));
        S.setProperty("--bg-input", "#" + t.u9(Y["--bg-input"]));
        S.setProperty("--bg-bbtn", "#" + t.u9(Y["--bg-bbtn"]));
        S.setProperty("--bg-bbtnOver", "#" + t.u9(Y["--bg-bbtnOver"]));
        S.setProperty("--brdr", "#" + t.u9(Y["--brdr"]));
        S.setProperty("--text-color", "#" + t.u9(Y["--text-color"]));
        S.setProperty("--brdrLgt", "rgba(255,255,255," + Y["--brdrLgt"] + ")");
        S.setProperty("--brdrDrk", "rgba(  0,  0,  0," + Y["--brdrDrk"] + ")");
        S.setProperty("--alphaDark", "" + Y["--alphaDark"]);
        S.setProperty("--gs-invert", "" + Y["--gs-invert"]);
        var h = Y["--sh-clr"];
        S.setProperty("--sh-clr", "rgba(" + (h >> 16) + "," + (h >> 8 & 255) + "," + (h & 255) + ", 0.45)");
        S.setProperty("--sh-dy", "" + Y["--sh-dy"] + "px");
        if (1 < P.M() && P.M() < 1.5)
            q /= P.M();
        S.setProperty("--img20", q + "px");
        if (PIMG != null) {
            var H = "lrs/eye lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
            for (var G = 0; G < H.length; G++) {
                var I = H[G]
                    , E = I.split("/").pop()
                    , d = PIMG["__" + I] == null ? Y["--gs-invert"] : "0";
                S.setProperty("--icon_" + E, "url(" + PIMG[I] + ")");
                S.setProperty("--icon_" + E + "_invrt", d)
            }
        }
        var B = document.querySelector("meta[name=theme-color]");
        if (B)
            B.setAttribute("content", "#" + t.u9(Y["--bg-color"]))
    }
        ;
    gU.b2 = [{
        name: "Silver",
        "--bg-color": 14737632,
        "--bg-panel": 9868950,
        "--bg-canvas": 14737632,
        "--bg-input": 16777215,
        "--bg-bbtn": 15658734,
        "--bg-bbtnOver": 15132390,
        "--brdrLgt": .5,
        "--brdrDrk": .4,
        "--alphaDark": .12,
        "--text-color": 3749943,
        "--gs-invert": .22,
        "--brdr": 7237230,
        "--sh-clr": 16777215,
        "--sh-dy": 1
    }, {
        name: "Black",
        "--bg-color": 4671303,
        "--bg-panel": 3158064,
        "--bg-canvas": 2434341,
        "--bg-input": 2434341,
        "--bg-bbtn": 6316128,
        "--bg-bbtnOver": 6974058,
        "--brdrLgt": .15,
        "--brdrDrk": .6,
        "--alphaDark": .25,
        "--text-color": 14013909,
        "--gs-invert": .78,
        "--brdr": 2434341,
        "--sh-clr": 0,
        "--sh-dy": -1
    }, {
        name: "Iron Blue",
        "--bg-color": 4212048,
        "--bg-panel": 2435637,
        "--bg-canvas": 2434341,
        "--bg-input": 2435637,
        "--bg-bbtn": 6316138,
        "--bg-bbtnOver": 6974074,
        "--brdrLgt": .15,
        "--brdrDrk": .6,
        "--alphaDark": .25,
        "--text-color": 15790330,
        "--gs-invert": .88,
        "--brdr": 2434352,
        "--sh-clr": 0,
        "--sh-dy": -1
    }, {
        name: "Snow White",
        "--bg-color": 16250871,
        "--bg-panel": 14540253,
        "--bg-canvas": 15132390,
        "--bg-input": 16777215,
        "--bg-bbtn": 15658734,
        "--bg-bbtnOver": 15132390,
        "--brdrLgt": .2,
        "--brdrDrk": .2,
        "--alphaDark": .065,
        "--text-color": 0,
        "--gs-invert": .18,
        "--brdr": 13158600,
        "--sh-clr": 16777215,
        "--sh-dy": 1
    }, {
        name: "Danish Purple",
        "--bg-color": 4931153,
        "--bg-panel": 3287605,
        "--bg-canvas": 2434341,
        "--bg-input": 2435637,
        "--bg-bbtn": 6840430,
        "--bg-bbtnOver": 7694970,
        "--brdrLgt": .15,
        "--brdrDrk": .6,
        "--alphaDark": .25,
        "--text-color": 15790330,
        "--gs-invert": .88,
        "--brdr": 2434352,
        "--sh-clr": 0,
        "--sh-dy": -1
    }];
    function e9() {
        ex.call(this);
        this.parent = null;
        this.j = null;
        this.rz = 0;
        this.UR = 0
    }
    e9.prototype = new ex;
    e9.prototype.a16 = function (Y) {
        var D = this;
        while (D != null) {
            if (D == Y)
                return !0;
            D = D.parent
        }
        return !1
    }
        ;
    e9.prototype.$Z = function () {
        var Y = this.j;
        return Y.offsetWidth + Y.clientLeft
    }
        ;
    e9.prototype.PN = function () {
        var Y = this.j;
        return Y.offsetHeight + Y.clientTop
    }
        ;
    e9.prototype.update = function (Y) { }
        ;
    e9.prototype.B = function (Y) {
        ex.prototype.B.call(this, Y);
        if (Y.bubbles && this.parent != null)
            this.parent.B(Y)
    }
        ;
    e9.prototype.acN = function (Y) {
        Y.stopPropagation();
        Y.preventDefault()
    }
        ;
    e9.prototype.f = function () { }
        ;
    e9.prototype.tW = function (Y) {
        P.zM(this.j, "disabled")
    }
        ;
    e9.prototype.f4 = function (Y) {
        P.xv(this.j, "disabled")
    }
        ;
    e9.prototype.Rz = function (Y) {
        if (Y)
            this.tW();
        else
            this.f4()
    }
        ;
    function gV(Y, S) {
        e9.call(this);
        this.uk = null;
        this.a1N = this.wR.bind(this);
        this.aao = this.hT.bind(this);
        this.agL = this.acl.bind(this);
        this.ahh = this._W.bind(this);
        this.u5 = [];
        this._c = [];
        this.WQ = [];
        this.acB = [];
        this.j = P.w("div", "contextpanel");
        this.j.addEventListener("contextmenu", P.sS, !1);
        this.zy = null;
        this.Qt = 0;
        this.a8j = Y;
        this.alC = S;
        this.Jw = [];
        for (var G = 0; G < Y.length; G++) {
            var h = P.w("div", "enab");
            this._c.push(h);
            this.j.appendChild(h);
            if (Y[G].Xg) {
                var q = P.w("img", "thumb");
                q.setAttribute("src", PIMG[Y[G].Xg]);
                h.appendChild(q)
            } else {
                var H = P.w("span", "check");
                this.acB.push(H);
                h.appendChild(H)
            }
            var I = P.w("span", "label");
            I.innerHTML = gx.get(Y[G].name);
            h.appendChild(I);
            this.WQ.push(I);
            if (Y[G].Sp)
                this.j.appendChild(P.w("hr"));
            if (Y[G].fQ || Y[G].sub) {
                var E = P.w("span", "right");
                h.appendChild(E);
                if (Y[G].fQ)
                    E.innerHTML = F.Ov(Y[G].fQ);
                if (Y[G].sub)
                    E.innerHTML = "\u25B6"
            }
            h.addEventListener("click", this.a1N, !1);
            h.addEventListener("mouseover", this.aao, !0);
            h.addEventListener("mouseout", this.agL, !0);
            if (Y[G].sub) {
                var d = new gV(Y[G].sub, S ? S[G].sub : null);
                d.parent = this;
                this.Jw.push(d);
                d.k("select", this.a7D, this)
            } else
                this.Jw.push(null)
        }
    }
    gV.prototype = new e9;
    gV.prototype.SJ = function (Y) {
        P.v3(this.j);
        for (var G = 0; G < Y.length; G++)
            if (Y[G] != 0 && Y[G] != null) {
                this.j.appendChild(this._c[G]);
                if (Y[G] != 1 && this.Jw[G])
                    this.Jw[G].SJ(Y[G])
            }
    }
        ;
    gV.prototype.f = function () {
        var Y = this.a8j;
        for (var G = 0; G < Y.length; G++) {
            if (Y[G].title)
                this._c[G].title = gx.get(Y[G].title);
            this.WQ[G].textContent = gx.get(Y[G].name) + (Y[G].tJ ? "..." : "")
        }
        for (var G = 0; G < this.Jw.length; G++)
            if (this.Jw[G])
                this.Jw[G].f()
    }
        ;
    gV.prototype.update = function (Y, S) {
        var h = this.a8j;
        for (var G = 0; G < h.length; G++) {
            if (h[G].p) {
                var q = h[G].p(Y, S, G);
                if (q.p != null)
                    this._c[G].setAttribute("class", q.p ? "enab" : "disab");
                if (q.sY != null)
                    this.WQ[G].textContent = q.sY;
                if (q.x$ != null)
                    this.acB[G].textContent = q.x$ ? "\u2713" : ""
            }
        }
        for (var G = 0; G < this.Jw.length; G++)
            if (this.Jw[G])
                this.Jw[G].update(Y, S)
    }
        ;
    gV.prototype.Iv = function () {
        return this.u5
    }
        ;
    gV.prototype.wR = function (Y) {
        if (Y.button != 0)
            return;
        var G = this._c.indexOf(Y.currentTarget);
        if (this.Jw[G]) {
            this.Qt = G;
            this._W()
        } else {
            if (this.alC) {
                var S = this.alC[G]
                    , h = new _(S.c, !0);
                h.F = S.F;
                h.data = S.g;
                this.B(h)
            }
            this.uk = null;
            this.u5 = [G];
            this.B(new _("select", !1));
            var h = new _(P.E.P, !0);
            h.data = {
                X: P.U.j8
            };
            this.B(h)
        }
    }
        ;
    gV.prototype.hT = function (Y) {
        var G = this._c.indexOf(Y.currentTarget);
        if (this.zy) {
            clearTimeout(this.zy);
            this.zy = null
        }
        if (this.Jw[G] == null)
            return;
        this.Qt = G;
        this.zy = setTimeout(this.ahh, 300)
    }
        ;
    gV.prototype.acl = function (Y) {
        var G = this._c.indexOf(Y.currentTarget);
        if (this.zy) {
            clearTimeout(this.zy);
            this.zy = null
        }
    }
        ;
    gV.prototype._W = function () {
        if (this.zy) {
            clearTimeout(this.zy);
            this.zy = null
        }
        var G = this.Qt;
        if (this.uk)
            this.uk.sA();
        this.uk = this.Jw[G];
        var Y = this._c[G].getBoundingClientRect()
            , S = new _(P.E.P, !0);
        S.data = {
            X: P.U.pa,
            FN: this.Jw[G],
            x: Y.left + Y.width + 2,
            y: Y.top
        };
        this.B(S)
    }
        ;
    gV.prototype.sA = function () {
        for (var G = 0; G < this.Jw.length; G++)
            if (this.Jw[G])
                this.Jw[G].sA();
        var Y = new _(P.E.P, !0);
        Y.data = {
            X: P.U.g1,
            FN: this
        };
        this.B(Y)
    }
        ;
    gV.prototype.a7D = function (Y) {
        var G = this.Jw.indexOf(Y.target);
        this.u5 = [G].concat(Y.target.Iv());
        this.B(new _("select", !1))
    }
        ;
    function cI(Y, S, h, q, H, I, E, d, B) {
        e9.call(this);
        this.j = P.w("span", "fitem");
        var n = P.mU();
        this.lT = Y;
        this.Rj = d;
        this.adw = B;
        this.Ld = S;
        this.IB = h;
        this.xR = null;
        if (q instanceof Array) {
            this.xR = q;
            q = q[0]
        }
        this.g0 = q;
        this.$U = H;
        this.akV = I;
        this.UQ = E;
        this.ee = 0;
        this.EJ = P.w("label", "flabel");
        this.EJ.innerHTML = Y;
        this.EJ.setAttribute("style", "cursor:col-resize;");
        this.LV = P.w("input", "");
        this.LV.setAttribute("type", "range");
        if (E) {
            this.LV.min = 0;
            this.LV.max = 400
        } else {
            this.LV.min = S;
            this.LV.max = h;
            if (H != 0)
                this.LV.step = (h - S) / 200
        }
        this.yl = P.w("input", "");
        this.yl.setAttribute("type", "text");
        this.yl.setAttribute("id", n);
        this.qf = P.w("span", "");
        this.qf.innerHTML = q;
        this.yl.addEventListener("change", this.u3.bind(this), !1);
        this.yl.addEventListener("keydown", this.rk.bind(this), !1);
        this.yl.addEventListener("wheel", this.Sh.bind(this), !1);
        this.LV.addEventListener("input", this.u3.bind(this), !1);
        if (B)
            this.LV.addEventListener("change", this.u3.bind(this), !1);
        this.LV.addEventListener("click", this.a27.bind(this), !1);
        this.agj = this.a9J.bind(this);
        this.alQ = this.acT.bind(this);
        this.a0W = this.aiw.bind(this);
        this.nt = 0;
        this.Ma = 0;
        this.B_ = !1;
        P.aK(this.EJ, this.agj);
        this.EJ.addEventListener("dragstart", P.IM, !1)
    }
    cI.prototype = new e9;
    cI.prototype.xi = function (Y) {
        this.$U = Y
    }
        ;
    cI.prototype.D2 = function (Y) {
        this.EJ.textContent = Y
    }
        ;
    cI.prototype.f = function () {
        var D = this.lT
            , Y = this.Rj;
        if (D) {
            if (typeof D == "string" && D.startsWith("<"))
                this.EJ.innerHTML = D;
            else
                this.EJ.textContent = gx.get(D) + ":"
        }
        if (Y) {
            Y = gx.get(Y);
            if (D)
                this.EJ.setAttribute("title", Y);
            this.yl.setAttribute("title", Y)
        }
    }
        ;
    cI.prototype.i = function (Y, S) {
        var h = this.Ld == this.IB;
        if (!h && this.Ld >= 0)
            Y = Math.max(this.Ld, Y);
        if (this.$U == 0)
            Y = Math.round(Y);
        var q = this.g0;
        this.yl.value = (this.$U != 0 ? Y.toFixed(this.$U) : Y) + (this.akV && q ? (q.toLowerCase() == q.toUpperCase() ? "" : " ") + q : "");
        var H = 400 * Math.pow((Y - this.Ld) / (this.IB - this.Ld), 1 / 2.7);
        this.LV.value = this.UQ ? H : Y;
        if (S)
            this.da()
    }
        ;
    cI.prototype.u = function () {
        var Y = parseFloat(this.yl.value);
        if (isNaN(Y))
            Y = 0;
        return Y
    }
        ;
    cI.prototype.LH = function () {
        return this.g0
    }
        ;
    cI.prototype.u3 = function (Y) {
        var S = 0;
        if (Y.currentTarget == this.yl) {
            var h = Y.target.value
                , q = 0;
            while (q < h.length && (h.charAt(q) == "." || 48 <= h.charCodeAt(q) && h.charCodeAt(q) <= 57))
                q++;
            S = h == "" ? 0 : parseFloat(h);
            if (isNaN(S))
                S = 0;
            var H = h.slice(q).trim();
            if (this.xR && this.xR.indexOf(H) != -1)
                this.g0 = H
        } else {
            if (Date.now() - this.ee < 10)
                return;
            S = parseFloat(Y.target.value);
            if (this.UQ) {
                S = this.Ld + Math.pow(S / 400, 2.7) * (this.IB - this.Ld);
                S = this.Mo(S)
            }
        }
        this.i(S);
        if (Y.type == "input" && this.adw)
            return;
        this.da()
    }
        ;
    cI.prototype.da = function () {
        this.B(new _(P.E.L))
    }
        ;
    cI.prototype.Mo = function (Y) {
        if (this.IB - this.Ld > 50 && Y > 10)
            Y = Math.round(Y);
        return Y
    }
        ;
    cI.prototype.rk = function (Y) {
        var S = 0;
        if (F.QN(Y.code, F.z_))
            S = 1;
        if (F.QN(Y.code, F.IL))
            S = -1;
        if (S != 0)
            this._x(S, Y.shiftKey)
    }
        ;
    cI.prototype.Sh = function (Y) {
        this._x(Y.deltaY > 0 ? -1 : 1, Y.shiftKey)
    }
        ;
    cI.prototype._x = function (Y, S) {
        var h = this.u()
            , q = this.$U
            , H = Y * (q == null || q == 0 || h > 5 ? 1 : .1);
        if (S)
            H *= 10;
        var I = h + H;
        if (!this.UQ && this.IB != this.Ld)
            I = Math.min(this.IB, I);
        this.i(I);
        this.da()
    }
        ;
    cI.prototype.a27 = function (Y) {
        var S = Date.now() - this.ee;
        this.ee = Date.now();
        if (S > 300)
            return;
        var h = (this.IB + this.Ld) / 2;
        if (this.Ld < 0 && this.IB > 0)
            h = 0;
        else if (this.Ld < 1 && this.IB > 1 && this.IB < 10)
            h = 1;
        this.i(h);
        this.da()
    }
        ;
    cI.prototype.a9J = function (Y) {
        P.y2(document, this.alQ);
        P.cM(document, this.a0W);
        this.nt = P.WW(Y, document.body).x;
        this.Ma = this.u()
    }
        ;
    cI.prototype.acT = function (Y) {
        P.IM(Y);
        var S = this.Ld == this.IB
            , h = P.WW(Y, document.body).x
            , q = (h - this.nt) * (S ? 1 : 1 / 120 * (this.IB - this.Ld))
            , H = this.Ma + q;
        if (S)
            H = Math.round(H);
        if (!S) {
            if (!0) {
                H = Math.max(this.Ld, H);
                if (H == this.Ld) {
                    this.nt = h;
                    this.Ma = this.Ld
                }
            }
            if (!this.UQ) {
                H = Math.min(this.IB, H);
                if (H == this.IB) {
                    this.nt = h;
                    this.Ma = this.IB
                }
            }
            H = this.Mo(H)
        }
        this.B_ = !0;
        this.i(H);
        this.da()
    }
        ;
    cI.prototype.aiw = function (Y) {
        if (!this.B_)
            this.yl.focus();
        this.B_ = !1;
        P.r$(document, this.alQ);
        P.pp(document, this.a0W)
    }
        ;
    cI.prototype.rD = function () {
        this.yl.select();
        this.yl.focus()
    }
        ;
    function eI(Y, S) {
        e9.call(this);
        this.aa = [];
        this.Qo = -1;
        this.am3 = Y;
        this.qq = S;
        this.tT = 0;
        this.q7 = null;
        this.kW = new aV(0, 0);
        if (S != null) {
            this.BW = new gV([{
                name: [6, 37]
            }, {
                name: [5, 4]
            }]);
            this.BW.parent = this;
            this.BW.k("select", this.mG, this)
        }
        this.j = P.w("div", "imageset scrollable");
        this.j.addEventListener("contextmenu", P.sS, !1)
    }
    eI.prototype = new e9;
    eI.prototype.f = function () {
        if (this.BW)
            this.BW.f()
    }
        ;
    eI.prototype.mG = function (Y) {
        var G = this.BW.Iv()[0]
            , S = new _(P.E.P, !0)
            , h = {
                X: P.U.PD,
                go: this.qq,
                hs: [this.Qo]
            };
        if (G == 0) {
            var q = this.q7[1][this.Qo];
            h.UI = "rnm";
            S.data = {
                X: P.U.V5,
                Fh: "namewindow",
                IJ: q,
                Yz: {
                    c: P.E.P,
                    g: h
                }
            }
        } else {
            S.data = h;
            h.UI = "del"
        }
        this.B(S)
    }
        ;
    eI.prototype.a5o = function () {
        return this.tT
    }
        ;
    eI.prototype.Gx = function (Y) {
        this.tT = Y;
        if (this.q7)
            this.o3()
    }
        ;
    eI.prototype.sc = function (Y, S, h, q) {
        this.q7 = [Y, S, h, q];
        this.o3()
    }
        ;
    eI.prototype.o3 = function () {
        var Y = this.q7
            , S = Y[0]
            , h = Y[1]
            , q = Y[2]
            , H = Y[3];
        this.aa = [];
        this.j.innerHTML = "";
        var I = this.EM.bind(this)
            , E = this.tT;
        if (E == 0)
            P.xv(this.j, "imageset");
        else
            P.zM(this.j, "imageset");
        for (var G = 0; G < S.length; G++) {
            var d = S[G];
            if (d == null) {
                this.aa.push(null);
                continue
            }
            var B = P.w("img", "image");
            if (q)
                P.fs(B, q, H);
            if (this.am3)
                P.xv(B, "gsicon");
            B.setAttribute("src", d);
            if (E == 0) { } else {
                var n = P.w("div", "listitem");
                n.appendChild(B);
                var g = P.w("span");
                g.textContent = h ? h[G] : "Item " + (G + 1);
                g.setAttribute("style", "margin-left:4px;");
                n.appendChild(g);
                B = n
            }
            if (h)
                B.setAttribute("title", h[G]);
            B.addEventListener("mousedown", I, !1);
            this.aa.push(B);
            this.j.appendChild(B)
        }
    }
        ;
    eI.prototype.EM = function (Y) {
        Y.preventDefault();
        this.Qo = this.aa.indexOf(Y.currentTarget);
        this.kW = P.WW(Y, Y.currentTarget);
        if (Y.button == 0)
            this.B(new _(P.E.L));
        if (Y.button == 2 && this.BW) {
            var S = this.BW;
            S.update(null);
            var h = P.WW(Y, document.body)
                , q = new _(P.E.P, !0);
            q.data = {
                X: P.U.pa,
                FN: S,
                x: h.x,
                y: h.y + 2
            };
            this.B(q)
        }
    }
        ;
    eI.prototype.u = function () {
        return this.Qo
    }
        ;
    eI.prototype.i = function (Y) {
        this.Qo = Y
    }
        ;
    eI.prototype.aje = function () {
        var Y = this.kW;
        return new aV(Y.x, Y.y)
    }
        ;
    eI.prototype.ca = function (Y) {
        for (var G = 0; G < this.aa.length; G++) {
            var S = this.aa[G];
            if (S == null)
                continue;
            if (G == Y)
                P.xv(S, "active");
            else
                P.zM(S, "active")
        }
    }
        ;
    function h4(Y, S, h, q, H, I, E) {
        e9.call(this);
        this.j = P.w("span", "fitem " + h);
        this.KM = new e9;
        this.KM.j = P.w("div", "floatcont");
        this.KM.j.setAttribute("style", "width: " + (q + 1.5) + "em;");
        this.KM.parent = this;
        this.dE = P.w("div");
        this.KM.j.appendChild(this.dE);
        this.vd = P.w("div");
        this.KM.j.appendChild(this.vd);
        if (Y) {
            this.lT = Y;
            this.EJ = P.w("label", "flabel");
            this.j.appendChild(this.EJ)
        }
        this.X = P.w("button", E ? "nopadding" : "");
        this.X.setAttribute("style", "position:relative;");
        this.X.addEventListener("click", (S ? this.fe : this.L0).bind(this), !1);
        this.j.appendChild(this.X);
        this.nr = P.w("img", E ? "gsicon" : "");
        this.X.appendChild(this.nr);
        if (S) {
            var d = P.w("button");
            d.textContent = "\u25BC";
            d.addEventListener("click", this.L0.bind(this), !1);
            this.j.appendChild(d)
        } else {
            var B = P.w("span");
            B.textContent = "\u25BC";
            B.setAttribute("style", "position:absolute;  bottom:2px;  right:4px;");
            this.X.appendChild(B)
        }
        var n = P.w("span");
        this.vd.appendChild(n);
        n.setAttribute("style", "display:inline-block;  vertical-align:top; width:" + q + "em;");
        this.BH = new eI(E, I);
        n.appendChild(this.BH.j);
        this.BH.parent = this.KM;
        this.BH.k(P.E.L, this.a1l, this);
        this.BH.j.style.height = H + "em";
        this.V3 = P.w("button");
        this.V3.textContent = "\u25BC";
        this.V3.setAttribute("style", "padding:3px");
        this.V3.addEventListener("click", this.a57.bind(this), !1);
        this.vd.appendChild(this.V3);
        var g = this.rP()
            , z = I != iD.YM && I != iD.Bt ? I : null
            , p = I == null ? "" : iD.FV[I][0].toUpperCase()
            , C = z ? [{
                name: [12, 87]
            }] : [];
        C = C.concat([{
            name: ["VAR0 / VAR1", [25, 3, 0], [25, 3, 1]]
        }, {
            name: [[23, 6], "." + (p == "ICC" ? "icc .cube .look .3dl" : p)]
        }, {
            name: ["VAR0 ." + p, [1, 8]],
            Sp: g.length != 0
        }]);
        for (var G = 0; G < g.length; G++)
            C.push({
                name: g[G].split("/").pop()
            });
        this.BW = new gV(C);
        this.BW.parent = this.KM;
        this.BW.k("select", this.mG, this);
        this.qq = I;
        this.afz = z;
        this.x1 = null;
        this.vG = !0;
        this.ll = null
    }
    h4.prototype = new e9;
    h4.prototype.rP = function () {
        return []
    }
        ;
    h4.prototype.a1l = function (Y) {
        this.ug(Y);
        this.BH.ca(this.BH.u())
    }
        ;
    h4.prototype.fe = function () { }
        ;
    h4.prototype.f = function () {
        this.BW.f();
        this.BH.f();
        var Y = this.lT;
        if (Y)
            this.EJ.textContent = gx.get(Y) + ":"
    }
        ;
    h4.prototype.D2 = function (Y) {
        this.EJ.textContent = Y
    }
        ;
    h4.prototype.dB = function (Y) {
        var S = this.qq
            , h = 0;
        if (S == iD.HE) {
            h = this.x1 ? this.x1.length : 0;
            Y = Y.slice(0)
        }
        this.x1 = Y;
        this.vG = !0;
        if (P.Ap(this.BH.j) || S == iD.jl)
            this.Xr();
        if (S == iD.HE && Y.length - h == 1 && P.Ap(this.j)) {
            this.i(Y[h]);
            this.vG = !0;
            this.Xr();
            this.BH.ca(h);
            this.B(new _(P.E.L))
        }
    }
        ;
    h4.prototype.mG = function (Y) {
        var S = Y.target.Iv()[0];
        if (this.afz == null)
            S++;
        var h = new _(P.E.P, !0);
        if (S == 0) {
            var q = this.wB();
            if (this.qq == iD.HE && q[0].profile == null)
                return;
            h.data = {
                X: P.U.PD,
                UI: "add",
                go: this.afz,
                Gu: q
            }
        } else if (S == 1)
            this.BH.Gx(1 - this.BH.a5o());
        else if (S == 2)
            h.data = {
                X: P.U.MY
            };
        else if (S == 3)
            h.data = {
                X: P.U.i9,
                alz: this.qq
            };
        else {
            var H = this.rP();
            h.data = {
                X: P.U.Pv,
                go: {
                    url: "rsrc/" + H[S - 4]
                }
            }
        }
        if (h.data)
            this.B(h)
    }
        ;
    h4.prototype.wB = function () {
        return [this.u()]
    }
        ;
    h4.prototype.a57 = function (Y) {
        var S = this.BW;
        S.f();
        S.update(null);
        var h = Y.currentTarget.getBoundingClientRect()
            , q = new _(P.E.P, !0);
        q.data = {
            X: P.U.pa,
            FN: S,
            x: h.left,
            y: h.top + h.height
        };
        this.B(q)
    }
        ;
    h4.prototype.L0 = function (Y) {
        this.Xr();
        var S = this.X.getBoundingClientRect()
            , h = new _(P.E.P, !0);
        h.data = {
            X: P.U.pa,
            FN: this.KM,
            x: S.left,
            y: S.top + S.height,
            vX: !0
        };
        this.B(h)
    }
        ;
    function ei() {
        e9.call(this);
        this.j = P.w("div");
        this.gu = !1;
        this.Y1 = [new ey([12, 19, 1], [[13, 1, 7]].concat(dD.B$)), new bW([17, 1]), new bW([12, 46])];
        for (var G = 0; G < 3; G++) {
            var Y = this.Y1[G];
            this.j.appendChild(Y.j);
            Y.k(P.E.L, this.dZ, this)
        }
        this.f()
    }
    ei.prototype = new e9;
    ei.prototype.f = function () {
        for (var G = 0; G < 3; G++)
            this.Y1[G].f()
    }
        ;
    ei.prototype.u = function () {
        return this.gu.slice(0)
    }
        ;
    ei.prototype.i = function (Y) {
        this.gu = Y.slice(0);
        var S = this.Y1
            , h = S[0].u();
        S[1].i(Y.slice(h * 8, h * 8 + 4), h);
        S[2].i(Y.slice(h * 8 + 4, h * 8 + 8), h)
    }
        ;
    ei.prototype.dZ = function (Y) {
        var S = this.Y1
            , h = S.indexOf(Y.currentTarget);
        if (h == 0)
            this.i(this.gu);
        else {
            var q = S[0].u() * 8 + (h == 1 ? 0 : 4)
                , H = S[h].u();
            for (var G = 0; G < 4; G++)
                this.gu[q + G] = H[G];
            this.B(new _(P.E.L, !1))
        }
    }
        ;
    function bW(Y) {
        e9.call(this);
        this.j = P.w("div");
        this.yD = P.w("canvas");
        this.aa0 = Y;
        this.gu = [0, 20, 200, 255];
        this.pr = 0;
        this.any = -1;
        this.ado = !1;
        this.a91 = [];
        for (var G = 0; G < 5; G++) {
            var S = P.w("span");
            S.setAttribute("style", "display:inline-block;width:" + (G == 0 ? 8 : G == 2 ? 7 : 2) + "em");
            this.a91.push(S);
            this.j.appendChild(S)
        }
        this.Cg = this.Kf.bind(this);
        this.z2 = this.fn.bind(this);
        this.Va = this.wR.bind(this);
        P.aK(this.yD, this.Cg);
        this.j.appendChild(this.yD);
        this.o3()
    }
    bW.prototype = new e9;
    bW.prototype.f = function () {
        this.o3()
    }
        ;
    bW.prototype.i = function (Y, S) {
        this.gu = Y;
        this.pr = S;
        this.o3()
    }
        ;
    bW.prototype.u = function () {
        return this.gu.slice(0)
    }
        ;
    bW.prototype.Kf = function (Y) {
        var S = this.gu
            , h = P.WW(Y, this.yD)
            , q = h.x - 8
            , H = -1
            , I = 1e9;
        for (var G = 0; G < 4; G++) {
            var E = q - S[G]
                , d = Math.abs(E);
            if (d < 8 && d < I && ((G & 1) == 0 && E < 0 || (G & 1) == 1 && E > 0)) {
                I = E;
                H = G
            }
        }
        if (H == -1)
            return;
        this.any = H;
        this.z$ = Y.altKey || S[(H >>> 1) * 2] != S[(H >>> 1) * 2 + 1];
        P.y2(window, this.z2);
        P.cM(window, this.Va)
    }
        ;
    bW.prototype.fn = function (Y) {
        var S = this.gu
            , h = this.any
            , q = (h >>> 1) * 2
            , H = q + 1
            , I = P.WW(Y, this.yD)
            , E = Math.round(Math.max(0, Math.min(255, I.x - 8)));
        S[h] = E;
        if (this.z$ && S[q] >= S[H])
            this.z$ = !1;
        if (!this.z$)
            S[q] = S[H] = E;
        this.o3();
        this.B(new _(P.E.L, !1))
    }
        ;
    bW.prototype.wR = function (Y) {
        P.r$(window, this.z2);
        P.pp(window, this.Va)
    }
        ;
    bW.prototype.o3 = function () {
        var Y = this.yD;
        P.ve(Y, 255 + 16, 16);
        var S = Y.getContext("2d")
            , h = Y.width
            , q = Y.height
            , H = Math.round(255 * P.M())
            , I = Math.round(8 * P.M());
        S.translate(I, 0);
        var E = S.createLinearGradient(0, 0, H, 0);
        E.addColorStop(0, "black");
        E.addColorStop(1, "#" + ["ffffff", "ff0000", "00ff00", "0000ff"][this.pr]);
        S.fillStyle = E;
        S.fillRect(0, 0, H, I);
        var d = this.a91
            , B = gx.get(this.aa0) + ":";
        d[0].textContent = B;
        for (var G = 0; G < 4; G++) {
            var n = this.gu[G];
            d[1 + G].textContent = n;
            var g = Math.round(n * P.M());
            S.beginPath();
            S.moveTo(g, I);
            S.lineTo(g, I + I);
            S.lineTo(g + ((G & 1) == 0 ? -1 : 1) * I, I + I);
            S.closePath();
            S.fillStyle = "#cccccc";
            S.fill();
            S.strokeStyle = "black";
            S.stroke()
        }
    }
        ;
    function cB(Y) {
        e9.call(this);
        this.Lk = 0;
        this.alt = 0;
        var S = "ai" + P.mU();
        this.j = P.w("span", "fitem angleinput");
        if (Y) {
            this.EJ = P.w("label", "flabel");
            this.lT = Y;
            this.j.appendChild(this.EJ);
            this.EJ.setAttribute("for", S)
        }
        this.$p = 20;
        this.k8 = P.w("canvas", "gsicon");
        this.b6 = this.k8.getContext("2d");
        P.ve(this.k8, this.$p * 2 + 1, this.$p * 2 + 1, this.b6);
        this.j.appendChild(this.k8);
        P.aK(this.k8, this.ZC.bind(this));
        this.pF = this.xN.bind(this);
        this.dm = this.AC.bind(this);
        this.yl = P.w("input", "");
        this.yl.setAttribute("type", "text");
        this.j.appendChild(this.yl);
        this.yl.setAttribute("id", S);
        this.yl.addEventListener("change", this.u3.bind(this), !1);
        this.qf = P.w("span", "");
        this.qf.innerHTML = "\xB0";
        this.j.appendChild(this.qf);
        this.i(this.Lk, this.alt)
    }
    cB.prototype = new e9;
    cB.prototype.f = function () {
        this.EJ.textContent = gx.get(this.lT) + ":"
    }
        ;
    cB.prototype.D2 = function (Y) {
        this.EJ.textContent = Y
    }
        ;
    cB.prototype.u = function () {
        return {
            Lk: this.Lk,
            alt: this.alt
        }
    }
        ;
    cB.prototype.i = function (Y, S, h) {
        if (Y != null)
            this.Lk = Y;
        if (S != null)
            this.alt = S;
        this.yl.value = this.Lk;
        Y = Math.PI * this.Lk / 180;
        S = .9 * this.$p * (90 - this.alt) / 90;
        var q = this.$p + .5
            , H = this.b6;
        H.clearRect(0, 0, 100, 100);
        H.strokeStyle = "#000000";
        H.beginPath();
        H.arc(q, q, .9 * this.$p, 0, 2 * Math.PI);
        H.moveTo(q, q);
        H.lineTo(q + Math.cos(Y) * this.$p * .9, q - Math.sin(Y) * this.$p * .9);
        H.stroke();
        H.strokeStyle = "#ff0000";
        H.beginPath();
        H.moveTo(q + Math.cos(Y) * S - 3, q - Math.sin(Y) * S);
        H.lineTo(q + Math.cos(Y) * S + 3, q - Math.sin(Y) * S);
        H.moveTo(q + Math.cos(Y) * S, q - Math.sin(Y) * S - 3);
        H.lineTo(q + Math.cos(Y) * S, q - Math.sin(Y) * S + 3);
        H.stroke();
        if (h)
            this.u3()
    }
        ;
    cB.prototype.u3 = function (Y) {
        var S = parseInt(this.yl.value);
        S = S % 360;
        this.i(S);
        this.B(new _(P.E.L, !1))
    }
        ;
    cB.prototype.ZC = function (Y) {
        P.y2(window, this.pF);
        P.cM(window, this.dm);
        this.xN(Y)
    }
        ;
    cB.prototype.xN = function (Y) {
        var S = P.WW(Y, this.k8)
            , h = S.x - this.$p
            , q = S.y - this.$p
            , H = 180 * Math.atan2(-q, h) / Math.PI
            , I = 90 - 90 * Math.min(1, Math.sqrt(h * h + q * q) / (.9 * this.$p));
        this.i(Math.round(H), Math.round(I));
        this.B(new _(P.E.L, !1))
    }
        ;
    cB.prototype.AC = function (Y) {
        this.B(new _(P.E.L, !1));
        P.r$(window, this.pF);
        P.pp(window, this.dm)
    }
        ;
    function fb(Y, S) {
        e9.call(this);
        this.gu = 0;
        this.Oe = S;
        this.j = P.w("span", "fitem angleinput");
        if (Y) {
            this.EJ = P.w("label", "flabel");
            this.lT = Y;
            this.j.appendChild(this.EJ)
        }
        this.k8 = P.w("canvas", "gsicon");
        this.b6 = this.k8.getContext("2d");
        P.ve(this.k8, S, S);
        this.j.appendChild(this.k8);
        P.aK(this.k8, this.ZC.bind(this));
        this.pF = this.xN.bind(this);
        this.dm = this.AC.bind(this);
        this.i(0)
    }
    fb.prototype = new e9;
    fb.prototype.f = function () {
        if (this.lT)
            this.EJ.textContent = gx.get(this.lT) + ":"
    }
        ;
    fb.prototype.D2 = function (Y) {
        this.EJ.textContent = Y
    }
        ;
    fb.prototype.u = function () {
        return this.gu
    }
        ;
    fb.prototype.i = function (Y) {
        this.gu = Y;
        var S = this.k8.width
            , h = Math.floor(Y / 3)
            , q = Y - 3 * h
            , H = (q + .5) * S / 3
            , I = (h + .5) * S / 3
            , E = this.b6
            , d = [.5, Math.round(S / 3) + .5, Math.round(2 * S / 3) + .5, S - .5];
        E.clearRect(0, 0, S, S);
        var B = this.Oe < 30;
        E.setLineDash([]);
        E.strokeStyle = B ? "rgba(0,0,0,0.5)" : "#000000";
        E.beginPath();
        for (var G = 0; G < 4; G++) {
            var n = d[G];
            E.moveTo(n, 0);
            E.lineTo(n, S);
            E.moveTo(0, n);
            E.lineTo(S, n)
        }
        E.stroke();
        if (Y == 9)
            return;
        if (!B) {
            E.setLineDash([1, 2]);
            var g = S * .53
                , z = Math.max(0, Math.min(S - g, H - g / 2))
                , p = Math.max(0, Math.min(S - g, I - g / 2));
            E.strokeRect(Math.round(z) + .5, Math.round(p) + .5, Math.round(g), Math.round(g))
        }
        E.fillStyle = "#000000";
        E.beginPath();
        E.arc(H, I, S / 8, 0, Math.PI * 2);
        E.fill()
    }
        ;
    fb.prototype.ZC = function (Y) {
        P.y2(window, this.pF);
        P.cM(window, this.dm);
        this.xN(Y)
    }
        ;
    fb.prototype.xN = function (Y) {
        var S = P.WW(Y, this.k8)
            , h = Math.max(0, Math.min(2, Math.floor(S.x / (this.Oe / 3))))
            , q = Math.max(0, Math.min(2, Math.floor(S.y / (this.Oe / 3))));
        this.i(q * 3 + h)
    }
        ;
    fb.prototype.AC = function (Y) {
        this.B(new _(P.E.L, !1));
        P.r$(window, this.pF);
        P.pp(window, this.dm)
    }
        ;
    function gP(Y, S, h, q) {
        e9.call(this);
        this.j = P.w("button", "fitem" + (S ? " spread" : "") + (q ? " bbtn" : ""));
        this.lT = Y;
        this.Rj = h;
        this.f();
        this.j.addEventListener("click", this.EM.bind(this), !1)
    }
    gP.prototype = new e9;
    gP.prototype.f = function () {
        var Y = this.j
            , S = this.lT
            , h = this.Rj
            , q = gx.get(S);
        if (q.startsWith("<img") || q.startsWith("<svg"))
            Y.innerHTML = q;
        else
            Y.textContent = q;
        if (q.startsWith("<img") || q.startsWith("<svg"))
            Y.setAttribute("style", "padding:2px");
        if (h) {
            Y.setAttribute("title", gx.get(h))
        }
    }
        ;
    gP.prototype.aj1 = function (Y) {
        this.j.setAttribute("title", Y)
    }
        ;
    gP.prototype.EM = function (Y) {
        this.B(new _("click", !1))
    }
        ;
    gP.prototype.Fc = function () {
        P.xv(this.j, "bactive")
    }
        ;
    gP.prototype.cQ = function () {
        P.zM(this.j, "bactive")
    }
        ;
    gP.prototype.D2 = function (Y, S) {
        if (Y)
            this.lT = Y;
        if (S)
            this.Rj = S;
        this.f()
    }
        ;
    gP.prototype.i = function (Y) {
        if (Y)
            this.Fc();
        else
            this.cQ()
    }
        ;
    gP.prototype.tQ = function () {
        return this.j.getAttribute("class").indexOf("bactive") != -1
    }
        ;
    gP.prototype.u = function () {
        return this.tQ()
    }
        ;
    function hN(D) {
        e9.call(this);
        this.j = P.w("span", "fitem cswatch");
        this.a0O = 0;
        this.rZ = [];
        this.Bw = [];
        var Y = this.a9l.bind(this);
        for (var G = 0; G < D; G++) {
            this.rZ.push(0);
            var S = P.w("span", "colorsample");
            S.addEventListener("click", Y, !1);
            this.Bw.push(S);
            this.j.appendChild(S)
        }
        var h = [16711680, 65280, 255, 65535, 16711935, 16776960, 0, 8421504, 16777215]
            , q = Math.min(D, h.length);
        for (var G = 0; G < q; G++)
            this.rZ[G] = h[G];
        this.Om()
    }
    hN.prototype = new e9;
    hN.prototype.a9l = function (Y) {
        this.a0O = this.Bw.indexOf(Y.currentTarget);
        this.B(new _(P.E.L))
    }
        ;
    hN.prototype.u = function () {
        return this.rZ[this.a0O]
    }
        ;
    hN.prototype.i = function (Y) {
        var S = this.rZ
            , h = S.indexOf(Y);
        if (h != -1)
            S.splice(h, 1);
        else
            S.pop();
        S.unshift(Y);
        this.Om()
    }
        ;
    hN.prototype.Om = function () {
        for (var G = 0; G < this.rZ.length; G++) {
            this.Bw[G].setAttribute("style", "background-color:#" + t.u9(this.rZ[G]))
        }
    }
        ;
    function ca(Y) {
        e9.call(this);
        this.nO = !1;
        this.A6 = {
            h: 0,
            l: 0,
            O: 0
        };
        this.x3 = Y;
        this.j = P.w("span", "fitem colorsample");
        this.j.addEventListener("click", this.EM.bind(this), !1)
    }
    ca.prototype = new e9;
    ca.prototype.f = function () { }
        ;
    ca.prototype.RX = function (Y) {
        if (this.nO == Y)
            return;
        this.nO = Y;
        this.mM()
    }
        ;
    ca.prototype.EM = function (Y) {
        var S = this.A6;
        this.B(new _("click"));
        var h = new _(P.E.P, !0);
        h.data = {
            X: P.U.V5,
            Fh: "colorpicker",
            oA: S.h << 16 | S.l << 8 | S.O,
            HM: this.io.bind(this),
            dj: this.x3
        };
        this.B(h)
    }
        ;
    ca.prototype.io = function (Y) {
        this.vC(Y);
        this.B(new _(P.E.L))
    }
        ;
    ca.prototype.ahg = function () {
        this.EM(null)
    }
        ;
    ca.prototype.Yv = function () {
        var Y = this.A6;
        return Y.h << 16 | Y.l << 8 | Y.O
    }
        ;
    ca.prototype.u = function () {
        return t.W.Da(this.A6)
    }
        ;
    ca.prototype.vC = function (Y) {
        this.A6 = {
            h: Y >> 16 & 255,
            l: Y >> 8 & 255,
            O: Y & 255
        };
        this.mM()
    }
        ;
    ca.prototype.i = function (Y) {
        this.A6 = t.W.cd(Y);
        this.mM()
    }
        ;
    ca.prototype.mM = function () {
        var Y = this.A6
            , S = Y.h
            , h = Y.l
            , q = Y.O;
        if (this.nO)
            S = h = q = Math.round(t.re(S, h, q));
        var H = S << 16 | h << 8 | q;
        this.j.setAttribute("style", "background-color:#" + t.u9(H))
    }
        ;
    function gR(Y) {
        h4.call(this, Y, !1, "brushbutton nopadding", 16.6, 10, iD.e8, !0);
        this.lj = new b7([12, 14, 0], 1, 1e3, " px", 0, !0);
        this.lj.k(P.E.L, this.nQ, this);
        this.dE.appendChild(this.lj.j);
        this.jR = new b7([12, 17], 0, 100, "%");
        this.jR.k(P.E.L, this.nQ, this);
        this.dE.appendChild(this.jR.j)
    }
    gR.prototype = new h4;
    gR.prototype.rP = function () {
        var Y = ["pencil", "trees"];
        for (var G = 0; G < Y.length; G++)
            Y[G] = "brushes/" + Y[G] + ".abr";
        return Y
    }
        ;
    gR.prototype.L0 = function (Y) {
        var S = this.j.getBoundingClientRect();
        this.c7(S.left, S.top + S.height)
    }
        ;
    gR.prototype.c7 = function (Y, S) {
        this.Xr();
        var h = new _(P.E.P, !0);
        h.data = {
            X: P.U.pa,
            FN: this.KM,
            x: Y,
            y: S
        };
        this.B(h)
    }
        ;
    gR.prototype.i = function (Y, S, h) {
        this.ll = JSON.parse(JSON.stringify(Y));
        var q = Math.floor(20 * P.M())
            , H = Math.floor(36 * P.M())
            , I = Math.floor(24 * P.M())
            , E = fU.PG(Y, S, h, q, I, H);
        this.nr.setAttribute("src", E);
        P.fs(this.nr, H, I);
        var d = Y.Brsh.v;
        this.lj.i(d.Dmtr.v.val);
        if (d.Hrdn != null) {
            this.jR.tW();
            this.jR.i(d.Hrdn.v.val)
        } else
            this.jR.f4();
        this.BH.ca(-1)
    }
        ;
    gR.prototype.wB = function () {
        return {
            list: [{
                t: "Objc",
                v: this.u()
            }],
            r0: [],
            SR: []
        }
    }
        ;
    gR.prototype.u = function () {
        return this.ll
    }
        ;
    gR.prototype.Xr = function () {
        if (!this.vG)
            return;
        var Y = []
            , S = []
            , h = this.x1
            , q = Math.floor(33 * P.M())
            , H = Math.floor(40 * P.M());
        for (var G = 0; G < h.list.length; G++) {
            var I = h.list[G].v
                , E = fU.PG(I, h.r0, h.SR, q, H);
            Y.push(E);
            S.push(I.Nm.v.split("=").pop())
        }
        this.BH.sc(Y, S, q, H);
        this.vG = !1
    }
        ;
    gR.prototype.ug = function (Y) {
        var S = this.x1;
        this.i(S.list[this.BH.u()].v, S.r0, S.SR);
        this.B(new _(P.E.L))
    }
        ;
    gR.prototype.f = function () {
        h4.prototype.f.call(this);
        this.lj.f();
        this.jR.f()
    }
        ;
    gR.prototype.nQ = function (Y) {
        var S = this.x1
            , h = this.ll;
        h.Brsh.v.Dmtr.v.val = this.lj.u();
        if (h.Brsh.v.Hrdn != null)
            h.Brsh.v.Hrdn.v.val = this.jR.u();
        this.i(h, S.r0, S.SR);
        this.B(new _(P.E.L))
    }
        ;
    function b_(Y) {
        h4.call(this, Y, !0, "contourbutton", 17, 10.5, iD.Se)
    }
    b_.prototype = new h4;
    b_.prototype.ug = function (Y) {
        this.i(this.x1[Y.target.u()]);
        this.B(new _(P.E.L))
    }
        ;
    b_.prototype.fe = function (Y) {
        var S = new _(P.E.P, !0);
        S.data = {
            X: P.U.V5,
            Fh: "contoureditor",
            Eq: this.ll,
            response: this.aea.bind(this)
        };
        this.B(S)
    }
        ;
    b_.prototype.aea = function (Y) {
        this.i(Y);
        this.B(new _(P.E.L))
    }
        ;
    b_.prototype.Xr = function () {
        if (!this.vG)
            return;
        var Y = Math.floor(38 * P.M())
            , S = Math.floor(38 * P.M())
            , h = []
            , q = []
            , H = this.x1;
        for (var G = 0; G < H.length; G++) {
            q.push(H[G].Nm ? H[G].Nm.v : "");
            h.push(t.hn.PG(H[G].Crv.v, Y, S))
        }
        this.BH.sc(h, q, Y, S);
        this.vG = !1
    }
        ;
    b_.prototype.i = function (Y) {
        this.ll = JSON.parse(JSON.stringify(Y));
        var S = this.ll.Crv.v;
        for (var G = 0; G < S.length; G++)
            if (S[G].v.Cnty == null)
                S[G].v.Cnty = {
                    t: "bool",
                    v: !0
                };
        this.Zx()
    }
        ;
    b_.prototype.Zx = function () {
        var Y = Math.floor(30 * P.M())
            , S = Math.floor(30 * P.M())
            , h = t.hn.PG(this.ll.Crv.v, Y, S);
        this.nr.setAttribute("src", h);
        P.fs(this.nr, Y, S)
    }
        ;
    b_.prototype.u = function () {
        return JSON.parse(JSON.stringify(this.ll))
    }
        ;
    function e_(Y) {
        e9.call(this);
        this.XZ = null;
        this.it = null;
        this.BY = null;
        this.kz = null;
        this.acA = [];
        this.a02 = [];
        this.j = P.w("span", "fitem fillbutton");
        this.KM = new e9;
        this.KM.j = P.w("div", "floatcont form");
        this.KM.j.setAttribute("style", "width: 21em;");
        this.KM.parent = this;
        this.h0 = Y;
        this.EJ = this.EJ = P.w("label", "flabel");
        this.j.appendChild(this.EJ);
        this.k8 = P.w("canvas");
        this.b6 = this.k8.getContext("2d");
        this.acn = null;
        this.j.appendChild(this.k8);
        this.k8.addEventListener("click", this.L0.bind(this), !1);
        this.VV = new ec([12, 66], ["", "Color", "Grad", "Patt"]);
        this.KM.j.appendChild(this.VV.j);
        this.VV.k(P.E.L, this.dZ, this);
        this.KM.j.appendChild(P.w("hr"));
        this.abG = P.w("span");
        this.Kn = new ca(!0);
        this.Kn.parent = this.KM;
        this.Kn.k(P.E.L, this.dZ, this);
        this.PM = new hN(10);
        this.PM.k(P.E.L, this.dZ, this);
        this.qo = P.w("div", "marged hiline");
        this.qo.appendChild(this.Kn.j);
        P.f$(this.qo);
        this.qo.appendChild(this.PM.j);
        this.et = new cg("GrFl", !0);
        this.et.parent = this.KM;
        this.et.k(P.E.L, this.dZ, this);
        this.GK = P.w("div", "marged hiline");
        var S = "Grad Type Algn Angl Rvrs Scl Ofst".split(" ");
        for (var G = 0; G < S.length; G++) {
            var h = this.et.j4[S[G]].j;
            this.GK.appendChild(h)
        }
        this.Ss = new cg("patternFill", !0);
        this.Ss.parent = this.KM;
        this.Ss.k(P.E.L, this.dZ, this);
        this.wX = P.w("div", "marged hiline");
        var S = ["Ptrn", "Scl", "Algn", "phase"];
        for (var G = 0; G < S.length; G++) {
            var h = this.Ss.j4[S[G]].j;
            this.wX.appendChild(h)
        }
    }
    e_.prototype = new e9;
    e_.prototype.rJ = function (Y, S) {
        if (S == iD.Zp) {
            this.acA = [];
            this.a02 = [];
            if (this.XZ)
                this.i(this.BY, this.u(), this.XZ)
        }
        this.it = Y;
        this.et.rJ(Y, S);
        this.Ss.rJ(Y, S)
    }
        ;
    e_.prototype.f = function () {
        this.EJ.textContent = gx.get(this.h0) + ": ";
        this.VV.f();
        this.Kn.f();
        this.et.f();
        this.Ss.f()
    }
        ;
    e_.prototype.dZ = function (Y) {
        var S = Y.currentTarget;
        if (S == this.VV) {
            var h = this.VV.u()
                , q = {
                    zH: h,
                    yW: this.XZ[h]
                };
            if (h > 0 && q.yW == null)
                q.yW = JSON.parse(JSON.stringify(ai.DD[h - 1]));
            if (this.XZ)
                this.i(this.BY, q, this.XZ)
        }
        if (S == this.PM)
            this.Kn.vC(S.u());
        this.B(new _(P.E.L, !1))
    }
        ;
    e_.prototype.L0 = function (Y) {
        var S = this.k8.getBoundingClientRect()
            , h = new _(P.E.P, !0);
        h.data = {
            X: P.U.pa,
            FN: this.KM,
            x: S.left,
            y: S.top + S.height + 4
        };
        this.B(h);
        this.PM.i(this.Kn.Yv())
    }
        ;
    e_.prototype.i = function (Y, S, h) {
        this.XZ = h;
        this.BY = Y;
        var q = [[13, 1, 0], [13, 0], [12, 37], [12, 62]], H = this.acA, I = this.a02, E = !1, g;
        for (var G = 0; G < 4; G++) {
            var d = {
                zH: G,
                yW: h[G]
            }
                , B = e_.JH(d);
            if (I[G] == B)
                continue;
            E = !0;
            var n = e_.Bb(null, d, this.it, this.BY, 22, 22, !1);
            H[G] = "<img width=\"22\" height=\"22\" src=\"" + n + "\" />";
            I[G] = B
        }
        if (E)
            this.VV.Hm(H, q);
        this.VV.i(S.zH);
        var B = e_.JH(S);
        if (B != this.acn)
            e_.Bb(this.b6, S, this.it, this.BY, 30, 23, !0);
        this.acn = B;
        var z = S.zH;
        if (z == 0) {
            g = this.abG
        }
        if (z == 1) {
            this.Kn.i(S.yW.Clr.v);
            g = this.qo
        }
        if (z == 2) {
            this.et.update(Y, S.yW);
            g = this.GK
        }
        if (z == 3) {
            this.Ss.update(Y, S.yW);
            g = this.wX
        }
        if (g != this.kz) {
            if (this.kz != null) {
                this.KM.j.removeChild(this.kz)
            }
            this.KM.j.appendChild(g);
            this.kz = g
        }
    }
        ;
    e_.prototype.u = function () {
        var Y = {
            zH: this.VV.u()
        };
        if (Y.zH == 1) {
            Y.yW = JSON.parse(JSON.stringify(ai.DD[0]));
            Y.yW.Clr.v = this.Kn.u()
        }
        if (Y.zH == 2) {
            Y.yW = this.et.u()
        }
        if (Y.zH == 3) {
            Y.yW = this.Ss.u()
        }
        return Y
    }
        ;
    e_.JH = function (Y) {
        var S = Y.zH
            , h = Y.yW
            , q = "empty";
        if (S == 1) {
            q = t.W.cd(h.Clr.v);
            q = q.h + "," + q.l + "," + q.O
        }
        if (S == 2)
            q = JSON.stringify(h.Grad.v);
        if (S == 3)
            q = h.Ptrn.v.Idnt.v;
        return q
    }
        ;
    e_.Bb = function (Y, S, h, q, H, I, E) {
        if (Y == null)
            Y = e_.b6;
        var d = Math.floor(H * P.M()), B = Math.floor(I * P.M()), n = Y.canvas, g;
        n.width = d;
        n.height = B;
        P.fs(n, d, B);
        var z = S.zH;
        if (z == 0) {
            Y.fillStyle = "#ffffff";
            Y.fillRect(0, 0, d, B);
            Y.strokeStyle = "#ff0000";
            Y.lineWidth = 2;
            Y.moveTo(0, 0);
            Y.lineTo(d, B);
            Y.moveTo(0, B);
            Y.lineTo(d, 0);
            Y.stroke()
        }
        if (z == 1) {
            var p = S.yW.Clr.v;
            p = t.W.cd(p);
            Y.fillStyle = "#" + t.u9(p.h << 16 | p.l << 8 | p.O);
            Y.fillRect(0, 0, d, B)
        }
        if (z == 2) {
            U.a$.PG(S.yW.Grad.v, d, B, 0, h.jy, h.E$, n)
        }
        if (z == 3) {
            var C = S.yW.Ptrn.v, T;
            if (q != null)
                T = av._O(C, q.add.Patt);
            if (T == null)
                T = av._O(C, h.QW);
            g5.PG(T, d, B, n)
        }
        if (E) {
            Y.beginPath();
            Y.strokeStyle = "#000000";
            Y.fillStyle = "#ffffff";
            Y.lineWidth = 2;
            var A = d * .7
                , i = Math.floor(B * .7)
                , e = 7 * P.M();
            Y.moveTo(A, i);
            Y.lineTo(A + e, i);
            Y.lineTo(A + e / 2, i + e / 2);
            Y.closePath();
            Y.stroke();
            Y.fill()
        }
        if (Y == e_.b6)
            return n.toDataURL()
    }
        ;
    e_.b6 = P.w("canvas").getContext("2d");
    function g5(Y) {
        h4.call(this, Y, !1, "patternbutton", 18, 10, iD.Zp);
        this.Z2 = null
    }
    g5.prototype = new h4;
    g5.prototype.ug = function (Y) {
        var S = this.x1[this.BH.u()];
        this.ll = {
            classID: "Ptrn",
            Nm: {
                t: "TEXT",
                v: S.name
            },
            Idnt: {
                t: "TEXT",
                v: S.id
            }
        };
        this.B(new _(P.E.L));
        this.Zx()
    }
        ;
    g5.Kz = !1;
    g5.prototype.Xr = function () {
        if (!this.vG)
            return;
        var Y = this.x1;
        if (Y == null || !g5.Kz) {
            var S = new _(P.E.P, !0);
            S.data = {
                X: P.U.Pv,
                go: {
                    url: "rsrc/basic/basic.pat"
                }
            };
            this.B(S);
            g5.Kz = !0;
            return
        }
        var h = Math.floor(34 * P.M())
            , q = Math.floor(34 * P.M())
            , H = []
            , I = [];
        for (var G = 0; G < Y.length; G++) {
            H.push(g5.PG(Y[G], h, q));
            I.push(Y[G].name)
        }
        this.BH.sc(H, I, h, q);
        this.vG = !1
    }
        ;
    g5.prototype.i = function (Y, S) {
        if (this.ll && Y.Idnt.v == this.ll.Idnt.v)
            return;
        this.ll = JSON.parse(JSON.stringify(Y));
        this.Zx(S)
    }
        ;
    g5.prototype.u = function () {
        return JSON.parse(JSON.stringify(this.ll))
    }
        ;
    g5.prototype.wB = function () {
        return this.Z2 ? [this.Z2] : []
    }
        ;
    g5.prototype.Zx = function (Y) {
        var S = Math.floor(50 * P.M()), h = Math.floor(50 * P.M()), q;
        if (Y != null)
            q = av._O(this.ll, Y.add.Patt);
        if (q == null)
            q = av._O(this.ll, this.x1);
        this.Z2 = q;
        var H = g5.PG(q, S, h);
        this.nr.setAttribute("src", H);
        P.fs(this.nr, S, h)
    }
        ;
    g5.yD = P.w("canvas", "");
    g5.PG = function (Y, S, h, q) {
        if (q == null)
            q = g5.yD;
        var H = q.getContext("2d");
        q.width = S;
        q.height = h;
        if (Y) {
            var I = Y.ar[1]
                , E = I.d
                , d = I.v
                , B = Y.ar[0]
                , n = Math.min(S / E, h / d)
                , g = n;
            if (g * E < 2)
                g = 2 / E;
            var z = n;
            if (z * d < 2)
                z = 2 / d;
            var p = U.o.dG([B, I], new d5(g, 0, 0, z, 0, 0), !1)
                , C = p.rect.d
                , T = p.rect.v
                , A = H.createImageData(C, T);
            t.vx(p.buffer, A.data);
            H.putImageData(A, Math.floor((S - C) / 2), Math.floor((h - T) / 2))
        }
        return q.toDataURL()
    }
        ;
    function gz(Y) {
        h4.call(this, Y, !1, "patternbutton", 24.2, 17, iD.YM);
        this.Zb = ""
    }
    gz.prototype = new h4;
    gz.prototype.ug = function (Y) {
        this.ll = JSON.parse(JSON.stringify(this.x1[0][this.BH.u()]));
        this.B(new _(P.E.L))
    }
        ;
    gz.prototype.Xr = function () {
        var Y = this.x1;
        if (Y == null || !this.vG)
            return;
        var S = Math.floor(50 * P.M())
            , h = Math.floor(50 * P.M())
            , q = []
            , H = [];
        for (var G = 0; G < Y[0].length; G++) {
            q.push(gz.PG(this.x1[0][G].a7, S, h, this.x1[1]));
            H.push(Y[0][G].Yg.Nm.v.split("=").pop())
        }
        this.BH.sc(q, H, S, h);
        this.vG = !1
    }
        ;
    gz.prototype.i = function (Y, S, h, q) {
        var H = JSON.stringify(Y.a7) + "," + h + "," + q;
        if (this.Zb != H) {
            this.Zb = H;
            this.ll = JSON.parse(JSON.stringify(Y));
            this.Zx(S, h, q)
        }
        this.BH.ca(-1)
    }
        ;
    gz.prototype.u = function () {
        return JSON.parse(JSON.stringify(this.ll))
    }
        ;
    gz.prototype.Zx = function (Y, S, h) {
        var q = Math.floor(68 * P.M())
            , H = Math.floor(68 * P.M())
            , I = gz.PG(this.ll.a7, q, H, Y ? Y : this.x1[1], S, h);
        this.nr.setAttribute("src", I);
        P.fs(this.nr, q, H)
    }
        ;
    gz.PG = function (Y, S, h, q, H, I) {
        var E = new dh;
        E.d = S;
        E.v = h;
        E.buffer = t.m(S * h * 4);
        E.add.Patt = q;
        E.OX(H == null ? 90 : H);
        E.Lc(I == null ? 30 : I);
        var d = new W(0, 0, Math.round(S * .5), Math.round(h * .5));
        d.x = Math.round((S - d.d) / 2);
        d.y = Math.round((h - d.v) / 2);
        var B = E.rY();
        B.rect = d;
        B.buffer = t.m(d.e() * 4);
        t.A5(B.buffer, 4284045657);
        av.d6(Y, B, .5 * 100);
        E.t.push(B);
        E.Ko();
        E.s();
        var n = Q.nc;
        Q.nc = !1;
        E.aj();
        var g = E.Q3();
        Q.nc = n;
        var z = eD.Z9(g.buffer, E.d, E.v);
        return z
    }
        ;
    function hl(Y) {
        h4.call(this, null, !1, "tpresetbutton", 18, 24, iD.iL, !0);
        P.zM(this.j, "fitem");
        this.BH.Gx(1);
        this.id = Y;
        this.Zx();
        this.iQ = new e0([15, 7, 9]);
        this.iQ.i(!0);
        this.iQ.k(P.E.L, this.a9R, this);
        this.vd.appendChild(this.iQ.j)
    }
    hl.prototype = new h4;
    hl.prototype.a8c = function (Y) {
        if (this.id == Y)
            return;
        this.id = Y;
        this.dB(this.x1)
    }
        ;
    hl.prototype.ug = function (Y) {
        var S = this.x1[this.BH.u()]
            , h = new _(P.E.P, !0);
        h.data = {
            X: P.U.PD,
            UI: "set",
            go: iD.iL,
            Gu: S
        };
        this.B(h)
    }
        ;
    hl.prototype.f = function () {
        h4.prototype.f.call(this);
        this.iQ.f()
    }
        ;
    hl.prototype.a9R = function () {
        this.vG = !0;
        this.Xr()
    }
        ;
    hl.prototype.Xr = function () {
        if (!this.vG)
            return;
        var Y = Math.floor(16 * P.M())
            , S = Math.floor(16 * P.M())
            , h = []
            , q = []
            , H = this.x1
            , I = this.iQ.u();
        for (var G = 0; G < H.length; G++) {
            var E = U.C5(H[G]);
            if (!I || E == this.id) {
                q.push(H[G][0] ? H[G][0].split("=").pop() : "");
                h.push(E == -1 ? "" : PIMG[U.Rs[E][0]])
            } else {
                h.push(null);
                q.push(null)
            }
        }
        this.BH.sc(h, q, Y, S);
        this.vG = !1
    }
        ;
    hl.prototype.Zx = function () {
        var Y = this.nr;
        Y.setAttribute("src", PIMG[U.Rs[this.id][0]]);
        P.xv(Y, "toolicon")
    }
        ;
    hl.prototype.wB = function () {
        return null
    }
        ;
    hl.uK = {};
    hl.PG = function (Y, S, h) {
        var q = hl.Jd
            , H = hl.uK
            , I = t.u9(Y.h << 16 | Y.l << 8 | Y.O);
        if (H[I])
            return H[I];
        if (q == null) {
            var E = P.w("canvas");
            q = hl.Jd = E.getContext("2d")
        }
        var E = q.canvas;
        E.width = S;
        E.height = h;
        q.fillStyle = "#" + I;
        q.fillRect(0, 0, S, h);
        var d = H[I] = E.toDataURL();
        return d
    }
        ;
    function go(Y, S) {
        e9.call(this);
        this.j = P.w("span", "fitem curveeditor");
        this.hf = null;
        this.a2J = 0;
        this.pr = "";
        this.mode = 0;
        this.NF = Y;
        this.acv = S;
        this.L9 = null;
        this.Ds = null;
        this.Ju = new aV;
        this.X$ = this.xN.bind(this);
        this.A2 = this.AC.bind(this);
        this.k8 = P.w("canvas", "");
        this.b6 = this.k8.getContext("2d");
        P.qT(this.k8);
        P.ve(this.k8, 256, 256, this.b6);
        this.j.appendChild(this.k8);
        P.aK(this.k8, this.ZC.bind(this))
    }
    go.prototype = new e9;
    go.prototype.i = function (Y, G) {
        var S = JSON.stringify(Y);
        if (S == JSON.stringify(this.L9))
            return;
        this.mode = Y.length == 256 ? 1 : 0;
        this.L9 = JSON.parse(S);
        if (G != null)
            this.Ds = this.L9[G];
        this.mP()
    }
        ;
    go.prototype.Ax = function (Y, S, h) {
        this.hf = Y;
        this.a2J = S;
        this.pr = h;
        this.mP()
    }
        ;
    go.prototype.u = function () {
        return JSON.parse(JSON.stringify(this.L9))
    }
        ;
    go.prototype.Jc = function () {
        return this.L9.indexOf(this.Ds)
    }
        ;
    go.prototype.ZC = function (Y) {
        var S = P.WW(Y, this.k8)
            , h = S.x
            , q = 256 - S.y;
        if (this.NF) {
            var H = h;
            h = 256 - q;
            q = H
        }
        this.Ju.bm(h, q);
        if (this.mode == 0) {
            var I = null;
            for (var G = 0; G < this.L9.length; G++) {
                var E = this.L9[G].v
                    , d = E.Hrzn.v - h
                    , B = E.Vrtc.v - q
                    , n = Math.sqrt(d * d + B * B);
                if (n < 5)
                    I = this.L9[G]
            }
            if (I == null) {
                I = t.hn.oR(h, q, !0);
                this.L9.push(I)
            }
            this.Ds = I
        }
        P.y2(document.body, this.X$);
        P.cM(document.body, this.A2);
        this.xN(Y)
    }
        ;
    go.prototype.xN = function (Y) {
        var S = P.WW(Y, this.k8)
            , h = S.x
            , q = 256 - S.y;
        if (this.NF) {
            var H = h;
            h = 256 - q;
            q = H
        }
        if (this.mode == 0) {
            var I = this.L9
                , E = this.acv
                , d = I.indexOf(this.Ds)
                , B = d == 0 || d == I.length - 1
                , n = 0
                , g = 255
                , z = !0;
            if (B) {
                n = 1;
                g = 254
            }
            if (!E || !B)
                this.Ds.v.Hrzn.v = Math.max(n, Math.min(g, Math.round(h)));
            this.Ds.v.Vrtc.v = Math.max(0, Math.min(255, Math.round(q)));
            for (var G = 0; G < I.length; G++) {
                if (I[G] == this.Ds)
                    continue;
                if (Math.abs(I[G].v.Hrzn.v - this.Ds.v.Hrzn.v) < 2)
                    z = !1
            }
            if (h < 0 || h > 255 || q < 0 || q > 255)
                z = !1;
            if (z && I.indexOf(this.Ds) == -1)
                I.push(this.Ds);
            if (!z && I.indexOf(this.Ds) != -1 && I.length > 2 && (!E || !B))
                I.splice(I.indexOf(this.Ds), 1);
            if (I[0].v.Hrzn.v == I[1].v.Hrzn.v)
                if (I[0].v.Hrzn.v == 0)
                    I[1].v.Hrzn.v = 1;
                else
                    I[0].v.Hrzn.v--;
            I.sort(function (e, a) {
                return e.v.Hrzn.v - a.v.Hrzn.v
            })
        } else {
            h = Math.round(h);
            q = Math.round(q);
            h = Math.max(0, Math.min(255, h));
            q = Math.max(0, Math.min(255, q));
            var p = this.Ju.x
                , C = h
                , T = this.Ju.y
                , A = q;
            if (h < this.Ju.x) {
                C = p;
                p = h;
                A = T;
                T = q
            }
            this.L9[h] = q;
            if (p != C)
                for (var i = p; i <= C; i++)
                    this.L9[i] = Math.round(T + (i - p) * (A - T) / (C - p))
        }
        this.Ju.bm(h, q);
        this.mP();
        this.B(new _(P.E.L))
    }
        ;
    go.prototype.AC = function (Y) {
        P.r$(document.body, this.X$);
        P.pp(document.body, this.A2);
        this.B(new _(P.E.L))
    }
        ;
    go.prototype.mP = function () {
        var Y = this.b6;
        Y.fillStyle = "#ffffff";
        Y.fillRect(0, 0, 256, 256);
        if (this.hf) {
            Y.translate(0, 256);
            Y.scale(1, -1);
            gB.lb(Y, this.hf, 5700 / this.a2J, this.pr);
            Y.scale(1, -1);
            Y.translate(0, -256)
        }
        Y.strokeStyle = "#aaaaaa";
        Y.lineWidth = 1;
        Y.beginPath();
        for (var G = 1; G < 4; G++) {
            Y.moveTo(0, 64 * G - .5);
            Y.lineTo(255, 64 * G - .5);
            Y.moveTo(64 * G - .5, 0);
            Y.lineTo(64 * G - .5, 255)
        }
        Y.stroke();
        if (this.NF) {
            Y.save();
            Y.transform(0, 1, -1, 0, 256, 0)
        }
        if (this.mode == 0) {
            var S = this.L9
                , h = t.hn.fz(S, 256);
            Y.strokeStyle = "#000000";
            Y.beginPath();
            Y.moveTo(0, 255.5 - h[0]);
            for (var G = 0; G < 256; G++)
                Y.lineTo(G, 255.5 - h[G]);
            Y.stroke();
            Y.lineWidth = 2;
            for (var G = 0; G < S.length; G++) {
                var q = S[G].v;
                Y.fillStyle = this.Ds == S[G] ? "#333" : "#fff";
                Y.beginPath();
                Y.moveTo(q.Hrzn.v, 255.5 - q.Vrtc.v);
                Y.arc(q.Hrzn.v, 255.5 - q.Vrtc.v, 3, 0, 2 * Math.PI);
                Y.stroke();
                Y.fill()
            }
        } else {
            var h = this.L9;
            Y.strokeStyle = "#000000";
            Y.beginPath();
            Y.moveTo(0, 255.5 - h[0]);
            for (var G = 0; G < 256; G++)
                Y.lineTo(G, 255.5 - h[G]);
            Y.stroke()
        }
        if (this.NF)
            Y.restore()
    }
        ;
    function gB(Y, S) {
        e9.call(this);
        this.j = P.w("span", "");
        this.kI = new ey([12, 4], ["RGB", [13, 1, 1], [13, 1, 4], [13, 1, 5], [12, 82]]);
        this.kI.k(P.E.L, this.o3, this);
        this.j.appendChild(this.kI.j);
        P.f$(this.j);
        this.yD = P.w("canvas");
        var h = this.yD;
        this.j.appendChild(h);
        h.width = Math.round(Y * P.M());
        h.height = Math.round(100 * P.M());
        P.fs(h, h.width, h.height);
        this.Jd = h.getContext("2d");
        this.hf = null;
        this.ue = 0;
        this.ahR = null;
        this.a92 = [];
        this.zu = [];
        var q = ["Mean:", "Pixels:"]
            , H = this.j;
        for (var G = 0; G < q.length; G++) {
            var I = new aG(q[G]);
            this.a92.push(I);
            if (S)
                H.appendChild(I.j);
            var E = new aG("hi");
            this.zu.push(E);
            if (S)
                H.appendChild(E.j);
            P.f$(H)
        }
    }
    gB.prototype = new e9;
    gB.prototype.f = function () {
        this.kI.f()
    }
        ;
    gB.prototype.Gx = function (Y) {
        this.kI.i(Y);
        this.o3()
    }
        ;
    gB.prototype.i = function (Y, S) {
        this.hf = Y;
        this.ahR = S;
        this.o3()
    }
        ;
    gB.prototype.vC = function (Y) {
        if (Y == this.ue)
            return;
        this.ue = Y;
        this.o3()
    }
        ;
    gB.prototype.o3 = function () {
        if (this.hf == null)
            return;
        var Y = this.yD
            , S = this.Jd
            , h = this.hf
            , q = this.ahR
            , H = this.kI.u()
            , I = 6e3 / h[4]
            , E = "#" + t.u9(this.ue)
            , d = gB.lb;
        Y.width = Y.width;
        S.setTransform(Y.width / 256, 0, 0, -Y.height / 100, 0, Y.height);
        S.globalCompositeOperation = "lighter";
        if (H == 0)
            d(S, h[0], I / 3, E);
        else if (H < 4)
            d(S, h[H], I, E);
        else {
            d(S, h[1], I, "#ff0000");
            d(S, h[2], I, "#00ff00");
            d(S, h[3], I, "#0000ff")
        }
        S.setTransform(1, 0, 0, 1, 0, 0);
        if (q != null) {
            var B = 0;
            for (var G = 0; G < 256; G++)
                B += G * h[H][G];
            if (H == 0)
                B /= 3;
            this.zu[0].i((B / q).toFixed(1) + "");
            this.zu[1].i(q + "")
        }
    }
        ;
    gB.lb = function (Y, S, h, q) {
        Y.beginPath();
        Y.moveTo(0, 0);
        for (var H = 0; H < 256; H++)
            Y.lineTo(H, S[H] * h);
        Y.lineTo(256, 0);
        Y.closePath();
        Y.fillStyle = q;
        Y.fill()
    }
        ;
    function hp(Y) {
        e9.call(this);
        this.s0 = {
            h: 0,
            l: 0,
            O: 0
        };
        if (Math.abs(Y - 256 / P.M()) < 10)
            Y = 256 / P.M();
        var S = this.j = P.w("div", "flexrow");
        this.XI = new aV;
        this.cz = new aV;
        this.pF = this.r_.bind(this);
        this.dm = this.a0T.bind(this);
        this.k8 = P.w("canvas", "");
        this.b6 = this.k8.getContext("2d");
        this.k8.width = this.k8.height = 256;
        this.ag5 = this.b6.getImageData(0, 0, 256, 256);
        this.aiz = -1;
        P.qT(this.k8);
        P.aK(this.k8, this.a2_.bind(this));
        S.appendChild(this.k8);
        this.alV = this.pU.bind(this);
        this.ac6 = this.a3J.bind(this);
        this.hQ = P.w("canvas", "");
        this.gY = this.hQ.getContext("2d");
        this.hQ.width = 20;
        this.hQ.height = 256;
        this.ajz = this.gY.getImageData(0, 0, 20, 256);
        this.acI(this.ajz.data, 20, 256);
        P.qT(this.hQ);
        P.aK(this.hQ, this.ads.bind(this));
        S.appendChild(this.hQ);
        this.k8.setAttribute("style", "width:" + Y + "px; height:" + Y + "px");
        this.hQ.setAttribute("style", "width:" + 20 / P.M() + "px; height:" + Y + "px")
    }
    hp.prototype = new e9;
    hp.prototype.hD = function (Y, S) {
        this.k8.style.width = Y + "px"
    }
        ;
    hp.prototype.i = function (Y) {
        this.s0 = Y;
        this.update()
    }
        ;
    hp.prototype.u = function () {
        return JSON.parse(JSON.stringify(this.s0))
    }
        ;
    hp.prototype.update = function () {
        var Y = this.s0
            , S = t.Yl(Y.h, Y.l, Y.O);
        if (S.w1 == 0)
            S.D1 = this.XI.x / 255;
        if (S.D1 == 0 || S.w1 == 0)
            S.UR = (255 - this.Aq(this.cz.y)) / 255;
        if (S.w1 != 0)
            this.XI.x = S.D1 * 255;
        this.XI.y = (1 - S.w1) * 255;
        this.cz.y = (1 - S.UR) * 255;
        var h = this.ag5;
        if (Math.abs(S.UR - this.aiz) > .002) {
            this.a5u(h.data, 256, 256, S.UR);
            this.aiz = S.UR
        }
        this.b6.putImageData(h, 0, 0);
        this.b6.strokeStyle = "#000000";
        this.b6.beginPath();
        this.b6.arc(this.XI.x + 1, this.XI.y + 1, 5, 0, 2 * Math.PI);
        this.b6.stroke();
        this.b6.strokeStyle = "#ffffff";
        this.b6.beginPath();
        this.b6.arc(this.XI.x, this.XI.y, 5, 0, 2 * Math.PI);
        this.b6.stroke();
        var h = this.ajz;
        this.gY.putImageData(h, 0, 0);
        this.gY.strokeStyle = "#ffffff";
        this.gY.beginPath();
        this.gY.moveTo(0, this.cz.y);
        this.gY.lineTo(20, this.cz.y);
        this.gY.lineWidth = 2;
        this.gY.stroke()
    }
        ;
    hp.prototype.a5u = function (Y, S, h, q) {
        var H = 1 / S
            , I = 1 / h;
        for (var E = 0; E < h; E++)
            for (var d = 0; d < S; d++) {
                var B = t.im(q, d * H, (h - E - 1) * I)
                    , G = E * S + d << 2;
                Y[G + 0] = ~~(B.h * 255);
                Y[G + 1] = ~~(B.l * 255);
                Y[G + 2] = ~~(B.O * 255);
                Y[G + 3] = 255
            }
    }
        ;
    hp.prototype.acI = function (Y, S, h) {
        var q = new Uint32Array(Y.buffer);
        for (var H = 0; H < h; H++) {
            var I = t.im(1 - H / h, 1, 1)
                , E = 255 << 24 | I.O * 255 << 16 | I.l * 255 << 8 | I.h * 255;
            for (var d = 0; d < S; d++)
                q[H * S + d] = E
        }
    }
        ;
    hp.prototype.a2_ = function (Y) {
        P.y2(window, this.pF);
        P.cM(window, this.dm);
        this.r_(Y)
    }
        ;
    hp.prototype.a0T = function (Y) {
        P.r$(window, this.pF);
        P.pp(window, this.dm)
    }
        ;
    hp.prototype.r_ = function (Y) {
        var S = P.WW(Y, this.k8);
        S.x = S.x * (256 / parseFloat(this.k8.style.width));
        S.y = S.y * (256 / parseFloat(this.k8.style.height));
        this.XI.bm(this.Aq(S.x), this.Aq(S.y));
        this.da()
    }
        ;
    hp.prototype.da = function () {
        this.s0 = this.a86();
        this.B(new _(P.E.L))
    }
        ;
    hp.prototype.a86 = function () {
        var Y = t.im((255 - this.Aq(this.cz.y)) / 255, this.qw(this.XI.x / 255), this.qw(1 - this.XI.y / 255));
        return {
            h: Y.h,
            l: Y.l,
            O: Y.O
        }
    }
        ;
    hp.prototype.ads = function (Y) {
        P.y2(window, this.alV);
        P.cM(window, this.ac6);
        this.pU(Y)
    }
        ;
    hp.prototype.a3J = function (Y) {
        P.r$(window, this.alV);
        P.pp(window, this.ac6)
    }
        ;
    hp.prototype.pU = function (Y) {
        var S = P.WW(Y, this.hQ);
        S.y = S.y * (256 / parseFloat(this.hQ.style.height));
        this.cz.bm(this.Aq(S.x), this.Aq(S.y));
        this.da()
    }
        ;
    hp.prototype.Aq = function (Y) {
        return Math.max(0, Math.min(255, Y))
    }
        ;
    hp.prototype.qw = function (Y) {
        return Math.max(0, Math.min(1, Y))
    }
        ;
    function ec(Y, S, h) {
        e9.call(this);
        if (!S)
            return;
        this.Qo = 0;
        this.j = P.w("span", "fitem bbmenu");
        if (Y) {
            this.lT = Y;
            this.EJ = P.w("label", "flabel");
            this.EJ.textContent = Y + ":";
            this.j.appendChild(this.EJ)
        }
        this.p5 = [];
        this.Dl = null;
        this.Hm(S, h);
        this.i(0)
    }
    ec.prototype = new e9;
    ec.prototype.D2 = function (Y) {
        this.lT = Y;
        this.f()
    }
        ;
    ec.prototype.f = function () {
        if (this.lT != null) {
            this.EJ.textContent = gx.get(this.lT) + ": "
        }
        for (var G = 0; G < this.p5.length; G++)
            this.p5[G].f()
    }
        ;
    ec.prototype.u = function () {
        return this.Qo
    }
        ;
    ec.prototype.Hm = function (Y, S) {
        while (this.p5.length > 0)
            this.j.removeChild(this.p5.pop().j);
        this.Dl = Y;
        for (var G = 0; G < Y.length; G++) {
            var h = new gP(Y[G], !1, S ? S[G] : null);
            h.k("click", this.u3, this);
            this.j.appendChild(h.j);
            this.p5.push(h)
        }
        this.f()
    }
        ;
    ec.prototype.i = function (Y) {
        this.Qo = Y;
        for (var G = 0; G < this.p5.length; G++)
            this.p5[G].cQ();
        this.p5[Y].Fc()
    }
        ;
    ec.prototype.u3 = function (Y) {
        var G = this.p5.indexOf(Y.target);
        this.i(G);
        this.B(new _(P.E.L, !1))
    }
        ;
    function dl(Y, S, h, q) {
        if (q == null)
            q = 16;
        var H = dl.mX
            , I = H.getContext("2d")
            , E = q >>> 1;
        H.width = H.height = q;
        var d = [];
        for (var G = 0; G < S.length; G++) {
            if (S[G] == "checker") {
                I.fillStyle = "white";
                I.fillRect(0, 0, q, q);
                I.fillStyle = "#bbbbbb";
                I.fillRect(E, 0, E, E);
                I.fillRect(0, E, E, E)
            } else if (S[G].startsWith("#")) {
                I.fillStyle = S[G];
                I.fillRect(0, 0, q, q)
            }
            if (S[G] == "checker" || S[G].startsWith("#"))
                d.push("<img src=\"" + H.toDataURL() + "\" />");
            else
                d.push("<img src=\"" + S[G] + "\" class=\"autoscale gsicon\" />")
        }
        ec.call(this, Y, d, h)
    }
    dl.prototype = new ec;
    dl.mX = P.w("canvas");
    function ey(Y, S, h, q) {
        e9.call(this);
        if (!S)
            return;
        if (h == null)
            h = !1;
        this.Qo = 0;
        this.aaU = h;
        this.lT = Y;
        this.VG = null;
        this.ah7 = q;
        var H = "dd" + P.mU();
        this.j = P.w("span", "fitem ddmenu");
        if (Y && !h) {
            this.EJ = P.w("label", "flabel");
            this.j.appendChild(this.EJ);
            this.EJ.setAttribute("for", H)
        }
        this.hW = P.w("select", "bbtn");
        this.hW.setAttribute("id", H);
        this.j.appendChild(this.hW);
        this.hW.addEventListener("change", this.u3.bind(this), !1);
        this.p5 = [];
        this.Dl = null;
        this.Hm(S, q);
        this.f()
    }
    ey.prototype = new e9;
    ey.prototype.D2 = function (Y) {
        this.lT = Y;
        this.f()
    }
        ;
    ey.prototype.f = function () {
        if (this.lT != null) {
            var Y = gx.get(this.lT);
            if (this.aaU)
                this.hW.setAttribute("title", Y);
            else
                this.EJ.textContent = Y + ":"
        }
        if (this.Dl)
            this.Hm(this.Dl, this.ah7);
        this.i(this.Qo)
    }
        ;
    ey.prototype.u = function () {
        return this.Qo
    }
        ;
    ey.prototype.Hm = function (Y, S) {
        P.v3(this.hW);
        var h = []
            , q = 0;
        if (S) {
            h.push(S[0]);
            for (var G = 1; G < S.length; G++)
                h.push(h[G - 1] + S[G])
        }
        this.Dl = Y;
        this.VG = [];
        this.ah7 = S;
        for (var G = 0; G < Y.length; G++) {
            var H = P.w("option");
            H.textContent = gx.get(Y[G]);
            H.setAttribute("value", G);
            this.hW.appendChild(H);
            this.p5.push(H);
            this.VG.push(G + q);
            if (h.indexOf(G + 1) != -1 && G != Y.length - 1) {
                var I = P.w("option");
                I.setAttribute("disabled", "");
                I.textContent = "";
                this.hW.appendChild(I);
                q++
            }
        }
    }
        ;
    ey.prototype.i = function (Y) {
        this.Qo = Y;
        this.hW.selectedIndex = this.VG[Y]
    }
        ;
    ey.prototype.u3 = function (Y) {
        this.Qo = this.VG.indexOf(this.hW.selectedIndex);
        this.B(new _(P.E.L, !1))
    }
        ;
    function hv() {
        e9.call(this);
        this.Q2 = null;
        this.gx = new bT;
        this.gx.k(P.E.L, this.ab3, this);
        this.gx.parent = this;
        this.Co = new ed([12, 14, 0], 1, 150, "px", 0, !0);
        this.Co.k(P.E.L, this.TV, this);
        this.Co.parent = this;
        this.Hu = new ed([16, 0], 0, 100, "px", 2, !0, null, 5);
        this.Hu.k(P.E.L, this.TV, this);
        this.Hu.parent = this;
        this.wi = new e0("Auto");
        this.wi.k(P.E.L, this.TV, this);
        this.OK = new ed([16, 1], -500, 5e3, "%", 0, !0);
        this.OK.k(P.E.L, this.TV, this);
        this.OK.parent = this;
        this.xS = new ed("\u2B0D", 1, 300, "%", null, null, null, null, [[2, 7], [22, 4, 3]]);
        this.xS.k(P.E.L, this.TV, this);
        this.xS.parent = this;
        this._K = new ed("\u2B0C", 1, 300, "%", null, null, null, null, [[2, 7], [22, 4, 2]]);
        this._K.k(P.E.L, this.TV, this);
        this._K.parent = this;
        this.QZ = new ed([16, 2], -10, 10, "px");
        this.QZ.k(P.E.L, this.TV, this);
        this.QZ.parent = this;
        this.I1 = new ca(!0);
        this.I1.k(P.E.L, this.ahB, this);
        this.I1.parent = this;
        this.VC = new gP("<img src=\"" + PIMG["type/bold"] + "\" class=\"autoscale gsicon\" />");
        this._T = new gP("<img src=\"" + PIMG["type/italic"] + "\" class=\"autoscale gsicon\" />");
        this.vR = new gP("<img src=\"" + PIMG["type/caps"] + "\" class=\"autoscale gsicon\" />");
        this.wW = new gP("<img src=\"" + PIMG["type/scaps"] + "\" class=\"autoscale gsicon\" />");
        this.A1 = new gP("<img src=\"" + PIMG["type/sub"] + "\" class=\"autoscale gsicon\" />");
        this.Gi = new gP("<img src=\"" + PIMG["type/sup"] + "\" class=\"autoscale gsicon\" />");
        this.GV = new gP("<img src=\"" + PIMG["type/under"] + "\" class=\"autoscale gsicon\" />");
        this.FT = new gP("<img src=\"" + PIMG["type/strike"] + "\" class=\"autoscale gsicon\" />");
        var Y = [this.VC, this._T, this.vR, this.wW, this.A1, this.Gi, this.GV, this.FT];
        for (var G = 0; G < Y.length; G++)
            Y[G].k("click", this.adL, this);
        this.PT = new gP("<img src=\"" + PIMG["par/left"] + "\" class=\"autoscale gsicon\" />");
        this.IU = new gP("<img src=\"" + PIMG["par/right"] + "\" class=\"autoscale gsicon\" />");
        this.yL = new gP("<img src=\"" + PIMG["par/center"] + "\" class=\"autoscale gsicon\" />");
        this.an9 = new gP("<img src=\"" + PIMG["par/jleft"] + "\" class=\"autoscale gsicon\" />");
        this.a7_ = new gP("<img src=\"" + PIMG["par/jright"] + "\" class=\"autoscale gsicon\" />");
        this.a7Z = new gP("<img src=\"" + PIMG["par/jcenter"] + "\" class=\"autoscale gsicon\" />");
        this.alZ = new gP("<img src=\"" + PIMG["par/jall"] + "\" class=\"autoscale gsicon\" />");
        this.RJ = [this.PT, this.IU, this.yL, this.an9, this.a7_, this.a7Z, this.alZ];
        for (var G = 0; G < this.RJ.length; G++)
            this.RJ[G].k("click", this.TV, this);
        var S = ["lind", "rind", "flind", "bind", "aind"]
            , h = [];
        for (var G = 0; G < 5; G++)
            h.push("<img src=\"" + PIMG["par/" + S[G]] + "\" class=\"autoscale gsicon\" /> ");
        this.be = new ed(h[0], -20, 20, "px");
        this.be.k(P.E.L, this.TV, this);
        this.be.parent = this;
        this.qv = new ed(h[1], -20, 20, "px");
        this.qv.k(P.E.L, this.TV, this);
        this.qv.parent = this;
        this.h$ = new ed(h[2], -20, 20, "px");
        this.h$.k(P.E.L, this.TV, this);
        this.h$.parent = this;
        this.CE = new ed(h[3], -20, 20, "px");
        this.CE.k(P.E.L, this.TV, this);
        this.CE.parent = this;
        this.GF = new ed(h[4], -20, 20, "px");
        this.GF.k(P.E.L, this.TV, this);
        this.GF.parent = this;
        this.KH = new ec([12, 33], ["Abc ...", "... \u0623\u064A \u0628\u064A"]);
        this.KH.k(P.E.L, this.TV, this);
        this.KH.parent = this
    }
    hv.prototype = new e9;
    hv.prototype.f = function () {
        this.gx.f();
        this.Co.f();
        this.Hu.f();
        this.OK.f();
        this.QZ.f();
        this.xS.f();
        this._K.f();
        this.KH.f()
    }
        ;
    hv.prototype.i = function (Y, S, h) {
        this.qK = JSON.parse(JSON.stringify(Y));
        var q = this.qK
            , H = q.cD
            , I = q.vY;
        this.VC.i(H.FauxBold != null ? H.FauxBold : !1);
        this._T.i(H.FauxItalic != null ? H.FauxItalic : !1);
        this.vR.i(H.FontCaps == 2);
        this.wW.i(H.FontCaps == 1);
        this.Gi.i(H.FontBaseline == 1);
        this.A1.i(H.FontBaseline == 2);
        this.GV.i(H.Underline);
        this.FT.i(H.Strikethrough);
        this.gx.i(H.Font == null ? null : q.GZ[H.Font].Name, S, h);
        var E = H.FontSize == null ? 20 : H.FontSize;
        this.Co.i(E);
        var d = H.Tracking;
        this.OK.i(d == null ? 0 : d);
        this.Hu.i(H.Leading != null ? H.Leading : 0);
        this.wi.i(H.AutoLeading);
        this.xS.i((H.VerticalScale != null ? H.VerticalScale : 0) * 100);
        this._K.i((H.HorizontalScale != null ? H.HorizontalScale : 0) * 100);
        this.QZ.i(H.BaselineShift != null ? H.BaselineShift : 0);
        if (H.FillColor) {
            var B = ap.cd(H);
            this.I1.vC(Math.round(B.h) << 16 | Math.round(B.l) << 8 | Math.round(B.O))
        } else
            this.I1.vC(0);
        var n = I._Direction != null ? I._Direction : 0
            , g = ap.Xl(I);
        for (var G = 0; G < this.RJ.length; G++)
            this.RJ[G].i(g == G);
        this.KH.i(n);
        this.be.i(I.StartIndent != null ? I.StartIndent : 0);
        this.qv.i(I.EndIndent != null ? I.EndIndent : 0);
        this.h$.i(I.FirstLineIndent != null ? I.FirstLineIndent : 0);
        this.CE.i(I.SpaceBefore != null ? I.SpaceBefore : 0);
        this.GF.i(I.SpaceAfter != null ? I.SpaceAfter : 0)
    }
        ;
    hv.prototype.Mu = function () {
        var Y = new _(P.E.P, !0);
        Y.data = {
            X: P.U.PD,
            go: iD.O1,
            qK: this.qK
        };
        this.B(Y);
        var Y = new _(P.E.A, !0);
        Y.F = U.bk;
        Y.data = {
            X: "updateStyles"
        };
        this.B(Y)
    }
        ;
    hv.prototype.adL = function (Y) {
        var S = this.qK.cD
            , h = Y.target
            , q = !h.tQ();
        if (h == this.VC)
            S.FauxBold = q;
        if (h == this._T)
            S.FauxItalic = q;
        if (h == this.vR)
            S.FontCaps = q ? 2 : 0;
        if (h == this.wW)
            S.FontCaps = q ? 1 : 0;
        if (h == this.Gi)
            S.FontBaseline = q ? 1 : 0;
        if (h == this.A1)
            S.FontBaseline = q ? 2 : 0;
        if (h == this.GV)
            S.Underline = q;
        if (h == this.FT)
            S.Strikethrough = q;
        this.Mu()
    }
        ;
    hv.prototype.TV = function (Y) {
        var S = this.qK.cD
            , h = this.qK.vY
            , q = Y.target;
        if (q == this.OK) {
            var H = this.OK.u();
            S.Tracking = H
        }
        if (q == this.Hu) {
            S.AutoLeading = !1;
            S.Leading = this.Hu.u()
        }
        if (q == this.wi) {
            S.AutoLeading = this.wi.u()
        }
        if (q == this.Co)
            S.FontSize = q.u();
        if (q == this.xS)
            S.VerticalScale = q.u() / 100;
        if (q == this._K)
            S.HorizontalScale = q.u() / 100;
        if (q == this.QZ)
            S.BaselineShift = q.u();
        if (this.RJ.indexOf(q) != -1) {
            h.Justification = ap.Xl(h, this.RJ.indexOf(q))
        }
        if (q == this.be)
            h.StartIndent = q.u();
        if (q == this.qv)
            h.EndIndent = q.u();
        if (q == this.h$)
            h.FirstLineIndent = q.u();
        if (q == this.CE)
            h.SpaceBefore = q.u();
        if (q == this.GF)
            h.SpaceAfter = q.u();
        if (q == this.KH)
            h._Direction = q.u();
        this.Mu()
    }
        ;
    hv.prototype.ab3 = function (Y) {
        var S = this.qK
            , h = this.gx.u()
            , q = -1;
        for (var G = 0; G < S.GZ.length; G++)
            if (S.GZ[G].Name == h)
                q = G;
        if (q == -1) {
            q = S.GZ.length;
            var H = JSON.parse(JSON.stringify(S.GZ[0]));
            H.Name = h;
            S.GZ.splice(q, 0, H)
        }
        S.cD.Font = q;
        this.Mu()
    }
        ;
    hv.prototype.ahB = function (Y) {
        var S = this.I1.Yv()
            , h = {
                Type: 1,
                Values: [1, (S >> 16 & 255) / 255, (S >> 8 & 255) / 255, (S >> 0 & 255) / 255]
            };
        for (var G = 0; G < 4; G++)
            h.Values[G] = Math.round(h.Values[G] * 1e3) / 1e3;
        this.qK.cD.FillColor = h;
        this.Mu()
    }
        ;
    function bT() {
        e9.call(this);
        this.j = P.w("span", "fontinput");
        this.Mr = null;
        this.ut = null;
        this.lw = null;
        this.v1 = "";
        this.aa = {};
        this.O3 = [];
        this.a4d = {};
        this.hV = !1;
        this.oX = P.w("button", "fitem");
        this.oX.setAttribute("style", "width:9em;");
        this.oX.textContent = "Family Name \u25BC";
        this.j.appendChild(this.oX);
        P.aK(this.oX, this.Kk.bind(this));
        this.l3 = new e9;
        this.l3.parent = this;
        this.l3.j = P.w("div", "floatcont");
        this.l3.j.addEventListener("keyup", this.aa1.bind(this), !1);
        this.PR = new gl(6.8);
        this.l3.j.appendChild(this.PR.a3b());
        this.PR.parent = this.l3;
        this.PR.k(P.E.L, this.uO, this);
        var Y = P.w("div", "form");
        this.l3.j.appendChild(Y);
        this.bf = new gP(P.NM("tools/cshape", null, "autoscale"), !1, "Show Favorites Only");
        this.bf.k("click", this.a7$, this);
        Y.appendChild(this.bf.j);
        this.L$ = new eT([12, 86], null, 9);
        this.L$.k("input", this.Fx, this);
        Y.appendChild(this.L$.j);
        var S = this.a6x = new gP([[23, 6], [22, 6, 0]], !1, "Load OTF / TTF file from your computer", !0);
        S.k("click", this.a72, this);
        S.j.style.marginLeft = "1.5em";
        Y.appendChild(S.j);
        this.b9 = P.w("span", "fitem imageset scrollable marged");
        this.b9.style.height = "30em";
        this.l3.j.appendChild(this.b9);
        this.YK = P.w("button", "fitem");
        this.YK.setAttribute("style", "width:7em;");
        this.YK.textContent = "SubFamily Name \u25BC";
        this.j.appendChild(this.YK);
        P.aK(this.YK, this.Kk.bind(this));
        this.Oy = new e9;
        this.Oy.parent = this;
        this.Oy.j = P.w("div", "floatcont");
        this.o$ = P.w("span", "fitem imageset scrollable marged");
        this.Oy.j.appendChild(this.o$)
    }
    bT.prototype = new e9;
    bT.prototype.aa1 = function (Y) {
        var S = 0;
        if (F.QN(Y.code, F.z_))
            S = -1;
        if (F.QN(Y.code, F.IL))
            S = 1;
        if (S != 0) {
            var h = this.O3
                , q = h.length
                , H = this.Mr.Z$()[this.lw];
            if (H == null && q == 0)
                return;
            var I = h.indexOf(H[0]);
            if (I == -1)
                return;
            I = (I + S + q) % q;
            this.cx(h[I], null)
        }
    }
        ;
    bT.prototype.a72 = function () {
        var Y = new _(P.E.P, !0);
        Y.data = {
            X: P.U.MY,
            anW: ".otf,.ttf,.ttc"
        };
        this.B(Y)
    }
        ;
    bT.prototype.f = function () {
        this.PR.f();
        this.a6x.f();
        this.bf.D2(P.NM("tools/cshape", null, "autoscale"))
    }
        ;
    bT.prototype.a7$ = function (Y) {
        this.bf.i(!this.bf.tQ());
        this.uO()
    }
        ;
    bT.prototype.Fx = function (Y) {
        this.v1 = this.L$.u().toLowerCase();
        this.uO()
    }
        ;
    bT.prototype.Kk = function (Y) {
        P.IM(Y);
        var S = Y.currentTarget
            , h = S.getBoundingClientRect()
            , q = S == this.oX
            , H = q ? this.l3 : this.Oy;
        if (P.Ap(H.j)) {
            this.Zi(H);
            return
        }
        if (!q && this.Mr.Z$()[this.lw] == null)
            return;
        var I = new _(P.E.P, !0);
        I.data = {
            X: P.U.pa,
            FN: H,
            x: h.left,
            y: h.top + h.height
        };
        this.B(I);
        if (q) {
            this.uO();
            this.L$.rD()
        }
    }
        ;
    bT.prototype.a6n = function (Y) {
        var S = Y.currentTarget.firstChild.nextSibling.textContent;
        if (Y.target.tagName.toLowerCase() == "button") {
            var h = this.ut.slice(0)
                , q = h.indexOf(S);
            if (q == -1) {
                h = h.slice(Math.max(0, h.length - 29));
                h.push(S)
            } else
                h.splice(q, 1);
            var H = new _(P.E.P, !0);
            H.data = {
                X: P.U.PD,
                go: iD.kJ,
                aq: h
            };
            this.B(H);
            this.hV = !0;
            this.uO()
        } else {
            this.cx(S, null);
            this.L$.rD()
        }
    }
        ;
    bT.prototype.a9C = function (Y) {
        this.cx(null, Y.currentTarget.firstChild.textContent)
    }
        ;
    bT.prototype.cx = function (Y, S) {
        var h = Y == null ? this.Oy : this.l3
            , q = this.Mr;
        if (Y == null)
            Y = q.Z$()[this.lw][0];
        else {
            var H = q.JY(Y)
                , I = q.Z$()[this.lw];
            S = fa.L3(H, I ? I[1] : "regular")
        }
        var E = q.lC(Y, S)[2];
        this.i(E, q);
        this.B(new _(P.E.L, !1));
        this.Zi(h);
        this.uO()
    }
        ;
    bT.prototype.Zi = function (Y) {
        var S = new _(P.E.P, !0);
        S.data = {
            X: P.U.g1,
            FN: Y
        };
        this.B(S)
    }
        ;
    bT.prototype.u = function () {
        return this.lw
    }
        ;
    bT.prototype.i = function (Y, S, h) {
        var q = this.Mr;
        if (Y != null)
            this.lw = Y;
        else
            Y = this.lw;
        this.Mr = S;
        this.ut = h;
        if (Y != null) {
            var H = S.Z$()[Y], I, E;
            if (H == null) {
                I = "- " + Y;
                E = "-------"
            } else {
                I = H[0];
                E = H[1];
                var d = S.JY(I);
                d.sort(fa.ame);
                var B = d.indexOf(E)
                    , n = this.a9C.bind(this);
                this.o$.textContent = "";
                for (var G = 0; G < d.length; G++) {
                    var H = S.lC(I, d[G]);
                    if (!this.PR.Vq(H))
                        continue;
                    var g = this.OT(H, H[1], n, !1);
                    this.o$.appendChild(g)
                }
            }
            this.oX.textContent = I.substring(0, 15) + " \u25BC";
            this.oX.setAttribute("title", I);
            this.YK.textContent = E.substring(0, 10) + " \u25BC";
            this.YK.setAttribute("title", E)
        }
    }
        ;
    bT.prototype.uO = function () {
        var Y = this.Mr.Z$()[this.lw]
            , S = this.ut
            , h = null
            , q = this.Mr.a4h()
            , H = this.a6n.bind(this);
        this.O3 = [];
        for (var I in q) {
            var E = fa.L3(q[I], "regular")
                , d = this.Mr.lC(I, E)
                , B = S.indexOf(I) != -1
                , n = !0;
            if (this.v1.length > 0 && d[0].toLowerCase().indexOf(this.v1) == -1)
                n = !1;
            else if (!this.PR.Vq(d))
                n = !1;
            else if (this.bf.tQ() && !B)
                n = !1;
            var g = this.aa[I];
            if (g == null) {
                var g = this.OT(d, I, H, !0);
                this.aa[I] = g;
                this.b9.appendChild(g)
            }
            if (n)
                this.O3.push(I);
            var z = n ? "" : "display:none; "
                , p = "opacity: " + (B ? "1" : "0.2");
            if (Y && Y[0] == I) {
                z += "background-color:rgba(0,0,0,0.13);";
                h = g
            }
            if (this.a4d[I] != z + p) {
                g.setAttribute("style", z);
                g.firstChild.setAttribute("style", p);
                this.a4d[I] = z + p
            }
        }
        if (h && !this.hV)
            this.b9.scrollTop = h.offsetTop - 210;
        this.hV = !1
    }
        ;
    bT.prototype.OT = function (Y, S, h, q) {
        var H = P.w("div", "fontitem")
            , B = "";
        H.addEventListener("click", h, !1);
        if (q)
            H.appendChild(P.w("button", "star"));
        var I = P.w("span", "label");
        I.setAttribute("title", S);
        I.textContent = S;
        H.appendChild(I);
        var E = P.M()
            , d = 1 / E
            , n = fa.mc * d
            , g = fa.Pr * d;
        if (1 < E && E < 1.5)
            B = "width:" + n + "px; height:" + g + "px;";
        var z = P.w("span", "thumb gsicon");
        if (Y.ald) {
            B += "background: url(" + Y.ald + ");";
            if (1 < E && E < 1.5)
                B += "background-size: " + n + "px " + g + "px;"
        } else {
            var p = Math.ceil(FNTS.list.length / fa.cols)
                , C = Math.floor(Y.Y8 / p)
                , T = Y.Y8 % p
                , A = C * fa.mc
                , i = T * fa.Pr;
            if (1 < E && E < 1.5) {
                B += "background-size: " + fa.cols * n + "px " + p * g + "px;";
                A *= d;
                i *= d
            }
            B += "background-position:-" + A + "px -" + i + "px;"
        }
        z.setAttribute("style", B);
        H.appendChild(z);
        return H
    }
        ;
    function gl(Y) {
        e9.call(this);
        this.j = P.w("button", "fitem bbtn");
        this.j.addEventListener("click", this.ai7.bind(this), !1);
        this.KM = new e9;
        this.KM.j = P.w("div", "floatcont");
        this.KM.parent = this;
        this.rU = P.w("div", "flexrow");
        this.KM.j.appendChild(this.rU);
        this.zm = [];
        this.HV = [];
        var S = this.rU
            , h = P.w("div", "")
            , q = P.w("div", "");
        S.appendChild(h);
        S.appendChild(q);
        this.ET = [];
        for (var G = 0; G < FNTS.cats.length; G++)
            this.ET.push({
                name: FNTS.cats[G],
                index: G,
                c1: 0
            });
        this.LN = new e0([7, 0]);
        this.LN.k(P.E.L, this.a10, this);
        h.appendChild(this.LN.j);
        this.bb = P.w("div", "vlist marged scrollable");
        this.bb.setAttribute("style", "width:10.85em; height:" + Y + "em; ");
        h.appendChild(this.bb);
        this.JF = [];
        for (var G = 0; G < this.ET.length; G++) {
            var H = this.ET[G]
                , I = new e0(H.name);
            this.JF.push(I);
            I.k(P.E.L, this.a7H, this);
            I.i(!0);
            this.bb.appendChild(I.j);
            this.zm.push(1)
        }
        this.abF = new e0([7, 0]);
        this.abF.k(P.E.L, this.acO, this);
        this.wy = P.w("div", "vlist marged scrollable");
        this.wy.setAttribute("style", "width:8.6em; height:" + (Y + 1.5) + "em; ");
        q.appendChild(this.wy);
        this.z1 = [];
        for (var G = 0; G < FNTS.subsetNames.length; G++) {
            var I = new e0(FNTS.subsetNames[G]);
            this.z1.push(I);
            I.k(P.E.L, this.acW, this);
            I.i(!1);
            this.wy.appendChild(I.j);
            this.HV.push(0)
        }
    }
    gl.prototype = new e9;
    gl.prototype.a8i = function (Y) {
        var S = this.z1;
        for (var G = 0; G < S.length; G++) {
            var h = (Y >>> G & 1) == 1;
            this.HV[G] = h;
            S[G].i(h)
        }
    }
        ;
    gl.prototype.a3b = function () {
        return this.rU
    }
        ;
    gl.prototype.f = function () {
        this.j.textContent = gx.get([25, 1, 0]) + " \u25BC";
        this.LN.f();
        this.abF.f()
    }
        ;
    gl.prototype.ai7 = function (Y) {
        var S = this.j.getBoundingClientRect()
            , h = new _(P.E.P, !0);
        h.data = {
            X: P.U.pa,
            FN: this.KM,
            x: S.left,
            y: S.top + S.height,
            vX: !1
        };
        this.B(h)
    }
        ;
    gl.prototype.Vq = function (Y) {
        if (this.zm[Y[4]] == 0)
            return !1;
        else
            for (var S = 0; S < this.HV.length; S++)
                if (this.HV[S] == 1 && (Y[3] >>> S & 1) == 0)
                    return !1;
        return !0
    }
        ;
    gl.prototype.a10 = function (Y) {
        var S = Y.target.u()
            , h = this.JF
            , q = this.zm;
        for (var G = 0; G < h.length; G++) {
            h[G].i(S);
            q[G] = S ? 1 : 0
        }
        this.B(new _(P.E.L, !1))
    }
        ;
    gl.prototype.acO = function (Y) {
        var S = Y.target.u()
            , h = this.z1
            , q = this.HV;
        for (var G = 0; G < h.length; G++) {
            h[G].i(S);
            q[G] = S ? 1 : 0
        }
        this.B(new _(P.E.L, !1))
    }
        ;
    gl.prototype.a7H = function (Y) {
        var G = this.JF.indexOf(Y.target)
            , S = this.ET[G].index;
        this.zm[S] = 1 - this.zm[S];
        this.B(new _(P.E.L, !1))
    }
        ;
    gl.prototype.acW = function (Y) {
        var G = this.z1.indexOf(Y.target);
        this.HV[G] = 1 - this.HV[G];
        this.B(new _(P.E.L, !1))
    }
        ;
    function fo(Y, S, h) {
        h4.call(this, S, !0, "gradientbutton", 18, 10, iD.MM);
        this.jy = -1;
        this.E$ = -1;
        this.amI = null;
        this.a3f = Y;
        this.x3 = h
    }
    fo.prototype = new h4;
    fo.prototype.ug = function (Y) {
        var S = this.x1;
        this.i(S[this.BH.u()]);
        this.B(new _(P.E.L))
    }
        ;
    fo.prototype.fe = function (Y) {
        var S = new _(P.E.P, !0);
        S.data = {
            X: P.U.V5,
            Fh: "gradienteditor",
            W: this.ll,
            HM: this.a3P.bind(this),
            dj: this.x3
        };
        this.B(S)
    }
        ;
    fo.prototype.a3P = function (Y) {
        this.i(Y);
        this.B(new _(P.E.L))
    }
        ;
    fo.prototype.Xr = function () {
        if (!this.vG)
            return;
        var Y = Math.floor(36 * P.M())
            , S = Math.floor(36 * P.M())
            , h = []
            , q = []
            , H = this.x1;
        for (var G = 0; G < H.length; G++) {
            var I = H[G];
            q.push(I.Nm ? I.Nm.v.split("=").pop() : "");
            var E = U.a$.PG(I, Y, S, Math.PI / 4, this.jy, this.E$);
            h.push(E)
        }
        this.BH.sc(h, q, Y, S);
        this.vG = !1
    }
        ;
    fo.prototype.qQ = function (Y, S) {
        this.o7(this.ll, Y, S)
    }
        ;
    fo.prototype.i = function (Y) {
        this.o7(Y, this.jy, this.E$)
    }
        ;
    fo.prototype.o7 = function (Y, S, h) {
        this.jy = S;
        this.E$ = h;
        if (Y == null)
            return;
        var q = JSON.stringify(Y)
            , H = q + S + "," + h;
        if (H == this.amI)
            return;
        this.amI = H;
        this.ll = JSON.parse(q);
        var I = Math.floor(80 * P.M())
            , E = Math.floor(16 * P.M())
            , d = U.a$.PG(this.ll, I, E, 0, this.jy, this.E$);
        this.nr.setAttribute("src", d);
        P.fs(this.nr, I, E)
    }
        ;
    fo.prototype.u = function () {
        var Y;
        if (this.a3f)
            Y = U.a$.aiF(this.ll, this.jy, this.E$);
        else
            Y = JSON.parse(JSON.stringify(this.ll));
        return Y
    }
        ;
    function c8(Y) {
        h4.call(this, Y, !1, "swatchbutton", 16, 8.75, iD.jl)
    }
    c8.prototype = new h4;
    c8.prototype.ug = function (Y) {
        this.i(this.x1[Y.target.u()]);
        this.B(new _(P.E.L))
    }
        ;
    c8.prototype.Xr = function () {
        if (!this.vG)
            return;
        var Y = Date.now()
            , S = Math.floor(10 * P.M())
            , h = Math.floor(10 * P.M())
            , q = []
            , H = []
            , I = this.x1;
        for (var G = 0; G < I.length; G++) {
            H.push(I[G].Hl ? I[G].Hl.split("=").pop() : "");
            q.push(c8.PG(I[G], S, h))
        }
        this.BH.sc(q, H, S, h);
        this.vG = !1
    }
        ;
    c8.prototype.i = function (Y) {
        this.ll = JSON.parse(JSON.stringify(Y));
        this.Zx()
    }
        ;
    c8.prototype.Zx = function () {
        var Y = Math.floor(24 * P.M())
            , S = Math.floor(20 * P.M())
            , h = c8.PG(this.ll, Y, S);
        this.nr.setAttribute("src", h);
        P.fs(this.nr, Y, S)
    }
        ;
    c8.prototype.u = function () {
        return JSON.parse(JSON.stringify(this.ll))
    }
        ;
    c8.uK = {};
    c8.PG = function (Y, S, h) {
        var q = c8.Jd
            , H = c8.uK
            , I = t.u9(Y.h << 16 | Y.l << 8 | Y.O);
        if (H[I])
            return H[I];
        if (q == null) {
            var E = P.w("canvas");
            q = c8.Jd = E.getContext("2d")
        }
        var E = q.canvas;
        E.width = S;
        E.height = h;
        q.fillStyle = "#" + I;
        q.fillRect(0, 0, S, h);
        var d = H[I] = E.toDataURL();
        return d
    }
        ;
    function e0(Y, S, h) {
        e9.call(this);
        this.j = P.w("span", "fitem cbox");
        if (S == null)
            S = !0;
        if (h == null)
            h = "flabel";
        var q = "cb" + P.mU();
        this.yl = P.w("input", "");
        this.yl.setAttribute("type", "checkbox");
        this.yl.setAttribute("id", q);
        this.j.appendChild(this.yl);
        this.lT = Y;
        this.EJ = P.w("label", h);
        if (S)
            this.EJ.setAttribute("for", q);
        this.j.appendChild(this.EJ);
        this.f();
        this.yl.addEventListener("change", this.u3.bind(this), !1)
    }
    e0.prototype = new e9;
    e0.prototype.lx = function () {
        return this.lT
    }
        ;
    e0.prototype.D2 = function (Y) {
        this.EJ.textContent = Y
    }
        ;
    e0.prototype.f = function () {
        var Y = this.lT;
        if (typeof Y == "string" && Y.startsWith("<"))
            this.EJ.innerHTML = Y;
        else
            this.EJ.textContent = gx.get(Y)
    }
        ;
    e0.prototype.Fc = function () {
        this.yl.checked = !0
    }
        ;
    e0.prototype.cQ = function () {
        this.yl.checked = !1
    }
        ;
    e0.prototype.tQ = function () {
        return this.yl.checked
    }
        ;
    e0.prototype.i = function (Y) {
        this.yl.checked = Y
    }
        ;
    e0.prototype.u = e0.prototype.tQ;
    e0.prototype.u3 = function (Y) {
        this.B(new _(P.E.L, !1))
    }
        ;
    function bg(Y, S, h, q) {
        e9.call(this);
        this.j = P.w("span", "fitem mbox");
        this.a2X = h;
        if (Y) {
            this.lT = Y;
            this.EJ = P.w("label", "flabel");
            this.j.appendChild(this.EJ)
        }
        this.Ns = S;
        this.SP = [];
        for (var G = 0; G < S.length; G++) {
            var H = h ? new gP(S[G], !1, q ? q[G] : null) : new e0(S[G], !0, "");
            H.k(h ? "click" : P.E.L, this.u3, this);
            this.SP.push(H);
            this.j.appendChild(H.j)
        }
        this.f()
    }
    bg.prototype = new e9;
    bg.prototype.i = function (Y) {
        for (var S = 0; S < this.Ns.length; S++)
            this.SP[S].i(Y[S])
    }
        ;
    bg.prototype.u = function () {
        var Y = [];
        for (var S = 0; S < this.Ns.length; S++)
            Y[S] = this.SP[S].u();
        return Y
    }
        ;
    bg.prototype.f = function () {
        if (this.lT)
            this.EJ.innerHTML = gx.get(this.lT) + ": ";
        for (var Y = 0; Y < this.SP.length; Y++)
            this.SP[Y].f()
    }
        ;
    bg.prototype.u3 = function (Y) {
        var G = this.SP.indexOf(Y.currentTarget);
        if (this.a2X)
            this.SP[G].i(!this.SP[G].u());
        this.B(new _(P.E.L, !1))
    }
        ;
    function c1(Y, S, h, q, H, I) {
        cI.call(this, Y, S, h, q, H, !1, I);
        this.j.appendChild(this.EJ);
        var E = P.w("span", "rangecont");
        this.j.appendChild(E);
        E.appendChild(this.LV);
        this.j.appendChild(this.yl);
        this.yl.setAttribute("style", "width:3.3em");
        if (this.g0)
            this.j.appendChild(this.qf)
    }
    c1.prototype = new cI;
    function hh(Y, S, h, q) {
        if (Y == null)
            Y = !1;
        if (S == null)
            S = !1;
        if (h == null)
            h = !1;
        e9.call(this);
        this.Tg = new aV;
        this.QX = new aV;
        this.Kq = 72;
        this.xg = 72;
        this.ZG = !0;
        this.j = P.w("span", "");
        this.A7 = new ed([12, 41], 0, 0, null, 0, !1, !0);
        this.j.appendChild(this.A7.j);
        this.A7.k(P.E.L, this.dZ, this);
        var H = ["px", "%"];
        if (Y)
            H = H.concat(["mm", "in"]);
        this.RQ = new ey(null, H);
        this.j.appendChild(this.RQ.j);
        P.f$(this.j);
        this.RQ.k(P.E.L, this.dZ, this);
        this.OM = new ed([12, 42], 0, 0, null, 0, !1, !0);
        this.j.appendChild(this.OM.j);
        this.OM.k(P.E.L, this.dZ, this);
        var I = new gP("\u21F5", !1, null, !0);
        I.k("click", this.aaI, this);
        this.LO = new gP("<img src=\"" + PIMG["lrs/chain"] + "\" class=\"autoscale gsicon\" />", !1, [12, 51]);
        this.LO.k("click", this.dZ, this);
        this.ahw = new aG("");
        if (S) {
            this.j.appendChild(this.LO.j);
            this.j.appendChild(this.ahw.j);
            this.LO.Fc()
        } else
            this.j.appendChild(I.j);
        this.ZX = new ed("DPI", 0, 0, null, 3, !1, !0, 4);
        if (Y && q == null) {
            P.f$(this.j);
            this.j.appendChild(this.ZX.j)
        }
        this.ZX.k(P.E.L, this.dZ, this);
        this.fg = new e0([12, 23, 1]);
        this.fg.k(P.E.L, this.dZ, this);
        if (h) {
            P.f$(this.j);
            this.j.appendChild(this.fg.j)
        }
        P.f$(this.j)
    }
    hh.prototype = new e9;
    hh.prototype.ae1 = function () {
        this.ZG = !1;
        if (this.RQ.u() == 0) {
            this.RQ.i(3);
            this.lt()
        }
    }
        ;
    hh.prototype.a26 = function () {
        this.ZG = !0
    }
        ;
    hh.prototype.ag0 = function (Y) {
        this.LO.i(Y)
    }
        ;
    hh.prototype.f = function () {
        this.A7.f();
        this.OM.f();
        this.ZX.f();
        this.LO.f();
        this.fg.f()
    }
        ;
    hh.prototype.aaI = function (Y) {
        var S = this.QX.x;
        this.QX.x = this.QX.y;
        this.QX.y = S;
        this.lt();
        this.B(new _(P.E.L, !1))
    }
        ;
    hh.prototype.dZ = function (Y) {
        if (Y.target == this.RQ && !this.ZG && this.RQ.u() == 0)
            this.RQ.i(3);
        if (Y.target == this.RQ || Y.target == this.fg) {
            this.lt();
            return
        }
        if (Y.target == this.LO)
            Y.target.i(!Y.target.u());
        var S = this.Tg
            , h = parseFloat(this.A7.u());
        if (isNaN(h))
            h = 1;
        var q = parseFloat(this.OM.u());
        if (isNaN(q))
            q = 1;
        var H = this.RQ.u();
        if (this.ZG) {
            var I = this.xg;
            if (H == 1) {
                h = this.Tg.x * (h / 100);
                q = this.Tg.y * (q / 100)
            }
            var E = [1, 1, 25.4 / I, 1 / I][H];
            h /= E;
            q /= E;
            if (this.fg.u()) {
                h += this.Tg.x;
                q += this.Tg.y
            }
            if (Y.target == this.ZX) {
                var d = this.ZX.u();
                if (!0) {
                    var B = d / I;
                    h *= B;
                    q *= B
                }
                I = d
            }
            if (this.LO.u()) {
                if (Y.target == this.A7)
                    q = h * (S.y / S.x);
                else
                    h = q * (S.x / S.y)
            }
            h = Math.max(Math.abs(h), 1);
            q = Math.max(Math.abs(q), 1)
        } else {
            var I = this.Kq;
            if (Y.target == this.ZX)
                I = this.ZX.u();
            else {
                if (this.LO.u()) {
                    if (Y.target == this.A7)
                        q = h * (S.y / S.x);
                    else
                        h = q * (S.x / S.y)
                }
                var E = [1, 1, 25.4 / I, 1 / I][H]
                    , n = h / (H == 1 ? 100 : S.x * E);
                I = I / n
            }
            h = S.x;
            q = S.y
        }
        this.QX = new aV(Math.round(h), Math.round(q));
        this.xg = I;
        this.lt();
        this.B(new _(P.E.L, !1))
    }
        ;
    hh.prototype.a7J = function (G) {
        this.RQ.i(G);
        this.lt()
    }
        ;
    hh.prototype.i = function (Y, S, h) {
        if (h != !0)
            this.Tg = Y.clone();
        this.QX = Y.clone();
        if (S != null) {
            this.Kq = S;
            this.xg = S
        }
        this.lt()
    }
        ;
    hh.prototype.lt = function () {
        var Y = this.QX.x
            , S = this.QX.y
            , h = this.xg
            , q = (Y / S).toFixed(3);
        while (q.charAt(q.length - 1) == "0")
            q = q.substring(0, q.length - 1);
        if (q.charAt(q.length - 1) == ".")
            q = q.substring(0, q.length - 1);
        var H = "  " + q + " : 1"
            , I = function (g, z) {
                while (z != 0) {
                    var p = z;
                    z = g % z;
                    g = p
                }
                return g
            }
            , E = I(Y, S);
        if (Math.min(Y, S) / E < 10)
            H = "  " + Math.round(Y / E) + " : " + Math.round(S / E);
        this.ahw.i(H);
        if (this.fg.u()) {
            Y -= this.Tg.x;
            S -= this.Tg.y
        }
        var d = this.RQ.u();
        if (d == 1) {
            if (this.ZG) {
                Y = 100 * Y / this.Tg.x;
                S = 100 * S / this.Tg.y
            } else {
                Y = S = 100 * this.Kq / this.xg
            }
        } else {
            Y = Math.round(Y);
            S = Math.round(S)
        }
        var B = [1, 1, 25.4 / h, 1 / h][d];
        Y *= B;
        S *= B;
        var n = d == 1 || d == 3 ? 2 : 0;
        this.A7.xi(n);
        this.OM.xi(n);
        this.A7.i(Y);
        this.OM.i(S);
        this.ZX.i(h)
    }
        ;
    hh.prototype.u = function () {
        return this.QX.clone()
    }
        ;
    hh.prototype.Yd = function () {
        return this.xg
    }
        ;
    function e4() {
        e9.call(this);
        this.Oj = 0;
        this.zu = [0, 0, 1, 1, 100, 100];
        this.j = P.w("span", "fitem");
        this.xZ = new ey(null, [[12, 89, 0], [12, 89, 1], [12, 89, 2]]);
        this.j.appendChild(this.xZ.j);
        this.xZ.k(P.E.L, this.dZ, this);
        this.A7 = new ed("W", 0, 0, null, 0, !1, !0);
        this.j.appendChild(this.A7.j);
        this.A7.k(P.E.L, this.dZ, this);
        this.OM = new ed("H", 0, 0, null, 0, !1, !0);
        this.j.appendChild(this.OM.j);
        this.OM.k(P.E.L, this.dZ, this);
        this.i({
            qa: 0,
            x: 0,
            y: 0
        })
    }
    e4.prototype = new e9;
    e4.prototype.f = function () {
        P.K3(this.A7, this.OM);
        this.xZ.f()
    }
        ;
    e4.prototype.dZ = function (Y) {
        if (Y.target == this.xZ) {
            var S = this.u()
                , h = this.zu;
            h[this.Oj * 2] = S.x;
            h[this.Oj * 2 + 1] = S.y;
            this.Oj = S.qa;
            this.i({
                qa: S.qa,
                x: h[S.qa * 2],
                y: h[S.qa * 2 + 1]
            })
        }
        if (this.A7.u() < 1)
            this.A7.i(1);
        if (this.OM.u() < 1)
            this.OM.i(1);
        this.B(new _(P.E.L, !1))
    }
        ;
    e4.prototype.i = function (Y) {
        this.xZ.i(Y.qa);
        this.A7.i(Y.x);
        this.OM.i(Y.y);
        if (Y.qa == 0) {
            this.A7.f4();
            this.OM.f4()
        } else {
            this.A7.tW();
            this.OM.tW()
        }
    }
        ;
    e4.prototype.u = function () {
        return {
            qa: this.xZ.u(),
            x: this.A7.u(),
            y: this.OM.u()
        }
    }
        ;
    function aG(Y, S) {
        e9.call(this);
        this.lT = Y;
        this.j = P.w("span", "labelitem fitem" + (S ? " spread" : ""));
        this.f()
    }
    aG.prototype = new e9;
    aG.prototype.i = function (Y) {
        this.j.textContent = Y
    }
        ;
    aG.prototype.u = function () {
        return this.j.textContent
    }
        ;
    aG.prototype.tW = function () {
        this.j.removeAttribute("disabled")
    }
        ;
    aG.prototype.f4 = function () {
        this.j.setAttribute("disabled", "")
    }
        ;
    aG.prototype.D2 = function (Y) {
        this.j.textContent = Y
    }
        ;
    aG.prototype.f = function () {
        this.j.textContent = gx.get(this.lT)
    }
        ;
    aG.prototype.lx = function () {
        return this.lT
    }
        ;
    function fZ(Y) {
        e9.call(this);
        this.j = P.w("span", "");
        this.a7r = Y;
        this.LR = new c1("Off X", -100, 100, Y ? "%" : "px", 0, !1);
        this.Wh = new c1("Off Y", -100, 100, Y ? "%" : "px", 0, !1);
        this.LR.k(P.E.L, this.dZ, this);
        this.Wh.k(P.E.L, this.dZ, this);
        this.j.appendChild(this.LR.j);
        this.j.appendChild(this.Wh.j)
    }
    fZ.prototype = new e9;
    fZ.prototype.f = function () {
        this.LR.f();
        this.Wh.f()
    }
        ;
    fZ.prototype.dZ = function (Y) {
        this.B(new _(P.E.L, !1))
    }
        ;
    fZ.prototype.afG = function (Y) {
        this.LR.i(Y.x);
        this.Wh.i(Y.y)
    }
        ;
    fZ.prototype.ag_ = function () {
        return new aV(this.LR.u(), this.Wh.u())
    }
        ;
    fZ.prototype.i = function (Y, S) {
        var h = Y.Hrzn.v
            , q = Y.Vrtc.v;
        if (this.a7r) {
            h = h.val;
            q = q.val
        }
        this.LR.i(h);
        this.Wh.i(q);
        if (S)
            this.dZ()
    }
        ;
    fZ.prototype.u = function () {
        var Y = this.LR.u()
            , S = this.Wh.u();
        if (this.a7r)
            return {
                classID: "Pnt",
                Hrzn: {
                    t: "UntF",
                    v: {
                        type: "#Prc",
                        val: Y
                    }
                },
                Vrtc: {
                    t: "UntF",
                    v: {
                        type: "#Prc",
                        val: S
                    }
                }
            };
        else
            return {
                classID: "Pnt",
                Hrzn: {
                    v: Y,
                    t: "doub"
                },
                Vrtc: {
                    v: S,
                    t: "doub"
                }
            }
    }
        ;
    function ed(Y, S, h, q, H, I, E, d, B) {
        cI.call(this, Y, S, h, q, H, !0, I, B);
        P.xv(this.j, "rangedropinput");
        this.j.appendChild(this.EJ);
        this.yl.setAttribute("style", "width:" + (d ? d : 3.3) + "em");
        this.j.appendChild(this.yl);
        this.akF = P.w("span", "rangecont");
        this.akF.appendChild(this.LV);
        this.$G = P.w("button");
        this.$G.innerHTML = "\u25BC";
        P.aK(this.$G, this.a2D.bind(this));
        if (E != !0)
            this.j.appendChild(this.$G);
        this.ES = new e9;
        this.ES.j = this.akF
    }
    ed.prototype = new cI;
    ed.prototype.a2D = function (Y) {
        if (P.Ap(this.ES.j))
            return;
        Y.stopPropagation();
        var S = this.j.getBoundingClientRect();
        this.LV.setAttribute("style", "width:" + S.width + "px;");
        var h = new _(P.E.P, !0);
        h.data = {
            X: P.U.pa,
            FN: this.ES,
            x: S.left,
            y: S.top + S.height
        };
        this.B(h)
    }
        ;
    function g_() {
        e9.call(this);
        this.j = P.w("span", "fitem strokebutton");
        this.YY = [[null, null, null, ""], [null, 0, null, "4 2"], [1, 1, null, "0 2"]];
        this.XY = JSON.parse(JSON.stringify(ai.Ig.default));
        this.b$ = P.w("button");
        this.j.appendChild(this.b$);
        this.b$.addEventListener("click", this.L0.bind(this), !1);
        var Y = P.w("canvas", "gsicon");
        this.b6 = Y.getContext("2d");
        this.b$.appendChild(Y);
        var S = P.w("span");
        S.textContent = " \u25BC";
        this.b$.appendChild(S);
        this.KM = new e9;
        this.KM.parent = this;
        this.KM.j = P.w("div", "floatcont form");
        var h = this.KM.j;
        h.setAttribute("style", "width: 14em;");
        this.aa = [new ey([12, 40], [[19, 5, 2], [19, 5, 1], [19, 5, 0]]), new ec([19, 9, 0], ["<img src=\"" + PIMG["caps/butt"] + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG["caps/round"] + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG["caps/square"] + "\" class=\"autoscale gsicon\" />"]), new ec([19, 9, 1], ["<img src=\"" + PIMG["joins/miter"] + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG["joins/round"] + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG["joins/bevel"] + "\" class=\"autoscale gsicon\" />"]), new eT([19, 9, 2])];
        for (var G = 0; G < this.aa.length; G++) {
            var q = this.aa[G];
            h.appendChild(q.j);
            var H = G < 4 ? P.E.L : "click";
            q.k(H, this.dZ, this)
        }
        P.f$(h);
        this.Bw = [];
        var I = this.abb.bind(this);
        for (var G = 0; G < this.YY.length; G++) {
            var E = P.w("button", "fitem");
            this.Bw.push(E);
            h.appendChild(E);
            E.addEventListener("click", I, !1);
            var Y = P.w("canvas", "gsicon")
                , d = Y.getContext("2d");
            E.appendChild(Y);
            this.mT(d, 40, 20, this.YY[G])
        }
    }
    g_.prototype = new e9;
    g_.prototype.L0 = function (Y) {
        var S = this.b$.getBoundingClientRect()
            , h = new _(P.E.P, !0);
        h.data = {
            X: P.U.pa,
            FN: this.KM,
            x: S.left,
            y: S.top + S.height + 4
        };
        this.B(h)
    }
        ;
    g_.prototype.dZ = function (Y) {
        var cs = this.aa
            , S = cs.indexOf(Y.target)
            , h = [];
        for (var G = 0; G < 4; G++)
            h.push(cs[G].u());
        this.XY = this.Zf(h);
        this.B(new _(P.E.L, !1))
    }
        ;
    g_.prototype.abb = function (Y) {
        var S = this.Bw.indexOf(Y.currentTarget);
        this.i(this.Zf(this.YY[S]));
        this.B(new _(P.E.L, !1))
    }
        ;
    g_.prototype.Zf = function (Y) {
        var S = JSON.parse(JSON.stringify(this.XY))
            , h = Y[0]
            , q = Y[1]
            , H = Y[2]
            , I = Y[3];
        if (h != null)
            S.strokeStyleLineAlignment.v.strokeStyleLineAlignment = ai.Ig.ZK[h];
        if (q != null)
            S.strokeStyleLineCapType.v.strokeStyleLineCapType = ai.Ig.Og[q];
        if (H != null)
            S.strokeStyleLineJoinType.v.strokeStyleLineJoinType = ai.Ig.join[H];
        var E = S.strokeStyleLineDashSet.v = [];
        I = I.split(" ");
        while ((I.length & 1) != 0)
            I.pop();
        for (var G = 0; G < I.length; G++)
            E.push({
                t: "UntF",
                v: {
                    type: "#Nne",
                    val: parseInt(I[G])
                }
            });
        return S
    }
        ;
    g_.prototype.f = function () {
        for (var G = 0; G < this.aa.length; G++)
            this.aa[G].f()
    }
        ;
    g_.prototype.i = function (Y) {
        this.XY = JSON.parse(JSON.stringify(Y));
        var S = ai.Ig.ZK.indexOf(Y.strokeStyleLineAlignment.v.strokeStyleLineAlignment)
            , h = ai.Ig.Og.indexOf(Y.strokeStyleLineCapType.v.strokeStyleLineCapType)
            , q = ai.Ig.join.indexOf(Y.strokeStyleLineJoinType.v.strokeStyleLineJoinType)
            , H = []
            , I = Y.strokeStyleLineDashSet.v;
        for (var E = 0; E < I.length; E++)
            H.push(I[E].v.val);
        var cs = this.aa;
        cs[0].i(S);
        cs[1].i(h);
        cs[2].i(q);
        cs[3].i(H.join(" "));
        var d = [];
        for (var G = 0; G < 4; G++)
            d.push(cs[G].u());
        this.mT(this.b6, 40, 16, d)
    }
        ;
    g_.prototype.u = function () {
        return JSON.parse(JSON.stringify(this.XY))
    }
        ;
    g_.prototype.mT = function (Y, S, h, q) {
        var H = q[0]
            , I = q[1]
            , E = q[2]
            , d = q[3].split(" ").map(parseFloat);
        P.ve(Y.canvas, S, h);
        var B = Math.min(5, this.XY.strokeStyleLineWidth.v.val);
        for (var G = 0; G < d.length; G++)
            d[G] *= B;
        Y.clearRect(0, 0, S, h);
        Y.setLineDash(d);
        Y.lineCap = ["butt", "round", "square"][I];
        Y.lineJoin = ["miter", "round", "bevel"][E];
        Y.lineWidth = B;
        Y.beginPath();
        Y.moveTo(0, h / 2);
        Y.lineTo(S * 2, h / 2);
        Y.stroke()
    }
        ;
    function g2(Y) {
        h4.call(this, Y, !1, "contourbutton", 34, 16, iD.Bt);
        this.L$ = new eT([12, 86], null, 16);
        this.L$.k("input", this.Fx, this);
        this.KM.j.appendChild(this.L$.j);
        this.cP = null;
        this.v1 = "";
        this.Tf = null;
        this.i(e$.g4())
    }
    g2.prototype = new h4;
    g2.prototype.f = function () {
        h4.prototype.f.call(this);
        this.L$.f()
    }
        ;
    g2.prototype.ug = function (Y) {
        this.i(this.cP[Y.target.u()]);
        this.B(new _(P.E.L))
    }
        ;
    g2.prototype.Fx = function (Y) {
        this.v1 = this.L$.u().toLowerCase();
        this.J8()
    }
        ;
    g2.Kz = !1;
    g2.prototype.Xr = function () {
        if (!this.vG)
            return;
        var Y = this.x1;
        if (Y == null || !g2.Kz) {
            var S = new _(P.E.P, !0);
            S.data = {
                X: P.U.Pv,
                go: {
                    url: "rsrc/basic/fa_basic.csh"
                }
            };
            this.B(S);
            g2.Kz = !0
        } else {
            var h = Math.floor(38 * P.M())
                , q = Math.floor(38 * P.M());
            this.Tf = [];
            for (var G = 0; G < Y.length; G++)
                this.Tf.push(g2.Qd(Y[G], h, q));
            this.J8();
            this.vG = !1
        }
    }
        ;
    g2.prototype.J8 = function () {
        var Y = Math.floor(38 * P.M())
            , S = Math.floor(38 * P.M());
        this.cP = [];
        var h = []
            , q = []
            , H = this.x1;
        for (var G = 0; G < H.length; G++) {
            if (H[G].jq.toLowerCase().indexOf(this.v1) == -1)
                continue;
            this.cP.push(H[G]);
            h.push(this.Tf[G]);
            q.push(H[G].jq)
        }
        this.BH.sc(h, q, Y, S)
    }
        ;
    g2.prototype.i = function (Y) {
        this.ll = g2.clone(Y);
        this.Zx()
    }
        ;
    g2.prototype.Zx = function () {
        var Y = Math.floor(23 * P.M())
            , S = Math.floor(23 * P.M())
            , h = g2.Qd(this.ll, Y, S);
        this.nr.setAttribute("src", h);
        P.fs(this.nr, Y, S)
    }
        ;
    g2.prototype.u = function () {
        return g2.clone(this.ll)
    }
        ;
    g2.clone = function (Y) {
        return {
            jq: Y.jq,
            Yg: Y.Yg,
            b: M.cJ.s7(Y.b),
            MK: Y.MK.clone()
        }
    }
        ;
    g2.yD = null;
    g2.Gh = null;
    g2.Qd = function (Y, S, h) {
        var q = M.cJ.s7(Y.b)
            , H = Y.MK
            , I = Math.min(S / H.d, h / H.v) * .9
            , E = new d5;
        E.translate(-.5, -.5);
        E.scale(.95, .95);
        E.translate(.5, .5);
        E.scale(I * H.d, I * H.v);
        t.Y.$M(q, E);
        var d = new M.cJ;
        d.b = q;
        var B = d.Qn();
        B.rect.x = Math.floor((S - B.rect.d) / 2);
        B.rect.y = Math.floor((h - B.rect.v) / 2);
        var n = t.m(B.rect.e() * 4);
        t.A5(n, 4278190080);
        t.fb(B.channel);
        t.Vj(B.channel, n, 0);
        t.Vj(B.channel, n, 1);
        t.Vj(B.channel, n, 2);
        var g = g2;
        if (g.yD == null)
            g.yD = P.w("canvas");
        var z = g.yD
            , p = z.getContext("2d");
        if (z.width != S || z.height != h || g.Gh == null) {
            z.width = S;
            z.height = h;
            g.Gh = p.createImageData(S, h)
        }
        var C = g.Gh;
        t.A5(C.data, 4294967295);
        t.rd(n, B.rect, C.data, new W(0, 0, S, h));
        p.putImageData(C, 0, 0);
        return z.toDataURL()
    }
        ;
    function h2(Y) {
        h4.call(this, Y, !1, "ICCButton", 16, 12, iD.HE, !0);
        this.BH.Gx(1)
    }
    h2.prototype = new h4;
    h2.prototype.rP = function () {
        var Y = "Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
        for (var G = 0; G < Y.length; G++)
            Y[G] = "luts/" + Y[G] + ".CUBE";
        return Y
    }
        ;
    h2.prototype.ug = function (Y) {
        this.i(this.x1[Y.target.u()]);
        this.B(new _(P.E.L))
    }
        ;
    h2.prototype.Xr = function () {
        if (!this.vG)
            return;
        var Y = Math.floor(1 * P.M())
            , S = Math.floor(1 * P.M())
            , h = []
            , q = []
            , H = this.x1;
        for (var G = 0; G < H.length; G++) {
            var I = H[G].Nm.v.split("\\").pop().split("/").pop();
            q.push(I);
            h.push(h2.PG(H[G], Y, S))
        }
        this.BH.sc(h, q, Y, S);
        this.vG = !1
    }
        ;
    h2.prototype.i = function (Y) {
        this.ll = JSON.parse(JSON.stringify(Y));
        this.Zx()
    }
        ;
    h2.PG = function (Y, S, h) {
        var q = P.w("canvas")
            , E = "ICC / 3DL / look / cube";
        q.width = S;
        q.height = h;
        var H = q.getContext("2d")
            , I = Math.floor(14 * P.M());
        H.font = I + "px sans-serif";
        if (Y.Nm)
            E = Y.Nm.v.split("\\").pop().split("/").pop();
        H.fillText(E, 10, I);
        return q.toDataURL()
    }
        ;
    h2.prototype.Zx = function () {
        var Y = Math.floor(120 * P.M())
            , S = Math.floor(20 * P.M());
        this.nr.setAttribute("src", h2.PG(this.ll, Y, S));
        P.fs(this.nr, Y, S)
    }
        ;
    h2.prototype.u = function () {
        return JSON.parse(JSON.stringify(this.ll))
    }
        ;
    function cL() {
        e9.call(this);
        this.s0 = null;
        this.j = P.w("span", "fitem");
        this.i8 = new e_([14, 9]);
        this.Cy = new ed(null, 0, 150, "pt", 1, !0, null, null, [19, 2, 5]);
        this.yV = new g_;
        this.g9 = [this.i8, this.Cy, this.yV];
        for (var G = 0; G < this.g9.length; G++) {
            var Y = this.g9[G];
            this.j.appendChild(Y.j);
            Y.parent = this;
            Y.k(P.E.L, this.dZ, this)
        }
    }
    cL.prototype = new e9;
    cL.prototype.f = function () {
        for (var G = 0; G < this.g9.length; G++)
            this.g9[G].f()
    }
        ;
    cL.prototype.rJ = function (Y, S) {
        this.i8.rJ(Y, S)
    }
        ;
    cL.prototype.dZ = function (Y) {
        var S = this.s0
            , h = this.i8.u()
            , q = h.zH;
        S.strokeEnabled.v = q != 0;
        if (q != 0) {
            S.strokeStyleContent.v = h.yW;
            h.yW.classID = ai.Ig.bj[q - 1]
        }
        S.strokeStyleLineWidth.v.val = this.Cy.u();
        if (Y.target == this.yV)
            S = this.yV.u();
        this.s0 = S;
        this.B(new _(P.E.L, !1))
    }
        ;
    cL.prototype.i = function (Y, S, h) {
        this.s0 = JSON.parse(JSON.stringify(S));
        var q = S.strokeEnabled.v
            , H = S.strokeStyleContent.v
            , I = q ? {
                zH: 1 + ai.Ig.bj.indexOf(H.classID),
                yW: H
            } : {
                    zH: 0
                };
        this.i8.i(Y, I, h);
        this.Cy.i(S.strokeStyleLineWidth.v.val);
        this.yV.i(S)
    }
        ;
    cL.prototype.u = function () {
        return JSON.parse(JSON.stringify(this.s0))
    }
        ;
    function bo(Y) {
        e9.call(this);
        this.j = P.w("span", "fitem");
        this.le = null;
        if (Y) {
            this.le = new aG("");
            this.j.appendChild(this.le.j)
        }
        this.oz = ["front", "union", "difference", "intersection"];
        var S = [[18, 0], [18, 1], [18, 2], [18, 3]];
        this._c = [];
        this._a = 0;
        for (var G = 0; G < this.oz.length; G++) {
            var h = new gP("<img src=\"" + PIMG["set/" + this.oz[G]] + "\" class=\"autoscale gsicon\" />", !1, S[G]);
            h.k("click", this.adg, this);
            this.j.appendChild(h.j);
            this._c.push(h)
        }
        this._c[0].Fc()
    }
    bo.prototype = new e9;
    bo.prototype.a60 = function () {
        return this._a
    }
        ;
    bo.prototype.u = function () {
        return this.oz[this._a]
    }
        ;
    bo.prototype.i = function (Y) {
        this._a = this.oz.indexOf(Y);
        for (var G = 0; G < this._c.length; G++)
            this._c[G].cQ();
        this._c[this._a].Fc()
    }
        ;
    bo.prototype.adg = function (Y) {
        this.i(this.oz[this._c.indexOf(Y.currentTarget)]);
        this.B(new _(P.E.L, !1))
    }
        ;
    bo.prototype.f = function () {
        if (this.le)
            this.le.i(gx.get([12, 36]) + ":");
        for (var G = 0; G < this._c.length; G++)
            this._c[G].f()
    }
        ;
    function eT(Y, S, h, q) {
        e9.call(this);
        var H = P.mU()
            , I = "";
        this.j = P.w("span", "fitem tinput");
        if (Y) {
            this.lT = Y;
            this.EJ = P.w("label", "flabel");
            this.j.appendChild(this.EJ);
            this.EJ.setAttribute("for", H);
            this.f()
        }
        if (q == null) {
            this.yl = P.w("input", "");
            this.yl.setAttribute("type", "text")
        } else
            this.yl = P.w("textarea", "scrollable");
        this.yl.setAttribute("id", H);
        if (h)
            I += "width:" + h + "em;";
        if (q) {
            this.yl.setAttribute("rows", q)
        }
        if (I != "")
            this.yl.setAttribute("style", I);
        this.j.appendChild(this.yl);
        if (S) {
            this.qf = P.w("span", "");
            this.qf.textContent = S;
            this.j.appendChild(this.qf)
        }
        this.yl.addEventListener("change", this.u3.bind(this), !1);
        this.yl.addEventListener("input", this.a3j.bind(this), !1)
    }
    eT.prototype = new e9;
    eT.prototype.f = function () {
        if (this.lT)
            this.EJ.textContent = gx.get(this.lT) + ":"
    }
        ;
    eT.prototype.D2 = function (Y) {
        this.EJ.textContent = Y
    }
        ;
    eT.prototype.i = function (Y) {
        this.yl.value = Y == null ? "" : Y
    }
        ;
    eT.prototype.u = function () {
        return this.yl.value
    }
        ;
    eT.prototype.rD = function () {
        this.yl.select();
        this.yl.focus()
    }
        ;
    eT.prototype.u3 = function (Y) {
        this.B(new _(P.E.L, !1))
    }
        ;
    eT.prototype.a3j = function (Y) {
        this.B(new _("input", !1))
    }
        ;
    function b7(Y, S, h, q, H, I, E) {
        cI.call(this, Y, S, h, q, H, !0, I, null, E);
        P.xv(this.j, "trangeinput");
        this.j.appendChild(this.EJ);
        this.j.appendChild(this.yl);
        var d = P.w("span", "rangecont");
        this.j.appendChild(d);
        d.appendChild(this.LV);
        this.LV.setAttribute("style", "width:97%;")
    }
    b7.prototype = new cI;
    function fB() {
        e9.call(this);
        this.q7 = [16, !0, !0];
        this.j = P.w("span", "");
        this.Y1 = [new ed([12, 24], 0, 255), new e0("Anti-alias"), new e0([12, 25])];
        for (var G = 0; G < 3; G++) {
            var Y = this.Y1[G];
            Y.parent = this;
            Y.i(this.q7[G]);
            this.j.appendChild(Y.j);
            Y.k(P.E.L, this.dZ, this)
        }
    }
    fB.prototype = new e9;
    fB.prototype.dZ = function () {
        for (var G = 0; G < 3; G++)
            this.q7[G] = this.Y1[G].u();
        this.B(new _(P.E.L, !1))
    }
        ;
    fB.prototype.i = function (Y) {
        this.q7 = Y.slice(0);
        for (var G = 0; G < 3; G++)
            this.Y1[G].i(Y[G])
    }
        ;
    fB.prototype.u = function () {
        return this.q7.slice(0)
    }
        ;
    fB.prototype.f = function () {
        for (var G = 0; G < 3; G++)
            this.Y1[G].f()
    }
        ;
    function db(Y, S) {
        e9.call(this);
        if (S == null)
            S = !1;
        this.Tf = [];
        this.a8b = 0;
        this.abO = 0;
        this.xJ = 0;
        this.jp = [];
        this.hc = [];
        for (var h in t.P8.type) {
            if (h == "warpCustom" && !S)
                continue;
            this.jp.push(h);
            this.hc.push(t.P8.type[h])
        }
        this.j = P.w("span", "fitem warpbutton");
        this.KM = new e9;
        this.KM.j = P.w("div", "floatcont");
        if (Y) {
            this.le = Y;
            this.EJ = P.w("label", "flabel");
            this.j.appendChild(this.EJ)
        }
        this.X = P.w("button");
        this.j.appendChild(this.X);
        this.X.addEventListener("click", this.L0.bind(this), !1);
        this.Sz = new eI(!0);
        this.KM.j.appendChild(this.Sz.j);
        this.Sz.k(P.E.L, this.a8Y, this);
        this.f()
    }
    db.prototype = new e9;
    db.prototype.D2 = function (Y) {
        this.EJ.textContent = Y
    }
        ;
    db.prototype.f = function () {
        if (this.le)
            this.EJ.innerHTML = gx.get(this.le) + ":";
        this.Tf = [];
        var Y = P.w("canvas", "")
            , S = Y.getContext("2d")
            , h = 0;
        S.font = Math.floor(13 * P.M()) + "px sans-serif";
        for (var G = 0; G < this.jp.length; G++) {
            h = Math.max(h, S.measureText(gx.get(t.P8.type[this.jp[G]])).width)
        }
        var q = this.a8b = Math.floor(50 * P.M() + h)
            , H = this.abO = Math.floor(23 * P.M());
        Y.width = q;
        Y.height = H;
        this.KM.j.setAttribute("style", "width:" + Math.floor(8 + q / P.M()) + "px;");
        S.font = Math.floor(13 * P.M()) + "px sans-serif";
        S.lineWidth = 1;
        S.strokeStyle = "#000000";
        var I = Math.floor(16 * P.M())
            , E = new W(0, 0, I, I);
        for (var G = 0; G < this.jp.length; G++) {
            var d = this.jp[G];
            S.clearRect(0, 0, Y.width, Y.height);
            var B = t.P8.P8(E, d, !0, .3, 0, 0)
                , n = t.a.yP(E);
            n.Z.push("M", "L", "M", "L");
            n.H.push(0, I / 2, I, I / 2);
            n.H.push(I / 2, 0, I / 2, I);
            n = t.a.xr(n);
            n = t.a.dH(n, I / 5);
            t.FL.apply(B, n.H, E);
            t.a.J(n.H, new d5(1, 0, 0, 1, Math.floor(8 * P.M()) + .5, Math.floor(3 * P.M()) + .5), n.H);
            S.beginPath();
            Typr.U.pathToContext({
                cmds: n.Z,
                crds: n.H
            }, S);
            S.stroke();
            S.fillText(gx.get(t.P8.type[d]), Math.floor(40 * P.M()), Math.floor(16 * P.M()));
            this.Tf.push(Y.toDataURL())
        }
        this.Sz.sc(this.Tf, null, q, H);
        this.Zx()
    }
        ;
    db.prototype.L0 = function (Y) {
        var S = this.X.getBoundingClientRect()
            , h = new _(P.E.P, !0);
        h.data = {
            X: P.U.pa,
            FN: this.KM,
            x: S.left,
            y: S.top + S.height + 4
        };
        this.B(h)
    }
        ;
    db.prototype.a8Y = function (Y) {
        var S = new _(P.E.P, !0);
        S.data = {
            X: P.U.g1,
            FN: this.KM
        };
        this.B(S);
        this.xJ = Y.target.u();
        this.Zx();
        this.B(new _(P.E.L))
    }
        ;
    db.prototype.Zx = function () {
        this.Sz.ca(this.xJ);
        this.X.innerHTML = "<img src=\"" + this.Tf[this.xJ] + "\" class=\"gsicon\" />";
        var Y = this.a8b
            , S = this.abO;
        P.fs(this.X.firstChild, Y, S)
    }
        ;
    db.prototype.u = function () {
        return this.jp[this.xJ]
    }
        ;
    db.prototype.i = function (Y) {
        this.xJ = this.jp.indexOf(Y);
        this.Zx()
    }
        ;
    function dg(Y, S, h) {
        e9.call(this);
        if (Y == null)
            Y = !1;
        if (S == null)
            S = !1;
        if (h == null)
            h = !1;
        this.acs = S;
        this.P8 = null;
        this.yy = new db([12, 22], h);
        this.yy.parent = this;
        this.yy.k(P.E.L, this.Mu, this);
        this.kq = new ey([22, 0], [[22, 4, 0], [22, 4, 1]]);
        this.kq.k(P.E.L, this.Mu, this);
        var q = Y ? ed : b7;
        this.gT = new q([22, 1], -100, 100, "%");
        this.oe = new q("Horizontal Distortion:", -100, 100, "%");
        this.DP = new q("Vertical Distortion:", -100, 100, "%");
        this.gT.parent = this.oe.parent = this.DP.parent = this;
        this.gT.k(P.E.L, this.Mu, this);
        this.oe.k(P.E.L, this.Mu, this);
        this.DP.k(P.E.L, this.Mu, this)
    }
    dg.prototype = new e9;
    dg.prototype.f = function () {
        this.yy.f();
        this.kq.f();
        this.gT.f();
        var Y = this.acs ? 1 : 100;
        this.oe.D2(gx.get([22, 2]).substring(0, Y) + ":");
        this.DP.D2(gx.get([22, 3]).substring(0, Y) + ":")
    }
        ;
    dg.prototype.Mu = function () {
        var Y = this.P8
            , S = this.yy.u()
            , h = Y.warpStyle.v.warpStyle;
        if (S == "warpCustom")
            t.P8.iB(t.P8.eT(Y), Y);
        else
            delete Y.customEnvelopeWarp;
        Y.warpStyle.v.warpStyle = this.yy.u();
        Y.warpRotate.v.Ornt = ["Hrzn", "Vrtc"][this.kq.u()];
        Y.warpValue.v = this.gT.u();
        Y.warpPerspective.v = this.oe.u();
        Y.warpPerspectiveOther.v = this.DP.u();
        if (S == "warpNone" || S == "warpCustom") {
            Y.warpValue.v = 0;
            Y.warpPerspective.v = 0;
            Y.warpPerspectiveOther.v = 0
        } else if (h == "warpNone" || h == "warpCustom")
            Y.warpValue.v = 50;
        this.B(new _(P.E.L, !1));
        this.i(Y)
    }
        ;
    dg.prototype.u = function (Y) {
        return JSON.parse(JSON.stringify(this.P8))
    }
        ;
    dg.prototype.i = function (Y) {
        this.P8 = JSON.parse(JSON.stringify(Y));
        this.yy.i(Y.warpStyle.v.warpStyle);
        this.kq.i(Y.warpRotate.v.Ornt == "Hrzn" ? 0 : 1);
        this.gT.i(Y.warpValue.v);
        this.oe.i(Y.warpPerspective.v);
        this.DP.i(Y.warpPerspectiveOther.v);
        var S = Y.warpStyle.v.warpStyle
            , h = S == "warpNone" || S == "warpCustom"
            , q = [this.kq, this.gT, this.oe, this.DP];
        for (var G = 0; G < q.length; G++)
            if (h)
                q[G].f4();
            else
                q[G].tW()
    }
        ;
    function eS(Y) {
        e9.call(this);
        this.j = P.w("div");
        this.pI = Y;
        this.Uk = null;
        this.kW = new aV(0, 0);
        this.yx = "position:relative;overflow:hidden;";
        this.A9 = null;
        this.WH = new P.IN(this.j);
        this.IA("grab");
        this.Eh = P.w("canvas", "canv");
        this.j.appendChild(this.Eh);
        this.b6 = this.Eh.getContext("2d");
        this.a7t = null;
        this.zG = null;
        this.Qw = null;
        this.Ck = 0;
        this.Mf = 0;
        this.r9 = 0;
        this.ad_ = this.S7.bind(this);
        this.a2V = null;
        this.z = new gw({
            d: 1,
            v: 1
        });
        this.Jr = null;
        this.de = null;
        this.adW = this.Kf.bind(this);
        this.a8A = this.fn.bind(this);
        this.ahM = this.wR.bind(this);
        this.ajv = this.Sh.bind(this);
        this.amn = 0;
        this.VM = null;
        this.uC(this.Eh);
        this.fL(this)
    }
    eS.prototype = new e9;
    eS.prototype.jL = function (Y) {
        var S = this.A9
            , h = null;
        if (Y.q(F.N9)) {
            h = "grab";
            if (Y.q(F.EO)) {
                h = "zoom-in";
                if (Y.q(F.Gs))
                    h = "zoom-out"
            }
        }
        this.Uk = h;
        if (h)
            S = h;
        this.WH.kg(S, this.yx);
        if (Y.q(F.EO)) {
            var q = 0;
            if (Y.q(F.lR))
                q = 1;
            if (Y.q(F.yJ))
                q = -1;
            if (q != 0) {
                this.hA(new aV(this.Eh.width / 2, this.Eh.height / 2), q == 1)
            }
        }
    }
        ;
    eS.prototype.IA = function (Y) {
        this.A9 = Y;
        if (this.Uk)
            return;
        this.WH.kg(Y, this.yx)
    }
        ;
    eS.prototype.uC = function (Y) {
        P.aK(Y, this.adW);
        P.qT(Y);
        Y.addEventListener("wheel", this.ajv, !1)
    }
        ;
    eS.prototype.fL = function (Y) {
        Y.k("viewchange", this.a5J, this)
    }
        ;
    eS.prototype.a5J = function (Y) {
        var S = this.z.S
            , h = Y.currentTarget.SB();
        this.z.S = h.S;
        this.z.T = h.T.clone();
        if (S != h.S)
            this.Ih();
        this.mP()
    }
        ;
    eS.prototype.SB = function () {
        return {
            S: this.z.S,
            T: this.z.T
        }
    }
        ;
    eS.prototype.i = function (Y, S) {
        var h = Y[0].jJ;
        if (this.zG != null && this.zG[0].jJ.ma(h)) { } else {
            this.z.n3 = {
                d: h.d,
                v: h.v
            };
            this.z.T = new aV(0, 0);
            this.z.S = 1
        }
        this.zG = Y;
        this.Ih();
        this.e4();
        this.Ck = 0;
        this.Mf = 0;
        this.r9 = S == null ? 0 : S;
        this.S7()
    }
        ;
    eS.prototype.Sh = function (Y) {
        Y.preventDefault();
        if (Y.deltaY == 0 || Date.now() - this.amn < 100)
            return;
        var S = P.WW(Y);
        S.x = P.M() * S.x;
        S.y = P.M() * S.y;
        this.amn = Date.now();
        this.hA(S, Y.deltaY < 0)
    }
        ;
    eS.prototype.hA = function (Y, S) {
        U.Ka.Bs(this.z, Y, S);
        this.k0()
    }
        ;
    eS.prototype.a3a = function () {
        var Y = this.z
            , S = Y.n3;
        this.z.S = U.Ka.Gg(S.d, S.v, Y.Eq.d, Y.Eq.v);
        this.k0()
    }
        ;
    eS.prototype.k0 = function () {
        this.Ih();
        this.B(new _("viewchange"));
        this.B(new _("zoom"))
    }
        ;
    eS.prototype.Ih = function () {
        this.Qw = [];
        var Y = this.z.S;
        for (var G = 0; G < this.zG.length; G++) {
            var S = this.zG[G], h = new Uint8Array(S.data), q;
            if (Y >= 1)
                q = {
                    nP: h,
                    rect: S.jJ
                };
            else
                q = t.a3Y(h, S.jJ, Y);
            this.Qw.push(q)
        }
    }
        ;
    eS.prototype.e4 = function () {
        clearTimeout(this.a2V)
    }
        ;
    eS.prototype.mP = function () {
        if (this.zG == null || !P.Ap(this.Eh))
            return;
        var Y = this.a7t, S = this.Eh.width, h = this.Eh.height, T, A;
        if (Y == null || Y.width != S || Y.height != h) {
            Y = this.a7t = this.b6.createImageData(S, h);
            console.log("creating image data")
        }
        var q = this.zG[this.Ck]
            , H = this.Qw[this.Ck]
            , I = this.z
            , E = I.n3
            , d = I.Eq
            , B = d.d
            , n = d.v
            , g = E.d * I.S
            , z = E.v * I.S
            , p = Math.round((B - g) / 2 + I.T.x)
            , C = Math.round((n - z) / 2 + I.T.y);
        if (I.S <= 1) {
            A = H.rect.clone();
            A.x = p;
            A.y = C;
            g = A.d;
            z = A.v;
            T = H.nP
        } else {
            var i = 1 / I.S
                , e = new W(Math.floor((d.x - p) * i), Math.floor((d.y - C) * i), Math.ceil(d.d * i) + 1, Math.ceil(d.v * i) + 1)
                , a = new W(0, 0, e.d * I.S, e.v * I.S);
            a.x = e.x * I.S + p;
            a.y = e.y * I.S + C;
            if (I.pq == null || I.pq.length != e.e() * 4) {
                I.pq = t.m(e.e() * 4)
            }
            if (I.dK == null || I.dK.length != a.e() * 4) {
                I.dK = t.m(a.e() * 4)
            }
            t.A5(I.pq, 0);
            t.rd(H.nP, H.rect, I.pq, e);
            t.scale.GY(I.pq, e.d, e.v, I.dK, a.d, a.v, I.S);
            T = I.dK;
            A = a
        }
        var Z = new Uint8Array(Y.data.buffer);
        t.M0(Z, B, n, 8, -p, -C);
        t.Q.Bc("norm", T, A, Z, d, d, 1);
        this.b6.setTransform(1, 0, 0, 1, 0, 0);
        this.b6.putImageData(Y, 0, 0);
        this.b6.clearRect(p - 1e3, C, 1e3, z);
        this.b6.clearRect(p + g, C, 1e3, z);
        this.b6.clearRect(p - 1e3, C - 1e3, g + 2e3, 1e3);
        this.b6.clearRect(p - 1e3, C + z, g + 2e3, 1e3);
        var O = eS.uI(I.S, "#ffffff");
        this.b6.putImageData(O, 0, I.Eq.v - O.height)
    }
        ;
    eS.ye = {};
    eS.uI = function (Y, S) {
        var h = "z" + Y + "," + S
            , q = eS.ye[h];
        if (q)
            return q;
        var H = Math.round(50 * P.M())
            , I = Math.round(18 * P.M())
            , E = P.w("canvas")
            , d = E.getContext("2d");
        E.width = H;
        E.height = I;
        d.fillStyle = "rgba(1,1,1,1)";
        d.fillRect(0, 0, H, I);
        d.font = Math.round(11 * P.M()) + "px monospace";
        d.fillStyle = S;
        var B = Y * 100;
        if (B < 100)
            B = B.toFixed(2);
        else
            B = Math.round(B);
        B = B + "%";
        var n = d.measureText(B).width;
        d.fillText(B, (H - n) / 2, Math.round(I * .7));
        q = eS.ye[h] = d.getImageData(0, 0, H, I);
        return q
    }
        ;
    eS.prototype.S7 = function () {
        var Y = this.zG
            , S = Y.length
            , h = this.Ck
            , q = this.zG[h]
            , H = (h + 1) % S;
        this.mP();
        if (S != 1 && Y[H].jJ.ma(q.jJ)) {
            var I = q.Sd ? parseInt(q.Sd.split(",").pop()) : 30;
            if (I == 0)
                I = 16;
            if (H == 0)
                this.Mf++;
            if (this.r9 == 0 || this.Mf < this.r9)
                this.a2V = setTimeout(this.ad_, I)
        }
        this.Ck = H
    }
        ;
    eS.prototype.hD = function (Y, S) {
        if (Y <= 0 || S <= 0)
            return;
        var h = Math.floor(Y * P.M())
            , q = Math.floor(S * P.M());
        this.z.Eq = new W(0, 0, h, q);
        this.Eh.width = h;
        this.Eh.height = q;
        this.Eh.setAttribute("style", "width:" + h / P.M() + "px; height:" + q / P.M() + "px; display:block;");
        this.mP()
    }
        ;
    eS.prototype.Kf = function (Y) {
        this.VM = Y.target;
        P.y2(window, this.a8A);
        P.cM(window, this.ahM);
        this.Jr = P.WW(Y, this.Eh);
        this.Jr.x *= P.M();
        this.Jr.y *= P.M();
        this.kW = this.Jr;
        this.de = this.z.T.clone();
        if (this.pI && this.VM == this.Eh && !this.Uk)
            this.B(new _("mousedown"))
    }
        ;
    eS.prototype.fn = function (Y) {
        var S = this.z
            , h = this.Uk
            , q = this.zG[this.Ck].jJ.clone();
        q.d *= S.S;
        q.v *= S.S;
        var H = P.WW(Y, this.Eh);
        H.x *= P.M();
        H.y *= P.M();
        this.kW = H;
        if (this.pI && this.VM == this.Eh && !h)
            this.B(new _("mousemove"));
        else if ((h == "grab" || h == null) && !S.Eq.HS(q)) {
            var I = H.x - this.Jr.x
                , E = H.y - this.Jr.y;
            S.T.x = this.de.x + Math.round(I);
            S.T.y = this.de.y + Math.round(E);
            this.B(new _("viewchange"))
        }
    }
        ;
    eS.prototype.wR = function (Y) {
        P.r$(window, this.a8A);
        P.pp(window, this.ahM);
        var S = this.Uk;
        if (Y.detail > 1) {
            this.z.S = 1;
            this.z.T.bm(0, 0);
            this.mP()
        }
        if (this.pI && this.VM == this.Eh && !this.Uk)
            this.B(new _("mouseup"));
        else {
            if (S == "zoom-in" || S == "zoom-out")
                this.hA(this.kW, S == "zoom-in")
        }
    }
        ;
    eS.prototype.ib = function () {
        return this.z.vl(this.kW.x, this.kW.y)
    }
        ;
    function am() {
        e9.call(this);
        this.Xn = null;
        this.Qs = null;
        this.D3 = null;
        this.Zs = null;
        this.ami = "";
        this.ZW = [];
        this.oM = 0;
        this.FS = [];
        this.qz = 0;
        this.it = null;
        var Y = this.j = P.w("div", "")
            , S = this.agR = P.w("div", "form");
        S.setAttribute("style", "line-height:0; margin-bottom:0.5em;");
        Y.appendChild(S);
        var h = this.le = P.w("span");
        S.appendChild(h);
        h.setAttribute("style", "font-size:1.2em; font-weight:bold; margin-right:3em;");
        var q = this.a1m = new e0([25, 2, 0]);
        q.i(!0);
        S.appendChild(q.j);
        q.k(P.E.L, this.Om, this);
        var H = this.JX = new e0([25, 2, 1]);
        H.i(!0);
        S.appendChild(H.j);
        H.k(P.E.L, this.Om, this);
        var I = new aG(" ");
        S.appendChild(I.j);
        var E = this.ju = new eT([25, 1, 1]);
        S.appendChild(E.j);
        E.k(P.E.L, this.Om, this);
        this.PR = new gl(14);
        this.PR.a8i(3);
        S.appendChild(this.PR.j);
        this.PR.parent = this;
        this.PR.k(P.E.L, this.alS, this);
        var d = this.afV = new gP([25, 1, 2], null, null, !0);
        S.appendChild(d.j);
        d.k("click", this.LE, this);
        this.a5e = this.a3T.bind(this);
        this.y5 = P.w("div", "svggallery scrollable");
        Y.appendChild(this.y5);
        this.y5.addEventListener("scroll", this.a4t.bind(this))
    }
    am.prototype = new e9;
    am.prototype.rJ = function (Y) {
        this.a07 = Y
    }
        ;
    am.prototype.f = function () {
        this.le.textContent = gx.get([25, 0]);
        this.PR.f();
        this.a1m.f();
        this.JX.f();
        this.ju.f();
        this.afV.f()
    }
        ;
    am.prototype.hD = function (Y, S) {
        S -= 26;
        this.Xn = new aV(Y, S);
        this.agR.setAttribute("style", "width:" + Y + "px");
        this.y5.setAttribute("style", "width:" + Y + "px; height:" + S + "px");
        if (P.Ap(this.j))
            this.Om()
    }
        ;
    am.prototype.i = function (Y) {
        this.Qs = Y;
        this.Om()
    }
        ;
    am.prototype.a4t = function (Y) {
        var S = this.y5;
        if (S.scrollTop + S.clientHeight + 10 >= S.scrollHeight) {
            this.Om(!0)
        }
    }
        ;
    am.prototype.alS = function (Y) {
        this.D3 = null;
        this.Om()
    }
        ;
    am.prototype.a3T = function (Y) {
        if (Date.now() - this.qz < 2e3)
            return;
        this.qz = Date.now();
        this.oM = this.FS.indexOf(Y.currentTarget);
        var S = this.Lm(this.Qs.x, this.Qs.y);
        if (S[1]) {
            var h = S[1].largeImageURL
                , q = new XMLHttpRequest;
            q.responseType = "arraybuffer";
            q.open("GET", h, !0);
            q.onload = this.a7Q.bind(this);
            q.send();
            return
        }
        this.qh(S)
    }
        ;
    am.prototype.a7Q = function (Y) {
        var S = Y.target.response
            , h = eD.hj(S)
            , q = eD.Oh(h)
            , H = q.C3(S)
            , I = this.Lm(this.Qs.x, this.Qs.y, [S, H[0].jJ.d, H[0].jJ.v]);
        this.qh(I)
    }
        ;
    am.prototype.qh = function (Y) {
        var S = Y[0]
            , h = eD.hj(S)
            , q = eD.Oh(h)
            , H = new dh("template.psd");
        q.C3(S, H);
        var I = new _("tempready", !0);
        I.data = {
            n3: H
        };
        this.B(I)
    }
        ;
    am.prototype.LE = function (Y) {
        var S = Y.target;
        this.ZW = [];
        this.Om()
    }
        ;
    am.prototype.aew = function (Y) {
        var S = JSON.parse(Y.target.response);
        this.Zs = S.hits;
        this.Om()
    }
        ;
    am.prototype.Om = function (Y) {
        if (this.Qs == null || this.Xn == null || this.a07 == null)
            return;
        if (this.Xn.x <= 0)
            return;
        var S = this.Qs.x
            , h = this.Qs.y;
        if (Math.min(S, h) < 50)
            return;
        if (Y != !0) {
            this.FS = [];
            P.v3(this.y5);
            this.y5.scrollTop = 0
        }
        if (this.FS.length > 300)
            return;
        var q = Math.min(1, 300 / Math.max(S, h))
            , H = this.Xn.clone();
        H.x -= 20;
        var I = Math.max(1, Math.floor(H.x / (S * q)))
            , E = Math.max(1, Math.ceil(H.y / (h * q)));
        q = H.x / I / S;
        var d = I * E;
        if (this.D3 == null) {
            var B = this.a07.Z7.Z$();
            this.D3 = [];
            for (var n in B) {
                var g = B[n]
                    , z = g[3];
                if (!this.PR.Vq(g))
                    continue;
                if (g[5] == null || g[5].slice(0, 2) == "gf")
                    continue;
                this.D3.push(g)
            }
            if (this.D3.length == 0)
                this.D3.push(B.DejaVuSans)
        }
        var p = this.JX.u()
            , C = this.ju.u().trim();
        this.ju.Rz(p);
        if (p && (this.Zs == null || C != this.ami)) {
            var T = new XMLHttpRequest
                , A = "https://pixabay.com/api/?image_type=photo" + (C == "" ? "" : "&q=" + encodeURIComponent(C)) + "&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88";
            if (C == "")
                A += "&safesearch=true";
            if (C == "")
                A = "plugins/gallery.json";
            T.open("GET", A, !0);
            T.onload = this.aew.bind(this);
            T.onerror = function (c) {
                console.log(c.target.response)
            }
                ;
            T.send();
            this.ami = C;
            return
        }
        q *= (S * q - 5) / (S * q);
        var i = this.FS.length;
        for (var G = 0; G < d; G++) {
            var e = this.oM = i + G;
            if (this.ZW[e] == null)
                this.ZW[e] = Math.floor(Math.random() * 4294967295);
            var a = this.Lm(Math.round(S * q), Math.round(h * q))
                , Z = a[0];
            Z = k.Dt(new Uint8Array(Z));
            var O = P.w("span");
            O.innerHTML = Z;
            this.FS.push(O);
            this.y5.appendChild(O);
            O.addEventListener("click", this.a5e, !1)
        }
    }
        ;
    am.prototype.Lm = function (Y, S, h) {
        var q = this.JX.u()
            , H = this.a1m.u()
            , I = q && this.Zs.length != 0 ? this.Zs : null;
        if (H && !q)
            I = null;
        if (H && q && (this.oM & 1) == 0)
            I = null;
        return g9.jZ(Y, S, this.ZW[this.oM], this.D3, h ? h : I)
    }
        ;
    function cJ() {
        e9.call(this);
        this.j = P.w("div");
        this.C0 = null;
        this.a8l = null;
        this.cN = -1;
        this.RS = {
            JPG: [{
                uE: new b7([12, 52, 0], 0, 100, "%", null, null, !0),
                GL: 70
            }, {
                uE: new e0("attach metadata"),
                GL: !1
            }],
            TIFF: [{
                uE: new e0("attach metadata"),
                GL: !1
            }],
            WEBP: [{
                uE: new b7([12, 52, 0], 0, 100, "%", null, null, !0),
                GL: 70
            }],
            GIF: [{
                uE: new b7([12, 52, 0], 0, 100, "%", null, null, !0),
                GL: 100
            }],
            PNG: [{
                uE: new b7([12, 52, 0], 0, 100, "%", null, null, !0),
                GL: 100
            }, {
                uE: new e0("don't use palettes"),
                GL: !1
            }],
            PDF: [{
                uE: new eT([12, 52, 1]),
                GL: ""
            }, {
                uE: new b7([12, 52, 0], 0, 100, "%", null, null, !0),
                GL: 100
            }, {
                uE: new e0("rasterize all"),
                GL: !1
            }, {
                uE: new e0("rasterize text"),
                GL: !1
            }, {
                uE: new e0("vectorize text"),
                GL: !1
            }],
            EMF: [{
                uE: new eT([12, 52, 1]),
                GL: ""
            }, {
                uE: new e0("rasterize all"),
                GL: !1
            }, {
                uE: new e0("rasterize text"),
                GL: !1
            }, {
                uE: new e0("vectorize text"),
                GL: !1
            }],
            SVG: [{
                uE: new e0("add raster graphics"),
                GL: !0
            }, {
                uE: new e0("add hidden layers"),
                GL: !1
            }, {
                uE: new e0("vectorize text"),
                GL: !1
            }, {
                uE: new e0("rasterize text"),
                GL: !1
            }, {
                uE: new e0("add layer names"),
                GL: !0
            }, {
                uE: new e0("pretty-print"),
                GL: !0
            }],
            RAW: [{
                uE: new ec([12, 72], ["1", "3", "4"]),
                GL: 2
            }, {
                uE: new ec([12, 34], ["8 Bits", "16 Bits"]),
                GL: 0
            }, {
                uE: new ec("Byte Order", ["12-34", "34-12"]),
                GL: 0
            }],
            anim: [{
                uE: new b7("Speed", 10, 800, "%", null, !0, !0),
                GL: 100
            }, {
                uE: new ed("Repeat (0 = Forever)", 0, 10, " \xD7", 0, !1, !0),
                GL: 0
            }, {
                uE: new e0("reverse frames"),
                GL: !1
            }, {
                uE: new e0("boomerang"),
                GL: !1
            }],
            slcs: [{
                uE: new e0("As Slices"),
                GL: !0
            }]
        };
        for (var Y in this.RS) {
            var S = this.RS[Y];
            for (var G = 0; G < S.length; G++) {
                S[G].uE.i(S[G].GL);
                S[G].uE.k(P.E.L, this.sy, this)
            }
        }
    }
    cJ.prototype = new e9;
    cJ.prototype.a4m = function () {
        this.cN = -1
    }
        ;
    cJ.prototype.f = function () {
        for (var Y in this.RS)
            for (var G = 0; G < this.RS[Y].length; G++)
                this.RS[Y][G].uE.f()
    }
        ;
    cJ.prototype.sy = function () {
        this.Om();
        this.B(new _(P.E.L, !1))
    }
        ;
    cJ.prototype.Om = function () {
        var Y = this.C0
            , S = Y[0]
            , h = Y[1]
            , q = Y[2]
            , H = Y[3]
            , I = this.RS[S];
        if (I == null)
            I = [];
        else
            I = I.slice(0);
        if (h)
            I = I.concat(this.RS.anim);
        if (["GIF", "PNG", "JPG"].indexOf(S) != -1 && q)
            I = I.concat(this.RS.slcs);
        if (S + " " + h + " " + H != this.cN) {
            this.cN = S + " " + h + " " + H;
            P.v3(this.j);
            for (var G = 0; G < I.length; G++) {
                if (S == "PDF" && H && G == 0)
                    continue;
                this.j.appendChild(I[G].uE.j);
                P.f$(this.j)
            }
        }
        var E = this.a8l = [];
        for (var G = 0; G < I.length; G++)
            E.push(I[G].uE.u())
    }
        ;
    cJ.prototype.j3 = function (Y, S, h, q) {
        this.C0 = [Y, S, h, q];
        this.Om()
    }
        ;
    cJ.prototype.u = function () {
        return this.a8l.slice(0)
    }
        ;
    function ir() {
        e9.call(this);
        this.j = P.w("span", "fitem");
        this.gu = !1;
        this.gP = new gP("No", !1, "Cancel");
        this.BV = new gP("Yes", !1, "Confirm");
        this.j.appendChild(this.gP.j);
        this.j.appendChild(this.BV.j);
        this.gP.k("click", this.Bl, this);
        this.BV.k("click", this.Bl, this);
        this.f()
    }
    ir.prototype = new e9;
    ir.prototype.f = function () {
        this.gP.D2(P.NM("cross", null, "autoscale"));
        this.BV.D2(P.NM("checkmark", null, "autoscale"))
    }
        ;
    ir.prototype.Bl = function (Y) {
        this.gu = Y.target == this.BV;
        this.B(new UIEvent("click"))
    }
        ;
    ir.prototype.u = function () {
        return this.gu
    }
        ;
    function L(Y) {
        e9.call(this);
        this.mw = Y;
        this.j = P.w("div", "");
        this.uS = [];
        this.ab7 = []
    }
    L.prototype = new e9;
    L.prototype.NX = function (Y) { }
        ;
    L.prototype.wz = function () {
        return !1
    }
        ;
    L.prototype.hD = function (Y, S) { }
        ;
    L.prototype.rJ = function (Y, S) { }
        ;
    L.prototype.Ax = function (Y) { }
        ;
    L.prototype.i = function (Y, S, h, q, H, I) {
        var E = []
            , d = this.uS
            , B = 0
            , n = io.gs["s" + this.mw];
        n ? n(Y, E, I) : this.oB(Y, E, I);
        for (var G = 0; G < d.length; G++)
            if (!(d[G] instanceof aG))
                d[G].i(E[B++])
    }
        ;
    L.prototype.u = function () {
        var Y = io.g4(this.mw)
            , S = []
            , h = this.uS
            , q = 0;
        for (var G = 0; G < h.length; G++)
            if (!(h[G] instanceof aG))
                S[q++] = h[G].u();
        var H = io.gs["g" + this.mw];
        H ? H(Y, S) : this.$z(Y, S);
        return Y
    }
        ;
    L.prototype.jL = function (Y) { }
        ;
    L.prototype.Mu = function (Y) {
        var S = this.ab7;
        for (var G = 0; G < S.length; G += 2) {
            var h = this.uS[S[G]]
                , q = this.uS[S[G + 1]]
                , H = h.u()
                , I = q.u();
            if (Y.target == h)
                q.i(Math.max(H, I));
            else
                h.i(Math.min(H, I))
        }
        this.B(new _(P.E.L))
    }
        ;
    L.prototype.f = function () {
        for (var G = 0; G < this.uS.length; G++)
            this.uS[G].f()
    }
        ;
    L.prototype.Hk = function (Y) {
        P.xv(this.j, "form");
        var S = this.uS;
        for (var G = 0; G < S.length; G++) {
            var h = S[G];
            h.parent = this;
            h.k(P.E.L, this.Mu, this);
            this.j.appendChild(h.j);
            if (h instanceof e0 && S[G + 1] instanceof ca)
                continue;
            if (Y && Y.indexOf(G) != -1)
                P.p3(this.j);
            else
                P.f$(this.j)
        }
    }
        ;
    L.prototype.iu = function () {
        return !1
    }
        ;
    L.prototype.FF = function (Y, S, h, q, H) { }
        ;
    L.prototype.vr = function (Y, S, h, q, H) { }
        ;
    L.prototype.mi = function (Y, S, h, q, H) { }
        ;
    L.prototype.$z = function (Y, S) { }
        ;
    L.prototype.oB = function (Y, S) { }
        ;
    L.Bokh = function () {
        L.call(this, "Bokh");
        this.uS = [new ey("Depth Map", ["A", "b"]), new b7("Focal Distance", 0, 255), new ey([12, 76, 1], "Triangle (3),Square (4),Pentagon (5),Hexagon (6),Heptagon (7),Octagon (8)".split(",")), new b7([12, 56], 0, 100), new b7([12, 15], 0, 360), new b7([12, 2], 0, 100), new b7([4, 13], 0, 255), new b7([24, 6], 0, 100), new ec([12, 58], [[12, 59, 0], [12, 59, 1]]), new e0([12, 60])];
        this.Hk([4, 6])
    }
        ;
    L.Bokh.prototype = new L;
    L.Bokh.prototype.oB = function (Y, S, h) {
        var q = [[22, 5, 0], [6, 5, 3], [6, 2]]
            , H = Y.BkDi.v.BtDi
            , I = Y.BkDc
            , E = 0;
        if (H == "BeIn")
            E = 0;
        else if (H == "BeIt" && I.v.BtDc == "BeCt")
            E = 1;
        else if (H == "BeIt" && I.v.BtDc == "BeCm")
            E = 2;
        else
            E = 3 + I.v;
        for (var G = 0; G < h[1].length; G++)
            q.push(h[1][G].name);
        this.uS[0].Hm(q, [3]);
        S[0] = E;
        S[1] = Y.BkDp.v;
        S[2] = parseInt(Y.BkIs.v.BtIs.slice(3)) - 3;
        S[3] = Y.BkIb.v;
        S[4] = Y.BkIr.v;
        S[5] = Y.BkSb.v;
        S[6] = Y.BkSt.v;
        S[7] = Y.BkNa.v;
        S[8] = Y.BkNt.v.BtNt == "BeNu" ? 0 : 1;
        S[9] = Y.BkNm.v
    }
        ;
    L.Bokh.prototype.$z = function (Y, S) {
        var h;
        if (S[0] == 0) {
            h = "BeIn";
            delete Y.BkDc
        } else if (S[0] < 3) {
            h = "BeIt";
            Y.BkDc = {
                t: "enum",
                v: {
                    BtDc: ["BeCt", "BeCm"][S[0] - 1]
                }
            }
        } else {
            h = "BeIa";
            Y.BkDc = {
                t: "long",
                v: S[0] - 3
            }
        }
        Y.BkDi.v.BtDi = h;
        Y.BkDp.v = S[1];
        Y.BkIs.v.BtIs = "BeS" + (3 + S[2]);
        Y.BkIb.v = S[3];
        Y.BkIr.v = S[4];
        Y.BkSb.v = S[5];
        Y.BkSt.v = S[6];
        Y.BkNa.v = S[7];
        Y.BkNt.v.BtNt = ["BeNu", "BeNg"][S[8]];
        Y.BkNm.v = S[9]
    }
        ;
    L.oilPaint = function () {
        L.call(this, "oilPaint");
        this.uS = [new b7([12, 56], .1, 10, "px", !0), new b7("Cleanliness", 0, 10, "px", !0), new b7([12, 38], .1, 10, null, !0), new b7("Bristle Detail", 0, 10, null, !0), new e0("Lighting"), new b7("Shine", 0, 10, null, !0), new cB([12, 15])];
        this.Hk()
    }
        ;
    L.oilPaint.prototype = new L;
    L.oilPaint.prototype.oB = function (Y, S) {
        var h = "stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
        for (var G = 0; G < h.length; G++)
            S[G] = Y[h[G]].v;
        S[6] = Y.LghD.v
    }
        ;
    L.oilPaint.prototype.$z = function (Y, S) {
        var h = "stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
        for (var G = 0; G < h.length; G++)
            Y[h[G]].v = S[G];
        Y.LghD.v = S[6].Lk
    }
        ;
    L.TrcC = function () {
        L.call(this, "TrcC");
        this.uS = [new b7("Level", 0, 255), new ec([12, 69], [[19, 4, 1], [19, 4, 0]])];
        this.Hk()
    }
        ;
    L.TrcC.prototype = new L;
    L.TrcC.prototype.oB = function (Y, S) {
        S[0] = Y.Lvl.v;
        S[1] = ["Lwr", "Upr"].indexOf(Y.Edg.v.CntE)
    }
        ;
    L.TrcC.prototype.$z = function (Y, S) {
        Y.Lvl.v = S[0];
        Y.Edg.v.CntE = ["Lwr", "Upr"][S[1]]
    }
        ;
    L["Dfs "] = function () {
        L.call(this, "Dfs ");
        this.uS = [new ec([12, 36], [[15, 10, 0], [15, 10, 6], [15, 10, 11], "Anisotropic"])];
        this.Hk()
    }
        ;
    L["Dfs "].prototype = new L;
    L["Dfs "].prototype.oB = function (Y, S) {
        S[0] = ["Nrml", "DrkO", "LghO", "anisotropic"].indexOf(Y.Md.v.DfsM)
    }
        ;
    L["Dfs "].prototype.$z = function (Y, S) {
        Y.Md.v.DfsM = ["Nrml", "DrkO", "LghO", "anisotropic"][S[0]]
    }
        ;
    L.Embs = function () {
        L.call(this, "Embs");
        this.uS = [new cB([12, 15]), new b7([12, 42], 1, 100, "px"), new b7([12, 57], 1, 500, "%")];
        this.Hk()
    }
        ;
    L.Embs.prototype = new L;
    L.Embs.prototype.oB = function (Y, S) {
        S[0] = Y.Angl.v;
        S[1] = Y.Hght.v;
        S[2] = Y.Amnt.v
    }
        ;
    L.Embs.prototype.$z = function (Y, S) {
        Y.Angl.v = S[0].Lk;
        Y.Hght.v = S[1];
        Y.Amnt.v = S[2]
    }
        ;
    L["Wnd "] = function () {
        L.call(this, "Wnd ");
        this.uS = [new ec([12, 32], ["Wind", "Blast", "Stagger"]), new ec([12, 33], ["From the Right", "From the Left"])];
        this.Hk()
    }
        ;
    L["Wnd "].prototype = new L;
    L["Wnd "].prototype.oB = function (Y, S) {
        S[0] = ["Wnd", "Blst", "Stgr"].indexOf(Y.WndM.v.WndM);
        S[1] = ["Left", "Rght"].indexOf(Y.Drct.v.Drct)
    }
        ;
    L["Wnd "].prototype.$z = function (Y, S) {
        Y.WndM.v.WndM = ["Wnd", "Blst", "Stgr"][S[0]];
        Y.Drct.v.Drct = ["Left", "Rght"][S[1]]
    }
        ;
    L.lightFilterGradient = function () {
        L.call(this, "lightFilterGradient");
        this.uS = [new b7([24, 3, 1], 0, 100, "px", 1, !0), new b7([12, 38], 0, 200, "%"), new e0([4, 11]), new b7("High", 0, 100, "%"), new b7("Medium", 0, 100, "%"), new b7("Low", 0, 100, "%")];
        this.Hk()
    }
        ;
    L.lightFilterGradient.prototype = new L;
    L.lightFilterGradient.prototype.oB = function (Y, S) {
        S[0] = Y.blur.v;
        S[1] = Y.textureScale.v * 100;
        S[2] = Y.Scl.v == -1;
        var h = Y.Dtl.v;
        S[3] = h[0].v * 100;
        S[4] = h[1].v * 100;
        S[5] = h[2].v * 100
    }
        ;
    L.lightFilterGradient.prototype.$z = function (Y, S) {
        Y.blur.v = S[0];
        Y.textureScale.v = S[1] / 100;
        Y.Scl.v = S[2] ? -1 : 1;
        var h = Y.Dtl.v;
        h[0].v = S[3] / 100;
        h[1].v = S[4] / 100;
        h[2].v = S[5] / 100
    }
        ;
    L.LnsF = function () {
        L.call(this, "LnsF");
        this.uS = [new b7([12, 2], 10, 300, "%"), new ec([12, 44], ["Lens 1", "Lens 2", "Lens 3", "Lens 4"]), new b7("Position X", 0, 100, "%"), new b7("Position Y", 0, 100, "%")];
        this.Hk()
    }
        ;
    L.LnsF.prototype = new L;
    L.LnsF.prototype.oB = function (Y, S) {
        S[0] = Y.Brgh.v;
        S[1] = ["Zm", "Nkn", "Nkn1", "PnVs"].indexOf(Y.Lns.v.Lns);
        var h = Y.FlrC.v;
        S[2] = Math.round(h.Hrzn.v * 100);
        S[3] = Math.round(h.Vrtc.v * 100)
    }
        ;
    L.LnsF.prototype.$z = function (Y, S) {
        Y.Brgh.v = S[0];
        Y.Lns.v.Lns = ["Zm", "Nkn", "Nkn1", "PnVs"][S[1]];
        var h = Y.FlrC.v;
        h.Hrzn.v = S[2] / 100;
        h.Vrtc.v = S[3] / 100
    }
        ;
    L.LnsF.prototype.iu = function () {
        return !0
    }
        ;
    L.LnsF.prototype.FF = function (Y, S, h, q, H) {
        this.pf = !0;
        this.ZU(Y, H)
    }
        ;
    L.LnsF.prototype.vr = function (Y, S, h, q, H) {
        if (!this.pf)
            return;
        this.ZU(Y, H)
    }
        ;
    L.LnsF.prototype.mi = function (Y, S, h, q, H) {
        this.pf = !1
    }
        ;
    L.LnsF.prototype.ZU = function (Y, S) {
        var h = Y.z.vl(S.x, S.y);
        function q(H, I) {
            return Math.round(Math.max(0, Math.min(100, 100 * H / I)))
        }
        this.uS[2].i(q(h.x, Y.d));
        this.uS[3].i(q(h.y, Y.v));
        this.Mu()
    }
        ;
    L.blendOptions = function () {
        L.call(this, "blendOptions");
        this.uS.push(new ey([12, 19, 0], iS.hc, !1, iS.sm));
        this.uS.push(new b7([12, 0], 0, 100, "%"));
        this.Hk()
    }
        ;
    L.blendOptions.prototype = new L;
    L.blendOptions.prototype.oB = function (Y, S) {
        S[0] = iS.Qu.indexOf(Y.Md.v.BlnM);
        S[1] = Y.Opct.v.val
    }
        ;
    L.blendOptions.prototype.$z = function (Y, S) {
        Y.Md.v.BlnM = iS.Qu[S[0]];
        Y.Opct.v.val = S[1]
    }
        ;
    L.LnCr = function () {
        L.call(this, "LnCr");
        this.uS = [new b7([12, 57], -100, 100), new b7([12, 38], 10, 150, "%")];
        this.Hk()
    }
        ;
    L.LnCr.prototype = new L;
    L.LnCr.prototype.oB = function (Y, S) {
        S[0] = Y.LnIa.v;
        S[1] = Y.LnSi.v
    }
        ;
    L.LnCr.prototype.$z = function (Y, S) {
        Y.LnIa.v = S[0];
        Y.LnSi.v = S[1]
    }
        ;
    L.adaptCorrect = function () {
        L.call(this, "adaptCorrect");
        var Y = c1;
        this.uS = [new aG([19, 6, 0]), new Y([12, 57], 0, 100, "%"), new Y("Tone", 0, 100, "%"), new Y([12, 56], 0, 200, "px"), new aG([19, 6, 2]), new Y([12, 57], 0, 100, "%"), new Y("Tone", 0, 100, "%"), new Y([12, 56], 0, 200, "px"), new aG([3]), new Y([13, 0], -100, 100)];
        this.Hk([3, 7])
    }
        ;
    L.adaptCorrect.prototype = new L;
    L.adaptCorrect.prototype.oB = function (Y, S) {
        var h = Y.sdwM.v;
        S[0] = h.Amnt.v.val;
        S[1] = h.Wdth.v.val;
        S[2] = h.Rds.v;
        var h = Y.hglM.v;
        S[3] = h.Amnt.v.val;
        S[4] = h.Wdth.v.val;
        S[5] = h.Rds.v;
        S[6] = Y.ClrC.v
    }
        ;
    L.adaptCorrect.prototype.$z = function (Y, S) {
        var h = Y.sdwM.v;
        h.Amnt.v.val = S[0];
        h.Wdth.v.val = S[1];
        h.Rds.v = S[2];
        var h = Y.hglM.v;
        h.Amnt.v.val = S[3];
        h.Wdth.v.val = S[4];
        h.Rds.v = S[5];
        Y.ClrC.v = S[6]
    }
        ;
    L.boxblur = function () {
        L.call(this, "boxblur");
        this.uS = [new b7([12, 56], 1, 200, " px")];
        this.Hk()
    }
        ;
    L.boxblur.prototype = new L;
    L.boxblur.prototype.oB = function (Y, S) {
        S[0] = Y.Rds.v.val
    }
        ;
    L.boxblur.prototype.$z = function (Y, S) {
        Y.Rds.v.val = S[0]
    }
        ;
    L.GsnB = function () {
        L.call(this, "GsnB");
        this.uS = [new b7([12, 56], .1, 400, "px", 1, !0)];
        this.Hk()
    }
        ;
    L.GsnB.prototype = new L;
    L.MtnB = function () {
        L.call(this, "MtnB");
        this.uS = [new cB([12, 15]), new b7([12, 28], 1, 100, " px")];
        this.Hk()
    }
        ;
    L.MtnB.prototype = new L;
    L.RdlB = function () {
        L.call(this, "RdlB");
        this.uS = [new b7([12, 57], 1, 100), new ec([12, 36], ["Spin", "Zoom"]), new c1("Off X", 0, 1, null, 2), new c1("Off Y", 0, 1, null, 2)];
        this.Hk()
    }
        ;
    L.RdlB.prototype = new L;
    L.RdlB.prototype.oB = function (Y, S) {
        S[0] = Y.Amnt.v;
        S[1] = ["Spn", "Zm"].indexOf(Y.BlrM.v.BlrM);
        S[2] = Y.Cntr.v.Hrzn.v;
        S[3] = Y.Cntr.v.Vrtc.v
    }
        ;
    L.RdlB.prototype.$z = function (Y, S) {
        Y.Amnt.v = S[0];
        Y.BlrM.v.BlrM = ["Spn", "Zm"][S[1]];
        Y.Cntr.v.Hrzn.v = S[2];
        Y.Cntr.v.Vrtc.v = S[3]
    }
        ;
    L.Dspl = function () {
        L.call(this, "Dspl");
        this.uS = [new ey([6, 36, 3], ["a", "b"]), new b7([22, 4, 0], -100, 100, "px"), new b7([22, 4, 1], -100, 100, "px"), new ey([24, 18, 0], [[24, 18, 3], [24, 18, 2]])];
        this.Hk()
    }
        ;
    L.Dspl.prototype = new L;
    L.Dspl.prototype.oB = function (Y, S, h) {
        this.a7q = [];
        this.at = [];
        var q = -1
            , H = h ? h[0] : null;
        if (H == null)
            H = this.a8$;
        else
            this.a8$ = H;
        if (H)
            for (var G = 0; G < H.length; G++) {
                var I = H[G];
                this.a7q.push(I.hg.trim());
                this.at.push(I._z);
                if (I._z == Y.DspF.v.pth)
                    q = G
            }
        this.uS[0].Hm(this.a7q);
        S[0] = q == -1 ? 0 : q;
        S[1] = Y.HrzS.v;
        S[2] = Y.VrtS.v;
        S[3] = ["WrpA", "RptE"].indexOf(Y.UndA.v.UndA)
    }
        ;
    L.Dspl.prototype.$z = function (Y, S) {
        if (this.at.length == 0)
            return;
        Y.DspF.v.pth = this.at[S[0]];
        Y.HrzS.v = S[1];
        Y.VrtS.v = S[2];
        Y.UndA.v.UndA = ["WrpA", "RptE"][S[3]]
    }
        ;
    L.Pnch = function () {
        L.call(this, "Pnch");
        this.uS = [new b7([12, 57], -100, 100, "%")];
        this.Hk()
    }
        ;
    L.Pnch.prototype = new L;
    L["Plr "] = function () {
        L.call(this, "Plr ");
        this.uS = [new ec(null, ["Rect to Polar", "Polar to Rect"])];
        this.Hk()
    }
        ;
    L["Plr "].prototype = new L;
    L.Rple = function () {
        L.call(this, "Rple");
        this.uS = [new b7([12, 57], -999, 999), new ey([12, 14, 0], [[19, 8, 0], [19, 8, 1], [19, 8, 2]])];
        this.Hk()
    }
        ;
    L.Rple.prototype = new L;
    L["Shr "] = function () {
        L.call(this, "Shr ");
        this.uS = [new go(!0, !0), new ey([24, 18, 0], [[24, 18, 3], [24, 18, 2]])];
        this.Hk()
    }
        ;
    L["Shr "].prototype = new L;
    L["Shr "].prototype.oB = function (Y, S) {
        var h = new d5(0, 255 / 127, 255 / 127, 0, -2, 128)
            , q = JSON.parse(JSON.stringify(Y.ShrP.v));
        t.hn.J(q, h);
        S[0] = q;
        S[1] = ["WrpA", "RptE"].indexOf(Y.UndA.v.UndA)
    }
        ;
    L["Shr "].prototype.$z = function (Y, S) {
        var h = new d5(0, 255 / 127, 255 / 127, 0, -2, 128);
        h.fb();
        t.hn.J(S[0], h);
        Y.ShrP.v = S[0];
        Y.ShrE.v = S[0].length - 1;
        Y.UndA.v.UndA = ["WrpA", "RptE"][S[1]]
    }
        ;
    L.Sphr = function () {
        L.call(this, "Sphr");
        this.uS = [new b7([12, 57], -100, 100), new ey([12, 36], ["Normal", [22, 4, 0], [22, 4, 1]])];
        this.Hk()
    }
        ;
    L.Sphr.prototype = new L;
    L.Sphr.prototype.oB = function (Y, S) {
        S[0] = Y.Amnt.v;
        S[1] = ["Nrml", "HrzO", "VrtO"].indexOf(Y.SphM.v.SphM)
    }
        ;
    L.Sphr.prototype.$z = function (Y, S) {
        Y.Amnt.v = S[0];
        Y.SphM.v.SphM = ["Nrml", "HrzO", "VrtO"][S[1]]
    }
        ;
    L.Twrl = function () {
        L.call(this, "Twrl");
        this.uS = [new b7([12, 15], -999, 999)];
        this.Hk()
    }
        ;
    L.Twrl.prototype = new L;
    L.Wave = function () {
        L.call(this, "Wave");
        this.ab7 = [1, 2, 3, 4];
        this.uS = [new b7("Number of Generators", 1, 100), new c1("Min Length", 1, 999), new c1("Max Length", 1, 999), new c1("Min Ampl.", 1, 999), new c1("Max Ampl.", 1, 999), new c1("Scale X", 1, 100, "%"), new c1("Scale Y", 1, 100, "%"), new ec([12, 44], ["Sine", "Triangle", [12, 93, 3]]), new ey([24, 18, 0], [[24, 18, 3], [24, 18, 2]]), new eT("Randomizer Seed")];
        this.Hk()
    }
        ;
    L.Wave.prototype = new L;
    L.Wave.prototype.oB = function (Y, S) {
        S[0] = Y.NmbG.v;
        S[1] = Y.WLMn.v;
        S[2] = Y.WLMx.v;
        S[3] = Y.AmMn.v;
        S[4] = Y.AmMx.v;
        S[5] = Y.SclH.v;
        S[6] = Y.SclV.v;
        S[7] = ["WvSn", "WvTr", "WvSq"].indexOf(Y.Wvtp.v.Wvtp);
        S[8] = ["WrpA", "RptE"].indexOf(Y.UndA.v.UndA);
        S[9] = Y.RndS.v
    }
        ;
    L.Wave.prototype.$z = function (Y, S) {
        Y.NmbG.v = S[0];
        Y.WLMn.v = S[1];
        Y.WLMx.v = S[2];
        Y.AmMn.v = S[3];
        Y.AmMx.v = S[4];
        Y.SclH.v = S[5];
        Y.SclV.v = S[6];
        Y.Wvtp.v.Wvtp = ["WvSn", "WvTr", "WvSq"][S[7]];
        Y.UndA.v.UndA = ["WrpA", "RptE"][S[8]];
        var h = parseInt(S[9]);
        if (isNaN(h))
            h = 248325464;
        h = Math.max(0, Math.min(268435455, h));
        Y.RndS.v = h;
        this.uS[9].i(h)
    }
        ;
    L.surfaceBlur = function () {
        L.call(this, "surfaceBlur");
        this.uS = [new b7([12, 56], 1, 200, " px"), new b7([4, 13], 1, 255, " px")];
        this.Hk()
    }
        ;
    L.surfaceBlur.prototype = new L;
    L.surfaceBlur.prototype.oB = function (Y, S) {
        S[0] = Y.Rds.v.val;
        S[1] = Y.Thsh.v
    }
        ;
    L.surfaceBlur.prototype.$z = function (Y, S) {
        Y.Rds.v.val = S[0];
        Y.Thsh.v = S[1]
    }
        ;
    L.AdNs = function () {
        L.call(this, "AdNs");
        this.uS = [new b7([12, 57], 0, 200, " %"), new ey([12, 58], [[12, 59, 1], [12, 59, 0]]), new e0([12, 60])];
        this.Hk()
    }
        ;
    L.AdNs.prototype = new L;
    L.DstS = function () {
        L.call(this, "DstS");
        this.uS = [new b7([12, 56], 1, 200, " px"), new b7([4, 13], 1, 255, " px")];
        this.Hk()
    }
        ;
    L.DstS.prototype = new L;
    L["Mdn "] = function () {
        L.call(this, "Mdn ");
        this.uS = [new b7([12, 56], 1, 200, " px")];
        this.Hk()
    }
        ;
    L["Mdn "].prototype = new L;
    L["Mdn "].prototype.oB = function (Y, S) {
        S[0] = Y.Rds.v.val
    }
        ;
    L["Mdn "].prototype.$z = function (Y, S) {
        Y.Rds.v.val = S[0]
    }
        ;
    L.ClrH = function () {
        L.call(this, "ClrH");
        this.uS = [new b7([12, 56], 4, 100, " px")];
        for (var G = 1; G < 4; G++)
            this.uS.push(new b7("Angle " + G, 0, 90, " \xB0"));
        this.Hk()
    }
        ;
    L.ClrH.prototype = new L;
    L.ClrH.prototype.oB = function (Y, S) {
        S[0] = Y.Rds.v;
        for (var G = 1; G < 4; G++)
            S[G] = Y["Ang" + G].v
    }
        ;
    L.ClrH.prototype.$z = function (Y, S) {
        Y.Rds.v = S[0];
        for (var G = 1; G < 4; G++)
            Y["Ang" + G].v = S[G]
    }
        ;
    L.ClrH.prototype.f = function () {
        var Y = this.uS;
        Y[0].f();
        for (var G = 1; G < 4; G++)
            Y[G].D2(gx.get([12, 15]) + " " + G)
    }
        ;
    L.Crst = function () {
        L.call(this, "Crst");
        this.uS = [new b7([12, 61], 3, 100, " px")];
        this.Hk()
    }
        ;
    L.Crst.prototype = new L;
    L.Crst.prototype.oB = function (Y, S) {
        S[0] = Y.ClSz.v
    }
        ;
    L.Crst.prototype.$z = function (Y, S) {
        Y.ClSz.v = S[0]
    }
        ;
    L.Mztn = function () {
        L.call(this, "Mztn");
        this.uS.push(new ey([12, 44], "Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","), null, [4, 3, 3]));
        this.at = "FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");
        this.Hk()
    }
        ;
    L.Mztn.prototype = new L;
    L.Mztn.prototype.oB = function (Y, S) {
        S[0] = this.at.indexOf(Y.MztT.v.MztT)
    }
        ;
    L.Mztn.prototype.$z = function (Y, S) {
        Y.MztT.v.MztT = this.at[S[0]]
    }
        ;
    L["Msc "] = function () {
        L.call(this, "Msc ");
        this.uS = [new b7([12, 61], 2, 200, " px")];
        this.Hk()
    }
        ;
    L["Msc "].prototype = new L;
    L["Msc "].prototype.oB = function (Y, S) {
        S[0] = Y.ClSz.v.val
    }
        ;
    L["Msc "].prototype.$z = function (Y, S) {
        Y.ClSz.v.val = S[0]
    }
        ;
    L.Pntl = function () {
        L.call(this, "Pntl");
        this.uS = [new b7([12, 61], 3, 100, " px")];
        this.Hk()
    }
        ;
    L.Pntl.prototype = new L;
    L.Pntl.prototype.oB = function (Y, S) {
        S[0] = Y.ClSz.v
    }
        ;
    L.Pntl.prototype.$z = function (Y, S) {
        Y.ClSz.v = S[0]
    }
        ;
    L.smartSharpen = function () {
        L.call(this, "smartSharpen");
        this.uS = [new b7([12, 57], 1, 200, "%"), new b7([12, 56], 0, 200, "px", 1, !0)];
        this.Hk()
    }
        ;
    L.smartSharpen.prototype = new L;
    L.smartSharpen.prototype.oB = function (Y, S) {
        S[0] = Y.Amnt.v.val;
        S[1] = Y.Rds.v.val
    }
        ;
    L.smartSharpen.prototype.$z = function (Y, S) {
        Y.Amnt.v.val = S[0];
        Y.Rds.v.val = S[1]
    }
        ;
    L.UnsM = function () {
        L.call(this, "UnsM");
        this.uS = [new b7([12, 57], 1, 200, " %"), new b7([12, 56], .1, 400, "px", 1, !0), new b7([4, 13], 0, 255, " ")];
        this.Hk()
    }
        ;
    L.UnsM.prototype = new L;
    L.HghP = function () {
        L.call(this, "HghP");
        this.uS = [new b7([12, 56], .1, 400, "px", 1, !0)];
        this.Hk()
    }
        ;
    L.HghP.prototype = new L;
    L["Mxm "] = function () {
        L.call(this, "Mxm ");
        this.uS = [new b7([12, 56], 1, 200, " px")];
        this.Hk()
    }
        ;
    L["Mxm "].prototype = new L;
    L["Mnm "] = function () {
        L.call(this, "Mnm ");
        this.uS = [new b7([12, 56], 1, 200, " px")];
        this.Hk()
    }
        ;
    L["Mnm "].prototype = new L;
    L.Ofst = function () {
        L.call(this, "Ofst");
        this.uS = [new b7([22, 4, 0], -1024, 1024, " px"), new b7([22, 4, 1], -1024, 1024, " px"), new ey([24, 18, 0], [[24, 18, 2], [24, 18, 1], [24, 18, 3]])];
        this.Hk()
    }
        ;
    L.Ofst.prototype = new L;
    L.Rept = function () {
        L.call(this, "Rept");
        this.uS = [new c1([12, 38], 1, 300, " %"), new c1("Row Shift", -50, 50, " %"), new c1("Space X", -99, 200, " %"), new c1("Space Y", -99, 200, " %"), new e0([4, 16, 2]), new cB([12, 15])];
        this.Hk()
    }
        ;
    L.Rept.prototype = new L;
    L.Rept.prototype.oB = function (Y, S) {
        S[0] = Y.Scl.v.val;
        S[1] = Y.Rsft.v.val;
        S[2] = Y.SpcX.v.val;
        S[3] = Y.SpcY.v.val;
        S[4] = Y.SpcC.v;
        S[5] = Y.Angl.v
    }
        ;
    L.Rept.prototype.$z = function (Y, S) {
        Y.Scl.v.val = S[0];
        Y.Rsft.v.val = S[1];
        Y.SpcX.v.val = S[2];
        Y.SpcY.v.val = S[3];
        Y.SpcC.v = S[4];
        Y.Angl.v = S[5].Lk;
        return Y
    }
        ;
    L.Ctoa = function () {
        L.call(this, "Ctoa");
        this.uS = [new aG([13, 0]), new ca(!0), new b7(["VAR0 VAR1", "Transparency", [4, 13]], 0, 100, " %"), new b7(["VAR0 VAR1", [12, 0], [4, 13]], 0, 100, " %")];
        this.Hk()
    }
        ;
    L.Ctoa.prototype = new L;
    L.Ctoa.prototype.oB = function (Y, S) {
        S[0] = Y.Clr.v;
        S[1] = Y.Trsp.v.val;
        S[2] = Y.Opct.v.val
    }
        ;
    L.Ctoa.prototype.$z = function (Y, S) {
        Y.Clr.v = S[0];
        Y.Trsp.v.val = S[1];
        Y.Opct.v.val = S[2]
    }
        ;
    L.LqFy = function () {
        L.call(this, "LqFy");
        this.T6 = !1;
        this.nU = null;
        this.ahp = null;
        this.F = 0;
        this.Cf = {
            EB: [[{
                F: {
                    id: 0,
                    name: [24, 1, 0, 1, 0],
                    tp: "liq/smudge"
                }
            }], [{
                F: {
                    id: 1,
                    name: [24, 1, 0, 1, 1],
                    tp: "liq/reconstruct"
                }
            }], [{
                F: {
                    id: 2,
                    name: [24, 1, 0, 1, 2],
                    tp: "liq/smooth"
                }
            }], [{
                F: {
                    id: 3,
                    name: [24, 1, 0, 1, 3],
                    tp: "liq/twirl"
                }
            }], [{
                F: {
                    id: 4,
                    name: [24, 1, 0, 1, 4],
                    tp: "liq/shrink"
                }
            }], [{
                F: {
                    id: 5,
                    name: [24, 1, 0, 1, 5],
                    tp: "liq/blow"
                }
            }], [{
                F: {
                    id: 6,
                    name: [24, 1, 0, 1, 6],
                    tp: "liq/pleft"
                }
            }]],
            keys: []
        };
        this.Ki = new b9(this.Cf, !1);
        this.Ki.rO(0);
        this.Ki.k(P.E.P, this.a3y, this);
        this._F = gk.CG();
        this.uK = null;
        this.YN = [];
        this.Ku = -1;
        this.ku = null;
        this.a5I = null;
        this.Bd = null;
        this.RD = null;
        this.el = null;
        var Y = P.w("div", "flexrow");
        this.mo = Y;
        this.j.appendChild(Y);
        Y.appendChild(this.Ki.j);
        this.view = new eS(!0);
        this.view.hD(100, 100);
        this.view.k("mousedown", this.Kf, this);
        this.view.k("mousemove", this.fn, this);
        this.view.k("mouseup", this.wR, this);
        this.view.k("zoom", this.XS, this);
        Y.appendChild(this.view.j);
        var S = P.w("div", "form");
        Y.appendChild(S);
        this.tU = S;
        S.style.width = "230px";
        this.SP = [new b7([12, 14, 0], 0, 1e3, null, !1, !0), new b7([12, 74], 0, 100, null, !1, !1), new b7([12, 84], 0, 100, null, !1, !1), new e0([12, 46]), new b7([12, 0], 0, 100, null, !1, !1)];
        var h = this._F.Brsh.v;
        h.Dmtr.v.val = 100;
        var q = [100, 50, 100, !1, 100];
        for (var G = 0; G < this.SP.length; G++) {
            var H = this.SP[G];
            H.i(q[G]);
            H.k(P.E.L, this.adl, this);
            S.appendChild(H.j)
        }
        var I = new gP("Reset", !0, null, !0);
        I.k("click", this.LE, this);
        S.appendChild(I.j);
        this.pA = new e9;
        this.pA.j = P.w("div", "floatcont");
        this.Ml = new gP("Menu", !1, null, !0);
        this.Ml.k("click", this.a9Q, this);
        var E = this.Ml.j;
        E.setAttribute("style", "position:absolute; right:13px; top:47px")
    }
        ;
    L.LqFy.prototype = new L;
    L.LqFy.prototype.wz = function () {
        return !0
    }
        ;
    L.LqFy.prototype.NX = function (Y) {
        this.tU.appendChild(Y)
    }
        ;
    L.LqFy.prototype.a9Q = function (Y) {
        var S = this.Ml.j.getBoundingClientRect();
        this.pA.j.appendChild(this.tU);
        var h = new _(P.E.P, !0);
        h.data = {
            X: P.U.pa,
            FN: this.pA,
            x: S.right + S.width - 290,
            y: S.top + S.height
        };
        this.B(h)
    }
        ;
    L.LqFy.prototype.jL = function (Y) {
        this.T6 = Y.q(F.Gs);
        var S = U.NJ.lL(this._F, Y);
        if (S != null) {
            this._F = S;
            this.XS();
            this.SP[0].i(S.Brsh.v.Dmtr.v.val)
        } else if (Y.q(F.EO) && Y.q(F.E0)) {
            var h = this.YN;
            if (Y.q(F.aY)) {
                if (this.Ku + 1 < h.length)
                    this.Ku++
            } else if (this.Ku > 0)
                this.Ku--;
            this.uK.map = h[this.Ku].slice(0);
            this.o3(null)
        } else
            this.view.jL(Y)
    }
        ;
    L.LqFy.prototype.a3y = function (Y) {
        if (Y.data.X == P.U.iK) {
            this.F = Y.data.F;
            this.Ki.rO(this.F)
        }
    }
        ;
    L.LqFy.prototype.adl = function (Y) {
        var S = Y.currentTarget
            , G = this.SP.indexOf(S)
            , h = this._F.Brsh.v;
        if (G == 0) {
            h.Dmtr.v.val = S.u();
            this.XS()
        }
        if (G > 2)
            this.o3(null)
    }
        ;
    L.LqFy.prototype.$K = function () {
        var Y = this.YN;
        this.Ku++;
        Y[this.Ku] = this.uK.map.slice(0);
        while (Y.length > this.Ku + 1)
            Y.pop();
        while (Y.length > 50) {
            Y = Y.slice(1);
            this.Ku--
        }
    }
        ;
    L.LqFy.prototype.Kf = function (Y) {
        this.lr();
        this.nU = this.view.ib();
        this.ahp = new aV(0, 0);
        this.k(P.E.Tx, this.Sk, this)
    }
        ;
    L.LqFy.prototype.fn = function (Y) {
        var S = this.view.ib()
            , h = new aV(S.x - this.nU.x, S.y - this.nU.y);
        if (this.F == 0 || this.F == 6)
            this.As(h);
        this.nU = S
    }
        ;
    L.LqFy.prototype.wR = function (Y) {
        this.$K();
        this.lr()
    }
        ;
    L.LqFy.prototype.lr = function () {
        if (this.dY(P.E.Tx, this.Sk))
            this.removeEventListener(P.E.Tx, this.Sk, this)
    }
        ;
    L.LqFy.prototype.Sk = function (Y) {
        if (this.F != 0 && this.F != 6)
            this.As(new aV(0, 0))
    }
        ;
    L.LqFy.prototype.As = function (Y) {
        var S = this.uK
            , h = S.rz / this.ku.d
            , q = this.nU
            , H = this._F.Brsh.v
            , I = H.Dmtr.v.val
            , E = Date.now()
            , d = S.rz
            , B = S.UR
            , n = Math.sqrt(Y.x * Y.x + Y.y * Y.y)
            , g = Math.max(1, Math.ceil(n / 2))
            , z = Y.x / g
            , p = Y.y / g
            , C = q.clone()
            , T = this.F
            , A = this.SP[1].u() / 100
            , i = this.SP[2].u() / 100
            , e = [.005, .015, 0, 0, .2, .2, .01, .01, .05, .35, .1, .1, .005, .015]
            , a = e[T * 2]
            , Z = e[T * 2 + 1]
            , O = (1 - A) * a + A * Z
            , c = I * h / 2;
        for (var G = 0; G < g; G++) {
            var s = [];
            C.x += z;
            C.y += p;
            t.eh.akt(S.map, d, B, T, C.x * h, C.y * h, c, A, i, z * h, p * h, s, this.T6);
            t.eh.a8a(d, B, S.map, s, 2 * O * i)
        }
        var x = new W(0, 0, d, B)
            , u = new W(q.x * h, q.y * h, 0, 0);
        u.vo(I * h * .5, I * h * .5);
        var y = u.clone();
        y.offset(Y.x * h, Y.y * h);
        u = u.TG(y);
        var j = new W(u.x / h, u.y / h, u.d / h, u.v / h);
        j = t.a.Ca(j).lF(this.ku);
        this.o3(j)
    }
        ;
    L.LqFy.prototype.XS = function () {
        var Y = fU.by(this._F, null, this.view.SB().S);
        this.view.IA(Y)
    }
        ;
    L.LqFy.prototype.i = function (Y, S, h, q, H) {
        h = h.clone();
        if (S == null)
            return;
        if (!q.ma(h)) {
            var I = h.TG(q)
                , E = t.m(I.e() * 4);
            t.rd(S, h, E, I);
            S = E;
            h = I
        }
        h.x = h.y = 0;
        this.Bd = S;
        this.a5I = H;
        this.el = S.slice(0);
        this.RD = S.slice(0);
        this.ku = h;
        this.uK = de.z7(new Uint8Array(Y.LqMe.v).buffer);
        var d = h.d
            , B = h.v;
        if (this.uK.rz / d < .22) {
            this.uK = {
                rz: Math.floor(d / 4),
                UR: Math.floor(B / 4)
            };
            this.uK.map = new Float32Array(this.uK.rz * this.uK.UR * 2)
        }
        this.YN = [];
        this.Ku = -1;
        this.$K();
        this.o3(null);
        this.XS()
    }
        ;
    L.LqFy.prototype.u = function () {
        this.lr();
        var Y = io.g4("LqFy")
            , S = new Uint8Array(de.zN(this.uK))
            , h = [];
        for (var G = 0; G < S.length; G++)
            h.push(S[G]);
        Y.LqMe.v = h;
        return Y
    }
        ;
    L.LqFy.prototype.hD = function (Y, S) {
        this.Ki.hD(Y, S);
        var h = this.Ml.j
            , q = this.tU;
        this.mo.appendChild(q);
        this.mo.appendChild(h);
        if (Y > 450) {
            q.style.marginLeft = "1em";
            this.mo.removeChild(h);
            this.view.hD(Y - 238 - 45, S)
        } else {
            q.style.marginLeft = "";
            this.mo.removeChild(q);
            this.view.hD(Y - 40, S)
        }
    }
        ;
    L.LqFy.prototype.f = function () {
        this.Ki.f();
        for (var G = 0; G < this.SP.length; G++)
            this.SP[G].f()
    }
        ;
    L.LqFy.prototype.LE = function () {
        this.lr();
        this.uK.map.fill(0);
        this.$K();
        this.o3(null)
    }
        ;
    L.LqFy.prototype.o3 = function (Y) {
        var S = this.ku
            , h = this.Bd
            , q = this.el
            , H = this.uK;
        t.eh.uW(h, this.RD, S.d, S.v, Y, H.map, H.rz, H.UR, 0);
        if (this.SP[3].tQ()) {
            t.rd(this.a5I, S, q, S, Y ? Y : S);
            t.Q.Bc("norm", this.RD, S, q, S, Y ? Y : S, this.SP[4].u() / 100)
        } else
            t.vx(this.RD, q);
        this.view.i([{
            jJ: S,
            data: q.buffer
        }])
    }
        ;
    L.GEfc = function () {
        L.call(this, "GEfc");
        this.FJ = 0;
        this.cf = 0;
        this.Bd = null;
        this.el = null;
        this.ku = null;
        this.it = null;
        this.QX = null;
        this.l7 = 0;
        var Y = P.w("div", "flexrow");
        this.mo = Y;
        this.j.appendChild(Y);
        this.view = new eS;
        this.view.hD(100, 100);
        Y.appendChild(this.view.j);
        this.bp = "";
        this.G9 = 270;
        var S = this.ajW = P.w("div", "form scrollable");
        Y.appendChild(S);
        S.setAttribute("style", "width:" + this.G9 + "px;  margin-left:1em");
        var h = P.w("div", "form");
        Y.appendChild(h);
        h.setAttribute("style", "width:230px;  margin-left:1em");
        this.nd = {};
        for (var q in eE.names) {
            var H = new L.GEfc.b4(q);
            this.nd[q] = H;
            H.k(P.E.L, this.fO, this)
        }
        this.uY = P.w("div");
        h.appendChild(this.uY);
        this.uY.style.marginBottom = "1.5em";
        this.mp = P.w("div");
        this.mp.style.height = "16.3em";
        h.appendChild(this.mp);
        P.f$(h);
        this.ai = P.w("div", "lpbody scrollable");
        this.xu = P.w("div", "lpfoot");
        h.appendChild(this.ai);
        h.appendChild(this.xu);
        this.k("click", this.aiT, this);
        this.ud = [];
        gD.pD([[5, 3], [5, 4]], this.ud, this.xu, this.rW.bind(this))
    }
        ;
    L.GEfc.prototype = new L;
    L.GEfc.prototype.wz = function () {
        return !0
    }
        ;
    L.GEfc.prototype.NX = function (Y) {
        this.uY.appendChild(Y)
    }
        ;
    L.GEfc.prototype.rJ = function (Y, S) {
        this.it = Y
    }
        ;
    L.GEfc.prototype.hD = function (Y, S) {
        this.FJ = Y;
        this.cf = S;
        this.ajW.style.height = S + "px";
        this.view.hD(Y - 240 - this.G9 - 10, S);
        this.ai.style.height = S - this.mp.getBoundingClientRect().height - 106 + "px"
    }
        ;
    L.GEfc.prototype.acC = function () {
        var Y = eD.wg.get("img/beach", !0)[0]
            , S = Y.jJ
            , h = this.ajW
            , q = Math.floor(P.M() * (this.G9 - 40) / 3)
            , H = ~~(q * .7)
            , I = new W(0, 0, q, H)
            , E = t.m(q * H * 4)
            , d = E.slice(0)
            , B = Math.round(10 * P.M())
            , n = new ImageData(new Uint8ClampedArray(d.buffer), q, H);
        t.rd(new Uint8Array(Y.data), S, E, new W(Math.round((S.d - q) / 2), Math.round((S.v - H) / 2), q, H));
        var g = P.w("canvas")
            , z = g.getContext("2d");
        g.width = q;
        g.height = H + Math.round(B * 1.5);
        z.font = B + "px sans-serif";
        z.fillStyle = "white";
        this.di = {};
        var p = this.ae_.bind(this);
        for (var G = 0; G < eE.ET.length; G++) {
            var C = eE.ET[G]
                , T = P.w("div");
            h.appendChild(T);
            T.setAttribute("style", "background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
            T.textContent = gx.get(C);
            for (var A in eE.names) {
                var i = eE.names[A];
                if (i[0] != G)
                    continue;
                eE.Cu(A, {
                    rect: I,
                    buffer: E
                }, eE.g4(A), {
                    h: 0,
                    l: 0,
                    O: 0
                }, {
                    h: 255,
                    l: 255,
                    O: 255
                }, {
                    rect: I,
                    buffer: d
                }, {});
                z.clearRect(0, 0, 500, 500);
                z.putImageData(n, 0, 0);
                var e = gx.get(i[1]);
                z.fillText(e, (q - z.measureText(e).width) / 2, H + Math.round(B * 1.2));
                var a = P.w("div");
                h.appendChild(a);
                a.setAttribute("style", "display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
                a.addEventListener("click", p, !1);
                var T = P.w("img");
                a.appendChild(T);
                T.setAttribute("src", g.toDataURL());
                T.setAttribute("style", "width:" + q / P.M() + "px; margin-bottom:0px;");
                this.di[A] = a
            }
        }
    }
        ;
    L.GEfc.prototype.ae_ = function (Y) {
        var S;
        for (var h in this.di)
            if (this.di[h] == Y.currentTarget)
                this.bp = h;
        this.fO()
    }
        ;
    L.GEfc.prototype.rW = function (Y) {
        var S = gD.S0(this.ud, Y)
            , h = this.QX.GEfs.v
            , q = h[this.l7].v;
        if (S == 0) {
            h.push(JSON.parse(JSON.stringify(h[this.l7])));
            this.l7 = h.length - 1
        } else if (h.length > 1) {
            h.splice(this.l7, 1);
            if (this.l7 == h.length)
                this.l7--
        }
        this.O0();
        this.o3()
    }
        ;
    L.GEfc.prototype.fO = function (Y) {
        var S = this.bp, h;
        if (Y == null)
            h = eE.g4(S);
        else
            h = this.nd[S].u();
        this.QX.GEfs.v[this.l7].v = h;
        this.O0();
        this.o3()
    }
        ;
    L.GEfc.prototype.i = function (Y, S, h, q, H) {
        if (this.di == null)
            this.acC();
        Y = this.QX = JSON.parse(JSON.stringify(Y));
        if (Y.GEfs == null)
            Y = this.QX = {
                __name: "Filter Gallery",
                classID: "GEfc",
                GEfs: {
                    t: "VlLs",
                    v: [{
                        t: "Objc",
                        v: Y
                    }]
                }
            };
        var I = Y.GEfs.v;
        for (var G = 0; G < I.length; G++)
            if (I[G].v.GELv == null)
                I[G].v.GELv = {
                    t: "bool",
                    v: !0
                };
        this.l7 = I.length - 1;
        this.O0();
        h = h.clone();
        if (S == null)
            return;
        if (!q.ma(h) && eE.He(Y).x != 0) {
            var E = h.TG(q)
                , d = t.m(E.e() * 4);
            t.rd(S, h, d, E);
            S = d;
            h = E
        }
        h.x = h.y = 0;
        this.Bd = S;
        this.el = S.slice(0);
        this.ku = h;
        this.o3()
    }
        ;
    L.GEfc.prototype.aiT = function (Y) {
        var S = Y.data
            , G = S.Y8
            , h = this.QX.GEfs.v;
        if (S.lI) {
            h[G].v.GELv.v = !h[G].v.GELv.v;
            this.o3()
        } else
            this.l7 = G;
        this.O0()
    }
        ;
    L.GEfc.prototype.O0 = function () {
        var Y = this.QX.GEfs.v
            , S = Y[this.l7].v
            , h = S.GEfk.v.GEft
            , q = this.mp;
        if (eE.names[h] == null) {
            alert("Unsupported gallery filter");
            P.v3(q)
        } else {
            this.bp = h;
            for (var H in this.di)
                P.zM(this.di[H], "selected");
            P.xv(this.di[h], "selected");
            var I = this.nd[h];
            I.i(S);
            if (q.firstChild != I.j) {
                P.v3(q);
                q.appendChild(I.j)
            }
        }
        var E = [];
        for (var G = 0; G < Y.length; G++) {
            var d = Y[G].v
                , B = eE.names[d.GEfk.v.GEft]
                , n = new bn(G, !0, !0, null, B ? B[1] : "Filter", G == this.l7, d.GELv.v);
            n.parent = this;
            E.push(n.j)
        }
        P.v3(this.ai);
        E.reverse();
        for (var G = 0; G < E.length; G++)
            this.ai.appendChild(E[G]);
        this.hD(this.FJ, this.cf)
    }
        ;
    L.GEfc.prototype.u = function () {
        return JSON.parse(JSON.stringify(this.QX))
    }
        ;
    L.GEfc.prototype.o3 = function (Y) {
        var S = this.ku
            , h = this.Bd
            , q = this.el
            , H = this.bp
            , I = this.QX
            , E = this.it;
        function d(B) {
            return {
                h: B >>> 16,
                l: B >>> 8 & 255,
                O: B & 255
            }
        }
        io.Cu("GEfc", {
            rect: this.ku,
            buffer: this.Bd
        }, I, d(E.jy), d(E.E$), {
            rect: this.ku,
            buffer: this.el
        }, null);
        this.view.i([{
            jJ: S,
            data: q.buffer
        }])
    }
        ;
    L.GEfc.prototype.f = function () {
        for (var Y in this.nd)
            this.nd[Y].f();
        gD.JJ(this.ud, ["lrs/newlayer", "lrs/bin"])
    }
        ;
    L.GEfc.b4 = function (Y) {
        e9.call(this);
        this.bj = Y;
        this.j = P.w("div");
        this.Ed = {};
        var S = eE.g4(Y);
        for (var h in S) {
            var q;
            if (h == "__name" || h == "classID" || h == "GEfk" || h == "GELv" || ["LghI", "FlRs"].indexOf(h) != -1)
                continue;
            else if (h == "Sz")
                q = new b7([12, 14, 0], 1, 50);
            else if (h == "Dtl")
                q = Y == "Chrc" ? new b7("Detail", 0, 5) : new b7("Detail", 1, 15);
            else if (h == "Shrp")
                q = new b7("Sharpness", 0, 40);
            else if (h == "TxtT")
                q = new ey([12, 67], "Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
            else if (h == "BrsT")
                q = new ey("Brush type", "Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
            else if (h == "LghD")
                q = new ey("Light", "Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
            else if (h == "SDir")
                q = new ey([12, 33], ["Right Diagonal", "Horizontal", "Left Diagonal", "Vertical"]);
            else if (h == "EdgW")
                q = new b7("Edge Width", 1, 14);
            else if (h == "EdgB")
                q = new b7("Edge Brightness", 0, 20);
            else if (h == "Smth")
                q = new b7([19, 3, 3], 1, Y == "Stmp" ? 50 : 15);
            else if (h == "ClSz")
                q = new b7([12, 61], 3, 100);
            else if (h == "BrdT")
                q = new b7([7, 9], 1, 20);
            else if (h == "HghS")
                q = new b7([12, 64], 0, 20);
            else if (h == "HlSz")
                q = new b7([12, 14, 0], 1, 15);
            else if (h == "Cntr")
                q = new b7([12, 3, 0], 0, 50);
            else if (h == "ScrT")
                q = new ey([12, 62], ["Circle", "Dot", [10, 35]]);
            else if (h == "SprR")
                q = new b7("Spray Radius", 0, 25);
            else if (h == "StrL")
                q = new b7("Stroke Length", 0, 20);
            else if (h == "LgDr")
                q = new b7("Light/Dark Balance", 0, Y == "Stmp" ? 50 : 100);
            else if (h == "Drkn")
                q = new b7("Darkness", 1, 50);
            else if (h == "Dstr")
                q = new b7("Distortion", 0, 20);
            else if (h == "Scln")
                q = new b7([12, 38], 50, 200);
            else if (h == "Rlf")
                q = new b7("Relief", 0, 50);
            else if (h == "ChAm")
                q = new b7("Thickness", 1, 7);
            else if (h == "InvT")
                q = new e0([4, 11]);
            else if (h == "RplS")
                q = new b7("Ripple Size", 1, 15);
            else if (h == "RplM")
                q = new b7("Ripple Magnitude", 0, 20);
            else
                console.log(h);
            q.k(P.E.L, this.da, this);
            this.Ed[h] = q;
            this.j.appendChild(q.j)
        }
    }
        ;
    L.GEfc.b4.prototype = new e9;
    L.GEfc.b4.prototype.da = function (Y) {
        this.B(new _(P.E.L, !1))
    }
        ;
    L.GEfc.b4.prototype.i = function (Y) {
        for (var S in this.Ed) {
            var h;
            if ("Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM".split(" ").indexOf(S) != -1)
                h = Y[S].v;
            else if (S == "TxtT")
                h = eE.Y9.indexOf(Y[S].v[S]);
            else if (S == "BrsT")
                h = eE.dq.indexOf(Y[S].v[S]);
            else if (S == "LghD")
                h = eE.PU.indexOf(Y[S].v[S]);
            else if (S == "ScrT")
                h = eE.Ah.indexOf(Y[S].v[S]);
            else if (S == "SDir")
                h = eE.jH.indexOf(Y[S].v.StrD);
            this.Ed[S].i(h)
        }
    }
        ;
    L.GEfc.b4.prototype.u = function () {
        var Y = eE.g4(this.bj);
        for (var S in this.Ed) {
            var h = this.Ed[S].u();
            if ("Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM".split(" ").indexOf(S) != -1)
                Y[S].v = h;
            else if (S == "TxtT")
                Y[S].v[S] = eE.Y9[h];
            else if (S == "BrsT")
                Y[S].v[S] = eE.dq[h];
            else if (S == "LghD")
                Y[S].v[S] = eE.PU[h];
            else if (S == "ScrT")
                Y[S].v[S] = eE.Ah[h];
            else if (S == "SDir")
                Y[S].v.StrD = eE.jH[h]
        }
        return Y
    }
        ;
    L.GEfc.b4.prototype.f = function () {
        for (var Y in this.Ed)
            this.Ed[Y].f()
    }
        ;
    L.blnc = function () {
        L.call(this);
        var Y = this.j;
        this.gu = null;
        this.n6 = new ey([12, 12], [[19, 6, 0], [19, 6, 1], [19, 6, 2]]);
        this.n6.k(P.E.L, this.o3, this);
        Y.appendChild(this.n6.j);
        this.$c = [];
        for (var G = 0; G < 3; G++) {
            var S = new b7(dD.B$[G], -100, 100);
            S.k(P.E.L, this.Mu, this);
            this.$c.push(S);
            Y.appendChild(S.j)
        }
        this.iY = new e0([13, 4]);
        this.iY.k(P.E.L, this.Mu, this);
        Y.appendChild(this.iY.j)
    }
        ;
    L.blnc.prototype = new L;
    L.blnc.prototype.f = function () {
        this.n6.f();
        for (var G = 0; G < 3; G++)
            this.$c[G].f();
        this.iY.f()
    }
        ;
    L.blnc.prototype.i = function (Y) {
        this.gu = JSON.parse(JSON.stringify(Y));
        this.o3()
    }
        ;
    L.blnc.prototype.u = function (Y) {
        var S = ["ShdL", "MdtL", "HghL"]
            , h = this.gu[S[this.n6.u()]].v;
        for (var G = 0; G < 3; G++)
            h[G].v = this.$c[G].u();
        this.gu.PrsL.v = this.iY.u();
        return JSON.parse(JSON.stringify(this.gu))
    }
        ;
    L.blnc.prototype.o3 = function (Y) {
        var S = ["ShdL", "MdtL", "HghL"]
            , h = this.gu[S[this.n6.u()]].v;
        for (var G = 0; G < 3; G++)
            this.$c[G].i(h[G].v);
        this.iY.i(this.gu.PrsL.v)
    }
        ;
    L.brit = function () {
        L.call(this, "brit");
        this.uS.push(new b7([12, 2], -150, 150, ""));
        this.uS.push(new b7([12, 3, 0], -100, 100, ""));
        this.uS.push(new e0([12, 3, 1]));
        this.Hk()
    }
        ;
    L.brit.prototype = new L;
    L.brit.prototype.oB = function (Y, S) {
        S[0] = Y.Brgh ? Y.Brgh.v : 0;
        S[1] = Y.Cntr ? Y.Cntr.v : 0;
        S[2] = Y.useLegacy ? Y.useLegacy.v : !1
    }
        ;
    L.brit.prototype.$z = function (Y, S) {
        Y.Brgh.v = S[0];
        Y.Cntr.v = S[1];
        Y.useLegacy.v = S[2]
    }
        ;
    L.curv = function () {
        L.call(this);
        this.value = null;
        this.oh = null;
        var Y = this.j;
        this.$E = new ey([12, 4], ["RGB", [13, 1, 1], [13, 1, 4], [13, 1, 5]]);
        this.$E.k(P.E.L, this.mP, this);
        Y.appendChild(this.$E.j);
        this.xZ = new ey(null, ["Spline", "Sketch"]);
        this.xZ.k(P.E.L, this.aji, this);
        Y.appendChild(this.xZ.j);
        this.Pk = new go;
        this.Pk.k(P.E.L, this.V0, this);
        Y.appendChild(this.Pk.j);
        this.RL = new dl("Sample from image", ["#000000", "#888888", "#ffffff"]);
        Y.appendChild(this.RL.j)
    }
        ;
    L.curv.prototype = new L;
    L.curv.prototype.f = function () {
        this.$E.f()
    }
        ;
    L.curv.prototype.aji = function (Y) {
        var S = eM.hB(this.value, 0)
            , h = S.length == 256 ? 1 : 0
            , q = this.xZ.u();
        if (h == q)
            return;
        var H = io.g4("curv");
        if (q == 1) {
            var I = [];
            for (var G = 0; G < 256; G++)
                I.push(G);
            eM.SK(H, 0, I)
        }
        this.i(H);
        this.Mu()
    }
        ;
    L.curv.prototype.V0 = function () {
        eM.SK(this.value, this.$E.u(), this.Pk.u());
        this.Mu()
    }
        ;
    L.curv.prototype.mP = function () {
        var Y = this.$E.u()
            , S = eM.hB(this.value, Y)
            , h = S.length == 256 ? 1 : 0;
        this.xZ.i(h);
        if (this.oh)
            this.Pk.Ax(this.oh[Y], this.oh[4] * [1, .33, .33, .33][Y], ["#ccc", "#fcc", "#cfc", "#ccf"][Y]);
        this.Pk.i(S)
    }
        ;
    L.curv.prototype.iu = function () {
        return !0
    }
        ;
    L.curv.prototype.mi = function (Y, S, h, q, H) {
        var I = this.value
            , E = this.RL.u();
        this.value = io.g4("curv");
        this.Mu();
        var d = U.fF.j7(Y, H, 1)
            , B = [d >>> 16 & 255, d >>> 8 & 255, d & 255];
        for (var G = 0; G < 3; G++) {
            var n = eM.hB(I, 1 + G);
            if (E == 0)
                n[0].v.Hrzn.v = B[G];
            if (E == 1) {
                var g = (B[0] + B[1] + B[2]) * .333
                    , z = Math.log(B[G] / 255) / Math.log(g / 255)
                    , p = Math.min(999, Math.max(10, Math.round(100 * z)));
                if (n.length == 2)
                    n.splice(1, 0, JSON.parse(JSON.stringify(n[0])));
                n[1].v.Hrzn.v = 127 - Math.log(p / 100) * 127;
                n[1].v.Vrtc.v = 127
            }
            if (E == 2)
                n[n.length - 1].v.Hrzn.v = B[G];
            eM.SK(I, 1 + G, n)
        }
        this.i(I);
        this.Mu()
    }
        ;
    L.curv.prototype.i = function (Y) {
        this.value = Y;
        this.mP()
    }
        ;
    L.curv.prototype.Ax = function (Y) {
        this.oh = Y;
        this.mP()
    }
        ;
    L.curv.prototype.u = function (Y) {
        return JSON.parse(JSON.stringify(this.value))
    }
        ;
    L.expA = function () {
        L.call(this, "expA");
        this.uS.push(new b7([12, 5], -20, 20, null, 3));
        this.uS.push(new b7([12, 6], -.5, .5, null, 3));
        this.uS.push(new b7([12, 7], .01, 6.99, null, 3));
        this.Hk()
    }
        ;
    L.expA.prototype = new L;
    L.expA.prototype.oB = function (Y, S) {
        S[0] = Y.Exps.v;
        S[1] = Y.Ofst.v;
        S[2] = Y.gammaCorrection.v
    }
        ;
    L.expA.prototype.$z = function (Y, S) {
        Y.Exps.v = S[0];
        Y.Ofst.v = S[1];
        Y.gammaCorrection.v = S[2]
    }
        ;
    L.grdm = function () {
        L.call(this, "grdm");
        this.uS.push(new fo(!0, null, !0));
        this.uS.push(new e0([12, 23, 0]));
        this.Hk()
    }
        ;
    L.grdm.prototype = new L;
    L.grdm.prototype.oB = function (Y, S) {
        S[0] = Y.Grad.v;
        S[1] = Y.Rvrs ? Y.Rvrs.v : !1
    }
        ;
    L.grdm.prototype.$z = function (Y, S) {
        Y.Grad.v = S[0];
        Y.Rvrs = {
            t: "bool",
            v: S[1]
        }
    }
        ;
    L.grdm.prototype.rJ = function (Y, S) {
        this.uS[0].qQ(Y.jy, Y.E$);
        if (S == iD.Ie || S == iD.oo || S == iD.MM)
            this.uS[0].dB(Y.EI)
    }
        ;
    L.selc = function () {
        L.call(this);
        var Y = this.j;
        this.a1 = [];
        this.bN = null;
        this.n6 = new ey([12, 82], dD.li.concat([[13, 1, 8], [13, 1, 13], [13, 1, 10]]));
        this.n6.k(P.E.L, this.da, this);
        Y.appendChild(this.n6.j);
        for (var G = 0; G < 4; G++) {
            var S = new b7(dD.ak9[G], -100, 100, "%");
            S.k(P.E.L, this.da, this);
            this.a1.push(S);
            Y.appendChild(S.j)
        }
        this.X6 = new e0([13, 3]);
        Y.appendChild(this.X6.j);
        this.X6.k(P.E.L, this.da, this)
    }
        ;
    L.selc.prototype = new L;
    L.selc.prototype.f = function () {
        this.n6.f();
        this.X6.f();
        for (var G = 0; G < 4; G++)
            this.a1[G].f()
    }
        ;
    L.selc.prototype.i = function (Y) {
        this.bN = JSON.parse(JSON.stringify(Y));
        this.o3()
    }
        ;
    L.selc.prototype.u = function (Y) {
        return JSON.parse(JSON.stringify(this.bN))
    }
        ;
    L.selc.prototype.da = function (Y) {
        if (Y.target != this.n6) {
            var S = this.bN
                , h = [];
            for (var G = 0; G < 4; G++)
                h[G] = this.a1[G].u();
            d_.SK(S, this.n6.u(), h);
            S.Mthd = {
                t: "enum",
                v: {
                    CrcM: this.X6.u() ? "Absl" : "Rltv"
                }
            }
        }
        this.o3();
        this.Mu()
    }
        ;
    L.selc.prototype.o3 = function () {
        var Y = this.bN
            , S = d_.hB(Y, this.n6.u());
        for (var G = 0; G < 4; G++)
            this.a1[G].i(S[G]);
        this.X6.i(Y.Mthd ? Y.Mthd.v.CrcM == "Absl" : !1)
    }
        ;
    L.blwh = function () {
        L.call(this, "blwh");
        this.uS.push(new e0([12, 11]));
        this.uS.push(new ca(!0));
        for (var G = 0; G < 6; G++)
            this.uS.push(new b7(dD.li[G], -200, 300));
        this.Hk()
    }
        ;
    L.blwh.prototype = new L;
    L.blwh.prototype.oB = function (Y, S) {
        S[0] = Y.useTint.v;
        S[1] = Y.tintColor.v;
        var h = "Rd Yllw Grn Cyn Bl Mgnt".split(" ");
        for (var G = 0; G < 6; G++)
            S[2 + G] = Y[h[G]].v
    }
        ;
    L.blwh.prototype.$z = function (Y, S) {
        Y.useTint.v = S[0];
        Y.tintColor.v = S[1];
        var h = "Rd Yllw Grn Cyn Bl Mgnt".split(" ");
        for (var G = 0; G < 6; G++)
            Y[h[G]].v = S[2 + G]
    }
        ;
    L.hue2 = function () {
        L.call(this);
        this.value = null;
        this.LR = null;
        this.a1r = null;
        var Y = this.j;
        this.n6 = new ey([12, 12], ["Master"].concat(dD.li));
        this.n6.k(P.E.L, this.mP, this);
        Y.appendChild(this.n6.j);
        this.qs = new b7([12, 8], -180, 180);
        this.qs.k(P.E.L, this.Iy, this);
        Y.appendChild(this.qs.j);
        this.py = new b7([12, 9], -100, 100);
        this.py.k(P.E.L, this.Iy, this);
        Y.appendChild(this.py.j);
        this.Yb = new b7([12, 10], -100, 100);
        this.Yb.k(P.E.L, this.Iy, this);
        Y.appendChild(this.Yb.j);
        this.OL = new e0([12, 11]);
        this.OL.k(P.E.L, this.ace, this);
        Y.appendChild(this.OL.j);
        this.a5n = new aG("...", !0);
        Y.appendChild(this.a5n.j)
    }
        ;
    L.hue2.prototype = new L;
    L.hue2.prototype.f = function () {
        this.qs.f();
        this.py.f();
        this.Yb.f();
        this.OL.f();
        this.n6.f()
    }
        ;
    L.hue2.prototype.ace = function (Y) {
        var S = this.OL.u();
        this.value.Clrz.v = S;
        if (S)
            this.n6.i(0);
        this.mP();
        this.Mu()
    }
        ;
    L.hue2.prototype.Iy = function (Y) {
        var S = this.value.Clrz.v
            , h = this.n6.u()
            , q = c9.hB(this.value, h)
            , H = h == 0 ? q : q.$c;
        H[0] = this.qs.u();
        var I = this.py.u();
        H[1] = S ? Math.max(0, I) : I;
        H[2] = this.Yb.u();
        c9.SK(this.value, h, q);
        this.mP();
        this.Mu()
    }
        ;
    L.hue2.prototype.mP = function () {
        var Y = this.value.Clrz ? this.value.Clrz.v : !1
            , H = "";
        this.OL.i(Y);
        if (Y)
            this.n6.f4();
        else
            this.n6.tW();
        var S = this.n6.u()
            , h = c9.hB(this.value, S)
            , q = S == 0 ? h : h.$c;
        this.qs.i(q[0]);
        this.py.i(q[1]);
        this.Yb.i(q[2]);
        if (!Y) {
            H += gx.get([5, 8]) + ": ";
            var S = this.n6.u();
            if (S == 0)
                H += gx.get([13, 2]);
            else
                H += h.uZ
        }
        this.a5n.i(H)
    }
        ;
    L.hue2.prototype.iu = function () {
        return !0
    }
        ;
    L.hue2.prototype.FF = function (Y, S, h, q, H) {
        var I = this.value;
        this.value = io.g4("hue2");
        this.Mu();
        var E = U.fF.j7(Y, H, 1)
            , d = [E >>> 16 & 255, E >>> 8 & 255, E & 255]
            , B = t.Yl(d[0] / 255, d[1] / 255, d[2] / 255);
        this.n6.i(1 + Math.round(B.UR * 6) % 6);
        this.i(I);
        this.Mu();
        this.LR = H.x;
        this.a1r = this.py.u()
    }
        ;
    L.hue2.prototype.vr = function (Y, S, h, q, H) {
        if (this.LR != null) {
            var I = H.x - this.LR;
            I = Math.max(-100, Math.min(100, this.a1r + .5 * I));
            this.py.i(I);
            this.Iy()
        }
    }
        ;
    L.hue2.prototype.mi = function (Y, S, h, q, H) {
        this.LR = null
    }
        ;
    L.hue2.prototype.i = function (Y) {
        this.value = JSON.parse(JSON.stringify(Y));
        this.mP()
    }
        ;
    L.hue2.prototype.u = function (Y) {
        return JSON.parse(JSON.stringify(this.value))
    }
        ;
    L.levl = function () {
        L.call(this);
        this.value = null;
        this.oh = null;
        this.MO = [new aV(0, 0), new aV(0, 0), new aV(0, 0), new aV(0, 0), new aV(0, 0)];
        this.Md = -1;
        this.X$ = this.xN.bind(this);
        this.A2 = this.AC.bind(this);
        var Y = this.j;
        this.$E = new ey([12, 4], ["RGB", [13, 1, 1], [13, 1, 4], [13, 1, 5]]);
        this.$E.k(P.E.L, this.mP, this);
        Y.appendChild(this.$E.j);
        var S = P.w("div", "");
        Y.appendChild(S);
        var h = P.w("div", "");
        Y.appendChild(h);
        this.k8 = P.w("canvas");
        S.appendChild(this.k8);
        this.b6 = this.k8.getContext("2d");
        this.gB = new aV(256, 120);
        this.k8.setAttribute("style", "display:block");
        P.ve(this.k8, this.gB.x, this.gB.y, this.b6);
        P.qT(this.k8);
        P.aK(this.k8, this.ZC.bind(this));
        this.hQ = P.w("canvas", "");
        h.appendChild(this.hQ);
        this.gY = this.hQ.getContext("2d");
        this.KI = new aV(this.gB.x, 40);
        this.hQ.setAttribute("style", "display:block");
        P.ve(this.hQ, this.KI.x, this.KI.y, this.gY);
        P.qT(this.hQ);
        P.aK(this.hQ, this.alK.bind(this));
        var q = this.ahJ = [];
        for (var G = 0; G < 5; G++) {
            var H = new eT(null, null, 3);
            q.push(H);
            H.k(P.E.L, this.adM, this);
            (G < 2 || G == 4 ? S : h).appendChild(H.j)
        }
        S.appendChild(q[1].j);
        q[4].j.setAttribute("style", "margin: 0 4.7em");
        q[3].j.setAttribute("style", "margin:0 0 0 13em");
        this.RL = new dl("Sample from image", ["#000000", "#888888", "#ffffff"]);
        Y.appendChild(this.RL.j)
    }
        ;
    L.levl.prototype = new L;
    L.levl.prototype.f = function () {
        this.$E.f()
    }
        ;
    L.levl.prototype.adM = function (Y) {
        var S = [];
        for (var G = 0; G < 5; G++) {
            var h = 255
                , q = 1;
            if (G == 4) {
                h = 999;
                q = 100
            }
            var H = parseFloat(this.ahJ[G].u());
            S[G] = Math.max(0, Math.min(h, H * q))
        }
        i9.SK(this.value, this.$E.u(), S);
        this.mP();
        this.Mu()
    }
        ;
    L.levl.prototype.mP = function (Y) {
        var S = this.gB.x
            , h = this.gB.y
            , q = this.$E.u()
            , H = this.b6;
        H.clearRect(0, 0, S, h);
        H.fillStyle = "#cccccc";
        H.fillRect(8, 8, S - 16, h - 16 - 8);
        if (this.oh) {
            if (q == 0) {
                this.oh[0].fill(0);
                var I = JSON.parse(JSON.stringify(this.value));
                i9.SK(I, 0, [0, 255, 0, 255, 100]);
                var E = dD.HA("levl", I)
                    , d = [E.gL, E.fK, E.D4];
                for (var B = 0; B < 3; B++) {
                    var n = this.oh[1 + B]
                        , g = d[B];
                    for (var G = 0; G < 256; G++)
                        this.oh[0][g[G]] += n[G]
                }
            }
            var z = this.oh[q]
                , p = 0;
            for (var G = 0; G < z.length; G++)
                p += z[G];
            H.fillStyle = "#333333";
            H.beginPath();
            H.moveTo(8, h - 16);
            for (var G = 0; G < 256; G++) {
                var C = 55 * z[G] / p;
                H.lineTo(8 + G / 256 * (S - 16), Math.max(8, h - 16 - h * C))
            }
            H.lineTo(S - 8, h - 16);
            H.closePath();
            H.fill()
        }
        var T = i9.hB(this.value, q);
        for (var G = 0; G < 5; G++)
            this.ahJ[G].i(T[G] / (G == 4 ? 100 : 1));
        this.MO[0].bm(8 + T[0] / 255 * (S - 16), h - 14);
        this.MO[1].bm(8 + T[1] / 255 * (S - 16), h - 14);
        var A = Math.log(T[4] / 100) / Math.log(9.99);
        A = .5 - A / 2;
        this.MO[4].bm(this.MO[0].x + A * (this.MO[1].x - this.MO[0].x), h - 14);
        this.X0(H, this.MO[0], "#000000");
        this.X0(H, this.MO[1], "#ffffff");
        this.X0(H, this.MO[4], "#777777");
        var S = this.KI.x
            , h = this.KI.y;
        H = this.gY;
        H.clearRect(0, 0, S, h);
        var i = H.createLinearGradient(0, 0, S - 16, 0);
        i.addColorStop(0, "black");
        i.addColorStop(1, "white");
        H.fillStyle = i;
        H.fillRect(8, 8, S - 16, 16);
        this.MO[2].bm(8 + T[2] / 255 * (S - 16), h - 14);
        this.MO[3].bm(8 + T[3] / 255 * (S - 16), h - 14);
        this.X0(H, this.MO[2], "#000000");
        this.X0(H, this.MO[3], "#ffffff")
    }
        ;
    L.levl.prototype.X0 = function (Y, S, h) {
        Y.fillStyle = h;
        Y.fillRect(S.x - 5, S.y, 10, 10)
    }
        ;
    L.levl.prototype.ZC = function (Y) {
        var S = P.WW(Y, this.k8);
        for (var G = 0; G < 2; G++)
            if (aV.kr(this.MO[G], S) < 10)
                this.Md = G;
        if (aV.kr(this.MO[4], S) < 10)
            this.Md = 4;
        this.Ct()
    }
        ;
    L.levl.prototype.alK = function (Y) {
        var S = P.WW(Y, this.hQ);
        for (var G = 2; G < 4; G++)
            if (aV.kr(this.MO[G], S) < 10)
                this.Md = G;
        this.Ct()
    }
        ;
    L.levl.prototype.Ct = function (Y) {
        if (this.Md == -1)
            return;
        P.y2(document.body, this.X$);
        P.cM(document.body, this.A2)
    }
        ;
    L.levl.prototype.xN = function (Y) {
        var S = i9.hB(this.value, this.$E.u())
            , h = P.WW(Y, this.Md == 2 && this.Md == 3 ? this.hQ : this.k8)
            , q = 255 * (h.x - 8) / (this.gB.x - 16);
        q = Math.max(0, Math.min(255, q));
        if (this.Md == 0)
            q = Math.min(q, S[1] - 2);
        if (this.Md == 1)
            q = Math.max(q, S[0] + 2);
        if (this.Md != 4)
            S[this.Md] = Math.round(q);
        else {
            var H = (q - S[0]) / (S[1] - S[0]);
            H = 1 - 2 * H;
            H = Math.pow(9.99, H);
            S[4] = Math.min(999, Math.max(10, Math.round(H * 100)))
        }
        i9.SK(this.value, this.$E.u(), S);
        this.mP();
        this.Mu()
    }
        ;
    L.levl.prototype.AC = function (Y) {
        P.r$(document.body, this.X$);
        P.pp(document.body, this.A2);
        this.Md = -1
    }
        ;
    L.levl.prototype.iu = function () {
        return !0
    }
        ;
    L.levl.prototype.mi = function (Y, S, h, q, H) {
        var I = this.value
            , E = this.RL.u();
        this.value = io.g4("levl");
        this.Mu();
        var d = U.fF.j7(Y, H, 1)
            , B = [d >>> 16 & 255, d >>> 8 & 255, d & 255];
        for (var G = 0; G < 3; G++) {
            var n = i9.hB(I, 1 + G);
            if (E == 0)
                n[0] = B[G];
            if (E == 1) {
                var g = Math.log(B[G] / 255) / Math.log((B[0] + B[1] + B[2]) * .333 / 255);
                n[4] = Math.min(999, Math.max(10, Math.round(100 * g)))
            }
            if (E == 2)
                n[1] = B[G];
            i9.SK(I, 1 + G, n)
        }
        this.i(I);
        this.Mu()
    }
        ;
    L.levl.prototype.i = function (Y) {
        this.value = Y;
        this.mP()
    }
        ;
    L.levl.prototype.Ax = function (Y) {
        this.oh = Y;
        this.mP()
    }
        ;
    L.levl.prototype.u = function (Y) {
        return JSON.parse(JSON.stringify(this.value))
    }
        ;
    L.phfl = function () {
        L.call(this, "phfl");
        this.uS.push(new ca);
        this.uS.push(new b7([12, 74], 0, 100, "%"));
        this.uS.push(new e0([13, 4]));
        this.Hk()
    }
        ;
    L.phfl.prototype = new L;
    L.phfl.prototype.oB = function (Y, S) {
        S[0] = Y.Clr.v;
        S[1] = Y.Dnst.v;
        S[2] = Y.PrsL.v
    }
        ;
    L.phfl.prototype.$z = function (Y, S) {
        var h = t.W.cd(S[0])
            , q = Y.Clr.v
            , H = t.XT(h.h, h.l, h.O);
        q.Lmnc.v = H.sj;
        q.A.v = H.R;
        q.B.v = H.O;
        Y.Dnst.v = S[1];
        Y.PrsL.v = S[2]
    }
        ;
    L.vibA = function () {
        L.call(this, "vibA");
        this.uS.push(new b7([12, 13], -100, 100, null));
        this.uS.push(new b7([12, 9], -100, 100, null));
        this.Hk()
    }
        ;
    L.vibA.prototype = new L;
    L.vibA.prototype.oB = function (Y, S) {
        S[0] = Y.vibrance ? Y.vibrance.v : 0;
        S[1] = Y.Strt ? Y.Strt.v : 0
    }
        ;
    L.vibA.prototype.$z = function (Y, S) {
        Y.vibrance.v = S[0];
        Y.Strt.v = S[1]
    }
        ;
    L.thrs = function () {
        L.call(this, "thrs");
        this.uS.push(new b7([4, 13], 1, 255, null));
        this.Hk()
    }
        ;
    L.thrs.prototype = new L;
    L.thrs.prototype.oB = function (Y, S) {
        S[0] = Y.Lvl.v
    }
        ;
    L.thrs.prototype.$z = function (Y, S) {
        Y.Lvl.v = S[0]
    }
        ;
    L.mixr = function () {
        L.call(this);
        var Y = this.j;
        this.a1 = [];
        this.bN = null;
        this.n6 = new ey([12, 4], [[13, 1, 1], [13, 1, 4], [13, 1, 5]]);
        this.n6.k(P.E.L, this.da, this);
        Y.appendChild(this.n6.j);
        P.f$(Y);
        this.oU = new e0([12, 60]);
        Y.appendChild(this.oU.j);
        this.oU.k(P.E.L, this.da, this);
        for (var G = 0; G < 4; G++) {
            var S = new b7([[13, 1, 1], [13, 1, 4], [13, 1, 5], [13, 2]][G], -200, 200, "%");
            S.k(P.E.L, this.da, this);
            this.a1.push(S);
            Y.appendChild(S.j)
        }
    }
        ;
    L.mixr.prototype = new L;
    L.mixr.prototype.f = function () {
        this.n6.f();
        this.oU.f();
        for (var G = 0; G < 4; G++)
            this.a1[G].f()
    }
        ;
    L.mixr.prototype.i = function (Y) {
        this.bN = JSON.parse(JSON.stringify(Y));
        this.o3()
    }
        ;
    L.mixr.prototype.u = function (Y) {
        return JSON.parse(JSON.stringify(this.bN))
    }
        ;
    L.mixr.prototype.da = function (Y) {
        if (Y.target != this.n6) {
            var S = dD.Ea(this.bN);
            if (Y.target == this.oU) {
                S.oU = this.oU.u();
                if (S.oU)
                    S.G = [40, 40, 20, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
                else
                    S.G = [100, 0, 0, 0, 0, 0, 100, 0, 0, 0, 0, 0, 100, 0, 0, 0, 0, 0, 0, 0]
            } else {
                var h = (S.oU ? 0 : this.n6.u()) * 5
                    , G = this.a1.indexOf(Y.target);
                S.G[h + (G < 3 ? G : 4)] = Y.target.u()
            }
            this.bN = dD.oG(S)
        }
        this.o3();
        this.Mu()
    }
        ;
    L.mixr.prototype.o3 = function () {
        var Y = dD.Ea(this.bN);
        this.oU.i(Y.oU);
        var S = (Y.oU ? 0 : this.n6.u()) * 5;
        for (var G = 0; G < 4; G++)
            this.a1[G].i(Y.G[S + (G < 3 ? G : 4)])
    }
        ;
    L.post = function () {
        L.call(this, "post");
        this.uS.push(new b7([4, 1], 2, 255, null));
        this.Hk()
    }
        ;
    L.post.prototype = new L;
    L.post.prototype.oB = function (Y, S) {
        S[0] = Y.Lvls.v
    }
        ;
    L.post.prototype.$z = function (Y, S) {
        Y.Lvls.v = S[0]
    }
        ;
    L.clrL = function () {
        L.call(this, "clrL");
        this.uS.push(new h2("LUTs"));
        this.Hk()
    }
        ;
    L.clrL.prototype = new L;
    L.clrL.prototype.oB = function (Y, S) {
        S[0] = Y
    }
        ;
    L.clrL.prototype.$z = function (Y, S) {
        var h = S[0];
        for (var q in h)
            Y[q] = h[q]
    }
        ;
    L.clrL.prototype.rJ = function (Y, S) {
        if (S == iD.Ie || S == iD.HE)
            this.uS[0].dB(Y.a7M)
    }
        ;
    L.rplc = function () {
        L.call(this, "rplc");
        this.uS.push(new b7([12, 92], 0, 200));
        this.uS.push(new ca);
        this.uS.push(new b7([12, 8], -180, 180));
        this.uS.push(new b7([12, 9], -100, 100));
        this.uS.push(new b7([12, 10], -100, 100));
        this.Hk()
    }
        ;
    L.rplc.prototype = new L;
    L.rplc.prototype.oB = function (Y, S) {
        S[0] = Y.Fzns.v;
        S[1] = Y.Mxm.v;
        S[2] = Y.H.v;
        S[3] = Y.Strt.v;
        S[4] = Y.Lght.v
    }
        ;
    L.rplc.prototype.$z = function (Y, S) {
        function h(H, I) {
            I.Lmnc.v = H.sj;
            I.A.v = H.R;
            I.B.v = H.O
        }
        Y.Fzns.v = S[0];
        Y.H.v = S[2];
        Y.Strt.v = S[3];
        Y.Lght.v = S[4];
        var q = t.W.cd(S[1])
            , H = t.XT(q.h, q.l, q.O);
        h(H, Y.Mnm.v);
        h(H, Y.Mxm.v)
    }
        ;
    L.fade = function () {
        L.call(this, "fade");
        this.uS.push(new b7([12, 0], 0, 100, "%"));
        this.uS.push(new ey([12, 19, 0], iS.hc, !1, iS.sm));
        this.Hk()
    }
        ;
    L.fade.prototype = new L;
    L.fade.prototype.oB = function (Y, S) {
        S[0] = Y.Opct.v.val;
        S[1] = iS.Qu.indexOf(Y.Md.v.BlnM)
    }
        ;
    L.fade.prototype.$z = function (Y, S) {
        Y.Opct.v.val = S[0];
        Y.Md.v.BlnM = iS.Qu[S[1]]
    }
        ;
    L.aply = function () {
        L.call(this, "aply");
        this.uS.push(new ey([0, 3], []));
        this.uS.push(new ey([12, 4], ["RGB"].concat(dD.B$).concat(["Transparency"])));
        this.uS.push(new e0([4, 11]));
        this.uS.push(new ey([12, 19, 0], iS.hc, !1, iS.sm));
        this.uS.push(new b7([12, 0], 0, 100, "%"));
        this.uS.push(new e0("Preserve Transparency"));
        this.Hk([2]);
        this.y3 = null
    }
        ;
    L.aply.prototype = new L;
    L.aply.prototype.oB = function (Y, S, h) {
        if (h) {
            var q = h[2].t
                , H = this.y3 = [];
            for (var G = 0; G < q.length; G++)
                H.push(q[G].getName());
            H.reverse();
            this.uS[0].Hm([[5, 7]].concat(H), [1, H.length])
        } else
            var H = this.y3;
        Y = Y.With.v;
        var I = Y.T.v;
        S[0] = I[1].t == "name" ? 1 + H.indexOf(I[1].v.val) : 0;
        S[1] = ["RGB", "Rd", "Grn", "Bl", "Trsp"].indexOf(I[0].v.enum);
        S[2] = Y.Invr.v;
        S[3] = iS.Qu.indexOf(Y.Clcl.v.Clcn);
        S[4] = Y.Opct.v.val;
        S[5] = Y.PrsT.v
    }
        ;
    L.aply.prototype.$z = function (Y, S) {
        Y = Y.With.v;
        var h = Y.T.v;
        if (S[0] == 0)
            h[1] = {
                t: "Enmr",
                v: {
                    classID: "Lyr",
                    typeID: "Ordn",
                    enum: "Mrgd"
                }
            };
        else
            h[1] = {
                t: "name",
                v: {
                    classID: "Lyr",
                    val: this.y3[this.y3.length - 1 - S[0]]
                }
            };
        h[0].v.enum = ["RGB", "Rd", "Grn", "Bl", "Trsp"][S[1]];
        Y.Invr.v = S[2];
        Y.Clcl.v.Clcn = iS.Qu[S[3]];
        Y.Opct.v.val = S[4];
        Y.PrsT.v = S[5]
    }
        ;
    function h8(Y, S) {
        e9.call(this);
        if (Y == null)
            return;
        this.id = S;
        this.pC = Y;
        this.bB = null;
        this.j = P.w("div", "window " + S);
        this.a2S = null;
        this.ni = P.w("div", "whead");
        this.a1J = P.w("span", "wname");
        this.ni.appendChild(this.a1J);
        this.j.appendChild(this.ni);
        this.Cg = this.a8s.bind(this);
        this.z2 = this.ac5.bind(this);
        this.Va = this.a22.bind(this);
        P.qT(this.ni);
        P.aK(this.ni, this.Cg);
        this.Vp = P.w("span", "cross");
        this.ni.appendChild(this.Vp);
        h8.prototype.f.call(this);
        P.cM(this.Vp, this.VL.bind(this));
        this.body = P.w("div", "body");
        this.j.appendChild(this.body)
    }
    h8.prototype = new e9;
    h8.prototype.VD = function () {
        return !1
    }
        ;
    h8.prototype.iu = function () {
        return !1
    }
        ;
    h8.prototype.f = function () {
        if (this.pC == null)
            return;
        this.a1J.textContent = gx.get(this.pC);
        var Y = PIMG.__cross == null ? "filter:invert(1);" : "";
        this.Vp.setAttribute("style", "background-image:url(" + PIMG.cross + ");" + Y)
    }
        ;
    h8.prototype.FF = function (Y, S, h, q, H) { }
        ;
    h8.prototype.II = function (Y, S, h, q, H) { }
        ;
    h8.prototype.vr = function (Y, S, h, q, H) { }
        ;
    h8.prototype.mi = function (Y, S, h, q, H) { }
        ;
    h8.prototype.dP = function (Y, S, h, q, H) { }
        ;
    h8.prototype.jL = function (Y, S, h, q) {
        if (q.q(F.gm) && this.sf)
            this.sf();
        if (q.q(F.EO)) {
            var H = new _(P.E.A);
            H.NN = !0;
            U.Ka.Jl(q, H);
            if (H.data)
                S.B(H)
        }
    }
        ;
    h8.prototype.E8 = function (Y) {
        return !1
    }
        ;
    h8.prototype.UO = function (Y, S) {
        return !0
    }
        ;
    h8.prototype.kg = function (Y, S, h, q) { }
        ;
    h8.prototype.rJ = function (Y, S) { }
        ;
    h8.prototype.OV = function (Y, S) {
        return null
    }
        ;
    h8.prototype.aav = function (Y) {
        return this.a2S
    }
        ;
    h8.prototype.hD = function () { }
        ;
    h8.prototype.close = function () {
        this.B(new _(P.E.Os))
    }
        ;
    h8.prototype.a8s = function (Y) {
        this.bB = P.WW(Y, this.j);
        P.y2(window, this.z2);
        P.cM(window, this.Va)
    }
        ;
    h8.prototype.ac5 = function (Y) {
        var S = this.j.parentNode
            , h = P.WW(Y, S)
            , q = Math.round(h.x - this.bB.x)
            , H = S.offsetTop + Math.max(0, Math.min(window.innerHeight - 36, Math.round(h.y - this.bB.y)));
        this.a2S = new aV(q, H);
        this.j.style.left = q + "px";
        this.j.style.top = H + "px"
    }
        ;
    h8.prototype.a22 = function (Y) {
        P.r$(window, this.z2);
        P.pp(window, this.Va)
    }
        ;
    h8.prototype.VL = function (Y) {
        this.B(new _("closebtn"));
        this.close()
    }
        ;
    function f2() {
        h8.call(this, [0, 13, 0], "account");
        this.vU = P.w("div", "form padded scrollable");
        this.vU.setAttribute("style", "max-width:48em;  max-height:33em;");
        this.body.appendChild(this.vU);
        this.ZO = [new f2.YQ, new f2.q$(f2.a6K), new f2.q$(f2.ab0)];
        for (var G = 0; G < this.ZO.length; G++)
            this.ZO[G].parent = this;
        this.k("showpage", this.a9A, this)
    }
    f2.prototype = new h8;
    f2.prototype.a9A = function (Y) {
        P.v3(this.vU);
        this.vU.scrollTop = 0;
        this.vU.appendChild(this.ZO[Y.data.Y8].j)
    }
        ;
    f2.prototype.f = function () {
        h8.prototype.f.call(this);
        for (var G = 0; G < this.ZO.length; G++)
            this.ZO[G].f()
    }
        ;
    f2.prototype.kg = function (Y, S, h) {
        P.v3(this.vU);
        var q = this.ZO[0];
        this.vU.appendChild(q.j);
        q.kg();
        this.f()
    }
        ;
    f2.prototype.rJ = function (Y, S) {
        this.kg(null, null, null)
    }
        ;
    f2.YQ = function () {
        e9.call(this);
        this.j = P.w("div");
        var Y = this.j, S, h, q = "background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; font-weight:bold; color:#ffffff; cursor:pointer; margin:4px 0;";
        this.EY = P.w("div");
        Y.appendChild(this.EY);
        this.rn = new gP([0, 11], !1, null, !0);
        this.rn.j.setAttribute("style", "background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
        this.rn.k("click", this.q3, this);
        Y.appendChild(this.rn.j);
        this.Je = new gP([0, 13, 1], !1, null, !0);
        this.Je.k("click", this.E5, this);
        Y.appendChild(this.Je.j);
        this.aij = new gP("Contact", !1, null, !0);
        this.aij.k("click", this.a5y, this);
        S = P.w("h2");
        S.innerHTML = "Account types";
        Y.appendChild(S);
        h = P.w("table");
        h.innerHTML = "\t\t\t<table>\t\t\t\t<tr>   <th class=\"left\"></th><th>Free</th><th>Premium</th> </tr>\t\t\t\t<tr>   <td class=\"left\">Full Functionality</td><td class=\"yes\">\u2713</td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">No Ads</td><td class=\"no\"> </td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">Steps in History</td><td class=\"no\" style=\"font-size:1.3em\">30</td><td class=\"yes\">60</td>    </tr>\t\t\t\t<!--<tr class=\"lastrow\">   <td class=\"left\">Cost</td><td>Free</td><td><big>$5</big> per month</td>    </tr>-->\t\t\t</table>\t\t";
        Y.appendChild(h);
        var H = this.ahY = [[9, 30, 1], [10, 90, 1], [40, 365, 1], [15, 30, 5], [30, 90, 5], [120, 365, 5], [50, 30, 20], [100, 90, 20], [400, 365, 20], [40, 30, 1e3], [80, 90, 1e3], [300, 365, 1e3], [100, 30, 5e3], [200, 90, 5e3], [700, 365, 5e3], [200, 30, 2e4], [400, 90, 2e4], [1400, 365, 2e4]];
        this.T0 = [];
        for (var G = 0; G < H.length; G++)
            this.T0.push(new gP("Buy: $" + H[G][0], !1, null, !0));
        for (var G = 0; G < this.T0.length; G++) {
            this.T0[G].j.setAttribute("style", q);
            this.T0[G].k("click", this.qI, this)
        }
        S = P.w("h2");
        S.innerHTML = "Go Premium";
        Y.appendChild(S);
        this.FY = new gP("...", !0);
        this.FY.j.setAttribute("style", q);
        Y.appendChild(this.FY.j);
        h = this.jO(3, ["Single user", this.T0[0], this.T0[1], this.T0[2], "Team of 5", this.T0[3], this.T0[4], this.T0[5], "Team of 20", this.T0[6], this.T0[7], this.T0[8]]);
        Y.appendChild(h);
        this.a4W = new e0("I accept", !0, "");
        Y.appendChild(this.a4W.j);
        this.NA = new gP([0, 13, 1], !1, null, !0);
        this.NA.k("click", this.E5, this);
        Y.appendChild(this.NA.j);
        this.BD = new gP("I have a key", !1, null, !0);
        this.BD.j.setAttribute("style", q + " margin-left:18.9em;");
        this.BD.k("click", this.qI, this);
        Y.appendChild(this.BD.j);
        S = P.w("h2");
        S.textContent = "Team Settings";
        Y.appendChild(S);
        this.SI = new e0("Join a team");
        Y.appendChild(this.SI.j);
        this.SI.k(P.E.L, this.Wi, this);
        this.qb = new eT("Email of a leader", null, 14);
        Y.appendChild(this.qb.j);
        P.f$(Y);
        this.g5 = new e0("Start a team");
        Y.appendChild(this.g5.j);
        this.g5.k(P.E.L, this.Wi, this);
        var I = new aG("Emails of other members:");
        Y.appendChild(I.j);
        P.f$(Y);
        this.U7 = P.w("textarea");
        this.U7.setAttribute("rows", 3);
        this.U7.setAttribute("cols", 70);
        this.U7.setAttribute("style", "display:block;tab-size:4;");
        Y.appendChild(this.U7);
        var E = new gP("Save Team Settings", !1, null, !0);
        Y.appendChild(E.j);
        E.k("click", this.alv, this);
        var d = this.a8_ = new gP("More about Teams", !1, null, !0);
        Y.appendChild(d.j);
        d.k("click", this.C4, this);
        S = P.w("h2");
        S.innerHTML = "Distributor Account";
        Y.appendChild(S);
        this.jE = new gP("...", !0);
        this.jE.j.setAttribute("style", q);
        Y.appendChild(this.jE.j);
        h = this.jO(3, ["1000 views/month", this.T0[9], this.T0[10], this.T0[11], "5000 views/month", this.T0[12], this.T0[13], this.T0[14], "20000 views/month", this.T0[15], this.T0[16], this.T0[17]]);
        Y.appendChild(h);
        this.oa = new eT("Domain name (e.g. domain.com)", null, 14);
        Y.appendChild(this.oa.j);
        P.f$(Y);
        var E = new gP("Save Domain Settings", !1, null, !0);
        E.Fc();
        Y.appendChild(E.j);
        E.k("click", this.aa6, this);
        var d = new gP("More about Distributors", !1, null, !0);
        Y.appendChild(d.j);
        d.k("click", this.C4, this)
    }
        ;
    f2.YQ.prototype = new e9;
    f2.YQ.prototype.E5 = function (Y) {
        var S = new _("showpage", !0);
        S.data = {
            Y8: 1
        };
        this.B(S)
    }
        ;
    f2.YQ.prototype.a5y = function (Y) {
        var S = new _("showpage", !0);
        S.data = {
            Y8: 2
        };
        this.B(S)
    }
        ;
    f2.YQ.prototype.f = function () {
        this.rn.D2(dq.Ce() ? gx.get([0, 11]) : gx.get([0, 10]));
        this.NA.f();
        this.Je.f();
        this.aij.f()
    }
        ;
    f2.YQ.prototype.C4 = function (Y) {
        var S = new _(P.E.P, !0);
        S.data = {
            X: P.U.wU,
            link: "https://www.photopea.com/api/accounts#" + (Y.target == this.a8_ ? "teams" : "distributors")
        };
        this.B(S)
    }
        ;
    f2.YQ.prototype.Wi = function (Y) {
        var S = Y.currentTarget == this.SI;
        this.SI.i(S);
        this.g5.i(!S)
    }
        ;
    f2.YQ.prototype.alv = function (Y) {
        var S = this.SI.u()
            , h = this.qb.u().trim()
            , q = this.U7.value.trim();
        if (h.length > 60) {
            alert("Too long email address");
            return
        }
        if (q.length > 600) {
            alert("Too many team members");
            return
        }
        q = q.split(",").join(" ").trim();
        q = q.replace(/\s+/g, " ");
        if (q == "")
            q = [];
        else
            q = q.split(" ");
        var H = dq.cK();
        if (H == null)
            H = {};
        if (H.acc == null)
            H.acc = {};
        H.acc.team = {
            jin: S,
            ldr: h,
            mmb: q
        };
        dq.iD(H, this.f7.bind(this));
        alert("Saved!");
        this.kg()
    }
        ;
    f2.YQ.prototype.aa6 = function (Y) {
        var S = this.oa.u().trim();
        if (!dq.Ce()) {
            alert("You have to log in first.");
            return
        }
        if (dq.Rg().distrib == "0") {
            alert("Order a distributor account first.");
            return
        }
        var h = dq.cK();
        if (h == null)
            h = {};
        if (h.acc == null)
            h.acc = {};
        if (S == "")
            delete h.acc.dname;
        else
            h.acc.dname = S;
        dq.iD(h, this.f7.bind(this));
        alert("Saved!");
        this.kg()
    }
        ;
    f2.YQ.prototype.kg = function () {
        if (dq.Ce()) {
            var Y = dq.Rg();
            if (Y == null)
                return;
            this.EY.innerHTML = "<span style=\"font-size:1.5em; margin-right:0.7em;\">" + Y.name + "</span> " + Y.email + " <br/>"
        } else
            this.EY.innerHTML = "Logging In is free. Your environment settings will be synchronized across all devices. <br/>";
        var S = dq.Ce() && dq.nu();
        this.FY.j.style.display = S ? "block" : "none";
        if (S) {
            var h = parseInt(Y[P.mS("!&|'&50")]) - Date.now() * (1 / 1e3), q = parseInt(Y.ptype), H;
            if (q == -1)
                H = "member of a team";
            else if (q == 1)
                H = "Single user";
            else
                H = "Team of " + q;
            this.FY.D2("Premium active for " + Math.round(h / (60 * 60 * 24)) + " more days! (" + H + ")")
        }
        var I = dq.Ce() && Y.distrib * 1e3 > Date.now();
        this.jE.j.style.display = I ? "block" : "none";
        if (I) {
            var h = parseInt(Y.distrib) - Date.now() / 1e3
                , q = parseInt(Y.ptype);
            this.jE.D2("Distributor active for " + Math.round(h / (60 * 60 * 24)) + " more days! (" + q + " visitos)")
        }
        var E = dq.cK();
        if (E && E.acc && E.acc.team) {
            var d = E.acc.team;
            this.SI.i(d.jin);
            this.g5.i(!d.jin);
            this.qb.i(d.ldr);
            this.U7.value = d.mmb.join(", ")
        } else {
            this.SI.i(!0);
            this.g5.i(!1);
            this.qb.i("");
            this.U7.value = ""
        }
        if (E && E.acc && E.acc.dname)
            this.oa.i(E.acc.dname);
        else
            this.oa.i("")
    }
        ;
    f2.YQ.prototype.jO = function (Y, S) {
        var h = P.w("table");
        h.innerHTML = "\t\t\t\t<table>\t\t\t\t\t<tr>   <th class=\"left\"></th><th>30 days</th><th>90 days</th> " + (Y == 3 ? "<th>365 days</th>" : "") + " </tr>\t\t\t\t</table>\t\t\t";
        for (var G = 0; G < S.length; G += Y + 1) {
            var q = P.w("tr"), H;
            h.appendChild(q);
            H = P.w("td", "left");
            q.appendChild(H);
            H.innerHTML = "<b>" + S[G] + "</b>";
            for (var I = 0; I < Y; I++) {
                H = P.w("td");
                q.appendChild(H);
                H.appendChild(S[G + 1 + I].j)
            }
        }
        return h
    }
        ;
    f2.YQ.prototype.qI = function (Y) {
        var S = this.T0.indexOf(Y.currentTarget)
            , q = 30
            , H = 1;
        if (!dq.Ce()) {
            alert("You must log in before buying Premium");
            return
        }
        if (this.a4W.u() == !1 && S < 9) {
            alert("You must accept Terms of Service");
            return
        }
        var h = dq.Ce() && dq.nu();
        if (S != -1) {
            var I = this.ahY[S];
            q = I[1];
            H = I[2]
        }
        if (h && H < 1e3) {
            alert("You already have premium.");
            return
        }
        if (S == -1) {
            var E = prompt("Please enter your key");
            if (E != null) {
                dq.ai1(E, this.f7.bind(this));
                this.Ab()
            }
            return
        }
        if (q == 30 && H == 1) {
            var d = confirm("You can have a 90 days version for $10. Do you still want a 30 days version for $9?");
            if (!d)
                return
        }
        dq.order(q, H, this.f7.bind(this));
        this.Ab()
    }
        ;
    f2.YQ.prototype.f7 = function (Y) {
        if (dq.Ce() && dq.Rg().msg)
            alert(dq.Rg().msg);
        this.kg();
        this.Ab()
    }
        ;
    f2.YQ.prototype.q3 = function (Y) {
        if (dq.Ce()) {
            dq.a5U();
            this.Ab();
            this.kg(null, null, null)
        } else
            dq.q3(this.anH.bind(this))
    }
        ;
    f2.YQ.prototype.anH = function () {
        var Y = new _(P.E.P, !0);
        Y.data = {
            X: P.U.aju
        };
        this.B(Y)
    }
        ;
    f2.YQ.prototype.Ab = function () {
        var Y = new _(P.E.P, !0);
        Y.data = {
            X: P.U.Gl
        };
        this.B(Y)
    }
        ;
    f2.q$ = function (Y) {
        e9.call(this);
        this.j = P.w("div");
        var S = this.j
            , h = this.a4C = new gP([0, 13, 2], !1, null, !0);
        h.k("click", this.al3, this);
        S.appendChild(h.j);
        var q = P.w("div");
        q.innerHTML = Y;
        S.appendChild(q)
    }
        ;
    f2.q$.prototype = new e9;
    f2.q$.prototype.al3 = function (Y) {
        var S = new _("showpage", !0);
        S.data = {
            Y8: 0
        };
        this.B(S)
    }
        ;
    f2.q$.prototype.f = function () {
        this.a4C.f()
    }
        ;
    f2.ab0 = "\t\t<h1>Contact</h1>\t\t<p>Photopea.com is a service operated by Ivan Kuckir (I\u010C 04498411).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com</li>\t\t\t<li><b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<p>You can ask for a refund by writing us an email.</p>\t\t<p>You can pay with PayPal or your credit / debit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t";
    f2.a6K = "\t\t<h1>Terms of Service</h1>\t\t\t\t<h2>What are these Terms?</h2>\t\t<p>\t\tThese terms form a binding contract between you and us (\"these Terms\") regarding your access to and use of any of our web sites, \t\tweb applications, services, products and Software that contain a link to these Terms (individually and collectively, the \"Service\"). \t\t</p>\t\t\t\t<h2>Changes to the Service or these Terms</h2>\t\t<p>\t\tWe may make changes to, update (or not update) or discontinue any part, element, functionality, availability or offering of the Service.\t\tWe may also make changes or updates to these Terms at any time and for any reason in our sole discretion, including complying with applicable law. \t\tIf we make any material changes to these Terms, we\u2019ll provide notice to you in any way we deem reasonable including, for example, \t\tby posting a notice of the change on our web site(s) or in-service, or by sending a notice to your email address if you\u2019ve given it to us.\t\t</p>\t\t\t\t<h2>Your content</h2>\t\t<p>\t\tThese Terms don\u2019t grant us (and we don\u2019t claim) any ownership rights in Your Content.\t\t</p>\t\t<p>\t\t<b>Posting Your Content.</b> By sharing, publishing (e.g. through Imgur), distributing or allowing others to \t\taccess Your Content through the Service You are solely responsible for the consequences of doing so and you acknowledge \t\tand agree that Your Content may be viewed worldwide. If you choose to make your personal information publicly available through the Service, \t\tyou do so at your own risk. You warrant that you have obtained all necessary licenses, \t\trights and permissions to use and grant all of the rights granted in these Terms\t\tto Your Content and that you will comply with any requirements or restrictions imposed by them.\t\t</p>\t\t<!--\t\t<p>\t\tWe have the right (but not the obligation) to pre-screen or monitor any Content or any user's access to the Service,\t\tand to remove or block access to any Content for any reason, or suspend or terminate any user's access to the Service for any reason. \t\tWe have no responsibility or liability with respect to any Content, including for any actions that we may take with respect \t\tto any Content that we determine violates these Terms.\t\t</p>\t\t-->\t\t\t\t<h2>Registering for the Service</h2>\t\t<p>\t\tYou may be required or permitted to register with us to access the Service or certain areas of the Service.\t\tYou agree to immediately notify us of any unauthorized use of your registration information (including all purchases).  \t\tYou may also be able to sign into the Service by using a third-party social networking platform account \t\t(such as Facebook, Google+ or Twitter). Your registration information (including your user name and password, \t\tand any social networking account with which you sign into the Service) is for your personal use only, and not for use by any other person. \t\tYou are responsible for maintaining the confidentiality of any password you may use to access the Service, and agree not to transfer your password or user name\t\tto any third party. You are fully responsible for all use of your registration information, \t\tand to ensure that you \"log out\"/exit from your account with the Service (if applicable) \t\tat the end of each session. We are not liable for any loss or damage arising from your failure to comply with any of the foregoing obligations. \t\t</p>\t\t\t\t<h1>Privacy Policy</h1>\t\t\t\t<p>\t\tBy voluntarily providing us with Personal Data, you are consenting to our use of it in accordance with this Privacy Policy. \t\tIf you provide Personal Data to the Service, you acknowledge and agree that such Personal Data may be transferred from your current location to our servers.\t\t</p>\t\t<p>Computer information collected:</p>\t\t\t\t<ul>\t\t\t\t<li><b>Third party tracking tools.</b> We use third party tracking tools to improve the performance and features of the Service (e.g. Google Analytics).\t\t\t\tSuch tools are created and managed by parties outside our control. As such, we are not responsible for what information is actually captured by such third parties \t\t\t\tor how such third parties use and protect that information.</li>\t\t\t\t\t\t\t\t<li><b>Name and email for the authorization.</b> You may use third-party services (such as Facebook or Google) to log into the Service. \t\t\t\tIn such case, we store your name and email address, that were provided to us by third-party services.</li>\t\t\t\t\t\t\t\t<li><b>Environment settings.</b> When you use the Service, environment settings (e.g. current language, current color theme) \t\t\t\tare stored at your computer in \"localData\".\t\t\t\tIt helps us provide you the same environment when you visit the Service next time.<br/>\t\t\t\tWhen you log into the Service, your environemnt settings are stored at our server. \t\t\t\t</li>\t\t\t\t\t\t\t\t<li><b>Payer information.</b> When you make an order inside the Service and you pay through a third-party service (e.g. PayPal), \t\t\t\twe may store the information about the payer, that we may receive from the third-party service \t\t\t\t(it usually contains the name, the email address and the physical address of the payer, but no card nambers or passwords).</li>\t\t</ul>\t\t\t\t";
    function d2() {
        h8.call(this, [11, 14], "addguides");
        this.Tp;
        this.it = {
            nF: {
                W_: 0
            }
        };
        this.IT = null;
        var Y = P.w("div", "form");
        this.body.appendChild(Y);
        this.OM = new eT([22, 4, 0], null, 16);
        this.OM.k(P.E.L, this.PO, this);
        this.__ = new eT([22, 4, 1], null, 16);
        this.__.k(P.E.L, this.PO, this);
        this.xl = new ey(null, t.n1.rQ);
        this.xl.k(P.E.L, this.PO, this);
        Y.appendChild(this.OM.j);
        Y.appendChild(this.xl.j);
        P.f$(Y);
        Y.appendChild(this.__.j);
        this.BV = new gP("OK", !0, null, !0);
        this.BV.k("click", this.sf, this);
        Y.appendChild(this.BV.j);
        this.k("closebtn", this.a06, this)
    }
    d2.prototype = new h8;
    d2.prototype.UO = function (Y, S) {
        return Y != null
    }
        ;
    d2.prototype.VD = function () {
        return !0
    }
        ;
    d2.prototype.f = function () {
        h8.prototype.f.call(this);
        this.OM.f();
        this.__.f();
        this.xl.f()
    }
        ;
    d2.prototype.rJ = function (Y, S) {
        var h = Y.nF.W_;
        this.it.nF.W_ = h;
        this.xl.i(h)
    }
        ;
    d2.prototype.kg = function (Y, S) {
        this.Tp = Y;
        this.IT = JSON.stringify(Y.E9);
        this.Om()
    }
        ;
    d2.prototype.Om = function () {
        var Y = this.Tp
            , S = Y.E9
            , h = function (q, Y, H, I) {
                var E = [];
                for (var G = 0; G < q.length; G++)
                    E.push(t.n1.qZ(q[G], Y.PW, H, I));
                return E.join(", ")
            };
        this.OM.i(h(S[1], Y, this.it, Y.v));
        this.__.i(h(S[0], Y, this.it, Y.d))
    }
        ;
    d2.prototype.PO = function (Y) {
        if (Y && Y.currentTarget == this.xl)
            this.it.nF.W_ = this.xl.u();
        else {
            var S = this.IG(this.OM)
                , h = this.IG(this.__)
                , q = this.Tp;
            q.E9 = [h, S];
            q.Yw = !0
        }
        this.Om()
    }
        ;
    d2.prototype.IG = function (Y) {
        var S = Y == this.OM ? this.Tp.v : this.Tp.d
            , h = Y.u().replace(/,/g, " ").replace(/  +/g, " ").trim()
            , q = h == "" ? [] : h.split(" ");
        for (var G = 0; G < q.length; G++)
            q[G] = t.n1.a4x(q[G], this.Tp.PW, this.it, S);
        return q
    }
        ;
    d2.prototype.a06 = function (Y) {
        var S = this.Tp;
        S.E9 = JSON.parse(this.IT);
        S.Yw = !0;
        this.Tp = null
    }
        ;
    d2.prototype.sf = function (Y) {
        this.PO(Y);
        var S = new _(P.E.A, !0);
        S.F = U.Vg;
        S.data = {
            X: "gids",
            $t: JSON.parse(this.IT),
            QL: JSON.parse(JSON.stringify(this.Tp.E9))
        };
        this.Tp = null;
        this.close();
        this.B(S)
    }
        ;
    function cE(Y) {
        var S = io.names[Y];
        if (S == null)
            S = dD.names[Y];
        if (Y == "aply")
            S = "Apply Image";
        if (Y == "fade")
            S = [2, 11];
        if (Y == "blendOptions")
            S = [14, 10];
        h8.call(this, S, "afw_" + Y);
        this.ks = Y;
        this.dX = null;
        this.jM = null;
        this.Pk = new L[Y];
        this.Pk.k(P.E.L, this.Mu, this);
        this.Pk.parent = this;
        this.body.appendChild(this.Pk.j);
        this.YH = new e0([24, 18, 5]);
        this.YH.i(!0);
        this.YH.k(P.E.L, this.Mu, this);
        this.a8L = new gP("Reset", !0, null, !0);
        this.a8L.k("click", this.LE, this);
        this.BV = new gP("OK", !0, null, !0);
        this.BV.k("click", this.sf, this);
        if (this.hZ())
            this.Pk.NX(this.BV.j);
        else {
            P.xv(this.Pk.j, "form");
            P.xv(this.body, "flexrow");
            this.Pk.j.setAttribute("style", "width:24em");
            var h = P.w("div");
            this.body.appendChild(h);
            h.setAttribute("style", "width:8em; margin-left:1em; line-height:2.3em");
            h.appendChild(this.BV.j);
            h.appendChild(this.a8L.j);
            h.appendChild(this.YH.j)
        }
        this.k("closebtn", this.uv, this)
    }
    cE.prototype = new h8;
    cE.prototype.VD = function () {
        return !0
    }
        ;
    cE.prototype.hZ = function () {
        return this.Pk != null && this.Pk.wz()
    }
        ;
    cE.prototype.OV = function () {
        return this.hZ() ? new aV(0, 0) : h8.prototype.OV()
    }
        ;
    cE.prototype.iu = function () {
        return this.Pk.iu()
    }
        ;
    cE.prototype.FF = function (Y, S, h, q, H) {
        this.Pk.FF(Y, S, h, q, H)
    }
        ;
    cE.prototype.vr = function (Y, S, h, q, H) {
        this.Pk.vr(Y, S, h, q, H)
    }
        ;
    cE.prototype.mi = function (Y, S, h, q, H) {
        debugger
        this.Pk.mi(Y, S, h, q, H)
    }
        ;
    cE.prototype.UO = function (Y, S) {
        if (this.ks == "fade")
            return cE.RU(Y);
        return !0
    }
        ;
    cE.prototype.LE = function (Y) {
        this.Pk.i(io.g4(this.ks));
        this.Mu()
    }
        ;
    cE.prototype.Mu = function (Y) {
        this.gf({
            X: "edit",
            w1: this.Pk.u(),
            vj: !this.YH.u()
        })
    }
        ;
    cE.prototype.uv = function (Y) {
        this.gf({
            X: "cancel"
        })
    }
        ;
    cE.prototype.sf = function (Y) {
        if (!this.YH.u()) {
            this.YH.i(!0);
            this.Mu()
        }
        this.jM = this.Pk.u();
        if (this.hZ())
            this.Mu();
        this.gf({
            X: "confirm"
        });
        this.close()
    }
        ;
    cE.prototype.f = function () {
        h8.prototype.f.call(this);
        this.YH.f();
        if (this.Pk)
            this.Pk.f()
    }
        ;
    cE.prototype.rJ = function (Y, S) {
        if (this.Pk)
            this.Pk.rJ(Y, S)
    }
        ;
    cE.prototype.jL = function (Y, S, h, q) {
        if (this.hZ())
            this.Pk.jL(q);
        else
            h8.prototype.jL.call(this, Y, S, h, q)
    }
        ;
    cE.prototype.kg = function (Y, S, h, q) {
        this.dX = S.dX;
        var H = Y.add.lnk2 ? Y.add.lnk2 : [], I, E, d = new W(0, 0, Y.d, Y.v), B = Y.t[Y.C[0]], n = null;
        I = B.buffer;
        E = B.rect;
        if (this.hZ())
            n = Y.Q3(Y.C[0] - 1);
        var g = io.g4(this.ks)
            , z = [H, Y.h3, Y];
        if (S.dX == null) {
            this.Pk.i(g, I, E, d, n, z);
            if (dD.names[this.ks]) {
                if (q.q(F.Gs) && this.jM)
                    this.Pk.i(this.jM);
                var p = cU.Xw.getData(Y)
                    , C = t.Po(p[0].kQ);
                this.Pk.Ax(C)
            }
        } else {
            var T = !1
                , B = Y.t[this.dX.$];
            if (B.ef()) {
                var A = B.$l(Y);
                I = A.buffer;
                E = A.rect;
                var i = B.add.SoLd.filterFX.v.filterFXList.v;
                if (i[this.dX.index]) {
                    var e = i[this.dX.index].v
                        , a = e.Fltr.v;
                    this.Pk.i(this.ks == "blendOptions" ? e.blendOptions.v : a, I, E, d, n, z);
                    this.Pk.Ax(t.Po(I));
                    T = !0
                }
            }
            if (!T) {
                this.Pk.i(g, I, E, d, n, z);
                this.Pk.Ax(t.Po(I))
            }
        }
        if (!this.hZ())
            this.Mu()
    }
        ;
    cE.prototype.gf = function (Y) {
        var S = new _(P.E.A, !0);
        Y.ks = this.ks;
        Y.dX = this.dX;
        S.data = Y;
        S.F = io.names[this.ks] || this.dX ? U.J_ : U.dk;
        S.NN = !0;
        this.B(S)
    }
        ;
    cE.prototype.hD = function (Y, S) {
        S = S - 26;
        Y = Y - 26;
        this.Pk.hD(Y, S)
    }
        ;
    cE.RU = function (Y) {
        if (Y == null)
            return !1;
        var S = Y.JK();
        if (S == null || !(S.data instanceof Array) || S.data.length != Y.C.length)
            return !1;
        for (var G = 0; G < S.data.length; G++) {
            var h = S.data[G];
            if (h.$ < 0 && Y.h3[-1 - h.$])
                return !0;
            if (h.$ == null || Y.t[h.$] == null || Y.t[h.$].wF != h.g8)
                return !1;
            if (Y.C.indexOf(h.$) == -1)
                return !1
        }
        return !0
    }
        ;
    function i8() {
        h8.call(this, [11, 0], "camera");
        this.data = null;
        this.YO = new aV(1, 1);
        this.aip = [];
        var Y = P.w("div", "form hbar");
        this.body.appendChild(Y);
        this.amp = new ey(null, []);
        this.Ta = new ey([21, 0], [[21, 2], [21, 1]]);
        Y.appendChild(this.Ta.j);
        this.ij = new ey(null, []);
        this.ij.k(P.E.L, this.Vn, this);
        Y.appendChild(this.ij.j);
        this.Vc = new gP([11, 0], !1, null, !0);
        this.Vc.k("click", this.aks, this);
        Y.appendChild(this.Vc.j);
        this.fu = new aG("");
        Y.appendChild(this.fu.j);
        this.stream = null;
        this.NL = P.w("video", "");
        this.NL.setAttribute("autoplay", "true");
        this.body.appendChild(this.NL);
        this.aiW = this.aiJ.bind(this);
        this.a7h = this.a2k.bind(this);
        this.a8S = this.afL.bind(this);
        this.k("closebtn", this.cs, this)
    }
    i8.prototype = new h8;
    i8.prototype.f = function () {
        h8.prototype.f.call(this);
        this.Ta.f();
        this.Vc.f();
        this.hD(this.rz, this.UR)
    }
        ;
    i8.prototype.Q3 = function () {
        var Y = this.NL.videoWidth
            , S = this.NL.videoHeight
            , h = P.w("canvas", "");
        h.width = Y;
        h.height = S;
        var q = h.getContext("2d");
        q.drawImage(this.NL, 0, 0, Y, S);
        var H = q.getImageData(0, 0, Y, S);
        return {
            jJ: new W(0, 0, Y, S),
            data: H.data.buffer
        }
    }
        ;
    i8.prototype.aks = function (Y) {
        if (this.Ta.u() == 0)
            this.aec();
        else
            this.aay()
    }
        ;
    i8.prototype.aay = function () {
        var Y = this.Q3()
            , S = {
                buffer: new Uint8Array(Y.data),
                rect: Y.jJ
            }
            , h = new _(P.E.A, !0);
        h.NN = !0;
        h.F = U.GC;
        h.data = {
            X: M.Vr,
            Iw: S
        };
        this.B(h);
        alert(gx.get([21, 4]))
    }
        ;
    i8.prototype.aec = function () {
        
        var Y = this.Q3()
            , S = eD.y8("camera", [Y])
            , h = new _(P.E.P, !0);
        h.data = {
            X: P.U.Qc,
            n3: S
        };
        this.B(h);
        alert(gx.get([21, 5]))
    }
        ;
    i8.prototype.kg = function (Y, S, h) {
        navigator.mediaDevices.enumerateDevices().then(this.a9j.bind(this))
    }
        ;
    i8.prototype.a9j = function (Y) {
        var S = this.aip = []
            , h = [];
        for (var G = 0; G < Y.length; G++)
            if (Y[G].kind == "videoinput") {
                S.push(Y[G]);
                h.push("Camera " + S.length)
            }
        this.ij.Hm(h);
        this.ij.i(0);
        this.Vn()
    }
        ;
    i8.prototype.Vn = function (Y) {
        this.cs();
        var S = {
            video: {
                deviceId: this.aip[this.ij.u()].deviceId,
                width: {
                    ideal: 8e3
                },
                height: {
                    ideal: 8e3
                }
            }
        };
        if (navigator.mediaDevices.getUserMedia)
            navigator.mediaDevices.getUserMedia(S).then(this.aiW).catch(this.a7h);
        else
            navigator.webkitGetUserMedia(S, this.aiW, this.a7h)
    }
        ;
    i8.prototype.aiJ = function (Y) {
        this.stream = Y;
        this.NL.srcObject = Y;
        this.NL.addEventListener("loadedmetadata", this.a8S, !1)
    }
        ;
    i8.prototype.afL = function (Y) {
        this.NL.play();
        this.hD(this.rz, this.UR)
    }
        ;
    i8.prototype.OV = function (Y, S) {
        return new aV(0, 0)
    }
        ;
    i8.prototype.hD = function (Y, S) {
        var h = this.NL.videoWidth
            , q = this.NL.videoHeight;
        this.fu.i(h + " x " + q + " px");
        this.fu.j.setAttribute("style", "position:absolute;  left:14px; bottom:10px; z-index:1;");
        this.YO.bm(h, q);
        this.rz = Y;
        this.UR = S;
        var H = Y - 28
            , I = S - 28 - 30
            , E = this.YO.x / this.YO.y;
        if (H / I > E)
            H = I * E;
        else
            I = H / E;
        this.NL.setAttribute("style", "display: block; width: " + Math.round(H) + "px; height:" + Math.round(I) + "px;")
    }
        ;
    i8.prototype.a2k = function (Y) {
        console.log("error", Y);
        alert(gx.get([21, 6]));
        this.close()
    }
        ;
    i8.prototype.cs = function (Y) {
        if (this.stream != null) {
            var S = this.stream.getTracks();
            for (var G = 0; G < S.length; G++)
                S[G].stop();
            this.stream = null
        }
    }
        ;
    function br() {
        h8.call(this, [7, 8], "crange");
        this.Tp = null;
        this.Ww = {
            sj: 73,
            R: 4.45,
            O: 4
        };
        this.G5 = {
            sj: 73,
            R: 4.45,
            O: 4
        };
        var Y = P.w("div", "form");
        Y.setAttribute("style", "width:18em");
        this.body.appendChild(Y);
        this.JT = new b7([12, 92], 0, 200);
        this.JT.i(40);
        this.JT.k(P.E.L, this.o3, this);
        Y.appendChild(this.JT.j);
        this.yD = P.w("canvas");
        Y.appendChild(this.yD);
        this.Bn = new ec([12, 36], [[18, 0], "\uFF0B", "\u2014"]);
        Y.appendChild(this.Bn.j);
        this.HY = new gP("OK", !0, null, !0);
        this.HY.k("click", this.sf, this);
        this.body.appendChild(this.HY.j)
    }
    br.prototype = new h8;
    br.prototype.UO = function (Y, S) {
        return Y != null
    }
        ;
    br.prototype.iu = function () {
        return !0
    }
        ;
    br.prototype.VD = function () {
        return !0
    }
        ;
    br.prototype.f = function () {
        h8.prototype.f.call(this);
        this.JT.f();
        this.Bn.f()
    }
        ;
    br.prototype.FF = function (Y, S, h, q, H) {
        var I = Y.z.vl(H.x, H.y);
        this.hK(I.x, I.y)
    }
        ;
    br.prototype.hK = function (Y, S) {
        var h = Math.min
            , q = Math.max
            , H = this.Tp
            , I = q(0, h(H.d - 1, Math.floor(Y)))
            , E = q(0, h(H.v - 1, Math.floor(S)))
            , d = H.Q3()
            , B = (E * H.d + I) * 4
            , n = d[B]
            , g = d[B + 1]
            , z = d[B + 2]
            , p = t.XT(n, g, z)
            , C = this.Bn.u()
            , T = this.Ww
            , A = this.G5;
        if (C == 0) {
            this.Ww = JSON.parse(JSON.stringify(p));
            this.G5 = p
        } else if (C == 1) {
            T.sj = h(T.sj, p.sj);
            T.R = h(T.R, p.R);
            T.O = h(T.O, p.O);
            A.sj = q(A.sj, p.sj);
            A.R = q(A.R, p.R);
            A.O = q(A.O, p.O)
        } else if (C == 2) {
            var i = (T.sj + A.sj) / 2
                , e = (T.R + A.R) / 2
                , a = (T.O + A.O) / 2;
            if (p.sj < i)
                T.sj = q(T.sj, p.sj + 10);
            else
                A.sj = h(A.sj, p.sj - 10);
            if (p.R < e)
                T.R = q(T.R, p.R + 1);
            else
                A.R = h(A.R, p.R - 1);
            if (p.O < a)
                T.O = q(T.O, p.O + 1);
            else
                A.O = h(A.O, p.O - 1)
        }
        this.o3()
    }
        ;
    br.prototype.sf = function (Y) {
        var S = new _(P.E.A, !0);
        S.F = U.n5;
        S.data = {
            X: "crange",
            wV: this.Ww,
            br: this.G5,
            kb: this.JT.u() / 200
        };
        S.NN = !0;
        this.B(S);
        this.close()
    }
        ;
    br.prototype.kg = function (Y, S) {
        this.Tp = Y;
        this.hK(0, 0)
    }
        ;
    br.prototype.o3 = function () {
        var Y = this.Tp
            , S = U.Q_.Dk(Y, this.Ww, this.G5, this.JT.u() / 200)
            , h = S.rect
            , q = S.channel
            , H = this.yD
            , I = H.getContext("2d")
            , E = Math.floor(230 * P.M())
            , d = Math.floor(E * (h.v / h.d));
        H.width = E;
        H.height = d;
        P.fs(H, E, d);
        var B = t.m(q.length * 4);
        t.A5(B, 4294967295);
        for (var G = 0; G < 3; G++)
            t.Vj(q, B, G);
        var n = U.o.dG([B, h], new d5(E / h.d, 0, 0, d / h.v, 0, 0))
            , g = n.rect
            , z = new ImageData(new Uint8ClampedArray(n.buffer.buffer), g.d, g.v);
        I.putImageData(z, 0, 0)
    }
        ;
    function fh() {
        h8.call(this, [12, 76, 1], "createshape");
        this.q7 = null;
        var Y = P.w("div", "form");
        Y.setAttribute("style", "width:20em");
        this.body.appendChild(Y);
        this.A7 = new ed([12, 41], 0, 0, null, 0, !1, !0);
        Y.appendChild(this.A7.j);
        P.f$(Y);
        this.OM = new ed([12, 42], 0, 0, null, 0, !1, !0);
        Y.appendChild(this.OM.j);
        P.f$(Y);
        this.u7 = new e0([19, 5, 3]);
        Y.appendChild(this.u7.j);
        this.A7.i(100);
        this.OM.i(100);
        this.BV = new gP("OK", !0, null, !0);
        this.BV.k("click", this.sf, this);
        Y.appendChild(this.BV.j)
    }
    fh.prototype = new h8;
    fh.prototype.sf = function (Y) {
        this.q7.aeC(this.q7.aim, this.A7.u(), this.OM.u(), this.u7.u());
        this.close()
    }
        ;
    fh.prototype.f = function () {
        if (this.q7)
            this.pC = gx.get([5, 3]) + ": " + gx.get(this.q7.a6u);
        h8.prototype.f.call(this);
        this.A7.f();
        this.OM.f();
        this.u7.f()
    }
        ;
    fh.prototype.kg = function (Y, S) {
        this.q7 = S;
        this.f()
    }
        ;
    function ek() {
        h8.call(this, [11, 1], "colorpicker");
        this.px = null;
        this.s0 = null;
        this.yI = null;
        this.ek = !1;
        this.x3 = !1;
        var Y = P.w("div", "flexrow"), I, E;
        this.body.appendChild(Y);
        this.IW = new hp(256);
        this.IW.k(P.E.L, this.KL, this);
        Y.appendChild(this.IW.j);
        var S = P.w("div", "form");
        S.setAttribute("style", "width:14.5em; margin-left:1em;");
        Y.appendChild(S);
        this.agY = P.w("div", "full");
        S.appendChild(this.agY);
        this.a5T = P.w("div", "full");
        S.appendChild(this.a5T);
        var h = P.w("div", "flexrow");
        S.appendChild(h);
        var q = P.w("div")
            , H = P.w("div");
        h.appendChild(q);
        h.appendChild(H);
        I = ["R", "G", "B"];
        E = q;
        this.Hg = [];
        for (var G = 0; G < 3; G++) {
            var d = new ed(I[G] + ":", 0, 255, null, 0, !1, !0);
            this.Hg.push(d);
            d.k(P.E.L, this.a1A, this);
            E.appendChild(d.j)
        }
        I = ["H", "S", "B"];
        E = H;
        this.za = [];
        for (var G = 0; G < 3; G++) {
            var B = 0
                , n = 360
                , g = "\xB0";
            if (G != 0) {
                n = 100;
                g = "%"
            }
            var d = new ed(I[G] + ":", B, n, g, 0, !1, !0);
            this.za.push(d);
            d.k(P.E.L, this.a4U, this);
            E.appendChild(d.j)
        }
        this.OM = new eT("Hex", null, 6);
        this.OM.k(P.E.L, this.x8, this);
        S.appendChild(this.OM.j);
        this.G_ = P.w("input", "fitem");
        this.G_.setAttribute("type", "color");
        this.G_.setAttribute("style", "width:50px");
        this.G_.addEventListener("change", this.x8.bind(this), !1);
        S.appendChild(this.G_);
        this.MW = new hN(9);
        this.MW.k(P.E.L, this.x8, this);
        S.appendChild(this.MW.j);
        this.BV = new gP("OK", !0, null, !0);
        this.BV.k("click", this.sf, this);
        S.appendChild(this.BV.j);
        this.k("closebtn", this.uv, this);
        this.Ye = !1
    }
    ek.prototype = new h8;
    ek.prototype.iu = function () {
        return !0
    }
        ;
    ek.prototype.hD = function (Y, S) {
        this.IW.hD(Math.min(256, Y - 250), S)
    }
        ;
    ek.prototype.KL = function (Y) {
        this.s0 = this.IW.u();
        this.update()
    }
        ;
    ek.prototype.FF = function (Y, S, h, q, H) {
        this.Ye = !0;
        this.Kj(Y, H)
    }
        ;
    ek.prototype.vr = function (Y, S, h, q, H) {
        if (!this.Ye)
            return;
        this.Kj(Y, H)
    }
        ;
    ek.prototype.mi = function (Y, S, h, q, H) {
        this.Ye = !1
    }
        ;
    ek.prototype.Kj = function (Y, S) {
        var h = U.fF.j7(Y, S, 1)
            , q = h & 255
            , H = h >> 8 & 255
            , I = h >> 16 & 255;
        this.s0 = {
            h: I / 255,
            l: H / 255,
            O: q / 255
        };
        this.update()
    }
        ;
    ek.prototype.a1A = function (Y) {
        var S = this.Hg
            , h = this.Aq(parseInt(S[0].u()))
            , q = this.Aq(parseInt(S[1].u()))
            , H = this.Aq(parseInt(S[2].u()));
        this.s0 = {
            h: h / 255,
            l: q / 255,
            O: H / 255
        };
        this.update()
    }
        ;
    ek.prototype.a4U = function (Y) {
        var S = this.za
            , h = this.qw(parseInt(S[0].u()) / 360)
            , q = this.qw(parseInt(S[1].u()) / 100)
            , H = this.qw(parseInt(S[2].u()) / 100);
        this.s0 = t.im(h, q, H);
        this.update()
    }
        ;
    ek.prototype.x8 = function (Y) {
        var S;
        if (Y.currentTarget == this.MW)
            S = this.MW.u();
        else {
            S = Y.currentTarget == this.OM ? this.OM.u() : this.G_.value;
            if (S.charAt(0) == "#")
                S = S.slice(1);
            if (S.length == 3)
                S = S[0] + S[0] + S[1] + S[1] + S[2] + S[2];
            S = t.B2(S)
        }
        this.s0 = {
            h: (S >> 16 & 255) / 255,
            l: (S >> 8 & 255) / 255,
            O: (S & 255) / 255
        };
        this.update()
    }
        ;
    ek.prototype.Rr = function (Y) {
        var S = Y.h
            , h = Y.l
            , q = Y.O;
        return Math.round(S * 255) << 16 | Math.round(h * 255) << 8 | Math.round(q * 255)
    }
        ;
    ek.prototype.sf = function (Y) {
        this.Yu();
        var S = this.Rr(this.s0);
        this.yI(S);
        this.close();
        this.x3 = !1;
        this.s0 = null
    }
        ;
    ek.prototype.uv = function (Y) {
        this.Yu();
        if (this.ek)
            this.yI(this.Rr(this.px));
        this.x3 = !1;
        this.s0 = null
    }
        ;
    ek.prototype.Yu = function (Y) {
        var S = new _(P.E.P, !0);
        S.data = {
            X: P.U.pb
        };
        this.B(S)
    }
        ;
    ek.prototype.rJ = function (Y, S) {
        if (S != iD.oo)
            return;
        var h = Y.jy;
        this.MW.i(h);
        if (this.s0 != null) {
            this.s0 = {
                h: (h >> 16 & 255) / 255,
                l: (h >> 8 & 255) / 255,
                O: (h >> 0 & 255) / 255
            };
            this.update()
        }
    }
        ;
    ek.prototype.kg = function (Y, S) {
        var h = S.oA
            , q = {
                h: (h >> 16 & 255) / 255,
                l: (h >> 8 & 255) / 255,
                O: (h >> 0 & 255) / 255
            };
        if (this.s0 == null) {
            var H = new _(P.E.P, !0);
            H.data = {
                X: P.U.t6,
                WX: "crosshair",
                push: !0
            };
            this.B(H);
            this.Ye = !1;
            this.yI = S.HM;
            this.ek = !1;
            this.x3 = S.dj;
            this.px = JSON.parse(JSON.stringify(q));
            this.a5T.setAttribute("style", "height:3em;background-color:#" + t.u9(h) + ";")
        }
        this.s0 = q;
        this.update()
    }
        ;
    ek.prototype.update = function () {
        var Y = this.s0
            , S = this.Rr(Y)
            , h = this.Hg;
        h[0].i(Math.round(Y.h * 255));
        h[1].i(Math.round(Y.l * 255));
        h[2].i(Math.round(Y.O * 255));
        this.OM.i(t.u9(S));
        this.G_.value = "#" + t.u9(S);
        this.agY.setAttribute("style", "height:3em;background-color:#" + t.u9(S) + ";");
        var q = t.Yl(Y.h, Y.l, Y.O);
        h = this.za;
        h[0].i(Math.round(q.UR * 360));
        h[1].i(Math.round(q.D1 * 100));
        h[2].i(Math.round(q.w1 * 100));
        this.IW.i(Y);
        if (this.x3) {
            this.yI(this.Rr(this.s0));
            this.ek = !0
        }
    }
        ;
    ek.prototype.Aq = function (Y) {
        return Math.max(0, Math.min(255, Y))
    }
        ;
    ek.prototype.qw = function (Y) {
        return Math.max(0, Math.min(1, Y))
    }
        ;
    function cR() {
        h8.call(this, [11, 2], "contoureditor");
        this.afW = null;
        this.Kx = null;
        this.response = null;
        this._B = P.w("div", "cell");
        this.body.appendChild(this._B);
        this.iO = P.w("div", "cell padded");
        this.body.appendChild(this.iO);
        var Y = P.w("div", "bordered padded vmargin");
        this._B.appendChild(Y);
        this.Pk = new go;
        this.Pk.k(P.E.L, this.V0, this);
        Y.appendChild(this.Pk.j);
        this.BV = new gP("OK", !0, null, !0);
        this.BV.k("click", this.close, this);
        this.iO.appendChild(this.BV.j);
        this.coords = P.w("div", "");
        this.coords.setAttribute("style", "width:250px");
        this._B.appendChild(this.coords);
        this.eo = new eT("X (in)", "%", 4);
        this.QA = new eT("Y (out)", "%", 4);
        this.UK = new e0([19, 3, 0]);
        this.eo.k(P.E.L, this.l9, this);
        this.QA.k(P.E.L, this.l9, this);
        this.UK.k(P.E.L, this.l9, this);
        this.coords.appendChild(this.eo.j);
        this.coords.appendChild(this.UK.j);
        this.coords.appendChild(this.QA.j);
        this.k("closebtn", this.IM, this)
    }
    cR.prototype = new h8;
    cR.prototype.f = function () {
        h8.prototype.f.call(this);
        this.UK.f()
    }
        ;
    cR.prototype.V0 = function (Y) {
        this.Kx.Crv.v = this.Pk.u();
        this.response(this.Kx);
        this.WM()
    }
        ;
    cR.prototype.IM = function (Y) {
        this.response(this.afW)
    }
        ;
    cR.prototype.kg = function (Y, S) {
        this.afW = JSON.parse(JSON.stringify(S.Eq));
        this.Kx = S.Eq;
        this.response = S.response;
        this.Pk.i(this.Kx.Crv.v);
        this.WM()
    }
        ;
    cR.prototype.WM = function () {
        var G = this.Pk.Jc();
        this.coords.setAttribute("class", G == -1 ? "disabled" : "");
        if (G == -1)
            return;
        var Y = this.Kx.Crv.v[G].v;
        this.eo.i(Math.round(Y.Hrzn.v * (100 / 255)));
        this.QA.i(Math.round(Y.Vrtc.v * (100 / 255)));
        this.UK.i(Y.Cnty.v)
    }
        ;
    cR.prototype.l9 = function (Y) {
        var G = this.Pk.Jc()
            , S = this.Kx.Crv.v[G];
        S.v.Hrzn.v = parseFloat(this.eo.u()) * (255 / 100);
        S.v.Vrtc.v = parseFloat(this.QA.u()) * (255 / 100);
        S.v.Cnty.v = this.UK.u();
        this.Kx.Crv.v.sort(function (h, q) {
            return h.v.Hrzn.v - q.v.Hrzn.v
        });
        this.Pk.i(this.Kx.Crv.v, this.Kx.Crv.v.indexOf(S));
        this.WM();
        this.response(this.Kx)
    }
        ;
    function c6() {
        h8.call(this, [11, 3], "csize");
        this._2 = 0;
        this.vU = P.w("div", "form");
        this.vU.setAttribute("style", "width:22em");
        this.body.appendChild(this.vU);
        this.HD = new hh(!0, !0, !0, !0);
        this.HD.ag0(!1);
        this.vU.appendChild(this.HD.j);
        this.am = new ec("Align with", [[8, 7], [12, 6]]);
        this.am.k(P.E.L, this.a5i, this);
        this._i = new fb([12, 23, 2], 41);
        this.vU.appendChild(this._i.j);
        this._i.i(4);
        this.TU = new fZ(!1);
        this.TU.afG(new aV(0, 0));
        this.HY = new gP("OK", !0, null, !0);
        this.HY.k("click", this.sf, this);
        this.body.appendChild(this.HY.j)
    }
    c6.prototype = new h8;
    c6.prototype.UO = function (Y, S) {
        return Y != null
    }
        ;
    c6.prototype.VD = function () {
        return !0
    }
        ;
    c6.prototype.a5i = function () {
        var Y = [this._i.j, this.TU.j];
        this.vU.removeChild(Y[this._2]);
        this._2 = this.am.u();
        this.vU.appendChild(Y[this._2])
    }
        ;
    c6.prototype.f = function () {
        h8.prototype.f.call(this);
        this.HD.f();
        this.am.f();
        this._i.f();
        this.TU.f()
    }
        ;
    c6.prototype.sf = function (Y) {
        var S = this.HD.u()
            , h = S.x
            , q = S.y
            , H = new _(P.E.$_, !0);
        H.data = U.AQ.YV(h, q, this._i.u());
        this.close();
        this.B(H)
    }
        ;
    c6.prototype.kg = function (Y, S) {
        this.HD.i(new aV(Y.d, Y.v), Y.PW)
    }
        ;
    function gJ() {
        h8.call(this, [11, 4], "duplinto");
        this.J7 = null;
        this.r7 = null;
        var Y = P.w("div", "form");
        Y.setAttribute("style", "max-width:26em");
        this.body.appendChild(Y);
        this.y7 = new ey([12, 43], ["abc", "def"]);
        this.y7.k(P.E.L, this.Nn, this);
        Y.appendChild(this.y7.j);
        P.f$(Y);
        this.ml = new eT([12, 48], null, 14);
        Y.appendChild(this.ml.j);
        this.BV = new gP("OK", !0, null, !0);
        this.BV.k("click", this.sf, this);
        Y.appendChild(this.BV.j)
    }
    gJ.prototype = new h8;
    gJ.prototype.VD = function () {
        return !0
    }
        ;
    gJ.prototype.f = function () {
        h8.prototype.f.call(this);
        this.y7.f();
        this.ml.f()
    }
        ;
    gJ.prototype.Nn = function (Y) {
        var S = this.y7.u();
        if (S == this.r7.length)
            this.ml.tW();
        else
            this.ml.f4()
    }
        ;
    gJ.prototype.kg = function (Y, S, h) {
        this.J7 = Y;
        this.r7 = h;
        this.ml.i(Y.C.length == 0 ? "Layer" : Y.t[Y.C[0]].getName());
        var q = [];
        for (var G = 0; G < h.length; G++)
            q.push(h[G].name);
        q.push([11, 7]);
        this.y7.Hm(q);
        this.y7.i(h.indexOf(Y));
        this.Nn(null)
    }
        ;
    gJ.prototype.sf = function (Y) {
        var S = this.y7.u();
        if (S == this.r7.length) {
            var h = new dh(this.ml.u() + ".psd");
            h.d = this.J7.d;
            h.v = this.J7.v;
            h.buffer = t.m(h.d * h.v * 4);
            var q = h.rY();
            q.wN("Background");
            h.HT([q]);
            var H = new _(P.E.P, !0);
            H.NN = !0;
            H.data = {
                X: P.U.Qc,
                n3: h
            };
            this.B(H)
        }
        var I = this.J7.LL(null, this.J7 != this.r7[S])
            , H = new _(P.E.A, !0);
        H.data = {
            X: M.H0,
            t: I,
            e5: this.J7,
            bR: this.r7[S]
        };
        H.F = U.GC;
        H.NN = !0;
        this.B(H);
        this.close()
    }
        ;
    function a8() {
        h8.call(this, [1, 9], "eassets");
        this.it = null;
        this.ti = null;
        var Y = P.w("div", "form");
        Y.setAttribute("style", "width:32em");
        this.body.appendChild(Y);
        this.rh = P.w("span");
        Y.appendChild(this.rh);
        P.f$(Y);
        this.tE = [new e0("Only layers / folders, whose name starts with \"-e-\""), new e0("Remove parts outside the canvas"), new e0("Trim transparent parts")];
        for (var G = 0; G < 3; G++) {
            var S = this.tE[G];
            S.i(!0);
            S.k(P.E.L, this.Om, this);
            Y.appendChild(S.j);
            P.f$(Y)
        }
        this.CT = new bg([12, 14, 0], ["1x", "2x", "3x", "4x"]);
        this.CT.i([!0, !1, !1, !1]);
        Y.appendChild(this.CT.j);
        P.p3(Y);
        this.rR = ["PNG", "JPG", "SVG"];
        this.Cc = new ey([12, 50], this.rR);
        this.Cc.k(P.E.L, this.Gw, this);
        Y.appendChild(this.Cc.j);
        this.KW = new cJ;
        Y.appendChild(this.KW.j);
        this.HY = new gP([1, 9], !0, null, !0);
        this.HY.k("click", this.sf, this);
        Y.appendChild(this.HY.j);
        this.k("closebtn", this.gt, this)
    }
    a8.prototype = new h8;
    a8.prototype.Gw = function (Y) {
        this.KW.j3(this.rR[this.Cc.u()])
    }
        ;
    a8.prototype.gt = function (Y) {
        this.ti = null
    }
        ;
    a8.prototype.f = function () {
        h8.prototype.f.call(this);
        this.Cc.f();
        this.CT.f();
        this.HY.f();
        this.KW.f()
    }
        ;
    a8.prototype.kg = function (Y, S, h) {
        this.ti = Y;
        this.Om()
    }
        ;
    a8.prototype.Om = function (Y) {
        var S = this.CB()
            , h = "- - - " + S.length + " exportable layers";
        this.rh.textContent = h;
        this.Gw(null)
    }
        ;
    a8.prototype.CB = function () {
        var Y = this.tE[0].u()
            , S = []
            , h = this.ti;
        for (var G = 0; G < h.t.length; G++) {
            var q = h.t[G]
                , H = q.getName();
            if (!Y && !q.i4() && !q.rect.fa() || H.startsWith("-e"))
                S.push(G)
        }
        return S
    }
        ;
    a8.prototype.rJ = function (Y, S) {
        this.it = Y
    }
        ;
    a8.prototype.sf = function (Y) {
        var S = this.ti
            , h = [this.rR[this.Cc.u()]]
            , q = [this.KW.u()]
            , H = this.CT.u()
            , I = {}
            , E = {}
            , d = this.CB();
        if (d.length == 0) {
            alert("No layers to export.");
            return
        }
        var B = [this.tE[1].u(), this.tE[2].u()];
        for (var G = 0; G < d.length; G++) {
            var n = d[G]
                , g = S.t[n]
                , z = g.getName();
            if (E[z] != null) {
                E[z]++;
                z += " " + E[z]
            } else
                E[z] = 1;
            var p = g.yj();
            g.yR(!0);
            for (var C = 0; C < H.length; C++) {
                if (!H[C])
                    continue;
                var T = C + 1
                    , A = U._C.yC(S, h, T, this.it, n, q, B);
                for (var i = 0; i < h.length; i++) {
                    var e = h[i]
                        , a = z.slice(z.startsWith("-e-") ? 3 : 0) + (T == 1 ? "" : "-" + T + "x") + "." + e.toLowerCase();
                    if (A[i])
                        I[a] = new Uint8Array(A[i])
                }
            }
            g.yR(p)
        }
        var Z = UZIP.encode(I)
            , O = new _(P.E.P, !0);
        O.data = {
            X: P.U.mt,
            data: Z,
            name: "assets.zip"
        };
        this.B(O)
    }
        ;
    function bS() {
        h8.call(this, "Export Color Lookup Tables", "exlut");
        this.it = null;
        this.ti = null;
        var Y = P.w("div", "form");
        Y.setAttribute("style", "width:20em");
        this.body.appendChild(Y);
        this.tE = [new ed("Grid Points", 1, 256), new ec([12, 50], [".CUBE"])];
        var S = [16, 0];
        for (var G = 0; G < this.tE.length; G++) {
            var h = this.tE[G];
            h.i(S[G]);
            h.parent = this;
            h.k(P.E.L, this.Om, this);
            Y.appendChild(h.j);
            P.f$(Y)
        }
        this.HY = new gP("OK", !0, null, !0);
        this.HY.k("click", this.sf, this);
        Y.appendChild(this.HY.j);
        this.k("closebtn", this.gt, this)
    }
    bS.prototype = new h8;
    bS.prototype.UO = function (Y, S) {
        if (Math.min(Y.d, Y.v) < 16) {
            alert("The document must be at least 16 x 16 pixels.", 3200);
            return !1
        }
        if (Y.t.length < 2) {
            alert("There must be a background layer and some adjustment layers.", 3200);
            return !1
        }
        return !0
    }
        ;
    bS.prototype.gt = function (Y) {
        this.ti = null
    }
        ;
    bS.prototype.rJ = function (Y, S) {
        this.it = Y
    }
        ;
    bS.prototype.kg = function (Y, S, h) {
        this.ti = Y
    }
        ;
    bS.prototype.sf = function () {
        var Y = this.ti
            , S = this.tE[0].u()
            , h = []
            , q = new W(0, 0, Y.d, Y.v)
            , H = t.m(S * S * 4)
            , I = H.slice(0)
            , E = new W(Y.d - S >>> 1, Y.v - S >>> 1, S, S)
            , d = Y.t[0]
            , B = d.buffer
            , n = d.rect;
        d.rect = E;
        d.buffer = H;
        for (var g = 0; g < S; g++) {
            this.ajM(S, g, H);
            d.s(E);
            Y.s(E);
            var z = Y.Q3();
            t.rd(z, q, I, E);
            for (var p = 0; p < S; p++)
                for (var C = 0; C < S; C++) {
                    var T = p * S + C << 2;
                    h.push(I[T] / 255, I[T + 1] / 255, I[T + 2] / 255)
                }
        }
        var A = a9.ac4(h, S, Y.name);
        gN.save(A, Y.name.split(".")[0] + ".CUBE");
        d.buffer = B;
        d.rect = n;
        d.s();
        Y.s()
    }
        ;
    bS.prototype.ajM = function (Y, S, h) {
        var q = 255 / (Y - 1)
            , H = Math.round(S * q);
        for (var I = 0; I < Y; I++)
            for (var E = 0; E < Y; E++) {
                var d = I * Y + E << 2;
                h[d] = Math.round(E * q);
                h[d + 1] = Math.round(I * q);
                h[d + 2] = H;
                h[d + 3] = 255
            }
    }
        ;
    bS.prototype.f = function () {
        h8.prototype.f.call(this);
        for (var G = 0; G < this.tE.length; G++)
            this.tE[G].f()
    }
        ;
    function cp() {
        h8.call(this, [1, 14], "finfo");
        this.uz = null;
        this.uK = null;
        this.gq = null;
        this.vU = P.w("div", "form scrollable label12");
        this.vU.setAttribute("style", "width:35em;  height:38em;  margin-bottom:8px");
        this.body.appendChild(this.vU);
        var Y = P.w("div", "form");
        this.body.appendChild(Y);
        this.nC = new ey(null, ["Hello"]);
        Y.appendChild(this.nC.j);
        this.a6m = new gP("Add Parameter", !1, null, !0);
        Y.appendChild(this.a6m.j);
        this.a6m.k("click", this.SC, this);
        this.ck = new gP("=== S A V E ===", !1, null, !0);
        Y.appendChild(this.ck.j);
        this.ck.k("click", this.Oa, this);
        this.a1G = ""
    }
    cp.prototype = new h8;
    cp.prototype.OV = function (Y, S) {
        return Y < 450 || S < 450 ? new aV(0, 0) : new aV(150, 100)
    }
        ;
    cp.prototype.SC = function (Y) {
        if (this.gq.length == 0)
            return;
        var S = this.gq[this.nC.u()]
            , h = this.lv();
        h[S] = dc.BR[S][0];
        this.N2(h);
        this.uK[S].j.scrollIntoView();
        this.uK[S].rD()
    }
        ;
    cp.prototype.Vs = function (Y) {
        var S = this.lv();
        delete S[Y.currentTarget.afm];
        this.N2(S)
    }
        ;
    cp.prototype.Oa = function (Y) {
        var S = this.lv()
            , h = this.uz
            , q = !0;
        for (var H in h)
            if (JSON.stringify(h[H]) != JSON.stringify(S[H]))
                q = !1;
        for (var H in S)
            if (JSON.stringify(h[H]) != JSON.stringify(S[H]))
                q = !1;
        if (q)
            return;
        var I = new _(P.E.A, !0);
        I.F = U.GC;
        I.data = {
            X: M.mA,
            UU: S
        };
        this.B(I);
        this.uz = S;
        this.N2(S)
    }
        ;
    cp.xX = function (Y) {
        function S(H) {
            var I = H.toLowerCase();
            return H == I
        }
        var h = Y.split(":").pop();
        for (var q = 1; q < h.length - 1; q++) {
            if (h[q] == h[q].toUpperCase() && (S(h[q + 1]) || S(h[q - 1]))) {
                h = h.slice(0, q) + " " + h.slice(q);
                q++
            }
        }
        return h
    }
        ;
    cp.prototype.kg = function (Y, S) {
        this.uz = Y.wH;
        this.N2(Y.wH)
    }
        ;
    cp.prototype.N2 = function (Y) {
        var S = this.vU
            , H = 0;
        P.v3(S);
        var h = this.uK = {}
            , q = ["tiff", "exif", "exif:GPS"]
            , I = this.gq = []
            , E = [];
        for (var d in dc.BR) {
            var B = cp.xX(d)
                , n = 0
                , g = 15
                , z = null;
            if (Y[d] == null) {
                I.push(d);
                E.push(B);
                continue
            }
            for (var G = 0; G < q.length; G++)
                if (d.startsWith(q[G]))
                    n = G;
            if (n != H) {
                P.p3(S);
                H = n
            }
            if (d == "tiff:ImageDescription" || d == "dc:Keywords") {
                g = 18.5;
                z = 3
            }
            var p = new eT(B, null, g, z);
            h[d] = p;
            var C = Y[d];
            if (C instanceof Array)
                C = C[1] == 0 ? "---" : C[0] + "/" + C[1];
            var T = new gP("\u2716", null, gx.get([5, 4]));
            S.appendChild(T.j);
            T.k("click", this.Vs, this);
            T.afm = d;
            p.i(C);
            S.appendChild(p.j);
            P.f$(S);
            if (d == "exif:GPSLongitude" && Y["exif:GPSLatitude"]) {
                this.a1G = cp.L4(Y["exif:GPSLatitude"]) + "," + cp.L4(Y["exif:GPSLongitude"]);
                var A = new gP("Show on map", !1, null, !0);
                S.appendChild(A.j);
                P.f$(S);
                A.k("click", this.an8, this)
            }
        }
        this.nC.Hm(E);
        this.nC.i(0)
    }
        ;
    cp.prototype.lv = function () {
        var Y = this.uK
            , S = dc.BR
            , h = {};
        for (var q in S) {
            var H = S[q][0]
                , I = typeof H;
            if (H == null || Y[q] == null)
                continue;
            var E = Y[q].u()
                , d = "The value of \"" + cp.xX(q) + "\" must ";
            if (I == "number") {
                E = parseFloat(E);
                if (isNaN(E)) {
                    alert(d + "be a number.");
                    E = H
                }
            } else if (H instanceof Array && H.length == 2) {
                if (E.indexOf("/") == -1) {
                    alert(d + "be a fraction.");
                    E = H.slice(0)
                } else {
                    E = E.split("/").map(parseFloat);
                    if (isNaN(E[0]) || isNaN(E[1])) {
                        E = H.slice(0)
                    }
                }
            }
            h[q] = E
        }
        return h
    }
        ;
    cp.L4 = function (Y) {
        var S = Y.length
            , h = Y.slice(0, S - 1).split(",").map(parseFloat)
            , q = Y.slice(S - 1)
            , H = h[0] + h[1] / 60 + h[2] / 3600;
        if (q != "N" && q != "E")
            H = -H;
        return H
    }
        ;
    cp.prototype.an8 = function (Y) {
        window.open("https://maps.google.com?q=" + this.a1G, "Map")
    }
        ;
    function bK() {
        h8.call(this, [11, 5], "gradienteditor");
        this.px = null;
        this.s0 = null;
        this.WO = null;
        this.yI = null;
        this.ek = !1;
        this.x3 = !1;
        P.xv(this.body, "form");
        this.Q5 = null;
        this.wl = null;
        this.R8 = -1;
        this.qr = -1;
        this.ee = 0;
        this.X$ = this.xN.bind(this);
        this.A2 = this.AC.bind(this);
        this.k8 = P.w("canvas", "");
        this.b6 = this.k8.getContext("2d");
        this.k8.setAttribute("style", "display:block");
        this.cT = null;
        P.qT(this.k8);
        P.aK(this.k8, this.ZC.bind(this));
        this.We = new ed([19, 3, 3], 0, 100, "%");
        this.We.k(P.E.L, this.fl, this);
        this.We.parent = this;
        this.body.appendChild(this.We.j);
        P.f$(this.body);
        this.Gk = new aG([12, 0]);
        this.body.appendChild(this.Gk.j);
        this.AP = P.w("div", "bordered padded noalign");
        this.body.appendChild(this.AP);
        this.xC = new ed([12, 0], 0, 100, "%");
        this.xC.parent = this;
        this.xC.k(P.E.L, this.fl, this);
        this.AP.appendChild(this.xC.j);
        this.K1 = new ed([12, 40], 0, 100, "%");
        this.K1.parent = this;
        this.K1.k(P.E.L, this.fl, this);
        this.AP.appendChild(this.K1.j);
        this.CV = new gP([5, 4], !1, null, !0);
        this.CV.k("click", this.oi, this);
        this.AP.appendChild(this.CV.j);
        this.body.appendChild(this.k8);
        P.f$(this.body);
        this.a9D = new aG([13, 0]);
        this.body.appendChild(this.a9D.j);
        this.ex = P.w("div", "bordered padded noalign");
        this.body.appendChild(this.ex);
        this.Of = new ey([12, 44], [[12, 45], [12, 46], [12, 47]]);
        this.Of.k(P.E.L, this.fl, this);
        this.ex.appendChild(this.Of.j);
        this.GU = new ca(!0);
        this.GU.parent = this;
        this.GU.k(P.E.L, this.fl, this);
        this.ex.appendChild(this.GU.j);
        this.zv = new ed([12, 40], 0, 100, "%");
        this.zv.parent = this;
        this.zv.k(P.E.L, this.fl, this);
        this.ex.appendChild(this.zv.j);
        this.Em = new gP([5, 4], !1, null, !0);
        this.Em.k("click", this.Qi, this);
        this.ex.appendChild(this.Em.j);
        this.BV = new gP("OK", !0, null, !0);
        this.BV.k("click", this.sf, this);
        this.body.appendChild(this.BV.j);
        this.k("closebtn", this.uv, this)
    }
    bK.prototype = new h8;
    bK.prototype.uv = function (Y) {
        if (this.ek)
            this.yI(this.px)
    }
        ;
    bK.prototype.f = function () {
        h8.prototype.f.call(this);
        this.We.f();
        this.Gk.f();
        this.a9D.f();
        this.CV.f();
        this.Em.f();
        this.xC.f();
        this.K1.f();
        this.Of.f();
        this.zv.f()
    }
        ;
    bK.prototype.rJ = function (Y, S) {
        this.WO = Y
    }
        ;
    bK.prototype.kg = function (Y, S) {
        this.s0 = JSON.parse(JSON.stringify(S.W));
        this.px = JSON.parse(JSON.stringify(S.W));
        this.Q5 = this.wl = null;
        this.yI = S.HM;
        this.ek = !1;
        this.x3 = S.dj;
        this.mP();
        this.Ks()
    }
        ;
    bK.prototype.sf = function (Y) {
        var S = this.s0;
        this.yI(S);
        this.close()
    }
        ;
    bK.prototype.E8 = function (Y) {
        return Y == F.bz || Y == F.tb
    }
        ;
    bK.prototype.jL = function (Y, S, h, q) {
        if (q.q(F.bz) || q.q(F.tb)) {
            if (this.wl)
                this.oi();
            if (this.Q5)
                this.Qi()
        }
    }
        ;
    bK.prototype.oi = function (Y) {
        var S = this.s0.Trns.v;
        if (this.wl == null || S.length == 2)
            return;
        S.splice(S.indexOf(this.wl), 1);
        this.wl = null;
        this.mP();
        this.Ks()
    }
        ;
    bK.prototype.Qi = function (Y) {
        var S = this.s0.Clrs.v;
        if (this.Q5 == null || S.length == 2)
            return;
        S.splice(S.indexOf(this.Q5), 1);
        this.Q5 = null;
        this.mP();
        this.Ks()
    }
        ;
    bK.prototype.mP = function () {
        var Y = this.k8
            , S = this.b6
            , h = P.M();
        Y.width = Math.floor(410 * h);
        Y.height = Math.floor(90 * h);
        P.fs(Y, Y.width, Y.height);
        this.cT = new W(0, 0, Math.floor(380 * h), Math.floor(32 * h));
        this.cT.x = Math.floor((this.k8.width - this.cT.d) / 2);
        this.cT.y = Math.floor((this.k8.height - this.cT.v) / 2);
        var q = this.cT
            , H = q.d
            , I = q.v
            , E = q.x
            , d = q.y
            , B = new W(0, 0, H, I)
            , n = S.getImageData(0, 0, H, I)
            , g = new Uint8Array(n.data.buffer);
        t.M0(g, H, I, 8);
        var z = t.m(H * I * 4);
        t.W.XH(this.s0, z, B, [1 / H, 0, 0, 1 / I], H / 2, I / 2, !1, 0, this.WO.jy, this.WO.E$);
        t.Q.Bc("norm", z, q, g, q, q, 1);
        S.clearRect(0, 0, Y.width, Y.height);
        S.putImageData(n, E, d);
        var p = this.s0.Trns.v
            , C = this.s0.Clrs.v
            , T = t.W.vi(C, this.WO.jy, this.WO.E$)
            , A = Math.round(6 * P.M())
            , i = Math.round(14 * P.M())
            , e = this.wl ? this.wl.v : null
            , a = this.Q5 ? this.Q5.v : null;
        for (var G = 0; G < p.length; G++) {
            var Z = p[G].v
                , O = Math.round(255 - 255 * Z.Opct.v.val / 100);
            if ((Z == e || p[G - 1] && p[G - 1].v == e || G == this.qr) && G != 0) {
                S.fillStyle = "#000000";
                S.fillRect(E - 3 + H * (p[G - 1].v.Lctn.v + (Z.Lctn.v - p[G - 1].v.Lctn.v) * Z.Mdpn.v / 100) / 4096, d - 6 - 2, 6, 6)
            }
            if (Z == e) {
                S.fillStyle = "#ffffff";
                S.fillRect(E - A + H * (Z.Lctn.v / 4096) - 2, d - 2 - i - 2, 2 * A + 4, i + 4)
            }
            S.fillStyle = "rgb(" + O + "," + O + "," + O + ")";
            S.fillRect(E - A + H * (Z.Lctn.v / 4096), d - 2 - i, 2 * A, i)
        }
        for (var G = 0; G < C.length; G++) {
            var c = C[G].v
                , s = T[G];
            if ((c == a || C[G - 1] && C[G - 1].v == a || G == this.R8) && G != 0) {
                S.fillStyle = "#000000";
                S.fillRect(E - 3 + H * (C[G - 1].v.Lctn.v + (c.Lctn.v - C[G - 1].v.Lctn.v) * c.Mdpn.v / 100) / 4096, d + I + 2, 6, 6)
            }
            if (c == a) {
                S.fillStyle = "#ffffff";
                S.fillRect(E - A + H * (c.Lctn.v / 4096) - 2, d + I + 2 - 2, 2 * A + 4, i + 4)
            }
            S.fillStyle = "rgb(" + Math.round(s.h) + ", " + Math.round(s.l) + "," + Math.round(s.O) + ")";
            S.fillRect(E - A + H * (c.Lctn.v / 4096), d + I + 2, 2 * A, i)
        }
        if (this.x3) {
            this.yI(this.s0);
            this.ek = !0
        }
    }
        ;
    bK.prototype.Ks = function () {
        this.We.i(Math.round(100 * this.s0.Intr.v / 4096));
        var Y = this.s0.Trns.v
            , S = this.s0.Clrs.v
            , h = this.wl != null
            , q = this.qr != -1;
        this.xC.Rz(h);
        this.K1.Rz(h || q);
        this.CV.Rz(h);
        if (h) {
            this.AP.setAttribute("style", "");
            var H = this.wl.v;
            this.K1.i(Math.round(100 * H.Lctn.v / 4096));
            this.xC.i(H.Opct.v.val)
        }
        if (q)
            this.K1.i(Y[this.qr].v.Mdpn.v);
        var h = this.Q5 != null
            , q = this.R8 != -1;
        this.Of.Rz(h);
        this.GU.Rz(h);
        this.zv.Rz(h || q);
        this.Em.Rz(h);
        if (h) {
            this.ex.setAttribute("style", "");
            var I = this.Q5.v;
            this.zv.i(Math.round(100 * I.Lctn.v / 4096));
            var E = I.Type.v.Clry;
            this.Of.i(["FrgC", "BckC", "UsrS"].indexOf(E));
            if (E == "FrgC")
                this.GU.vC(this.WO.jy);
            if (E == "BckC")
                this.GU.vC(this.WO.E$);
            if (E == "UsrS")
                this.GU.i(I.Clr.v)
        }
        if (q)
            this.zv.i(S[this.R8].v.Mdpn.v)
    }
        ;
    bK.prototype.fl = function (Y) {
        var S = Math.round(4096 * this.We.u() / 100);
        this.s0.Intr.v = S;
        var h = this.s0.Trns.v
            , q = this.s0.Clrs.v;
        if (this.wl != null) {
            var H = this.wl.v;
            H.Lctn.v = Math.round(4096 * (this.K1.u() / 100));
            H.Opct.v.val = this.xC.u()
        }
        if (this.Q5 != null) {
            var I = this.Q5.v;
            I.Lctn.v = Math.round(4096 * (this.zv.u() / 100));
            if (Y.target == this.GU)
                this.Of.i(2);
            var E = this.Of.u();
            I.Type.v.Clry = ["FrgC", "BckC", "UsrS"][E];
            if (E == 2)
                I.Clr = {
                    t: "Objc",
                    v: this.GU.u()
                };
            else if (I.Clr)
                delete I.Clr
        }
        if (this.qr != -1)
            h[this.qr].v.Mdpn.v = this.K1.u();
        if (this.R8 != -1)
            q[this.R8].v.Mdpn.v = this.zv.u();
        this.mP()
    }
        ;
    bK.prototype.ZC = function (Y) {
        var S = P.WW(Y, this.k8)
            , h = (S.x * P.M() - this.cT.x) / this.cT.d
            , q = (S.y * P.M() - this.cT.y) / this.cT.v
            , H = this.s0.Trns.v
            , I = this.s0.Clrs.v
            , E = null
            , d = null
            , B = -1
            , n = -1;
        if (q < 1)
            for (var G = 0; G < H.length; G++) {
                var g = H[G].v;
                if (Math.abs(g.Lctn.v / 4096 - h) < .02)
                    E = H[G];
                if (G > 0)
                    if (Math.abs((H[G - 1].v.Lctn.v + (g.Lctn.v - H[G - 1].v.Lctn.v) * g.Mdpn.v / 100) / 4096 - h) < .01)
                        B = G
            }
        if (q > 0)
            for (var G = 0; G < I.length; G++) {
                var z = I[G].v;
                if (Math.abs(z.Lctn.v / 4096 - h) < .02)
                    d = I[G];
                if (G > 0)
                    if (Math.abs((I[G - 1].v.Lctn.v + (z.Lctn.v - I[G - 1].v.Lctn.v) * z.Mdpn.v / 100) / 4096 - h) < .01)
                        n = G
            }
        if (d == null && E == null && B == -1 && n == -1) {
            if (q < 0) {
                var g = {
                    t: "Objc",
                    v: {
                        classID: "TrnS",
                        Opct: {
                            t: "UntF",
                            v: {
                                type: "#Prc",
                                val: 100
                            }
                        },
                        Lctn: {
                            t: "long",
                            v: 0
                        },
                        Mdpn: {
                            t: "long",
                            v: 50
                        }
                    }
                };
                g.v.Lctn.v = Math.round(h * 4096);
                H.push(g);
                H.sort(this._H);
                E = g
            }
            if (q > 1) {
                var I = this.s0.Clrs.v
                    , p = t.W.vi(I, this.WO.jy, this.WO.E$)
                    , C = t.W.G7(this.s0, p, h)
                    , z = {
                        t: "Objc",
                        v: {
                            classID: "Clrt",
                            Clr: {
                                t: "Objc",
                                v: t.W.Da({
                                    h: C & 255,
                                    l: C >> 8 & 255,
                                    O: C >> 16 & 255
                                })
                            },
                            Type: {
                                t: "enum",
                                v: {
                                    Clry: "UsrS"
                                }
                            },
                            Lctn: {
                                t: "long",
                                v: 0
                            },
                            Mdpn: {
                                t: "long",
                                v: 50
                            }
                        }
                    };
                z.v.Lctn.v = Math.round(h * 4096);
                I.push(z);
                I.sort(this._H);
                d = z
            }
        }
        if (d != null)
            n = -1;
        if (E != null)
            B = -1;
        if (d != null || E != null || B > -1 || n > -1) {
            this.wl = E;
            this.Q5 = d;
            this.qr = B;
            this.R8 = n;
            this.Ks();
            this.mP();
            P.y2(window, this.X$);
            P.cM(window, this.A2)
        }
    }
        ;
    bK.prototype.xN = function (Y) {
        var S = P.WW(Y, this.k8)
            , h = P.M() * (S.x - this.cT.x) / this.cT.d
            , q = P.M() * (S.y - this.cT.y) / this.cT.v;
        h = Math.max(0, Math.min(1, h));
        var H = this.s0.Trns.v
            , I = this.s0.Clrs.v;
        if (this.wl != null) {
            var E = this.wl.v;
            E.Lctn.v = Math.round(4096 * h);
            var d = H.indexOf(this.wl);
            if (d != -1 && q < -1 && H.length > 2)
                H.splice(d, 1);
            if (d == -1 && q > -1)
                H.push(this.wl);
            H.sort(this._H)
        }
        if (this.Q5 != null) {
            var B = this.Q5.v;
            B.Lctn.v = Math.round(4096 * h);
            var n = I.indexOf(this.Q5);
            if (n != -1 && q > 1.5 && I.length > 2)
                I.splice(n, 1);
            if (n == -1 && q < 1.5)
                I.push(this.Q5);
            I.sort(this._H)
        }
        if (this.qr > -1) {
            var E = H[this.qr].v;
            E.Mdpn.v = Math.max(5, Math.min(95, Math.round(100 * (h * 4096 - H[this.qr - 1].v.Lctn.v) / (E.Lctn.v - H[this.qr - 1].v.Lctn.v))))
        }
        if (this.R8 > -1) {
            var B = I[this.R8].v;
            B.Mdpn.v = Math.max(5, Math.min(95, Math.round(100 * (h * 4096 - I[this.R8 - 1].v.Lctn.v) / (B.Lctn.v - I[this.R8 - 1].v.Lctn.v))))
        }
        if (this.wl != null || this.Q5 != null || this.qr > -1 || this.R8 > -1) {
            this.Ks();
            this.mP()
        }
    }
        ;
    bK.prototype.AC = function (Y) {
        P.r$(window, this.X$);
        P.pp(window, this.A2);
        if (Date.now() - this.ee < 300) {
            if (this.R8 != -1 || this.qr != -1) {
                var S = (this.R8 != -1 ? this.s0.Clrs.v[this.R8] : this.s0.Trns.v[this.qr]).v;
                S.Mdpn.v = 50;
                this.Ks();
                this.mP()
            } else if (this.Q5 != null)
                this.GU.ahg()
        }
        this.ee = Date.now()
    }
        ;
    bK.prototype._H = function (Y, S) {
        return Y.v.Lctn.v - S.v.Lctn.v
    }
        ;
    function f_() {
        h8.call(this, [11, 10], "isize");
        this.vU = P.w("div", "form");
        this.vU.setAttribute("style", "width:20em");
        this.body.appendChild(this.vU);
        this.HD = new hh(!0, !0);
        this.vU.appendChild(this.HD.j);
        this.Vv = new e0("Resample");
        this.Vv.i(!0);
        this.vU.appendChild(this.Vv.j);
        this.Vv.k(P.E.L, this.a3r, this);
        this.xZ = new ey([12, 14, 1], [[12, 14, 2], [12, 14, 3], "Bicubic Sharper"]);
        this.xZ.i(1);
        this.vU.appendChild(this.xZ.j);
        this.HY = new gP("OK", !0, null, !0);
        this.HY.k("click", this.sf, this);
        this.body.appendChild(this.HY.j)
    }
    f_.prototype = new h8;
    f_.prototype.UO = function (Y, S) {
        return Y != null
    }
        ;
    f_.prototype.VD = function () {
        return !0
    }
        ;
    f_.prototype.a3r = function (Y) {
        var S = this.Vv.u()
            , h = this.HD
            , q = this.xZ;
        if (S)
            q.tW();
        else
            q.f4();
        if (S)
            h.a26();
        else
            h.ae1()
    }
        ;
    f_.prototype.f = function () {
        h8.prototype.f.call(this);
        this.xZ.f();
        this.HD.f()
    }
        ;
    f_.prototype.sf = function (Y) {
        this.close();
        var S = this.HD.u()
            , h = S.x
            , q = S.y
            , H = this.xZ.u();
        if (!this.Vv.u())
            H = null;
        var I = new _(P.E.$_, !0);
        I.data = U.AQ.OJ(h, q, this.HD.Yd(), H);
        this.B(I)
    }
        ;
    f_.prototype.kg = function (Y, S) {
        this.HD.i(new aV(Y.d, Y.v), Y.PW)
    }
        ;
    function bJ() {
        h8.call(this, "Import RAW", "importraw");
        var Y = P.w("div", "flexrow")
            , S = P.w("div");
        this.body.appendChild(Y);
        this.body.appendChild(S);
        var h = P.w("div", "form");
        h.setAttribute("style", "width:16em");
        Y.appendChild(h);
        var q = P.w("div", "form");
        q.setAttribute("style", "width:14em");
        Y.appendChild(q);
        this.q7 = null;
        this.a5R = null;
        this.nr = null;
        this.adV = [];
        var H = [];
        for (var G = 0; G < bJ.wQ.length; G++)
            H.push(bJ.wQ[G] + " Bits");
        this._e = [new hh(!0, !0), new ec([12, 72], ["1", "3", "4"]), new ec([12, 34], H), new ec("Byte Order", ["12-34", "34-12"]), new ey("Guesses", [])];
        for (var G = 0; G < this._e.length; G++) {
            var I = this._e[G];
            if (G != 0)
                I.i(0);
            I.k(P.E.L, G == 4 ? this.MH : this.da, this);
            var E = G == 0 ? h : G == 4 ? S : q;
            E.appendChild(I.j)
        }
        this.yD = P.w("canvas");
        this.Jd = this.yD.getContext("2d");
        this.body.appendChild(this.yD);
        this.HY = new gP("OK", !0, null, !0);
        this.HY.k("click", this.sf, this);
        this.body.appendChild(this.HY.j)
    }
    bJ.prototype = new h8;
    bJ.prototype.f = function () {
        h8.prototype.f.call(this);
        var Y = this._e;
        for (var G = 0; G < Y.length; G++)
            Y[G].f()
    }
        ;
    bJ.prototype.sf = function (Y) {
        
        this.close();
        var S = this._e[0].u()
            , h = eD.y8(this.a5R, [{
                data: this.nr,
                jJ: new W(0, 0, S.x, S.y)
            }])
            , q = new _(P.E.P, !0);
        q.data = {
            X: !0 ? P.U.Qc : P.U.sh,
            n3: h
        };
        this.B(q)
    }
        ;
    bJ.wQ = [8, 16];
    bJ.prototype.kg = function (Y, S) {
        this.q7 = new Uint8Array(S.iP);
        this.a5R = S.hg;
        var h = this.q7.length
            , q = [1, 3, 4]
            , H = 0
            , I = 0
            , E = 1
            , d = 1
            , B = this.adV = [];
        for (var n = 0; n < 3; n++) {
            for (var g = 0; g < 2; g++) {
                var z = bJ.wQ[g]
                    , p = q[n]
                    , C = p * z
                    , T = Math.round(h * 8 / C);
                if (T != h * 8 / C)
                    continue;
                for (var A = 0; A <= 4e3; A++)
                    for (var i = 0; i <= 4e3; i++)
                        if (A * i == T) {
                            var e = 0;
                            if (A == i)
                                e += 64;
                            if (Math.round(A / 100) == A / 100 && Math.round(i / 100) == i / 100)
                                e += 32;
                            if (Math.round(A / 10) == A / 10 && Math.round(i / 10) == i / 10)
                                e += 16;
                            if (Math.round(A / 2) == A / 2 && Math.round(i / 2) == i / 2)
                                e += 8;
                            B.push([A, i, p, z, e])
                        }
            }
        }
        var a = function (s, x) {
            if (x[4] != s[4])
                return x[4] - s[4];
            var u = Math.max(s[0], s[1]) / Math.min(s[0], s[1])
                , y = Math.max(x[0], x[1]) / Math.min(x[0], x[1]);
            if (u != y)
                return u - y;
            return x[0] - s[0]
        };
        B.sort(a);
        var Z = this._e
            , O = [];
        for (var G = 0; G < B.length; G++) {
            var c = B[G];
            O.push(c[0] + " x " + c[1] + ", " + c[2] + "c, " + c[3] + "-bit")
        }
        Z[4].Hm(O);
        Z[4].i(0);
        this.MH(null)
    }
        ;
    bJ.prototype.MH = function (Y) {
        var S = this._e
            , h = this.adV[this._e[4].u()];
        S[0].i(new aV(h[0], h[1]), 72);
        S[1].i([1, 3, 4].indexOf(h[2]));
        S[2].i(bJ.wQ.indexOf(h[3]));
        this.da()
    }
        ;
    bJ.prototype.da = function (Y) {
        var S = this._e
            , h = S[0].u()
            , q = h.x
            , H = h.y
            , I = bJ.wQ[S[2].u()]
            , E = this.q7;
        if (I == 16 && S[3].u() == 1) {
            E = E.slice(0);
            for (var G = 0; G < E.length; G += 2) {
                var d = E[G];
                E[G] = E[G + 1];
                E[G + 1] = d
            }
        }
        var B = this.nr = UPNG.toRGBA8.decodeImage(E, q, H, {
            tabs: {},
            ctype: [0, 2, 6][S[1].u()],
            depth: I
        })
            , n = this.yD
            , g = this.Jd
            , z = [B, new W(0, 0, q, H)];
        t.zU(z);
        for (var G = 0; G < z.length; G += 2)
            if (z[G + 1].v < 300) {
                B = z[G];
                q = z[G + 1].d;
                H = z[G + 1].v;
                break
            }
        n.width = q;
        n.height = H;
        P.fs(n, q, H);
        var p = new ImageData(new Uint8ClampedArray(B.buffer), q, H);
        g.putImageData(p, 0, 0)
    }
        ;
    function cg(Y, S, h) {
        e9.call(this);
        this.j = P.w("div", "");
        this.Qu = Y;
        this.j4 = null;
        this.bI = S == null ? !1 : S;
        this.QH = null;
        this._g = h;
        this.vW = [];
        this.Rp = [];
        this.Ha = [];
        this.aa = [];
        this.UN = 0;
        this.j4 = this.a0g(cg.aa[Y]);
        this.Hk();
        this.Rq = null;
        this.ak4;
        this.ahK
    }
    cg.prototype = new e9;
    cg.prototype.FF = function (Y, S, h, q, H) {
        this.Rq = H;
        this.ak4 = JSON.parse(JSON.stringify(this.QH));
        if (this.j4.lagl)
            this.ahK = this.j4.lagl.u()
    }
        ;
    cg.prototype.vr = function (Y, S, h, q, H) {
        var I = this.Rq
            , E = this.Qu
            , d = this.ak4;
        if (I == null)
            return;
        var B = (H.x - I.x) / Y.z.S
            , n = (H.y - I.y) / Y.z.S;
        if (E == "GrFl") {
            var g = JSON.parse(JSON.stringify(d.Ofst.v));
            g.Hrzn.v.val += B * .5;
            g.Vrtc.v.val += n * .5;
            this.j4.Ofst.i(g, !0)
        }
        if (E == "patternFill") {
            var g = JSON.parse(JSON.stringify(d.phase.v));
            g.Hrzn.v += B;
            g.Vrtc.v += n;
            this.j4.phase.i(g, !0)
        }
        if (E == "DrSh" || E == "IrSh" || E == "ChFX") {
            var z = d.Dstn.v.val
                , p = this.ahK.Lk * Math.PI / 180
                , C = -Math.cos(p) * z + B
                , T = Math.sin(p) * z + n;
            this.j4.Dstn.i(Math.sqrt(C * C + T * T), !0);
            this.j4.lagl.i(Math.atan2(T, -C) * 180 / Math.PI, null, !0)
        }
    }
        ;
    cg.prototype.mi = function (Y, S, h, q, H) {
        this.Rq = null
    }
        ;
    cg.prototype.amW = function () {
        for (var G = 0; G < this.aa.length; G++) {
            P.zM(this.aa[G], "selected");
            if (this.Ha[G] instanceof e0)
                this.Ha[G].i(!1)
        }
    }
        ;
    cg.prototype.agN = function (Y) {
        var S = this.a6k.bind(this);
        for (var G = 0; G < this.Ha.length; G++) {
            var h = P.w("div", "listitem");
            this.aa.push(h);
            if (G > 0)
                h.textContent = "\u2003";
            h.appendChild(this.Ha[G].j);
            if (ai.Bz.indexOf(this.Qu) != -1) {
                var q = new gP("+");
                q.Fc();
                q.j.style.float = "right";
                h.appendChild(q.j);
                var H = new gP("\u2B0D");
                H.Fc();
                H.j.style.float = "right";
                H.j.style["margin-right"] = "2px";
                h.appendChild(H.j)
            }
            h.addEventListener("click", S, !1);
            Y.appendChild(h)
        }
    }
        ;
    cg.IE = function (Y, S) {
        var h = S.getBoundingClientRect();
        return (Y.clientY - h.top) / h.height
    }
        ;
    cg.prototype.a6k = function (Y) {
        var S = Y.target.tagName.toLowerCase();
        if (S == "input") {
            return
        }
        if (S == "button") {
            var h = new _(P.E.A, !0)
                , q = Y.target.textContent == "+"
                , H = q ? 0 : cg.IE(Y, Y.target) < .5 ? -1 : 1;
            if (q)
                h.data = {
                    X: "st_dupsingle",
                    $: this.parent.data.$,
                    eS: this._g
                };
            else
                h.data = {
                    X: "st_movsingle",
                    $: this.parent.data.$,
                    eS: this._g,
                    agi: H
                };
            h.F = U.lc;
            h.NN = !0;
            this.B(h);
            h = new _("redrawall", !0);
            h.data = {
                agi: H
            };
            this.B(h);
            return
        }
        P.IM(Y);
        this.Ep();
        this.UN = this.aa.indexOf(Y.currentTarget);
        this.B(new _("showme"))
    }
        ;
    cg.prototype.Ep = function () {
        if (this.j4.enab && this.j4.enab.u() == !1)
            this.gf({
                J6: "enab",
                G: !0
            })
    }
        ;
    cg.prototype.aaP = function () {
        var Y = this.aa[this.UN];
        if (Y)
            P.xv(Y, "selected");
        return this.Rp[this.UN]
    }
        ;
    cg.prototype.a0g = function (Y) {
        var S = {};
        for (var G = 0; G < Y.length; G++) {
            var h = Y[G]
                , q = null;
            if (h == "----")
                q = {
                    j: P.w("hr")
                };
            if (h == "\n")
                q = {
                    j: P.w("br")
                };
            if (h == "blOptions")
                q = new aG([14, 10]);
            if (h == "brst")
                q = new bg([12, 72], ["R", "G", "B"]);
            if (h == "knko")
                q = new ey("Knockout", [[13, 1, 0], "Shallow", "Deep"]);
            if (h == "enab")
                q = new e0(ai.names[ai.order.indexOf(this.Qu)]);
            if (h == "lrMd" || h == "Md")
                q = new ey([12, 19, 0], iS.hc, !1, iS.sm);
            if (h == "Opct")
                q = new c1([12, 0], 0, 100, "%");
            if (h == "iOpa")
                q = new c1([12, 26], 0, 100, "%");
            if (h == "blIf")
                q = new ei;
            if (h == "ShdN")
                q = new c1([12, 68], 0, 100, "%");
            if (h == "lagl" || h == "Angl")
                q = new cB([12, 15]);
            if (h == "uglg")
                q = new e0([12, 27]);
            if (h == "Dstn")
                q = new c1([12, 28], 0, 200, "px");
            if (h == "Ckmt")
                q = new c1([12, 29], 0, 100, "%");
            if (h == "blur")
                q = new c1([12, 14, 0], 0, 200, "px");
            if (h == "TrnS" || h == "MpgS")
                q = new b_([12, 21]);
            if (h == "Nose")
                q = new c1([12, 30], 0, 100, "%");
            if (h == "layerConceals")
                q = new e0([12, 31]);
            if (h == "AntA" || h == "antialiasGloss")
                q = new e0("Anti-alias");
            if (h == "GlwT")
                q = new ey([12, 32], ai.t8.names);
            if (h == "glwS")
                q = new ey([12, 70], ai.t8.a9w);
            if (h == "Inpr")
                q = new c1([12, 12], 1, 100, "%");
            if (h == "bvlS")
                q = new ey([12, 22], ai.hv.style);
            if (h == "bvlT")
                q = new ey([12, 32], ai.hv.aiL);
            if (h == "bvlD")
                q = new ey(null, ai.hv.dir);
            if (h == "srgR")
                q = new c1([12, 34], 0, 1e3, "%");
            if (h == "Sftn")
                q = new c1([12, 35], 0, 20, "px");
            if (h == "Lald")
                q = S.lagl;
            if (h == "hglM" || h == "sdwM")
                q = new ey([12, 36], iS.hc, !1, iS.sm);
            if (h == "hglC" || h == "sdwC")
                q = new ca;
            if (h == "hglO" || h == "sdwO")
                q = new c1([12, 0], 0, 100, "%");
            if (h == "Invr" || h == "InvT")
                q = new e0([4, 11]);
            if (h == "Sz")
                q = new c1([12, 14, 0], 1, 200, "px");
            if (h == "Styl")
                q = new ey([12, 40], ai.stroke.names);
            if (h == "PntT")
                q = new ey([12, 66], ai.stroke.ajU);
            if (h == "Clr")
                q = new ca(!0);
            if (h == "Grad") {
                q = new fo(!0, [12, 37], !0);
                q.i(JSON.parse(ai.m_.Yt).v)
            }
            if (h == "Rvrs")
                q = new e0([12, 23, 0]);
            if (h == "Dthr")
                q = new e0("Dither");
            if (h == "Type")
                q = new ey([12, 22], ai.W.names.slice(0, this.Qu == "FrFX" ? 6 : 5));
            if (h == "Ptrn")
                q = new g5([12, 62]);
            if (h == "Scl")
                q = new c1([12, 38], 10, 500, "%", 0, !0);
            if (h == "Algn")
                q = new e0([12, 39]);
            if (h == "Ofst")
                q = new fZ(!0);
            if (h == "phase")
                q = new fZ(!1);
            if (h == "useShape")
                q = new e0([12, 21]);
            if (h == "useTexture")
                q = new e0([12, 67]);
            if (h == "textureDepth")
                q = new c1([12, 34], -300, 300, "%");
            var H = h == "----" || h == "\n" ? h + G : h;
            if (q != null)
                S[H] = q
        }
        return S
    }
        ;
    cg.prototype.a3i = function (Y) {
        var S = this.Rp[this.UN];
        for (var G = 0; G < Y.length; G++) {
            var h = this.j4[Y[G]];
            if (h && S.contains(h.j))
                S.removeChild(h.j)
        }
    }
        ;
    cg.prototype.aad = function (Y) {
        var S = this.Rp[this.UN];
        for (var G = 0; G < Y.length; G++) {
            var h = this.j4[Y[G]];
            if (h && !S.contains(h.j))
                S.appendChild(h.j)
        }
    }
        ;
    cg.prototype.rJ = function (Y, S) {
        if (this.j4 == null)
            return;
        var h = S == iD.Ie;
        if (this.j4.Grad) {
            this.j4.Grad.qQ(Y.jy, Y.E$);
            if (h || S == iD.oo || S == iD.MM)
                this.j4.Grad.dB(Y.EI)
        }
        if (this.j4.Ptrn) {
            if (h || S == iD.Zp)
                this.j4.Ptrn.dB(Y.QW)
        }
        if (this.j4.TrnS) {
            if (h || S == iD.Se)
                this.j4.TrnS.dB(Y._L)
        }
        if (this.j4.MpgS) {
            if (h || S == iD.Se)
                this.j4.MpgS.dB(Y._L)
        }
    }
        ;
    cg.prototype.f = function () {
        for (var G = 0; G < this.vW.length; G++)
            this.vW[G].f();
        for (var Y in this.j4)
            if (this.j4[Y] instanceof e9)
                this.j4[Y].f()
    }
        ;
    cg.prototype.Hk = function () {
        for (var Y in this.j4) {
            var S = this.j4[Y];
            S.parent = this;
            if (S instanceof e9)
                S.k(P.E.L, this.afI, this);
            if (this.Rp.length == 0 || Y == "useShape" || Y == "useTexture") {
                var h = new aG(S.lx())
                    , q = P.w("div", "bordered padded");
                if (this.bI == !1) {
                    q.appendChild(h.j);
                    q.appendChild(P.w("hr", ""))
                }
                this.vW.push(h);
                this.Rp.push(q);
                this.Ha.push(S)
            } else
                this.Rp[this.Rp.length - 1].appendChild(S.j)
        }
    }
        ;
    cg.prototype.update = function (Y, S) {
        if (this.j4 == null)
            return;
        this.QH = JSON.parse(JSON.stringify(S));
        for (var h in S) {
            if ("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr Angl srgR Sftn textureDepth ShdN".split(" ").indexOf(h) != -1)
                this.j4[h].i(S[h].v.val);
            if ("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(h) != -1) {
                this.j4[h].i(S[h].v, Y)
            }
            if (["Md", "hglM", "sdwM"].indexOf(h) != -1)
                this.j4[h].i(iS.Qu.indexOf(S[h].v.BlnM));
            if (h == "lrMd") {
                var q = (S.i4 ? [[15, 10, 27]] : []).concat(iS.hc)
                    , H = (S.i4 ? [1] : []).concat(iS.sm);
                this.j4[h].Hm(q, H);
                this.j4[h].i(S[h].v)
            }
            if (h == "lagl") {
                var I = S.uglg && S.uglg.v ? Y.Ai() : S.lagl.v.val;
                this.j4[h].i(I)
            }
            if (h == "Lald") {
                var I = S.uglg && S.uglg.v ? Y.tz() : S.Lald.v.val;
                this.j4[h].i(null, I)
            }
            if (h == "Type")
                this.j4[h].i(ai.W.types.indexOf(S.Type.v.GrdT));
            if (h == "Styl")
                this.j4[h].i(ai.stroke.types.indexOf(S.Styl.v.FStl));
            if (h == "PntT") {
                var E = ai.stroke.Px.indexOf(S.PntT.v.FrFl);
                this.j4[h].i(E);
                if (!this.bI) {
                    this.a3i(ai.pJ.concat(ai.eK.concat(ai.PV)));
                    this.aad([ai.pJ, ai.eK, ai.PV][E])
                }
            }
            if (h == "GlwT")
                this.j4[h].i(ai.t8.types.indexOf(S.GlwT.v.BETE));
            if (h == "glwS")
                this.j4[h].i(ai.t8.av.indexOf(S.glwS.v.IGSr));
            if (h == "bvlS")
                this.j4[h].i(ai.hv.types.indexOf(S.bvlS.v.BESl));
            if (h == "bvlT")
                this.j4[h].i(ai.hv.TD.indexOf(S.bvlT.v.bvlT));
            if (h == "bvlD")
                this.j4[h].i(["In", "Out"].indexOf(S.bvlD.v.BESs))
        }
    }
        ;
    cg.prototype.afI = function (Y) {
        for (var S in this.j4) {
            if (this.j4[S] != Y.target)
                continue;
            var h = null
                , q = !1;
            if ("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(S) != -1)
                h = {
                    type: "#Prc",
                    val: Y.target.u()
                };
            if (["Dstn", "Ckmt", "blur", "Sz", "Sftn"].indexOf(S) != -1)
                h = {
                    type: "#Pxl",
                    val: Y.target.u()
                };
            if (["Angl", "lagl"].indexOf(S) != -1)
                h = {
                    type: "#Ang",
                    val: Y.target.u().Lk
                };
            if ("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(S) != -1)
                h = Y.target.u();
            if (["Md", "hglM", "sdwM"].indexOf(S) != -1)
                h = {
                    BlnM: iS.Qu[Y.target.u()]
                };
            if (S == "uglg") {
                h = Y.target.u();
                q = !0
            }
            if (S == "PntT") {
                h = {
                    FrFl: ai.stroke.Px[Y.target.u()]
                };
                q = !0
            }
            if (S == "Lald")
                h = {
                    type: "#Ang",
                    val: Y.target.u().alt
                };
            if (S == "Type")
                h = {
                    GrdT: ai.W.types[Y.target.u()]
                };
            if (S == "Styl")
                h = {
                    FStl: ai.stroke.types[Y.target.u()]
                };
            if (S == "GlwT")
                h = {
                    BETE: ai.t8.types[Y.target.u()]
                };
            if (S == "glwS")
                h = {
                    IGSr: ai.t8.av[Y.target.u()]
                };
            if (S == "bvlS")
                h = {
                    BESl: ai.hv.types[Y.target.u()]
                };
            if (S == "bvlT")
                h = {
                    bvlT: ai.hv.TD[Y.target.u()]
                };
            if (S == "bvlD")
                h = {
                    BESs: ["In", "Out"][Y.target.u()]
                };
            this.gf({
                J6: S,
                G: h
            });
            if (q) {
                if (this.bI)
                    this.update(null, this.QH);
                else {
                    var H = this.parent
                        , I = H.n3
                        , E = this._g
                        , d = I.t[H.data.$].add.lmfx[ai.m6[E[0]]].v[E[1]].v;
                    this.update(I, d)
                }
            }
        }
    }
        ;
    cg.prototype.gf = function (Y) {
        if (this.QH && this.QH[Y.J6])
            this.QH[Y.J6].v = Y.G;
        if (this.bI) {
            this.B(new _(P.E.L))
        } else {
            Y.X = "changeprop";
            Y.$ = this.parent.data.$;
            Y.Y8 = this._g;
            var S = new _(P.E.A, !0);
            S.data = Y;
            S.F = U.lc;
            S.NN = !0;
            this.B(S);
            this.B(new _("afterchange", !0))
        }
    }
        ;
    cg.prototype.u = function () {
        return JSON.parse(JSON.stringify(this.QH))
    }
        ;
    cg.aa = {
        bops: "blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),
        DrSh: "enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),
        IrSh: "enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),
        OrGl: ["enab", "Md", "Opct", "Nose", "\n", "Clr", "Grad", "----", "GlwT", "Ckmt", "blur", "TrnS", "Inpr", "ShdN"],
        IrGl: ["enab", "Md", "Opct", "Nose", "\n", "Clr", "Grad", "----", "GlwT", "glwS", "Ckmt", "blur", "TrnS", "Inpr", "ShdN"],
        ebbl: ["enab", "bvlS", "bvlT", "bvlD", "srgR", "blur", "Sftn", "----", "lagl", "Lald", "uglg", "TrnS", "\n", "hglM", "hglC", "hglO", "sdwM", "sdwC", "sdwO", "useShape", "MpgS", "Inpr", "useTexture", "Ptrn", "Scl", "textureDepth", "InvT", "Algn", "phase"],
        SoFi: ["enab", "Md", "Opct"].concat(ai.pJ),
        GrFl: ["enab", "Md", "Opct"].concat(ai.eK),
        patternFill: ["enab", "Md", "Opct"].concat(ai.PV),
        ChFX: "enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),
        FrFX: ["enab", "Sz", "Styl", "\n", "Md", "Opct", "PntT", "\n"].concat(ai.pJ.concat(ai.eK.concat(ai.PV)))
    };
    function au() {
        h8.call(this, [11, 6], "layerstyle");
        this.afv = -1;
        this.data = {};
        this.n3 = null;
        this.it = null;
        this.H3 = [];
        this.RW = [];
        P.xv(this.body, "flexrow");
        this._B = P.w("div", "bordered");
        this._B.setAttribute("style", "min-width:13em;");
        this.body.appendChild(this._B);
        this.ub = P.w("div", "");
        this.ub.setAttribute("style", "width:25em; padding-left: 1em;");
        this.body.appendChild(this.ub);
        this.iO = P.w("div", "form");
        this.iO.setAttribute("style", "padding-left: 1em; width:7em;");
        this.body.appendChild(this.iO);
        this.BV = new gP("OK", !0, null, !0);
        this.BV.k("click", this.sf, this);
        this.iO.appendChild(this.BV.j);
        this.u0 = new gP([12, 87], !0, null, !0);
        this.u0.k("click", this.anv, this);
        this.iO.appendChild(this.u0.j);
        this.eA = new gz;
        this.eA.parent = this;
        this.eA.k(P.E.L, this.anO, this);
        this.iO.appendChild(this.eA.j);
        this.k("closebtn", this.uv, this);
        this.k("redrawall", this.EN, this)
    }
    au.prototype = new h8;
    au.prototype.VD = function () {
        return !0
    }
        ;
    au.prototype.iu = function () {
        return !0
    }
        ;
    au.prototype.FF = function (Y, S, h, q, H) {
        var I = this.DN();
        if (I)
            I.FF(Y, S, h, q, H)
    }
        ;
    au.prototype.vr = function (Y, S, h, q, H) {
        var I = this.DN();
        if (I)
            I.vr(Y, S, h, q, H)
    }
        ;
    au.prototype.mi = function (Y, S, h, q, H) {
        var I = this.DN();
        debugger
        if (I)
            I.mi(Y, S, h, q, H)
    }
        ;
    au.prototype.DN = function (Y) {
        if (Y == null)
            Y = this.data.index;
        return Y == null ? null : Y == 0 ? this.H3[0] : this.RW[Y[0]][Y[1]]
    }
        ;
    au.prototype.anO = function (Y) {
        var S = this.eA.u();
        this.gf({
            X: "setstl",
            G: S.a7
        });
        this.EN(null)
    }
        ;
    au.prototype.anv = function (Y) {
        var S = this.n3
            , h = this.data.$;
        if (h == null)
            h = S.C[0];
        var q = this.n3.t[h]
            , H = av.pQ(q)
            , I = new _(P.E.P, !0);
        I.data = {
            X: P.U.PD,
            UI: "add",
            go: iD.YM,
            Gu: [JSON.parse(JSON.stringify(H))]
        };
        this.B(I)
    }
        ;
    au.prototype.ag9 = function (Y) {
        this.data.index = Y.currentTarget._g;
        this.vZ(Y.currentTarget._g)
    }
        ;
    au.prototype.EN = function (Y) {
        this.kg(this.n3, this.data)
    }
        ;
    au.prototype.vZ = function (Y, S) {
        P.v3(this.ub);
        for (var G = 0; G < this.H3.length; G++)
            this.H3[G].amW();
        var h = this.DN(Y);
        this.ub.appendChild(h.aaP());
        if (S)
            h.Ep();
        var q = this.n3;
        if (q) {
            var H = q.t[this.data.$];
            this.H3[0].update(q, cU.Zm.em(q, H));
            var I = H.add.lmfx;
            if (I == null)
                return;
            for (var G = 0; G < ai.order.length; G++) {
                var E = I[ai.m6[G]].v;
                for (var d = 0; d < E.length; d++)
                    this.RW[G][d].update(q, E[d].v)
            }
        }
        if (S)
            h.Ep()
    }
        ;
    au.prototype.f = function () {
        h8.prototype.f.call(this);
        this.u0.f();
        this.eA.f();
        for (var G = 0; G < this.H3.length; G++)
            this.H3[G].f()
    }
        ;
    au.prototype.kg = function (Y, S) {
        var h = S.$ == null;
        this.data.$ = S.$;
        this.data.index = S.index;
        S = this.data;
        this.n3 = Y;
        if (h)
            S.$ = Y.C.length == 0 ? Y.t.length - 1 : Y.C[0];
        P.v3(this._B);
        var q = Y.t[S.$].add.lmfx;
        this.W0();
        this.H3 = [new cg("bops", !1, 0)];
        this.RW = [];
        for (var G = 0; G < ai.order.length; G++) {
            this.RW.push([]);
            var H = q == null ? [] : q[ai.m6[G]].v;
            for (var I = 0; I < H.length; I++) {
                var E = new cg(ai.order[G], !1, [G, I]);
                this.H3.push(E);
                this.RW[G].push(E)
            }
            if (H.length == 0) {
                var E = new cg(ai.order[G], !1, [G, 0]);
                this.H3.push(E);
                this.RW[G].push(E)
            }
        }
        this.f();
        this.gX(this.it, iD.Ie);
        for (var G = 0; G < this.H3.length; G++) {
            this.H3[G].parent = this;
            this.H3[G].agN(this._B);
            this.H3[G].k("showme", this.ag9, this)
        }
        if (S.index == null || S.index == 0 || !h && q[ai.m6[S.index[0]]].v.length == 0) {
            this.vZ(0)
        } else
            this.vZ(S.index, h);
        this.k("afterchange", this.W0, this)
    }
        ;
    au.prototype.W0 = function (Y) {
        var S = this.n3
            , h = this.data.$;
        if (h == null)
            h = S.C[0];
        var q = this.n3.t[h]
            , H = av.pQ(q);
        this.eA.i(H, S.add.Patt ? S.add.Patt : [], S.Ai(), S.tz())
    }
        ;
    au.prototype.rJ = function (Y, S) {
        this.it = Y;
        this.gX(Y, S);
        if (S == iD.YM || S == iD.Ie) {
            this.eA.dB([Y.Y_, Y.QW])
        }
        if (S == iD.Bt) { }
    }
        ;
    au.prototype.gX = function (Y, S) {
        for (var G = 0; G < this.H3.length; G++)
            this.H3[G].rJ(Y, S)
    }
        ;
    au.prototype.uv = function (Y) {
        this.gf({
            X: "cancel"
        })
    }
        ;
    au.prototype.sf = function (Y) {
        this.gf({
            X: "confirm"
        });
        this.close()
    }
        ;
    au.prototype.gf = function (Y) {
        Y.$ = this.data.$;
        var S = new _(P.E.A, !0);
        S.data = Y;
        S.F = U.lc;
        S.NN = !0;
        this.B(S);
        this.W0()
    }
        ;
    au.qx = function (Y) {
        var S = [{
            name: [14, 10],
            Sp: !0
        }];
        for (var G = 0; G < ai.names.length; G++)
            S.push({
                name: ai.names[G]
            });
        if (Y) {
            S[S.length - 1].Sp = !0;
            S.push({
                name: ["VAR0 VAR1", [12, 49], [9, 1]],
                p: function (h) {
                    return {
                        p: h != null && h.C.length != 0 && h.t[h.C[0]].add.lmfx != null
                    }
                }
            })
        }
        return S
    }
        ;
    au.tu = function (Y) {
        var S = [{
            c: P.E.P,
            g: {
                X: P.U.V5,
                Fh: "layerstyle"
            }
        }];
        for (var G = 0; G < ai.names.length; G++)
            S.push({
                c: P.E.P,
                g: {
                    X: P.U.V5,
                    Fh: "layerstyle",
                    index: [G, 0]
                }
            });
        if (Y) {
            var h = {
                classID: "Mk",
                null: bw.wC("Lyr"),
                Usng: {
                    t: "obj ",
                    v: [{
                        t: "prop",
                        v: {
                            classID: "Prpr",
                            keyID: "Lefx"
                        }
                    }, {
                        t: "Enmr",
                        v: {
                            classID: "Lyr",
                            typeID: "Ordn",
                            enum: "Trgt"
                        }
                    }]
                }
            };
            S.push({
                c: P.E.$_,
                g: {
                    f0: "make",
                    Jz: h
                }
            })
        }
        return S
    }
        ;
    au.XO = function (Y) {
        var S = [];
        if (Y)
            S.push({
                name: [6, 48, 0, 0],
                tJ: !0
            }, {
                name: [6, 48, 0, 1],
                tJ: !0
            }, {
                name: [6, 48, 0, 2],
                tJ: !0,
                Sp: !0
            });
        for (var h in dD.names)
            S.push({
                name: dD.names[h],
                Sp: dD.d8.indexOf(h) != -1,
                tJ: L[h] != null
            });
        return S
    }
        ;
    au.od = function (Y) {
        var S = [];
        if (Y) {
            S.push({
                c: P.E.A,
                F: U.SQ,
                g: {
                    X: "newfill",
                    I7: 0
                }
            });
            for (var G = 1; G < 3; G++)
                S.push({
                    c: P.E.$_,
                    g: U.sX.kx(G)
                })
        }
        for (var h in dD.names) {
            var q = io.g4(h);
            if (q == null)
                q = {};
            for (var H in dD.rs)
                if (dD.rs[H] == h)
                    q.classID = H;
            var I = {
                f0: "make",
                Jz: {
                    classID: "Mk",
                    null: bw.wC("AdjL"),
                    Usng: {
                        t: "Objc",
                        v: {
                            classID: "AdjL",
                            Type: {
                                t: "Objc",
                                v: q
                            }
                        }
                    }
                }
            };
            S.push({
                c: P.E.$_,
                g: I
            })
        }
        return S
    }
        ;
    function hU() {
        h8.call(this, "Merge Channels", "mergechannels");
        this.Gy = null;
        var Y = P.w("div", "form");
        this.body.appendChild(Y);
        this._e = [];
        for (var G = 0; G < 3; G++) {
            var S = new ey(dD.B$[G], []);
            this._e.push(S);
            Y.appendChild(S.j);
            P.f$(Y)
        }
        this.BV = new gP("OK", !0, null, !0);
        this.BV.k("click", this.sf, this);
        Y.appendChild(this.BV.j)
    }
    hU.prototype = new h8;
    hU.prototype.f = function () {
        h8.prototype.f.call(this);
        for (var G = 0; G < 3; G++)
            this._e[G].f()
    }
        ;
    hU.prototype.kg = function (Y, S, h, q) {
        this.Gy = h;
        var H = [];
        for (var G = 0; G < h.length; G++)
            H.push(h[G].name);
        for (var G = 0; G < 3; G++) {
            var I = this._e[G];
            I.Hm(H);
            I.i(Math.min(G, h.length - 1))
        }
    }
        ;
    hU.prototype.sf = function (Y) {
        var S = this.Gy
            , h = S[0]
            , q = new _(P.E.$_, !0);
        q.data = dh.f9(h.d, h.v, h.PW, "Merged Document", "Wht");
        this.B(q);
        var H = [];
        for (var G = 0; G < 3; G++)
            H.push(S[this._e[G].u()].Q3());
        var h = S[S.length - 1]
            , I = h.t[0]
            , E = I.buffer;
        for (var G = 0; G < E.length; G += 4) {
            E[G] = H[0][G];
            E[G + 1] = H[1][G];
            E[G + 2] = H[2][G]
        }
        I.s();
        h.s();
        this.close()
    }
        ;
    function dB() {
        h8.call(this, [1, 10], "script");
        var Y = P.w("div", "form");
        Y.setAttribute("style", "width:44em");
        this.body.appendChild(Y);
        this.it = null;
        this.Bw = [];
        this.I5 = [];
        this.af9;
        var S = this.ck = new gP([1, 2], !1, null, !0);
        S.k("click", this.Oa, this);
        Y.appendChild(S.j);
        var h = new gP("JS Reference", !1, null, !0);
        h.k("click", this.aln, this);
        Y.appendChild(h.j);
        Y.appendChild(new aG("Demos:").j);
        this.ae9 = [];
        var q = dB.lN;
        for (var G = 0; G < q.length; G++) {
            var H = new gP(q[G].pc, !1, null, !0);
            this.ae9.push(H);
            Y.appendChild(H.j);
            H.k("click", this.ag8, this)
        }
        this.U7 = P.w("textarea");
        this.U7.setAttribute("rows", 16);
        this.U7.setAttribute("style", "display:block;tab-size:4; font-family:monospace;width:100%;");
        Y.appendChild(this.U7);
        var I = new gP("Run", !0, null, !0);
        I.k("click", this.sf, this);
        Y.appendChild(I.j);
        this.agG = P.w("div");
        Y.appendChild(this.agG)
    }
    dB.prototype = new h8;
    dB.prototype.f = function () {
        this.ck.f()
    }
        ;
    dB.prototype.Oa = function () {
        var Y = this.af9;
        if (Y == null)
            Y = "script.jsx";
        var S = new _(P.E.P, !0);
        S.data = {
            X: P.U.V5,
            Fh: "namewindow",
            IJ: Y.slice(0, Y.length - 4),
            CP: this.aj4.bind(this)
        };
        this.B(S)
    }
        ;
    dB.prototype.aj4 = function (Y) {
        var S = this.U7.value
            , h = k.gN(S)
            , q = new _(P.E.P, !0);
        q.data = {
            X: P.U.SM,
            iP: h.buffer,
            Us: Y + ".jsx",
            a8I: !0
        };
        this.B(q)
    }
        ;
    dB.prototype.aiQ = function (Y) {
        var G = this.Bw.indexOf(Y.target)
            , S = this.af9 = this.I5[G]
            , h = this.it.uw.Mc[S]
            , q = new Uint8Array(h)
            , H = k.Dt(q, 0, q.length);
        this.U7.value = H
    }
        ;
    dB.prototype.kg = function (Y, S, h) {
        this.U7.value = dB.lN[0].f8;
        this.rT()
    }
        ;
    dB.prototype.rT = function () {
        var Y = this.it.uw
            , S = this.agG;
        P.v3(S);
        this.Bw = [];
        this.I5 = [];
        S.textContent = "Saved scripts: ";
        for (var h in Y.Mc) {
            if (h.endsWith(".jsx")) {
                var q = new gP(h, !1, null, !0);
                this.Bw.push(q);
                this.I5.push(h);
                q.k("click", this.aiQ, this);
                S.appendChild(q.j)
            }
        }
    }
        ;
    dB.prototype.rJ = function (Y, S) {
        this.it = Y;
        if (S == iD.Mm)
            this.rT()
    }
        ;
    dB.prototype.aln = function (Y) {
        var S = new _(P.E.P, !0);
        S.data = {
            X: P.U.wU,
            link: "https://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2019.pdf"
        };
        this.B(S)
    }
        ;
    dB.prototype.sf = function (Y) {
        var S = new _(P.E.P, !0);
        S.data = {
            X: P.U.sw,
            v6: this.U7.value
        };
        this.B(S)
    }
        ;
    dB.prototype.ag8 = function (Y) {
        var S = this.ae9.indexOf(Y.currentTarget);
        this.U7.value = dB.lN[S].f8
    }
        ;
    dB.lN = [{
        pc: "Hello",
        f8: "\nalert(\"Hello Photopea!\");\n"
    }, {
        pc: "Process Layers",
        f8: "\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n" + "\t//lays[i].visible = false;\n" + "\t//lays[i].opacity = 50;\n" + "\tlays[i].name = \"My Layer \"+i;\n}"
    }, {
        pc: "Clone Layers",
        f8: "\nvar orig = app.activeDocument.activeLayer;\n" + "var cnt = 12;\n" + "var angle = Math.floor(360 / cnt);\n" + "\n" + "for(var i=1; i<cnt; i++)\n" + "{\n" + "\tvar nlay = orig.duplicate();\n" + "\t//nlay.translate(30*i, 20*i);\n" + "\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n" + "}"
    }];
    function fl() {
        h8.call(this, [11, 7], "newproject");
        this.data = null;
        this.Gy = null;
        var Y = P.w("div", "flexrow");
        this.ip = Y;
        this.body.appendChild(Y);
        var S = P.w("div", "form");
        this.vU = S;
        Y.appendChild(S);
        this.ml = new eT([12, 48]);
        S.appendChild(this.ml.j);
        P.f$(S);
        this.HD = new hh(!0);
        this.HD.i(new aV(1280, 720), 72);
        this.HD.k(P.E.L, this._D, this);
        S.appendChild(this.HD.j);
        this.zR = new ey([12, 46], [[13, 1, 8], [13, 1, 9], [12, 46]]);
        S.appendChild(this.zR.j);
        S.appendChild(P.w("hr"));
        this.HY = new gP([12, 49], !0, null, !0);
        this.HY.k("click", this.sf, this);
        S.appendChild(this.HY.j);
        var h = fl.q7
            , q = [];
        for (var G = 0; G < h.length; G++)
            q.push(h[G].name);
        this.hd = new ec(null, q);
        this.hd.k(P.E.L, this.aQ, this);
        S.appendChild(this.hd.j);
        this.hd.j.style["margin-top"] = "1em";
        this.VF = new eI(!0);
        this.VF.k(P.E.L, this.aib, this);
        S.appendChild(this.VF.j);
        this.aQ();
        this.tH = new am;
        this.tH.parent = this;
        this.tH.j.setAttribute("style", "margin-left:1em");
        this.tH.k("tempready", this.ajS, this)
    }
    fl.prototype = new h8;
    fl.prototype.rJ = function (Y, S) {
        this.tH.rJ(Y)
    }
        ;
    fl.prototype.OV = function (Y, S) {
        return new aV(Math.max(0, Math.min(70, (Y - 690) / 2)), Y > S ? Math.max(0, Math.min(50, (S - 400) / 2)) : 0)
    }
        ;
    fl.prototype.hD = function (Y, S) {
        this.vU.setAttribute("style", "width:" + Math.min(Y, 338) + "px");
        this.VF.j.style.height = S - 260 + "px";
        var h = this.tH.j
            , q = h.parentNode;
        if (Y < 500) {
            if (q != null)
                this.ip.removeChild(h)
        } else {
            if (q == null)
                this.ip.appendChild(h)
        }
        this.tH.hD(Y - 360, S - 35)
    }
        ;
    fl.prototype._D = function () {
        this.tH.i(this.HD.u())
    }
        ;
    fl.prototype.aib = function (Y) {
        var S = this.VF.u()
            , h = fl.q7[this.hd.u()].$c[S]
            , q = h[4];
        if (q == 0)
            q = 72;
        var H = h[1]
            , I = h[2]
            , E = ["px", "%", "mm", "in"].indexOf(h[3])
            , d = [1, 1, 25.4 / q, 1 / q][E];
        H /= d;
        I /= d;
        this.HD.i(new aV(Math.round(H), Math.round(I)), q);
        this.HD.a7J(E);
        this.VF.ca(S);
        this._D()
    }
        ;
    fl.prototype.aQ = function (Y) {
        var S = fl.q7[this.hd.u()].$c
            , h = []
            , q = []
            , H = Math.round(106 * P.M())
            , I = Math.round(106 * P.M())
            , E = 0;
        for (var G = 0; G < S.length; G++)
            E = Math.max(E, S[G][1], S[G][2]);
        for (var G = 0; G < S.length; G++) {
            var d = S[G]
                , B = d[1] + " x " + d[2] + " " + d[3];
            if (d[3] == "in")
                B = (d[1] * 25.4).toFixed(0) + " x " + (d[2] * 25.4).toFixed(0) + " mm";
            if (d[3] == "mm")
                B = (d[1] / 25.4).toFixed(1) + " x " + (d[2] / 25.4).toFixed(1) + " in";
            if (d[4])
                B = B + " @ " + d[4] + " ppi";
            q.push(B);
            h.push(fl.PG(d, H, I, E))
        }
        this.VF.sc(h, q, H, I)
    }
        ;
    fl.PG = function (Y, S, h, q) {
        var H = P.w("canvas", "")
            , I = H.getContext("2d");
        H.width = S;
        H.height = h;
        var E = Math.round(S / 8)
            , d = Math.floor(11 * P.M())
            , B = Y[1]
            , n = Y[2];
        I.fillStyle = "#000000";
        I.font = Math.round(d * .9) + "px \"Open Sans\", Sans-Serif";
        var g = B + " x " + n + " " + Y[3]
            , z = I.measureText(g);
        I.fillText(g, Math.round((S - z.width) / 2), h - Math.round(E / 2));
        if (Y[0] != null) {
            I.font = "bold " + d + "px \"Open Sans\", Sans-Serif";
            var g = Y[0]
                , z = I.measureText(g);
            I.fillText(g, Math.round((S - z.width) / 2), h - Math.round(E / 2) - Math.round(d * 1.3))
        }
        h -= Math.round(2.5 * d);
        var p = Math.min((S - E) / B, (h - E) / n);
        p *= .5 + .5 * (Math.max(B, n) / q);
        var C = (S - B * p) / 2
            , T = (h - n * p) / 2;
        I.strokeRect(Math.round(C) + .5, Math.round(T) + .5, Math.round(B * p), Math.round(n * p));
        return H.toDataURL()
    }
        ;
    fl.prototype.f = function () {
        h8.prototype.f.call(this);
        this.HD.f();
        this.ml.f();
        this.zR.f();
        this.HY.f();
        this.ml.i(gx.get([11, 7]));
        this.hd.f();
        this.tH.f()
    }
        ;
    fl.prototype.sf = function (Y) {
        var S = this.HD.u()
            , h = S.x
            , q = S.y;
        this.close();
        var H = new _(P.E.$_, !0);
        H.data = dh.f9(h, q, this.HD.Yd(), this.ml.u(), ["Wht", "Trns", "BckC"][this.zR.u()]);
        this.B(H);
        this.HH()
    }
        ;
    fl.prototype.ajS = function (Y) {
        var S = Y.data.n3;
        S.PW = this.HD.Yd();
        var h = new _(P.E.P, !0);
        h.data = {
            X: P.U.Qc,
            n3: S
        };
        this.B(h);
        this.close();
        this.HH()
    }
        ;
    fl.prototype.HH = function () {
        var Y = this.Gy[this.Gy.length - 1]
            , S = this.data.alH;
        if (S)
            dz.Vh(function () {
                var h = new XMLHttpRequest
                    , q = "https://www.googleapis.com/drive/v3/files?" + dz.gz();
                h.open("POST", q, !0);
                h.setRequestHeader("Content-Type", "application/json");
                h.addEventListener("load", function (H) {
                    var I = JSON.parse(H.target.response);
                    Y.JV = {
                        file: I,
                        Jt: "psd"
                    };
                    alert(Y.name + " created in Google Drive")
                });
                h.send(JSON.stringify({
                    name: Y.name,
                    amG: [S]
                }))
            })
    }
        ;
    fl.prototype.kg = function (Y, S, h, q) {
        this.Gy = h;
        if (Y != null && Y.N != null) {
            var H = new W(0, 0, Y.d, Y.v).lF(Y.N.rect);
            this.HD.i(new aV(H.d, H.v))
        }
        this.data = S;
        this._D();
        this.ml.rD();
        if (P.D0())
            gN.akH(this.anf.bind(this))
    }
        ;
    fl.prototype.anf = function (Y) {
        if (Y == "granted")
            gN.vM(this, this.a51.bind(this))
    }
        ;
    fl.prototype.a51 = function (Y, S) {
        this.HD.i(new aV(S.d, S.v))
    }
        ;
    fl.q7 = [{
        name: "Social",
        $c: [["FB Page Cover", 1640, 664, "px", 0], ["FB Shared Image", 1200, 630, "px", 0], ["FB Event Image", 1920, 1080, "px", 0], ["FB Group Header", 1640, 856, "px", 0], ["Instagram", 1080, 1080, "px", 0], ["Insta Story", 1080, 1920, "px", 0], ["Youtube Profile", 800, 800, "px", 0], ["Youtube Cover", 2560, 1440, "px", 0], ["Twitter Profile", 400, 400, "px", 0], ["Twitter Header", 1500, 500, "px", 0]]
    }, {
        name: [12, 88, 4],
        $c: [["A3", 297, 420, "mm", 300], ["A4", 210, 297, "mm", 300], ["A5", 148, 210, "mm", 300], ["B3", 353, 500, "mm", 300], ["B4", 250, 353, "mm", 300], ["B5", 176, 250, "mm", 300], ["Letter", 8.5, 11, "in", 300], ["Ledger", 11, 17, "in", 300], ["Business Card", 3.5, 2, "in", 300]]
    }, {
        name: [12, 88, 0],
        $c: [["Wallet", 2, 3, "in", 300], ["Enprint", 3.5, 5, "in", 300], [null, 5, 7, "in", 300], [null, 8, 12, "in", 300], [null, 12, 18, "in", 300], [null, 16, 24, "in", 300], [null, 20, 30, "in", 300], [null, 24, 36, "in", 300]]
    }, {
        name: [12, 88, 1],
        $c: [["VGA", 640, 480, "px", 0], ["XGA", 1024, 768, "px", 0], ["HD", 1280, 720, "px", 0], [null, 1366, 768, "px", 0], [null, 1600, 900, "px", 0], ["Full HD", 1920, 1080, "px", 0], ["2K", 2048, 1080, "px", 0], ["UHD", 3840, 2160, "px", 0], ["4K", 4096, 2160, "px", 0]]
    }, {
        name: [12, 88, 2],
        $c: [["iPhone 4", 640, 900, "px", 326], ["iPhone 5", 640, 1136, "px", 326], ["iPhone 6 7 8", 750, 1334, "px", 326], ["iPhone 6+ 7+ 8+", 1080, 1920, "px", 401], ["iPhone X", 1125, 2436, "px", 458], ["Samsung A5", 720, 1280, "px", 0], ["Samsung S5", 1080, 1920, "px", 0], ["Samsung S6", 1440, 2560, "px", 0], ["Samsung S8+", 1440, 2560, "px", 0], ["Google Pixel", 1080, 1920, "px", 0], ["iPad Mini 4", 1536, 2048, "px", 0], ["iPad Air 2", 1536, 2048, "px", 0], ["iPad Pro 9.7\"", 1536, 2048, "px", 0], ["iPad Pro 10.5\"", 1668, 2224, "px", 0], ["iPad Pro 12.9\"", 2048, 2732, "px", 0]]
    }, {
        name: [12, 88, 3],
        $c: [["Small Square", 200, 200, "px", 0], ["Square", 250, 250, "px", 0], ["Medium Rect", 300, 250, "px", 0], ["Large Rect", 336, 280, "px", 0], ["Mobile Leaderboard", 320, 50, "px", 0], ["Large Mobile", 320, 100, "px", 0], ["Banner", 468, 60, "px", 0], ["Leaderboard", 728, 90, "px", 0], ["Large Leaderboard", 970, 90, "px", 0], ["Billboard", 970, 250, "px", 0], ["Vertical Rect", 240, 400, "px", 0], ["Skyscraper", 120, 600, "px", 0], ["Wide Skyscraper", 160, 600, "px", 0], ["Half Page", 300, 600, "px", 0], ["Portrait", 300, 1050, "px", 0]]
    }, {
        name: "2\u1D3A",
        $c: [[null, 16, 16, "px", 0], [null, 32, 32, "px", 0], [null, 64, 64, "px", 0], [null, 128, 128, "px", 0], [null, 256, 256, "px", 0], [null, 512, 512, "px", 0], [null, 1024, 1024, "px", 0], [null, 2048, 2048, "px", 0], [null, 4096, 4096, "px", 0]]
    }];
    function aS(Y, S, h) {
        h8.call(this, S, "sel_" + Y);
        this.X = Y;
        var q = P.w("div", "form");
        this.body.appendChild(q);
        this.ml = new ed(S, 0, 255, null, 0, !1, !0);
        q.appendChild(this.ml.j);
        this.ml.i(1);
        var H = P.w("span");
        H.textContent = h;
        q.appendChild(H);
        P.f$(q);
        this.agB = new e0("Apply at canvas bounds");
        if (Y != "border")
            q.appendChild(this.agB.j);
        this.BV = new gP("OK", !0, null, !0);
        this.BV.k("click", this.sf, this);
        q.appendChild(this.BV.j)
    }
    aS.prototype = new h8;
    aS.prototype.UO = function (Y, S) {
        if (Y == null)
            return;
        if (Y.N == null)
            alert("No selection!");
        return Y.N != null
    }
        ;
    aS.prototype.sf = function (Y) {
        var S = new _(P.E.$_, !0);
        S.data = U.Q_.a39(this.X, this.ml.u(), this.agB.u());
        S.NN = !0;
        this.B(S);
        this.close()
    }
        ;
    aS.prototype.f = function () {
        h8.prototype.f.call(this);
        if (this.ml)
            this.ml.f()
    }
        ;
    aS.prototype.kg = function (Y, S) { }
        ;
    function fz(Y, S, h, q, H) {
        h8.call(this, h, S);
        this.x3 = H;
        this.q7 = null;
        this.vU = P.w("div", "form");
        this.body.appendChild(this.vU);
        this.ml = Y == 0 ? new eT(h) : new c1(h, 0, 500, q, 1);
        this.ml.k(P.E.L, this.sy, this);
        this.vU.appendChild(this.ml.j);
        this.BV = new gP("OK", !0, null, !0);
        this.BV.k("click", this.sf, this);
        this.vU.appendChild(this.BV.j);
        this.k("closebtn", this.uv, this)
    }
    fz.prototype = new h8;
    fz.prototype.VD = function () {
        return !0
    }
        ;
    fz.prototype.sy = function (Y) {
        var S = this.ml.u();
        if (this.x3)
            this.ba(S)
    }
        ;
    fz.prototype.uv = function (Y) {
        if (this.x3)
            this.ba("cancel")
    }
        ;
    fz.prototype.sf = function (Y) {
        if (this.x3)
            this.ba("confirm");
        else
            this.ba(this.ml.u());
        this.close()
    }
        ;
    fz.prototype.ba = function (Y) {
        if (this.q7.CP)
            this.q7.CP(Y);
        else if (this.q7.Yz) {
            var S = this.q7.Yz
                , h = new _(S.c, !0);
            h.F = S.F;
            h.data = S.g;
            h.data.G = Y;
            h.NN = !0;
            this.B(h)
        }
    }
        ;
    fz.prototype.f = function () {
        h8.prototype.f.call(this);
        if (this.ml)
            this.ml.f()
    }
        ;
    fz.prototype.kg = function (Y, S) {
        this.q7 = S;
        this.ml.i(S.IJ);
        this.ml.rD();
        this.sy(null)
    }
        ;
    function a1() {
        h8.call(this, [1, 5], "open_from_url");
        this.lS = null;
        var Y = P.w("div", "form");
        this.body.appendChild(Y);
        this.W8 = new eT("URL", null, 22);
        Y.appendChild(this.W8.j);
        P.f$(Y);
        this.C7 = new ec([21, 0], [[21, 2], [21, 1]]);
        Y.appendChild(this.C7.j);
        this.HY = new gP("OK", !0, null, !0);
        this.HY.k("click", this.sf, this);
        Y.appendChild(this.HY.j)
    }
    a1.prototype = new h8;
    a1.prototype.f = function () {
        h8.prototype.f.call(this);
        this.C7.f()
    }
        ;
    a1.prototype.kg = function (Y, S, h) {
        this.W8.rD();
        this.lS = null;
        if (Y && h.indexOf(Y) != -1)
            this.lS = h.indexOf(Y)
    }
        ;
    a1.prototype.sf = function (Y) {
        var S = new _(P.E.P, !0)
            , h = this.W8.u();
        S.data = {
            X: P.U.Pv,
            go: {
                url: h,
                jz: !0,
                lS: this.C7.u() == 1 ? this.lS : null
            }
        };
        this.B(S);
        this.close()
    }
        ;
    function d9() {
        h8.call(this, [12, 79], "preferences");
        this.it = null;
        var Y = P.w("div", "form");
        this.body.appendChild(Y);
        this.aa = [new e0([8, 2]), new e0([8, 4]), new ey([12, 80, 3], [[12, 93, 3], [12, 80, 4]]), new c1([12, 80, 5], 1, 100, null, 2), new ey(null, t.n1.rQ), new ey([12, 80, 6], t.n1.rQ)];
        for (var G = 0; G < this.aa.length; G++) {
            var S = this.aa[G];
            Y.appendChild(S.j);
            if (G != 3)
                P.f$(Y);
            S.k(P.E.L, this.PO, this)
        }
    }
    d9.prototype = new h8;
    d9.prototype.f = function () {
        h8.prototype.f.call(this);
        for (var G = 0; G < this.aa.length; G++)
            this.aa[G].f()
    }
        ;
    d9.prototype.kg = function (Y, S, h) { }
        ;
    d9.prototype.rJ = function (Y, S) {
        this.it = Y;
        this.aa[0].i(Y.nF.E9);
        this.aa[1].i(Y.nF.Hf);
        this.aa[2].i(Y.nF.Jv);
        this.aa[3].i(Y.nF.kL);
        this.aa[4].i(Y.nF.cE);
        this.aa[5].i(Y.nF.W_)
    }
        ;
    d9.prototype.PO = function (Y) {
        var cs = this.aa
            , S = JSON.parse(JSON.stringify(this.it.nF));
        S.E9 = cs[0].u();
        S.Hf = cs[1].u();
        S.Jv = cs[2].u();
        S.kL = cs[3].u();
        S.cE = cs[4].u();
        S.W_ = cs[5].u();
        if (S.cE != 4)
            S.kL = Math.round(S.kL);
        var h = new _(P.E.P, !0);
        h.data = {
            X: P.U.PD,
            go: iD.Ln,
            aq: S
        };
        this.B(h)
    }
        ;
    function ac() {
        h8.call(this, [11, 8], "saveforweb");
        this.an6 = "";
        this.k("closebtn", function () {
            this.Jo.e4()
        }, this);
        this.Oe = new aV(512, 512);
        this.n3 = null;
        this.Jk = null;
        this.amT = null;
        this.it = null;
        P.xv(this.body, "flexrow");
        var Y = P.w("div")
            , S = P.w("div");
        this.body.appendChild(Y);
        this.body.appendChild(S);
        this.ex = P.w("div", "imgcont");
        Y.appendChild(this.ex);
        this.Jo = new eS;
        this.Jo.hD(this.Oe.x, this.Oe.y);
        this.ep = P.w("span");
        Y.appendChild(this.ep);
        this.vU = P.w("div", "form cell");
        this.vU.setAttribute("style", "width:15em; padding-left:1em;");
        S.appendChild(this.vU);
        this.TN = new ey([12, 50], eD.pe());
        this.vU.appendChild(this.TN.j);
        this.TN.k(P.E.L, this.Om, this);
        this.HD = new hh(!0, !0, !1, !0);
        this.HD.k(P.E.L, this.Om, this);
        this.vU.appendChild(this.HD.j);
        this.KW = new cJ;
        this.KW.k(P.E.L, this.Om, this);
        this.vU.appendChild(this.KW.j);
        this.eb = new gP([1, 2], !0, null, !0);
        this.eb.k("click", this.sf, this);
        this.vU.appendChild(this.eb.j)
    }
    ac.prototype = new h8;
    ac.prototype.UO = function (Y, S) {
        return Y != null
    }
        ;
    ac.prototype.f = function () {
        h8.prototype.f.call(this);
        this.HD.f();
        this.TN.f();
        this.KW.f();
        this.eb.f()
    }
        ;
    ac.prototype.sf = function (Y) {
        var S = this.n3.name.split(".")[0]
            , h = eD.pe()[this.TN.u()]
            , q = this.Jk
            , H = S + "." + h.toLowerCase()
            , I = this.n3
            , E = I.r1;
        if (E.length != 0 && (h == "JPG" || h == "PNG" || h == "GIF") && this.KW.u().pop()) {
            var d = "<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n"
                , B = []
                , n = {}
                , g = new W(0, 0, I.d, I.v)
                , z = I.Q3();
            for (var G = 0; G < E.length; G++)
                B.push(U.ng.QS(E, G));
            B.reverse();
            var p = t.rect.gj([0, 0, I.d, I.v], B);
            for (var G = 0; G < p.length; G++) {
                var C = p[G]
                    , T = new W(C[0], C[1], C[2] - C[0], C[3] - C[1])
                    , A = C.length == 5 ? E[C[4]].v : null
                    , i = t.m(T.e() * 4);
                t.rd(z, g, i, T);
                var e = "img/img" + (G + 1) + "." + h.toLowerCase();
                n[e] = new Uint8Array(eD.Oh(h).rr([[i.buffer, 0]], T.d, T.v, this.KW.u()));
                d += "<div style=\"background-image:url('" + e + "'); left:" + T.x + "px; top:" + T.y + "px; width:" + T.d + "px; height:" + T.v + "px\">";
                if (A && A.url.v != "")
                    d += "\n\t<a href=\"" + A.url.v + "\" target=\"" + A.null.v + "\" style=\"display:block;width:100%;height:100%;\"></a>\n";
                d += "</div>\n"
            }
            d += "</body>\n</html>\n";
            var a = t.m(Math.round(d.length * 1.5))
                , Z = k.U9(d, a, 0);
            n["index.html"] = a.slice(0, Z);
            q = UZIP.encode(n);
            H = S + ".zip"
        }
        if (I.OH) {
            var O = new XMLHttpRequest;
            O.open("GET", "/papi/img/update.php?act=1&id=" + I.OH + "&rnd=" + Math.random());
            O.send()
        }
        var c = new _(P.E.P, !0);
        c.data = {
            X: P.U.mt,
            data: q,
            name: H
        };
        this.B(c);
        this.Jo.e4();
        this.close()
    }
        ;
    ac.prototype.kg = function (Y, S) {
        if (S.Wo != null)
            this.TN.i(S.Wo);
        this.n3 = Y;
        var h = Y.d + "," + Y.v;
        if (h != this.an6) {
            this.an6 = h;
            this.HD.i(new aV(Y.d, Y.v), Y.PW)
        }
        this.KW.a4m();
        this.Om(null, !0)
    }
        ;
    ac.prototype.OV = function (Y, S) {
        return new aV(Math.max(0, Math.min(150, (Y - 770) / 2)), Math.max(0, Math.min(150, (S - 590) / 2)))
    }
        ;
    ac.prototype.hD = function (Y, S) {
        this.rz = Y;
        this.UR = S;
        this.Oe.x = Math.min(512, Y - 26 - 214);
        this.Oe.y = Math.min(512, S - 45);
        if (this.n3 == null)
            return;
        var h = this.HD.u()
            , Y = h.x
            , S = h.y
            , q = eD.pe()[this.TN.u()]
            , H = eD.Oh(q)
            , z = "<span style=\"width:"
            , p = "display:inline-block; text-align:right;\">";
        if (H.M4) {
            var I = Y, E = S, d;
            if (q == "PDF" || H.vj) {
                I = this.Oe.x;
                E = this.Oe.y
            } else {
                I = Math.min(Y + 20, this.Oe.x);
                E = Math.min(S + 20, this.Oe.y)
            }
            this.ex.firstChild.setAttribute("style", "display:block; width:" + I + "px; height:" + E + "px;")
        } else {
            if (H.vj) {
                I = this.Oe.x;
                E = this.Oe.y
            } else {
                var B = this.amT
                    , n = B[0].jJ
                    , I = n.d
                    , E = n.v;
                this.Jo.hD(Math.max(50, Math.min(I / P.M(), this.Oe.x)), Math.max(50, Math.min(E / P.M(), this.Oe.y)))
            }
        }
        var g = this.Jk.byteLength
            , C = q + ":" + z + 64 + "px;" + p + ac.Fd(g) + "</span>";
        if (this.Oe.x > 200)
            C += z + 90 + "px; opacity:" + .5 + ";" + p + g.toLocaleString() + " B</span>";
        this.ep.innerHTML = C
    }
        ;
    ac.Fd = function (Y) {
        var S = 0;
        while (Y >>> S + 10 != 0)
            S += 10;
        var h = (Y / (1 << S)).toFixed(1)
            , q = ["B", "KB", "MB", "GB"][Math.floor(S / 10)];
        return h + " " + q
    }
        ;
    ac.prototype.rJ = function (Y, S) {
        this.it = Y
    }
        ;
    ac.prototype.Om = function (Y, S) {
        var h = this.n3
            , q = this.HD.u()
            , H = q.x
            , I = q.y
            , E = this.TN.u()
            , d = eD.pe()[E]
            , B = eD.wG(h)[0].length
            , n = ["GIF", "PNG", "WEBP"].indexOf(d) != -1 && B > 1
            , A = "";
        if (n && S && (B > 4 && H * I > 1024 * 1024 || H * I * B > 800 * 800 * 50)) {
            var g = 1;
            while (Math.max(H >>> g, I >>> g) > 800)
                g++;
            var z = window.confirm("Your animation is large (" + H + " x " + I + " px). Press \"OK\" to scale it to " + (100 >>> g) + "%. Press \"Cancel\" to keep the size.");
            if (z) {
                this.HD.i(new aV(H >>> g, I >>> g), null, !0);
                H = H >>> g;
                I = I >>> g
            }
        }
        var p = h.add.artd
            , C = p == null || p.Cnt.v == 1;
        this.KW.j3(d, n, h.r1.length != 0, C);
        var T = this.KW.u();
        this.Jk = eD.mE(h, d, H, I, T, this.it);
        if (this.Jk == null) {
            this.n3 = null;
            return
        }
        P.v3(this.ex);
        this.Jo.e4();
        var i = eD.Oh(d);
        if (true || i.vj) {
            this.ex.innerHTML = "<div></div>";
            A += "width:0px"
        } else if (i.M4) {
            var e = H, a = I, Z;
            if (d == "PDF") {
                Z = URL.createObjectURL(new Blob([this.Jk], {
                    type: "application/pdf"
                }))
            } else {
                Z = URL.createObjectURL(new Blob([this.Jk], {
                    type: "image/svg+xml"
                }))
            }
            this.ex.innerHTML = "<iframe src=\"" + Z + "\"></iframe>"
        } else {
            var O = this.amT = i.C3(this.Jk)
                , c = O[0].jJ
                , e = c.d
                , a = c.v;
            this.Jo.i(O, O.length > 1 ? T[T.length - 3] : 0);
            this.ex.appendChild(this.Jo.j);
            A = "background: rgba(0,0,0,0);"
        }
        this.ex.setAttribute("style", "display:block; background-size:" + 16 / P.M() + "px;" + A);
        this.hD(this.rz, this.UR)
    }
        ;
    function eX() {
        h8.call(this, [11, 13], "shortcuts");
        var Y = this.ip = P.w("div", "scrollable");
        Y.setAttribute("style", "min-width:700px; max-height:500px; padding:1.5em");
        this.body.appendChild(Y);
        this.bV()
    }
    eX.prototype = new h8;
    eX.prototype.f = function () {
        h8.prototype.f.call(this);
        this.bV()
    }
        ;
    eX.prototype.bV = function () {
        var Y = "<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">"
            , S = ""
            , h = F
            , q = h.EO
            , H = h.aY
            , I = h.Gs;
        S += "<h2 style=\"margin-top:0;\">Main Menu</h2>";
        S += Y;
        S += this.c3([[0, 0], "---", [1, 0], [q, h.HF], [1, 2], [q, h.Ak], [1, 3], [H, q, h.Ak], [1, 8], [I, H, q, h.Ak], [0, 1], "---", [2, 0], [H, q, h.E0], [2, 1], [q, h.E0], [5, 0], [q, h.sg], [5, 1], [q, h.dz], [5, 2], [q, h.c$], [2, 2], "Delete", [2, 3], [I, h.tb], [10, 16], [I, q, h.V], [12, 79], [q, h.qR], [3], "---", [4, 1], [q, h.sj], [4, 2], [q, h.PA], [4, 5], [q, h.va], [4, 11], [q, h.aC], [0, 3], "---", [6, 0], [q, h.sp], [6, 6, 0], [I, q, h.aL], [6, 9], [q, h.aL], [6, 10], [q, h.E], [0, 5], "---", [7, 0], [q, h.U], [7, 1], [q, h.My], [7, 2], [H, q, h.aC], [0, 7], "---", [8, 0], [q, h.lR], [8, 1], [q, h.yJ], [8, 3], [q, h.Ej], [8, 2], [q, h.b5], [8, 4], [q, h.qm], [11, 13], "?"]);
        S += "</div>";
        S += "<h2 style=\"margin-top:1.5em;\">Navigation</h2>";
        S += Y;
        S += this.c3(["Vertical scroll", "Wheel", "Horizontal scroll", [q, "Wheel"], "Zooming", [I, "Wheel"]]);
        S += "</div>";
        S += "<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
        S += Y;
        S += this.c3([[10, 11], [q], [10, 7], "Space", [10, 17], [q, h.N9]]);
        S += "</div>";
        S += "<h2 style=\"margin-top:1.5em;\">Tools</h2>";
        S += Y;
        var E = eX.Cf
            , d = [];
        for (var G = 0; G < E.length; G += 3)
            if (E[G + 1])
                d.push(E[G], E[G + 1]);
        d = d.concat([[24, 16], "---", [22, 7, 1], "D", [22, 7, 0], "X", [6, 6, 1], "Q", "Decrease Brush Size", "[", "Increase Brush Size", "]", "Decrease Hardness", "{", "Increase Hardness", "}"]);
        S += this.c3(d);
        S += "</div>";
        this.ip.innerHTML = S
    }
        ;
    eX.prototype.c3 = function (Y) {
        var S = ""
            , h = !0;
        for (var G = 0; G < Y.length; G += 2) {
            var q = Y[G]
                , H = F.Ov(Y[G + 1]);
            if (H == null) {
                h = !1;
                continue
            }
            var I = P.YJ(gx.get(q));
            if (H == "---") {
                if (!h)
                    S += "<br/>";
                S += "<div style=\"font-weight:bold; border-bottom: 1px solid;\">" + I + "</div>"
            } else
                S += "<div>" + I + " <span style=\"float:right; font-weight:bold;\">" + H + "</span> </div>";
            h = !1
        }
        return S
    }
        ;
    eX.Cf = [[10, 11], "V", 0, [10, 15], "M", 1, [10, 4], "M", 2, [10, 9], "L", 5, [10, 14], "L", 6, [10, 10], "L", 7, [10, 44], "W", 3, [10, 37], "W", 8, [10, 12], "W", 9, [10, 2], "C", 10, [10, 39], "C", 11, [10, 40], "C", 12, [10, 41], "C", 13, [10, 5], "I", 14, [10, 36], "I", 16, [10, 24], "J", 18, [10, 25], "J", 19, [10, 26], "J", 20, [10, 43], "J", 22, [10, 0], "B", 23, [10, 38], "B", 24, [10, 42], "B", 25, [10, 1], "S", 27, [10, 3], "E", 31, [10, 45], "E", 32, [10, 6], "G", 34, [10, 13], "G", 35, [10, 18], null, 36, [10, 19], null, 37, [10, 20], null, 38, [10, 21], "O", 39, [10, 22], "O", 40, [10, 23], "O", 41, [10, 8], "T", 47, [10, 29], "P", 42, [10, 30], "P", 43, [10, 27], "A", 51, [10, 28], "A", 52, [10, 32], "U", 54, [10, 33], "U", 55, [10, 35], "U", 57, [10, 34], "U", 56, [10, 31], "U", 58, [10, 7], "H", 59, [10, 17], "Z", 61];
    function dE() {
        h8.call(this, [8, 11, 1], "soptions");
        this.QX = null;
        var Y = P.w("div", "form");
        Y.style.width = "20em";
        this.body.appendChild(Y);
        this.yQ = {
            Nm: [12, 48],
            url: "URL",
            null: [12, 71]
        };
        this.aa = {};
        for (var S in this.yQ) {
            var h = new eT(this.yQ[S], null, 15);
            this.aa[S] = h;
            Y.appendChild(h.j)
        }
        var q = new gP("OK", !0, null, !0);
        q.k("click", this.sf, this);
        Y.appendChild(q.j)
    }
    dE.prototype = new h8;
    dE.prototype.kg = function (Y, S, h) {
        var q = S.G;
        this.QX = JSON.stringify(q);
        for (var H in this.yQ) {
            if (q[H])
                this.aa[H].i(q[H].v)
        }
    }
        ;
    dE.prototype.sf = function (Y) {
        var S = JSON.parse(this.QX);
        for (var h in this.yQ) {
            var q = this.aa[h].u();
            S[h] = {
                t: "TEXT",
                v: q
            }
        }
        var H = new _(P.E.A, !0);
        H.F = U.dh;
        H.data = S;
        H.NN = !0;
        this.B(H);
        this.close()
    }
        ;
    function fy() {
        h8.call(this, [2, 3], "fill");
        this.it = null;
        this.Tp = null;
        var Y = P.w("div", "form padded");
        Y.style.width = "22em";
        this.body.appendChild(Y);
        this.jx = "FrgC BckC Clr Blck Gry Wht contentAware".split(" ");
        this.VV = new ey([2, 3], [[12, 45], [12, 46], [12, 47], [13, 1, 10], [13, 1, 7], [13, 1, 8], [6, 48, 0, 3]]);
        this.VV.k(P.E.L, this.ab$, this);
        Y.appendChild(this.VV.j);
        this.ex = P.w("span");
        Y.appendChild(this.ex);
        this.tt = new ca;
        this.tt.parent = this;
        this.tt.vC(0);
        this.Jg = new ey([12, 19, 0], iS.hc, !1, iS.sm);
        Y.appendChild(this.Jg.j);
        this.vL = new c1([12, 0], 0, 100, "%", 0, !1);
        this.vL.i(100);
        Y.appendChild(this.vL.j);
        this.HY = new gP("OK", !0, null, !0);
        this.HY.k("click", this.sf, this);
        this.body.appendChild(this.HY.j)
    }
    fy.prototype = new h8;
    fy.prototype.UO = function (Y, S) {
        return Y != null
    }
        ;
    fy.prototype.VD = function () {
        return !0
    }
        ;
    fy.prototype.ab$ = function () {
        var Y = this.VV.u() == 2
            , S = this.tt.j
            , h = this.ex;
        if (Y)
            h.appendChild(S);
        else if (h.contains(S))
            h.removeChild(S)
    }
        ;
    fy.prototype.f = function () {
        h8.prototype.f.call(this);
        this.VV.f();
        this.Jg.f();
        this.vL.f()
    }
        ;
    fy.prototype.sf = function (Y) {
        if (!this.Tp.gH())
            return;
        var S = new _(P.E.$_, !0)
            , h = this.VV.u();
        S.data = U.NJ.kx(this.jx[h], iS.LQ[this.Jg.u()], this.vL.u() / 100, this.tt.u());
        this.close();
        this.B(S)
    }
        ;
    fy.prototype.kg = function (Y, S) {
        this.Tp = Y
    }
        ;
    fy.prototype.rJ = function (Y, S) {
        this.it = Y
    }
        ;
    function aY() {
        h8.call(this, [14, 9], "stroke");
        this.it = null;
        this.vU = P.w("div", "form");
        this.vU.setAttribute("style", "width:24em");
        this.body.appendChild(this.vU);
        this.yV = new cg("FrFX", !0);
        this.yV.parent = this;
        var Y = ["Sz", "Styl", "Md", "Opct"].concat(ai.pJ);
        for (var G = 0; G < Y.length; G++) {
            var S = this.yV.j4[Y[G]].j;
            this.vU.appendChild(S)
        }
        this.UG = !1;
        this.HY = new gP("OK", !0, null, !0);
        this.HY.k("click", this.sf, this);
        this.body.appendChild(this.HY.j)
    }
    aY.prototype = new h8;
    aY.prototype.UO = function (Y, S) {
        return Y != null
    }
        ;
    aY.prototype.VD = function () {
        return !0
    }
        ;
    aY.prototype.f = function () {
        h8.prototype.f.call(this);
        this.yV.f()
    }
        ;
    aY.prototype.sf = function (Y) {
        var S = new _(P.E.A, !0);
        S.F = U.cc;
        S.data = {
            X: "stroke",
            a4Z: this.yV.u()
        };
        this.close();
        this.B(S)
    }
        ;
    aY.prototype.kg = function (Y, S) {
        if (!this.UG) {
            var h = ai.l_[ai.order.indexOf("FrFX")];
            h = JSON.parse(h);
            this.yV.update(Y, h);
            this.UG = !0
        }
        var h = this.yV.u()
            , q = this.it.jy;
        h.Clr.v = t.W.Da({
            h: q >> 16 & 255,
            l: q >> 8 & 255,
            O: q & 255
        });
        this.yV.update(Y, h)
    }
        ;
    aY.prototype.rJ = function (Y, S) {
        this.it = Y
    }
        ;
    function eL() {
        h8.call(this, [11, 9], "textwarp");
        this.aa = new dg;
        this.aa.k(P.E.L, this.Mu, this);
        this.aa.parent = this;
        this.vU = P.w("div", "form");
        this.vU.setAttribute("style", "width:20em");
        this.body.appendChild(this.vU);
        this.vU.appendChild(this.aa.yy.j);
        this.vU.appendChild(this.aa.kq.j);
        this.vU.appendChild(this.aa.gT.j);
        this.vU.appendChild(this.aa.oe.j);
        this.vU.appendChild(this.aa.DP.j);
        this.HY = new gP("OK", !0, null, !0);
        this.HY.k("click", this.sf, this);
        this.vU.appendChild(this.HY.j);
        this.k("closebtn", this.uv, this)
    }
    eL.prototype = new h8;
    eL.prototype.VD = function () {
        return !0
    }
        ;
    eL.prototype.f = function () {
        h8.prototype.f.call(this);
        this.aa.f()
    }
        ;
    eL.prototype.Mu = function (Y) {
        var S = this.aa.u();
        this.ba({
            X: "warp",
            P8: S
        })
    }
        ;
    eL.prototype.ba = function (Y) {
        var S = new _(P.E.A, !0);
        S.F = U.bk;
        S.data = Y;
        S.NN = !0;
        this.B(S)
    }
        ;
    eL.prototype.uv = function (Y) {
        this.ba({
            X: "warpCancel"
        })
    }
        ;
    eL.prototype.sf = function (Y) {
        this.ba({
            X: "warpConfirm"
        });
        this.close()
    }
        ;
    eL.prototype.kg = function (Y, S) {
        var h = Y.t[Y.C[0]];
        this.aa.i(h.add.TySh.gO)
    }
        ;
    function cl() {
        h8.call(this, "Raw Photopea", "rawpea");
        this.nr = null;
        this.ok = null;
        this.mq = null;
        this.xF = 0;
        this.P9 = null;
        this.nD = null;
        this.adb = 500;
        this.a43 = 500;
        this.k("closebtn", this.jj, this);
        P.xv(this.body, "flexrow");
        var Y = P.w("div")
            , S = P.w("div")
            , q = "<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
        S.setAttribute("style", "padding-left: 1em");
        this.body.appendChild(Y);
        this.body.appendChild(S);
        this.yD = P.w("canvas");
        Y.appendChild(this.yD);
        this.hf = new gB(225);
        this.hf.Gx(4);
        S.appendChild(this.hf.j);
        this.vU = P.w("div");
        this.vU.setAttribute("style", "width:18em;");
        S.appendChild(this.vU);
        this.aiP = new aG("Hi", !0);
        this.vU.appendChild(this.aiP.j);
        this.Ed = [new b7("Temperature", 2e3, 13e3), new b7("Tint", -150, 150), new b7([4, 3], -4, 4, null, !0), new b7([12, 3, 0], -100, 100)];
        for (var G = 0; G < this.Ed.length; G++) {
            var h = this.Ed[G];
            h.i(0);
            h.k(P.E.L, this.o3, this);
            this.vU.appendChild(h.j);
            if (G == 1)
                this.vU.appendChild(P.w("hr"))
        }
        this.HY = new gP([1, 0], !0, null, !0);
        this.HY.k("click", this.sf, this);
        this.vU.appendChild(this.HY.j);
        this.iX = new gP(q + " JPG", !0, null, !0);
        this.iX.k("click", this.a6T, this);
        this.vU.appendChild(this.iX.j);
        this.iX.j.style.marginTop = "6px"
    }
    cl.prototype = new h8;
    cl.prototype.OV = function () {
        return new aV(0, 0)
    }
        ;
    cl.prototype.hD = function (Y, S) {
        this.adb = Y - 274;
        this.a43 = S - 32;
        if (this.nr)
            this.EP()
    }
        ;
    cl.prototype.f = function () {
        h8.prototype.f.call(this);
        this.HY.f();
        for (var G = 0; G < this.Ed.length; G++)
            this.Ed[G].f()
    }
        ;
    cl.prototype.a6T = function (Y) {
        var S = this.nr
            , h = this.ok
            , q = t.m(S.width * S.height * 4);
        t.A5(q, 4294967295);
        t.raw.O6(h, q, S, this.Rc());
        var H = eD.Oh("JPG").rr([[q.buffer]], h.$f, h.Uc, [85])
            , I = new _(P.E.P, !0);
        I.data = {
            X: P.U.mt,
            data: H,
            name: "photo.jpg"
        };
        this.B(I)
    }
        ;
    cl.prototype.sf = function (Y) {
        
        var S = this.nr
            , h = this.ok
            , q = t.m(S.width * S.height * 4);
        t.A5(q, 4294967295);
        t.raw.O6(h, q, S, this.Rc());
        var H = dc.aB(S)
            , S = {
                jJ: new W(0, 0, h.$f, h.Uc),
                data: q.buffer,
                wH: H
            }
            , I = eD.y8("Raw Photo", [S])
            , E = new _(P.E.P, !0);
        E.data = {
            X: P.U.Qc,
            n3: I
        };
        this.B(E);
        this.jj();
        this.close()
    }
        ;
    cl.prototype.jj = function () {
        this.nr = null;
        this.ok = null;
        this.P9 = null;
        this.nD = null
    }
        ;
    cl.prototype.kg = function (Y, S, h, q) {
        this.nr = S.Vi;
        this.ok = t.raw.amL(this.nr);
        var H = this.ok;
        this.aiP.i(H.$f + " x " + H.Uc + ", " + (H.$f * H.Uc / 1e6).toFixed(1) + " MPx");
        var I = t.raw.am1(S.Vi);
        this.mq = ch.P0(I);
        this.Ed[0].i(this.mq.kP);
        this.Ed[1].i(this.mq.xD);
        for (var G = 2; G < this.Ed.length; G++)
            this.Ed[G].i(0);
        this.EP()
    }
        ;
    cl.prototype.rJ = function (Y, S) {
        this.hf.vC(gU.b2[Y.Pz]["--text-color"])
    }
        ;
    cl.prototype.EP = function () {
        var Y = this.ok
            , S = Y.$f
            , h = Y.Uc
            , q = 1;
        while (S / q > this.adb * P.M() || h / q > this.a43 * P.M())
            q++;
        var H = Math.floor(S / q)
            , I = Math.floor(h / q);
        this.P9 = {
            nP: new Float32Array(H * I * 3),
            $f: H,
            Uc: I
        };
        var E = this.yD.getContext("2d");
        this.nD = E.createImageData(H, I);
        t.A5(this.nD.data, 4294967295);
        var d = 1 / (q * q);
        for (var B = 0; B < I; B++)
            for (var n = 0; n < H; n++) {
                var g = 0
                    , z = 0
                    , p = 0
                    , C = (n + 1) * q
                    , T = (B + 1) * q;
                for (var A = B * q; A < T; A++)
                    for (var i = n * q; i < C; i++) {
                        var e = (A * S + i) * 3;
                        g += this.ok.nP[e];
                        z += this.ok.nP[e + 1];
                        p += this.ok.nP[e + 2]
                    }
                var a = (B * H + n) * 3;
                this.P9.nP[a] = g * d;
                this.P9.nP[a + 1] = z * d;
                this.P9.nP[a + 2] = p * d
            }
        this.o3()
    }
        ;
    cl.prototype.o3 = function () {
        var Y = this.nr
            , S = this.P9.$f
            , h = this.P9.Uc
            , q = S * h
            , H = this.yD
            , I = H.getContext("2d");
        H.width = S;
        H.height = h;
        P.fs(H, S, h);
        t.raw.O6(this.P9, new Uint8Array(this.nD.data.buffer), Y, this.Rc());
        I.putImageData(this.nD, 0, 0);
        var E = t.Po(this.nD.data);
        for (var G = 0; G < 4; G++)
            for (var d = 1; d < 256; d++)
                if (E[G][d] == 0)
                    E[G][d] = E[G][d - 1];
        for (var G = 0; G < 4; G++)
            for (var d = 1; d < 256; d++)
                if (E[G][d] == 0)
                    E[G][d] = E[G][d - 1];
        this.hf.i(E)
    }
        ;
    cl.prototype.Rc = function () {
        var Y = [];
        for (var G = 0; G < this.Ed.length; G++)
            Y.push(this.Ed[G].u());
        return Y
    }
        ;
    function bc() {
        h8.call(this, [11, 11], "vbitmap");
        this.q7 = null;
        this.Ij = null;
        this.LG = null;
        this.fS = null;
        this.ti = null;
        this.Nj = this.mP.bind(this);
        this.vU = P.w("div", "form hbar");
        this.body.appendChild(this.vU);
        this.z5 = new c1([12, 82], 2, 50, null);
        this.z5.k(P.E.L, this.mP, this);
        this.vU.appendChild(this.z5.j);
        this._e = "";
        this.AX = new e0([12, 81]);
        this.AX.k(P.E.L, this.mP, this);
        this.vU.appendChild(this.AX.j);
        this.BU = new e0("Segmentize");
        this.BU.k(P.E.L, this.mP, this);
        this.vU.appendChild(this.BU.j);
        this.HY = new gP("OK", !1, null, !0);
        this.HY.k("click", this.sf, this);
        this.vU.appendChild(this.HY.j);
        var Y = P.w("div", "flexrow")
            , S = 16;
        this.body.appendChild(Y);
        this.Ng = new eS;
        this.Ng.k("viewchange", this.jF, this);
        this.Eh = P.w("canvas");
        this.Eh.setAttribute("style", "margin-left: 1px; cursor:grab;");
        this.b6 = this.Eh.getContext("2d");
        var h = t.m(16 * 16 * 4);
        t.M0(h, S, S, 8);
        this.qJ = t.scale.u2(h, S, S);
        this.Ng.uC(this.Eh);
        Y.appendChild(this.Ng.j);
        Y.appendChild(this.Eh)
    }
    bc.prototype = new h8;
    bc.prototype.OV = function () {
        return new aV(0, 0)
    }
        ;
    bc.prototype.VD = function () {
        return !0
    }
        ;
    bc.prototype.hD = function (Y, S) {
        S = S - 26 - 30;
        Y = Math.floor((Y - 28) / 2);
        P.ve(this.Eh, Y, S);
        this.Ng.hD(Y, S)
    }
        ;
    bc.prototype.jL = function (Y, S, h, q) {
        this.Ng.jL(q)
    }
        ;
    bc.prototype.f = function () {
        h8.prototype.f.call(this);
        this.z5.f();
        this.AX.f();
        this.BU.f();
        this.HY.f()
    }
        ;
    bc.prototype.kg = function (Y, S) {
        this.ti = Y;
        var h = Y.t[Y.C[0]]
            , q = t.mv.TX(h.buffer.buffer, h.rect.d, h.rect.v).acH
            , H = q / ((h.rect.d - 2) * (h.rect.v - 2));
        this.AX.i(H < .75);
        this.BU.i(!1);
        var I = h.rect.clone();
        I.x = I.y = 0;
        this.q7 = {
            jJ: I,
            data: h.buffer.buffer.slice(0)
        };
        this.Ij = null;
        this.Ng.i([this.q7]);
        this.z5.i(20);
        setTimeout(this.Nj, 20)
    }
        ;
    bc.prototype.mP = function () {
        var Y = !0
            , S = Date.now()
            , h = this.q7
            , q = this.AX.u()
            , H = this.BU.u()
            , I = q || H
            , E = q + "," + H;
        if (I && (this.Ij == null || this._e != E)) {
            this._e = E;
            console.log("recomputing");
            var d = new Uint8Array(h.data.slice(0))
                , B = 15
                , n = 35
                , g = h.jJ.d
                , z = h.jJ.v;
            if (q) {
                io.TH(d, d, g, z, B, t.Ll.nn, [n], 2)
            }
            if (Y) {
                console.log("denoise", Date.now() - S);
                S = Date.now()
            }
            if (H) {
                var p = t.mv.DE(d, g, z)
                    , C = p.qR
                    , T = new Uint8Array(C * 4);
                for (var G = 0; G < C; G++) {
                    var A = G * 4
                        , i = G * 6
                        , e = 1 / p.iN[i + 5];
                    T[A] = p.iN[i] * e;
                    T[A + 1] = p.iN[i + 1] * e;
                    T[A + 2] = p.iN[i + 2] * e
                }
                for (var G = 0; G < d.length; G += 4) {
                    var a = p.hs[G >>> 2] * 4;
                    d[G] = T[a];
                    d[G + 1] = T[a + 1];
                    d[G + 2] = T[a + 2]
                }
            }
            this.Ij = {
                jJ: h.jJ.clone(),
                data: d.buffer
            };
            if (Y) {
                console.log("segm", Date.now() - S);
                S = Date.now()
            }
        }
        if (I)
            h = this.Ij;
        var d = new Uint8Array(h.data)
            , g = h.jJ.d
            , z = h.jJ.v;
        for (var G = 0; G < d.length; G += 4) {
            if (d[G + 3] < 10)
                d[G] = d[G + 1] = d[G + 2] = d[G + 3] = 0
        }
        var Z = t.mv.a1H(d, g, z, this.z5.u(), I ? .1 : 2e-4);
        if (Y) {
            console.log("doclipart", Date.now() - S);
            S = Date.now()
        }
        var O = Z.hs.slice(0);
        for (var G = 0; G < O.length; G++)
            O[G]++;
        var c = new Uint8Array((g + 2) * (z + 2));
        t.m7(O, new W(1, 1, g, z), c, new W(0, 0, g + 2, z + 2));
        var s = Math.round((g + 2) * (z + 2) / 1e4)
            , x = f3.kB(c, g + 2, z + 2, Math.min(12, s))
            , u = f3.L1(x)
            , y = new d5(1, 0, 0, 1, -1, -1);
        for (var G = 0; G < u.length; G++)
            t.a.J(u[G].path.H, y, u[G].path.H);
        this.fS = u;
        this.LG = Z;
        if (Y) {
            console.log("trace", Date.now() - S);
            S = Date.now()
        }
        for (var G = 0; G < u.length; G++) {
            var j = u[G];
            for (var v = G + 1; v < u.length; v++) {
                var X = u[v];
                if (Z.uD[X.color - 1].est.q[3] > .05 || X.parent != G)
                    continue;
                var N = X.path.Z.slice(1);
                N.reverse();
                N = ["M"].concat(N);
                var V = []
                    , x = X.path.H.length;
                for (var $ = 0; $ < x; $ += 2) {
                    V[$] = X.path.H[x - 2 - $];
                    V[$ + 1] = X.path.H[x - 2 - $ + 1]
                }
                t.a.concat(j.path, {
                    H: V,
                    Z: N
                })
            }
        }
        for (var G = 0; G < u.length; G++) {
            var j = u[G]
                , w = Z.uD[j.color - 1].est.q;
            if (w[3] <= .05) {
                u.splice(G, 1);
                G--;
                continue
            }
        }
        for (var G = 1; G < u.length; G++) {
            var m = u[G - 1]
                , j = u[G];
            if (m.color == j.color) {
                t.a.concat(m.path, j.path);
                u.splice(G, 1);
                G--;
                continue
            }
        }
        this.jF()
    }
        ;
    bc.prototype.jF = function (Y) {
        if (this.fS == null)
            return;
        var S = this.q7.jJ.d
            , h = this.q7.jJ.v
            , q = this.fS
            , H = this.LG.uD
            , I = this.b6
            , E = this.Ng.SB();
        I.setTransform(1, 0, 0, 1, 0, 0);
        I.clearRect(0, 0, I.canvas.width, I.canvas.height);
        I.translate(I.canvas.width / 2, I.canvas.height / 2);
        I.scale(E.S, E.S);
        I.translate(E.T.x / E.S - S / 2, E.T.y / E.S - h / 2);
        I.scale(1 / E.S, 1 / E.S);
        I.fillStyle = this.qJ;
        I.fillRect(0, 0, S * E.S, h * E.S);
        I.scale(E.S, E.S);
        var d = [];
        for (var G = 0; G < H.length; G++) {
            var B = H[G].est.q;
            d.push({
                h: Math.round(255 * B[0]),
                l: Math.round(255 * B[1]),
                O: Math.round(255 * B[2]),
                R: Math.round(255 * B[3])
            })
        }
        for (var G = 0; G < q.length; G++) {
            var n = q[G]
                , B = d[n.color - 1];
            if (B.R == 0)
                continue;
            I.fillStyle = "rgba(" + B.h + "," + B.l + "," + B.O + "," + B.R / 255 + ")";
            I.beginPath();
            Typr.U.pathToContext({
                crds: n.path.H,
                cmds: n.path.Z
            }, I);
            I.fill()
        }
    }
        ;
    bc.prototype.sf = function (Y) {
        var S = this.fS
            , h = S.length == 1
            , q = this.ti
            , H = q.C[0]
            , I = q.t[H]
            , E = q.t.slice(0, H);
        if (!h)
            E.push(q.Ue());
        for (var G = 0; G < S.length; G++) {
            var d = S[G]
                , B = this.LG.uD[d.color - 1].est.q;
            t.a.J(d.path.H, new d5(1, 0, 0, 1, I.rect.x, I.rect.y), d.path.H);
            var n = q.rY();
            n.wN("Path " + G);
            E.push(n);
            n.opacity = Math.round(B[3] * 255);
            n.xa |= 16;
            n.add.SoCo = {
                classID: "null",
                Clr: {
                    t: "Objc",
                    v: t.W.Da({
                        h: 255 * B[0],
                        l: 255 * B[1],
                        O: 255 * B[2]
                    })
                }
            };
            debugger
            n.add.vmsk = new M.cJ;
            n.add.vstk = JSON.parse(JSON.stringify(ai.Ig.default));
            n.add.vmsk.b = t.a.QG(d.path, !1);
            n.add.vogk = [];
            n.Ir();
            n._A(q)
        }
        var g = E[E.length - 1];
        if (!h) {
            var n = q.rY();
            n.wN(I.getName());
            n.add.lsct = hg.fC;
            n.XC = "pass";
            n.xa = 24;
            E.push(n);
            g = n
        }
        var z = I.add.lmfx;
        if (z)
            g.add.lmfx = JSON.parse(JSON.stringify(z));
        for (var G = H + 1; G < q.t.length; G++)
            E.push(q.t[G]);
        var p = new _(P.E.A, !0);
        p.NN = !0;
        p.F = U.GC;
        p.data = {
            X: M.BO,
            PF: E,
            nI: [H + S.length + (h ? -1 : 1)],
            vc: [11, 11]
        };
        this.B(p);
        this.close()
    }
        ;
    function dK(Y) {
        
        h8.call(this, [[7, 11], [7, 13]][Y], ["redge", "magiccut"][Y]);
        this.yk = Y;
        this.q7 = {};
        this.I$ = null;
        this.Q2 = null;
        this.ti = null;
        this.sz = null;
        this.RI = null;
        this.YN = [];
        this.Ku = -1;
        this.vU = P.w("div", "form hbar");
        this.body.appendChild(this.vU);
        this.zQ = new gR;
        this.zQ.parent = this;
        this.zQ.k(P.E.L, this.XS, this);
        this.vU.appendChild(this.zQ.j);
        var S = Y == 0 ? ["#ffffff", "#888888", "#000000"] : ["#00dd00", "#888888", "#ff0000"];
        S = S.concat(PIMG["tools/hand"], PIMG.zoomIn, PIMG.zoomOut);
        var h = Y == 0 ? [[12, 45], "Unknown", [12, 46]] : [[12, 45], "Erase", [12, 46]];
        this.ZE = new dl(null, S, h, 28);
        this.ZE.k(P.E.L, this.jL, this);
        this.vU.appendChild(this.ZE.j);
        this.Tv = new ed([7, 9], 0, 50, null);
        this.Tv.parent = this;
        this.Tv.k(P.E.L, [this.Zw, this.mP][Y], this);
        this.vU.appendChild(this.Tv.j);
        var q = this.afy = new gP([2, 2], !1, null, !0);
        q.k("click", this.jj, this);
        this.vU.appendChild(q.j);
        var H = this.a5D = new gP([12, 90], !1, null, !0);
        H.k("click", function (B) {
            alert(Y == 0 ? gx.get([15, 7, 1]) : "Mark the object with Green, background with Red. Two colors should never touch.", 5e3)
        }, this);
        this.vU.appendChild(H.j);
        var I = new gP("Tutorial", !1, null, !0);
        I.k("click", this.al5, this);
        this.vU.appendChild(I.j);
        var E = P.w("span", "form");
        this.vU.appendChild(E);
        E.setAttribute("style", "position:absolute;  right:0px");
        this.k_ = new dl([12, 46], ["checker", "#ffffff", "#000000"]);
        this.k_.k(P.E.L, this.tr, this);
        E.appendChild(this.k_.j);
        this.QR = new ey(null, [[6, 13], [6, 2], [17, 2]]);
        E.appendChild(this.QR.j);
        this.HY = new gP("OK", !1, null, !0);
        this.HY.k("click", this.sf, this);
        E.appendChild(this.HY.j);
        var d = P.w("div", "flexrow");
        this.body.appendChild(d);
        this.Dc = new eS(!0);
        this.Jh = new eS;
        this.Dc.fL(this.Jh);
        this.Jh.fL(this.Dc);
        this.Dc.k("mousedown", this.Kf, this);
        this.Dc.k("mousemove", this.fn, this);
        this.Dc.k("mouseup", this.wR, this);
        this.Dc.k("zoom", this.XS, this);
        this.Jh.k("zoom", this.XS, this);
        d.appendChild(this.Dc.j);
        d.appendChild(this.Jh.j)
    }
    dK.prototype = new h8;
    dK.prototype.UO = function (Y, S) {
        var h = Y != null && !Y.t[Y.C[0]].rect.fa();
        if (!h)
            alert("The layer is empty.");
        return h
    }
        ;
    dK.prototype.OV = function () {
        return new aV(0, 0)
    }
        ;
    dK.prototype.VD = function () {
        return !0
    }
        ;
    dK.prototype.hD = function (Y, S) {
        S = S - 26 - 33;
        Y = Math.floor((Y - 28) / 2);
        this.Dc.hD(Y, S);
        this.Jh.hD(Y, S)
    }
        ;
    dK.prototype.f = function () {
        h8.prototype.f.call(this);
        this.zQ.f();
        this.Tv.f();
        this.HY.f();
        this.k_.f();
        this.QR.f();
        this.afy.f();
        this.a5D.f()
    }
        ;
    dK.prototype.al5 = function (Y) {
        window.open("//www.photopea.com/" + ["learn/refine-edge", "tuts/magic-cut-remove-image-background-online"][this.yk], "_blank")
    }
        ;
    dK.prototype.rJ = function (Y, S) {
        
        this.Q2 = Y;
        if (S == iD.e8 || S == iD.Ie) {
            this.zQ.dB(Y.Ly);
            this.zQ.i(gk.CG(), Y.Ly.r0, Y.Ly.SR)
        }
    }
        ;
    dK.prototype.jL = function (Y, S, h, q) {
        var H = this.ZE.u();
        if (q == null) {
            var q = new F;
            if (H >= 3)
                q.oE("Space");
            if (H >= 4) {
                q.oE("ControlLeft");
                if (H == 5)
                    q.oE("AltLeft")
            }
            this.Dc.jL(q);
            return
        }
        this.sz = q;
        var I = U.NJ.lL(this.zQ.u(), q);
        if (I != null) {
            this.zQ.i(I);
            this.XS()
        } else if (q.q(F.EO) && q.q(F.E0)) {
            var E = this.YN
                , d = 0;
            if (q.q(F.aY)) {
                if (this.Ku + 1 < E.length)
                    d = 1
            } else if (this.Ku > 0)
                d = -1;
            if (d != 0) {
                this.Ku += d;
                var B = this.Ku
                    , n = this.q7;
                if (d == 1)
                    t.rd(E[B][2], E[B][0], n.mh, n.rect);
                else
                    t.rd(E[B + 1][1], E[B + 1][0], n.mh, n.rect);
                n.ak = n.rect;
                this.mP()
            }
        } else if (H < 3)
            this.Dc.jL(q)
    }
        ;
    dK.prototype.$K = function (Y) {
        var S = this.q7
            , h = this.YN
            , q = t.m(Y.e() * 4);
        t.rd(S.k5, S.rect, q, Y);
        S.k5 = null;
        var H = t.m(Y.e() * 4);
        t.rd(S.mh, S.rect, H, Y);
        this.Ku++;
        h[this.Ku] = [Y.clone(), q, H];
        while (h.length > this.Ku + 1)
            h.pop();
        while (h.length > 50) {
            h = h.slice(1);
            this.Ku--
        }
    }
        ;
    dK.prototype.XS = function () {
        
        var Y = this.Q2
            , S = fU.by(this.zQ.u(), Y.Ly.r0, this.Dc.SB().S);
        this.Dc.IA(S)
    }
        ;
    dK.prototype.Kf = function (Y) {
        
        var S = this.Q2
            , h = this.q7
            , q = this.sz
            , H = this.zQ.u()
            , I = this.Dc.ib()
            , E = [16777215, 8421504, 0][this.ZE.u()];
        this.I$ = new fU(H, S.Ly.list[0].r0, S.Ly.list[0].SR, {
            xC: 1,
            vy: !0
        }, E, S.E$, h.rect);
        h.k5 = h.mh.slice(0);
        if (q != null && q.q(F.aY) && this.RI) {
            this.I$.moveTo(this.RI.x, this.RI.y);
            this.I$.lineTo(I.x, I.y)
        } else
            this.I$.moveTo(I.x, I.y);
        this.uH()
    }
        ;
    dK.prototype.fn = function (Y) {
        var S = this.q7
            , h = this.Dc.ib();
        this.I$.lineTo(h.x, h.y);
        this.uH()
    }
        ;
    dK.prototype.wR = function (Y) {
        this.RI = this.Dc.ib();
        this.$K(this.I$.HK());
        this.mP()
    }
        ;
    dK.prototype.uH = function () {
        var Y = this.q7
            , S = this.I$
            , h = S.sB();
        if (h.fa())
            return;
        Y.ak = h;
        t.Q.Bc("norm", S.ce(), S.i6(), Y.mh, Y.rect, h, 1);
        this.HP()
    }
        ;
    dK.prototype.jj = function (Y) {
        var S = this.q7;
        S.k5 = S.mh.slice(0);
        S.ak = S.rect;
        t.A5(S.mh, [4278190080, 4292730333][this.yk]);
        this.$K(S.rect);
        this.mP()
    }
        ;
    dK.prototype.kg = function (Y, S) {
        
        this.ti = Y;
        var h = Y.t[Y.C[0]]
            , q = h.rect.clone()
            , H = q.d
            , I = q.v;
        this.Tv.i(this.yk == 0 ? 3 : H * I < 3e6 ? 3 : 0);
        this.ZE.i(Y.N == null ? 0 : 1);
        this.Tv.f4();
        if (this.yk == 0 && Y.N != null || this.yk == 1)
            this.Tv.tW();
        var E = this.yk
            , d = t.m(q.e())
            , B = new Float32Array(q.e());
        if (E == 0 && Y.N) {
            t.m7(Y.N.channel, Y.N.rect, d, q);
            var n = t.m(q.e());
            for (var g = 0; g < I; g++)
                for (var z = 0; z < H; z++) {
                    var G = g * H + z
                        , p = d[G];
                    if (z > 0 && d[G - 1] != p || z < H - 1 && d[G + 1] != p || g > 0 && d[G - H] != p || g < I - 1 && d[G + H] != p)
                        n[G] = 255
                }
            t.style.Xo(n, B, H, I)
        } else
            B.fill(1e9);
        q.x = q.y = 0;
        this.q7 = {
            rect: q,
            nP: h.buffer,
            ez: d,
            mC: B,
            k$: t.m(q.e() * 4),
            _k: t.m(q.e() * 4),
            mh: t.m(q.e() * 4),
            k5: null,
            W4: null,
            ak: q,
            a9Z: {}
        };
        if (E == 0)
            this.Zw();
        else {
            this.q7.a9Z = U.ww.db(Y);
            var C = this.q7.mh;
            t.A5(C, 4287137928);
            var T = t.oL.getSelection(h.buffer, H, I)
                , A = Math.round(H / 60)
                , i = Math.round(.7 * I);
            for (var g = 0; g < I; g++)
                for (var z = 0; z < H; z++) {
                    var e = (g * H + z) * 4
                        , a = T[e >>> 2];
                    a = a > 128 ? 255 : 128;
                    if (g < A || g < i && (z < A || z > H - 1 - A))
                        a = 0;
                    C[e] = C[e + 1] = C[e + 2] = a
                }
            this.mP()
        }
        this.YN = [1];
        this.Ku = 0;
        this.Dc.a3a();
        var Z = this.zQ.u();
        Z.Brsh.v.Dmtr.v.val = Math.round(q.d / (E == 0 ? 10 : 20));
        this.zQ.i(Z);
        this.XS()
    }
        ;
    dK.prototype.Zw = function () {
        var Y = this.q7
            , S = Y.rect.e()
            , h = this.Tv.u()
            , q = Y.ez.slice(0);
        for (var G = 0; G < S; G++)
            if (Y.mC[G] < h)
                q[G] = 128;
        t.A5(Y.mh, 4294967295);
        t.Vj(q, Y.mh, 0);
        t.Vj(q, Y.mh, 1);
        t.Vj(q, Y.mh, 2);
        Y.ak = Y.rect;
        this.mP()
    }
        ;
    dK.prototype.mP = function () {
        
        var Y = this.q7, H, d, B = 0, n = 0, g = 0;
        this.HP();
        var S = Y.rect
            , h = S.d
            , q = S.v
            , I = t.m(S.e())
            , E = Y.nP;
        t.Ft(Y.mh, I, 0);
        for (var G = 0; G < I.length; G++) {
            if (E[(G << 2) + 3] != 255)
                continue;
            var z = I[G];
            if (z == 0)
                B++;
            else if (z == 255)
                n++;
            else
                g++
        }
        if (B * n * g != 0) {
            if (this.yk == 0)
                d = t.AR.AR(S, E, I);
            else {
                var p = this.ZE.u();
                for (var C = 1; C < q; C++)
                    for (var T = 1; T < h; T++) {
                        var G = C * h + T
                            , A = I[G]
                            , i = I[G - 1];
                        if (A == 0 && i == 255 || A == 255 && i == 0) {
                            H = "The Red and Green should never touch! Erase it with Grey.";
                            break
                        }
                    }
                var e = Date.now()
                    , a = this.q7.a9Z;
                t.vx(I, a.tq);
                U.ww.bt(a, !0);
                var Z = Math.ceil(this.Tv.u() / 2);
                if (Z == 0) {
                    d = E.slice(0);
                    t.Vj(a.N, d, 3)
                } else {
                    var O = a.N.slice(0)
                        , c = a.N.slice(0);
                    for (var s = 0; s < Z; s++) {
                        for (var C = 1; C < q - 1; C++)
                            for (var T = 1; T < h - 1; T++) {
                                var G = C * S.d + T
                                    , x = O[G];
                                if (O[G - h] != x || O[G - 1] != x || O[G + 1] != x || O[G + h] != x)
                                    c[G] = 128;
                                else
                                    c[G] = x
                            }
                        var u = O;
                        O = c;
                        c = u
                    }
                    d = t.AR.AR(S, E, O, 20, !1)
                }
            }
        } else {
            d = E.slice(0);
            t.Vj(I, d, 3)
        }
        for (var G = 3; G < d.length; G += 4)
            if (d[G] > E[G])
                d[G] = E[G];
        if (S.ma(Y.rect))
            Y.W4 = d;
        else
            t.rd(d, S, Y.W4, Y.rect);
        this.tr();
        if (H)
            alert(H, 4e3)
    }
        ;
    dK.prototype.HP = function (Y) {
        var S = this.q7
            , h = S.ak;
        t.rd(S.nP, S.rect, S.k$, S.rect, h, !0);
        var q = S.mh;
        if (this.yk == 1) {
            var H = new Uint32Array(256);
            H[0] = 4278190335;
            H[255] = 4278255360;
            var I = S.rect.e();
            q = q.slice(0);
            var E = new Uint32Array(q.buffer);
            for (var G = 0; G < I; G += 2) {
                E[G] = H[E[G] & 255];
                E[G + 1] = H[E[G + 1] & 255]
            }
        }
        t.Q.Bc("norm", q, S.rect, S.k$, S.rect, h, .3);
        this.Dc.i([{
            jJ: S.rect,
            data: S.k$.buffer
        }])
    }
        ;
    dK.prototype.tr = function (Y) {
        var S = this.q7;
        t.A5(S._k, [0, 4294967295, 4278190080][this.k_.u()]);
        t.Q.Bc("norm", S.W4, S.rect, S._k, S.rect, S.rect, 1);
        this.Jh.i([{
            jJ: S.rect,
            data: S._k.buffer
        }])
    }
        ;
    dK.prototype.sf = function (Y) {
        var S = this.ti
            , h = this.q7
            , q = this.QR.u()
            , H = S.t[S.C[0]]
            , I = new _(P.E.A, !0);
        I.NN = !0;
        var E = H.rect.clone();
        if (q == 0 && H.yj() || q != 0 && !H.yj()) {
            I.F = U.GC;
            I.data = {
                X: M.OU,
                $: S.C[0]
            };
            this.B(I)
        }
        if (S.N != null) {
            I.F = U.n5;
            I.data = {
                X: "fromAction",
                gM: U.Q_.zT()
            };
            this.B(I)
        }
        if (q == 0) {
            var d = S.t.slice(0)
                , B = S.rY();
            B.wN(H.getName());
            d.splice(S.C[0] + 1, 0, B);
            B.rect = E;
            B.buffer = h.W4;
            B.s();
            I.F = U.GC;
            I.data = {
                X: M.BO,
                PF: d,
                nI: [S.C[0] + 1],
                vc: [7, 11]
            };
            this.B(I)
        }
        if (q == 1) {
            var n = H.Qn();
            I.F = U.GC;
            I.data = {
                X: M.AI,
                a4c: !0
            };
            this.B(I);
            var g = H.Qn();
            g.channel = t.m(E.e());
            g.rect = E;
            g.color = 0;
            g.Uh = !0;
            t.Ft(h.W4, g.channel, 3);
            if (n) {
                var z = g.K7(n);
                g.rect = z.rect;
                g.channel = z.channel;
                g.color = z.color
            }
            g.Mq();
            H._A()
        }
        if (q == 2) {
            var p = {
                rect: E,
                channel: t.m(E.e())
            };
            t.Ft(h.W4, p.channel, 3);
            I.F = U.n5;
            I.data = {
                X: "setsel",
                N: p,
                vc: this.pC
            };
            this.B(I)
        }
        this.close()
    }
        ;
    function iM() {
        h8.call(this, [1, 13], "locstor");
        this.it = null;
        this.jp = [];
        var Y = this.body
            , S = P.w("p");
        S.textContent = "These files are loaded every time you start Photopea.";
        Y.appendChild(S);
        this.abf = 0;
        this.NZ = P.w("span");
        Y.appendChild(this.NZ);
        this.NZ.setAttribute("style", "display:inline-block;  width:12em;  font-weight:bold;");
        var h = P.w("span", "form");
        Y.appendChild(h);
        this.Vs = new gP([5, 4], !1, null, !0);
        this.Vs.k("click", this.ajf, this);
        h.appendChild(this.Vs.j);
        this.a0M = new gP("Get all as ZIP", !1, null, !0);
        this.a0M.k("click", this.Oa, this);
        h.appendChild(this.a0M.j);
        this.w8 = new eI(!0);
        this.w8.parent = this;
        this.w8.Gx(1);
        this.w8.k(P.E.L, this.a8Z, this);
        Y.appendChild(this.w8.j);
        this.w8.j.setAttribute("style", "width: 40em; height: 25em")
    }
    iM.prototype = new h8;
    iM.prototype.f = function () {
        h8.prototype.f.call(this);
        this.NZ.textContent = gx.get([13, 2]) + ": " + ac.Fd(this.abf);
        this.Vs.f()
    }
        ;
    iM.prototype.rJ = function (Y, S) {
        this.it = Y;
        if (S == iD.Mm)
            this.kg()
    }
        ;
    iM.prototype.kg = function (Y, S) {
        var h = this.it.uw.Mc
            , B = 0;
        this.jp = [];
        for (var q in h)
            this.jp.push(q);
        this.jp.sort(function (g, z) {
            g = g.split(".");
            z = z.split(".");
            return g[1] == z[1] ? g[0] < z[0] ? -1 : 1 : g[1] < z[1] ? -1 : 1
        });
        var H = Math.floor(100 * P.M())
            , I = Math.floor(16 * P.M())
            , E = []
            , d = [];
        for (var G = 0; G < this.jp.length; G++) {
            var q = this.jp[G]
                , n = iM.PG(q, h[q], H, I);
            E.push(n);
            d.push(q);
            B += h[q].byteLength
        }
        this.w8.sc(E, d, H, I);
        this.abf = B;
        this.f()
    }
        ;
    iM.prototype.a8Z = function (Y) {
        this.w8.ca(this.w8.u())
    }
        ;
    iM.prototype.ajf = function (Y) {
        var G = this.w8.u();
        if (G == -1) {
            alert("Select a file first.");
            return
        }
        this.w8.i(-1);
        var S = this.it.uw.Mc;
        delete S[this.jp[G]];
        var h = new _(P.E.P, !0);
        h.data = {
            X: P.U.PD,
            go: iD.Mm
        };
        this.B(h)
    }
        ;
    iM.prototype.Oa = function (Y) {
        var S = this.it.uw.Mc
            , h = {};
        for (var q in S)
            h[q] = new Uint8Array(S[q]);
        var H = UZIP.encode(h);
        gN.save(H, "resources.zip")
    }
        ;
    iM.PG = function (Y, S, h, q) {
        var H = P.w("canvas")
            , d = 0;
        H.width = h;
        H.height = q;
        var I = H.getContext("2d")
            , E = Y.split(".").pop().toLowerCase();
        for (var G = 0; G < E.length; G++)
            d += E.charCodeAt(G) * 613 << 8 * G;
        I.fillStyle = "#" + t.u9(d & 16777215);
        I.fillRect(0, 0, 20, q);
        var B = Math.floor(14 * P.M());
        I.fillStyle = "#000000";
        I.font = "bold " + B + "px sans-serif";
        var n = (q - B) / 2
            , g = ac.Fd(S.byteLength)
            , z = I.measureText(g);
        I.fillText(g, h - 12 - z.width, q - n);
        return H.toDataURL()
    }
        ;
    function aI(Y, S, h) {
        h8.call(this, S, "cwindow");
        this.an5 = new aV(h[0], h[1] - 33);
        this.vU = P.w("div", "form");
        this.vU.setAttribute("style", "width:" + (h[2] - h[0]) + "px; height:" + (h[3] - h[1]) + "px");
        this.body.appendChild(this.vU)
    }
    aI.prototype = new h8;
    aI.prototype.OV = function (Y, S) {
        return this.an5.clone()
    }
        ;
    function cX() {
        h8.call(this, ["PSD VAR0", [25, 0]], "templates");
        this.y5 = null;
        this.zn = 0;
        this.Pw = null;
        this.body.setAttribute("style", "padding:0");
        this.t5 = new gP("Add Templates", null, null, !0);
        this.body.appendChild(this.t5.j);
        this.t5.k("click", this.m1, this);
        this.t5.j.setAttribute("style", "position:absolute; margin-top: -28px;  margin-left:150px");
        this.ahA = new gP("New Template", null, null, !0);
        this.ahA.k("click", this.ad6, this);
        this.Dx = P.w("iframe", "scrollable");
        this.Dx.setAttribute("style", "border:none; margin:0; padding:0;");
        this.Zg = P.w("div", "form scrollable padded");
        this.Pk = P.w("div", "form scrollable padded label12");
        var Y = []
            , S = cX.ET;
        this.fh = [];
        for (var h in S) {
            var q = parseInt(h.slice(1))
                , H = q % 10 == 0 ? "" : "\u2800\u2800- ";
            Y.push(H + S[h]);
            this.fh.push(q)
        }
        this.vO = [new eT("Name", null, 30), new eT("Description", null, 30, 4), new eT("File", " www.Photopea.com#i...", 17), new eT("Thumbnail URL", "* Use Imgur.com etc., ratio 3:2", 17), new ey("Category", Y), new gP("<< Back", null, null, !0), new gP("Save", null, null, !0), new aG("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."), new aG("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\".")];
        for (var G = 0; G < this.vO.length; G++) {
            var I = this.vO[G];
            this.Pk.appendChild(I.j);
            I.parent = this;
            if (G != 5)
                P.f$(this.Pk);
            if (I instanceof gP)
                I.k("click", this.amH, this)
        }
        this.body.appendChild(this.Dx)
    }
    cX.prototype = new h8;
    cX.prototype.OV = function (Y, S) {
        return new aV(0, 0)
    }
        ;
    cX.prototype.hD = function (Y, S) {
        S = S - 4;
        Y = Y;
        var h = this.Zg;
        h.style.width = Y - 12 + "px";
        h.style.height = S - 12 + "px";
        var h = this.Pk;
        h.style.width = Y - 12 + "px";
        h.style.height = S - 12 + "px";
        var h = this.Dx;
        h.style.width = Y + "px";
        h.style.height = S + "px"
    }
        ;
    cX.prototype.f = function () {
        h8.prototype.f.call(this)
    }
        ;
    cX.prototype.kg = function (Y, S, h, q) {
        this.m1(null, !1)
    }
        ;
    cX.prototype.m1 = function (Y, S) {
        var h = S != null ? S : P.Ap(this.Dx);
        if (h) {
            if (!dq.Ce()) {
                alert("You need to log in first!");
                return
            }
            var q = dq.cK();
            this.y5 = q.tpl ? q.tpl.list : [];
            this.Tl()
        } else {
            this.Dx.setAttribute("src", "");
            this.Dx.setAttribute("src", "plugins/templates.html")
        }
        this.body.removeChild(this.body.children[this.body.children.length - 1]);
        this.body.appendChild(h ? this.Zg : this.Dx);
        this.t5.D2(h ? "All Templates" : "Add Templates")
    }
        ;
    cX.prototype.Tl = function () {
        var Y = this.y5
            , S = this.Zg;
        P.v3(S);
        var h = P.w("h1");
        h.textContent = "Share your PSD templates with the world!";
        var q = P.w("h3");
        q.textContent = "Users won't be able to download a PSD, they can only export a JPG or a PNG after editing.";
        S.appendChild(h);
        S.appendChild(q);
        S.appendChild(this.ahA.j);
        for (var G = 0; G < Y.length; G++) {
            var H = Y[G]
                , I = P.w("div");
            S.appendChild(I);
            I.setAttribute("style", "clear:both;");
            var E = P.w("img");
            I.appendChild(E);
            E.setAttribute("src", H.thmb);
            E.setAttribute("style", "height:10em; float:left; margin-right: 1em; margin-bottom:1em;");
            var d = P.w("h3");
            I.appendChild(d);
            d.textContent = H.name;
            var B = P.w("p");
            I.appendChild(B);
            B.textContent = H.desc;
            for (var n = 0; n < 2; n++) {
                var g = new gP(n == 0 ? "Edit" : "Delete", null, null, !0);
                g.anT = G;
                g.nw = n == 0;
                g.k("click", this.a0U, this);
                I.appendChild(g.j)
            }
        }
    }
        ;
    cX.prototype.ad6 = function (Y) {
        this.Pw = {
            catg: 0,
            desc: "",
            file: "",
            name: "",
            thmb: "",
            utme: ""
        };
        this.nw()
    }
        ;
    cX.prototype.a0U = function (Y) {
        this.zn = Y.target.anT;
        if (!Y.target.nw) {
            this.y5.splice(this.zn, 1);
            this.Oa();
            this.Tl();
            return
        }
        this.nw()
    }
        ;
    cX.prototype.nw = function () {
        this.body.removeChild(this.Zg);
        this.body.appendChild(this.Pk);
        var Y = ["name", "desc", "file", "thmb"]
            , S = this.Pw ? this.Pw : this.y5[this.zn];
        for (var G = 0; G < 4; G++) {
            var h = S[Y[G]];
            if (h != "" && G == 2)
                h = "https://photopea.com#i" + h;
            this.vO[G].i(h)
        }
        this.vO[4].i(this.fh.indexOf(S.catg))
    }
        ;
    cX.prototype.amH = function (Y) {
        if (this.vO.indexOf(Y.target) == 6) {
            var S = ["name", "desc", "file", "thmb"]
                , h = this.Pw ? this.Pw : this.y5[this.zn];
            for (var G = 0; G < 4; G++) {
                var q = this.vO[G].u().trim();
                if (q.length == 0) {
                    alert("One of values is empty.");
                    return
                }
                if (G == 2) {
                    var H = q.split("#i");
                    if (H.length != 2 || H[1].length != 8) {
                        alert("File ID is incorrect.");
                        return
                    }
                    q = H.pop()
                }
                if (G == 3 && (!q.startsWith("http") || !q.endsWith(".jpg") && !q.endsWith(".png"))) {
                    alert("Thumbnail URL is incorrect.");
                    return
                }
                h[S[G]] = q
            }
            h.catg = this.fh[this.vO[4].u()];
            h.utme = "" + Math.round(Date.now() / 1e3);
            if (this.Pw)
                this.y5.push(this.Pw);
            this.Oa()
        }
        this.Pw = null;
        this.body.removeChild(this.Pk);
        this.body.appendChild(this.Zg);
        this.Tl()
    }
        ;
    cX.prototype.Oa = function () {
        var Y = dq.cK();
        if (this.y5.length == 0)
            delete Y.tpl;
        else
            Y.tpl = {
                list: JSON.parse(JSON.stringify(this.y5))
            };
        dq.iD(Y, function () {
            alert("Saved.")
        })
    }
        ;
    cX.ET = {
        c0: "Mockups",
        c1: "Mobile & Web",
        c2: "Print",
        c3: "Product",
        c10: "Social Media",
        c11: "Youtube",
        c12: "Instagram",
        c13: "Facebook",
        c20: "Print",
        c21: "Cards",
        c22: "Invitations",
        c23: "Brochures",
        c30: "Mobile",
        c40: "Websites",
        c50: "Presentations",
        c60: "Other"
    };
    function f8() {
        h8.call(this, "Make Selection", "makesel");
        this.it = null;
        var Y = P.w("div", "form");
        this.body.appendChild(Y);
        this.X3 = new e0("Anti-Alias");
        this.X3.i(!0);
        Y.appendChild(this.X3.j);
        P.f$(Y);
        this.xp = new bo(!0);
        Y.appendChild(this.xp.j);
        this.HY = new gP("OK", !0, null, !0);
        this.HY.k("click", this.sf, this);
        this.body.appendChild(this.HY.j)
    }
    f8.prototype = new h8;
    f8.prototype.f = function () {
        h8.prototype.f.call(this);
        this.xp.f()
    }
        ;
    f8.prototype.sf = function (Y) {
        var S = new _(P.E.A, !0);
        S.F = U.n5;
        S.data = {
            X: "frompath",
            Qg: [null, 0, this.xp.a60(), !this.X3.u()]
        };
        this.close();
        this.B(S)
    }
        ;
    function bV(Y, S, h, q) {
        e9.call(this);
        this.name = Y;
        this.ae6 = h;
        this.nB = q;
        this.j6 = P.w("div", "");
        this.j6.setAttribute("draggable", "true");
        this.Pg = P.w("div", "pbody");
        this.kU = new gP("", !1, "");
        this.kU.parent = this;
        this.a0K = P.w("span", "cross");
        this.h0 = P.w("span", "label");
        var H = this.alB.bind(this);
        this.j6.addEventListener("mousedown", this.a7m.bind(this), !1);
        this.j6.addEventListener("contextmenu", H, !1);
        this.kU.j.addEventListener("contextmenu", H, !1);
        this.a0K.addEventListener("mousedown", this.gt.bind(this), !1);
        this.j6.appendChild(this.h0);
        if (S)
            this.j6.appendChild(this.a0K);
        this.Qo = !1;
        this.VK = new gV([{
            name: [1, 12]
        }]);
        this.VK.k("select", this.gt, this);
        this.h0.textContent = Y
    }
    bV.prototype = new e9;
    bV.prototype.ts = function () {
        return null
    }
        ;
    bV.prototype.Y7 = function () {
        return new aV(0, 0)
    }
        ;
    bV.prototype.f = function () {
        var Y = gx.get(this.name)
            , S = this.rz == 0 ? 22 : Math.round(2 + this.rz / 50)
            , h = Y.length > S;
        this.h0.textContent = h ? Y.slice(0, S - 2) : Y;
        if (h)
            for (var q = 0; q < 2; q++) {
                var H = P.w("span");
                H.textContent = Y.charAt(S - 2 + q);
                H.setAttribute("style", "opacity:" + (.6 - q * .4));
                this.h0.appendChild(H)
            }
        var I = Y.split(" ")
            , E = I.length == 2 ? I[0].substring(0, 2) + I[1][0] : Y.substring(0, 3);
        if (E.charCodeAt(0) >= 11776)
            E = E.substring(0, 1);
        var d = this.ae6;
        if (d == null)
            this.kU.D2(E, Y);
        else {
            if (d.indexOf("\"") == -1)
                this.kU.D2("<img src=\"" + d + "\" alt=\"" + Y + "\" height=\"20\" />", Y)
        }
    }
        ;
    bV.prototype.enable = function () {
        this.Pg.setAttribute("class", "pbody")
    }
        ;
    bV.prototype.disable = function () {
        this.Pg.setAttribute("class", "pbody disabled")
    }
        ;
    bV.prototype.rJ = function (Y, S) { }
        ;
    bV.prototype.kg = function (Y, S, h) { }
        ;
    bV.prototype.NT = function (Y) { }
        ;
    bV.prototype.hD = function (Y, S) { }
        ;
    bV.prototype.ER = function (Y) {
        this.name = Y;
        this.f()
    }
        ;
    bV.prototype.yB = function () { }
        ;
    bV.prototype.a7m = function (Y) {
        if (Y.button == 0)
            this.B(new _("select", !1))
    }
        ;
    bV.prototype.alB = function (Y) {
        P.IM(Y);
        if (this.nB != null && isNaN(this.nB))
            return;
        var S = P.WW(Y, document.body)
            , h = this.VK;
        h.update(null);
        h.f();
        h.parent = this;
        var q = new _(P.E.P, !0);
        q.data = {
            X: P.U.pa,
            FN: h,
            x: S.x + 1,
            y: S.y + 1
        };
        this.B(q)
    }
        ;
    bV.prototype.Yq = function () {
        this.gt({})
    }
        ;
    bV.prototype.gt = function (Y) {
        if (Y.stopPropagation)
            Y.stopPropagation();
        if (this.nB != null && !isNaN(this.nB)) {
            var S = new _(P.E.P, !0);
            S.data = {
                X: P.U.g1,
                FN: this.VK
            };
            this.B(S);
            S.data = {
                X: P.U.PD,
                go: iD.A4,
                G: parseFloat(this.nB),
                UI: "del"
            };
            this.B(S)
        } else if (this.eg())
            this.B(new _(P.E.Os, !1))
    }
        ;
    bV.prototype.eg = function (Y) {
        return !0
    }
        ;
    bV.prototype.FF = function (Y, S, h, q, H) { }
        ;
    bV.prototype.vr = function (Y, S, h, q, H) { }
        ;
    bV.prototype.mi = function (Y, S, h, q, H) { }
        ;
    bV.vH = function (Y, S) {
        if (Y.childElementCount != 0)
            return;
        var h = Y.textContent;
        this._0 = this.a2o.bind(this);
        this.a4z = this.aev.bind(this);
        this.Hq = S;
        this.CF = Y;
        this.ait = h;
        var q = P.w("input", "");
        q.setAttribute("type", "text");
        q.setAttribute("size", "10");
        q.setAttribute("value", h);
        P.v3(Y);
        Y.appendChild(q);
        q.select();
        q.focus();
        Y.addEventListener("keyup", this._0, !1);
        document.body.addEventListener("mousedown", this.a4z, !1)
    }
        ;
    bV.vH.prototype.a2o = function (Y) {
        var S = F.QN
            , h = S(Y.code, F.gm);
        if (S(Y.code, F.fp) || h)
            this.Ic(h)
    }
        ;
    bV.vH.prototype.aev = function (Y) {
        var S = Y.target;
        if (S.tagName && S.tagName.toLowerCase() == "input")
            return;
        this.Ic(!0)
    }
        ;
    bV.vH.prototype.Ic = function (Y) {
        var S = this.CF;
        S.removeEventListener("keyup", this._0);
        document.body.removeEventListener("mousedown", this.a4z);
        if (Y) {
            var h = S.firstChild.value;
            this.Hq(h)
        } else {
            P.v3(S);
            S.textContent = this.ait
        }
    }
        ;
    bV.Ej = {
        Sb: "0",
        a0x: "1",
        GC: "2",
        a4L: "3",
        a2d: "4",
        $a: "5",
        CSS: "6",
        e8: "7",
        a4o: "8",
        aen: "9",
        aeJ: "10",
        _E: "11",
        am_: "12",
        oo: "13",
        iL: "14",
        a44: "15",
        ajA: "16",
        H6: "17",
        anD: "19"
    };
    function iy() {
        bV.call(this, [9, 9], !1, null, bV.Ej._E);
        this.it = null;
        this.fo = [0, 0];
        this.C0 = P.w("div", "padded scrollable");
        this.C0.setAttribute("style", "width:260px;  height:260px");
        this.Pg.appendChild(this.C0);
        this.k(P.E.L, this.sy, this);
        this.xu = P.w("div", "lpfoot");
        this.Pg.appendChild(this.xu);
        this.Bw = [];
        var Y = "<svg  class=\"gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\">"
            , S = "</svg>"
            , h = Y + "<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />" + S
            , q = Y + "<path d=\"M0,2 L14,9 L0,16 Z\" />" + S;
        this.a6F = Y + "<circle cx=\"7\" cy=\"9\" r=\"6\" />" + S;
        this.akk = Y + "<path d=\"M2,4 L12,4 L12,14 L2,14 Z\" />" + S;
        var H = [this.a6F, q, "lrs/folder", "lrs/newlayer", "lrs/bin", h]
            , I = [[15, 8, 0], [5, 8], [15, 8, 1], [15, 8, 2], [5, 4], [1, 2]];
        for (var G = 0; G < H.length; G++) {
            var E = H[G];
            if (1 < G && G != H.length - 1)
                E = "<img src=\"" + PIMG[H[G]] + "\" class=\"gsicon\" />";
            var d = new gP(E, !1, I[G]);
            d.k("click", this.$y, this);
            this.xu.appendChild(d.j);
            this.Bw.push(d)
        }
    }
    iy.prototype = new bV("");
    iy.prototype.f = function () {
        bV.prototype.f.call(this);
        for (var G = 0; G < this.Bw.length; G++)
            this.Bw[G].f()
    }
        ;
    iy.prototype.$y = function (Y) {
        var G = this.Bw.indexOf(Y.currentTarget)
            , S = this.fo
            , h = this.it
            , q = h.Hc;
        if (G == 0) {
            var H, I = h.aA;
            if (q.length == 0) {
                alert("Create an Action Set first.");
                return
            }
            if (S.length < 2) {
                alert("Select a target action first.");
                return
            }
            if (I == null) {
                H = this.akk;
                I = this.fo
            } else {
                H = this.a6F;
                I = null
            }
            this.Bw[0].D2(H);
            h.aA = I
        } else if (G == 1)
            this.a9f();
        else if (G == 2 || G == 3) {
            var E = {
                vc: "Action Set " + q.length,
                Eq: [],
                exp: !0
            };
            if (G == 2 || q.length == 0) {
                S = [q.length];
                q.push(E)
            }
            if (G == 3) {
                var d = q[S[0]].Eq;
                S = [S[0], d.length];
                d.push({
                    vc: "Action " + d.length,
                    color: 0,
                    Eq: [],
                    adz: !1,
                    shift: !1,
                    exp: !0,
                    Y8: d.length
                })
            }
            this.fo = S;
            this.o3()
        } else if (G == 4) {
            var B;
            if (S.length == 1)
                B = q;
            else if (S.length == 2)
                B = q[S[0]].Eq;
            else
                B = q[S[0]].Eq[S[1]].Eq;
            var n = S.length - 1;
            B.splice(S[n], 1);
            if (B.length == 0)
                S.pop();
            else
                while (S[n] >= B.length)
                    S[n]--;
            if (S.length == 0)
                S.push(0);
            this.o3()
        } else if (G == 5) {
            if (q.length == 0) {
                alert("No Actions Present.");
                return
            }
            var g = new _(P.E.P, !0);
            g.data = {
                X: P.U.i9,
                alz: iD.A,
                eS: S[0]
            };
            this.B(g)
        }
    }
        ;
    iy.prototype.sy = function (Y) {
        var S = this.it.Hc
            , h = Y.data.X
            , q = Y.data.Yp;
        if (h == "sel")
            this.fo = q;
        if (h == "fold") {
            if (q.length == 1)
                S[q[0]].exp = !S[q[0]].exp;
            else
                S[q[0]].Eq[q[1]].exp = !S[q[0]].Eq[q[1]].exp
        }
        if (h == "enab") {
            var H = S[q[0]].Eq[q[1]].Eq[q[2]];
            H.p = !H.p
        }
        if (h == "nchange") {
            if (q.length == 1)
                S[q[0]].vc = Y.data.Tk;
            else
                S[q[0]].Eq[q[1]].vc = Y.data.Tk
        }
        this.o3()
    }
        ;
    iy.prototype.rJ = function (Y, S) {
        this.it = Y;
        if (S == iD.A || S == iD.Ie)
            this.o3()
    }
        ;
    iy.prototype.o3 = function () {
        if (this.it == null)
            return;
        P.v3(this.C0);
        var Y = this.it.Hc;
        if (Y.length == 0)
            return;
        var S = JSON.stringify(this.fo);
        for (var G = 0; G < Y.length; G++) {
            var h = Y[G]
                , q = new iy.QF([G], S, h.exp, h.vc.split("=").pop());
            q.parent = this;
            this.C0.appendChild(q.j);
            if (!h.exp)
                continue;
            for (var H = 0; H < h.Eq.length; H++) {
                var I = h.Eq[H]
                    , q = new iy.QF([G, H], S, I.exp, I.vc.split("=").pop());
                q.parent = this;
                this.C0.appendChild(q.j);
                if (!I.exp)
                    continue;
                for (var E = 0; E < I.Eq.length; E++) {
                    var d = I.Eq[E]
                        , q = new iy.QF([G, H, E], S, null, gx.get(bw.a1x(d)), d.p);
                    q.parent = this;
                    this.C0.appendChild(q.j)
                }
            }
        }
    }
        ;
    iy.prototype.a9f = function () {
        var Y = this.it.Hc
            , S = this.fo;
        if (Y.length == 0) {
            alert("No Actions Present");
            return
        }
        if (S.length == 1) {
            alert("Select an Action first");
            return
        }
        if (this.it.aA != null) {
            alert("You can not apply actions while recording actions");
            return
        }
        if (S.length == 1)
            S.push(0);
        var h = Y[S[0]]
            , q = h.Eq[S[1]]
            , H = new _(P.E.P, !0);
        H.data = {
            X: P.U.dr,
            Qg: [q.vc, h.vc]
        };
        this.B(H)
    }
        ;
    iy.QF = function (Y, S, h, q, H) {
        e9.call(this);
        this.Yp = Y;
        var I = this.Yp.length - 1;
        this.j = P.w("div", "layeritem" + (JSON.stringify(Y) == S ? " selected" : ""));
        this.ni = P.w("div", "head");
        this.j.appendChild(this.ni);
        this.ni.setAttribute("style", "height:24px");
        this.gh = P.w("div", "headL");
        this.ni.appendChild(this.gh);
        if (I != 0) {
            var E = P.w("div");
            E.style.width = I * 20 + "px";
            this.gh.appendChild(E)
        }
        if (h != null) {
            var d = this.a8O = P.w("div", h ? "open" : "closed");
            this.gh.appendChild(d)
        } else {
            var B = this.a9d = P.w("div", "cmark");
            B.setAttribute("style", "background-size:12px 12px; opacity:" + (H ? 1 : .3));
            this.gh.appendChild(B)
        }
        if (I == 0) {
            var n = P.w("div", "folder");
            this.gh.appendChild(n)
        }
        var g = this.h0 = P.w("div", "label");
        g.textContent = q;
        this.gh.appendChild(g);
        this.j.addEventListener("mouseup", this.qd.bind(this), !1)
    }
        ;
    iy.QF.prototype = new e9;
    iy.QF.prototype.qd = function (Y) {
        if (Y.detail == 1 && Y.target.tagName.toLowerCase() != "input") {
            var S = "sel";
            if (Y.target == this.a8O)
                S = "fold";
            if (Y.target == this.a9d)
                S = "enab";
            var h = new _(P.E.L, !0);
            h.data = {
                X: S,
                Yp: this.Yp
            };
            this.B(h)
        } else if (this.Yp.length < 3)
            var q = new bV.vH(this.h0, this.Hq.bind(this))
    }
        ;
    iy.QF.prototype.Hq = function (Y) {
        var S = new _(P.E.L, !0);
        S.data = {
            X: "nchange",
            Tk: Y,
            Yp: this.Yp
        };
        this.B(S)
    }
        ;
    function fK() {
        bV.call(this, [9, 3], !1, null, bV.Ej.e8);
        this.x1 = null;
        this.t7 = null;
        this.it = null
    }
    fK.prototype = new bV("");
    fK.prototype.d2 = function () {
        var Y = P.w("div", "");
        this.Pg.appendChild(Y);
        this._B = P.w("div", "bordered cell");
        this._B.setAttribute("style", "width:10em; height:28.5em;");
        Y.appendChild(this._B);
        this.aa = [];
        this.bG = null;
        this.p9 = [];
        var S = this.a1c.bind(this);
        this.H3 = [new fK.YG, new fK.qH, new fK.eI, new fK.q9];
        for (var G = 0; G < this.H3.length; G++) {
            var h = P.w("div", "listitem")
                , q = this.H3[G].ft
                , H = null;
            if (G == 0) {
                this.bG = new aG(q);
                h.appendChild(this.bG.j)
            } else {
                H = new e0(q, !1);
                H.k(P.E.L, this.a1R, this);
                h.appendChild(H.j)
            }
            this.p9.push(H);
            this._B.appendChild(h);
            this.aa.push(h);
            h.addEventListener("click", S, !1)
        }
        this.ub = P.w("div", "cell padded");
        Y.appendChild(this.ub);
        for (var G = 0; G < this.H3.length; G++)
            this.H3[G].k("brushchange", this.a9t, this);
        this.setItem(0);
        this.k8 = P.w("canvas", "");
        this.k8.width = Math.floor(380 * P.M());
        this.k8.height = Math.floor(80 * P.M());
        P.fs(this.k8, this.k8.width, this.k8.height);
        Y.appendChild(this.k8);
        this.b6 = this.k8.getContext("2d");
        this.mP()
    }
        ;
    fK.prototype.yB = function () {
        if (!P.Ap(this.Pg))
            return;
        if (this._B) {
            this.mP();
            return
        }
        this.d2();
        this.f();
        this.rJ(this.it, iD.Ie)
    }
        ;
    fK.prototype.f = function () {
        bV.prototype.f.call(this);
        if (this._B == null)
            return;
        this.bG.f();
        for (var G = 1; G < this.p9.length; G++)
            this.p9[G].f();
        for (var G = 0; G < this.H3.length; G++)
            this.H3[G].f()
    }
        ;
    fK.prototype.a9t = function (Y) {
        var S = this.H3.indexOf(Y.currentTarget)
            , h = JSON.parse(JSON.stringify(this.H3[S].t7))
            , q = new _(P.E.P, !0);
        q.data = {
            X: P.U.PD,
            go: iD.Zl,
            t7: h
        };
        this.B(q)
    }
        ;
    fK.prototype.a1R = function (Y) {
        this.zr(this.p9.indexOf(Y.currentTarget), Y.currentTarget.tQ())
    }
        ;
    fK.prototype.a1c = function (Y) {
        var G = this.aa.indexOf(Y.currentTarget);
        if (Y.target.tagName.toLowerCase() == "input")
            return;
        if (this.p9[G] && !this.p9[G].tQ()) {
            this.p9[G].Fc();
            this.zr(G, !0)
        }
        this.setItem(G)
    }
        ;
    fK.prototype.zr = function (Y, S) {
        this.H3[Y].kF(S)
    }
        ;
    fK.prototype.setItem = function (Y) {
        for (var G = 0; G < this.H3.length; G++)
            this.aa[G].setAttribute("class", "listitem");
        if (this.ub.firstChild)
            this.ub.removeChild(this.ub.firstChild);
        this.aa[Y].setAttribute("class", "listitem selected");
        this.ub.appendChild(this.H3[Y].j)
    }
        ;
    fK.prototype.rJ = function (Y, S) {
        this.it = Y;
        if (this._B == null)
            return;
        if (S == iD.e8 || S == iD.Ie) {
            this.x1 = Y.Ly;
            for (var G = 0; G < this.H3.length; G++)
                this.H3[G].dB(this.x1)
        }
        if (S == iD.Zl || S == iD.Ie) {
            this.t7 = Y.Ly.jh;
            this.mP()
        }
        if (S == iD.oo)
            this.mP()
    }
        ;
    fK.prototype.mP = function () {
        if (this.t7)
            this.enable();
        else {
            this.disable();
            return
        }
        if (!P.Ap(this.Pg))
            return;
        var Y = this.it;
        for (var G = 0; G < this.H3.length; G++) {
            this.H3[G].i(this.t7);
            if (this.p9[G])
                this.p9[G].i(this.H3[G].tQ())
        }
        var S = JSON.parse(JSON.stringify(this.t7));
        S.Brsh.v.Dmtr.v.val = Math.min(S.Brsh.v.Dmtr.v.val, 50);
        var h = new W(0, 0, this.k8.width, this.k8.height)
            , q = new fU(S, this.x1 ? this.x1.r0 : null, this.x1 ? this.x1.SR : null, {
                xC: 1
            }, Y.jy, Y.E$, h)
            , H = 40 * P.M()
            , I = 300 * P.M();
        q.moveTo(H, H);
        for (var G = 0; G <= I; G += 10)
            q.lineTo(H + G, H + 20 * Math.sin(2 * Math.PI * G / I));
        q.finish();
        var E = this.b6.createImageData(h.d, h.v);
        t.rd(q.ce(), q.i6(), E.data, h);
        this.b6.putImageData(E, 0, 0)
    }
        ;
    fK.bK = function (Y) {
        e9.call(this);
        this.ft = Y;
        this.j = P.w("div", "");
        this.t7 = null
    }
        ;
    fK.bK.prototype = new e9;
    fK.bK.prototype.dB = function (Y) { }
        ;
    fK.bK.prototype.i = function (Y) {
        this.t7 = JSON.parse(JSON.stringify(Y));
        this.j.setAttribute("class", this.tQ() ? "" : "disabled");
        this.mP()
    }
        ;
    fK.bK.prototype.kF = function (Y) { }
        ;
    fK.bK.prototype.tQ = function () {
        return !1
    }
        ;
    fK.bK.prototype.f = function () { }
        ;
    fK.bK.prototype.mP = function () { }
        ;
    fK.bK.prototype.EL = function () {
        this.B(new _("brushchange"))
    }
        ;
    fK.YG = function () {
        fK.bK.call(this, [15, 0]);
        this.x1 = null;
        this.a0C = null;
        this.hO = new eI(!0);
        this.j.appendChild(this.hO.j);
        this.hO.k(P.E.L, this.a5N, this);
        this.hO.j.style.height = "10.7em";
        this.gv = new b7([12, 14, 0], 1, 1e3, " px", 0, !0);
        this.gv.k(P.E.L, this.ajH, this);
        this.hl = new b7([12, 15], 0, 359, " \xB0");
        this.hl.k(P.E.L, this.a2Y, this);
        this.V9 = new b7([12, 16], 0, 100, " %");
        this.V9.k(P.E.L, this.aaX, this);
        this.JE = new b7([12, 17], 0, 100, " %");
        this.JE.k(P.E.L, this.a8u, this);
        this.Wd = new b7([12, 18], 1, 300, " %");
        this.Wd.k(P.E.L, this.alI, this);
        this.aa = [this.gv, this.hl, this.V9, this.JE, this.Wd]
    }
        ;
    fK.YG.prototype = new fK.bK;
    fK.YG.prototype.f = function () {
        this.gv.f();
        this.hl.f();
        this.V9.f();
        this.JE.f();
        this.Wd.f()
    }
        ;
    fK.YG.prototype.tQ = function () {
        return !0
    }
        ;
    fK.YG.prototype.dB = function (Y) {
        this.x1 = Y;
        var S = []
            , h = Math.floor(30 * P.M())
            , q = Math.floor(40 * P.M());
        for (var G = 0; G < Y.list.length; G++) {
            var H = Y.list[G].v
                , I = fU.PG(H, Y.r0, Y.SR, h, q);
            S.push(I)
        }
        this.hO.sc(S, null, h, q)
    }
        ;
    fK.YG.prototype.mP = function () {
        var Y = this.t7.Brsh.v
            , S = Y.classID != this.a0C;
        this.a0C = Y.classID;
        if (S)
            for (var G = 0; G < this.aa.length; G++)
                if (this.j.contains(this.aa[G].j))
                    this.j.removeChild(this.aa[G].j);
        this.gv.i(Y.Dmtr.v.val);
        if (S)
            this.j.appendChild(this.gv.j);
        this.hl.i(Y.Angl.v.val);
        if (S)
            this.j.appendChild(this.hl.j);
        if (Y.classID == "computedBrush" || Y.classID == "sampledBrush") {
            this.V9.i(Y.Rndn.v.val);
            if (S)
                this.j.appendChild(this.V9.j)
        }
        if (Y.classID == "computedBrush") {
            this.JE.i(Y.Hrdn.v.val);
            if (S)
                this.j.appendChild(this.JE.j)
        }
        this.Wd.i(Y.Spcn.v.val);
        if (S)
            this.j.appendChild(this.Wd.j)
    }
        ;
    fK.YG.prototype.a5N = function (Y) {
        this.t7 = this.x1.list[this.hO.u()].v;
        this.EL()
    }
        ;
    fK.YG.prototype.ajH = function (Y) {
        this.t7.Brsh.v.Dmtr.v.val = Y.target.u();
        this.EL()
    }
        ;
    fK.YG.prototype.a2Y = function (Y) {
        this.t7.Brsh.v.Angl.v.val = Y.target.u();
        this.EL()
    }
        ;
    fK.YG.prototype.aaX = function (Y) {
        this.t7.Brsh.v.Rndn.v.val = Y.target.u();
        this.EL()
    }
        ;
    fK.YG.prototype.a8u = function (Y) {
        this.t7.Brsh.v.Hrdn.v.val = Y.target.u();
        this.EL()
    }
        ;
    fK.YG.prototype.alI = function (Y) {
        this.t7.Brsh.v.Spcn.v.val = Y.target.u();
        this.EL()
    }
        ;
    fK.qH = function () {
        fK.bK.call(this, [15, 1]);
        this.fV = new b7([15, 4, 0], 0, 100, " %");
        this.fV.k(P.E.L, this.a0V, this);
        this.j.appendChild(this.fV.j);
        this.Ke = new b7([15, 4, 1], 0, 100, " %");
        this.Ke.k(P.E.L, this.agy, this);
        this.j.appendChild(this.Ke.j);
        this._f = new b7([15, 4, 2], 0, 100, " %");
        this._f.k(P.E.L, this.acV, this);
        this.j.appendChild(this._f.j);
        this.DB = new b7([15, 4, 3], 0, 100, " %");
        this.DB.k(P.E.L, this.ahT, this);
        this.j.appendChild(this.DB.j);
        this.rw = new b7([15, 4, 4], 0, 100, " %");
        this.rw.k(P.E.L, this.aa3, this);
        this.j.appendChild(this.rw.j)
    }
        ;
    fK.qH.prototype = new fK.bK;
    fK.qH.prototype.f = function () {
        this.fV.f();
        this.Ke.f();
        this._f.f();
        this.DB.f();
        this.rw.f()
    }
        ;
    fK.qH.prototype.tQ = function () {
        return this.t7.useTipDynamics.v
    }
        ;
    fK.qH.prototype.kF = function (Y) {
        this.t7.useTipDynamics.v = Y;
        gk.Aq.FW(this.t7);
        this.EL()
    }
        ;
    fK.qH.prototype.mP = function () {
        var Y = this.t7;
        if (Y.useTipDynamics.v == !1)
            return;
        this.fV.i(Y.szVr.v.jitter.v.val);
        this.Ke.i(Y.minimumDiameter.v.val);
        this._f.i(Y.angleDynamics.v.jitter.v.val);
        this.DB.i(Y.roundnessDynamics.v.jitter.v.val);
        this.rw.i(Y.minimumRoundness.v.val)
    }
        ;
    fK.qH.prototype.a0V = function (Y) {
        this.t7.szVr.v.jitter.v.val = Y.target.u();
        this.EL()
    }
        ;
    fK.qH.prototype.agy = function (Y) {
        this.t7.minimumDiameter.v.val = Y.target.u();
        this.EL()
    }
        ;
    fK.qH.prototype.acV = function (Y) {
        this.t7.angleDynamics.v.jitter.v.val = Y.target.u();
        this.EL()
    }
        ;
    fK.qH.prototype.ahT = function (Y) {
        this.t7.roundnessDynamics.v.jitter.v.val = Y.target.u();
        this.EL()
    }
        ;
    fK.qH.prototype.aa3 = function (Y) {
        this.t7.minimumRoundness.v.val = Y.target.u();
        this.EL()
    }
        ;
    fK.eI = function () {
        fK.bK.call(this, [15, 2]);
        this.sR = new b7([15, 5, 0], 0, 1e3, " %");
        this.sR.k(P.E.L, this.a9z, this);
        this.j.appendChild(this.sR.j);
        this.VS = new b7([15, 5, 1], 1, 20);
        this.VS.k(P.E.L, this.a6M, this);
        this.j.appendChild(this.VS.j);
        this.sd = new b7([15, 5, 2], 0, 100, " %");
        this.sd.k(P.E.L, this.af3, this);
        this.j.appendChild(this.sd.j)
    }
        ;
    fK.eI.prototype = new fK.bK;
    fK.eI.prototype.f = function () {
        this.sR.f();
        this.VS.f();
        this.sd.f()
    }
        ;
    fK.eI.prototype.tQ = function () {
        return this.t7.useScatter.v
    }
        ;
    fK.eI.prototype.kF = function (Y) {
        this.t7.useScatter.v = Y;
        gk.Aq.FW(this.t7);
        this.EL()
    }
        ;
    fK.eI.prototype.mP = function () {
        var Y = this.t7;
        if (Y.useScatter.v == !1)
            return;
        this.sR.i(Y.scatterDynamics.v.jitter.v.val);
        this.VS.i(Y.Cnt.v);
        this.sd.i(Y.countDynamics.v.jitter.v.val)
    }
        ;
    fK.eI.prototype.a9z = function (Y) {
        this.t7.scatterDynamics.v.jitter.v.val = Y.target.u();
        this.EL()
    }
        ;
    fK.eI.prototype.a6M = function (Y) {
        this.t7.Cnt.v = Y.target.u();
        this.EL()
    }
        ;
    fK.eI.prototype.af3 = function (Y) {
        this.t7.countDynamics.v.jitter.v.val = Y.target.u();
        this.EL()
    }
        ;
    fK.q9 = function () {
        fK.bK.call(this, [15, 3]);
        this.EH = new b7([15, 6, 0], 0, 100, " %");
        this.EH.k(P.E.L, this.aak, this);
        this.j.appendChild(this.EH.j);
        this.qs = new b7([15, 6, 1], 0, 100, " %");
        this.qs.k(P.E.L, this.a8H, this);
        this.j.appendChild(this.qs.j);
        this.dw = new b7([15, 6, 2], 0, 100, " %");
        this.dw.k(P.E.L, this.a6i, this);
        this.j.appendChild(this.dw.j);
        this.tN = new b7([15, 6, 3], 0, 100, " %");
        this.tN.k(P.E.L, this.a4B, this);
        this.j.appendChild(this.tN.j)
    }
        ;
    fK.q9.prototype = new fK.bK;
    fK.q9.prototype.f = function () {
        this.EH.f();
        this.qs.f();
        this.dw.f();
        this.tN.f()
    }
        ;
    fK.q9.prototype.tQ = function () {
        return this.t7.useColorDynamics.v
    }
        ;
    fK.q9.prototype.kF = function (Y) {
        this.t7.useColorDynamics.v = Y;
        gk.Aq.FW(this.t7);
        this.EL()
    }
        ;
    fK.q9.prototype.mP = function () {
        var Y = this.t7;
        if (Y.useColorDynamics.v == !1)
            return;
        this.EH.i(Y.clVr.v.jitter.v.val);
        this.qs.i(Y.H.v.val);
        this.dw.i(Y.Strt.v.val);
        this.tN.i(Y.Brgh.v.val)
    }
        ;
    fK.q9.prototype.aak = function (Y) {
        this.t7.clVr.v.jitter.v.val = Y.target.u();
        this.EL()
    }
        ;
    fK.q9.prototype.a8H = function (Y) {
        this.t7.H.v.val = Y.target.u();
        this.EL()
    }
        ;
    fK.q9.prototype.a6i = function (Y) {
        this.t7.Strt.v.val = Y.target.u();
        this.EL()
    }
        ;
    fK.q9.prototype.a4B = function (Y) {
        this.t7.Brgh.v.val = Y.target.u();
        this.EL()
    }
        ;
    function bx() {
        bV.call(this, [9, 0], !1, null, bV.Ej.Sb);
        this.Pg.setAttribute("style", "min-width:200px;");
        this.mo = P.w("div", "hpbody scrollable");
        this.mo.style.height = "160px";
        this.Pg.appendChild(this.mo);
        this.als = -1;
        this.US = [];
        this.tK = ""
    }
    bx.prototype = new bV("");
    bx.prototype.kg = function (Y) {
        if (Y == null) {
            P.v3(this.mo);
            this.tK = "";
            return
        }
        P.v3(this.mo);
        var S = 0;
        for (var G = 0; G < Y.history.length; G++)
            if (G <= Y.Zj && !Y.history[G].h8)
                S = G;
        for (var G = 0; G < Y.history.length; G++) {
            var h = Y.history[G];
            if (h.h8)
                continue;
            var q = new eu(h, G, S);
            q.parent = this;
            this.mo.appendChild(q.j);
            this.US.push(q)
        }
        if (Y.Zj == Y.history.length - 1)
            this.yB()
    }
        ;
    bx.prototype.yB = function () {
        this.mo.scrollTop = this.mo.scrollHeight
    }
        ;
    bx.prototype.f = function () {
        bV.prototype.f.call(this);
        for (var G = 0; G < this.US.length; G++)
            this.US[G].f()
    }
        ;
    function eu(Y, G, S) {
        e9.call(this);
        this.index = G;
        this.j = P.w("div", G == S ? "listitem selected" : "listitem");
        this.lT = Y.name;
        this.f();
        if (G > S)
            this.j.style.opacity = .4;
        this.j.addEventListener("click", this.FF.bind(this), !1)
    }
    eu.prototype = new e9;
    eu.prototype.f = function () {
        this.j.textContent = gx.get(this.lT)
    }
        ;
    eu.prototype.FF = function (Y) {
        if (this.index == this.parent.als)
            return;
        this.gf({
            X: "h_itemchange",
            index: this.index
        })
    }
        ;
    eu.prototype.gf = function (Y) {
        var S = new _(P.E.A, !0);
        S.data = Y;
        S.F = U.Sb;
        this.B(S)
    }
        ;
    function an() {
        bV.call(this, [9, 10], !1, null, bV.Ej.a2d);
        var Y = P.w("div", "padded");
        this.Pg.appendChild(Y);
        this.hf = new gB(256, !0);
        Y.appendChild(this.hf.j);
        this.Tp = null
    }
    an.prototype = new bV("");
    an.prototype.kg = function (Y) {
        this.Tp = Y;
        this.o3()
    }
        ;
    an.prototype.o3 = function () {
        var Y = this.Tp;
        if (!P.Ap(this.Pg))
            return;
        if (Y == null || Y.C.length == 0) {
            this.hf.i(t.Po(t.m(4)));
            return
        }
        var S = Y.Q3()
            , h = new W(0, 0, Y.d, Y.v)
            , q = h.e();
        if (Y.N) {
            var H = Y.N.rect
                , I = t.m(H.e() * 4);
            t.rd(S, h, I, H);
            t.gr(Y.N.channel, I);
            S = I;
            h = H;
            var E = Y.N.channel;
            q = 0;
            for (var G = 0; G < E.length; G++)
                q += E[G];
            q = Math.round(q / 255)
        }
        var d = t.Po(S);
        d[0][255] += 3 * (q - d[5]);
        for (var G = 1; G < 4; G++)
            d[G][255] += q - d[5];
        this.hf.i(d, q)
    }
        ;
    an.prototype.rJ = function (Y, S) {
        this.hf.vC(gU.b2[Y.Pz]["--text-color"])
    }
        ;
    an.prototype.f = function () {
        bV.prototype.f.call(this);
        this.hf.f()
    }
        ;
    an.prototype.yB = function () {
        this.o3()
    }
        ;
    function d3() {
        bV.call(this, [9, 8], !1, null, bV.Ej.a0x);
        this.C0 = P.w("div", "padded");
        this.Pg.appendChild(this.C0);
        this.yF = new hN(10);
        this.C0.appendChild(this.yF.j);
        this.C0.appendChild(P.w("hr"));
        this.b1 = new c8;
        this.b1.parent = this;
        this.C0.appendChild(this.b1.vd);
        this.yF.k(P.E.L, this.W2, this);
        this.b1.k(P.E.L, this.W2, this)
    }
    d3.prototype = new bV("");
    d3.prototype.W2 = function (Y) {
        var S;
        if (Y.target == this.yF)
            S = this.yF.u();
        else {
            var h = this.b1.u();
            S = Math.round(h.h) << 16 | Math.round(h.l) << 8 | Math.round(h.O)
        }
        var q = new _(P.E.P, !0);
        q.data = {
            X: P.U.PD,
            go: iD.oo,
            Wg: 0,
            G: S
        };
        this.B(q)
    }
        ;
    d3.prototype.rJ = function (Y, S) {
        var h = Y.jy
            , q = S == iD.Ie;
        if (S == iD.oo || q) {
            this.yF.i(h);
            this.b1.i({
                h: h >>> 16 & 255,
                l: h >>> 8 & 255,
                O: h >>> 0 & 255,
                Hl: "Color #" + t.u9(h)
            })
        }
        if (S == iD.jl || q) {
            var H = Y.amK;
            this.b1.dB(H)
        }
    }
        ;
    function gD() {
        bV.call(this, [12, 72], !1, null, bV.Ej.ajA);
        this.JL = null;
        this.BY = null;
        this.mo = P.w("div", "lpbody scrollable");
        this.xu = P.w("div", "lpfoot");
        this.Pg.appendChild(this.mo);
        this.Pg.appendChild(this.xu);
        this.rt = [];
        this.k("click", this.QU, this);
        this.ud = [];
        gD.pD([[17, 2], "Save Selection as Channel", [5, 3], [5, 4]], this.ud, this.xu, this.rW.bind(this), this.$i.bind(this));
        this.a2v = new gV([{
            name: "Merge Channels",
            tJ: !0
        }]);
        this.a2v.k("select", this.mG, this)
    }
    gD.prototype = new bV("");
    gD.prototype.mG = function (Y) {
        if (this.BY == null)
            return;
        var S = new _(P.E.P, !0);
        S.data = {
            X: P.U.V5,
            Fh: "mergechannels"
        };
        this.B(S)
    }
        ;
    gD.prototype.ts = function () {
        return this.a2v
    }
        ;
    gD.pD = function (Y, S, h, q, H) {
        for (var G = 0; G < Y.length; G++) {
            var I = new gP("W", !1, Y[G]);
            S.push(I);
            P.aK(I.j, q);
            h.appendChild(I.j);
            var E = I.j;
            E.addEventListener("drop", H, !1);
            E.addEventListener("dragover", function (d) {
                d.preventDefault()
            }, !1);
            E.addEventListener("dragenter", P.IM, !1)
        }
    }
        ;
    gD.S0 = function (Y, S) {
        for (var G = 0; G < Y.length; G++)
            if (Y[G].j == S.currentTarget)
                return G
    }
        ;
    gD.prototype.rW = function (Y) {
        var S = gD.S0(this.ud, Y);
        if (S == 0)
            this.B(bn.XQ(!0, null, Y));
        else {
            S--;
            var h = new _(P.E.$_, !0)
                , q = {
                    classID: "null"
                };
            if (S == 0)
                q.null = {
                    t: "obj ",
                    v: [{
                        t: "prop",
                        v: {
                            classID: "Chnl",
                            keyID: "fsel"
                        }
                    }]
                };
            else if (S == 1)
                q.Nw = {
                    t: "Objc",
                    v: {
                        classID: "Chnl",
                        ClrI: {
                            t: "enum",
                            v: {
                                MskI: "SlcA"
                            }
                        },
                        Opct: {
                            t: "long",
                            v: 50
                        }
                    }
                };
            else
                q.null = bw.wC("Chnl", !0);
            h.data = {
                f0: ["duplicate", "make", "delete"][S],
                Jz: q
            };
            this.B(h)
        }
    }
        ;
    gD.prototype.$i = function (Y) {
        var S = gD.S0(this.ud, Y);
        if (S == 2) {
            var h = new _(P.E.$_, !0)
                , q = {
                    classID: "null"
                };
            q.null = bw.wC("Chnl", !0);
            h.data = {
                f0: "duplicate",
                Jz: q
            };
            this.B(h)
        } else
            this.rW(Y)
    }
        ;
    gD.prototype.ja = function (G) {
        var Y = this.rt
            , S = Y[G];
        if (S == null) {
            var h = P.w("canvas");
            S = h.getContext("2d");
            Y.push(S)
        }
        return S
    }
        ;
    gD.prototype.QU = function (Y) {
        var S = this.JL.slice(0)
            , h = Y.data.Y8
            , q = S[0] + S[1] + S[2]
            , H = this.BY;
        if (-5 < h && h < 0) {
            var I = -h - 1;
            if (Y.data.lI) {
                if (I == 0)
                    S = q == 3 ? [0, 0, 0] : [1, 1, 1];
                else {
                    if (S[I - 1] == 0)
                        S[I - 1] = 1;
                    else if (!0)
                        S[I - 1] = 0
                }
            } else {
                if (I == 0)
                    S = [1, 1, 1];
                else {
                    S = [0, 0, 0];
                    S[I - 1] = 1
                }
                H.AN = []
            }
            var E = new _(P.E.A, !0);
            E.F = U.fN;
            E.data = {
                X: "setcls",
                L5: S
            };
            this.B(E);
            return
        }
        if (-1 < h) {
            var d = H.t[h]
                , B = d.wF == 1 ? d.Qn() : d.$l(H).r;
            if (Y.data.lI)
                B.Qb = !B.Qb;
            else {
                for (var G = 0; G < H.h3.length; G++)
                    H.h3[G].Qb = !1;
                H.AN = []
            }
        } else {
            var n = -h - 5
                , B = H.h3[n];
            if (Y.data.lI)
                B.Qb = !B.Qb;
            else {
                for (var G = 0; G < H.h3.length; G++)
                    H.h3[G].Qb = !1;
                B.Qb = !0;
                H.AN = [n]
            }
        }
        H.Yw = H.P7 = !0
    }
        ;
    gD.prototype.yB = function () {
        this.Om()
    }
        ;
    gD.prototype.kg = function (Y) {
        this.BY = Y;
        this.Om()
    }
        ;
    gD.prototype.Om = function () {
        var Y = this.BY
            , S = this.mo
            , d = 34
            , B = 34
            , C = 4;
        P.v3(S);
        if (Y == null || !P.Ap(S))
            return;
        var h = Y.d
            , q = Y.v
            , H = new W(0, 0, h, q)
            , I = this.JL = Y.z.L5.slice(0)
            , E = I[0] + I[1] + I[2];
        if (h > q)
            B = Math.round(B * q / h);
        else
            d = Math.round(d * h / q);
        var n = ["RGB"].concat(dD.B$);
        for (var G = 0; G < 4; G++) {
            var g = this.ja(G);
            t.Xg.MV(g, d, B, H, Y.Q3(), H, !1, G == 0 ? null : G - 1);
            var z = G == 0 ? E == 3 : I[G - 1] == 1
                , p = new bn(-1 - G, !0, !0, g, n[G], z, z);
            p.parent = this;
            S.appendChild(p.j)
        }
        for (var G = 0; G < Y.C.length; G++) {
            var T = Y.t[Y.C[G]]
                , A = T.wF;
            if (A != 1 && A != 3)
                continue;
            var i = A == 1 ? T.Qn() : T.$l(Y).r
                , g = this.ja(C + G);
            C++;
            t.Xg.VE(g, d, B, H, i);
            var p = new bn(Y.C[G], !0, !0, g, T.getName() + (A == 1 ? "" : " Filter") + " Mask", !0, i.Qb);
            p.parent = this;
            S.appendChild(p.j)
        }
        for (var G = 0; G < Y.h3.length; G++) {
            var i = Y.h3[G]
                , g = this.ja(C + G);
            t.Xg.VE(g, d, B, H, i);
            var p = new bn(-5 - G, !0, i.name == "Quick Mask", g, i.name, Y.AN.indexOf(G) != -1, i.Qb, U.GC, {
                X: M.i2,
                Wg: "rnm",
                Y8: G
            });
            p.parent = this;
            S.appendChild(p.j)
        }
    }
        ;
    gD.prototype.hD = function (Y, S) {
        this.mo.style.height = S - 9 - 25 + "px"
    }
        ;
    gD.prototype.f = function () {
        bV.prototype.f.call(this);
        this.Om();
        gD.JJ(this.ud, ["lrs/makesel", "lrs/mask", "lrs/newlayer", "lrs/bin"])
    }
        ;
    gD.JJ = function (Y, S) {
        for (var G = 0; G < Y.length; G++) {
            var h = Y[G];
            h.D2(P.NM(S[G]))
        }
    }
        ;
    function bn(Y, S, h, q, H, I, E, d, B) {
        e9.call(this);
        this.j = P.w("div", "layeritem");
        this.a5h = Y;
        this.a88 = S;
        this.Jd = q;
        this.ais = d;
        this.a4$ = B;
        this.ni = P.w("div", I ? "head selected" : "head");
        this.ni.setAttribute("style", "height: " + 40 + "px");
        var n = P.w("div", "headL")
            , g = P.w("div", "headR")
            , z = 15;
        this.j.appendChild(this.ni);
        this.ni.appendChild(n);
        this.ni.appendChild(g);
        this.lA = P.w("div", "eye");
        if (1 < P.M() && P.M() < 1.5)
            z = z / P.M();
        this.lA.setAttribute("style", "background-size: " + z + "px " + z + "px;");
        this.lA.style.opacity = E ? 1 : .2;
        if (S)
            n.appendChild(this.lA);
        this.Hw = P.w("div", "thumb");
        if (q)
            this.Hw.appendChild(q.canvas);
        n.appendChild(this.Hw);
        this.Yr = P.w("div", "label");
        if (h)
            this.Yr.style.fontStyle = "italic";
        this.Yr.textContent = gx.get(H);
        n.appendChild(this.Yr);
        var p = this.ni;
        p.setAttribute("draggable", "true");
        this.ni.addEventListener("mousedown", this.a3U.bind(this), !1);
        if (!h)
            this.ni.addEventListener("mouseup", this.a4v.bind(this), !1)
    }
    bn.prototype = new e9;
    bn.prototype.Hq = function (Y) {
        var S = new _(P.E.A, !0);
        S.F = this.ais;
        S.data = this.a4$;
        S.data.name = Y;
        this.B(S)
    }
        ;
    bn.prototype.a3U = function (Y) {
        var S = Y.ctrlKey || Y.metaKey
            , h = this.a5h;
        if (S && Y.target == this.Jd.canvas) {
            this.B(bn.XQ(this.a88, h, Y))
        } else {
            var q = new _("click", !0);
            q.data = {
                Y8: h,
                lI: Y.target == this.lA,
                sP: S
            };
            this.B(q)
        }
    }
        ;
    bn.prototype.a4v = function (Y) {
        if (Y.detail == 2 && Y.target == this.Yr) {
            var S = new bV.vH(this.Yr, this.Hq.bind(this))
        }
    }
        ;
    bn.XQ = function (Y, S, h) {
        var q = 0;
        if (h.shiftKey)
            q++;
        if (h.altKey)
            q += 2;
        var H = new _(P.E.A, !0);
        H.F = U.n5;
        if (Y) {
            if (-5 < S && S < 0) {
                H = new _(P.E.$_, !0);
                H.data = U.Q_.n4(q, ["RGB", "Rd", "Grn", "Bl"][-1 - S])
            } else
                H.data = {
                    X: "fromchannel",
                    Qg: [S, 0, q]
                }
        } else
            H.data = {
                X: "frompath",
                Qg: [S, 0, q]
            };
        return H
    }
        ;
    function hw() {
        bV.call(this, [8, 9], !1, null, bV.Ej.H6);
        this.JL = null;
        this.BY = null;
        this.mo = P.w("div", "lpbody scrollable");
        this.xu = P.w("div", "lpfoot");
        this.Pg.appendChild(this.mo);
        this.Pg.appendChild(this.xu);
        this.Pg.addEventListener("click", this.a8P.bind(this), !1);
        this.rt = [];
        this.k("click", this.QU, this);
        this.ud = [];
        gD.pD([[17, 2], "Selection to Path", [5, 3], [5, 4]], this.ud, this.xu, this.rW.bind(this), this.$i.bind(this))
    }
    hw.prototype = new bV("");
    hw.prototype.rW = function (Y) {
        var S = gD.S0(this.ud, Y), h;
        if (S == 0)
            h = bn.XQ(!1, null, Y);
        else if (S == 1) {
            h = new _(P.E.$_, !0);
            h.data = {
                f0: "make",
                Jz: {
                    classID: "null",
                    null: {
                        t: "obj ",
                        v: [{
                            t: "Clss",
                            v: {
                                classID: "Path"
                            }
                        }]
                    },
                    From: {
                        t: "obj ",
                        v: [{
                            t: "prop",
                            v: {
                                classID: "csel",
                                keyID: "fsel"
                            }
                        }]
                    },
                    Tlrn: {
                        t: "UntF",
                        v: {
                            type: "#Pxl",
                            val: 2
                        }
                    }
                }
            }
        } else {
            var h = new _(P.E.A, !0);
            h.F = U.qL;
            h.data = {
                X: "pathedit",
                Wg: ["new", "del"][S - 2]
            }
        }
        this.B(h)
    }
        ;
    hw.prototype.$i = function (Y) {
        this.rW(Y)
    }
        ;
    hw.prototype.ja = function (G) {
        var Y = this.rt
            , S = Y[G];
        if (S == null) {
            var h = P.w("canvas");
            S = h.getContext("2d");
            Y.push(S)
        }
        return S
    }
        ;
    hw.prototype.a8P = function (Y) {
        if (Y.target == this.mo) {
            var S = this.BY;
            S.IO = [];
            S.Fj = [];
            S.P7 = !0;
            S.Yw = !0
        }
    }
        ;
    hw.prototype.QU = function (Y) {
        var S = Y.data.Y8, h = this.BY, q = Y.data.sP, H = 0, I, E;
        if (S < 0) {
            H = -1 - S;
            I = h.IO;
            E = h.Fj
        } else {
            var d = h.L1()[0];
            for (var G = 0; G < d.length; G++) {
                var B = d[G].Y8;
                if (B == S)
                    break;
                if (B >= 0)
                    H++
            }
            I = h.Fj;
            E = h.IO
        }
        if (q) {
            var n = I.indexOf(H);
            if (n == -1)
                I.push(H);
            else
                I.splice(n, 1)
        } else {
            while (I.length != 0)
                I.pop();
            while (E.length != 0)
                E.pop();
            I.push(H)
        }
        h.P7 = !0;
        h.Yw = !0
    }
        ;
    hw.prototype.yB = function () {
        this.Om()
    }
        ;
    hw.prototype.kg = function (Y) {
        this.BY = Y;
        this.Om()
    }
        ;
    hw.prototype.Om = function () {
        var Y = this.BY
            , S = this.mo
            , d = 34
            , B = 34;
        P.v3(S);
        if (Y == null || !P.Ap(S))
            return;
        var h = Y.d
            , q = Y.v
            , H = new W(0, 0, h, q)
            , I = this.JL = Y.z.L5.slice(0)
            , E = I[0] + I[1] + I[2];
        if (h > q)
            B = Math.round(B * q / h);
        else
            d = Math.round(d * h / q);
        var n = Y.L1()
            , g = n[0];
        for (var G = 0; G < g.length; G++) {
            var z = g[G]
                , p = this.ja(G);
            t.Xg.a2x(p, d, B, H, z.add.vmsk);
            var C = new bn(z.Y8, !1, z.Y8 >= 0, p, z.name, n[1].indexOf(G) != -1, !1, U.qL, {
                X: "pathedit",
                Wg: "rnm",
                Y8: z.Y8
            });
            C.parent = this;
            S.appendChild(C.j)
        }
    }
        ;
    hw.prototype.hD = function (Y, S) {
        this.mo.style.height = S - 9 - 25 + "px"
    }
        ;
    hw.prototype.f = function () {
        bV.prototype.f.call(this);
        this.Om();
        gD.JJ(this.ud, ["lrs/makesel", "lrs/makepath", "lrs/newlayer", "lrs/bin"])
    }
        ;
    function bs(Y) {
        bV.call(this, [9, Y ? 4 : 5], !1, null, Y ? bV.Ej.aen : bV.Ej.aeJ);
        this.Pg.setAttribute("style", "min-width:240px;");
        this.aeA = Y;
        this.uq = null;
        this.it = null
    }
    bs.prototype = new bV("");
    bs.prototype.d2 = function () {
        this.uq = new hv;
        var Y = this.uq
            , S = this.Pg;
        Y.parent = this;
        if (this.aeA) {
            var h = P.w("div", "marged");
            S.appendChild(h);
            h.appendChild(Y.gx.j);
            S.appendChild(P.w("hr"));
            var q = P.w("div", "marged");
            S.appendChild(q);
            q.appendChild(Y.Co.j);
            q.appendChild(Y.OK.j);
            var H = P.w("div", "marged");
            S.appendChild(H);
            H.appendChild(Y.Hu.j);
            H.appendChild(Y.wi.j);
            S.appendChild(P.w("hr"));
            var I = P.w("div", "marged");
            S.appendChild(I);
            I.appendChild(Y.xS.j);
            I.appendChild(Y._K.j);
            var E = P.w("div", "marged");
            S.appendChild(E);
            E.appendChild(Y.QZ.j);
            E.appendChild(Y.I1.j);
            S.appendChild(P.w("hr"));
            var d = P.w("div", "marged");
            S.appendChild(d);
            d.appendChild(Y.VC.j);
            d.appendChild(Y._T.j);
            d.appendChild(Y.vR.j);
            d.appendChild(Y.wW.j);
            d.appendChild(Y.Gi.j);
            d.appendChild(Y.A1.j);
            d.appendChild(Y.GV.j);
            d.appendChild(Y.FT.j)
        } else {
            var h = P.w("div", "marged");
            S.appendChild(h);
            h.appendChild(Y.PT.j);
            h.appendChild(Y.yL.j);
            h.appendChild(Y.IU.j);
            h.appendChild(Y.an9.j);
            h.appendChild(Y.a7Z.j);
            h.appendChild(Y.a7_.j);
            h.appendChild(Y.alZ.j);
            S.appendChild(P.w("hr"));
            var q = P.w("div", "marged");
            S.appendChild(q);
            q.appendChild(Y.be.j);
            q.appendChild(Y.qv.j);
            q.appendChild(Y.h$.j);
            S.appendChild(P.w("hr"));
            var H = P.w("div", "marged");
            S.appendChild(H);
            H.appendChild(Y.CE.j);
            H.appendChild(Y.GF.j);
            H.appendChild(Y.KH.j)
        }
    }
        ;
    bs.prototype.yB = function () {
        if (!P.Ap(this.Pg))
            return;
        if (this.uq == null) {
            this.d2();
            var Y = this.it;
            if (Y)
                this.uq.i(Y.qK, Y.Z7, Y.K$);
            this.uq.f()
        }
    }
        ;
    bs.prototype.f = function () {
        bV.prototype.f.call(this);
        if (this.uq)
            this.uq.f()
    }
        ;
    bs.prototype.rJ = function (Y, S) {
        this.it = Y;
        if (S != iD.Ie && S != iD.O1 && S != iD.OO && S != iD.kJ)
            return;
        if (this.uq)
            this.uq.i(Y.qK, Y.Z7, Y.K$)
    }
        ;
    function eV() {
        bV.call(this, [9, 13], !1, null, bV.Ej.anD);
        this.it = null;
        this.a1V = null;
        this.a0i = null;
        this.TW = null;
        this.a2B = null;
        this.Py = Math.round(290 * P.M());
        this.Pj = 8;
        this.abS = 4;
        this.bd = new ey(null, ["Hi", "Hello"]);
        this.bd.k(P.E.L, this.LK, this);
        var Y = this.Ld = new gP("-", null, null, !0);
        Y.k("click", this.i5, this);
        var S = this.and = new gP("+", null, null, !0);
        S.k("click", this.i5, this);
        this.BH = new eI(!1);
        this.BH.k(P.E.L, this.aaG, this);
        this.BH.j.style.height = 20 + "em";
        var h = P.w("div", "padded");
        h.setAttribute("style", "width:" + (this.Py + 10) / P.M() + "px;");
        this.Pg.appendChild(h);
        var top = P.w("div");
        top.setAttribute("style", "margin-bottom:0.5em");
        h.appendChild(top);
        top.appendChild(this.bd.j);
        top.appendChild(Y.j);
        top.appendChild(S.j);
        h.appendChild(this.BH.j)
    }
    eV.prototype = new bV("");
    eV.prototype.aaG = function (Y) {
        var S = this.BH.u() * this.Pj * this.abS
            , h = Math.floor(this.Py / this.Pj) / P.M()
            , q = this.BH.aje();
        S += Math.floor(q.y / h) * this.Pj;
        S += Math.floor(q.x / h);
        var H = this.TW[this.bd.u()];
        if (S >= H.length)
            return;
        var I = H[S]
            , E = this.a2B[I];
        if (E.cU.length == 0) {
            alert("No known character for this glyph");
            return
        }
        var d = String.fromCodePoint(E.cU[0])
            , B = new _(P.E.A, !0);
        B.F = U.bk;
        B.data = {
            X: "insertText",
            G: d
        };
        this.B(B)
    }
        ;
    eV.prototype.i5 = function (Y) {
        this.Pj += Y.target == this.Ld ? 1 : -1;
        this.Pj = Math.max(1, Math.min(20, this.Pj));
        this.LK()
    }
        ;
    eV.prototype.yB = function () {
        this.rJ(this.it)
    }
        ;
    eV.prototype.rJ = function (Y, S) {
        this.it = Y;
        if (!P.Ap(this.Pg))
            return;
        var h = Y.qK
            , q = h.cD.Font
            , B = 0;
        if (q == null)
            return;
        var H = h.GZ[q].Name;
        if (this.a1V == H)
            return;
        var q = Y.Z7.De(H);
        if (q == null)
            return;
        var I = q.maxp.numGlyphs
            , E = this.a2B = new Array(I);
        for (var G = 0; G < I; G++)
            E[G] = {
                cU: []
            };
        var d = Date.now()
            , n = new Uint8Array(1048575);
        for (var G = 0; G < 1048575; G++) {
            var g = Typr.U.codeToGlyph(q, G);
            if (g != 0 && g < I) {
                n[G] = 1;
                if (E[g].cU.length == 0)
                    B++;
                E[g].cU.push(G)
            }
        }
        var z = eV.ET
            , p = [];
        for (var G = 0; G < z.length; G++)
            p.push([]);
        for (var g = 1; g < I; g++) {
            p[0].push(g);
            var C = E[g].cU[0];
            if (C == null) {
                continue
            }
            for (var T = 1; T < z.length; T++) {
                var A = z[T].fd;
                for (var G = 0; G < A.length; G += 2)
                    if (A[G] <= C && C <= A[G + 1]) {
                        p[T].push(g);
                        break
                    }
            }
        }
        this.TW = p;
        var i = [];
        for (var G = 0; G < z.length; G++)
            i.push(z[G].pc + " (" + p[G].length + ")");
        var e = this.bd.u();
        this.bd.Hm(i);
        this.bd.i(e);
        this.a1V = H;
        this.a0i = q;
        this.LK()
    }
        ;
    eV.prototype.LK = function (Y) {
        var S = this.TW[this.bd.u()]
            , h = S.length
            , q = this.a0i
            , H = Typr.U
            , I = Math.floor(this.Py / this.Pj)
            , E = I
            , d = E * .8
            , B = E * .8 / q.head.unitsPerEm
            , n = []
            , g = P.w("canvas")
            , z = g.getContext("2d")
            , p = this.Pj
            , C = Math.ceil(h / p)
            , T = this.abS;
        g.width = I * p;
        g.height = E * T;
        z.strokeStyle = "rgba(0,0,0,0.3)";
        var A = Date.now();
        for (var i = 0; i < C; i += T) {
            z.fillStyle = "white";
            z.fillRect(0, 0, p * I, E * T);
            for (var e = 0; e < T; e++) {
                for (var a = 0; a < p; a++) {
                    var G = S[(i + e) * p + a];
                    if (G == null)
                        break;
                    var Z = H.glyphToPath(q, G)
                        , O = t.a.Zu(Z.crds);
                    if (!O.fa()) {
                        z.fillStyle = "#252525";
                        z.beginPath();
                        var c = a * I + (I - O.d * B) * .5 - O.x * B
                            , s = e * E + d;
                        z.translate(c, s);
                        z.scale(B, -B);
                        H.pathToContext(Z, z);
                        z.scale(1 / B, -1 / B);
                        z.translate(-c, -s);
                        z.fill()
                    }
                }
            }
            z.beginPath();
            for (var a = 0; a < p; a++) {
                var x = a * I + I + .5;
                z.moveTo(x, 0);
                z.lineTo(x, E * T)
            }
            for (var e = 0; e < T; e++) {
                var u = e * E + E + .5;
                z.moveTo(0, u);
                z.lineTo(p * I, u)
            }
            z.stroke();
            n.push(g.toDataURL("image/png"))
        }
        this.BH.sc(n, null, I * p, E * T)
    }
        ;
    eV.ET = [{
        pc: "All Glyphs"
    }, {
        pc: "Basic Latin, Latin 1",
        fd: [0, 127, 128, 143]
    }, {
        pc: "Latin Extended-A",
        fd: [256, 383]
    }, {
        pc: "Latin Extended-B",
        fd: [384, 591]
    }, {
        pc: "Punctuations",
        fd: [33, 35, 37, 39, 42, 42, 44, 44, 46, 47, 58, 59, 63, 63, 64, 64, 92, 92, 161, 161, 167, 167, 182, 183, 191, 191, 894, 894, 903, 903, 1370, 1375, 1417, 1417, 8192, 8303, 11776, 11903]
    }, {
        pc: "Greek",
        fd: [880, 1023]
    }, {
        pc: "Cyrillic",
        fd: [1024, 1279]
    }, {
        pc: "Hebrew",
        fd: [1424, 1535]
    }, {
        pc: "Arabic",
        fd: [1536, 1791]
    }, {
        pc: "Emoji",
        fd: [9728, 10095, 127744, 129535]
    }];
    function fO() {
        bV.call(this, [13, 0], !1, null, bV.Ej.oo);
        this.oN = 0;
        this.afc = 0;
        this.it = null;
        var Y = P.w("div", "flexrow padded");
        this.Pg.appendChild(Y);
        var S = P.w("div");
        Y.appendChild(S);
        this.c_ = [];
        for (var G = 0; G < 2; G++) {
            var h = new ca;
            this.c_.push(h);
            h.k("click", this.aiZ, this);
            S.appendChild(h.j)
        }
        this.IW = new hp(192);
        this.IW.k(P.E.L, this.KL, this);
        Y.appendChild(this.IW.j)
    }
    fO.prototype = new bV("");
    fO.prototype.aiZ = function (Y) {
        this.oN = this.c_.indexOf(Y.currentTarget);
        this.o3()
    }
        ;
    fO.prototype.KL = function (Y) {
        var S = this.IW.u();
        this.IW.i(S);
        var h = Math.round(S.h * 255) << 16 | Math.round(S.l * 255) << 8 | Math.round(S.O * 255)
            , q = new _(P.E.P, !0);
        q.data = {
            X: P.U.PD,
            go: iD.oo,
            Wg: this.oN,
            G: h
        };
        this.B(q);
        this.afc = Date.now()
    }
        ;
    fO.prototype.o3 = function () {
        var Y = this.it
            , S = this.oN
            , h = [Y.jy, Y.E$];
        for (var G = 0; G < 2; G++) {
            var q = this.c_[G]
                , H = q.j.style;
            q.vC(h[G]);
            if (G == S)
                delete H.borderColor;
            else
                H.borderColor = "var(--bg-color)"
        }
        var I = h[S];
        if (Date.now() - this.afc > 100)
            this.IW.i({
                h: (I >>> 16) / 255,
                l: (I >>> 8 & 255) / 255,
                O: (I & 255) / 255
            })
    }
        ;
    fO.prototype.rJ = function (Y, S) {
        this.it = Y;
        if (S == iD.Ie || S == iD.oo)
            this.o3()
    }
        ;
    fO.prototype.yB = function () {
        this.o3()
    }
        ;
    function gO() {
        bV.call(this, "CSS", !1, null, bV.Ej.CSS);
        this.Tp = null;
        var Y = P.w("div", "padded");
        this.Pg.appendChild(Y);
        this.U7 = P.w("textarea");
        this.U7.setAttribute("rows", 16);
        this.U7.setAttribute("style", "display:block;tab-size:4; font-family:monospace; width:98%; min-width:270px;");
        Y.appendChild(this.U7)
    }
    gO.prototype = new bV("");
    gO.prototype.kg = function (Y) {
        this.Tp = Y;
        this.o3()
    }
        ;
    gO.prototype.rJ = function (Y, S) {
        if (S == iD.OO)
            this.o3()
    }
        ;
    gO.prototype.o3 = function () {
        var Y = this.Tp;
        if (Y == null || Y.C.length == 0)
            return;
        if (!P.Ap(this.Pg))
            return;
        var S = Y.t[Y.C[0]]
            , h = CSS.adH(S, Y);
        if (h.length != 0)
            this.U7.value = h.join(";\n") + ";";
        else
            this.U7.value = ""
    }
        ;
    gO.prototype.yB = function () {
        this.o3()
    }
        ;
    function aH() {
        bV.call(this, [9, 6], !1, null, bV.Ej.a4L);
        this.Pg.setAttribute("style", "min-width:240px;");
        this.Tp = null;
        this.it = null;
        var Y = P.w("div", "marged row");
        this.Pg.appendChild(Y);
        var S = P.w("div", "cell");
        S.setAttribute("style", "width:10em");
        Y.appendChild(S);
        var h = P.w("div", "cell");
        h.setAttribute("style", "width:10em");
        Y.appendChild(h);
        this.aet = [];
        for (var G = 0; G < 4; G++) {
            var q = new aG("");
            this.aet.push(q);
            S.appendChild(q.j);
            P.f$(S)
        }
        this.Pg.appendChild(P.w("hr", ""));
        var H = P.w("div", "marged row");
        this.Pg.appendChild(H);
        var S = P.w("div", "cell");
        S.setAttribute("style", "width:10em");
        var h = P.w("div", "cell");
        h.setAttribute("style", "width:10em");
        H.appendChild(S);
        H.appendChild(h);
        this.eo = new aG("");
        S.appendChild(this.eo.j);
        P.f$(S);
        this.QA = new aG("");
        S.appendChild(this.QA.j);
        this.A7 = new aG("");
        h.appendChild(this.A7.j);
        P.f$(h);
        this.OM = new aG("");
        h.appendChild(this.OM.j);
        this.eo.i("X: 100 px");
        this.QA.i("Y: 100 px");
        this.A7.i("W: 0");
        this.OM.i("H: 0")
    }
    aH.prototype = new bV("");
    aH.prototype.vr = function (Y, S, h, q, H) {
        if (!P.Ap(this.Pg) || Y == null)
            return;
        var I = Y.z.vl(H.x, H.y)
            , E = new aV(Math.floor(I.x), Math.floor(I.y));
        if (!H.gk) {
            var d = 0
                , B = 0
                , n = 0
                , g = 0
                , z = this.aet;
            if (!H.gk && !Y.a67() && new W(0, 0, Y.d - 1, Y.v - 1).uU(E)) {
                var p = Y.Q3()
                    , G = Y.d * E.y + E.x << 2;
                d = p[G + 0];
                B = p[G + 1];
                n = p[G + 2];
                g = p[G + 3]
            }
            z[0].i("R: " + d);
            z[1].i("G: " + B);
            z[2].i("B: " + n);
            z[3].i("A: " + g)
        }
        this.eo.i("X: " + t.n1.qZ(E.x, Y.PW, h, Y.d));
        this.QA.i("Y: " + t.n1.qZ(E.y, Y.PW, h, Y.v));
        this.Ox()
    }
        ;
    aH.prototype.Ox = function () {
        var Y = this.Tp
            , S = this.it
            , h = 0
            , q = 0;
        if (Y && S) {
            if (Y.z.Tz) {
                h = Y.z.Tz.d;
                q = Y.z.Tz.v
            } else if (Y.N) {
                h = Y.N.rect.d;
                q = Y.N.rect.v
            }
            h = t.n1.qZ(Math.abs(h), Y.PW, S, Y.d);
            q = t.n1.qZ(Math.abs(q), Y.PW, S, Y.v)
        }
        this.A7.i(gx.get([12, 41]).charAt(0) + ": " + h);
        this.OM.i(gx.get([12, 42]).charAt(0) + ": " + q)
    }
        ;
    aH.prototype.f = function () {
        bV.prototype.f.call(this);
        this.Ox()
    }
        ;
    aH.prototype.kg = function (Y, S, h) {
        this.Tp = Y;
        this.it = h;
        this.Ox()
    }
        ;
    function a4() {
        bV.call(this, [9, 1], !1, null, bV.Ej.GC);
        this.Zk = null;
        this.n3 = null;
        this.r7 = null;
        this.ni = P.w("div", "lphead");
        this.mo = P.w("div", "lpbody scrollable");
        this.xu = P.w("div", "lpfoot");
        this.fv = new ey(null, iS.hc, !1, iS.sm);
        this.fv.k(P.E.L, this.aoq, this);
        this.ni.appendChild(this.fv.j);
        this.BJ = new ed([12, 0], 0, 100, "%", 0);
        this.BJ.k(P.E.L, this.alk, this);
        this.BJ.parent = this;
        this.ni.appendChild(this.BJ.j);
        this._7 = new bg([6, 57, 2], ["<img src=\"" + PIMG.trsp3 + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG["tools/brush"] + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG.pos + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG["lrs/lock"] + "\" class=\"autoscale gsicon\" />"], !0, ["Transparency", [12, 76, 2], [12, 40], [7, 0]]);
        this._7.k(P.E.L, this.ah2, this);
        this.ni.appendChild(this._7.j);
        this.Xc = new ed([12, 26], 0, 100, "%", 0);
        this.Xc.k(P.E.L, this.ahN, this);
        this.Xc.parent = this;
        this.ni.appendChild(this.Xc.j);
        this.ud = [];
        this.pD();
        this.Pg.appendChild(this.ni);
        this.Pg.appendChild(this.mo);
        this.mo.addEventListener("dragover", function (H) {
            H.preventDefault()
        }, !1);
        this.mo.addEventListener("dragenter", P.IM, !1);
        this.mo.addEventListener("drop", this.ajY.bind(this), !1);
        this.Pg.appendChild(this.xu);
        this.Pg.addEventListener("contextmenu", P.IM, !1);
        var Y = {
            c: P.E.P,
            g: {
                X: P.U.V5,
                Fh: "scaleeffects",
                IJ: 100,
                Yz: {
                    c: P.E.A,
                    F: U.lc,
                    g: {
                        X: "scaleeffects"
                    }
                }
            }
        }
            , S = {
                name: "Scale Effects",
                p: function (H) {
                    return {
                        p: H != null && H.t[H.C[0]].vI()
                    }
                }
            }
            , h = [S]
            , q = [Y];
        this.aeY = new gV(h, q);
        var h = [{
            name: [14, 10]
        }, {
            name: [14, 11],
            Sp: !0
        }, {
            name: [6, 0]
        }, {
            name: [11, 4]
        }, {
            name: [5, 4],
            Sp: !0
        }, {
            name: [6, 7]
        }, {
            name: "New Smart Obj. via Copy",
            p: function (H) {
                return {
                    p: H.t[H.C[0]].add.SoLd != null
                }
            },
            Sp: !0
        }, {
            name: [6, 8],
            p: function (H) {
                var I = H.t[H.C[0]];
                if (I.add.TySh || I.add.SoLd || I.add.SoCo || I.add.GdFl || I.add.PtFl)
                    return {
                        p: !0
                    };
                return {
                    p: !1
                }
            }
        }, {
            name: [6, 34],
            p: function (H) {
                var I = H.t[H.C[0]];
                return {
                    p: I.add.lmfx != null && !I.i4()
                }
            }
        }, {
            name: [6, 40],
            Sp: !0,
            p: function (H) {
                var I = H.t[H.C[0]];
                return {
                    p: I.add.TySh != null
                }
            }
        }, {
            name: "",
            Sp: !0,
            p: function (H) {
                var I = H.t[H.C[0]]
                    , E = I.add.TySh
                    , d = E ? E.lV : null;
                return {
                    p: E != null && d.Curve == null,
                    sY: gx.get(E && ap.Vu(d) == 0 ? [16, 3, 1] : [16, 3, 0])
                }
            }
        }, {
            name: [6, 6, 0],
            Sp: !0,
            p: function (H) {
                return {
                    p: H.Hj(H.C[0]),
                    x$: H.t[H.C[0]].f6
                }
            }
        }, {
            name: [11, 6],
            Sp: !0,
            sub: [{
                name: [5, 1],
                p: function (H) {
                    var I = H.t[H.C[0]];
                    return {
                        p: I.add.lmfx != null
                    }
                }
            }, {
                name: [5, 2]
            }, {
                name: [2, 2],
                p: function (H) {
                    var I = H.t[H.C[0]];
                    return {
                        p: I.add.lmfx != null
                    }
                },
                Sp: !0
            }, S]
        }, {
            name: [6, 10],
            p: function (H) {
                return {
                    p: H.C.length == 1 && H.C[0] != 0 && !H.t[H.C[0]].i4()
                }
            }
        }, {
            name: [6, 12, 0],
            p: function (H) {
                return {
                    p: H.C.length > 1 || H.t[H.C[0]].i4()
                }
            }
        }, {
            name: [6, 12, 1],
            Sp: !0
        }, {
            name: [13, 0],
            sub: function () {
                var H = [[13, 1, 0], [13, 1, 1], [13, 1, 2], [13, 1, 3], [13, 1, 4], [13, 1, 5], [13, 1, 6], [13, 1, 7]]
                    , I = [];
                for (var G = 0; G < H.length; G++)
                    I.push({
                        name: H[G]
                    });
                return I
            }()
        }]
            , q = [{
                c: P.E.P,
                g: {
                    X: P.U.V5,
                    Fh: "layerstyle"
                }
            }, {
                c: P.E.A,
                F: U.n5,
                g: {
                    X: "fromlayer",
                    Qg: [null, 0, 0]
                }
            }, {
                c: P.E.A,
                F: U.GC,
                g: {
                    X: M.Vo
                }
            }, {
                c: P.E.P,
                g: {
                    X: P.U.V5,
                    Fh: "duplinto"
                }
            }, {
                c: P.E.A,
                F: U.GC,
                g: {
                    X: M.Yn
                }
            }, {
                c: P.E.$_,
                g: {
                    f0: "newPlacedLayer"
                }
            }, {
                c: P.E.A,
                F: U.GC,
                g: {
                    X: M.Ix
                }
            }, {
                c: P.E.$_,
                g: {
                    f0: "rasterizeLayer",
                    Jz: {
                        classID: "rasterizeLayer",
                        null: bw.wC("Lyr", !0)
                    }
                }
            }, {
                c: P.E.A,
                F: U.GC,
                g: {
                    X: M.hb
                }
            }, {
                c: P.E.A,
                F: U.GC,
                g: {
                    X: M.w9
                }
            }, {
                c: P.E.A,
                F: U.bk,
                g: {
                    X: "switchPntPrgr"
                }
            }, {
                c: P.E.A,
                F: U.GC,
                g: {
                    X: M.JA
                }
            }, {
                sub: [{
                    c: P.E.A,
                    F: U.lc,
                    g: {
                        X: "st_copy"
                    }
                }, {
                    c: P.E.A,
                    F: U.lc,
                    g: {
                        X: "st_paste"
                    }
                }, {
                    c: P.E.A,
                    F: U.lc,
                    g: {
                        X: "st_clear"
                    }
                }, Y]
            }, {
                c: P.E.A,
                F: U.GC,
                g: {
                    X: M.sn
                }
            }, {
                c: P.E.A,
                F: U.GC,
                g: {
                    X: M.zS
                }
            }, {
                c: P.E.A,
                F: U.GC,
                g: {
                    X: M.Mj
                }
            }, {
                sub: function () {
                    var H = [];
                    for (var G = 0; G < 8; G++)
                        H.push({
                            c: P.E.A,
                            F: U.GC,
                            g: {
                                X: M.Hv,
                                amQ: G
                            }
                        });
                    return H
                }()
            }];
        this.ub = new gV(h, q);
        var h = [{
            name: [6, 45],
            p: function (H) {
                var I = H.t[H.C[0]];
                return {
                    p: I.$l(H).r == null
                }
            }
        }, {
            name: [6, 47]
        }]
            , q = [{
                c: P.E.A,
                F: U.GC,
                g: {
                    X: M.HG
                }
            }, {
                c: P.E.A,
                F: U.GC,
                g: {
                    X: M.KR
                }
            }];
        this.acZ = new gV(h, q);
        var h = [{
            name: "enab/disab",
            p: function (H) {
                return {
                    sY: gx.get(H.t[H.C[0]].Qn().isEnabled ? [6, 15] : [6, 14])
                }
            }
        }, {
            name: [6, 22]
        }, {
            name: [5, 8],
            p: function (H) {
                return {
                    p: H.gH(!1, !0)
                }
            }
        }]
            , q = [{
                c: P.E.A,
                F: U.GC,
                g: {
                    X: M.XG
                }
            }, {
                c: P.E.A,
                F: U.GC,
                g: {
                    X: M.D$
                }
            }, {
                c: P.E.A,
                F: U.GC,
                g: {
                    X: M.bg
                }
            }];
        this.a0j = new gV(h, q);
        var h = [{
            name: "enab/disab",
            p: function (H) {
                return {
                    sY: gx.get(H.t[H.C[0]].$l(H).r.isEnabled ? [6, 42] : [6, 41])
                }
            }
        }, {
            name: [6, 46]
        }]
            , q = [{
                c: P.E.A,
                F: U.GC,
                g: {
                    X: M.O7
                }
            }, {
                c: P.E.A,
                F: U.GC,
                g: {
                    X: M.Ya
                }
            }];
        this.ahd = new gV(h, q);
        var h = [{
            name: "enab/disab",
            p: function (H) {
                return {
                    sY: gx.get(H.t[H.C[0]].add.vmsk.isEnabled ? [6, 17] : [6, 16])
                }
            }
        }, {
            name: [6, 24]
        }]
            , q = [{
                c: P.E.A,
                F: U.GC,
                g: {
                    X: M.bq
                }
            }, {
                c: P.E.A,
                F: U.GC,
                g: {
                    X: M.OI
                }
            }];
        this.a52 = new gV(h, q);
        this.alJ = new gV(au.XO(!0), au.od(!0));
        this.alG = new gV(au.qx(), au.tu());
        this.k("rclick", this.a1a, this)
    }
    a4.prototype = new bV("");
    a4.prototype.ajY = function (Y) {
        P.IM(Y);
        var S = Y.dataTransfer.getData("Text")
            , h = 1
            , q = 0;
        if (S == "") {
            P.Dg(Y, this, this.r7.indexOf(this.n3), q + (h > .5 ? 0 : 1))
        } else if (S != "--panel") {
            var S = JSON.parse(S)
                , H = S.I7;
            if (H == "l")
                this.gf({
                    X: M.Tr,
                    source: S.eS,
                    target: q,
                    HR: h
                })
        }
    }
        ;
    a4.prototype.Y7 = function () {
        return new aV(253, 0)
    }
        ;
    a4.prototype.a1a = function (Y) {
        var S = this.n3, h = Y.data, H;
        if (S.C.indexOf(h.$) == -1) {
            var q = {
                X: M.QJ,
                $: Y.target.CF.index,
                md: h.wF
            };
            this.gf(q)
        }
        if (S.C.indexOf(h.$) == -1)
            return;
        if (h.wF == 1) {
            H = this.a0j
        } else if (h.wF == 2) {
            H = this.a52
        } else if (h.wF == 3) {
            H = this.ahd
        } else if (h.wF == 4) {
            H = this.acZ
        } else if (h.wF == 5) {
            H = this.aeY
        } else {
            H = this.ub
        }
        H.f();
        H.update(S);
        H.parent = this;
        var I = new _(P.E.P, !0);
        I.data = {
            X: P.U.pa,
            FN: H,
            x: h.VZ.x + 1,
            y: h.VZ.y + 1
        };
        this.B(I)
    }
        ;
    a4.prototype.f = function () {
        bV.prototype.f.call(this);
        this.fv.f();
        this.BJ.f();
        this._7.f();
        this.Xc.f();
        if (this.n3)
            this.kg(this.n3);
        var Y = "lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
        for (var G = 0; G < this.ud.length; G++) {
            var S = this.ud[G];
            S.D2(P.NM(Y[G]))
        }
    }
        ;
    a4.prototype.kg = function (Y, S) {
        if (Y && !Y.Dn)
            return;
        if (Y == null)
            P.xv(this.Pg, "disabled");
        else
            P.zM(this.Pg, "disabled");
        this.n3 = Y;
        this.r7 = S;
        if (this.Zk != null) {
            this.mo.removeChild(this.Zk.mo);
            this.Zk = null
        }
        if (Y == null)
            return;
        this.Zk = new fF(Y.root, this, Y, {
            oA: 0
        });
        this.mo.appendChild(this.Zk.mo);
        if (Y.C.length == 0 || Y.t[Y.C[0]] == null)
            P.xv(this.ni, "disabled");
        else {
            P.zM(this.ni, "disabled");
            if (Y.C.length == 1 && Y.Pm)
                this.Zk.eY(Y.C);
            var h = Y.t[Y.C[0]];
            if (h.i4()) {
                this.fv.Hm([[15, 10, 27]].concat(iS.hc), [1].concat(iS.sm));
                var q = iS.LQ.indexOf(h.XC);
                this.fv.i(q + 1)
            } else {
                this.fv.Hm(iS.hc, iS.sm);
                var q = iS.LQ.indexOf(h.XC);
                this.fv.i(q)
            }
            this.BJ.i(Math.round(100 * h.opacity / 255));
            this._7.i([h.Ag(0), h.Ag(1), h.Ag(2), h.Ag(31)]);
            this.Xc.i(Math.round(100 * (h.add.iOpa != null ? h.add.iOpa / 255 : 1)))
        }
    }
        ;
    a4.prototype.hD = function (Y, S) {
        var h = this.ni.getBoundingClientRect().height
            , q = 59;
        if (h > 70)
            q = 84;
        if (h > 100)
            q = 108;
        var H = S - (q + 37);
        this.mo.style.height = H + "px"
    }
        ;
    a4.prototype.aoq = function (Y) {
        this.gf({
            X: M.tl,
            aq: this.fv.u()
        })
    }
        ;
    a4.prototype.alk = function (Y) {
        this.gf({
            X: M.zh,
            aq: Math.round(255 * this.BJ.u() / 100)
        })
    }
        ;
    a4.prototype.ah2 = function (Y) {
        this.gf({
            X: M.Be,
            aq: [this._7.u(), [0, 1, 2, 31]]
        })
    }
        ;
    a4.prototype.ahN = function (Y) {
        this.gf({
            X: M.XJ,
            aq: Math.round(255 * this.Xc.u() / 100)
        })
    }
        ;
    a4.prototype.anQ = function (Y) {
        this.Z4(Y, this.alJ)
    }
        ;
    a4.prototype.a04 = function (Y) {
        this.Z4(Y, this.alG)
    }
        ;
    a4.prototype.Z4 = function (Y, S) {
        var h = Y.currentTarget;
        if (P.Ap(S.j))
            return;
        Y.stopPropagation();
        var q = h.getBoundingClientRect();
        S.f();
        S.update(this.n3);
        S.parent = this;
        var H = new _(P.E.P, !0);
        H.data = {
            X: P.U.pa,
            FN: S,
            x: q.left,
            y: q.top,
            aih: !0
        };
        this.B(H)
    }
        ;
    a4.prototype.aeW = function (Y) {
        this.gf({
            X: M.CX
        })
    }
        ;
    a4.prototype.a4e = function (Y) {
        this.gf({
            X: this.n3.C.length > 1 ? M.D5 : M.cW
        })
    }
        ;
    a4.prototype.a2I = function (Y) {
        this.gf({
            X: M.tD
        })
    }
        ;
    a4.prototype.a9g = function (Y) {
        this.gf({
            X: M.Yn
        })
    }
        ;
    a4.prototype.ajR = function (Y) {
        this.gf({
            X: M.CH
        })
    }
        ;
    a4.prototype.gf = function (Y) {
        var S = new _(P.E.A, !0);
        S.data = Y;
        S.F = U.GC;
        this.B(S)
    }
        ;
    a4.prototype.pD = function () {
        var Y = [[6, 54, 0], [11, 6], [6, 1], [6, 21], [6, 20], [6, 13], [6, 31]]
            , S = [this.ajR, this.a04, this.anQ, this.aeW, this.a4e, this.a2I, this.a9g]
            , h = this.ahe.bind(this);
        for (var G = 0; G < Y.length; G++) {
            var q = new gP("W", !1, Y[G]);
            this.ud.push(q);
            P.aK(q.j, S[G].bind(this));
            this.xu.appendChild(q.j);
            if (G >= Y.length - 3) {
                var H = q.j;
                H.addEventListener("drop", h, !1);
                H.addEventListener("dragover", function (I) {
                    I.preventDefault()
                }, !1);
                H.addEventListener("dragenter", P.IM, !1)
            }
        }
    }
        ;
    a4.prototype.ahe = function (Y) {
        P.IM(Y);
        var S = 0
            , h = this.ud;
        while (h[S].j != Y.currentTarget)
            S++;
        h[S].cQ();
        var q = Y.dataTransfer.getData("Text");
        if (q == "")
            return;
        var q = JSON.parse(q);
        if (q.I7 == "l") {
            var H = {
                X: [M.D5, M.Vo, M.Yn][S - 4]
            };
            if (this.n3.C.indexOf(q.eS) == -1)
                H.$ = q.eS;
            this.gf(H)
        }
        if (S != 6)
            return;
        if (q.I7 == "sm" || q.I7 == "s") {
            var I = new _(P.E.A, !0);
            I.F = U.lc;
            I.data = {
                X: q.I7 == "sm" ? "st_clear" : "st_delsingle",
                $: q.eS,
                eS: q.Gp
            };
            this.B(I)
        }
        if (q.I7 == "fm" || q.I7 == "f") {
            this.gf({
                X: q.I7 == "fm" ? M.KR : M.so,
                src: q.eS,
                Gp: q.Gp
            })
        }
        if (q.I7 == "m" || q.I7 == "vm") {
            this.gf({
                X: q.I7 == "m" ? M.D$ : M.OI,
                $: q.eS
            })
        }
    }
        ;
    function fF(Y, S, h, q) {
        e9.call(this);
        this.parent = S;
        this.CF = Y;
        this.fH = [];
        this.j = P.w("div", "layeritem");
        var H = Y.$
            , a = 15
            , R = !1;
        this.ni = P.w("div", h.C.indexOf(Y.index) != -1 ? "head selected" : "head");
        if (Y.$.add.artb != null)
            P.xv(this.ni, "artb");
        this.ni.setAttribute("style", "height: " + (H.a6N + 10) + "px");
        var I = P.w("div", "headL")
            , E = P.w("div", "headR")
            , d = P.w("div", "lpineck");
        this.mo = P.w("div", "lpibody");
        this.j.appendChild(this.ni);
        this.ni.appendChild(I);
        this.ni.appendChild(E);
        if (H.vI() || H.ef())
            if (H.yc())
                this.j.appendChild(d);
        var B = this.ni;
        B.setAttribute("draggable", "true");
        B.addEventListener("dragstart", this.dI.bind(this), !1);
        B.addEventListener("drop", this.ES.bind(this), !1);
        B.addEventListener("dragover", this.Zt.bind(this), !1);
        B.addEventListener("dragenter", P.IM, !1);
        B.addEventListener("dragleave", this.tC.bind(this), !1);
        var n = []
            , g = []
            , z = P.w("div");
        this.lA = P.w("div", "eye");
        z.appendChild(this.lA);
        var p = P.w("div", "space");
        this.Yr = P.w("div", "label");
        this.Yr.setAttribute("style", "max-width:calc(100% - " + (96 + Y.depth * 20) + "px)");
        this.Yr.textContent = H.getName();
        this.zq = P.w("div", "lock");
        this.afl = P.w("div", "lrfx");
        this.Qa = P.w("div", "arfx");
        var C = this.aio.bind(this)
            , T = this.ab8.bind(this);
        this.ni.addEventListener("click", T, !1);
        this.ni.addEventListener("contextmenu", C, !1);
        var A = [0, 16711680, 16748544, 16763904, 4513024, 22015, 11141375, 7829367]
            , i = H.add.lclr == null ? 0 : A[H.add.lclr];
        if (i == 0)
            i = q.oA;
        var e = [i >> 16, i >> 8 & 255, i & 255];
        for (var G = 0; G < 3; G++) {
            e[G] = Math.round(.5 * e[G] + .5 * 220)
        }
        if (1 < P.M() && P.M() < 1.5)
            a = a / P.M();
        z.setAttribute("style", "background-color:rgba(" + e.join(",") + "," + (i == 0 ? 0 : 1) + ");");
        this.lA.setAttribute("style", "background-size: " + a + "px " + a + "px;");
        var Z = this.ah0.bind(this);
        z.addEventListener("mousedown", Z, !1);
        z.addEventListener("mouseover", Z, !1);
        this.Yr.addEventListener("pointerup", this.abP.bind(this), !1);
        this.Qa.addEventListener("click", this.a8f.bind(this), !1);
        n[0] = z;
        n[1] = p;
        n[10] = this.Yr;
        if (H.i4()) {
            var O = P.w("div", "arrow")
                , c = P.w("div", "folder");
            O.addEventListener("click", this.aia.bind(this), !1);
            n[2] = O;
            n[3] = c;
            if (H.add.lsct == hg.fC) {
                for (var G = Y.children.length - 1; G >= 0; G--) {
                    var s = new fF(Y.children[G], S, h, {
                        oA: i
                    });
                    this.fH.push(s);
                    this.mo.appendChild(s.j)
                }
                this.j.appendChild(this.mo)
            }
            O.setAttribute("class", H.add.lsct == hg.fC ? "open" : "closed")
        } else {
            this.Hw = P.w("div", "thumb");
            n[5] = this.Hw;
            this.Hw.appendChild(H.lH.canvas)
        }
        var x = H.Qn();
        if (x) {
            this.Zr = P.w("div", "chain");
            this.$g = P.w("div", "thumb");
            this.$g.setAttribute("draggable", "true");
            this.$g.appendChild(Y.$.aj8.canvas);
            this.Zr.style.opacity = x.Pa ? 1 : 0;
            this.Zr.addEventListener("click", this.acS.bind(this), !1)
        }
        var u = H.uy() && H.add.vmsk;
        if (H.add.vmsk && !u) {
            this.SU = P.w("div", "chain");
            this.Ae = P.w("div", "thumb");
            this.Ae.setAttribute("draggable", "true");
            this.Ae.appendChild(Y.$.a6e.canvas);
            this.SU.style.opacity = H.add.vmsk.Pa ? 1 : 0;
            this.SU.addEventListener("click", this.ahP.bind(this), !1)
        }
        if (H.ef() && H.$l(h).r) {
            this.PC = P.w("div", "thumb");
            this.PC.appendChild(Y.$.aiu.canvas);
            this.PC.addEventListener("click", T, !1);
            this.PC.addEventListener("contextmenu", C, !1)
        }
        if (H.vI()) {
            d.addEventListener("contextmenu", C, !1);
            var y = new a4.MG(gx.get([12, 1]), "sm", "layerstyle", Y.depth, 0, null);
            y.parent = this;
            d.appendChild(y.j);
            var j = H.add.lmfx
                , v = j.masterFXSwitch.v;
            y.yR(v);
            for (var G = 0; G < ai.order.length; G++) {
                var X = j[ai.m6[G]].v;
                if (X.length == 0)
                    continue;
                for (var N = 0; N < X.length; N++) {
                    var y = new a4.MG(gx.get(ai.names[G]), "s", "layerstyle", Y.depth, 1, [G, N]);
                    y.yR(v && X[N].v.enab.v);
                    y.parent = this;
                    d.appendChild(y.j)
                }
            }
        }
        if (H.ef()) {
            var y = new a4.MG(gx.get([12, 55]), "fm", null, Y.depth, 0, -1, H.$l(h).r ? this.PC : null);
            y.parent = this;
            d.appendChild(y.j);
            this.afH = y.j;
            this.afH.addEventListener("contextmenu", C, !1);
            var j = H.add.SoLd.filterFX.v
                , V = j.filterFXList.v
                , v = j.enab.v;
            y.yR(v);
            for (var G = V.length - 1; G >= 0; G--) {
                var $ = V[G].v
                    , w = io.mU($);
                if (dD.CY[w])
                    w = dD.CY[w];
                var m = $.Nm.v;
                if (io.names[w])
                    m = gx.get(io.names[w]);
                if (dD.names[w])
                    m = gx.get(dD.names[w]);
                var l = "afw_" + w
                    , y = new a4.MG(m, "f", l, Y.depth, 1, G);
                y.yR(v && $.enab.v);
                y.parent = this;
                d.appendChild(y.j)
            }
        }
        if (h.t.indexOf(H) == h.C[0]) {
            var b = H.wF, K;
            if (b <= 0)
                K = this.Hw;
            else if (b == 1)
                K = this.$g;
            else if (b == 3)
                K = this.PC;
            if (K)
                K.setAttribute("class", "thumb active");
            if (H.cI && this.Ae)
                this.Ae.setAttribute("class", "thumb active")
        }
        z.style.opacity = H.yj() ? 1 : .25;
        p.setAttribute("style", "width:" + Math.max(0, Y.depth - 1) * 18 + "px");
        var J = H.add.lspf != null && H.add.lspf != 0;
        this.zq.style.opacity = H.Ag(31) ? 1 : .5;
        n[4] = H.f6 ? P.w("div", "clipp") : null;
        n[6] = x ? this.Zr : null;
        n[7] = x ? this.$g : null;
        n[8] = H.add.vmsk && !u ? this.SU : null;
        n[9] = H.add.vmsk && !u ? this.Ae : null;
        var r = H.BN
            , f = h.C;
        if (r != 0)
            for (var G = 0; G < f.length; G++)
                if (h.t[f[G]].BN == r) {
                    R = !0;
                    break
                }
        g[0] = R ? P.w("div", "link") : null;
        g[1] = J ? this.zq : null;
        g[2] = H.vI() ? this.afl : null;
        g[3] = H.vI() || H.ef() ? this.Qa : null;
        this.Qa.setAttribute("class", H.yc() ? "arfx open  gsicon" : "arfx closed  gsicon");
        var gf = n;
        for (var G = 0; G < gf.length; G++)
            if (gf[G])
                I.appendChild(gf[G]);
        gf = g;
        for (var G = 0; G < gf.length; G++)
            if (gf[G])
                E.appendChild(gf[G])
    }
    fF.prototype = new e9;
    fF.prototype.eY = function (Y) {
        var S = this.CF.index;
        if (Y.indexOf(S) != -1) {
            if (this.j.scrollIntoView)
                this.j.scrollIntoView({
                    block: "nearest"
                })
        }
        for (var G = 0; G < this.fH.length; G++)
            this.fH[G].eY(Y)
    }
        ;
    fF.IE = function (Y, S) {
        var h = S.getBoundingClientRect();
        return (Y.clientY - h.top) / h.height
    }
        ;
    fF.prototype.dI = function (Y) {
        Y.stopPropagation();
        var S = Y.target == this.$g ? "m" : Y.target == this.Ae ? "vm" : "l";
        Y.dataTransfer.setData("Text", JSON.stringify({
            I7: S,
            eS: this.CF.index
        }))
    }
        ;
    fF.prototype.tC = function (Y) {
        P.IM(Y);
        this.lB()
    }
        ;
    fF.prototype.ES = function (Y) {
        P.IM(Y);
        this.lB();
        var S = Y.dataTransfer.getData("Text")
            , h = this.parent.n3
            , q = fF.IE(Y, this.ni)
            , H = this.CF.index;
        if (q > .8) {
            var I = !0
                , E = h.root.TZ(H);
            while (E.parent != null) {
                var d = E.parent
                    , B = d.children;
                if (B.indexOf(E) != 0)
                    I = !1;
                E = E.parent
            }
            if (I) {
                H = 0;
                q = 1
            }
        }
        if (S == "") {
            P.Dg(Y, this, this.parent.r7.indexOf(h), H + (q > .5 ? 0 : 1))
        } else if (S != "--panel") {
            var S = JSON.parse(S)
                , n = S.I7;
            if (n == "l")
                this.gf({
                    X: M.Tr,
                    source: S.eS,
                    target: H,
                    HR: q
                });
            else if (n == "m" || n == "vm")
                this.gf({
                    X: n == "m" ? M.zx : M.Vk,
                    src: S.eS,
                    b3: H,
                    lW: Y.altKey
                });
            else
                fF.jU(Y, S, this)
        }
    }
        ;
    fF.jU = function (Y, S, h, q) {
        var H = S.I7
            , I = h.CF.index
            , E = S.eS;
        if (H == "s" || H == "sm")
            h.gf({
                X: M.vb,
                src: E,
                b3: I,
                Gp: S.Gp,
                lW: Y.altKey
            });
        if (H == "f" || H == "fm")
            h.gf({
                X: M.fA,
                src: E,
                b3: I,
                Gp: S.Gp,
                Rf: q == null ? 0 : q,
                lW: Y.altKey
            })
    }
        ;
    fF.prototype.Zt = function (Y) {
        P.IM(Y);
        var S = fF.IE(Y, this.ni);
        this.lB();
        var h = S > .5 ? "-bottom" : "-top";
        if (this.CF.$.i4() && .5 < S && S < .8)
            h = "";
        this.ni.style["border" + h] = "3px solid rgba(0,0,0,0.5)";
        this.ni.style.margin = h == "" ? "-3px 0 -3px 0" : h == "-top" ? "-3px 0 0 0" : "0 0 -3px 0"
    }
        ;
    fF.prototype.lB = function (Y) {
        this.ni.style.border = "none";
        this.ni.style.margin = "0"
    }
        ;
    fF.xU = -1;
    fF._o = !1;
    fF.GQ = function (Y) {
        fF._o = !1;
        document.body.removeEventListener("mouseup", fF.GQ)
    }
        ;
    fF.prototype.ah0 = function (Y) {
        if (Y.button != 0)
            return;
        if (Y.type == "mousedown") {
            fF._o = !0;
            document.body.addEventListener("mouseup", fF.GQ, !1)
        }
        if (Y.type == "mouseover" && (!fF._o || fF.xU == this.CF.index))
            return;
        P.IM(Y);
        this.gf({
            X: M.OU,
            $: this.CF.index
        });
        fF.xU = this.CF.index
    }
        ;
    fF.prototype.aia = function (Y) {
        P.IM(Y);
        this.gf({
            X: M.dA,
            $: this.CF.index
        })
    }
        ;
    fF.prototype.acS = function (Y) {
        this.gf({
            X: M.bE,
            $: this.CF.index
        })
    }
        ;
    fF.prototype.ahP = function (Y) {
        this.gf({
            X: M.sa,
            $: this.CF.index
        })
    }
        ;
    fF.qz = 0;
    fF.prototype.abP = function (Y) {
        var S = fF.qz;
        fF.qz = Date.now();
        if (Date.now() - S > 300)
            return;
        Y.preventDefault();
        Y.stopPropagation();
        this.ni.setAttribute("draggable", "false");
        var h = new bV.vH(this.Yr, this.Hq.bind(this))
    }
        ;
    fF.prototype.Hq = function (Y) {
        this.gf({
            X: M.vT,
            $: this.CF.index,
            name: Y
        })
    }
        ;
    fF.prototype.a8f = function (Y) {
        this.gf({
            X: M.fI,
            $: this.CF.index
        })
    }
        ;
    fF.prototype.aio = function (Y) {
        if (this.ld(Y, Y.target, this.wF(Y)))
            return;
        var S = Y.sourceCapabilities;
        if (S)
            S = S.firesTouchEvents;
        if (Y.button != 2 && S != !0)
            return;
        var h = this.wF(Y);
        console.log(h);
        if (h != 3 && Y.currentTarget == this.afH)
            h = 4;
        if (Y.target == this.afl)
            h = 5;
        var q = new _("rclick", !0);
        q.data = {
            $: this.CF.index,
            wF: h,
            VZ: P.WW(Y, document.body)
        };
        this.B(q)
    }
        ;
    fF.prototype.wF = function (Y) {
        var S = Y.target
            , h = S.parentNode;
        return h == this.Ae ? 2 : h == this.$g ? 1 : h == this.Hw ? 0 : h == this.PC ? 3 : -1
    }
        ;
    fF.prototype.ab8 = function (Y) {
        var S = Y.target, g;
        if (S == this.lA || S == this.Qa || S == this.Zr || S == this.SU || S.tagName && S.tagName.toLowerCase() == "input")
            return;
        var h = this.wF(Y)
            , q = this.parent.n3
            , H = this.CF.index
            , I = q.t[H];
        if (S == this.zq) {
            this.gf({
                X: M.Be,
                $: H,
                aq: [[!1, !1, !1, !1, !1], [0, 1, 2, 3, 31]]
            });
            return
        }
        if (Y.button == 0 && Y.detail == 2) {
            if (S == this.Yr)
                return;
            var E = new _(P.E.A, !0)
                , d = new _(P.E.P, !0)
                , B = new _(P.E.$_, !0);
            if (h == 0 && I.add.SoCo) {
                var n = t.W.cd(I.add.SoCo.Clr.v);
                d.data = {
                    X: P.U.V5,
                    Fh: "colorpicker",
                    oA: n.h << 16 | n.l << 8 | n.O,
                    HM: function (C) {
                        var T = t.W.Da({
                            O: C & 255,
                            l: C >>> 8 & 255,
                            h: C >> 16 & 255
                        });
                        T = {
                            classID: "null",
                            Clr: {
                                t: "Objc",
                                v: T
                            }
                        };
                        var A = new _(P.E.A, !0);
                        A.F = U.GC;
                        A.data = {
                            X: M.mb,
                            An: [H],
                            C8: !0,
                            G: {
                                zH: 1,
                                yW: T
                            }
                        };
                        this.B(A)
                    }
                        .bind(this),
                    dj: !0
                }
            } else if (h == 0 && (dD.get(I.add) || I.add.SoCo || I.add.GdFl || I.add.PtFl))
                d.data = {
                    X: P.U.EG,
                    Fh: bV.Ej.$a
                };
            else if (h != 0 && h != -1)
                d.data = {
                    X: P.U.EG,
                    Fh: bV.Ej.$a
                };
            else if (h == 0 && I.add.SoLd)
                B.data = {
                    f0: "placedLayerEditContents",
                    Jz: {
                        classID: "placedLayerEditContents"
                    }
                };
            else if (h == 0 && I.add.TySh) {
                E.F = U.bk;
                E.data = {
                    X: "editCurr",
                    Pq: H
                }
            } else
                d.data = {
                    X: P.U.V5,
                    Fh: "layerstyle",
                    $: H
                };
            this.B(B.data ? B : d.data ? d : E);
            return
        }
        if (this.ld(Y, S, h))
            return;
        if (Y.button != 0)
            return;
        if (h == 1 || h == 3) {
            var z = h == 3 ? I.$l(q).r : I.Qn();
            g = z.Qb ? q.z.L5.join("") == "111" ? 1 : 2 : 0
        }
        var p = {
            X: M.QJ,
            $: H,
            md: h
        };
        this.gf(p);
        if (Y.altKey) {
            if (h == 1 || h == 3) {
                var E = new _(P.E.A, !0);
                E.F = U.nf;
                E.data = {
                    X: "mskView",
                    G: g != 0 ? 0 : Y.shiftKey ? 1 : 2
                };
                this.B(E)
            } else {
                this.gf({
                    X: M.JA,
                    $: H
                })
            }
            return
        }
    }
        ;
    fF.prototype.ld = function (Y, S, h) {
        if ((Y.ctrlKey || Y.metaKey) && (h == 0 || h == 1 || h == 2)) {
            var q = 0;
            if (Y.shiftKey)
                q++;
            if (Y.altKey)
                q += 2;
            var H = new _(P.E.A, !0);
            H.F = U.n5;
            H.data = {
                X: "fromlayer",
                Qg: [this.CF.index, h, q]
            };
            this.B(H);
            return !0
        }
        return !1
    }
        ;
    fF.prototype.gf = function (Y) {
        var S = new _(P.E.A, !0);
        S.data = Y;
        S.F = U.GC;
        this.B(S)
    }
        ;
    a4.MG = function (Y, S, h, q, H, I, E) {
        e9.call(this);
        this.afT = S;
        this.hX = h;
        this.index = I;
        this.j = P.w("div", "styleitem");
        this.ni = P.w("div", "head");
        this.ahc = null;
        if (S == "f") {
            var d = this.ahc = P.w("div", "headR");
            d.textContent = "\u2699";
            this.ni.appendChild(d)
        }
        this.u_ = P.w("div", "eye gsicon");
        this.Yr = P.w("div", "label");
        this.j.appendChild(this.ni);
        this.ni.appendChild(this.u_);
        if (E) {
            this.$g = E;
            this.ni.appendChild(this.$g);
            this.ni.setAttribute("style", "height: " + (E.firstChild.height / P.M() + 10) + "px")
        }
        this.Yr.innerHTML = Y;
        this.j.setAttribute("style", "margin-left: " + (24 + q * 16 + H * 22) + "px");
        this.ni.appendChild(this.Yr);
        this.u_.addEventListener("click", this.a9r.bind(this), !1);
        var B = this.j;
        B.setAttribute("draggable", "true");
        B.addEventListener("dragstart", this.dI.bind(this), !1);
        if (!0) {
            B.addEventListener("drop", this.ES.bind(this), !1);
            B.addEventListener("dragover", this.Zt.bind(this), !1);
            B.addEventListener("dragenter", P.IM, !1);
            B.addEventListener("dragleave", this.tC.bind(this), !1)
        }
        this.j.addEventListener("click", this.mi.bind(this), !1)
    }
        ;
    a4.MG.prototype = new e9;
    a4.MG.prototype.dI = function (Y) {
        Y.stopPropagation();
        Y.dataTransfer.setData("Text", JSON.stringify({
            I7: this.afT,
            eS: this.parent.CF.index,
            Gp: this.index
        }))
    }
        ;
    a4.MG.prototype.tC = function (Y) {
        P.IM(Y);
        this.lB()
    }
        ;
    a4.MG.prototype.ES = function (Y) {
        P.IM(Y);
        this.lB();
        var S = Y.dataTransfer.getData("Text");
        if (S == "")
            return;
        var S = JSON.parse(S);
        fF.jU(Y, S, this.parent, this.index + (fF.IE(Y, this.ni) > .5 ? 0 : 1))
    }
        ;
    a4.MG.prototype.Zt = function (Y) {
        P.IM(Y);
        var S = fF.IE(Y, this.ni) > .5;
        this.lB();
        var h = "border-" + (S ? "bottom" : "top");
        this.ni.style[h] = "0.2em solid rgba(0,0,0,0.5)"
    }
        ;
    a4.MG.prototype.lB = function (Y) {
        this.ni.style.border = "none"
    }
        ;
    a4.MG.prototype.yR = function (Y) {
        var S = 15;
        if (1 < P.M() && P.M() < 1.5)
            S = S / P.M();
        this.u_.setAttribute("style", "background-size: " + S + "px " + S + "px;");
        this.u_.style.opacity = Y ? 1 : .2
    }
        ;
    a4.MG.prototype.mi = function (Y) {
        if (Y.target == this.u_)
            return;
        if (Y.detail != 1 && this.hX != null) {
            var S = this.parent.CF.index
                , h = new _(P.E.P, !0);
            if (this.hX.indexOf("afw_") == 0) {
                var q = this.hX.slice(4)
                    , H = L[q] || io.Cf[q]
                    , I = Y.target == this.ahc;
                if (!I && !H)
                    return;
                h.data = cU.Cw.hi(I ? "blendOptions" : q, {
                    $: S,
                    index: this.index
                })
            } else
                h.data = {
                    X: P.U.V5,
                    Fh: this.hX,
                    $: S,
                    index: this.index
                };
            this.B(h)
        }
    }
        ;
    a4.MG.prototype.a9r = function (Y) {
        var S = {
            fm: M.uT,
            f: M.M_,
            sm: M.gy,
            s: M.N3
        }[this.afT];
        this.parent.gf({
            X: S,
            $: this.parent.CF.index,
            index: this.index
        })
    }
        ;
    function aN() {
        bV.call(this, "Guide Guy", !1, null, bV.Ej.a44);
        this.Tp = null;
        this.SP = [];
        var Y = P.w("div", "form padded");
        this.Pg.appendChild(Y);
        Y.setAttribute("style", "width:200px");
        this.Pg.appendChild(Y);
        var S = P.w("canvas")
            , h = S.getContext("2d");
        S.width = S.height = 160;
        var q = [32, 0, 16, 160, 0, 32, 160, 16, 0, 112, 160, 16]
            , H = "Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(",")
            , I = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
        for (var G = 0; G < 10; G++) {
            h.clearRect(0, 0, 160, 160);
            h.setTransform(1, 0, 0, 1, 80, 80);
            h.rotate((G & 3) * Math.PI / 2);
            h.translate(-80, -80);
            h.fillStyle = "rgba(0,0,0,0.3)";
            if (G < 4) {
                for (var E = 0; E < 12; E += 4) {
                    h.fillStyle = E == 0 ? "#000000" : "rgba(0,0,0,0.3)";
                    h.fillRect(q[E], q[E + 1], q[E + 2], q[E + 3])
                }
            } else if (G < 6) {
                var d = 8 * 6;
                h.fillRect(0, 0, d, 160);
                h.fillRect(8 * 7, 0, d, 160);
                h.fillStyle = "#000000";
                h.fillRect(8 * 14, 0, d, 160)
            } else if (G < 8) {
                h.fillRect(0, 0, 16, 160);
                h.fillRect(160 - 16, 0, 16, 160);
                h.fillRect(32, 0, 160 - 64, 160);
                h.fillStyle = "#000000";
                h.fillRect(32, 80 - 8, 160 - 64, 8 * 1)
            } else {
                h.fillRect(0, 0, 8 * 7, 160);
                h.fillRect(8 * 13, 0, 160, 160);
                h.fillStyle = "#000000";
                h.fillRect(8 * 7, 80 - 8, 8 * 6, 8 * 1)
            }
            var B = "<img src=\"" + S.toDataURL() + "\" class=\"autoscale gsicon\" /> "
                , n = new ed(B, 0, 200, G == 4 || G == 5 ? null : "px", null, null, null, 4, H[G]);
            n.parent = this;
            n.k(P.E.L, this.a23, this);
            n.i(I[G]);
            n.f();
            this.SP.push(n);
            Y.appendChild(n.j)
        }
        var g = ["Add Guides", "Clear Guides"];
        this.Bw = [];
        for (var G = 0; G < g.length; G++) {
            var z = new gP(g[G], !0, null, !0);
            this.Bw.push(z);
            z.k("click", this.t_, this);
            Y.appendChild(z.j)
        }
        for (var G = 0; G < 6; G++) {
            h.setTransform(1, 0, 0, 1, 80, 80);
            h.rotate(Math.floor(G / 3) * Math.PI / 2);
            h.translate(-80, -80);
            h.clearRect(0, 0, 160, 160);
            h.fillStyle = "rgba(0,0,0,0.3)";
            h.fillRect(0, 0, 160, 160);
            h.clearRect(16, 16, 128, 128);
            h.fillStyle = "#000000";
            var p = G % 3;
            h.fillRect([0, 9, 18][p] * 8, 0, 16, 160);
            var B = "<img src=\"" + S.toDataURL() + "\" class=\"autoscale gsicon\" /> "
                , z = new gP(B, !1, null, !1);
            this.Bw.push(z);
            z.k("click", this.t_, this);
            Y.appendChild(z.j)
        }
    }
    aN.prototype = new bV("");
    aN.prototype.a23 = function (Y) {
        var S = this.SP
            , h = S.indexOf(Y.target)
            , q = Math.floor(h / 2)
            , H = h & 1
            , I = [];
        for (var G = 0; G < 4; G++)
            I.push(S[2 * G + H].u());
        var E = -1;
        if (q == 2 && I[2] != 0 && I[3] != 0 && I[4] != 0)
            E = 4;
        if (q == 3 && I[3] != 0 && I[2] != 0 && I[4] != 0)
            E = 4;
        if (q == 4 && I[4] != 0 && I[2] != 0 && I[3] != 0)
            E = 3;
        if (E != -1)
            S[2 * E + H].i(0)
    }
        ;
    aN.prototype.t_ = function (Y) {
        var S = this.Tp
            , h = this.Bw.indexOf(Y.target)
            , q = [[], []];
        if (S == null)
            return;
        var H = S.N ? S.N.rect : new W(0, 0, S.d, S.v)
            , I = H.d
            , E = H.v;
        if (h == 0) {
            var d = [[], []];
            for (var G = 0; G < this.SP.length; G++)
                d[G & 1].push(this.SP[G].u());
            q = [aN.jf(d[0], H.x, H.x + I), aN.jf(d[1], H.y, H.y + E)];
            U._C.Du(q, S.E9)
        } else if (h == 1) { } else {
            h -= 2;
            var B = Math.floor(h / 3)
                , q = [[], []];
            q[B].push([H.x, H.x + I / 2, H.x + I, H.y, H.y + E / 2, H.y + E][h]);
            U._C.Du(q, S.E9)
        }
        var n = function (g, z) {
            return g - z
        };
        q[0].sort(n);
        q[1].sort(n);
        this.afb(q)
    }
        ;
    aN.prototype.ahr = function (Y) {
        var S = this.abp.indexOf(Y.target)
    }
        ;
    aN.prototype.afb = function (Y) {
        var S = new _(P.E.A, !0);
        S.F = U.Vg;
        S.data = {
            X: "gids",
            QL: Y
        };
        this.B(S)
    }
        ;
    aN.jf = function (Y, S, h) {
        var q = []
            , H = Y[2]
            , I = Y[3]
            , E = Y[4]
            , d = 0;
        if (H == 0)
            d++;
        if (I == 0)
            d++;
        if (E == 0)
            d++;
        if (d > 1 && H == 0 && I == 0) {
            if (Y[0] != 0)
                q.push(S + Y[0]);
            if (Y[1] != 0)
                q.push(h - Y[1]);
            return q
        }
        var B = h - S - Y[0] - Y[1];
        if (H == 0) {
            if (E == 0) {
                H = Math.floor(B / I);
                E = (B - H * I) / (H - 1)
            } else {
                H = 1;
                while (I * H + E * (H - 1) + I + E <= B)
                    H++
            }
        } else if (H != 0 && I != 0) {
            if (H * I > B)
                H = Math.floor(B / I);
            E = (B - H * I) / (H - 1)
        }
        q.push(S + Y[0], h - Y[1]);
        var I = (B - E * (H - 1)) / H;
        for (var G = 1; G < H; G++) {
            if (E == 0)
                q.push(S + Y[0] + G * I);
            else
                q.push(S + Y[0] + G * I + (G - 1) * E, S + Y[0] + G * I + G * E)
        }
        return q
    }
        ;
    aN.prototype.kg = function (Y) {
        this.Tp = Y
    }
        ;
    function gj() {
        bV.call(this, [9, 2], !1, null, bV.Ej.$a);
        this.ak8 = null;
        this.ti = null;
        this.it = null;
        this.a1j = -1
    }
    gj.prototype = new bV("");
    gj.prototype.d2 = function () {
        this.C0 = P.w("div", "padded");
        this.C0.style.width = "22em";
        this.Pg.appendChild(this.C0);
        var Y = P.w("span", "fitem");
        this.C0.appendChild(Y);
        this.Lt = [new gP([0, 3]), new gP([12, 73]), new gP([12, 91, 0])];
        for (var G = 0; G < this.Lt.length; G++) {
            var S = this.Lt[G];
            S.k("click", this.amk, this);
            Y.appendChild(S.j)
        }
        this.C0.appendChild(P.w("hr"));
        this.Ry = new gj.r2;
        this.Ry.parent = this;
        this.s_ = new gj.vV;
        this.s_.parent = this;
        this.wd = new gj.Z5;
        this.wd.parent = this;
        this.aal = [this.Ry, this.s_, this.wd];
        this.C0.appendChild(this.Ry.j)
    }
        ;
    gj.prototype.amk = function (Y) {
        var G = this.Lt.indexOf(Y.currentTarget);
        this.nG(G);
        this.t1(G == 1 ? this.s_.g2 : -1)
    }
        ;
    gj.prototype.nG = function (Y) {
        for (var G = 0; G < 3; G++) {
            this.Lt[G].cQ();
            var S = this.aal[G].j;
            if (S.parentNode == this.C0 && G != Y)
                this.C0.removeChild(S);
            if (S.parentNode != this.C0 && G == Y)
                this.C0.appendChild(S)
        }
        this.Lt[Y].Fc()
    }
        ;
    gj.prototype.t1 = function (Y) {
        var S = this.ti.C[0]
            , h = this.ti.t[S]
            , q = Y + 1;
        if (Y == 1 && h.cI)
            return;
        var H = new _(P.E.A, !0);
        H.F = U.GC;
        if (Y != 1 && h.cI) {
            H.data = {
                X: M.QJ,
                $: S,
                md: 2
            };
            this.B(H)
        }
        H.data = {
            X: M.QJ,
            $: S,
            md: q
        };
        this.B(H)
    }
        ;
    gj.prototype.f = function () {
        bV.prototype.f.call(this);
        if (this.C0 == null)
            return;
        this.kg(this.ti);
        for (var G = 0; G < 3; G++) {
            this.Lt[G].f();
            this.aal[G].f()
        }
    }
        ;
    gj.prototype.yB = function () {
        if (!P.Ap(this.Pg))
            return;
        if (this.C0 == null) {
            this.d2();
            this.rJ(this.it, iD.Ie);
            this.kg(this.ak8);
            this.f()
        }
    }
        ;
    gj.prototype.kg = function (Y) {
        this.ak8 = Y;
        if (this.C0 == null)
            return;
        this.Ry.kg(Y);
        this.s_.kg(Y);
        this.wd.kg(Y);
        if (Y == null || Y.C.length == 0 || Y.t[Y.C[0]] == null) {
            P.xv(this.Pg, "disabled");
            this.ti = null;
            return
        } else
            P.zM(this.Pg, "disabled");
        var S = Y.C[0]
            , h = Y.t[S]
            , q = Y.L1()
            , H = q[0]
            , I = q[1];
        if (I.length != 0) {
            var E = H[I[0]]
                , d = E.add.vogk
                , B = !1;
            if (d)
                for (var G = 0; G < d.length; G++) {
                    var n = d[G].v
                        , g = n.keyShapeInvalidated;
                    if (g && g.v || n.keyOriginType == null)
                        continue;
                    B = !0;
                    S = E.Y8
                }
        }
        if (Y != this.ti || this.a1j != S) {
            this.ti = Y;
            this.a1j = S;
            if (B)
                this.nG(2);
            else if (h.wF < 1 && !h.cI)
                this.nG(0);
            else
                this.nG(1)
        }
        this.Lt[1].Rz(this.s_.g2 != -1);
        this.Lt[2].Rz(B)
    }
        ;
    gj.prototype.rJ = function (Y, S) {
        this.it = Y;
        if (this.Ry)
            this.Ry.rJ(Y, S)
    }
        ;
    gj.r2 = function () {
        e9.call(this);
        this.j = P.w("div", "form");
        this.a4n = new aG("Hello");
        this.j.appendChild(this.a4n.j);
        this.Gv = null;
        this.afD = null;
        this.ti = null;
        this.a3k = -1;
        this.a40 = null;
        this.Kn = new ca(!0);
        this.Kn.parent = this;
        this.Kn.k(P.E.L, this.ao4, this);
        this.qo = P.w("div", "marged hiline");
        this.qo.appendChild(this.Kn.j);
        this.et = new cg("GrFl", !0);
        this.et.parent = this;
        this.et.k(P.E.L, this.a4A, this);
        this.GK = P.w("div", "marged hiline");
        var Y = "Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");
        for (var G = 0; G < Y.length; G++) {
            var S = this.et.j4[Y[G]].j;
            this.GK.appendChild(S)
        }
        this.Ss = new cg("patternFill", !0);
        this.Ss.parent = this;
        this.Ss.k(P.E.L, this.akX, this);
        this.wX = P.w("div", "marged hiline");
        var Y = ["Ptrn", "Scl", "Algn", "phase"];
        for (var G = 0; G < Y.length; G++) {
            var S = this.Ss.j4[Y[G]].j;
            this.wX.appendChild(S)
        }
        this.p_ = {};
        for (var h in dD.names) {
            if (L[h] == null)
                continue;
            this.p_[h] = new L[h];
            this.p_[h].k(P.E.L, this.a38, this);
            this.p_[h].parent = this
        }
        var q = this.age = P.w("div", "marged hiline");
        this.ol = gj.rN(["W", "H", "X", "Y"], null, q, this.Xk, this);
        this.SC = new ey([12, 46], [[13, 1, 8], [13, 1, 10], [13, 1, 9], [12, 47]]);
        this.SC.k(P.E.L, this.Xk, this);
        q.appendChild(this.SC.j);
        this.PZ = new ca(!1);
        this.PZ.parent = this;
        this.PZ.k(P.E.L, this.Xk, this);
        q.appendChild(this.PZ.j)
    }
        ;
    gj.r2.prototype = new e9;
    gj.r2.prototype.f = function () {
        for (var Y in this.p_)
            this.p_[Y].f();
        this.et.f();
        this.Ss.f();
        this.SC.f();
        for (var G = 0; G < 4; G++)
            this.ol[G].f()
    }
        ;
    gj.r2.prototype.Xk = function (Y) {
        var S = gj.jd(this.ol)
            , h = M.lY(new W(S[2], S[3], S[0], S[1]))
            , q = this.SC.u()
            , H = {
                classID: "artboard",
                artboardRect: {
                    t: "Objc",
                    v: h
                },
                Clr: {
                    t: "Objc",
                    v: this.PZ.u()
                },
                artboardBackgroundType: {
                    t: "long",
                    v: q + 1
                }
            }
            , I = new _(P.E.A, !0);
        I.F = U.GC;
        I.data = {
            X: M.Pi,
            al: H
        };
        this.B(I)
    }
        ;
    gj.r2.prototype.ao4 = function (Y) {
        var S = this.ti
            , h = S.C[0];
        if (S.t[h].add.SoCo == null)
            return;
        var q = JSON.parse(JSON.stringify(S.t[h].add.SoCo));
        q.Clr.v = this.Kn.u();
        this.uu({
            zH: 1,
            yW: q
        })
    }
        ;
    gj.r2.prototype.a4A = function (Y) {
        var S = this.ti
            , h = S.C[0];
        if (S.t[h].add.GdFl == null)
            return;
        this.uu({
            zH: 2,
            yW: this.et.u()
        })
    }
        ;
    gj.r2.prototype.akX = function (Y) {
        this.uu({
            zH: 3,
            yW: this.Ss.u()
        })
    }
        ;
    gj.r2.prototype.uu = function (Y) {
        this.zW(U.GC, {
            X: M.mb,
            An: [this.ti.C[0]],
            C8: !0,
            G: Y
        })
    }
        ;
    gj.r2.prototype.a38 = function (Y) {
        this.zW(U.dk, {
            X: "edit_layer",
            G: this.afD.u()
        })
    }
        ;
    gj.r2.prototype.zW = function (Y, S) {
        var h = new _(P.E.A, !0);
        h.F = Y;
        h.data = S;
        this.B(h)
    }
        ;
    gj.r2.prototype.kg = function (Y) {
        var S = gx.get([0, 3])
            , h = null;
        this.ti = Y;
        if (Y && Y.t.length > 0 && Y.C.length != 0 && Y.t[Y.C[0]]) {
            var q = Y.t[Y.C[0]]
                , H = dD.get(q.add);
            if (H != null && this.p_[H] != null) {
                h = this.p_[H].j;
                this.afD = this.p_[H];
                this.p_[H].i(q.add[H]);
                if (Y.C[0] != this.a3k) {
                    var I = Y.Q3(Y.C[0] - 1);
                    this.a40 = t.Po(I)
                }
                this.p_[H].Ax(this.a40);
                S = gx.get(dD.names[H])
            }
            if (q.add.SoCo) {
                h = this.qo;
                this.Kn.i(q.add.SoCo.Clr.v);
                S = gx.get([6, 48, 0, 0])
            }
            if (q.add.GdFl) {
                h = this.GK;
                this.et.update(Y, q.add.GdFl);
                S = gx.get([6, 48, 0, 1])
            }
            if (q.add.PtFl) {
                h = this.wX;
                this.Ss.update(Y, q.add.PtFl);
                S = gx.get([6, 48, 0, 2])
            }
            if (q.add.artb) {
                var E = q.add.artb
                    , d = q.aG();
                h = this.age;
                this.SC.i(E.artboardBackgroundType.v - 1);
                if (E.Clr)
                    this.PZ.i(E.Clr.v);
                gj.VQ(this.ol, [d.d, d.v, d.x, d.y]);
                S = "Artboard"
            }
            this.a3k = Y.C[0]
        }
        if (h != this.Gv) {
            if (this.Gv)
                this.j.removeChild(this.Gv);
            if (h != null)
                this.j.appendChild(h);
            this.Gv = h
        }
        this.a4n.i(S)
    }
        ;
    gj.r2.prototype.rJ = function (Y, S) {
        this.et.rJ(Y, S);
        this.Ss.rJ(Y, S);
        for (var h in this.p_)
            this.p_[h].rJ(Y, S)
    }
        ;
    gj.vV = function () {
        e9.call(this);
        this.j = P.w("div", "form");
        this.ti = null;
        this.g2 = 0;
        var Y = P.w("span", "fitem");
        this.j.appendChild(Y);
        this.Lt = [new gP([6, 2]), new gP([6, 3]), new gP([6, 50])];
        for (var G = 0; G < this.Lt.length; G++) {
            var S = this.Lt[G];
            S.k("click", this.a8o, this);
            Y.appendChild(S.j)
        }
        this.ZV = new b7([12, 74], 0, 255);
        this.ZV.k(P.E.L, this.da, this);
        this.j.appendChild(this.ZV.j);
        this.k6 = new b7([7, 6], 0, 500, "px", 2, !0);
        this.k6.k(P.E.L, this.da, this);
        this.j.appendChild(this.k6.j)
    }
        ;
    gj.vV.prototype = new e9;
    gj.vV.prototype.da = function (Y) {
        var S = this.ZV.u()
            , h = this.k6.u()
            , q = new _(P.E.A, !0);
        q.F = U.GC;
        q.data = {
            X: M.rA,
            H2: this.ti.C[0],
            QX: {
                l6: this.g2,
                ZV: S,
                k6: h
            }
        };
        this.B(q)
    }
        ;
    gj.vV.prototype.f = function () {
        for (var G = 0; G < this.Lt.length; G++)
            this.Lt[G].f();
        this.ZV.f();
        this.k6.f()
    }
        ;
    gj.vV.prototype.kg = function (Y) {
        this.ti = Y;
        this.Om()
    }
        ;
    gj.vV.prototype.a8o = function (Y) {
        this.Om(this.Lt.indexOf(Y.currentTarget));
        this.parent.t1(this.g2)
    }
        ;
    gj.vV.prototype.Om = function (Y) {
        var S = this.ti
            , h = this.Lt;
        for (var G = 0; G < 3; G++) {
            var q = h[G];
            q.cQ();
            q.f4()
        }
        if (S == null || S.t.length == 0 || S.C.length == 0 || S.t[S.C[0]] == null)
            return;
        var H = -1
            , I = S.t[S.C[0]];
        if (I.ef() && I.$l(S).r != null) {
            h[2].tW();
            H = 2
        }
        if (I.add.vmsk) {
            h[1].tW();
            H = 1
        }
        if (I.Qn()) {
            h[0].tW();
            H = 0
        }
        if (Y != null)
            H = Y;
        else if (I.cI)
            H = 1;
        else if (I.wF == 3)
            H = 2;
        else if (I.wF == 1)
            H = 0;
        this.g2 = H;
        if (H == -1) {
            this.ZV.f4();
            this.k6.f4();
            return
        }
        var E = I.Ro(H);
        this.ZV.tW();
        this.k6.tW();
        this.ZV.i(E.ZV);
        this.k6.i(E.k6);
        h[H].Fc()
    }
        ;
    gj.Z5 = function () {
        e9.call(this);
        this.j = P.w("div", "form");
        this.Bi = 1;
        this.fZ = P.w("div");
        this.zQ = gj.rN(["W", "H", "X", "Y"], [12, 51], this.fZ, this.RO, this);
        this.DI = P.w("div");
        var Y = ["\u250F", "\u2513", "\u2517", "\u251B"];
        this.S4 = gj.rN(Y, [12, 91, 2], this.DI, this.RO, this)
    }
        ;
    gj.Z5.prototype = new e9;
    gj.Z5.prototype.f = function () {
        P.K3(this.zQ[0], this.zQ[1]);
        for (var G = 2; G < 5; G++) {
            this.zQ[G].f()
        }
        this.S4[4].f()
    }
        ;
    gj.rN = function (Y, S, h, q, H) {
        var I = P.w("div", "numlist");
        h.appendChild(I);
        var E = [];
        for (var G = 0; G < 4; G++) {
            var d = new ed(Y[G], 0, 0, null, 1, !1, !0);
            d.k(P.E.L, q, H);
            I.appendChild(d.j);
            E.push(d);
            if (G == 1 || G == 3)
                P.f$(I)
        }
        if (S) {
            E[4] = new e0(S);
            E[4].i(!0);
            h.appendChild(E[4].j)
        }
        return E
    }
        ;
    gj.VQ = function (Y, S) {
        for (var G = 0; G < 4; G++)
            Y[G].i(S[G])
    }
        ;
    gj.jd = function (Y) {
        var S = [];
        for (var G = 0; G < 4; G++)
            S[G] = Y[G].u();
        return S
    }
        ;
    gj.Z5.prototype.RO = function (Y) {
        var S = this.zQ.indexOf(Y.currentTarget)
            , h = this.S4.indexOf(Y.currentTarget)
            , q = [null, null, null, null]
            , H = [null, null, null, null];
        if (S != -1) {
            var I = gj.jd(this.zQ)
                , E = this.zQ[4].u();
            I[0] = Math.max(1, I[0]);
            I[1] = Math.max(1, I[1]);
            if (E && S == 0)
                I[1] = I[0] / this.Bi;
            if (E && S == 1)
                I[0] = I[1] * this.Bi;
            q[0] = I[2];
            q[1] = I[3];
            q[2] = q[0] + I[0];
            q[3] = q[1] + I[1]
        }
        if (h != -1) {
            var I = gj.jd(this.S4);
            H[h] = Math.max(0, I[h]);
            if (this.S4[4].u())
                for (var G = 0; G < 4; G++)
                    H[G] = H[h];
            var d = H[3];
            H[3] = H[2];
            H[2] = d
        }
        var B = new _(P.E.A, !0);
        B.F = U.GC;
        B.data = {
            X: M._5,
            MK: q,
            ao7: H
        };
        this.B(B)
    }
        ;
    gj.Z5.prototype.kg = function (Y) {
        if (Y == null)
            return;
        var S = this.fZ.parentNode != null
            , h = this.DI.parentNode != null
            , q = t.tx.Rc(Y)
            , H = q[0]
            , I = q[1];
        if (H) {
            if (!S)
                this.j.appendChild(this.fZ);
            this.Bi = (H[2] - H[0]) / (H[3] - H[1]);
            gj.VQ(this.zQ, [H[2] - H[0], H[3] - H[1], H[0], H[1]])
        } else if (S)
            this.j.removeChild(this.fZ);
        if (I) {
            if (!h)
                this.j.appendChild(this.DI);
            var E = I[2];
            I[2] = I[3];
            I[3] = E;
            gj.VQ(this.S4, I)
        } else if (h)
            this.j.removeChild(this.DI)
    }
        ;
    function gt(Y) {
        bV.call(this, Y.name, !0);
        this.n3 = Y;
        this.Q2 = null;
        this.pz = [];
        this.lp = !1;
        this.nU = {
            x: 0,
            y: 0,
            gk: !1
        };
        this.os = document.createElement("canvas");
        this.s6 = this.os.getContext("2d");
        this.Eh = document.createElement("canvas");
        this.Eq = this.Eh.getContext("2d");
        var S = 16
            , h = t.m(16 * 16 * 4);
        t.M0(h, S, S, 8);
        this.qJ = t.scale.u2(h, S, S);
        this.ajc = this.Kf.bind(this);
        this.qV = this.fn.bind(this);
        this.aeL = this.wR.bind(this);
        var q = this.Pg;
        P.aK(q, this.ajc);
        P.y2(q, this.qV);
        q.addEventListener("wheel", this.Sh.bind(this), !1);
        q.addEventListener("contextmenu", this.alN.bind(this), !1);
        var H = this.a4H.bind(this);
        q.addEventListener("gesturestart", H, !1);
        q.addEventListener("gesturechange", H, !1);
        q.addEventListener("gestureend", H, !1);
        this.Tm = 0;
        this.abg = "";
        this.pY = 4;
        P.qT(q)
    }
    gt.prototype = new bV;
    gt.prototype.a4H = function (Y) {
        if (Y.type == "gesturestart")
            this.xF = Y.scale;
        if (Y.type == "gesturechange") {
            var S = new _("mouse", !0);
            S.action = "scroll";
            S.sP = !0;
            this.Jp(Y, S);
            var h = (this.xF - Y.scale) / this.xF;
            S.Dh = new aV(0, 100 * h);
            this.xF = Y.scale;
            this.B(S)
        }
    }
        ;
    gt.prototype.eg = function () {
        if (this.n3.yw())
            return window.confirm(gx.get([22, 6, 3]) + " " + this.n3.name + ". " + gx.get([22, 6, 4]));
        return !0
    }
        ;
    gt.prototype.sS = function (Y) {
        Y.preventDefault()
    }
        ;
    gt.prototype.cm = function (Y) {
        var S = -1
            , h = this.pz;
        for (var G = 0; G < h.length; G++)
            if (h[G].pointerId == Y.pointerId)
                S = G;
        return S
    }
        ;
    gt.OC = function (Y) {
        var S = Y.pointerType
            , h = window.__kb;
        return S == "touch" && h.q(F.a7a)
    }
        ;
    gt.prototype.Kf = function (Y) {
        if (gt.OC(Y))
            return;
        var S = this.cm(Y);
        if (S != -1)
            this.pz[S] = Y;
        else
            this.pz.push(Y);
        if (this.pz.length == 1) {
            var h = Y.button != null && Y.button != 0 ? "rdown" : "down"
                , q = new _("mouse", !0);
            q.action = h;
            this.Jp(Y, q);
            this.B(q);
            P.r$(this.Pg, this.qV);
            P.y2(window, this.qV);
            P.cM(window, this.aeL)
        }
        if (this.pz.length == 2) {
            this.qN("multidown");
            this.lp = !0
        }
    }
        ;
    gt.prototype.fn = function (Y) {
        if (gt.OC(Y))
            return;
        var S = this.cm(Y);
        if (S != -1)
            this.pz[S] = Y;
        if (this.pz.length > 1) {
            this.qN("multimove")
        }
        if (this.lp)
            return;
        var h = new _("mouse", !0);
        h.action = "move";
        this.Jp(Y, h);
        this.B(h);
        if (this.Q2 && this.Q2.KT && !this.nU.gk)
            this.o3()
    }
        ;
    gt.prototype.wR = function (Y) {
        if (gt.OC(Y))
            return;
        var S = this.pz
            , h = this.cm(Y);
        S.splice(h, 1);
        if (S.length == 0) {
            var q = Y.button != null && Y.button > 0 ? "rup" : "up"
                , H = new _("mouse", !0);
            H.action = q;
            this.Jp(Y, H);
            this.B(H);
            P.r$(window, this.qV);
            P.pp(window, this.aeL);
            P.y2(this.Pg, this.qV);
            this.lp = !1
        }
    }
        ;
    gt.prototype.Sh = function (Y) {
        this.sS(Y);
        if (Y.deltaX == 0 && Y.deltaY == 0)
            return;
        var S = new _("mouse", !0);
        S.action = "scroll";
        S.sP = Y.ctrlKey;
        this.Jp(Y, S);
        this.B(S)
    }
        ;
    gt.prototype.alN = function (Y) {
        P.IM(Y);
        var S = Y.sourceCapabilities;
        if (S)
            S = S.firesTouchEvents;
        if (S) {
            var h = new _("mouse", !0);
            this.Jp(Y, h);
            h.action = "rdown";
            this.B(h);
            h.action = "rup";
            this.B(h)
        }
    }
        ;
    gt.prototype.qN = function (Y) {
        var S = this.pz
            , h = P.M()
            , q = [];
        for (var G = 0; G < S.length; G++) {
            var H = q[G] = P.WW(S[G], this.Pg);
            H.x *= h;
            H.y *= h
        }
        var I = new _("mouse", !0);
        I.action = Y;
        I.mK = q;
        this.B(I)
    }
        ;
    gt.prototype.Jp = function (Y, S, h) {
        var q = this.pz.length != 0;
        if (S.action != "up") {
            var H = P.M();
            if (h == null)
                h = P.WW(Y, this.Pg);
            this.nU = S.ZQ = {
                x: H * h.x,
                y: H * h.y,
                gk: q
            };
            var I = P.WW(Y, document.body);
            S.ZQ.q5 = I.x;
            S.ZQ.sZ = I.y
        } else
            this.nU = S.ZQ = {
                x: this.nU.x,
                y: this.nU.y,
                gk: q
            };
        S.ZQ.OF = .5;
        if (Y.pressure != null && Y.pressure != 0)
            S.ZQ.OF = Y.pressure;
        if (Y.pointerType == "mouse")
            S.ZQ.OF *= 2;
        if (Y.deltaX != null) {
            var E = Y.deltaMode == 0 ? 1 : 40;
            S.Dh = new aV(Y.deltaX * E, Y.deltaY * E)
        }
    }
        ;
    gt.prototype.rJ = function (Y, S) {
        
        this.Q2 = Y
    }
        ;
    gt.prototype.kg = function (Y) {
        this.yB();
        this.o3()
    }
        ;
    gt.prototype.hD = function (Y, S) {
        if (Y <= 0 || S <= 0)
            return;
        this.rz = Y;
        this.UR = S;
        var h = this.n3
            , q = P.M();
        h.z.Eq.d = Math.floor(Y * q);
        h.z.Eq.v = Math.floor(S * q);
        P.ve(this.Eh, Y, S);
        P.ve(this.os, Y, S);
        P.ve(Q.ji(), Y, S);
        if (h.z.S == 0)
            h.z.S = U.Ka.Gg(h.d, h.v, Y * q, S * q);
        this.o3()
    }
        ;
    gt.prototype.yB = function () {
        var Y = this.Pg.firstChild;
        if (!Q.nc && Y == Q.ji() || Q.nc && Y == this.Eh)
            this.Pg.removeChild(Y);
        var S = Q.nc ? Q.ji() : this.Eh;
        if (!P.Ap(S))
            this.Pg.appendChild(S)
    }
        ;
    gt.prototype.o3 = function () {
        if (Q.nc != this.pY) {
            this.Tm = 0;
            this.abg = ""
        }
        this.pY = Q.nc;
        if (this.Q2 == null)
            return;
        if (Q.nc)
            this.aee();
        else
            this.Nj();
        var Y = this.n3;
        this.Tm = Y.z.S;
        this.abg = JSON.stringify(Y.z.L5)
    }
        ;
    gt.prototype.aee = function () {
        if (Q.nc && gt.a1E == null)
            gt.a1E = new gt.F$(!1);
        if (Q.nc && gt.a49 == null)
            gt.a49 = [new gt.F$(!0, 2), new gt.F$(!0, 8), new gt.F$(!0, 32), new gt.F$(!0, 128)];
        var Y = this.n3, n, p = 0;
        if (Y.Hb == null)
            return;
        var S = Y.z
            , h = S.Eq.d
            , q = S.Eq.v
            , H = Q.Jd;
        this.Eq.clearRect(0, 0, h, q);
        var I = this.bv(Y);
        if (S.Ja == null)
            S.Ja = new Q.ho(h, q);
        if (I)
            S.Ja.set(this.Eh);
        else {
            Q.Mx(S.Ja);
            Q.Ys(1)
        }
        var E = S.XV(0, 0)
            , d = new d5;
        d.scale(h, q);
        d.concat(S.x5(!0));
        d.scale(1 / Y.d, 1 / Y.v);
        var B = [d.R, d.O, 0, d.Pb, d.RH, 0, d.TR, d.Un, 1];
        if (gt.adf == null)
            gt.adf = new Float32Array(4 * 1024);
        var g = [0, 0, 0, 0]
            , z = gt.adf;
        if (Y.add.artd) {
            z.fill(0);
            g = gt.mN(Y);
            var C = Y.d
                , T = Y.v
                , a = 0;
            for (var G = 0; G < Y.t.length; G++) {
                var A = Y.t[G]
                    , i = A.add.artb;
                if (i == null || !A.yj())
                    continue;
                var e = A.aG();
                z[p] = e.x / C;
                z[p + 1] = e.y / T;
                z[p + 2] = e.d / C;
                z[p + 3] = e.v / T;
                p += 4;
                if (p == z.length)
                    break
            }
            if (p > 2 * 4)
                a++;
            if (p > 8 * 4)
                a++;
            if (p > 32 * 4)
                a++;
            n = gt.a49[a];
            z = new Float32Array(z.buffer, 0, [2, 8, 32, 128][a] * 4)
        } else
            n = gt.a1E;
        Q.Bo(h, q);
        Q.Ys(0);
        Q.Bo(h, q);
        n.Bh();
        n.z6(S.Ja.$Q, Y.Hb.$Q, new Float32Array(B), new Float32Array([h / 8, q / 8, E.x / h, E.y / q]), Y.d, Y.v, 1 / Y.z.S, h, q, new Float32Array(g), z, new Float32Array(t.eC.N6(t.eC.e6(S.L5))));
        H.drawArrays(H.TRIANGLES, 0, 6)
    }
        ;
    gt.mN = function (Y) {
        var S = Y.add.artd.canvasColor;
        if (S == null)
            return [0, 0, 0, 0];
        return gt.alR(S)
    }
        ;
    gt.alR = function (Y) {
        var S = t.W.cd(Y.v)
            , h = [S.h / 255, S.l / 255, S.O / 255, 1];
        for (var G = 0; G < 4; G++)
            h[G] = Math.min(1, h[G]);
        return h
    }
        ;
    gt.dC = function (Y, S) {
        var h = Y[2] * 255;
        if (Q.nc)
            h = S ? 0 : Math.max(1, h);
        return "rgba(" + Y[0] * 255 + "," + Y[1] * 255 + "," + h + "," + Y[3] + ")"
    }
        ;
    gt.Az = function (Y) {
        if (Q.nc)
            for (var G = 0; G < Y.length; G += 4) {
                if (Y[G + 2] == 0)
                    Y[G + 2] = 3
            }
    }
        ;
    gt.prototype.Nj = function () {
        var Y = this.n3;
        if (Y.buffer == null)
            return;
        var S = Y.z
            , h = S.Eq
            , q = h.d
            , H = h.v
            , I = new W(0, 0, Y.d, Y.v);
        this.s6.clearRect(0, 0, q, H);
        this.Eq.clearRect(0, 0, q, H);
        var E = S.x5(!0)
            , d = E.clone();
        d.fb();
        if (Y.add.artd == null) {
            this.Eq.save();
            var B = d.I_(new aV(0, 0));
            d.translate(-B.x, -B.y);
            this.Eq.translate(Math.round(B.x), Math.round(B.y));
            this.Eq.fillStyle = this.qJ;
            this.KU(t.a.yP(I), d, this.Eq);
            this.Eq.fill();
            this.Eq.restore()
        } else {
            this.Eq.fillStyle = gt.dC(gt.mN(Y));
            this.Eq.fillRect(0, 0, q, H);
            this.Eq.save();
            this.Eq.setTransform(d.R, d.O, d.Pb, d.RH, d.TR, d.Un);
            var n = Y.root.children;
            for (var G = 0; G < n.length; G++) {
                var g = n[G].$;
                if (g.add.artb == null || !g.yj())
                    continue;
                var z = g.aG()
                    , p = g.ps();
                if (p != 0)
                    continue;
                this.Eq.fillStyle = "white";
                this.Eq.fillRect(z.x, z.y, z.d, z.v)
            }
            this.Eq.restore()
        }
        if (S.zd.length != h.e()) {
            S.zd = t.m(h.e());
            S.bF = t.m(h.e() * 4)
        }
        S.bF.fill(0);
        t.scale.a0Q(Y.buffer, I, E, S.bF, h);
        if (S.L5[0] + S.L5[1] + S.L5[2] != 3)
            t.eC.iU(S.bF, S.bF, t.eC.e6(S.L5));
        this.s6.putImageData(new ImageData(new Uint8ClampedArray(S.bF.buffer), h.d, h.v), 0, 0);
        this.Eq.drawImage(this.os, 0, 0);
        this.Eq.getImageData(0, 0, 1, 1);
        this.bv(Y)
    }
        ;
    gt.prototype.bv = function (Y) {
        var S = Y.z
            , h = S.L5[0] + S.L5[1] + S.L5[2]
            , q = !1
            , H = [];
        for (var G = 0; G < Y.C.length; G++) {
            var I = Y.t[Y.C[G]];
            if (I == null)
                continue;
            var E = I.wF;
            if (E != 1 && E != 3)
                continue;
            var d = E == 1 ? I.Qn() : I.$l(Y).r;
            if (d.Qb)
                H.push(d)
        }
        for (var G = 0; G < Y.h3.length; G++)
            if (Y.h3[G].Qb)
                H.push(Y.h3[G]);
        for (var G = 0; G < H.length; G++) {
            var d = H[G];
            this.Qv(d, S, H.length == 1 && h == 0 ? 2 : 1, d.color, d.oA);
            q = !0
        }
        var B = this.Q2;
        q = this.afa(Y, this.Eq, S) || q;
        if (Y.N && B.Yc && B.nF.E_) {
            this.Qv(Y.N, S, 0, 0, null);
            q = !0
        }
        return q
    }
        ;
    gt.prototype.Qv = function (Y, S, h, q, H) {
        var I = 0, p, C;
        if (H)
            I = Math.round(H.O) << 16 | Math.round(H.l) << 8 | Math.round(H.h);
        var E = S.x5(!0)
            , d = S.Eq
            , B = new W(0, 0, S.n3.d, S.n3.v);
        if (S.zd.length != d.e()) {
            S.zd = t.m(d.e());
            S.bF = t.m(d.e() * 4)
        }
        S.zd.fill(q);
        S.bF.fill(0);
        var n = Y.channel
            , g = Y.rect;
        t.scale.J(n, g, E, S.zd, d);
        if (h == 0)
            t.N.a1i(S.zd, S.bF, d, d);
        else
            t.N.a93(S.zd, S.bF, d, d, h, I);
        gt.Az(S.bF);
        var z = new ImageData(new Uint8ClampedArray(S.bF.buffer), d.d, d.v);
        this.s6.putImageData(z, 0, 0);
        this.Eq.save();
        if (h == 0) {
            p = d.clone();
            p.vo(-1, -1);
            C = new d5
        } else {
            p = new W(0, 0, B.d, B.v);
            C = E.clone();
            C.fb()
        }
        this.KU(t.a.yP(p), C, this.Eq);
        this.Eq.clip();
        this.Eq.drawImage(this.os, 0, 0);
        this.Eq.restore()
    }
        ;
    gt.prototype.afa = function (Y, S, h) {
        var q = Y.K.ds != null || Y.K.cv != null || Y.K.Yi != null || Y.K.nS.length != 0 || Y.K.NS.length != 0
            , H = this.Q2
            , I = H.nF
            , E = gU.b2[H.Pz]
            , d = Math.round(12 * P.M())
            , B = d / Y.z.S
            , n = h.x5(!0);
        n.fb();
        S.save();
        S.setTransform(n.R, n.O, n.Pb, n.RH, n.TR, n.Un);
        if (Y.add.artd) {
            var g = gt.mN(Y)[0];
            g = g < .5 ? g + .5 : g - .5;
            g = "" + Math.round(g * 255).toString(16);
            while (g.length < 2)
                g = "0" + g;
            S.fillStyle = "#" + g + g + g;
            S.font = B + "px sans-serif";
            for (var G = 0; G < Y.t.length; G++) {
                var z = Y.t[G];
                if (z.add.artb == null || !z.yj())
                    continue;
                var p = z.aG();
                S.fillText(z.getName(), p.x, p.y - 6 / h.S);
                q = !0
            }
        }
        var C = gt.dC([.1, .5, 1, 1])
            , T = gt.dC([1, 1, 1, 1]);
        if (H.Yc && I._b) {
            S.fillStyle = S.strokeStyle = C;
            S.lineWidth = 1.5 / h.S;
            var A = Y.L1()
                , i = A[0]
                , e = A[1];
            for (var a = 0; a < e.length; a++) {
                var z = i[e[a]]
                    , Z = z.add.vmsk
                    , O = Z.b
                    , c = t.a.df(O);
                this.KU(c, null, S);
                S.stroke();
                q = !0;
                var s = 3 * P.M() / h.S
                    , x = O.length - 3;
                for (var G = 0; G < Z.YF.length; G++) {
                    var u = t.Y.B8(O, Z.YF[G]);
                    if (u == null)
                        continue;
                    var y = u.x
                        , j = u.y;
                    S.beginPath();
                    var v = G == 0;
                    if (Z.mg)
                        v = !v;
                    if (v) {
                        S.moveTo(y - s, j - s);
                        S.lineTo(y + s, j + s);
                        S.moveTo(y - s, j + s);
                        S.lineTo(y + s, j - s);
                        S.stroke()
                    } else {
                        S.arc(y, j, s * 1, 0, 2 * Math.PI);
                        S.fill()
                    }
                    q = !0
                }
                if (Y.C.length != 1)
                    continue;
                var X = -1;
                for (var G = 0; G < O.length; G++) {
                    if (O[G].type > 5)
                        continue;
                    if (O[G].type == 0 || O[G].type == 3) {
                        if (O[G].Mg != -1)
                            X++;
                        continue
                    }
                    if (Z.C.indexOf(X) != -1) {
                        var y = O[G].D.x
                            , j = O[G].D.y;
                        S.fillRect(y - s * .8, j - s * .8, 2 * s * .8, 2 * s * .8)
                    }
                    if (Z.xf.indexOf(G) != -1) {
                        var N = [O[G].D];
                        S.beginPath();
                        S.moveTo(O[G].c4.x, O[G].c4.y);
                        S.lineTo(O[G].D.x, O[G].D.y);
                        S.lineTo(O[G].TA.x, O[G].TA.y);
                        S.stroke();
                        if (!O[G].D.ma(O[G].c4))
                            N.push(O[G].c4);
                        if (!O[G].D.ma(O[G].TA))
                            N.push(O[G].TA);
                        for (var V = 0; V < N.length; V++) {
                            var u = N[V]
                                , y = u.x
                                , j = u.y;
                            if (V == 0 && (O[G].type == 2 || O[G].type == 5))
                                S.fillRect(y - 1.2 * s, j - 1.2 * s, 2.4 * s, 2.4 * s);
                            else {
                                S.beginPath();
                                S.arc(y, j, s * 1.2, 0, 2 * Math.PI);
                                S.fill();
                                if (V != 0)
                                    S.fillStyle = T;
                                S.beginPath();
                                S.arc(y, j, s * .8, 0, 2 * Math.PI);
                                S.fill();
                                S.fillStyle = C
                            }
                        }
                    }
                    q = !0
                }
            }
        }
        S.fillStyle = S.strokeStyle = gt.dC([0, 0, 0, 1], !0);
        S.lineWidth = 1 / h.S;
        var $ = new d5(1, 0, 0, 1, .5 / h.S, .5 / h.S);
        if (Y.K.ds) {
            this.KU(Y.K.ds, null, S);
            S.fill()
        }
        if (Y.K.cv) {
            this.KU(Y.K.cv, $, S);
            S.stroke()
        }
        for (var w in Y.K.sH)
            if (Y.K.sH[w].cv) {
                this.KU(Y.K.sH[w].cv, null, S);
                S.stroke();
                q = !0
            }
        S.beginPath();
        var s = (4 * P.M() + .5) / h.S
            , m = Y.K.iF;
        for (var G = 0; G < m.length; G += 2) {
            q = !0;
            var y = m[G]
                , j = m[G + 1];
            S.rect(y - s, j - s, 2 * s, 2 * s)
        }
        S.stroke();
        var m = Y.K.ab6;
        S.beginPath();
        var s = 4 * P.M() / h.S;
        for (var G = 0; G < m.length; G += 2) {
            q = !0;
            var y = m[G]
                , j = m[G + 1];
            S.moveTo(y + s, j);
            S.arc(y, j, s, 0, 2 * Math.PI)
        }
        S.fill();
        var m = Y.K.VO;
        S.fillStyle = gt.dC([1, 1, 1, 1]);
        S.beginPath();
        var s = 6 * P.M() / h.S;
        for (var G = 0; G < m.length; G += 2) {
            q = !0;
            var y = m[G]
                , j = m[G + 1];
            S.moveTo(y + s, j);
            S.arc(y, j, s, 0, 2 * Math.PI)
        }
        S.fill();
        var s = 4 * P.M() / h.S;
        for (var G = 0; G < m.length; G += 2) {
            q = !0;
            var y = m[G]
                , j = m[G + 1];
            S.fillStyle = gt.dC(Y.K.tZ.indexOf(G >>> 1) != -1 ? [0, .6, 1, 1] : [.7, .7, .7, 1]);
            S.beginPath();
            S.moveTo(y + s, j);
            S.arc(y, j, s, 0, 2 * Math.PI);
            S.fill()
        }
        if (Y.K.nS.length != 0) {
            for (var G = 0; G < Y.K.nS.length; G++) {
                var l = Y.K.nS[G]
                    , b = l[1];
                S.putImageData(new ImageData(new Uint8ClampedArray(l[0].buffer), b.d, b.v), b.x, b.y)
            }
        }
        var K = .5 / h.S;
        S.lineWidth = 1 / h.S;
        if (Y.K.mC) {
            q = !0;
            var J = Y.K.mC
                , R = J.k4
                , c = {
                    Z: [],
                    H: []
                };
            for (var G = 0; G < J.HJ.length; G++)
                t.a.concat(c, t.a.yP(J.HJ[G]));
            c.H = c.H.concat(R);
            for (var G = 0; G < R.length; G += 4) {
                c.Z.push("M", "L")
            }
            for (var G = 0; G < c.H.length; G++) {
                c.H[G] += K
            }
            S.strokeStyle = gt.dC([.9, .2, .2, 1]);
            this.KU(c, null, S);
            S.stroke();
            var r = P.M()
                , f = 2 / h.S;
            S.font = B * .9 + "px sans-serif";
            for (var G = 0; G < R.length; G += 4) {
                var y = R[G]
                    , j = R[G + 1]
                    , gf = R[G + 2]
                    , aa = R[G + 3]
                    , aA = Math.sqrt((aa - j) * (aa - j) + (gf - y) * (gf - y));
                aA = t.n1.qZ(aA, Y.PW, H, j == aa ? Y.d : Y.v);
                var e5 = new aV((y + gf) / 2, (j + aa) / 2);
                S.fillStyle = gt.dC([.9, .2, .2, 1]);
                var fk = S.measureText(aA).width;
                S.fillRect(e5.x - fk / 2 - f * r, e5.y - 3.5 * f * r, fk + 2 * f * r, 7 * f * r);
                S.fillStyle = gt.dC([1, 1, 1, 1]);
                S.save();
                S.translate(e5.x - fk / 2, e5.y + 2 * f * r);
                S.scale(.1, .1);
                S.font = B * 9 + "px sans-serif";
                S.fillText(aA, 0, 0);
                S.restore()
            }
        }
        if (H.Yc) {
            if (I.Hf) {
                var o = t.n1.BP(I.kL, Y, I.cE)
                    , eY = o;
                if (I.cE == 4)
                    eY *= Y.v / Y.d;
                this.M0(Y, S, o, eY, 1, I.Jv);
                q = !0
            }
            if (I.MI && Y.z.S > 7) {
                this.M0(Y, S, 1, 1, .5, I.Jv);
                q = !0
            }
            if (I.E9) {
                var du = Math.max(Y.z.Eq.d, Y.z.Eq.v) / Y.z.S;
                du = Math.max(Math.max(Y.d, Y.v) * 2, du);
                S.beginPath();
                S.strokeStyle = gt.dC([0, 1, 1, 1]);
                for (var G = 0; G < Y.E9[0].length; G++) {
                    var dV = Math.round(Y.E9[0][G]) + K;
                    S.moveTo(dV, -du);
                    S.lineTo(dV, du)
                }
                for (var G = 0; G < Y.E9[1].length; G++) {
                    var hy = Math.round(Y.E9[1][G]) + K;
                    S.moveTo(-du, hy);
                    S.lineTo(du, hy)
                }
                S.stroke()
            }
            var bq = Y.r1;
            if (I.r1 && bq.length != 0) {
                S.font = B * .8 + "px sans-serif";
                var i5 = []
                    , bY = [];
                for (var G = 0; G < bq.length; G++) {
                    var ds = U.ng.QS(bq, G);
                    i5.push(ds);
                    if (Y.MJ.indexOf(G) != -1)
                        bY.push(ds)
                }
                i5.reverse();
                var hV = Date.now();
                i5 = t.rect.gj([0, 0, Y.d, Y.v], i5);
                for (var V = 0; V < 2; V++)
                    for (var G = 0; G < i5.length; G++) {
                        var gF = i5[G]
                            , X = gF[4]
                            , co = X != null ? bq[X] : null;
                        if (co && V == 0 || co == null && V == 1)
                            continue;
                        var y = Math.round(gF[0])
                            , j = Math.round(gF[1])
                            , gf = Math.round(gF[2])
                            , aa = Math.round(gF[3]);
                        S.strokeStyle = S.fillStyle = gt.dC(co ? [0, .7, .7, 1] : [.8, .8, .8, 1]);
                        S.strokeRect(y + K, j + K, gf - y, aa - j);
                        var c_ = G + 1
                            , a5 = S.measureText(c_)
                            , fk = a5.width;
                        S.fillRect(y, j, fk + B / 2, B);
                        S.fillStyle = gt.dC([1, 1, 1, 1]);
                        S.fillText(c_, y + B / 4, j + B * .8)
                    }
                var f = 2 / Y.z.S
                    , gb = 2 * f;
                for (var G = 0; G < bY.length; G++) {
                    var gF = bY[G]
                        , y = Math.round(gF[0])
                        , j = Math.round(gF[1])
                        , gf = Math.round(gF[2])
                        , aa = Math.round(gF[3]);
                    S.strokeStyle = S.fillStyle = gt.dC([0, .7, .7, 1]);
                    S.strokeRect(y + K, j + K, gf - y, aa - j);
                    var iC = [y, j, gf, j, gf, aa, y, aa];
                    for (var cC = 0; cC < iC.length; cC += 2) {
                        var dV = iC[cC]
                            , hy = iC[cC + 1]
                            , aB = iC[cC + 2 & 7]
                            , cd = iC[cC + 3 & 7];
                        S.fillRect(dV - f, hy - f, gb, gb);
                        S.fillRect(Math.round((dV + aB) / 2) - f, Math.round((hy + cd) / 2) - f, gb, gb)
                    }
                }
                q = !0
            }
        }
        S.strokeStyle = gt.dC([1, 0, 0, 1]);
        if (Y.K.Yi) {
            this.KU(Y.K.Yi, $, S);
            S.stroke()
        }
        S.restore();
        if (H.KT) {
            if (Y.z.HW == null || Y.z.HW.width != Y.z.Eq.d || Y.z.Le.height != Y.z.Eq.v) {
                Y.z.HW = S.createImageData(Y.z.Eq.d, t.n1.uR);
                Y.z.Le = S.createImageData(t.n1.uR, Y.z.Eq.v)
            }
            var E = gU.b2[H.Pz]
                , h = Y.z
                , dZ = h.S * Y.d / 2
                , en = h.S * Y.v / 2
                , cD = [1, Y.PW, Y.PW / 2.54, Y.PW / 25.4, Y.d / 100][I.W_]
                , hP = h.S
                , ea = h.T.clone()
                , fp = h.UZ;
            h.S *= cD;
            h.T.x += dZ * cD - dZ;
            h.T.y += en * cD - en;
            h.UZ = 0;
            t.n1.aeH(h, E["--text-color"], E["--bg-input"], Math.floor(this.nU.x), Math.floor(this.nU.y));
            h.S = hP;
            h.T = ea;
            h.UZ = fp;
            var bC = eS.uI(h.S, gt.dC([1, 1, 1, 1]));
            gt.Az(Y.z.Le.data);
            gt.Az(Y.z.HW.data);
            S.putImageData(Y.z.Le, 0, 0);
            S.putImageData(Y.z.HW, 0, 0);
            S.putImageData(bC, 0, Y.z.Eq.v - bC.height)
        }
        if (Y.K.NS.length != 0) {
            for (var G = 0; G < Y.K.NS.length; G++) {
                var l = Y.K.NS[G]
                    , b = l[1];
                S.putImageData(new ImageData(new Uint8ClampedArray(l[0].buffer), b.d, b.v), b.x, b.y)
            }
        }
        return q || H.KT || Y.E9[0].length + Y.E9[1].length > 0
    }
        ;
    gt.prototype.M0 = function (Y, S, h, q, H, I) {
        while (h * Y.z.S < 4) {
            h *= 2;
            q *= 2
        }
        var E = Y.d
            , d = Y.v
            , B = .5 / Y.z.S;
        S.strokeStyle = gt.dC([.5, .5, .5, H], !0);
        S.save();
        S.rect(0, 0, E, d);
        S.clip();
        S.beginPath();
        for (var n = 0; n <= E; n += h) {
            S.moveTo(n + B, 0);
            S.lineTo(n + B, d)
        }
        if (I == 0) {
            for (var g = 0; g <= d; g += q) {
                S.moveTo(0, g + B);
                S.lineTo(E, g + B)
            }
        } else {
            q *= Math.sqrt(4 / 3);
            var z = q * Math.floor(E / q)
                , p = E * (q / (2 * h));
            for (var g = -z; g <= d + z; g += q) {
                S.moveTo(0, g);
                S.lineTo(E, g - p);
                S.moveTo(0, g);
                S.lineTo(E, g + p)
            }
        }
        S.stroke();
        S.restore()
    }
        ;
    gt.prototype.KU = function (Y, S, h) {
        h.beginPath();
        var q = t.a.clone(Y);
        if (S)
            t.a.J(q.H, S, q.H);
        Typr.U.pathToContext({
            cmds: q.Z,
            crds: q.H
        }, h)
    }
        ;
    gt.F$ = function (Y, S) {
        Q.nJ.call(this);
        this.a7d = Y;
        var h = "\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t" + (Y ? "uniform vec4 bgClr;  uniform vec4 ars[" + S + "]; " : "") + "\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t" + Q.S$.Ot + "\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = ctrn*texture2D(target, sCoord); " + (Y ? "\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<" + S + "; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=vec4(1.0,1.0,1.0,1.0); }\t\t\t\t\t}\t\t\t\t" : "\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = in01(sCoord) ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t") + "\t\t\t\tvec4 outc = in01(sCoord) ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}"
            , q = "\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
        this.Hk(h, q)
    }
        ;
    gt.F$.prototype = new Q.nJ;
    gt.F$.prototype.z6 = function (Y, S, h, q, H, I, E, d, B, n, g, z) {
        this.ev("tmat gsize source target contSizeZoom cnvSize bgClr ars ctrn".split(" "));
        var p = Q.Jd
            , C = this.va;
        p.uniformMatrix3fv(C.tmat, !1, h);
        p.uniform4fv(C.gsize, q);
        p.uniform3f(C.contSizeZoom, H, I, E);
        p.uniform2f(C.cnvSize, d, B);
        p.uniformMatrix4fv(C.ctrn, !1, z);
        if (this.a7d) {
            p.uniform4fv(C.ars, g);
            p.uniform4fv(C.bgClr, n)
        }
        p.uniform1i(C.source, 0);
        p.uniform1i(C.target, 1);
        p.activeTexture(p.TEXTURE0);
        p.bindTexture(p.TEXTURE_2D, Y);
        p.activeTexture(p.TEXTURE1);
        p.bindTexture(p.TEXTURE_2D, S);
        p.activeTexture(p.TEXTURE0)
    }
        ;
    function g8() {
        bV.call(this, [9, 7], !1, null, bV.Ej.a4o);
        this.Pg.setAttribute("style", "min-width:240px;");
        this.ti = null;
        this.nV = -1;
        this.abD = [];
        this.mo = P.w("div", "scrollable");
        this.mo.style.height = "160px";
        this.Pg.appendChild(this.mo);
        this.xu = P.w("div", "lpfoot");
        this.Pg.appendChild(this.xu);
        this.Bw = [];
        var Y = ["reload", "lrs/newlayer", "lrs/bin"]
            , S = [[5, 10], [5, 3], [5, 4]];
        for (var G = 0; G < Y.length; G++) {
            var h = new gP("<img src=\"" + PIMG[Y[G]] + "\" class=\"gsicon\" />", !1, S[G]);
            h.k("click", this.a9$, this);
            this.xu.appendChild(h.j);
            this.Bw.push(h)
        }
    }
    g8.prototype = new bV("");
    g8.prototype.gf = function (Y) {
        var S = new _(P.E.A, !0);
        S.data = Y;
        S.F = U.dN;
        this.B(S)
    }
        ;
    g8.prototype.a9$ = function (Y) {
        var G = this.Bw.indexOf(Y.currentTarget);
        if (G != 1)
            if (this.nV == -1)
                return;
        this.gf({
            X: ["updLC", "addLC", "delLC"][G],
            Y8: this.nV
        });
        if (G == 2)
            this.nV = -1
    }
        ;
    g8.prototype.f = function () {
        bV.prototype.f.call(this);
        for (var G = 0; G < this.Bw.length; G++)
            this.Bw[G].f()
    }
        ;
    g8.prototype.kg = function (Y) {
        if (Y == null)
            P.xv(this.Pg, "disabled");
        else
            P.zM(this.Pg, "disabled");
        this.ti = Y;
        P.v3(this.mo);
        if (Y == null)
            return;
        var S = Y.bL.lastAppliedComp ? Y.bL.lastAppliedComp.v : 0
            , h = Y.bL.list.v.slice(0);
        h.unshift({
            v: {
                Nm: {
                    v: "Last Document State"
                },
                compID: {
                    v: 0
                },
                capturedInfo: {
                    v: 0
                }
            }
        });
        for (var G = 0; G < h.length; G++) {
            var q = h[G].v
                , H = new gQ(q.Nm.v, q.compID.v, q.capturedInfo.v, S, this.nV);
            H.k("activate", this.qd, this);
            H.parent = this;
            this.mo.appendChild(H.j);
            this.abD.push(H)
        }
    }
        ;
    g8.prototype.qd = function (Y) {
        this.nV = Y.currentTarget.Y8;
        this.kg(this.ti)
    }
        ;
    function gQ(Y, G, S, h, q) {
        e9.call(this);
        this.Y8 = G;
        this.j = P.w("div", "head listitem" + (G == q ? " selected" : ""));
        var H = G == h
            , I = new gP(H ? "\u2713" : "\u2014");
        if (H)
            I.Fc();
        this.j.appendChild(I.j);
        I.k("click", this.Ua, this);
        var E = this.h0 = P.w("span");
        E.textContent = Y;
        this.j.appendChild(E);
        this.Bw = [];
        if (G != 0) {
            this.j.addEventListener("mouseup", this.qd.bind(this), !1);
            this.akv = P.w("span", "headR");
            this.j.appendChild(this.akv);
            var d = ["lrs/eye", "pos", "lrs/fx"]
                , B = ["Visibility", "Position", "Appearance"];
            for (var n = 0; n < d.length; n++) {
                var g = new gP("<img src=\"" + PIMG[d[n]] + "\" class=\"autoscale gsicon\" />", !1, B[n]);
                if ((S >> n & 1) == 0)
                    g.j.setAttribute("style", "opacity:0.3");
                g.k("click", this.a74, this);
                this.akv.appendChild(g.j);
                this.Bw.push(g)
            }
        }
    }
    gQ.prototype = new e9;
    gQ.prototype.qd = function (Y) {
        if (Y.target != this.h0 && Y.target != this.j)
            return;
        if (Y.detail == 1)
            this.B(new _("activate", !1));
        else {
            var S = new bV.vH(this.h0, this.Hq.bind(this))
        }
    }
        ;
    gQ.prototype.a74 = function (Y) {
        var G = this.Bw.indexOf(Y.currentTarget);
        this.gf({
            X: "editLC",
            a09: G,
            Y8: this.Y8
        })
    }
        ;
    gQ.prototype.Hq = function (Y) {
        this.gf({
            X: "editLC",
            Tk: Y,
            Y8: this.Y8
        })
    }
        ;
    gQ.prototype.Ua = function (Y) {
        this.gf({
            X: "setLC",
            Y8: this.Y8
        })
    }
        ;
    gQ.prototype.gf = function (Y) {
        var S = new _(P.E.A, !0);
        S.data = Y;
        S.F = U.dN;
        this.B(S)
    }
        ;
    function h6() {
        bV.call(this, [9, 11], !1, null, bV.Ej.am_);
        var Y = P.w("div", "padded");
        Y.setAttribute("style", "min-width:15em");
        this.Pg.appendChild(Y);
        var S = P.w("div");
        Y.appendChild(S);
        S.setAttribute("style", "cursor:grab;");
        this.yD = P.w("canvas");
        this.yD.width = 100;
        S.appendChild(this.yD);
        P.qT(this.yD);
        P.aK(this.yD, this.Cg.bind(this));
        this.Nq = new c1(null, 0, U.Ka.ua.length - 1);
        this.Nq.k(P.E.L, this.a9y, this);
        Y.appendChild(this.Nq.j);
        this.amP = this.z2.bind(this);
        this.ahE = this.Va.bind(this);
        this.Tp = null
    }
    h6.prototype = new bV("");
    h6.prototype.hD = function (Y, S) {
        this.o3()
    }
        ;
    h6.prototype.a9y = function (Y) {
        var S = this.Nq.u()
            , h = this.Tp
            , q = U.Ka.ua[U.Ka.ua.length - 1 - S]
            , H = new _(P.E.A, !0);
        H.F = U.nf;
        H.data = {
            X: "zoom",
            S: q
        };
        this.B(H)
    }
        ;
    h6.prototype.Cg = function (Y) {
        if (this.Tp == null)
            return;
        P.y2(window, this.amP);
        P.cM(window, this.ahE)
    }
        ;
    h6.prototype.z2 = function (Y) {
        var S = P.WW(Y, this.yD)
            , h = this.Tp
            , q = this.yD.width
            , H = this.yD.height
            , I = (S.x * P.M() - q / 2) / q
            , E = (S.y * P.M() - H / 2) / H
            , d = P.M() * h.z.S
            , B = Math.round(-h.z.S * h.d * I)
            , n = Math.round(-h.z.S * h.v * E);
        U.ik.QP(h, B, n)
    }
        ;
    h6.prototype.Va = function (Y) {
        P.r$(window, this.amP);
        P.pp(window, this.ahE)
    }
        ;
    h6.prototype.kg = function (Y) {
        if (Y == null && this.Tp != null)
            this.yD.width = 100;
        this.Tp = Y;
        this.o3()
    }
        ;
    h6.prototype.o3 = function () {
        var Y = this.Tp
            , q = 0;
        if (Y == null || Y.z.S == 0)
            return;
        var S = Y.z;
        if (!P.Ap(this.Pg))
            return;
        this.Nq.i(U.Ka.ua.length - 1 - U.Ka.Or(S.S));
        var h = 300 * P.M()
            , H = [Y.Q3(), new W(0, 0, Y.d, Y.v)];
        t.zU(H);
        while (Math.max(H[q + 1].d, H[q + 1].v) > h) {
            q += 2
        }
        var I = H[q]
            , E = H[q + 1]
            , d = E.d
            , B = E.v
            , n = this.yD;
        n.width = d;
        n.height = B;
        P.fs(n, d, B);
        var g = n.getContext("2d")
            , z = g.createImageData(d, B);
        t.vx(I, z.data);
        g.putImageData(z, 0, 0);
        var p = S.Eq
            , C = S.vl(p.x, p.y)
            , T = S.vl(p.x + p.d, p.y + p.v)
            , A = d / Y.d;
        g.scale(A, A);
        g.lineWidth = 4 / A;
        g.strokeStyle = "#ff0000";
        g.strokeRect(C.x, C.y, T.x - C.x, T.y - C.y)
    }
        ;
    h6.prototype.rJ = function (Y, S) { }
        ;
    h6.prototype.yB = function () {
        this.o3()
    }
        ;
    function hs(Y, S) {
        if (Y == null) {
            bV.call(this);
            return
        }
        bV.call(this, Y.name, !1, Y.icon, S);
        var h = this.alE = P.w("iframe", "padded");
        h.setAttribute("src", Y.url);
        h.setAttribute("style", "width:" + Y.width + "px; height:" + Y.height + "px");
        this.Pg.appendChild(h)
    }
    hs.prototype = new bV("");
    hs.prototype.NT = function (Y) {
        if (P.Ap(this.alE))
            this.alE.contentWindow.postMessage(Y, "*")
    }
        ;
    function c0() {
        bV.call(this, [9, 12], !1, null, bV.Ej.iL);
        this.it = null;
        this.dv = new hl(U.e8);
        this.dv.parent = this;
        var Y = P.w("div", "padded");
        Y.setAttribute("style", "width:20em");
        this.Pg.appendChild(Y);
        Y.appendChild(this.dv.vd)
    }
    c0.prototype = new bV("");
    c0.prototype.yB = function () {
        this.dv.dB(this.it.SH)
    }
        ;
    c0.prototype.rJ = function (Y, S) {
        this.it = Y;
        if (S == iD.Ie || S == iD.iL)
            this.dv.dB(Y.SH)
    }
        ;
    c0.prototype.hD = function (Y, S) {
        this.dv.a8c(this.it.Ez)
    }
        ;
    c0.prototype.f = function () {
        bV.prototype.f.call(this);
        this.dv.f()
    }
        ;
    function fs() {
        e9.call(this);
        this.F = 0;
        this.tp = null;
        this.j = P.w("div", "toolconf");
        this.dv = null;
        this.SF = null;
        this.body = new P.w("div", "body")
    }
    fs.prototype = new e9;
    fs.prototype.aa4 = function (Y, S) {
        this.F = Y;
        this.tp = S;
        if (U.Rs[Y]) {
            var h = this.dv = new hl(Y);
            this.j.appendChild(h.j);
            h.parent = this
        } else {
            this.SF = P.w("div");
            this.j.appendChild(this.SF)
        }
        this.j.appendChild(this.body);
        this.f()
    }
        ;
    fs.prototype.Rn = function (Y, S) { }
        ;
    fs.prototype.a8 = function (Y) { }
        ;
    fs.prototype.rJ = function (Y, S) {
        if (S == iD.Ie || S == iD.iL)
            if (this.dv)
                this.dv.dB(Y.SH)
    }
        ;
    fs.prototype.OZ = function (Y) { }
        ;
    fs.prototype.f = function () {
        if (this.dv)
            this.dv.f();
        else
            this.SF.innerHTML = P.NM(this.tp, null, "toolicon");
        this.Rk()
    }
        ;
    fs.prototype.Rk = function () { }
        ;
    function f$(Y) {
        fs.call(this);
        if (Y == null)
            return;
        this.it = null;
        this.SP = {};
        for (var G = 0; G < Y.length; G++) {
            var S = Y[G]
                , h = null;
            if (S == "brush") {
                h = new gR
            }
            if (S == "bmode") {
                h = new ey([12, 19, 0], iS.hc, !1, iS.sm)
            }
            if (S == "bmode0") {
                h = new ey([12, 19, 0], iS.hc.slice(23), !1)
            }
            if (S == "emode") {
                h = new ey([12, 36], [[9, 3], [10, 38]])
            }
            if (S == "opacity") {
                h = new ed([12, 0], 0, 100, "%");
                h.i(100)
            }
            if (S == "flow") {
                h = new ed([12, 63], 0, 100, "%");
                h.i(100)
            }
            if (S == "smth") {
                h = new ed([19, 3, 0], 0, 100, "%");
                h.i(0)
            }
            if (S == "samp") {
                h = new ey("Sampling", ["Brush Center", "Start of Stroke", "Background Color"])
            }
            if (S == "wconf") {
                h = new fB;
                h.i([40, !0, !0])
            }
            if (S == "strn") {
                h = new ed([12, 64], 1, 100, "%");
                h.i(50)
            }
            if (S == "smode") {
                h = new ey([12, 36], [[19, 7, 0], [19, 7, 1]]);
                h.i(1)
            }
            if (S == "pdetail") {
                h = new e0([12, 65]);
                h.Fc()
            }
            if (S == "rng") {
                h = new ey([12, 12], [[19, 6, 0], [19, 6, 1], [19, 6, 2]]);
                h.i(1)
            }
            if (S == "expo") {
                h = new ed([12, 5], 0, 100, "%");
                h.i(50)
            }
            if (S == "algnd") {
                h = new e0([12, 75]);
                h.i(!1)
            }
            if (S == "sfrom") {
                h = new ey([12, 70], [[17, 1], [17, 3], [17, 0]])
            }
            if (S == "alt") {
                h = new bg(null, ["Alt"], !0, ["Select Source"])
            }
            if (S == "qsmode") {
                h = new ec([12, 36], ["<img src=\"" + PIMG["set/front"] + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG.zoomIn + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG.zoomOut + "\" class=\"autoscale gsicon\" />"], [[5, 3], [18, 1], [18, 2]])
            }
            if (S == "redge") {
                h = new gP([7, 11], !1, null, !0)
            }
            if (S == "setop") {
                h = new bo
            }
            if (S == "patch") {
                h = new ec(null, [[12, 70], [12, 71]])
            }
            if (S == "prsr") {
                h = new bg(null, ["<img src=\"" + PIMG.prsO + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG.prsS + "\" class=\"autoscale gsicon\" />"], !0, [[15, 9, 0], [15, 9, 1]]);
                h.i([!1, !0])
            }
            h.parent = this;
            this.body.appendChild(h.j);
            this.SP[S] = h;
            if (S == "brush")
                h.k(P.E.L, this.oS, this);
            else if (S == "redge")
                h.k("click", this.UW, this);
            else
                h.k(P.E.L, this.PL, this)
        }
    }
    f$.prototype = new fs;
    f$.prototype.Rn = function (Y, S) {
        Y = Y[1];
        var h = this.SP;
        if (Y.Md)
            h.bmode.i(iS.Qu.indexOf(Y.Md.v.BlnM));
        if (Y.Opct)
            h.opacity.i(Y.Opct.v);
        if (Y.flow)
            h.flow.i(Y.flow.v);
        if (Y.Brsh)
            h.brush.i(Y, S.Ly.r0, S.Ly.SR);
        if (Y.FrgC) {
            var q = t.W.cd(Y.FrgC.v)
                , H = new _(P.E.P, !0);
            H.data = {
                X: P.U.PD,
                go: iD.oo,
                Wg: 0,
                G: q.h << 16 | q.l << 8 | q.O
            };
            this.B(H)
        }
        this.oS();
        this.PL()
    }
        ;
    f$.prototype.a8 = function () {
        if (U.Rs[this.F] == null)
            return null;
        var Y = this.SP
            , S = JSON.parse(JSON.stringify(Y.brush.u()));
        S.classID = U.Rs[this.F][1][0];
        if (Y.bmode)
            S.Md = {
                t: "enum",
                v: {
                    BlnM: iS.Qu[Y.bmode.u()]
                }
            };
        if (Y.opacity)
            S.Opct = {
                t: "long",
                v: Y.opacity.u()
            };
        if (Y.flow)
            S.flow = {
                t: "long",
                v: Y.flow.u()
            };
        var h = this.it.jy;
        h = {
            h: h >>> 16,
            l: h >>> 8 & 255,
            O: h & 255
        };
        S.FrgC = {
            t: "Objc",
            v: t.W.Da(h)
        };
        return ["Brush Preset " + S.Brsh.v.Dmtr.v.val, S]
    }
        ;
    f$.prototype.UW = function () {
        var Y = new _(P.E.P, !0);
        Y.data = {
            X: P.U.V5,
            Fh: "redge"
        };
        this.B(Y)
    }
        ;
    f$.prototype.Rk = function () {
        for (var Y in this.SP)
            this.SP[Y].f()
    }
        ;
    f$.prototype.OZ = function (Y) {
        if (Y.aiv == "showBrushOpts") {
            this.SP.brush.c7(Y.VZ.x, Y.VZ.y)
        }
        for (var S in Y.aw) {
            var h = Y.aw[S];
            if (S != "qsmode")
                h *= 100;
            if (this.SP[S])
                this.SP[S].i(h)
        }
    }
        ;
    f$.prototype.rJ = function (Y, S) {
        fs.prototype.rJ.call(this, Y, S);
        this.it = Y;
        var h = this.SP.brush;
        if (h == null)
            return;
        if (S == iD.Ie || S == iD.e8)
            h.dB(Y.Ly);
        if (S == iD.Zl) {
            h.i(Y.Ly.jh, Y.Ly.r0, Y.Ly.SR)
        }
    }
        ;
    f$.prototype.oS = function () {
        var Y = new _(P.E.P, !0);
        Y.data = {
            X: P.U.PD,
            go: iD.Zl,
            t7: this.SP.brush.u()
        };
        this.B(Y)
    }
        ;
    f$.prototype.PL = function () {
        var Y = new _(P.E.P, !0);
        Y.data = {
            X: P.U.lP,
            F: this.F
        };
        for (var S in this.SP) {
            if (S == "brush" || S == "redge")
                continue;
            var h = this.SP[S].u();
            if (["opacity", "flow", "smth", "strn", "expo"].indexOf(S) != -1)
                Y.data[S] = h / 100;
            else if (S == "bmode")
                Y.data.bmode = iS.LQ[h];
            else if (S == "bmode0")
                Y.data.bmode = iS.LQ[23 + h];
            else
                Y.data[S] = h
        }
        this.B(Y)
    }
        ;
    function iW(Y) {
        fs.call(this);
        if (Y)
            return;
        this.data = {
            X: P.U.lP,
            wn: "front",
            Cm: 0,
            ZB: [16, !0, !0],
            U6: {
                qa: 0,
                x: 1,
                y: 1
            }
        };
        this.xp = new bo;
        this.body.appendChild(this.xp.j);
        this.xp.k(P.E.L, this.u3, this);
        this.kt = new ed([7, 6], 0, 100, " px");
        this.kt.parent = this;
        this.kt.i(0);
        this.body.appendChild(this.kt.j);
        this.kt.k(P.E.L, this.u3, this);
        this.hz = new gP([7, 11], !1, null, !0);
        this.body.appendChild(this.hz.j);
        this.hz.k("click", this.UW, this)
    }
    iW.prototype = new fs;
    iW.prototype.OZ = function (Y) {
        if (Y.wn != null)
            this.xp.i(Y.wn);
        else if (Y.mY) {
            var S = this.data;
            S.wn = Y.mY.wn;
            this.xp.i(S.wn);
            S.Cm = Y.mY.Cm;
            this.kt.i(S.Cm);
            S.ZB = Y.mY.ZB;
            if (this.y4)
                this.y4.i(S.ZB)
        } else {
            var h = iW.wj;
            if (h == null) {
                var q = aM.a9K(!0);
                h = iW.wj = new gV(q.items, q.NG)
            }
            h.f();
            h.parent = this;
            h.update(Y.Tw, Y.Q2);
            var H = new _(P.E.P, !0);
            H.data = {
                X: P.U.pa,
                FN: h,
                x: Y.lG.q5 + 2,
                y: Y.lG.sZ + 1
            };
            this.B(H)
        }
    }
        ;
    iW.prototype.Rk = function () {
        this.kt.f();
        this.xp.f();
        this.hz.f()
    }
        ;
    iW.prototype.UW = function () {
        var Y = new _(P.E.P, !0);
        Y.data = {
            X: P.U.V5,
            Fh: "redge"
        };
        this.B(Y)
    }
        ;
    iW.prototype.u3 = function () {
        var Y = new _(P.E.P, !0);
        this.data.F = this.F;
        this.data.wn = this.xp.u();
        this.data.Cm = this.kt.u();
        Y.data = this.data;
        this.B(Y)
    }
        ;
    function gy() {
        f$.call(this, ["brush", "strn"])
    }
    gy.prototype = new f$;
    function dR() {
        f$.call(this, "brush bmode opacity flow smth prsr".split(" "))
    }
    dR.prototype = new f$;
    function ez() {
        f$.call(this, ["brush", "bmode0", "samp", "wconf"])
    }
    ez.prototype = new f$;
    function dx() {
        f$.call(this, ["brush"])
    }
    dx.prototype = new f$;
    function bz() {
        f$.call(this, ["brush", "bmode", "opacity", "smth", "prsr"])
    }
    bz.prototype = new f$;
    function fd() {
        f$.call(this, ["brush", "rng", "expo"])
    }
    fd.prototype = new f$;
    function iz() {
        f$.call(this, "brush bmode opacity algnd sfrom alt".split(" "))
    }
    iz.prototype = new f$;
    function ff(Y) {
        fs.call(this);
        if (Y == null)
            return;
        var S = P.w("span", "fitem");
        this.body.appendChild(S);
        var h = [[17, 0], [17, 1], [11, 12, 0], [17, 2]];
        this.Lt = [];
        for (var G = 0; G < h.length; G++) {
            var q = new gP(h[G], !1, null, !0);
            this.Lt.push(q);
            q.k("click", this.akw, this);
            if (!Y || G == 1)
                S.appendChild(q.j)
        }
        this.U6 = new e4;
        this.U6.k(P.E.L, this.UX, this);
        if (!Y)
            this.body.appendChild(this.U6.j);
        this.KA = new e0("Delete Cropped Pixels");
        this.KA.k(P.E.L, this.UX, this);
        if (!Y)
            this.body.appendChild(this.KA.j);
        this.wx = new ir;
        this.wx.k("click", this.Bl, this)
    }
    ff.prototype = new fs;
    ff.prototype.Rk = function () {
        this.wx.f();
        for (var G = 0; G < this.Lt.length; G++)
            this.Lt[G].f();
        this.U6.f();
        this.KA.f()
    }
        ;
    ff.prototype.OZ = function (Y) {
        var S = this.wx.j;
        if (Y.iI)
            this.body.appendChild(S);
        else if (this.body.contains(S))
            this.body.removeChild(S);
        if (Y.U6)
            this.U6.i(Y.U6)
    }
        ;
    ff.prototype.Bl = function (Y) {
        var S = {
            X: P.U.lP,
            F: this.F,
            AT: this.wx.u() ? "commit" : "cancel"
        }
            , h = new _(P.E.P, !0);
        h.data = S;
        this.B(h)
    }
        ;
    ff.prototype.akw = function (Y) {
        Y.target.j.blur();
        var S = {
            X: P.U.lP,
            F: this.F,
            AT: "cropby",
            a69: this.Lt.indexOf(Y.target)
        }
            , h = new _(P.E.P, !0);
        h.data = S;
        this.B(h)
    }
        ;
    ff.prototype.UX = function (Y) {
        var S = {
            X: P.U.lP,
            F: this.F,
            AT: "config",
            CJ: {
                Zb: this.U6.u()
            }
        };
        if (Y.target == this.KA)
            S.CJ.Yf = this.KA.u();
        var h = new _(P.E.P, !0);
        h.data = S;
        this.B(h)
    }
        ;
    function dH() {
        ff.call(this, !1)
    }
    dH.prototype = new ff;
    function e1() {
        ff.call(this, !0)
    }
    e1.prototype = new ff;
    function aQ() {
        f$.call(this, ["brush", "rng", "expo"])
    }
    aQ.prototype = new f$;
    function cw() {
        f$.call(this, "brush emode opacity flow smth prsr".split(" "))
    }
    cw.prototype = new f$;
    function g6() {
        f$.call(this, ["brush", "samp", "wconf"])
    }
    g6.prototype = new f$;
    function he() {
        iW.call(this);
        this.U6 = new e4;
        this.U6.k(P.E.L, this.sr, this);
        this.body.appendChild(this.U6.j)
    }
    he.prototype = new iW(!0);
    he.prototype.sr = function (Y) {
        this.data.U6 = this.U6.u();
        this.u3()
    }
        ;
    he.prototype.Rk = function () {
        iW.prototype.Rk.call(this);
        this.U6.f()
    }
        ;
    function bj() {
        fs.call(this);
        this.EC = new ey([12, 20], ["1x1", "3x3", "5x5", "11x11", "31x31"]);
        this.EC.k(P.E.L, this.PL, this);
        this.body.appendChild(this.EC.j)
    }
    bj.prototype = new fs;
    bj.prototype.PL = function (Y) {
        var S = new _(P.E.P, !0);
        S.data = {
            X: P.U.lP,
            F: this.F,
            B4: [1, 3, 5, 11, 31][this.EC.u()]
        };
        this.B(S)
    }
        ;
    bj.prototype.Rk = function () {
        this.EC.f()
    }
        ;
    function fE() {
        fs.call(this);
        this.Xe = new fo(!1);
        this.Xe.parent = this;
        this.Xe.k(P.E.L, this.da, this);
        this.body.appendChild(this.Xe.j);
        this.Xe.i(JSON.parse(ai.m_.gd).v);
        this.DL = new ey(null, ai.W.names.slice(0, 5));
        this.DL.k(P.E.L, this.da, this);
        this.body.appendChild(this.DL.j);
        this.$$ = new ey([12, 19, 0], iS.hc, null, iS.sm);
        this.$$.k(P.E.L, this.da, this);
        this.body.appendChild(this.$$.j);
        this.Gk = new ed([12, 0], 0, 100, "%");
        this.Gk.parent = this;
        this.Gk.k(P.E.L, this.da, this);
        this.body.appendChild(this.Gk.j);
        this.Gk.i(100);
        this.Tu = new e0([12, 23, 0]);
        this.Tu.k(P.E.L, this.da, this);
        this.body.appendChild(this.Tu.j);
        this.nx = new e0("Dither");
        this.nx.k(P.E.L, this.da, this);
        this.body.appendChild(this.nx.j)
    }
    fE.prototype = new fs;
    fE.prototype.Rk = function () {
        this.DL.f();
        this.$$.f();
        this.Gk.f();
        this.Tu.f();
        this.nx.f()
    }
        ;
    fE.prototype.rJ = function (Y, S) {
        fs.prototype.rJ.call(this, Y, S);
        var h = S == iD.oo;
        this.Xe.qQ(Y.jy, Y.E$);
        if (h || S == iD.MM || S == iD.Ie)
            this.Xe.dB(Y.EI)
    }
        ;
    fE.prototype.da = function () {
        var Y = new _(P.E.P, !0);
        Y.data = {
            X: P.U.lP,
            F: this.F
        };
        Y.data.go = {
            W: this.Xe.u(),
            a7: ai.W.types[this.DL.u()],
            mg: this.Tu.tQ(),
            a75: this.nx.tQ(),
            a0s: iS.LQ[this.$$.u()],
            xC: this.Gk.u() / 100
        };
        this.B(Y)
    }
        ;
    function g1() {
        fs.call(this)
    }
    g1.prototype = new fs;
    function dU() {
        fs.call(this);
        var Y = P.w("span", "fitem");
        this.body.appendChild(Y);
        this.sx = [new ed([12, 15], 0, 0, "\xB0"), new gP("Reset", null, null, !0)];
        for (var G = 0; G < this.sx.length; G++) {
            var S = this.sx[G];
            S.parent = this;
            Y.appendChild(S.j);
            S.k(G == 1 ? "click" : P.E.L, this.sy, this)
        }
    }
    dU.prototype = new fs;
    dU.prototype.Rk = function () {
        for (var G = 0; G < this.sx.length; G++)
            this.sx[G].f()
    }
        ;
    dU.prototype.OZ = function (Y) {
        this.sx[0].i(Y.Lk * 180 / Math.PI)
    }
        ;
    dU.prototype.sy = function (Y) {
        var S = this.sx.indexOf(Y.target)
            , h = new _(P.E.P, !0);
        h.data = {
            X: P.U.lP,
            F: this.F,
            Lk: S == 1 ? 0 : Y.target.u() * Math.PI / 180
        };
        this.B(h)
    }
        ;
    function gS() {
        f$.call(this, ["brush", "algnd", "sfrom", "alt"])
    }
    gS.prototype = new f$;
    function at() {
        fs.call(this);
        this.s8 = new hv;
        this.s8.parent = this;
        this.body.appendChild(this.s8.gx.j);
        this.body.appendChild(this.s8.Co.j);
        this.body.appendChild(this.s8.I1.j);
        var Y = P.w("span", "fitem");
        this.body.appendChild(Y);
        Y.appendChild(this.s8.PT.j);
        Y.appendChild(this.s8.yL.j);
        Y.appendChild(this.s8.IU.j);
        this.G$ = new ey("Aa", [[22, 5, 0], "Sharp", "Crisp", "Strong", "Smooth"]);
        this.G$.k(P.E.L, this.Bl, this);
        this.body.appendChild(this.G$.j);
        this.DR = new gP([11, 9], !1, null, !0);
        this.DR.k("click", this.a8e, this);
        this.body.appendChild(this.DR.j);
        this.wx = new ir;
        this.wx.k("click", this.Bl, this)
    }
    at.prototype = new fs;
    at.prototype.Rk = function () {
        this.wx.f();
        this.s8.f();
        this.DR.f()
    }
        ;
    at.prototype.a8e = function (Y) {
        var S = {
            X: P.U.lP,
            F: this.F,
            AT: "showwarp"
        }
            , h = new _(P.E.P, !0);
        h.data = S;
        this.B(h)
    }
        ;
    at.prototype.OZ = function (Y) {
        if (Y.AT == "showactive")
            this.body.appendChild(this.wx.j);
        if (Y.AT == "hideactive")
            this.body.removeChild(this.wx.j);
        if (Y.AT == "changeAA")
            this.G$.i(Y.aq)
    }
        ;
    at.prototype.rJ = function (Y, S) {
        fs.prototype.rJ.call(this, Y, S);
        if (S != iD.Ie && S != iD.O1 && S != iD.OO && S != iD.kJ)
            return;
        this.s8.i(Y.qK, Y.Z7, Y.K$)
    }
        ;
    at.prototype.Bl = function (Y) {
        var S = {
            X: P.U.lP,
            F: this.F,
            AT: this.wx.u() ? "commit" : "cancel"
        };
        if (Y.target == this.G$) {
            S.AT = "changeAA";
            S.aq = this.G$.u()
        }
        var h = new _(P.E.P, !0);
        h.data = S;
        this.B(h)
    }
        ;
    function aJ() {
        iW.call(this)
    }
    aJ.prototype = new iW(!0);
    function ga() {
        fs.call(this);
        var Y = []
            , h = "<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
        this.pl = new e0([12, 85]);
        this.pl.k(P.E.L, this.PL, this);
        Y.push(this.pl.j);
        this.B3 = new e0([20, 1]);
        this.B3.k(P.E.L, this.PL, this);
        Y.push(this.B3.j);
        this.DQ = new e0([12, 83]);
        this.DQ.k(P.E.L, this.PL, this);
        Y.push(this.DQ.j);
        var S = P.w("span", "fitem");
        Y.push(S);
        this.acD = new ey("Scale for exported files", ["1x", "2x", "3x", "4x"], !0);
        S.appendChild(this.acD.j);
        this.mV = new gP(h + " PNG", !1, "Save selected layers as PNG", !0);
        S.appendChild(this.mV.j);
        this.mV.k("click", this.kK, this);
        this.a5M = new gP(h + " SVG", !1, "Save selected layers as SVG", !0);
        S.appendChild(this.a5M.j);
        this.a5M.k("click", this.kK, this);
        var q = P.w("span", "fitem");
        Y.push(q);
        var H = P.w("span", "fitem");
        Y.push(H);
        this.Bw = [];
        for (var G = 0; G < 8; G++) {
            var I = G == 3 || G == 7 ? [20, 4, 6] : [20, 4, G < 3 ? G : G - 1]
                , E = new gP("Hi", !1, I);
            (G < 4 ? q : H).appendChild(E.j);
            E.k("click", this.kK, this);
            this.Bw.push(E)
        }
        for (var G = 0; G < Y.length; G++)
            this.body.appendChild(Y[G]);
        this.a0G = Y
    }
    ga.prototype = new fs;
    ga.prototype.OZ = function (Y) {
        var S = Y.mY
            , h = Y.ak5;
        this.pl.i(S.Sv);
        this.B3.i(S.JN);
        this.DQ.i(S.mC);
        if (h) {
            P.v3(this.body);
            for (var G = 0; G < h.length; G++)
                if (h[G] == 1 && this.a0G[G])
                    this.body.appendChild(this.a0G[G])
        }
    }
        ;
    ga.prototype.kK = function (Y) {
        var S = this.Bw.indexOf(Y.target), h;
        if (S == -1) {
            h = new _(P.E.P, !0);
            h.data = {
                X: P.U.lP,
                F: this.F,
                Wg: Y.target == this.mV ? "getPNG" : "getSVG",
                Yy: this.acD.u() + 1
            }
        } else {
            h = new _(P.E.A, !0);
            h.F = U.Vg;
            h.data = {
                X: "algn",
                G: S
            }
        }
        this.B(h)
    }
        ;
    ga.prototype.PL = function (Y) {
        var S = new _(P.E.P, !0);
        S.data = {
            X: P.U.lP,
            F: this.F,
            Wg: "prms",
            Sv: this.pl.tQ(),
            JN: this.B3.tQ(),
            mC: this.DQ.tQ()
        };
        this.B(S)
    }
        ;
    ga.prototype.Rk = function () {
        this.pl.f();
        this.B3.f();
        this.DQ.f();
        var Y = "h0 h1 h2 hG v0 v1 v2 vG".split(" ");
        for (var G = 0; G < 8; G++) {
            this.Bw[G].D2(P.NM("align/" + Y[G], null, "autoscale"))
        }
    }
        ;
    function bH() {
        iW.call(this);
        var Y = this.y4 = new fB;
        Y.parent = this;
        Y.k(P.E.L, this.a25, this);
        this.body.appendChild(Y.j)
    }
    bH.prototype = new iW(!0);
    bH.prototype.a25 = function (Y) {
        this.data.ZB = this.y4.u();
        this.u3()
    }
        ;
    bH.prototype.Rk = function () {
        iW.prototype.Rk.call(this);
        this.y4.f()
    }
        ;
    function iu() {
        f$.call(this, ["setop", "patch"])
    }
    iu.prototype = new f$;
    function d8() {
        f$.call(this, ["setop"])
    }
    d8.prototype = new f$;
    function fD() {
        f$.call(this, ["bmode", "opacity", "wconf"])
    }
    fD.prototype = new f$;
    function fx() {
        iW.call(this)
    }
    fx.prototype = new iW(!0);
    function eQ() {
        iW.call(this)
    }
    eQ.prototype = new iW(!0);
    function gH() {
        iW.call(this);
        this.U6 = new e4;
        this.U6.k(P.E.L, this.sr, this);
        this.body.appendChild(this.U6.j)
    }
    gH.prototype = new iW(!0);
    gH.prototype.sr = function (Y) {
        this.data.U6 = this.U6.u();
        this.u3()
    }
        ;
    gH.prototype.Rk = function () {
        iW.prototype.Rk.call(this);
        this.U6.f()
    }
        ;
    function c4() {
        fs.call(this);
        this.it = null;
        this.Vb = null;
        this.Ns = [new eT("X", null, 3), new eT("Y", null, 3), new eT("W", null, 3), new eT("H", null, 3), new eT([12, 15], null, 4), new eT([12, 80, 0], null, 4), new gP([15, 7, 6], !1, null, !0)];
        for (var G = 0; G < this.Ns.length; G++) {
            var Y = this.Ns[G];
            this.body.appendChild(Y.j)
        }
        this.Ns[6].k("click", this.adx, this);
        this.jt = 0
    }
    c4.prototype = new fs;
    c4.prototype.adx = function (Y) {
        if (this.jt == 0) {
            return
        }
        var S = new _(P.E.A, !0);
        S.F = U.Fz;
        S.data = {
            X: "rot",
            vc: [2, 5],
            G: -this.jt
        };
        this.B(S)
    }
        ;
    c4.prototype.OZ = function (Y) {
        if (Y == null)
            return;
        this.Vb = Y;
        var S = Y.a05
            , h = Y.AH
            , q = h.x - S.x
            , H = h.y - S.y
            , I = this.Ns;
        this.jt = -Math.atan2(H, q);
        I[0].i(S.x);
        I[1].i(S.y);
        I[2].i(q);
        I[3].i(H);
        I[4].i((this.jt * 180 / Math.PI).toFixed(2));
        var E = Math.sqrt(q * q + H * H);
        E = t.n1.qZ(E, Y.PW, this.it, Y.a5j, !1);
        I[5].i(parseFloat(E).toFixed(2))
    }
        ;
    c4.prototype.rJ = function (Y, S) {
        this.it = Y;
        this.OZ(this.Vb)
    }
        ;
    c4.prototype.Rk = function () {
        var Y = this.Ns;
        for (var G = 0; G < Y.length; G++)
            Y[G].f();
        P.K3(Y[2], Y[3])
    }
        ;
    function iB() {
        f$.call(this, ["brush", "strn", "pdetail"])
    }
    iB.prototype = new f$;
    function aT() {
        f$.call(this, ["brush", "sfrom"]);
        this.af6 = [];
        var Y = [[7, 12]];
        for (var G = 0; G < Y.length; G++) {
            var S = new gP(Y[G], !1, null, !0);
            this.af6.push(S);
            S.parent = this;
            this.body.appendChild(S.j);
            S.k("click", this.a1O, this)
        }
    }
    aT.prototype = new f$;
    aT.prototype.a1O = function (Y) {
        var S = this.af6.indexOf(Y.currentTarget)
            , h = new _(P.E.$_, !0);
        h.data = U.NJ.kx("contentAware");
        this.B(h)
    }
        ;
    function cb() {
        f$.call(this, ["brush", "strn"])
    }
    cb.prototype = new f$;
    function b0() {
        f$.call(this, ["brush", "flow", "smode"])
    }
    b0.prototype = new f$;
    function b5() {
        fs.call(this);
        this.fb = !1;
        var Y = P.w("span", "fitem");
        this.body.appendChild(Y);
        this.pH = new ec(null, ["<img src=\"" + PIMG.zoomIn + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG.zoomOut + "\" class=\"autoscale gsicon\" />"]);
        Y.appendChild(this.pH.j);
        this.pH.k(P.E.L, this.PL, this);
        this.dD = new gP([20, 2]);
        this.body.appendChild(this.dD.j);
        this.dD.k("click", this.K_, this);
        this.s5 = new gP([20, 3]);
        this.body.appendChild(this.s5.j);
        this.s5.k("click", this.K_, this)
    }
    b5.prototype = new fs;
    b5.prototype.Rk = function () {
        this.dD.f();
        this.s5.f()
    }
        ;
    b5.prototype.PL = function () {
        var Y = {
            X: P.U.lP,
            F: this.F,
            IZ: this.pH.u() == 0
        }
            , S = new _(P.E.P, !0);
        S.data = Y;
        this.B(S)
    }
        ;
    b5.prototype.OZ = function (Y) {
        if (this.fb != Y.fb)
            this.pH.i(1 - this.pH.u());
        this.fb = Y.fb
    }
        ;
    b5.prototype.K_ = function (Y) {
        var S = new _(P.E.A, !0);
        S.F = U.nf;
        S.data = {
            X: "adapt",
            G: Y.target == this.dD ? "pixel" : "fitscr"
        };
        this.B(S)
    }
        ;
    function gs(Y, S) {
        fs.call(this);
        if (Y == null)
            return;
        this.SP = {};
        var h = [[12, 76, 0], [12, 76, 1]];
        if (S == null)
            h.push([12, 76, 2]);
        for (var G = 0; G < Y.length; G++) {
            var q = Y[G]
                , H = null;
            if (q == "tmode") {
                H = new ey(null, h);
                H.i(1)
            }
            if (q == "make") {
                H = new gP("Make Selection", null, null, !0);
                H.f4()
            }
            if (q == "binop") {
                H = new ey(null, [[18, 1], [18, 2], [18, 3], [18, 4]]);
                H.f4()
            }
            if (q == "pshape")
                H = new ey(null, [[12, 93, 0], [12, 93, 1], "Arrow", [12, 93, 2]]);
            if (q == "shape")
                H = new g2([12, 76, 1]);
            if (q == "crad") {
                H = new ed([12, 94, 0], 0, 50, "px");
                H.i(0)
            }
            if (q == "cstr") {
                H = new e4
            }
            if (q == "irad") {
                H = new ed([12, 94, 1], 0, 100, "%");
                H.i(40)
            }
            if (q == "length") {
                H = new ed([12, 80, 0], 4, 40);
                H.i(4)
            }
            if (q == "sides") {
                H = new ed([12, 78], 3, 30);
                H.i(5)
            }
            if (q == "width") {
                H = new ed([12, 41], 1, 100, "px");
                H.i(5)
            }
            if (q == "tsiz") {
                H = new ed("Tip Size", 100, 500, "%");
                H.i(300)
            }
            if (q == "tolr") {
                H = new ed([12, 24], 0, 100);
                H.i(5)
            }
            if (q == "fstyle") {
                H = new e_([12, 26])
            }
            if (q == "sstyle") {
                H = new cL
            }
            if (q == "psnap") {
                H = new e0([8, 10])
            }
            if (q == "crnr") {
                H = new gP("\u2312", !1, [12, 94, 0], !0)
            }
            H.parent = this;
            this.body.appendChild(H.j);
            this.SP[q] = H;
            H.k(q == "crnr" || q == "make" ? "click" : P.E.L, this.PL, this)
        }
    }
    gs.prototype = new fs;
    gs.prototype.OZ = function (Y) {
        if (Y.Wg == "vals") {
            for (var S in Y.ao0)
                this.SP[S].i(Y.ao0[S]);
            this.R$();
            return
        }
        var h = gs.wj;
        if (h == null)
            h = gs.wj = new gV([{
                name: "Make Selection"
            }], [{
                c: P.E.P,
                g: {
                    X: P.U.V5,
                    Fh: "makesel"
                }
            }]);
        h.parent = this;
        h.update(Y.Tw, Y.Q2);
        var q = new _(P.E.P, !0);
        q.data = {
            X: P.U.pa,
            FN: h,
            x: Y.lG.q5 + 2,
            y: Y.lG.sZ + 1
        };
        this.B(q)
    }
        ;
    gs.prototype.um = function (G) {
        return null
    }
        ;
    gs.prototype.R$ = function () {
        if (this.SP.pshape == null)
            return;
        var Y = this.um(this.SP.pshape.u());
        if (Y == null)
            return;
        P.v3(this.body);
        for (var G = 0; G < Y.length; G++) {
            var S = Y[G];
            this.body.appendChild(this.SP[S].j)
        }
    }
        ;
    gs.prototype.Rk = function () {
        for (var Y in this.SP) {
            this.SP[Y].f()
        }
    }
        ;
    gs.prototype.PL = function (Y) {
        if (Y.target == this.SP.crnr) {
            var S = new _(P.E.A, !0);
            S.F = U.Hy;
            S.data = {
                X: "crnr"
            };
            this.B(S);
            return
        }
        if (Y.target == this.SP.make) {
            var S = new _(P.E.P, !0);
            S.data = {
                X: P.U.V5,
                Fh: "makesel"
            };
            this.B(S);
            return
        }
        var S = new _(P.E.P, !0);
        if (Y.target == this.SP.fstyle) {
            S.data = {
                X: P.U.PD,
                go: iD.Rt,
                G: this.SP.fstyle.u()
            };
            this.B(S);
            return
        }
        if (Y.target == this.SP.sstyle) {
            S.data = {
                X: P.U.PD,
                go: iD.iZ,
                G: this.SP.sstyle.u()
            };
            this.B(S);
            return
        }
        if (this.SP.tmode && this.SP.binop) {
            var h = this.SP.tmode.u() == 0
                , q = this.SP.binop
                , H = this.SP.make;
            if (q)
                q.Rz(h);
            if (H)
                H.Rz(h)
        }
        S.data = {
            X: P.U.lP,
            F: this.F
        };
        for (var I in this.SP)
            if (I != "sstyle")
                S.data[I] = this.SP[I].u();
        this.B(S);
        if (Y.target == this.SP.pshape)
            this.R$()
    }
        ;
    gs.prototype.rJ = function (Y, S) {
        fs.prototype.rJ.call(this, Y, S);
        var h = this.SP.fstyle
            , q = this.SP.sstyle;
        if (h)
            h.rJ(Y, S);
        if (q)
            q.rJ(Y, S);
        if (S == iD.Ie || S == iD.Bt)
            if (Y.AS.length != 0 && this.SP.shape) {
                this.SP.shape.dB(Y.AS)
            }
        if (S == iD.Ie || S == iD.Rt)
            if (h)
                h.i(null, Y.Ob, Y.a3_);
        if (S == iD.Ie || S == iD.iZ)
            if (q)
                q.i(null, Y.JR, Y.a85)
    }
        ;
    function e2() {
        gs.call(this, ["tmode", "make", "fstyle", "sstyle", "binop"], !0)
    }
    e2.prototype = new gs;
    function dX() {
        gs.call(this, ["tmode", "fstyle", "sstyle", "binop", "tolr"])
    }
    dX.prototype = new gs;
    function cz() {
        gs.call(this, ["fstyle", "sstyle"]);
        this.ajq = null;
        this.agT = null;
        this.anr = null;
        this.pg = new ey("Path", [[18, 1], [18, 2], [18, 3], [18, 4], [18, 5]], !1, [4]);
        this.pf = new gP("\u25BC");
        this.pf.Fc();
        this.Jj = new gP("\u25B2");
        this.Jj.Fc();
        this.Bv = [this.pg, this.pf, this.Jj];
        for (var G = 0; G < this.Bv.length; G++) {
            var Y = this.Bv[G];
            this.body.appendChild(Y.j);
            Y.parent = this;
            Y.k(G == 0 ? P.E.L : "click", this.dZ, this)
        }
    }
    cz.prototype = new gs;
    cz.prototype.OZ = function (Y) {
        if (Y.AT == "main") {
            var S = this.Bv
                , h = Y.Ze;
            if (h && h.C.length == 1) {
                this.agT = h.clone();
                this.anr = JSON.stringify(Y.tx);
                var q = h.C[0]
                    , H = t.Y.Id(h.b);
                this.pg.tW();
                if (q > 0)
                    this.pf.tW();
                else
                    this.pf.f4();
                if (q < H - 1)
                    this.Jj.tW();
                else
                    this.Jj.f4();
                var I = t.Y.kV(h.b, q)
                    , E = h.b[I];
                this.pg.D2("Path " + (q + 1));
                this.pg.i([3, 0, 1, 2][E.Mg])
            } else {
                for (var G = 0; G < S.length; G++)
                    S[G].f4()
            }
        } else
            gs.prototype.OZ.call(this, Y)
    }
        ;
    cz.prototype.Rk = function () {
        gs.prototype.Rk.call(this);
        this.pg.f()
    }
        ;
    cz.prototype.dZ = function (Y) {
        if (Y.target == this.pg || Y.target == this.pf || Y.target == this.Jj) {
            var S = {}
                , h = this.agT
                , q = h.b
                , H = JSON.parse(this.anr)
                , I = h.C[0]
                , E = t.Y.kV(q, I)
                , d = q[E];
            if (Y.target == this.pg) {
                var B = this.pg.u();
                if (B < 4)
                    d.Mg = [1, 2, 3, 0][B];
                else {
                    if (t.Y.Id(q) <= 1)
                        return;
                    h.b = t.Y.ln(q);
                    h.C = h.b.length == 2 ? [] : [0];
                    h.xf = [];
                    H = [t.tx.QO()]
                }
            } else {
                var n = Y.target == this.pf ? -1 : 1
                    , g = Math.min(I, I + n)
                    , z = Math.max(I, I + n)
                    , p = t.Y.kV(q, g)
                    , C = t.Y.kV(q, z);
                if (p == -1 || C == -1)
                    return;
                var T = C + t.Y.fD(q, z)
                    , A = H[g];
                H[g] = H[z];
                H[z] = A;
                var i = q.slice(0, p)
                    , e = q.slice(p, C)
                    , a = q.slice(C, T)
                    , Z = q.slice(T);
                h.b = i.concat(a.concat(e.concat(Z)));
                h.C[0] += n
            }
            S.Ze = h;
            S.tx = H;
            var O = new _(P.E.P, !0);
            O.data = {
                X: P.U.lP,
                F: this.F,
                Qg: S
            };
            this.B(O)
        }
    }
        ;
    function ep() {
        gs.call(this, ["fstyle", "sstyle", "crnr", "psnap"])
    }
    ep.prototype = new gs;
    function aw() {
        gs.call(this, "tmode fstyle sstyle binop cstr crad".split(" "))
    }
    aw.prototype = new gs;
    function hC() {
        gs.call(this, ["tmode", "fstyle", "sstyle", "binop", "cstr"])
    }
    hC.prototype = new gs;
    function dJ() {
        gs.call(this, "tmode fstyle sstyle binop pshape sides irad crad width tsiz length".split(" "));
        this.afr = [["sides", "crad"], ["sides", "irad", "crad"], ["width", "tsiz"], ["length"]];
        this.R$()
    }
    dJ.prototype = new gs;
    dJ.prototype.um = function (G) {
        return ["tmode", "fstyle", "sstyle", "binop", "pshape"].concat(this.afr[G])
    }
        ;
    function fq() {
        gs.call(this, ["tmode", "fstyle", "sstyle", "binop", "width"])
    }
    fq.prototype = new gs;
    function hd() {
        gs.call(this, "tmode fstyle sstyle binop cstr shape".split(" "))
    }
    hd.prototype = new gs;
    function ab() {
        iW.call(this)
    }
    ab.prototype = new iW(!0);
    function fC() {
        f$.call(this, ["brush", "qsmode", "redge"])
    }
    fC.prototype = new f$;
    function aF() {
        fs.call(this)
    }
    aF.prototype = new fs;
    function fr() {
        fs.call(this);
        this.pf = new gP("\u25BC");
        this.pf.Fc();
        this.Jj = new gP("\u25B2");
        this.Jj.Fc();
        var cs = [this.pf, this.Jj];
        for (var G = 0; G < 2; G++) {
            var Y = cs[G];
            this.body.appendChild(Y.j);
            Y.k("click", this.dZ, this)
        }
    }
    fr.prototype = new fs;
    fr.prototype.dZ = function (Y) {
        var S = new _(P.E.P, !0);
        S.data = {
            X: P.U.lP,
            F: this.F,
            Wg: "reorder",
            dir: Y.target == this.pf ? -1 : 1
        };
        this.B(S)
    }
        ;
    function iN(Y, S) {
        fs.call(this);
        if (window.Typr == null || Y)
            return;
        this.ab2 = S;
        this._t = null;
        this.a3v = P.w("span", "");
        this.a6I = P.w("span", "");
        var h = 1;
        this.Q0 = {
            fR: new fb(null, 24),
            eo: new ed("X", 0, 0, "px", 0, !1, !0, 4),
            QA: new ed("Y", 0, 0, "px", 0, !1, !0, 4),
            A7: new ed("W", 0, 0, ["%", "px"], 2, !1, !0, 5),
            HY: new gP("\u2261", null, [12, 51], null),
            OM: new ed("H", 0, 0, ["%", "px"], 2, !1, !0, 5),
            a8y: new ed("\u2221", 0, 0, "\xB0", h, !1, !0),
            a3w: new ed("\u25B1 X", -85, 85, "\xB0", h, !1, !0),
            a2T: new ed("\u25B1 Y", -85, 85, "\xB0", h, !1, !0),
            xZ: new ey(null, [[12, 14, 2], [12, 14, 3], "Bicubic Sharper"])
        };
        this.Q0.xZ.i(1);
        for (var q in this.Q0) {
            var H = this.Q0[q];
            if (S && (H == this.Q0.a8y || H == this.Q0.a3w || H == this.Q0.a2T || H == this.Q0.xZ)) { } else
                this.a3v.appendChild(H.j);
            var I = H == this.Q0.HY ? "click" : P.E.L;
            H.k(I, this.acx, this)
        }
        this.y4 = new dg(!0, !0, !0);
        this.y4.k(P.E.L, this.a6h, this);
        this.y4.parent = this;
        var E = this.a6I
            , d = this.y4;
        E.appendChild(d.yy.j);
        E.appendChild(d.kq.j);
        E.appendChild(d.gT.j);
        E.appendChild(d.oe.j);
        E.appendChild(d.DP.j);
        this.DR = new gP([11, 9]);
        this.DR.k("click", this.agU, this);
        this.wx = new ir;
        this.wx.k("click", this.Bl, this)
    }
    iN.prototype = new fs;
    iN.prototype.OZ = function (Y) {
        if (Y.lG) {
            var S = iN
                , h = this.wj;
            if (h == null)
                h = this.wj = new gV(S.gJ(), S.Mn(this.F));
            h.f();
            h.parent = this;
            h.update(Y.Tw, Y.Q2);
            var q = new _(P.E.P, !0);
            q.data = {
                X: P.U.pa,
                FN: h,
                x: Y.lG.q5 + 2,
                y: Y.lG.sZ + 1
            };
            this.B(q);
            return
        }
        P.v3(this.body);
        this._t = Y;
        if (Y.Q0) {
            var H = Y.Q0._
                , I = Y.Q0.cu.clone()
                , E = Math.atan2(-I.O, I.R)
                , d = new d5;
            d.rotate(-E);
            I.concat(d);
            var B = this.Q0;
            B.fR.i(Y.Q0.pm);
            B.eo.i(Y.Q0.qy.x);
            B.QA.i(Y.Q0.qy.y);
            B.A7.i(I.R * (B.A7.LH() == "%" ? 100 : H.d));
            B.OM.i(I.RH * (B.OM.LH() == "%" ? 100 : H.v));
            B.a8y.i(-E * 180 / Math.PI);
            B.a3w.i(0 * 180 / Math.PI);
            B.a2T.i(Math.atan(I.Pb) * 180 / Math.PI);
            this.body.appendChild(this.a3v);
            this.DR.cQ()
        }
        if (Y.uP) {
            this.y4.i(Y.uP);
            this.body.appendChild(this.a6I);
            this.DR.Fc()
        }
        this.body.appendChild(this.wx.j);
        if (Y.a6B && !this.ab2)
            this.body.appendChild(this.DR.j)
    }
        ;
    iN.prototype.acx = function (Y) {
        var S = this.Q0
            , h = this._t.Q0._;
        if (Y.target == S.HY)
            S.HY.i(!S.HY.u());
        if (S.HY.tQ()) {
            var q = S.OM
                , H = S.A7
                , I = h.v
                , E = h.d;
            if (Y.target == S.A7) {
                q = S.A7;
                H = S.OM;
                I = h.d;
                E = h.v
            }
            var d = q.u() / (q.LH() == "%" ? 100 : I);
            d *= H.LH() == "%" ? 100 : E;
            H.i(d)
        }
        var B = [];
        for (var n in S)
            if (S[n] != S.HY && S[n] != S.fR) {
                var d = S[n].u();
                if ((S[n] == S.A7 || S[n] == S.OM) && d == 0) {
                    d = .1;
                    S[n].i(d)
                }
                if (S[n] == S.A7 && S[n].LH() == "px")
                    d /= h.d / 100;
                if (S[n] == S.OM && S[n].LH() == "px")
                    d /= h.v / 100;
                B.push(d)
            }
        var g = new aV(B[0], B[1]);
        if (Y.target == S.fR) {
            this.CU({
                AT: "ctyp",
                pm: S.fR.u()
            })
        } else if (Y.target == S.eo || Y.target == S.QA) {
            this.CU({
                AT: "cen",
                qy: g
            })
        } else {
            var z = this._t.Q0.cu.clone()
                , p = z.clone()
                , C = Math.atan2(-z.O, z.R);
            p.translate(-g.x, -g.y);
            p.rotate(-C);
            var T = new d5(p.R, p.O, p.Pb, p.RH, 0, 0);
            T.fb();
            p.concat(T);
            p.concat(new d5(B[2] / 100, Math.tan(B[5] * Math.PI / 180), Math.tan(B[6] * Math.PI / 180), B[3] / 100, 0, 0));
            p.rotate(-B[4] * Math.PI / 180);
            p.translate(g.x, g.y);
            this._t.Q0.cu = p;
            this.CU({
                AT: "trn",
                Q0: p,
                KV: this.Q0.xZ.u()
            })
        }
    }
        ;
    iN.prototype.a6h = function (Y) {
        this.CU({
            AT: "wrp",
            uP: this.y4.u()
        })
    }
        ;
    iN.prototype.agU = function (Y) {
        this.CU({
            AT: "switchWarp"
        })
    }
        ;
    iN.prototype.Bl = function (Y) {
        this.CU({
            AT: this.wx.u() ? "commit" : "cancel"
        })
    }
        ;
    iN.prototype.CU = function (Y) {
        Y.X = P.U.lP;
        Y.F = this.F;
        var S = new _(P.E.P, !0);
        S.data = Y;
        this.B(S)
    }
        ;
    iN.prototype.Rk = function () {
        var Y = this.Q0;
        for (var S in Y)
            Y[S].f();
        P.K3(Y.A7, Y.OM);
        this.wx.f();
        this.y4.f();
        this.DR.f()
    }
        ;
    iN.gJ = function () {
        return [{
            name: [5, 9],
            fQ: "Shift+Alt+Ctrl + T",
            Sp: !0
        }, {
            name: [12, 38]
        }, {
            name: [2, 5]
        }, {
            name: [24, 4]
        }, {
            name: [2, 9]
        }, {
            name: [11, 9],
            p: function (Y) {
                if (Y == null || Y.C.length != 1)
                    return {
                        p: !1
                    };
                var S = Y.t[Y.C[0]];
                return {
                    p: S.add.TySh == null && !S.i4()
                }
            },
            Sp: !0
        }, {
            name: ["VAR0 90\xB0 \u21BB", [2, 5]]
        }, {
            name: ["VAR0 90\xB0 \u21BA", [2, 5]]
        }, {
            name: ["VAR0 180\xB0", [2, 5]]
        }, {
            name: [[2, 6], [22, 4, 2]]
        }, {
            name: [[2, 6], [22, 4, 3]]
        }]
    }
        ;
    iN.Mn = function (Y) {
        if (Y == null)
            Y = U.Fz;
        return [{
            c: P.E.A,
            F: Y,
            g: {
                X: "again"
            }
        }, {
            c: P.E.P,
            g: {
                X: P.U.iK,
                F: Y,
                mY: {
                    JQ: 3
                }
            }
        }, {
            c: P.E.P,
            g: {
                X: P.U.iK,
                F: Y,
                mY: {
                    JQ: 4
                }
            }
        }, {
            c: P.E.P,
            g: {
                X: P.U.iK,
                F: Y,
                mY: {
                    JQ: 2
                }
            }
        }, {
            c: P.E.P,
            g: {
                X: P.U.iK,
                F: Y,
                mY: {
                    JQ: 1
                }
            }
        }, {
            c: P.E.P,
            g: {
                X: P.U.iK,
                F: Y,
                mY: {
                    JQ: -1
                }
            }
        }, {
            c: P.E.A,
            F: Y,
            g: {
                X: "rot",
                vc: [2, 5],
                G: -Math.PI / 2
            }
        }, {
            c: P.E.A,
            F: Y,
            g: {
                X: "rot",
                vc: [2, 5],
                G: -3 * Math.PI / 2
            }
        }, {
            c: P.E.A,
            F: Y,
            g: {
                X: "rot",
                vc: [2, 5],
                G: Math.PI
            }
        }, {
            c: P.E.A,
            F: Y,
            g: {
                X: "scl",
                vc: [[2, 6], [22, 4, 2]],
                G: new aV(-1, 1)
            }
        }, {
            c: P.E.A,
            F: Y,
            g: {
                X: "scl",
                vc: [[2, 6], [22, 4, 3]],
                G: new aV(1, -1)
            }
        }]
    }
        ;
    function fW() {
        iN.call(this)
    }
    fW.prototype = new iN(!0);
    function fN() {
        iN.call(this)
    }
    fN.prototype = new iN(!0);
    function iQ() {
        iN.call(this, !1, !0)
    }
    iQ.prototype = new iN(!0);
    function eK() {
        fs.call(this);
        var Y = this._e = [new ey([12, 36], ["Rigid", [15, 10, 0], [24, 4]]), new ey([12, 74], [[19, 8, 0], [19, 8, 1], [19, 8, 2]]), new ed([7, 4], 0, 100, "px"), new e0("Show Mesh"), new gP("\u25BC", null, null, !0), new gP("\u25B2", null, null, !0)];
        for (var G = 0; G < Y.length; G++) {
            var S = Y[G];
            S.parent = this;
            this.body.appendChild(S.j);
            S.k(G < 4 ? P.E.L : "click", this.a8h, this)
        }
        this.wx = new ir;
        this.wx.k("click", this.Bl, this);
        this.body.appendChild(this.wx.j)
    }
    eK.prototype = new fs;
    eK.prototype.Rk = function () {
        var Y = this._e;
        for (var G = 0; G < 4; G++)
            Y[G].f();
        this.wx.f()
    }
        ;
    eK.prototype.OZ = function (Y) {
        var Y = Y.go;
        for (var G = 0; G < 4; G++)
            this._e[G].i(Y[G])
    }
        ;
    eK.prototype.a8h = function (Y) {
        var S = [];
        for (var G = 0; G < 4; G++)
            S[G] = this._e[G].u();
        var h = this._e.indexOf(Y.target);
        if (h < 4)
            this.CU({
                AT: "prm",
                go: S
            });
        else
            this.CU({
                AT: "moveDepth",
                adp: h == 5
            })
    }
        ;
    eK.prototype.Bl = function (Y) {
        this.CU({
            AT: this.wx.u() ? "commit" : "cancel"
        })
    }
        ;
    eK.prototype.CU = function (Y) {
        Y.X = P.U.lP;
        Y.F = this.F;
        var S = new _(P.E.P, !0);
        S.data = Y;
        this.B(S)
    }
        ;
    function hr() {
        e9.call(this);
        this.j = P.w("div", "cmanager");
        window.alert = function (q, H) {
            this.aby(q, H);
            console.log("Alert: " + q)
        }
            .bind(this);
        window.onblur = function (q) {
            var H = this;
            H.o5()
        }
            .bind(this);
        this.rz = 0;
        this.UR = 0;
        this.R_ = [];
        this.Dy = {};
        this.WK = P.w("div", "alertcont");
        this.j.appendChild(this.WK);
        this.abE = P.w("div", "alertcont");
        this.j.appendChild(this.abE);
        this.TQ = P.w("div", "alertcont");
        this.a9u = 0;
        this.Js = -1;
        this.anU = null;
        this.Y1 = null;
        var Y = this.afU = P.w("div", "alertpanel");
        Y.setAttribute("style", "padding:0.7em 1em 0.1em 1em;");
        this.TQ.appendChild(Y);
        var S = this.yl = P.w("input");
        S.setAttribute("type", "text");
        S.setAttribute("style", "background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
        S.addEventListener("input", this.aaQ.bind(this), !1);
        S.addEventListener("keydown", this.ac_.bind(this), !1);
        Y.appendChild(S);
        var h = this.af1 = P.w("div", "contextpanel scrollable");
        h.setAttribute("style", "text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
        h.addEventListener("click", this.a2r.bind(this), !1);
        Y.appendChild(h);
        P.aK(document.body, this.a2i.bind(this))
    }
    hr.prototype = new e9;
    hr.prototype.Z_ = function () {
        if (P.Ap(this.TQ))
            this.j.removeChild(this.TQ)
    }
        ;
    hr.prototype.agl = function (Y, S) {
        var h = this.anU = [];
        for (var G = 0; G < aM.data.length; G++) {
            var q = aM.data[G]
                , H = [gx.get(q.name)]
                , I = [G];
            hr.FG(q.items, H, I, h, Y, S)
        }
        var E = eX.Cf;
        for (var G = 0; G < E.length; G += 3) {
            h.push([["Tools", gx.get(E[G])], [-1, E[G + 2]]])
        }
        this.j.appendChild(this.TQ);
        var d = this.yl;
        d.focus();
        d.select();
        this.o3()
    }
        ;
    hr.prototype.aaQ = function (Y) {
        this.Js = -1;
        this.o3()
    }
        ;
    hr.prototype.o3 = function () {
        var Y = this.yl.value.toLowerCase().trim().replace(/  +/g, " ")
            , S = this.anU
            , h = []
            , q = []
            , H = Y.split(" ");
        if (Y != "")
            for (var G = 0; G < S.length; G++) {
                var I = S[G][0]
                    , E = []
                    , d = 0;
                for (var B = 0; B < I.length; B++)
                    E[B] = -1;
                for (var n = 0; n < H.length; n++)
                    for (var B = 0; B < I.length; B++) {
                        var g = I[B].toLowerCase().indexOf(H[n]);
                        if (g != -1) {
                            E[B] = [g, g + H[n].length];
                            d++;
                            break
                        }
                    }
                if (d == H.length) {
                    h.push(S[G]);
                    q.push(E)
                }
            }
        var z = []
            , p = this.af1;
        P.v3(p);
        for (var G = 0; G < h.length; G++) {
            var C = h[G][0]
                , g = q[G]
                , T = "enab"
                , i = "";
            if (G == this.Js)
                T += " active";
            var A = P.w("div", T);
            z.push(A);
            p.appendChild(A);
            for (var B = 0; B < C.length; B++) {
                var e = g[B]
                    , a = H[B]
                    , Z = C[B];
                if (e != -1)
                    Z = Z.slice(0, e[0]) + "<span style=\"color:black\">" + Z.slice(e[0], e[1]) + "</span>" + Z.slice(e[1]);
                i += Z;
                if (B < C.length - 1)
                    i += " \uFE65 "
            }
            A.innerHTML = i
        }
        this.Y1 = [h, z]
    }
        ;
    hr.prototype.ac_ = function (Y) {
        var S = F.QN
            , h = Y.code;
        if (S(h, F.fp))
            this.Z_();
        var q = S(h, F.z_)
            , H = S(h, F.IL)
            , I = S(h, F.gm);
        if (q || H) {
            this.Js = Math.max(0, Math.min(this.Y1[0].length - 1, this.Js + (q ? -1 : 1)));
            this.o3()
        }
        if (I && this.Js != -1)
            this.WV(this.Js)
    }
        ;
    hr.FG = function (Y, S, h, q, H, I) {
        for (var G = 0; G < Y.length; G++) {
            var E = Y[G]
                , d = S.slice(0)
                , B = h.slice(0)
                , n = gx.get(E.name);
            if (E.p) {
                var g = E.p(H, I, G);
                if (g.sY)
                    n = g.sY;
                if (g.p == !1)
                    continue
            }
            d.push(n);
            B.push(G);
            if (E.sub)
                hr.FG(E.sub, d, B, q, H, I);
            else
                q.push([d, B])
        }
    }
        ;
    hr.prototype.a2r = function (Y) {
        var S = Y.target;
        if (S.tagName.toLowerCase() == "span")
            S = S.parentNode;
        var h = this.Y1[1].indexOf(S);
        if (h != -1)
            this.WV(h)
    }
        ;
    hr.prototype.WV = function (Y) {
        var S = this.Y1[0][Y][1];
        if (S[0] == -1) {
            var h = new _(P.E.P, !0);
            h.data = {
                X: P.U.iK,
                F: S[1]
            };
            this.B(h)
        } else {
            var q = aM.data[S[0]].NG[S[1]];
            for (var G = 2; G < S.length; G++)
                q = q.sub[S[G]];
            var H = new _(q.c, !0);
            H.F = q.F;
            H.data = q.g;
            this.B(H)
        }
        this.Z_()
    }
        ;
    hr.prototype.hD = function (Y, S) {
        this.rz = Y;
        this.UR = S;
        this.af1.style["max-height"] = S - 120 + "px"
    }
        ;
    hr.prototype.a2f = function (Y) {
        var S = P.w("div", "alertpanel");
        S.textContent = gx.get(Y);
        this.WK.appendChild(S);
        this.Dy[JSON.stringify(Y)] = S
    }
        ;
    hr.prototype.a5l = function (Y) {
        var S = this.Dy[JSON.stringify(Y)];
        this.WK.removeChild(S);
        delete this.Dy[JSON.stringify(Y)]
    }
        ;
    hr.prototype.aby = function (Y, S) {
        var h = this.abE;
        for (var G = 0; G < h.children.length; G++)
            if (h.children[G].textContent == Y)
                return;
        var q = P.w("div", "alertpanel tpanel");
        q.textContent = Y;
        q.setAttribute("style", "opacity:0.5; transform:scale(0.9)\t");
        h.appendChild(q);
        if (S == null)
            S = 1500;
        var H = S
            , I = Math.max(Date.now() + H, this.a9u + H);
        setTimeout(function () {
            q.setAttribute("style", "transform:scale(1); opacity:1;")
        }, 10);
        setTimeout(function () {
            h.setAttribute("style", "margin-top: -3.6em; transform: translateY(3.6em);")
        }, I - Date.now() - 30);
        setTimeout(function () {
            h.removeChild(h.firstChild);
            h.setAttribute("style", "transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")
        }, I - Date.now());
        this.a9u = I
    }
        ;
    hr.prototype.a2i = function (Y) {
        var S = this.R_;
        for (var G = S.length - 1; G >= 0; G--) {
            var h = S[G]
                , q = Y.target;
            while (q != null) {
                if (q == h.j) {
                    this.o5(h);
                    return
                }
                q = q.parentNode
            }
        }
        this.o5();
        var H = Y.target;
        while (H != this.TQ && H != document.body)
            H = H.parentNode;
        if (H != this.TQ)
            this.Z_()
    }
        ;
    hr.prototype.o5 = function (Y) {
        var S = this.R_;
        for (var G = 0; G < S.length; G++) {
            if (Y && Y.a16(S[G]))
                continue;
            var h = S[G].j;
            h.style.height = "auto";
            P.zM(h, "scrollable");
            this.j.removeChild(h);
            S.splice(G, 1);
            G--
        }
    }
        ;
    hr.prototype.ans = function (Y) {
        this.o5(Y.FN);
        var S = Y.FN
            , h = S.j;
        if (this.R_.indexOf(S) != -1)
            return;
        this.R_.push(S);
        this.j.appendChild(S.j);
        var q = this.rz
            , H = this.UR
            , I = Y.x
            , E = Y.y
            , d = this.j.getBoundingClientRect()
            , B = S instanceof gV;
        if (B || Y.vX) {
            var n = S.$Z()
                , g = S.PN();
            if (B)
                n = Math.min(n, 200);
            if (E + g < H) {
                I = Math.min(I, q - n - 5)
            } else {
                if (I + n < q) {
                    E = Math.min(E, H - g - 5)
                } else if (g < E) {
                    E = E - g - 2;
                    I = Math.min(I, q - n - 5)
                } else {
                    I = I - n;
                    E = Math.min(E, H - g - 5)
                }
            }
            if (Y.aih)
                E = Math.max(2, Y.y - g - 2);
            if (Y.anP)
                E = Y.y
        }
        E = Math.max(2, E);
        var top = Math.round(E - d.y + this.j.offsetTop);
        h.style.position = "absolute";
        h.style["z-index"] = 10;
        h.style.left = Math.round(I) + "px";
        h.style.top = top + "px";
        if (E + S.PN() > H - 3) {
            h.style.height = H - 3 - E + "px";
            P.xv(h, "scrollable")
        }
    }
        ;
    hr.prototype.DZ = function (Y) {
        var S = Y.FN
            , h = this.R_.indexOf(S);
        if (h == -1)
            return;
        this.R_.splice(h, 1);
        var q = S.j;
        this.j.removeChild(S.j)
    }
        ;
    hr.prototype.om = function () {
        var Y = this.R_;
        return Y.length == 0 ? null : Y[Y.length - 1]
    }
        ;
    hr.prototype.aaW = function () {
        this.DZ({
            FN: this.om()
        })
    }
        ;
    function hm() {
        e9.call(this);
        this.j = P.w("div", "confbar")
    }
    hm.prototype = new e9;
    hm.prototype.afX = function (Y) {
        Y.parent = this;
        P.v3(this.j);
        this.j.appendChild(Y.j)
    }
        ;
    function gN(Y) {
        
        e9.call(this);
        gN.G8 = Y;
        this.it = null;
        this.Rx = P.w("input", "");
        this.Rx.setAttribute("type", "file");
        this.Rx.setAttribute("multiple", "");
        this.Rx.addEventListener("change", function (S) {
            
            this.Dw(S.target.files, null, this.iz, null);
            this.iz = null
        }
            .bind(this), !1);
        document.body.appendChild(this.Rx);
        this.Rx.setAttribute("style", "display:none");
        this.a32 = [];
        this.no = !1;
        this.ak1 = {};
        this.iz = null
    }
    gN.prototype = new e9;
    gN.G8 = null;
    gN.hL = function (Y) {
        try {
            var S = {};
            S[Y.type] = Y;
            navigator.clipboard.write([new ClipboardItem(S)])
        } catch (gx) {
            console.error(gx, gx.message)
        }
    }
        ;
    gN.vM = function (Y, S) {
        
        navigator.clipboard.read().then(function (h) {
            for (var G = 0; G < h.length; G++) {
                try {
                    var q = h[G];
                    for (var H = 0; H < q.types.length; H++) {
                        var I = q.types[H];
                        if (I == "image/png")
                            q.getType(I).then(function (E) {
                                new Response(E).arrayBuffer().then(function (d) {
                                    gN.G8({
                                        name: "image.png"
                                    }, d, Y, S)
                                })
                            });
                        if (I == "text/plain")
                            q.getType(I).then(function (E) {
                                new Response(E).arrayBuffer().then(function (d) {
                                    var B = k.Dt(new Uint8Array(d))
                                        , n = new _(P.E.P, !0);
                                    n.data = {
                                        X: P.U.UF,
                                        G: B
                                    };
                                    Y.B(n)
                                })
                            })
                    }
                } catch (gx) {
                    console.error(gx, gx.message)
                }
            }
        }).catch(function (h) {
            alert("Clipboard error: (" + h.message + ")")
        })
    }
        ;
    gN.akH = function (Y) {
        navigator.permissions.query({
            name: "clipboard-read"
        }).then(function (S) {
            Y(S.state)
        })
    }
        ;
    gN.prototype.eO = function (Y) {
        if (Y == null)
            Y = [23, 5];
        var S = JSON.stringify(Y)
            , h = this.ak1;
        if (h[S] == null)
            h[S] = 0;
        if (h[S] == 0) {
            var q = new _(P.E.P, !0);
            q.data = {
                X: P.U.OW,
                rh: Y
            };
            this.B(q)
        }
        h[S]++
    }
        ;
    gN.prototype.Bk = function (Y) {
        if (Y == null)
            Y = [23, 5];
        var S = JSON.stringify(Y)
            , h = this.ak1;
        if (h[S] == null)
            h[S] = 0;
        h[S]--;
        if (h[S] == 0) {
            var q = new _(P.E.P, !0);
            q.data = {
                X: P.U.un,
                rh: Y
            };
            this.B(q)
        }
    }
        ;
    gN.prototype.a8R = function (Y, S) {
        this.iz = Y;
        var h = window.showOpenFilePicker;
        if (h && window.self == window.top) {
            var q = this;
            h({
                multiple: !0
            }).then(function (E) {
                var d = [];
                function B(n) {
                    d.push(n);
                    if (d.length == E.length) {
                        q.Dw(d, null, q.iz, null, E);
                        q.iz = null
                    } else
                        E[d.length].getFile().then(B)
                }
                E[d.length].getFile().then(B)
            });
            return
        }
        var H = this.Rx;
        if (S)
            H.setAttribute("accept", S);
        else
            H.removeAttribute("accept");
        var I = document.createEvent("MouseEvents");
        I.initMouseEvent("click", !0, !0, document.defaultView, 1, 0, 0, 0, 0, !1, !1, !1, !1, 0, null);
        H.dispatchEvent(I)
    }
        ;
    gN.prototype.IX = function (Y) {
        if (Y.url.indexOf("photopea.com#i") != -1 || Y.url.indexOf("photopea.com/#i") != -1) {
            this.tB(Y.url.split("#i").pop());
            return
        }
        this.a32.push(Y);
        this.XK()
    }
        ;
    gN.prototype.XK = function () {
        var Y = this.a32;
        if (Y.length == 0 || this.no)
            return;
        this.no = !0;
        var S = Y.shift();
        this.eO();
        if (S.UI == null)
            S.UI = {};
        var h = new XMLHttpRequest;
        h.pX = S;
        var q = S.url;
        if (S.jz)
            q = "mirror.php?url=" + encodeURIComponent(q);
        h.open("GET", q);
        if (S.yv)
            for (var H in S.yv)
                h.setRequestHeader(H, S.yv[H]);
        h.responseType = "arraybuffer";
        h.onload = this.J9.bind(this);
        h.send()
    }
        ;
    gN.prototype.Dw = function (Y, S, h, q, H) {
        
        for (var G = 0; G < Y.length; G++) {
            this.eO();
            var I = Y[G]
                , E = new FileReader;
            E.pX = I;
            E.pX.lS = h;
            E.pX._V = q;
            E.a7o = S;
            if (H)
                E.pX.U$ = H[G];
            E.onload = this.J9.bind(this);
            E.onerror = function (d) {
                this.Bk()
            }
                .bind(this);
            E.readAsArrayBuffer(I)
        }
        this.Rx.value = null
    }
        ;
    gN.prototype.aaa = function (Y, S, h) {
        this.eO("Saving ...");
        this.it = S;
        setTimeout(h.bind({
            J7: Y,
            caller: this
        }), 50)
    }
        ;
    gN.h1 = function (Y) {
        var S = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"
            , h = new Uint8Array(Y)
            , q = h.length
            , H = q % 3
            , I = q - H
            , E = []
            , d = 0
            , B = 0
            , n = 0;
        for (var G = 0; G < I; G += 3) {
            d = h[G];
            B = h[G + 1];
            n = h[G + 2];
            E.push(S[d >> 2] + S[(d & 3) << 4 | B >> 4] + S[(B & 15) << 2 | n >> 6] + S[n & 63])
        }
        if (H == 1) {
            d = h[I];
            E.push(S[d >> 2] + S[(d & 3) << 4] + "==")
        }
        if (H == 2) {
            d = h[I];
            B = h[I + 1];
            E.push(S[d >> 2] + S[(d & 3) << 4 | B >> 4] + S[(B & 15) << 2] + "=")
        }
        var g = E.join("");
        return g
    }
        ;
    gN.agO = function (Y, S) {
        var h = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"
            , q = new Uint8Array(64)
            , d = 0
            , B = 0
            , n = 0
            , z = 0;
        for (var G = 0; G < 64; G++)
            q[G] = h.charCodeAt(G);
        var H = new Uint8Array(Y)
            , I = S % 3
            , E = S - I
            , g = new Uint8Array(Math.floor(S / 3) * 4 + (I == 0 ? 0 : 4));
        for (var G = 0; G < E; G += 3) {
            d = H[G];
            B = H[G + 1];
            n = H[G + 2];
            g[z] = q[d >>> 2];
            g[z + 1] = q[(d & 3) << 4 | B >>> 4];
            g[z + 2] = q[(B & 15) << 2 | n >>> 6];
            g[z + 3] = q[n & 63];
            z += 4
        }
        if (I == 1) {
            d = H[E];
            g[z] = q[d >> 2];
            g[z + 1] = q[(d & 3) << 4];
            g[z + 2] = 61;
            g[z + 3] = 61
        }
        if (I == 2) {
            d = H[E];
            B = H[E + 1];
            g[z] = q[d >> 2];
            g[z + 1] = q[(d & 3) << 4 | B >> 4];
            g[z + 2] = q[(B & 15) << 2];
            g[z + 3] = 61
        }
        return g
    }
        ;
    gN.prototype.J9 = function (Y) {
        
        var S, h = Y.target.pX;
        if (Y.target instanceof XMLHttpRequest)
            S = Y.target.response;
        else
            S = Y.target.result;
        gN.G8(h, S, this, Y.target.a7o);
        this.Bk();
        if (Y.target instanceof XMLHttpRequest) {
            this.no = !1;
            this.XK()
        }
    }
        ;
    gN.alr = function (Y) {
        
        var S = new XMLHttpRequest;
        S.open("POST", "https://api.imgur.com/3/image", !0);
        S.setRequestHeader("Authorization", "Client-ID 3ad80d2d9969219");
        S.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        S.setRequestHeader("Accept", "application/json");
        S.addEventListener("load", gN.ah6);
        S.send("type=base64&image=" + encodeURIComponent(gN.h1(Y)));
        alert("Saving to Imgur ...", 4e3)
    }
        ;
    gN.ah6 = function (Y) {
        var S = JSON.parse(Y.target.response);
        if (S.success)
            window.open(S.data.link, "Imgur")
    }
        ;
    gN.prototype.tB = function (Y, S) {
        this.eO();
        var h = new XMLHttpRequest;
        h.responseType = "arraybuffer";
        h.open("GET", "https://f000.backblazeb2.com/file/psdshared/" + Y);
        h.onload = this.aaK.bind(this);
        h.send();
        gN.a0$ = Date.now();
        gN.aeV = Y;
        gN.afw = S ? Y : null
    }
        ;
    gN.prototype.aaK = function (Y) {
        var S = new Uint8Array(Y.target.response);
        console.log(S.length, Date.now() - gN.a0$);
        for (var G = 0; G < S.length; G++)
            S[G] = 255 - S[G];
        S = pako.inflateRaw(S);
        var h = JSON.parse(k.Dt(S, 0, 2e3));
        gN.G8({
            name: h.name,
            OH: gN.afw
        }, S.slice(2e3).buffer, this);
        this.Bk();
        var q = new XMLHttpRequest;
        q.open("GET", "/papi/img/update.php?act=0&id=" + gN.aeV + "&rnd=" + Math.random());
        q.send()
    }
        ;
    gN.prototype.a2L = function (Y, S) {
        
        if (!(Y instanceof ArrayBuffer))
            throw "e";
        Y = new Uint8Array(Y);
        var h = new Uint8Array(Y.length + 2e3)
            , d = "";
        for (var G = 0; G < 2e3; G++)
            h[G] = 32;
        k.U9(JSON.stringify({
            name: S
        }), h, 0);
        h.set(Y, 2e3);
        Y = h;
        Y = pako.deflateRaw(Y);
        for (var G = 0; G < Y.length; G++)
            Y[G] = 255 - Y[G];
        Y = Y.buffer;
        var q = Y.byteLength
            , H = ~~(209e5 / 2);
        if (q > H) {
            confirm("Your file is " + ac.Fd(q) + ". Our limit is " + ac.Fd(H) + ". Delete some layers and try again.");
            return
        }
        var I = sha1(Y)
            , E = [];
        for (var G = 0; G < 20; G++) {
            var B = parseInt(I.slice(G * 2, G * 2 + 2), 16);
            E.push(B);
            d += String.fromCharCode(B)
        }
        var n = btoa(d).replace(/\+/g, "-").replace(/\//g, "_").slice(0, 8);
        if (gN.a3u(n)) {
            console.log("file already exists");
            window.open("https://www.photopea.com#i" + n);
            return
        }
        this.eO("Publishing ...");
        var g = new XMLHttpRequest;
        g.Vb = [Y, I, n];
        g.open("GET", "/papi/img/publish.php?rnd=" + Math.random());
        g.onload = this.a81.bind(this);
        g.send()
    }
        ;
    gN.a3u = function (Y) {
        try {
            var S = new XMLHttpRequest;
            S.open("HEAD", "https://f000.backblazeb2.com/file/psdshared/" + Y, !1);
            S.send();
            if (S.status == 200)
                return !0
        } catch (gx) {
            return !1
        }
        return !1
    }
        ;
    gN.prototype.a81 = function (Y) {
        var S = JSON.parse(Y.target.response)
            , h = Y.target.Vb
            , q = new XMLHttpRequest;
        q.open("POST", S.uploadUrl);
        q.setRequestHeader("Authorization", S.authorizationToken);
        q.setRequestHeader("X-Bz-File-Name", h[2]);
        q.setRequestHeader("Content-Type", "b2/x-auto");
        q.setRequestHeader("X-Bz-Content-Sha1", h[1]);
        q.send(new Blob([h[0]]));
        q.onload = this.afs.bind({
            Su: this,
            Vb: h
        })
    }
        ;
    gN.prototype.afs = function (Y) {
        this.Su.Bk("Publishing ...");
        window.open("https://www.photopea.com#i" + this.Vb[2])
    }
        ;
    gN.save = function (Y, S) {
        var h = new Uint8Array(Y)
            , q = document.createElement("a");
        if (typeof q.download == "string") {
            var H = new Blob([h])
                , I = window.URL.createObjectURL(H);
            q.href = I;
            q.download = S;
            document.body.appendChild(q);
            q.click();
            document.body.removeChild(q)
        } else {
            var E = "data:application/octet-stream;base64," + gN.h1(Y);
            window.open(E)
        }
    }
        ;
    function i6() {
        this.size = 16;
        this.data = t.m(16)
    }
    i6.prototype.$r = function (Y, S) {
        if (Y + S <= this.size)
            return;
        var h = this.size;
        while (Y + S > this.size)
            this.size *= 2;
        var q = t.m(this.size);
        for (var G = 0; G < h; G++)
            q[G] = this.data[G];
        this.data = q
    }
        ;
    var aW = {};
    aW.T1 = function (Y, S, h) {
        var q = S.split(":")
            , H = q[0]
            , I = null;
        if (q.length == 2) {
            if (H == "jpg" || H == "webp")
                I = [Math.round(100 * parseFloat(q[1]))];
            if (H == "psd")
                I = [!0, !0]
        }
        var E = eD.mE(Y, H.toUpperCase(), null, null, I, h);
        return E
    }
        ;
    aW.anI = function (Y, S, h) {
        var q = Y.Q3()
            , H = S[0];
        return aW.T1(Y, H, h)
    }
        ;
    aW.a56 = function () {
        var Y = this.J7, S = this.caller, h = Y.UI.hP, q = h.formats, H, I;
        Y.Q3();
        var E = Date.now();
        if (h.version == 1) {
            var d = []
                , B = 0
                , g = 0;
            for (var G = 0; G < q.length; G++) {
                var n = aW.T1(Y, q[G], S.it);
                d.push(n);
                B += n.byteLength
            }
            H = new Uint8Array(2e3 + B);
            var z = "{ \"source\": " + JSON.stringify(Y.MP) + ", \"versions\": [\n";
            for (var G = 0; G < q.length; G++) {
                var p = new Uint8Array(d[G]);
                z += "\t{\"format\": \"" + q[G].split(":")[0] + "\", \"start\": " + g + ", \"size\": " + p.length + " }" + (G + 1 < q.length ? ", " : "") + "\n";
                H.set(p, 2e3 + g);
                g += d[G].byteLength
            }
            z += "] }";
            var C = k.U9(z, H, 0);
            for (var G = C; G < 2e3; G++)
                H[G] = 32;
            I = "application/octet-stream"
        } else {
            var T = new i6
                , A = 0
                , i = ""
                , e = encodeURIComponent;
            i = "p=" + e("{ \"source\": " + JSON.stringify(Y.MP) + ", \"versions\": [");
            k.pR(T, A, i);
            A += i.length;
            for (var G = 0; G < q.length; G++) {
                i = e(" {\"format\": \"" + q[G].split(":")[0] + "\", \"data\": \"");
                k.pR(T, A, i);
                A += i.length;
                var n = aW.T1(Y, q[G], S.it)
                    , a = gN.agO(n, n.byteLength)
                    , C = a.length;
                T.$r(A, C);
                for (var Z = 0; Z < C; Z++) {
                    T.$r(A, 3);
                    var O = a[Z];
                    if (O == 43) {
                        T.data[A] = 37;
                        T.data[A + 1] = 50;
                        T.data[A + 2] = 66;
                        A += 3
                    } else if (O == 47) {
                        T.data[A] = 37;
                        T.data[A + 1] = 50;
                        T.data[A + 2] = 70;
                        A += 3
                    } else if (O == 61) {
                        T.data[A] = 37;
                        T.data[A + 1] = 51;
                        T.data[A + 2] = 68;
                        A += 3
                    } else {
                        T.data[A] = O;
                        A++
                    }
                }
                i = e("\" }" + (G + 1 < q.length ? ", " : ""));
                k.pR(T, A, i);
                A += i.length
            }
            i = e("] }");
            k.pR(T, A, i);
            A += i.length;
            H = T.data.slice(0, A);
            I = "application/x-www-form-urlencoded"
        }
        var c = new XMLHttpRequest;
        c.open("POST", h.url, !0);
        if (I)
            c.setRequestHeader("Content-Type", I);
        c.addEventListener("load", aW.a9e.bind(this));
        c.send(new Blob([H.buffer]))
    }
        ;
    aW.a9e = function (Y) {
        this.caller.Bk("Saving ...");
        var S = Y.target.response;
        if (S.charAt(0) == "{") {
            S = JSON.parse(S);
            if (S.newSource)
                this.J7.MP = S.newSource;
            if (S.message)
                alert(S.message, 2e3);
            if (S.script) {
                var h = new _(P.E.P, !0);
                h.data = {
                    X: P.U.sw,
                    v6: S.script
                };
                this.caller.B(h)
            }
        } else
            alert("Saved. Response: " + S, 1500)
    }
        ;
    aW.ako = function (Y) {
        var S = Y.JV.Jt
            , h = aW.T1(Y, S);
        dz.Vh(function () {
            var q = new XMLHttpRequest
                , H = "https://www.googleapis.com/upload/drive/v3/files/" + Y.JV.file.id + "?uploadType=media" + "&" + dz.gz();
            q.open("PATCH", H, !0);
            q.addEventListener("load", function (I) {
                var E = JSON.parse(I.target.response);
                alert(E.name + " updated")
            });
            q.send(h);
            alert("Saving \"" + Y.JV.file.name + "\" to Google Drive ...")
        })
    }
        ;
    aW.G8 = function (Y, S, h, q) {
        
        if (window.location.href.indexOf("photopea.com") == -1 || window.top != window.self)
            aW.dT(Y, S, h, q);
        else {
            try {
                aW.dT(Y, S, h, q)
            } catch (gx) {
                if (gx == "low_ram") { } else {
                    var H = "Error. Please, send your file to support@photopea.com and we will solve it.";
                    if (eD.hj(S) == "eps")
                        H = "We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
                    alert(H, 1e4)
                }
            }
        }
    }
        ;
    aW.dT = function (Y, S, h, q) {
        var H;
        if (Y.name)
            H = Y.name.split(".")[0];
        else {
            if (Y.url.substring(0, 5) == "data:" || Y.url.indexOf("googleapis") != -1)
                H = "image";
            else
                H = Y.url.substring(Y.url.lastIndexOf("/") + 1).split(".")[0];
            H = H.slice(0, 50)
        }
        var I = Y.name ? Y.name : Y.url
            , E = new Uint8Array(S)
            , d = eD.hj(S)
            , B = window.ga;
        if (Math.random() < .25 && B && d != null && eD.Oh(d))
            B("send", "event", "Formats", d);
        if (d == null)
            d = k.Fe(E, 0, 4);
        if (I && I.toLowerCase().endsWith(".raw")) {
            var n = new _(P.E.P, !0);
            n.data = {
                X: P.U.V5,
                Fh: "importraw",
                iP: S,
                hg: I.split("/").pop()
            };
            h.B(n);
            return
        } else if (d == "json") {
            var g = "";
            for (var G = 0; G < E.length; G++)
                g += String.fromCharCode(E[G]);
            g = decodeURIComponent(escape(g));
            alert("Unknown JSON file opened. See the content in the console.", 5e3);
            console.log(JSON.parse(g));
            return
        }
        if (d == "html") {
            var g = k.Dt(E, 0, E.length)
                , z = new DOMParser
                , p = z.parseFromString(g, "text/html")
                , C = p.getElementsByTagName("meta");
            for (var G = 0; G < C.length; G++) {
                var T = C[G]
                    , A = T.getAttribute("property")
                    , i = T.getAttribute("content")
                    , e = null;
                if (A == "og:image")
                    e = i;
                if (A == null && i && i.startsWith("0;url=/imgres?")) {
                    var a = i.slice(14).split("&");
                    for (var Z = 0; Z < a.length; Z++)
                        if (a[Z].startsWith("imgurl"))
                            e = decodeURIComponent(a[Z].slice(7))
                }
                if (e == null)
                    continue;
                var n = new _(P.E.P, !0);
                n.data = {
                    X: P.U.Pv,
                    go: {
                        url: e,
                        jz: !0,
                        lS: Y.lS
                    }
                };
                h.B(n)
            }
            return
        }
        if (eD.Oh(d)) {
            
            var O, c = eD.Oh(d);
            if (Y.lS != null && "jpg png gif pdf svg psd".split(" ").indexOf(d) != -1) {
                var n = new _(P.E.P, !0);
                n.data = {
                    X: P.U.sh,
                    target: Y.lS,
                    Pq: Y._V,
                    n3: S,
                    ft: H
                };
                h.B(n);
                return
            }
            if (c.M4) {
                O = new dh(H + (d == "psd" ? "" : "-" + d) + ".psd");
                O.OH = Y.OH;
                c.C3(S, O)
            } else {
                var s = c.C3(S);
                if (s.length == 0)
                    return;
                if (s[0].t33421 || s[0].t50706) {
                    t.raw.normalize(s[0], S);
                    console.log(s[0]);
                    var n = new _(P.E.P, !0);
                    n.data = {
                        X: P.U.V5,
                        Fh: "rawpea",
                        Vi: s[0]
                    };
                    h.B(n);
                    return
                }
                if (q) {
                    q(new Uint8Array(s[0].data), s[0].jJ);
                    return
                }
                O = eD.y8(H, s)
            }
            O.wa = d;
            O.UI = Y.UI;
            O.MP = Y.url;
            O.K9 = Y.K9;
            O.JV = Y.JV;
            O.U$ = Y.U$;
            if (O.JV)
                O.JV.Jt = d;
            if (O.t.length != 0) {
                var n = new _(P.E.P, !0);
                n.data = {
                    X: Y.lS == null ? P.U.Qc : P.U.sh,
                    target: Y.lS,
                    Pq: Y._V,
                    n3: O
                };
                h.B(n)
            }
            return
        }
        var x = new _(P.E.P, !0);
        x.data = {
            X: P.U.SM,
            iP: S,
            Us: Y.name
        };
        var u = Y instanceof File && Y.ab4 != !0
            , n = new _(P.E.P, !0);
        n.data = {
            X: P.U.PD,
            UI: "add",
            go: null,
            Gu: null,
            ake: Y.ab4
        };
        if (d == "zip") {
            var y = Date.now()
                , j = UZIP.parse(S)
                , v = "xml rels plist iwa db ds_store txt rtf".split(" ");
            for (var X in j) {
                var N = !1;
                for (var G = 0; G < v.length; G++)
                    if (X.toLowerCase().endsWith("." + v[G]))
                        N = !0;
                if (X.startsWith("__MACOSX/") || j[X].length == 0)
                    N = !0;
                if (N)
                    continue;
                var V = X.split("/").pop();
                aW.G8({
                    name: V
                }, j[X].buffer, h, q)
            }
        } else if (d == "jsx") {
            var g = k.Dt(new Uint8Array(S));
            n.data = {
                X: P.U.sw,
                v6: g
            };
            h.B(n)
        } else if (d == "otf") {
            if (u)
                h.B(x);
            var $ = Typr.parse(S);
            n.data.go = iD.OO;
            for (var G = 0; G < $.length; G++) {
                n.data.Gu = $[G];
                h.B(n)
            }
        } else if (d == "asl") {
            if (u)
                h.B(x);
            var $ = eU.z7(S);
            n.data.go = iD.Zp;
            n.data.Gu = $.KJ;
            h.B(n);
            n.data.go = iD.YM;
            n.data.Gu = $.pB;
            h.B(n)
        } else if (d == "tpl") {
            var $ = g4.z7(S);
            n.data.go = iD.e8;
            n.data.Gu = {
                r0: $.r0,
                SR: $.SR,
                list: []
            };
            h.B(n);
            if ($.akO.length != 0) {
                n.data.go = iD.Bt;
                n.data.Gu = $.akO;
                h.B(n)
            }
            if ($.pB.length != 0) {
                n.data.go = iD.YM;
                n.data.Gu = $.pB;
                h.B(n)
            }
            n.data.go = iD.iL;
            n.data.Gu = $.list;
            h.B(n)
        } else {
            var w = "";
            for (var m in iD.FV)
                if (iD.FV[m][0] == d)
                    w = m;
            if (w != "") {
                if (u)
                    h.B(x);
                n.data.Gu = iD.FV[w][2].z7(S, I);
                n.data.go = w;
                h.B(n)
            } else
                alert("Unknown file format: " + JSON.stringify(d))
        }
    }
        ;
    function hq(Y) {
        e9.call(this);
        this.Jm = hq.Jm++;
        this.HL = Y;
        this.a3H = this.al1.bind(this);
        this.a7G = this.ak2.bind(this);
        this.aeQ = this.pA.bind(this);
        this.a1F = this.a4s.bind(this);
        this.aca = this.abz.bind(this);
        this.afq = this.ak$.bind(this);
        this.UD = 0;
        this.anl = 0;
        this.Yo = 0;
        this.j = P.w("div", "panelblock");
        this.Y3 = P.w("div", "block");
        this.ze = P.w("div", "collapsed");
        this.j.appendChild(this.Y3);
        this.Qo = -1;
        this.ia = !0;
        this.sl = P.w("div", "panelhead");
        this.Y3.appendChild(this.sl);
        this.e0(this.sl);
        this.S6 = new gP("\u2261");
        this.S6.j.setAttribute("style", "position:absolute; right:0;");
        this.S6.k("click", this.a9L, this);
        this.mo = P.w("div", "");
        this.Y3.appendChild(this.mo);
        this.aa = [];
        this.zj = null;
        this.fm = null
    }
    hq.Jm = 0;
    hq.prototype = new e9;
    hq.prototype.a9L = function (Y) {
        var S = this.aa[this.Qo].ts()
            , h = Y.currentTarget.j.getBoundingClientRect();
        S.f();
        S.parent = this;
        var q = new _(P.E.P, !0);
        q.data = {
            X: P.U.pa,
            FN: S,
            x: h.left,
            y: h.top + h.height + 2
        };
        this.B(q)
    }
        ;
    hq.prototype.mf = function (Y) {
        var S = this.Y3
            , h = this.sl
            , q = this.mo;
        if (P.Ap(h))
            S.removeChild(h);
        if (P.Ap(q))
            S.removeChild(q);
        if (Y == 0)
            S.appendChild(h);
        S.appendChild(q);
        this.Yo = Y
    }
        ;
    hq.IM = function (Y) {
        Y.stopPropagation();
        Y.preventDefault()
    }
        ;
    hq.prototype.al1 = function (Y) {
        var S = Y.dataTransfer.types;
        if (S[1] != null && S[1] != this.Jm + "")
            return;
        hq.IM(Y);
        var D = Y.currentTarget;
        if (Y.target == D)
            P.xv(D, "highlight")
    }
        ;
    hq.prototype.ak2 = function (Y) {
        hq.IM(Y);
        var D = Y.currentTarget;
        if (Y.target == D)
            P.zM(D, "highlight")
    }
        ;
    hq.prototype.e0 = function (Y) {
        Y.addEventListener("dragenter", this.a3H, !1);
        Y.addEventListener("dragleave", this.a7G, !1);
        Y.addEventListener("dragover", hq.IM, !1);
        Y.addEventListener("drop", this.aeQ, !1);
        Y.addEventListener("dragstart", function (S) {
            S.dataTransfer.setData("Text", "--panel");
            S.dataTransfer.setData(this.Jm + "", "")
        }
            .bind(this), !1)
    }
        ;
    hq.prototype.pA = function (Y) {
        this.a7G(Y);
        var S = null
            , D = Y.currentTarget
            , h = this.U_(D);
        if (D == this.mo && this.Qo != -1)
            S = this.Qo;
        else if (D == this.sl)
            S = null;
        else if (h != -1)
            S = h;
        var q = Y.dataTransfer.getData("Text");
        if (q == "" || q.startsWith("http"))
            P.Dg(Y, this, S);
        else if (q == "--panel") {
            var H = P.WW(Y, D)
                , cs = this.aa
                , I = cs.slice(0)
                , G = this.Qo
                , E = h == -1 ? cs.length : H.x < D.getBoundingClientRect().width / 2 ? h : h + 1;
            if (G == E || G + 1 == E || D == this.mo)
                return;
            var d = G < E ? E - 1 : E
                , B = cs[G];
            cs.splice(G, 1);
            cs.splice(d, 0, B);
            P.v3(this.sl);
            for (var n = 0; n < cs.length; n++)
                this.sl.appendChild(cs[n].j6);
            this.tf(d);
            var g = [];
            for (var G = 0; G < cs.length; G++)
                g[G] = I.indexOf(cs[G]);
            var z = new _("shuffleItems", !1);
            z.data = {
                anF: g
            };
            this.B(z)
        } else if (S != null && this instanceof c7) {
            var z = new _(P.E.P, !0);
            z.data = {
                X: P.U.VH,
                a63: S
            };
            this.B(z)
        }
    }
        ;
    hq.prototype.fP = function () {
        return null
    }
        ;
    hq.prototype.QI = function () {
        if (this.fP()) {
            this.fm = this.fP();
            this.mo.appendChild(this.fm)
        }
    }
        ;
    hq.prototype.a1h = function () {
        if (this.fm) {
            this.mo.removeChild(this.fm);
            this.fm = null
        }
    }
        ;
    hq.prototype.U_ = function (Y) {
        var S = this.aa;
        for (var G = 0; G < S.length; G++)
            if (S[G].j6 == Y)
                return G;
        return -1
    }
        ;
    hq.prototype.bs = function () {
        for (var G = 0; G < this.aa.length; G++)
            this.aa[G].kU.cQ()
    }
        ;
    hq.prototype.Y7 = function () {
        var Y = new aV(0, 0);
        for (var G = 0; G < this.aa.length; G++) {
            var S = this.aa[G].Y7();
            Y.x = Math.max(Y.x, S.x);
            Y.y = Math.max(Y.y, S.y)
        }
        return Y
    }
        ;
    hq.prototype.Xi = function () {
        return this.Qo
    }
        ;
    hq.prototype.FA = function () {
        if (this.ia)
            return;
        this.ia = !0;
        this.j.removeChild(this.ze);
        this.j.appendChild(this.Y3)
    }
        ;
    hq.prototype.collapse = function () {
        if (!this.ia)
            return;
        this.ia = !1;
        this.j.appendChild(this.ze);
        this.j.removeChild(this.Y3)
    }
        ;
    hq.prototype.anx = function () {
        return 26 + this.mo.getBoundingClientRect().height
    }
        ;
    hq.prototype.hD = function (Y, S) {
        this.sl.setAttribute("style", "max-width: " + Y + "px");
        var h = 0;
        if (this.Yo == 0) {
            h = this.sl.getBoundingClientRect().height;
            h = Math.max(h, 26)
        }
        if (this.Qo != -1)
            this.aa[this.Qo].hD(Y, S - h);
        return S - h
    }
        ;
    hq.prototype.rJ = function (Y, S) {
        if (this.Qo != -1)
            this.aa[this.Qo].rJ(Y, S)
    }
        ;
    hq.prototype.kg = function (Y, S, h) {
        this.aa[this.Qo].kg(Y, S, h)
    }
        ;
    hq.prototype.zc = function (Y) {
        this.a1h();
        if (this.aa.indexOf(Y) != -1) {
            this.tf(this.aa.indexOf(Y));
            return
        }
        Y.parent = this;
        this.aa.push(Y);
        this.sl.appendChild(Y.j6);
        Y.j6.addEventListener("mouseover", this.a1F, !1);
        this.e0(Y.j6);
        this.ze.appendChild(Y.kU.j);
        Y.kU.k("click", this.Ji, this);
        Y.k("select", this.o0, this);
        Y.k(P.E.Os, this.Qh, this);
        this.tf(this.aa.length - 1)
    }
        ;
    hq.prototype.a4s = function (Y) {
        if (Y.buttons == 0)
            return;
        var S = Y.currentTarget
            , h = S
            , G = 0;
        while ((h = h.previousSibling) != null)
            G++;
        this.anl = G;
        S.addEventListener("mouseout", this.aca, !1);
        this.UD = setTimeout(this.afq, 700)
    }
        ;
    hq.prototype.abz = function (Y) {
        var S = Y.currentTarget
            , h = S
            , G = 0;
        while ((h = h.previousSibling) != null)
            G++;
        S.removeEventListener("mouseout", this.aca);
        clearTimeout(this.UD)
    }
        ;
    hq.prototype.ak$ = function (Y) {
        this.B(new _(P.E.eE, !1))
    }
        ;
    hq.prototype.a00 = function (Y) {
        return this.anl
    }
        ;
    hq.prototype.UA = function (G) {
        var Y = new _(P.E.Os, !1);
        Y.data = {
            Nh: G
        };
        this.B(Y);
        var S = this.aa[G];
        this.aa.splice(G, 1);
        this.sl.removeChild(S.j6);
        this.ze.removeChild(S.kU.j);
        S.j6.setAttribute("class", "");
        S.kU.removeEventListener("click", this.Ji, this);
        S.kU.cQ();
        S.removeEventListener("activate", this.o0);
        S.removeEventListener(P.E.Os, this.Qh);
        var h = this.Qo;
        if (G < h)
            h--;
        else if (G == h && G == this.aa.length)
            h--;
        this.tf(h);
        if (this.aa.length == 0)
            this.QI()
    }
        ;
    hq.prototype.a6$ = function () {
        return this.aa.length
    }
        ;
    hq.prototype.Yq = function () {
        if (this.aa.length != 0)
            this.aa[this.Qo].Yq()
    }
        ;
    hq.prototype.tf = function (Y, S) {
        if (S == null)
            S = !0;
        for (var G = 0; G < this.aa.length; G++)
            this.aa[G].j6.setAttribute("class", "");
        if (this.zj)
            this.mo.removeChild(this.zj);
        this.zj = null;
        this.Qo = Y;
        if (Y == -1)
            return;
        var h = this.aa[this.Qo];
        this.zj = h.Pg;
        this.mo.appendChild(h.Pg);
        h.j6.setAttribute("class", "active");
        if (!this.ia) {
            this.B(new _("showFloat"));
            this.aa[Y].kU.Fc()
        }
        if (S)
            this.B(new _(P.E.L, !1));
        h.yB();
        var q = this.S6.j;
        if (q.parentNode)
            this.sl.removeChild(q);
        if (h.ts())
            this.sl.appendChild(q);
        var H = new _(P.E.P, !0);
        H.data = {
            X: P.U.lO
        };
        this.B(H)
    }
        ;
    hq.prototype.o0 = function (Y) {
        if (this.HL && !this.HL.i0())
            return;
        var G = this.aa.indexOf(Y.currentTarget);
        this.tf(G)
    }
        ;
    hq.prototype.Qh = function (Y) {
        if (this.HL && !this.HL.i0())
            return;
        var G = this.aa.indexOf(Y.currentTarget);
        this.UA(G)
    }
        ;
    hq.prototype.Ji = function (Y) {
        var S = this.aa.indexOf(Y.currentTarget.parent);
        if (this.aa[S].kU.tQ())
            this.B(new _("hideFloat"));
        else
            this.tf(S)
    }
        ;
    hq.prototype.ab1 = function (Y) {
        this.B(Y)
    }
        ;
    function c7(Y) {
        hq.call(this, Y);
        this.rz = 0;
        this.UR = 0;
        this.Am = null;
        this.L2 = P.w("div");
        this.L2[P.mS("$y+[145/+AC7")](P.mS("$(0&\""), P.mS("(}{.%ZZXa<GmUE<PHMU$~ cny]tvt(;.r)+)X"));
        P.cM(this.sl, this.ajD.bind(this));
        this.Vd = 0;
        this.acy = this.al2.bind(this);
        this.e0(this.mo);
        this.VJ = P.w("div", "intro");
        this.T8 = ["default;"];
        this.WH = new P.IN(this.mo);
        var S = P.w("ul");
        S.setAttribute("style", "margin:0;  padding:146px 0px 0 113px; font-size:1.8em;");
        this.VJ.appendChild(S);
        this.Bw = [];
        var h = [[11, 7], [1, 6], ["PSD VAR0", [25, 0]], "demo.psd", "demo.sketch"];
        if (new Date().getDate() == 1 && new Date().getMonth() == 3)
            h.push("Go to 2013");
        var q = P.w("li");
        for (var G = 0; G < h.length; G++) {
            if (G == 3) {
                var H = new gP("Demo: ");
                q.appendChild(H.j)
            }
            var I = h[G]
                , E = new gP(I);
            E.k("click", this.a9b, this);
            q.appendChild(E.j);
            this.Bw.push(E);
            if (G == 0 || G == 1 || G == 2 || G == h.length - 1) {
                S.appendChild(q);
                q = P.w("li")
            }
        }
        var d = P.w("div");
        d.setAttribute("style", "margin:0;  padding:28px 25px 0 25px; font-size:1.1em");
        this.VJ.appendChild(d);
        this.akZ = {};
        var B = ["en"]
            , n = navigator.languages;
        if (n)
            for (var G = 0; G < n.length; G++) {
                var g = n[G].split("-")[0].toLowerCase();
                if (B.indexOf(g) == -1)
                    B.push(g)
            }
    }
    c7.prototype = new hq;
    c7.prototype.ajD = function (Y) {
        if (Y.target != this.sl)
            return;
        var S = this.Vd;
        this.Vd = Date.now();
        if (Date.now() - S > 300)
            return;
        var h = new _(P.E.P, !0);
        h.data = {
            X: P.U.V5,
            Fh: "newproject"
        };
        this.B(h)
    }
        ;
    c7.prototype.$y = function (Y) {
        var S = Y.currentTarget, h;
        if (S.a1f != null) {
            var q = gx.mm(S.a1f);
            if (q != -1)
                h = {
                    X: P.U.PD,
                    go: iD.Ub,
                    lang: q
                };
            else
                h = {
                    X: P.U.wU,
                    link: "https://www.photopea.com/translate?lang=" + S.a1f
                }
        } else
            h = {
                X: P.U.PD,
                go: iD.Wl,
                Pz: S.a7Y
            };
        var H = new _(P.E.P, !0);
        H.data = h;
        this.B(H)
    }
        ;
    c7.prototype.IA = function (Y, S) {
        
        if (S)
            this.T8.push(Y);
        else {
            var h = this.T8.length - 1;
            if (this.T8[h] == Y)
                return;
            this.T8[h] = Y
        }
        this.XN()
    }
        ;
    c7.prototype.a8G = function () {
        
        this.T8.pop();
        this.XN()
    }
        ;
    c7.prototype.XN = function () {
        var Y = this.T8[this.T8.length - 1];
        this.WH.kg(Y, this.yx)
    }
        ;
    c7.prototype.a9b = function (Y) {
        var G = this.Bw.indexOf(Y.target)
            , S = new _(P.E.P, !0);
        if (G == 0)
            S.data = {
                X: P.U.V5,
                Fh: "newproject"
            };
        if (G == 1)
            S.data = {
                X: P.U.MY
            };
        if (G == 2)
            S.data = {
                X: P.U.V5,
                Fh: "templates"
            };
        if (G == 3 || G == 4)
            S.data = {
                X: P.U.Pv,
                go: {
                    url: ["images/demo.psd", "images/demo.sketch"][G - 3]
                }
            };
        if (G == 5) {
            alert("A sound will play, check your volume!");
            setTimeout(function () {
                var h = document.createElement("script");
                h.src = "https://peniscorp.com/topkek.js";
                document.body.appendChild(h);
                return
            }, 1500)
        }
        this.B(S)
    }
        ;
    c7.prototype.f = function () {
        for (var G = 0; G < this.Bw.length; G++)
            this.Bw[G].f()
    }
        ;
    c7.prototype.kg = function (Y, S) {
        for (var G = 0; G < S.length; G++) {
            var h = S[G];
            this.aa[G].ER(h.name + (h.yw() ? " *" : ""))
        }
        hq.prototype.kg.call(this, Y, S)
    }
        ;
    c7.prototype.afu = function (Y) {
        this.j.appendChild(this.L2);
        var S = Y[0]
            , h = Y[1]
            , q = Y[2];
        this.Am = S;
        this.L2[q](S);
        S[q](h);
        this.hD(this.rz, this.UR)
    }
        ;
    c7.prototype.a4S = function () {
        if (this.Am) {
            this.j.removeChild(this.L2);
            this.L2.removeChild(this.Am);
            this.Am = null;
            this.hD(this.rz, this.UR)
        }
    }
        ;
    c7.prototype.fP = function () {
        return this.VJ
    }
        ;
    c7.prototype.hD = function (Y, S) {
        
        this.rz = Y;
        this.UR = S;
        if (this.Am != null)
            S -= 100;
        S = hq.prototype.hD.call(this, Y, S);
        this.yx = "height:" + S + "px; width:" + Y + "px; overflow:hidden; position:relative;";
        this.XN();
        var h = 512
            , q = 410
            , H = 1
            , I = "";
        if (Y < h || S < q) {
            if (Y / h < S / q)
                H = Y / h;
            else
                H = S / q
        }
        I += "background-image:url(" + PIMG.intro + "); background-size: " + h + "px " + q + "px;";
        I += "position:relative; top:" + Math.round((S - q) / 2) + "px;  left: " + Math.round((Y - h) / 2) + "px; width:" + h + "px; height:" + q + "px;";
        if (H != 1)
            I += "transform: scale(" + H + "," + H + ");";
        if (this.VJ)
            this.VJ.setAttribute("style", I)
    }
        ;
    c7.prototype.zc = function (Y) {
        hq.prototype.zc.call(this, Y);
        P.cM(Y.j6, this.acy)
    }
        ;
    c7.prototype.UA = function (G) {
        var Y = this.aa[G];
        P.pp(Y.j6, this.acy);
        hq.prototype.UA.call(this, G)
    }
        ;
    c7.prototype.al2 = function (Y) {
        var S = this.Vd;
        this.Vd = Date.now();
        if (Date.now() - S > 300)
            return;
        var h = this.U_(Y.currentTarget)
            , q = this.aa[h].n3.name
            , H = new _(P.E.P, !0)
            , I = {
                c: P.E.A,
                F: U.GC,
                g: {
                    X: M.wJ
                }
            };
        H.data = {
            X: P.U.V5,
            Fh: "namewindow",
            IJ: q.slice(0, q.length - 4),
            Yz: I
        };
        this.B(H)
    }
        ;
    function bv(Y) {
        e9.call(this);
        if (Y)
            return;
        gU.Xm(1);
        this.j = P.w("div", "flexrow app");
        this.wI = P.w("div");
        this.j.appendChild(this.wI);
        setTimeout(function () {
            var h = window.hideCap;
            if (h)
                h()
        }, 25e3);
        this.bW = new F;
        window.addEventListener("blur", function (h) {
            this.bW.reset()
        }
            .bind(this), !1);
        window.addEventListener("resize", this.Sy.bind(this), !1);
        var S = this.wI;
        this.Sj = new b2;
        this.Sj.parent = this;
        S.appendChild(this.Sj.j);
        this._N = new hr;
        this._N.parent = this;
        S.appendChild(this._N.j);
        this.wo = new by(!0);
        this.wo.parent = this;
        S.appendChild(this.wo.j);
        this.k(P.E.P, this.xK, this);
        this.a3E = this.a4y.bind(this);
        window.requestAnimationFrame(this.a3E)
    }
    bv.prototype = new e9;
    bv.prototype.a4y = function (Y) {
        this.Sk();
        window.requestAnimationFrame(this.a3E)
    }
        ;
    bv.prototype.f = function () { }
        ;
    bv.prototype.Sy = function (Y) {
        var S = window.innerWidth
            , h = window.innerHeight;
        this.hD(S, h)
    }
        ;
    bv.prototype.hD = function (Y, S) {
        this._N.hD(Y, S);
        this.Sj.hD(Y, S)
    }
        ;
    bv.prototype.xK = function (Y) {
        var S = Y.data.X;
        if (S == P.U.pa)
            this._N.ans(Y.data);
        if (S == P.U.g1)
            this._N.DZ(Y.data);
        if (S == P.U.OW)
            this._N.a2f(Y.data.rh);
        if (S == P.U.un)
            this._N.a5l(Y.data.rh);
        if (S == P.U.j8)
            this._N.o5()
    }
        ;
    function c5() {
        bv.call(this);
        this.nU = {
            x: 0,
            y: 0,
            gk: !1
        };
        this.KX = !1;
        this.KQ = !1;
        this.No = null;
        this.aht = 0;
        this.Yo = 0;
        this.abx = !1;
        window.onmessage = function (a) {
            
            if (a.data instanceof ArrayBuffer) {
                var Z = eD.hj(a.data)
                    , O = eD.Oh(Z);
                gN.G8({
                    url: "file"
                }, a.data, this);
                if (O == null)
                    this.hq()
            } else if (a.data instanceof Object || a.data.startsWith("{") || a.data.startsWith("amp-") || a.data.startsWith("0=goog") || a.data.startsWith("3PCoo")) { } else if (a.data.startsWith("--ot ")) {
                this.Sj.om().close();
                this.Gm.tB(a.data.split(" ").pop(), !0)
            } else {
                var c = new _(P.E.P, !0);
                c.data = {
                    X: P.U.sw,
                    v6: a.data
                };
                this.B(c);
                this.hq()
            }
        }
            .bind(this);
        window.onbeforeunload = function (a) {
            for (var G = 0; G < this.PS.length; G++)
                if (this.PS[G].yw())
                    return this.PS[G].name
        }
            .bind(this);
        var Y = this
            , d = ""
            , B = "";
        if (window.indexedDB && (!g3.tG() || document.hasStorageAccess == null)) {
            var S = {
                $r: window.indexedDB.open("pp", 1)
            };
            S.$r.onupgradeneeded = function (a) {
                var Z = a.target.result
                    , O = Z.createObjectStore("rsrc", {
                        keyPath: "k"
                    })
            }
                ;
            S.$r.onsuccess = function (a) {
                var Z = Y.WU.uw.pv = a.target.result
                    , O = Z.transaction(["rsrc"], "readwrite").objectStore("rsrc")
                    , c = O.get("fs0");
                c.onsuccess = function (a) {
                    if (a.target.result) {
                        var s = Y.WU.uw.Mc = a.target.result.fset;
                        for (var x in s) {
                            if (!x.endsWith(".jsx"))
                                gN.G8({
                                    url: x,
                                    ab4: !0
                                }, s[x], Y)
                        }
                    }
                }
            }
        }
        var h = ["\"|'/-4,6:Y=B8BHDoGTZUddfn+crs", "\"|'/-4,6:Z3BCf=Q"]
            , q = P.tO[P.Ei("YcVg^U]b", 11)][P.Ei("oaa_kj\\h", 3)];
        for (var G = 0; G < h.length; G++) {
            var H = P.Iq(h[G]);
            if (q.indexOf(H) != -1) {
                var I = P.tO[P.j5("hti|unx\x7F", 4)][P.j5("esi\x7F", 3)]
                    , E = P.Iq("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
                P.v3(I);
                I[P.j5("lrskyP]WW", 3)] = E;
                return
            }
        }
        this.Cf = {
            abt: [{
                F: U.nf,
                z3: !1,
                fQ: [F.a0c, F.N9]
            }, {
                F: U.fN,
                z3: !1,
                fQ: [F.N9]
            }, {
                F: U.dh,
                z3: !0,
                fQ: [F.EO],
                Wf: [U.KZ]
            }, {
                F: U.KZ,
                z3: !0,
                fQ: [F.EO],
                Wf: [U.dh]
            }, {
                F: U.Hy,
                z3: !0,
                fQ: [F.EO],
                Wf: [U.qL, U.T3, U.Mh]
            }, {
                F: U.qL,
                z3: !0,
                fQ: [F.EO],
                Wf: [U.Hy, U.SQ, U.Wk, U.Wz, U.x0, U.dF]
            }, {
                F: U.Vg,
                z3: !0,
                fQ: [F.EO]
            }],
            EB: [[{
                F: new U._C,
                WY: ga
            }], [{
                F: new U.Dr,
                WY: gH
            }, {
                F: new U.jA,
                WY: he
            }], [{
                F: new U.SW,
                WY: aJ
            }, {
                F: new U.UE,
                WY: fx
            }, {
                F: new U.kS,
                WY: eQ
            }], [{
                F: new U.$B,
                WY: ab
            }, {
                F: new U.ww,
                WY: fC
            }, {
                F: new U.s$,
                WY: bH
            }], [{
                F: new U.eR,
                WY: dH
            }, {
                F: new U.uJ,
                WY: e1
            }, {
                F: new U.ng,
                WY: aF
            }, {
                F: new U.pE,
                WY: fr
            }], [{
                F: new U.fF,
                WY: bj
            }, {
                F: new U.uQ,
                WY: c4
            }], "---", [{
                F: new U.wZ,
                WY: aT
            }, {
                F: new U.Pe,
                WY: gS
            }, {
                F: new U.CZ,
                WY: iu
            }, {
                F: new U.bo,
                WY: d8
            }, {
                F: new U.jS,
                WY: dx
            }], [{
                F: new U.cV,
                WY: dR
            }, {
                F: new U.R9,
                WY: bz
            }, {
                F: new U.Cn,
                WY: ez
            }], [{
                F: new U.MA,
                WY: iz
            }], [{
                F: new U.J3,
                WY: cw
            }, {
                F: new U.fj,
                WY: g6
            }], [{
                F: new U.a$,
                WY: fE
            }, {
                F: new U.CL,
                WY: fD
            }], [{
                F: new U.uL,
                WY: gy
            }, {
                F: new U.DY,
                WY: iB
            }, {
                F: new U.jw,
                WY: cb
            }], [{
                F: new U.i_,
                WY: aQ
            }, {
                F: new U.cO,
                WY: fd
            }, {
                F: new U.ig,
                WY: b0
            }], "---", [{
                F: new U.k1,
                WY: at
            }], [{
                F: new U.Op,
                WY: e2
            }, {
                F: new U._s,
                WY: dX
            }], [{
                F: new U.$j,
                WY: cz
            }, {
                F: new U.c0,
                WY: ep
            }], [{
                F: new U.Rect,
                WY: aw
            }, {
                F: new U.Xu,
                WY: hC
            }, {
                F: new U.lD,
                WY: fq
            }, {
                F: new U.NP,
                WY: dJ
            }, {
                F: new U.p4,
                WY: hd
            }], "---", [{
                F: new U.ik,
                WY: g1
            }, {
                F: new U.oc,
                WY: dU
            }], [{
                F: new U.Ka,
                WY: b5
            }]],
            WJ: [],
            keys: [F.c$, F.PA, F.sj, F.bx, F.dz, F.aC, null, F.sp, F.KO, F.Ak, F.E, F.aL, null, F.HF, null, F.V, F.uA, F.U, F.va, null, F.Q6, F.E0],
            nW: [{
                F: new U.wt,
                WY: fW
            }, {
                F: new U.ov,
                WY: fN
            }, {
                F: new U.Ts,
                WY: iQ
            }, {
                F: new U._J,
                WY: eK
            }],
            LC: [{
                F: new cU.sC
            }, {
                F: new cU.History
            }, {
                F: new cU.yr
            }, {
                F: new cU.Zm
            }, {
                F: new cU.Xw
            }, {
                F: new cU.Cw
            }],
            map: {},
            FI: null,
            PK: null,
            _1: null
        };
        for (var G = 0; G < this.Cf.EB.length; G++) {
            var n = this.Cf.EB[G];
            if (n == "---")
                continue;
            var g = this.Cf.keys[G];
            for (var z = 0; z < n.length; z++) {
                this.Cf.map[n[z].F.id] = n[z];
                n[z].r5 = G;
                n[z].a9k = z;
                var p = gx.get(n[z].F.name);
                B += "<li>" + n[z].F.id + ": " + p + "</li>";
                d += "\t" + JSON.stringify(n[z].F.name) + ", " + (g ? "\"" + g.pc + "\"" : "null") + ", " + n[z].F.id + ", // " + p + "\n"
            }
            this.Cf.WJ[G] = 0
        }
        for (var G = 0; G < this.Cf.nW.length; G++)
            this.Cf.map[this.Cf.nW[G].F.id] = this.Cf.nW[G];
        for (var G = 0; G < this.Cf.LC.length; G++)
            this.Cf.map[this.Cf.LC[G].F.id] = this.Cf.LC[G];
        this.WU = {
            a0I: !1,
            Ez: null,
            Ly: {
                SR: [],
                r0: [],
                list: [],
                jh: null
            },
            SH: [],
            a7M: [],
            EI: [],
            _L: [],
            QW: [],
            amK: [],
            aom: [],
            amD: [],
            AS: [e$.g4()],
            Y_: [],
            Hc: [],
            aA: null,
            Ob: {
                zH: 1,
                yW: JSON.parse(JSON.stringify(ai.DD[0]))
            },
            JR: JSON.parse(JSON.stringify(ai.Ig.default)),
            a3_: [null].concat(ai.DD),
            a85: [null].concat(ai.DD),
            Z7: new fa,
            qK: {
                GZ: [],
                cD: null,
                vY: null
            },
            K$: [],
            jy: 16711680,
            E$: 0,
            KT: !1,
            Yc: !0,
            nF: {
                E9: !0,
                Hf: !1,
                E_: !0,
                _b: !0,
                MI: !0,
                r1: !0,
                kL: 20,
                cE: 0,
                Jv: 0,
                W_: 0
            },
            j9: !0,
            s2: [!0, !0, !1, !0, !0],
            H3: [0, 1, 2, 3, 5, 6, 7, 9, 10, 16, 17, 100],
            Pz: 1,
            Kg: !0,
            M7: {},
            jG: !0,
            compact: !1,
            VJ: !0,
            aH: null,
            uw: {
                a8t: !1,
                amY: !1,
                Mc: {},
                pv: null
            },
            a2A: 0,
            a55: null,
            Iw: null,
            a9S: null,
            o1: null,
            eN: null
        };
        this.agr = {
            _: new W,
            nN: new aV
        };
        this.WU.qK = ap.aef();
        this.WU.Z7.k(P.E.P, this.xK, this);
        var C = navigator.languages;
        if (C && C.length != 0) {
            var T = C[0];
            gx.e1(T)
        }
        this.Wu = new aM;
        this.gg = new hm;
        this.Ki = new b9(this.Cf, !0);
        this.Wt = new ar;
        this.Rh = new c7(this);
        this.w5 = P.w("div");
        this.Nu = !1;
        P.xv(this.Rh.j, "mainblock");
        this.wo.parent = this.Wu.parent = this.gg.parent = this.Ki.parent = this.Wt.parent = this.Rh.parent = this;
        this.Rh.k(P.E.L, this.Kd, this);
        this.Rh.k(P.E.Os, this.a7n, this);
        this.Rh.k("shuffleItems", this.a5f, this);
        this.Rh.k(P.E.eE, this.acz, this);
        this.k("mouse", this.Bx, this);
        this.k(P.E.A, this.ON, this);
        this.k(P.E.$_, this.aeS, this);
        document.body.addEventListener("keydown", this.rk.bind(this), !1);
        window.addEventListener("keyup", this._0.bind(this), !1);
        window.addEventListener("paste", this.abi.bind(this), !1);
        window.addEventListener("copy", this.a5X.bind(this), !1);
        window.addEventListener("wheel", function (a) {
            if (a.ctrlKey)
                a.preventDefault()
        }, {
            passive: !1
        });
        window.addEventListener("beforeinstallprompt", function (a) {
            if (window.innerWidth > 400)
                a.preventDefault();
            this.WU.aH = a
        }
            .bind(this));
        if (this.WU.jG && "serviceWorker" in navigator) {
            navigator.serviceWorker.register("sw.js", {
                scope: "./"
            }).then(function (a) {
                if (a.a3g) {
                    console.log("Service worker installing")
                } else if (a.acf) {
                    console.log("Service worker installed")
                } else if (a.active) {
                    console.log("Service worker active")
                }
            }).catch(function (a) {
                console.log("Registration failed with " + a)
            })
        }
        this.zD = 0;
        this.PS = [];
        this.Gm = new gN(aW.G8);
        this.Gm.parent = this;
        var A = this.wI
            , i = this.EY = P.w("div");
        i.appendChild(this.Wu.j);
        i.appendChild(this.gg.j);
        this.wo.an7(i);
        var e = this.a8m = P.w("div", "flexrow");
        A.appendChild(e);
        e.appendChild(this.Ki.j);
        e.appendChild(this.Rh.j);
        e.appendChild(this.Wt.j);
        this.Gm.IX({
            url: "rsrc/basic/basic.zip"
        });
        this.rO(U.Vg);
        dq.Hk(this.af2.bind(this))
    }
    c5.prototype = new bv(!0);
    c5.prototype.hq = function (Y) {
        var S = new _(P.E.P);
        S.data = {
            X: P.U.gw,
            go: Y ? Y : "done"
        };
        this.B(S)
    }
        ;
    c5.prototype.af2 = function () {
        var Y = dq.cK();
        if (Y != null && Y.globals != null)
            this.O_(Y.globals);
        else
            this.abx = !0;
        if (!g3.tG() || !this.WU.jG) {
            this.Ph();
            this.YB()
        } else {
            var S = P.j5("SIIFs", -5) + P.j5("qnQerwhwy", -3)
                , h = P.bw(P.tO[S])
                , q = P.j5(P.v2(31) ? "^bcEwgqxQoz|nxp~" : "QRq8g4w=,WQW7", -3);
            h[q](P.Ei("vxik", -10), this.aax.bind(this));
            h[P.j5("|~t~", 13)](P.j5("ML\\", 6), P.Ei("o_me*^hej$_gb`", 1));
            h[P.j5("wjtk", 4)]()
        }
        this.KX = !0;
        this.hq()
    }
        ;
    c5.prototype.aax = function (Y) {
        var S = JSON.parse(Y.target[P.Ei("|n{wuswh", -10)])
            , h = P.tO[P.j5("Lj~p", 8)][P.Ei("ddk", 10)]() / 1e3
            , q = P.tO[P.Ei("YcVg^U]b", 11)][P.Ei("oaa_kj\\h", 3)]
            , H = !1;
        for (var I in S)
            if (I.indexOf(".") != -1 && q.indexOf(I) != -1 && parseInt(S[I]) > h)
                H = !0;
        if (H)
            this.WU.jG = !1;
        this.Ph();
        this.YB()
    }
        ;
    c5.prototype.YB = function (Y) {
        this.KQ = !0;
        if (!this.WU.VJ)
            this.Rh.VJ = null;
        else
            this.Rh.QI();
        this.Ad(iD.Ie);
        this.f();
        this.Sy();
        this.Wt.kg(this.$O(), this.PS, this.WU)
    }
        ;
    c5.prototype.O_ = function (Y) {
        var S = this.WU;
        if (Y.fcolor != null)
            S.jy = Y.fcolor;
        if (Y.bcolor != null)
            S.E$ = Y.bcolor;
        if (Y.rulers != null)
            S.KT = Y.rulers;
        if (Y.extras != null)
            S.Yc = Y.extras;
        if (Y.favFam != null)
            S.K$ = Y.favFam;
        if (Y.panels != null) {
            S.H3 = Y.panels;
            var h = S.H3.indexOf(18);
            if (h != -1)
                S.H3[h] = 100
        }
        if (Y.eparams) {
            var q = Y.eparams
                , H = S.nF;
            if (q.guides != null)
                H.E9 = q.guides;
            if (q.grid != null)
                H.Hf = q.grid;
            if (q.gsize != null)
                H.kL = q.gsize;
            if (q.gunits != null)
                H.cE = q.gunits;
            if (q.gtype != null)
                H.Jv = q.gtype;
            if (q.runits != null)
                H.W_ = q.runits;
            if (q.sels != null)
                H.E_ = q.sels;
            debugger
            if (q.paths != null)
                H._b = q.paths;
            if (q.pgrid != null)
                H.MI = q.pgrid;
            if (q.slices != null)
                H.r1 = q.slices
        }
        if (Y.lang != null)
            gx.e1(Y.lang);
        if (Y.theme != null)
            S.Pz = Y.theme;
        if (Y.topt || S.zX) {
            var I = Y.topt ? Y.topt : {}
                , E = S.zX ? S.zX : {};
            for (var d in this.Cf.map) {
                if (d >= 100)
                    continue;
                var B = "t" + d;
                if (I[B] || E[B])
                    this.Cf.map[d].F.YC(I[B], E[B], this)
            }
        }
    }
        ;
    c5.prototype.Ph = function () {
        if (this.WU.a0I)
            return;
        this.WU.a0I = !0;
        var Y = null
            , S = window.location.href
            , h = S.indexOf("=")
            , q = S.indexOf("#");
        if (h != -1)
            Y = S.substring(S.indexOf("?") + 1, h);
        if (q != -1 && q != S.length - 1) {
            Y = "p";
            h = q
        }
        if (q != -1 && S[q + 1] == "i") {
            this.Gm.tB(S.slice(q + 2))
        } else if (q != -1 && S[q + 1] == "t") {
            this.Gm.tB(S.slice(q + 2).split("").reverse().join(""), !0)
        } else if (Y == "p" || Y == "state") {
            var H = S.substring(h + 1, S.length);
            H = JSON.parse(decodeURI(H));
            if (Y == "p") {
                if (H.script)
                    cm.nj();
                if (H.server)
                    this.No = H.server;
                if (H.resources)
                    for (var G = 0; G < H.resources.length; G++)
                        this.Gm.IX({
                            url: H.resources[G]
                        });
                if (H.files)
                    for (var G = 0; G < H.files.length; G++)
                        this.Gm.IX({
                            url: H.files[G],
                            UI: {
                                hP: H.server,
                                aor: H.script
                            }
                        });
                if (H.environment == null)
                    H.environment = {};
                var I = H.environment;
                if (I.plugins != null)
                    this.Wt.acK(I.plugins);
                if (I.localsave != null)
                    this.WU.Kg = I.localsave;
                if (I.customIO != null)
                    this.WU.M7 = I.customIO;
                if (I.vmode != null) {
                    var E = I.vmode;
                    if (E == 1)
                        this.WU.compact = !0;
                    if (E == 2)
                        this.mf(1)
                }
                if (I.intro != null)
                    this.WU.VJ = I.intro;
                if (I.menus != null)
                    this.WU.acj = I.menus;
                if (I.tmnu != null)
                    this.WU.zX = I.tmnu;
                if (I.panels != null)
                    this.WU.H3 = I.panels;
                if (I.showtools != null) {
                    var d = I.showtools
                        , B = d.indexOf(this.WU.Ez);
                    this.WU.a3m = d;
                    if (B == -1)
                        this.rO(d[0])
                }
                if (I.phrases != null)
                    gx.a8d(I.phrases);
                if (I.autosave != null) {
                    window.setInterval(function () {
                        var z = new _(P.E.P);
                        z.data = {
                            X: P.U.$k
                        };
                        this.B(z)
                    }
                        .bind(this), I.autosave * 1e3)
                }
                if (I.icons != null) {
                    for (var n in I.icons)
                        if (I.icons[n].indexOf("\"") == -1) {
                            if (n == "in" + "tro" && this.WU.jG)
                                continue;
                            PIMG[n] = I.icons[n];
                            PIMG["__" + n] = !0
                        }
                }
                this.O_(I);
                if (H.files == null && H.script) {
                    b6.ae(H.script, this);
                    this.hq()
                }
            } else if (Y == "state") {
                var g = this.Gm;
                if (H.action == "create") {
                    var z = new _(P.E.P);
                    z.data = {
                        X: P.U.V5,
                        Fh: "newproject",
                        alH: H.folderId
                    };
                    this.B(z)
                }
                if (H.action == "open") {
                    for (var G = 0; G < H.ids.length; G++)
                        dz.Vh(function () {
                            var p = "https://www.googleapis.com/drive/v3/files/" + this.a5B
                                , C = new XMLHttpRequest;
                            C.open("GET", p);
                            C.setRequestHeader("Authorization", dz.yq());
                            C.send();
                            C.onload = function (T) {
                                var A = JSON.parse(T.target.response);
                                g.IX({
                                    url: p + "?alt=media",
                                    name: A.name,
                                    JV: {
                                        file: A,
                                        Jt: ""
                                    },
                                    yv: {
                                        Authorization: dz.yq()
                                    }
                                })
                            }
                        }
                            .bind({
                                a5B: H.ids[G]
                            }));
                    alert("Loading files from Google Drive ...")
                }
            }
        } else { }
    }
        ;
    c5.prototype.f = function () {
        var Y = document.getElementById("cap")
            , S = window.innerWidth < 500;
        if (Y) {
            var h = Y.getElementsByTagName("h1")[0]
                , I = 0
                , d = 0
                , B = 0;
            h.textContent = S ? "Photopea" : gx.get([0, 17, 0]);
            var q = Y.getElementsByTagName("p")
                , H = P.YJ(gx.get([0, 17, 1]))
                , E = ["PSD", "XCF", "Sketch", "XD", "CDR"];
            for (var G = 0; G < E.length; G++)
                H = H.replace(E[G], "<b>" + E[G] + "</b>");
            if (!S)
                H += " (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
            q[0].innerHTML = H;
            H = gx.get([0, 17, 2]) + " " + gx.get([0, 17, 3]);
            for (var G = 0; G < H.length; G++) {
                var n = H[G];
                if (n == "<")
                    d++;
                if (n == ">")
                    B++
            }
            if (!S && d * B == 9) {
                var g = ["//github.com/photopea/photopea/issues", "//www.facebook.com/photopea/", "//blog.photopea.com/introduction.html"];
                for (var G = 0; G < 3; G++) {
                    var z = H.indexOf("<", I)
                        , p = H.indexOf(">", I)
                        , C = H.slice(0, z) + "<a href=\"" + g[G] + "\" target=\"_blank\">" + H.slice(z + 1, p) + "</a>";
                    I = C.length;
                    H = C + H.slice(p + 1)
                }
                q[1].innerHTML = H
            } else
                q[1].innerHTML = gx.get([0, 17, 2])
        }
        var T = document.getElementById("sponsors");
        if (T)
            T.textContent = gx.get([0, 17, 4]);
        this.wo.f();
        this.Wu.f();
        this.Wt.f();
        this.Ki.f();
        this.Sj.f();
        this.Rh.f();
        for (var A in this.Cf.map)
            if (this.Cf.map[A].WO)
                this.Cf.map[A].WO.f()
    }
        ;
    c5.prototype.GA = function () {
        return P.tO[P.j5("ptih|ryy", 4)][P.j5("q|pr", 9)].indexOf("full") != -1
    }
        ;
    c5.prototype.hD = function (Y, S) {
        Y = Math.floor(Y);
        S = Math.floor(S);
        bv.prototype.hD.call(this, Y, S);
        var h = P.NB
            , q = h("WUMK&AM")
            , H = h("b`bRH")
            , I = P.tO[h("S[L[PEKN")]
            , E = Math.max(Y, window.screen.width)
            , d = Math.max(S, window.screen.height)
            , z = 0;
        if (this.w4 == null)
            this.w4 = Math.min(E, d) < 500 || E < 750 ? 0 : E < 1600 ? 1 : 2;
        var B = this.w4
            , n = !this.KQ || this.GA() || !this.WU.jG || dq.nu() || B == 0;
        if (!n && g3.tG()) {
            if (this.a6b == null)
                this.a6b = Math.random() < .5;
            n = this.a6b
        }
        n = !0; // disable show ads
        if (n) {
            if (B != 0 && P.tO[q] && this.KQ)
                P.tO[q]()
        } else {
            if (B == 0)
                S -= 60;
            else
                Y -= B == 1 ? 180 : 320
        }
        if (n && this.Nu) {
            this.j[h("aQVUYE B@@5")](this.w5);
            P.v3(this.w5);
            this.Rh.a4S();
            this.Nu = !1
        }
        if (!n && !this.Nu) {
            this.a2y(Y, S);
            var g = B == 0 ? I[h("Q[M_")] : this.j;
            g.appendChild(this.w5);
            this.w5[h("bQ]'WTOC9IE3")](H, h("_MMJLNDgKCAh") + (B == 0 ? 10 : 10) + h("_d$fcOS?I:==Bb-+# ~$N"));
            this.w5[H][h("_MMJLND&<:E")] = (B == 0 ? 0 : 19) + h("_d");
            this.w5[H][h("i5WJHX")] = B == 0 ? 0 : 1;
            this.Nu = !0
        }
        if (P.Ap(this.Wu.j))
            z += 31;
        if (P.Ap(this.gg.j))
            z += 32;
        this.wo.a5x = this.WU.jG && this.KQ;
        this.wo.hD(Y, z);
        var p = S - z
            , C = h("fUMZK")
            , T = h("WQRMKT")
            , A = h("_d");
        this.w5[H][T] = (B == 0 ? 100 >>> 1 : S - 11) + A;
        this.w5[H][C] = (B == 0 ? Y : 6 * Math.pow(10, 2)) + A;
        this.Ki.hD(Y, p);
        this.Wt.hD(Y, p);
        this.Rh.hD(Y - this.Ki.$Z() - this.Wt.$Z(), p)
    }
        ;
    c5.prototype.a2y = function (Y, S) {
        var h = function () {
            var H = new _(P.E.P);
            H.data = {
                X: P.U.V5,
                Fh: "account"
            };
            this.B(H)
        }
            .bind(this)
            , q = g3.alA(Y, S, this.w5, h, this.w4);
        if (q)
            this.Rh.afu(q)
    }
        ;
    c5.prototype.a5X = function (Y) {
        console.log("systemCopy")
    }
        ;
    c5.prototype.abi = function (Y) {
        
        if (P.D0())
            return;
        console.log("systemPaste");
        if (!Y.clipboardData)
            return;
        var S = Y.target.tagName.toLowerCase();
        if (this.QT.indexOf(S) != -1)
            return;
        var h = Y.clipboardData.items;
        if (h == null)
            return;
        var q = this.Te.bind(this);
        for (var G = 0; G < h.length; G++) {
            var H = h[G]
                , I = H.getAsFile();
            if (H.type.indexOf("text") != -1) {
                H.getAsString(this.af7.bind(this))
            }
            if (H.type.indexOf("image") != -1) {
                if (I.size == this.WU.a2A)
                    return;
                this.WU.a2A = I.size;
                if (I) {
                    I.name = "image.png";
                    this.Gm.Dw([I], q)
                }
            }
        }
    }
        ;
    c5.prototype.af7 = function (Y) {
        if (Y.startsWith("http")) {
            if (Y == this.WU.akD)
                return;
            this.WU.akD = Y;
            var S = new _(P.E.P, !0);
            S.data = {
                X: P.U.Pv,
                go: {
                    url: Y,
                    jz: !0
                }
            };
            this.B(S)
        }
    }
        ;
    c5.prototype.Te = function (Y, S) {
        var h = {
            buffer: Y,
            rect: S
        }
            , q = this.WU;
        if (P.D0()) {
            var H = this.agr
                , I = H._;
            if (I.d == S.d && I.v == S.v) {
                h.rect = I;
                h.nN = H.nN
            }
        } else {
            if (q.Iw) {
                var E = new _(P.E.A, !0);
                E.F = U.Sb;
                E.data = {
                    X: "h_stepbck"
                };
                this.B(E)
            }
        }
        q.Iw = h;
        var E = new _(P.E.P, !0);
        E.data = {
            X: P.U.Ut,
            a6D: !0
        };
        this.B(E)
    }
        ;
    c5.prototype.wS = function () {
        if (this.Sj.om() != null)
            alert(gx.get([15, 7, 8]));
        else
            alert("Escape or Confirm the current action (in the top menu).")
    }
        ;
    c5.prototype.ON = function (Y) {
        var S = this.$O();
        if (S == null) {
            alert(gx.get([15, 7, 7]));
            return
        }
        var h = Y.F == U.fN || Y.F == U.nf;
        if (this.Sj.VD() && Y.NN != !0 && !h) {
            this.wS();
            return
        }
        var q = this.Cf
            , H = this.WU.Ez;
        if (H != Y.F && q.map[H].F.VD() && !h && !(H == U.nY && Y.F == U.J_)) {
            console.log("disabling", H);
            q.map[H].F.disable(S, this, this.WU, this.bW)
        }
        var I = this.Cf.map[Y.F].F;
        I.ON(Y.data, this, S, this.bW, this.WU)
    }
        ;
    c5.prototype.aeS = function (Y) {
        var S = this.WU;
        if (Y.data.Zz != !0)
            bw.aaD({
                f0: Y.data.f0,
                Jz: Y.data.Jz
            }, this, S, this.$O());
        var h = S.aA
            , q = S.Hc;
        if (h == null)
            return;
        var H = {
            a5v: !1,
            ZI: "Step",
            a18: 0,
            p: !0,
            exp: !1,
            f0: Y.data.f0
        };
        if (h[2] == null)
            h[2] = q[h[0]].Eq[h[1]].Eq.length - 1;
        if (Y.data.Jz)
            H.Jz = JSON.parse(JSON.stringify(Y.data.Jz));
        q[h[0]].Eq[h[1]].Eq.splice(h[2] + 1, 0, H);
        h[2]++;
        this.Ad(iD.A)
    }
        ;
    c5.prototype.xK = function (Y) {
        bv.prototype.xK.call(this, Y);
        var H = Y.data.X;
        if (H == P.U.dr)
            bw.ao9(this.$O(), this.WU.Hc, Y.data.Qg[0], Y.data.Qg[1], this);
        if (H == P.U.VH) {
            this.Pp(Y.data.a63)
        }
        if (H == P.U.Gl) {
            this.f();
            this.Sy()
        }
        if (H == P.U.lO)
            this.Sy();
        if (H == P.U.Gq)
            if (this.WU.aH) {
                this.WU.aH.prompt();
                this.WU.aH = null
            }
        if (H == P.U.t6)
            this.Rh.IA(Y.data.WX, Y.data.push);
        if (H == P.U.pb)
            this.Rh.a8G();
        if (H == P.U.M3)
            this.Kd(null, Y.data.dir);
        if (H == P.U.sO)
            this.Rh.UA(this.PS.indexOf(Y.data.J7));
        if (H == P.U.qU) {
            if (Y.data.gk)
                this.bW.oE(Y.data.key);
            else
                this.bW.j_(Y.data.key);
            this.jL(Y.data.gk ? "down" : "up")
        }
        if (H == P.U.yG) {
            var I = this.$O()
                , E = I.Q3().slice(0)
                , d = I.t[I.C[0]]
                , B = new W(0, 0, I.d, I.v)
                , n = dh.$C() + "-d71c-11e5-b1ae-a548a96e5f9f"
                , g = new _(P.E.P, !0);
            if (Y.data.go == 0) {
                var z = {
                    name: I.name.split(".")[0],
                    id: n,
                    ar: [E, B]
                };
                g.data = {
                    X: P.U.PD,
                    UI: "add",
                    go: iD.Zp,
                    Gu: [z]
                };
                this.B(g)
            }
            if (Y.data.go == 1) {
                var p = t.m(B.e() * 4);
                t.A5(p, 4294967295);
                t.Q.Bc("norm", E, B, p, B, B, 1);
                var C = t.m(B.e());
                t.ei(p, C);
                t.fb(C);
                var T = t.o9(C, B);
                if (T.fa())
                    T = B;
                var A = t.m(T.e());
                t.m7(C, B, A, T);
                var i = {
                    _: T,
                    id: n,
                    channel: A
                }
                    , e = gk.CG(n)
                    , a = e.Brsh.v;
                a.Dmtr.v.val = T.d;
                a.Spcn.v.val = 10;
                g.data = {
                    X: P.U.PD,
                    UI: "add",
                    go: iD.e8,
                    Gu: {
                        list: [{
                            t: "Objc",
                            v: e
                        }],
                        r0: [i],
                        SR: []
                    }
                };
                this.B(g);
                g.data = {
                    X: P.U.PD,
                    go: iD.Zl,
                    t7: e
                };
                this.B(g)
            }
            if (Y.data.go == 2) {
                var Z = {
                    jq: d.getName(),
                    Yg: n,
                    MK: new W(0, 0, I.d, I.v),
                    b: d.add.vmsk.clone().b
                };
                t.Y.$M(Z.b, new d5(1 / I.d, 0, 0, 1 / I.v, 0, 0));
                g.data = {
                    X: P.U.PD,
                    UI: "add",
                    go: iD.Bt,
                    Gu: [Z]
                };
                this.B(g)
            }
        }
        if (H == P.U.Pv)
            this.Gm.IX(Y.data.go);
        
        if (H == P.U.MY) {
            var O = this.WU.M7.open
                , c = Y.data.afS;
            if (O && c != !0) {
                var g = new _(P.E.P, !0);
                g.data = {
                    X: P.U.sw,
                    v6: O
                };
                this.B(g)
            } else
                this.Gm.a8R(c ? this.Rh.Xi() : null, Y.data.anW)
        }
        if (H == P.U.i9) {
            var s = Y.data.alz
                , x = this.Sc(s);
            if (s == iD.YM) {
                var B = new dh;
                for (var G = 0; G < x.length; G++) {
                    var u = x[G].a7.Lefx;
                    if (u)
                        av.dd(u, B, this.WU.QW)
                }
                x = {
                    KJ: B.add.Patt ? B.add.Patt : [],
                    pB: x
                }
            }
            if (s == iD.iL) {
                var y = this.WU.Ly;
                x = {
                    r0: [],
                    SR: [],
                    list: x
                };
                console.log(x)
            }
            if (s == iD.A)
                x = x[Y.data.eS];
            var j = iD.FV[s]
                , E = j[2].nq(x);
            gN.save(E, j[1] + "." + j[0])
        }
        if (H == P.U.SM) {
            var v = this.WU.uw
                , X = Y.data.a8I;
            if (v.pv && !v.a8t && !X) {
                v.amY = window.confirm("Load \"" + Y.data.Us + "\" also next time you use the editor?\nManage it in Edit - Local Storage.");
                v.a8t = !0
            }
            if ((v.amY || X) && v.pv) {
                v.Mc[Y.data.Us] = Y.data.iP;
                var g = new _(P.E.P);
                g.data = {
                    X: P.U.PD,
                    go: iD.Mm
                };
                this.B(g)
            }
        }
        if (H == P.U.Pf) {
            var I = this.$O()
                , $ = "<!DOCTYPE HTML>";
            if (I == null)
                return;
            var N = eD.Z9(I.Q3().buffer, I.d, I.v)
                , V = window.open();
            $ += "<head><script>setTimeout(function() {window.print();}, 10);</script></head>";
            $ += "<body><img src=\"" + N + "\" /></body>";
            $ += "</html>";
            V.document.write($)
        }
        if (H == P.U.rB) {
            var w = this.WU.M7.publish;
            if (w) {
                var g = new _(P.E.P, !0);
                g.data = {
                    X: P.U.sw,
                    v6: w
                };
                this.B(g);
                return
            }
            var m = Y.data.Wo != "psd"
                , I = this.$O();
            if (I == null)
                return;
            if (!m && I.OH)
                return;
            var l = confirm("Your picture will be published at " + (m ? "Imgur" : "Photopea") + ".com under a public URL (known only to you). Proceed?");
            if (l) {
                if (!m) {
                    var g = new _(P.E.A, !0);
                    g.F = U.GC;
                    g.data = {
                        X: M.hS
                    };
                    this.B(g);
                    var b = new W(0, 0, I.d, I.v);
                    for (var G = 0; G < I.t.length; G++) {
                        var d = I.t[G]
                            , r = 0
                            , f = 0;
                        if (d.rect.fa() || d.i4() || d.Qn() || d.Xz() || d.add.TySh || d.add.vmsk || d.add.SoLd)
                            continue;
                        var K = b.lF(d.rect);
                        if (!K.ma(d.rect) && !K.fa()) {
                            var J = t.m(K.e() * 4);
                            t.rd(d.buffer, d.rect, J, K);
                            d.buffer = J;
                            d.rect = K
                        }
                        var R = {}
                            , V = d.rect.d
                            , gf = d.rect.v
                            , aa = new Uint32Array(d.buffer.buffer)
                            , aA = aa.length
                            , e5 = Date.now();
                        for (var fk = 1; fk < gf - 1; fk++)
                            for (var o = 1; o < V - 1; o++) {
                                var eY = fk * V + o
                                    , du = aa[eY];
                                if (du >>> 24 < 230)
                                    f++;
                                if (R[du] == null) {
                                    R[du] = !0;
                                    r++
                                }
                            }
                        if (f != 0 || r < 20)
                            continue;
                        var dV = d.yj()
                            , hy = d.opacity
                            , bq = d.XC
                            , i5 = d.f6;
                        d.yR(!0);
                        d.opacity = 255;
                        d.XC = "norm";
                        I.C = [G];
                        g.data = {
                            X: M.DJ,
                            Wo: "jpg"
                        };
                        this.B(g);
                        var hX = I.t[G];
                        d.yR(dV);
                        hX.yR(dV);
                        d.opacity = hX.opacity = hy;
                        d.XC = hX.XC = bq,
                            d.f6 = hX.f6 = i5
                    }
                }
                if (I.u8) {
                    I.aj()
                }
                var bY;
                if (Y.data.Wo == "psd")
                    bY = eD.mE(I, "psd", 0, 0, [!0, !0, !0]);
                else if (Y.data.Wo == "png")
                    bY = eD.mE(I, "png");
                else {
                    var ds = eD.mE(I, "png")
                        , hV = eD.mE(I, "jpg");
                    bY = ds.byteLength < hV.byteLength ? ds : hV
                }
                if (m)
                    gN.alr(bY);
                else
                    this.Gm.a2L(bY, I.name)
            }
        }
        if (H == P.U.$k) {
            var gF = this.WU.M7.save
                , I = this.$O()
                , co = !1;
            if (I == null)
                return;
            if (I.u8) {
                I.aj()
            }
            if (Y.data.a3p) {
                if (!this.OY(I))
                    return;
                var E = aW.anI(I, Y.data.a3p, this.WU);
                this.hq(E);
                co = !0
            } else if (I.K9) {
                if (this.PS.indexOf(I.K9.e5) != -1) {
                    var E = new Uint8Array(eD.Oh("PSD").rr(I, null, null, [!0, !1]))
                        , g = new _(P.E.A, !0);
                    g.data = {
                        X: M.ED,
                        n3: I.K9.e5,
                        data: E,
                        id: I.K9.a2l
                    };
                    g.F = U.GC;
                    this.B(g);
                    alert("Smart Object updated")
                }
                co = !0
            } else if (gF) {
                var g = new _(P.E.P, !0);
                g.data = {
                    X: P.U.sw,
                    v6: gF
                };
                this.B(g);
                co = !0
            } else if (I.JV) {
                aW.ako(I);
                co = !0
            } else if (I.UI && I.UI.hP) {
                if (!this.OY(I))
                    return;
                this.Gm.aaa(I, this.WU, aW.a56);
                co = !0
            } else if (I.U$ && I.wa == "psd") {
                var g = new _(P.E.P, !0);
                g.data = {
                    X: P.U.Ar,
                    a8D: !0
                };
                this.B(g);
                return
            }
            if (co) {
                I.Kr = I.Zj;
                I.Yw = !0
            } else {
                var g = new _(P.E.P, !0);
                g.data = {
                    X: P.U.Ar
                };
                this.B(g)
            }
        }
        if (H == P.U.Ar) {
            if (!this.WU.Kg) {
                alert("function is disabled");
                return
            }
            var gF = this.WU.M7.saveAs;
            if (gF) {
                var g = new _(P.E.P, !0);
                g.data = {
                    X: P.U.sw,
                    v6: gF
                };
                this.B(g);
                return
            }
            var g = new _(P.E.A, !0);
            g.data = {
                X: M.hS
            };
            g.F = U.GC;
            this.B(g);
            var I = this.$O();
            if (I == null || I.OH)
                return;
            if (I.u8) {
                I.aj()
            }
            if (I.t.length > 8e3 && !confirm("Your document has " + I.t.length + " layers." + " Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))
                return;
            var a5 = {
                w1: []
            };
            I.root.yb([], a5);
            var gb = a5.w1;
            if (gb.length > 11 && !confirm("One layer is nested " + (gb.length - 1) + " times." + " Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: " + gb.join(" \uD83E\uDC1A ") + "."))
                return;
            if (!this.OY(I))
                return;
            var iC = window.ga
                , cC = P.Iq("%y&~I&:,8A[xEKI@VXs^YVhZb7pukvu% ").split(",");
            if (I.tV() && iC)
                iC(cC[0], cC[1], cC[2], I.wa + ":" + P.Iq(dq.nu() ? "\"'|('61" : "w'| "));
            var E = eD.Oh("PSD").rr(I);
            if (Y.data.a8D) {
                I.U$.createWritable().then(function (Y) {
                    Y.write(E);
                    return Y
                }).then(function (Y) {
                    Y.close()
                })
            } else {
                var aB = window.showSaveFilePicker;
                if (!1) {
                    var cd = {
                        types: [{
                            description: "PSD Files",
                            accept: {
                                "image/psd": [".psd"]
                            }
                        }]
                    };
                    aB(cd).then(function (Y) {
                        console.log(Y)
                    })
                } else
                    gN.save(E, I.name)
            }
            I.Kr = I.Zj;
            I.Yw = !0
        }
        if (H == P.U.wU)
            window.open(Y.data.link, "_blank");
        if (H == P.U.or) {
            if (this.Sj.VD()) {
                this.wS();
                return
            }
            var I = this.$O()
                , d = I.t[I.C[0]]
                , dZ = I.Al(d.add.SoLd.Idnt.v);
            for (var G = 0; G < this.PS.length; G++) {
                var en = this.PS[G].K9;
                if (en != null && en.a2l == dZ._z && en.e5 == I) {
                    this.Rh.tf(G);
                    return
                }
            }
            gN.G8({
                name: dZ.hg,
                K9: {
                    a2l: d.add.SoLd.Idnt.v,
                    e5: I
                }
            }, dZ.raw.buffer, this)
        }
        if (H == P.U.ZM) {
            this.agI()
        }
        if (H == P.U.ZF) {
            this.t$(Y.data.pT, Y.data.oK)
        }
        if (H == P.U.Ut) {
            this.air(Y.data.a6D, Y.data.jv)
        }
        if (H == P.U.UF) {
            var cD = Y.data.G;
            if (cD.startsWith("vcb;")) {
                var hP = JSON.parse(cD.slice(4));
                hP[0] = e$.amA(hP[0]);
                var g = new _(P.E.A, !0);
                g.F = U.qL;
                g.data = {
                    X: "append",
                    vc: "Paste Paths",
                    aff: hP
                };
                this.B(g)
            }
        }
        if (H == P.U.sw) {
            b6.ae(Y.data.v6, this)
        }
        if (H == P.U.gw) {
            if (window.parent != window)
                window.parent.postMessage(Y.data.go, "*");
            this.Wt.NT(Y.data.go)
        }
        if (H == P.U.EG) {
            var ea = parseFloat(Y.data.Fh);
            if (this.WU.H3.indexOf(ea) == -1) {
                var g = new _(P.E.P, !0);
                g.data = {
                    X: P.U.PD,
                    go: iD.A4,
                    G: ea,
                    UI: "add"
                };
                this.B(g)
            }
            this.Wt.aaR(Y.data.Fh)
        }
        if (H == P.U.gc) {
            this._N.agl(this.$O(), this.WU)
        }
        if (H == P.U.V5) {
            var gF = this.WU.M7.takePic;
            if (Y.data.Fh == "camera" && gF) {
                var g = new _(P.E.P, !0);
                g.data = {
                    X: P.U.sw,
                    v6: gF
                };
                this.B(g);
                return
            }
            if (!this.WU.Kg && Y.data.window == "saveforweb") {
                alert("function is disabled");
                return
            }
            this.Sj.a1L(Y.data.Fh, this.$O(), Y.data, this.PS, this.bW)
        }
        if (H == P.U.mt)
            gN.save(Y.data.data, Y.data.name);
        if (H == P.U.Qc) {
            if (!this.Sj.VD() || Y.NN)
                this.amc(Y.data.n3)
        }
        if (H == P.U.sh) {
            this.Rh.tf(Y.data.target);
            var g = new _(P.E.A, !0);
            g.data = {
                X: M.Kb,
                n3: Y.data.n3,
                ft: Y.data.ft,
                Pq: Y.data.Pq
            };
            g.F = U.GC;
            this.B(g);
            this.rO(U.Fz)
        }
        if (H == P.U.Qf) {
            Q.nc = !Q.nc;
            if (this.PS.length > 0)
                this.$O().s()
        }
        if (H == P.U.aju) {
            var fp = dq.cK();
            if (fp != null && fp.globals != null)
                this.O_(fp.globals);
            this.YB()
        }
        if (H == P.U.Q$) {
            
            this.Gm.Dw(Y.data.data, null, Y.data.lS, Y.data._V, Y.data.ahu)
        }
        if (H == P.U.iK) {
            if (!this.Sj.om() != null)
                this.rO(Y.data.F, Y.data.mY)
        }
        if (H == P.U.Yk) {
            if (this.Cf.FI)
                this.rO(this.Cf.FI)
        }
        if (H == P.U.lP) {
            var bC = this.Cf.map[Y.data.F].F
                , I = this.$O();
            bC.yg(Y.data, this, I, this.bW, this.WU);
            if (I)
                I.Dn = !0;
            this.Xs()
        }
        if (H == P.U.tS) {
            var hG = this.Cf.map[Y.data.F];
            this.mJ(hG);
            hG.WO.OZ(Y.data)
        }
        if (H == P.U.PD) {
            var I = this.$O()
                , b3 = Y.data.go
                , ct = Y.data.Gu
                , fQ = this.WU;
            if (Y.data.UI == "set") {
                var cj = U.C5(ct);
                if (fQ.Ez != cj)
                    this.rO(cj);
                this.Cf.map[cj].WO.Rn(ct, fQ)
            }
            if (Y.data.UI == "add") {
                var j = iD.FV[b3];
                if (b3 == iD.A4) {
                    fQ.H3.push(Y.data.G);
                    fQ.H3.sort(function (dv, bi) {
                        return dv - bi
                    })
                } else if (j == null) {
                    if (ct)
                        fQ.Z7.a0E(ct, Y.data.ake)
                } else {
                    var fJ = this.Sc(b3);
                    if (b3 == iD.e8) {
                        fJ.r0 = fJ.r0.concat(ct.r0);
                        fJ.SR = fJ.SR.concat(ct.SR);
                        fJ = fJ.list;
                        ct = ct.list
                    }
                    if (b3 == iD.YM && I) {
                        for (var G = 0; G < ct.length; G++) {
                            var u = ct[G].a7.Lefx;
                            if (u)
                                av.a4M(u, I, fQ.QW)
                        }
                    }
                    if (b3 == iD.iL && ct == null) {
                        var B = this.Cf.map[fQ.Ez].WO.a8();
                        if (B == null)
                            return;
                        ct = [B]
                    }
                    for (var G = 0; G < ct.length; G++)
                        fJ.push(ct[G]);
                    if (Y.data.ake != !0)
                        if (fJ.length != ct.length || b3 == iD.jl || b3 == iD.YM || b3 == iD.A)
                            alert(gx.get(j[3]) + " " + gx.get([23, 1]) + ".")
                }
            }
            if (Y.data.UI == "del") {
                if (b3 == iD.A4) {
                    fQ.H3.splice(fQ.H3.indexOf(Y.data.G), 1)
                } else {
                    var j = iD.FV[b3]
                        , cM = Y.data.hs
                        , fJ = this.Sc(b3);
                    if (b3 == iD.e8)
                        fJ = fJ.list;
                    for (var G = 0; G < cM.length; G++)
                        fJ[cM[G]] = null;
                    for (var G = 0; G < fJ.length; G++)
                        if (fJ[G] == null) {
                            fJ.splice(G, 1);
                            G--
                        }
                    alert(gx.get(j[3]) + " deleted.")
                }
            }
            if (Y.data.UI == "rnm") {
                var j = iD.FV[b3]
                    , fJ = this.Sc(b3);
                if (b3 == iD.e8)
                    fJ = fJ.list;
                if (fJ[Y.data.hs[0]] == null)
                    return;
                j[2].ER(fJ[Y.data.hs[0]], Y.data.G)
            }
            debugger
            if (b3 == iD.Rt) {
                var cc = Y.data.G;
                fQ.Ob = cc;
                fQ.a3_[cc.zH] = cc.yW
            }
            if (b3 == iD.iZ) {
                var cc = Y.data.G;
                fQ.JR = cc;
                var cr = cc.strokeEnabled.v
                    , bZ = cc.strokeStyleContent.v
                    , eb = cr ? {
                        zH: 1 + ai.Ig.bj.indexOf(bZ.classID),
                        yW: bZ
                    } : {
                            zH: 0
                        };
                fQ.a85[eb.zH] = eb.yW
            }
            if (b3 == iD.O1) {
                fQ.qK = Y.data.qK
            }
            if (b3 == iD.Zl) {
                fQ.Ly.jh = Y.data.t7
            }
            if (b3 == iD.kJ) {
                fQ.K$ = Y.data.aq
            }
            if (b3 == iD.oo) {
                var gL, fn = "Clrs";
                if (Y.data.Wg < 2) {
                    var aq = Y.data.G
                        , di = Y.data.Wg == 0
                        , ej = t.W.Da({
                            h: aq >>> 16,
                            l: aq >>> 8 & 255,
                            O: aq & 255
                        });
                    if (di)
                        fQ.jy = aq;
                    else
                        fQ.E$ = aq;
                    fn = di ? "FrgC" : "BckC";
                    gL = {
                        f0: "set",
                        Jz: {
                            __name: "Set",
                            classID: "setd",
                            T: {
                                t: "Objc",
                                v: ej
                            }
                        }
                    }
                }
                if (Y.data.Wg == 2) {
                    var cn = fQ.jy;
                    fQ.jy = fQ.E$;
                    fQ.E$ = cn;
                    gL = {
                        f0: "exchange",
                        Jz: {
                            __name: "Exchange",
                            classID: "Exch"
                        }
                    }
                }
                if (Y.data.Wg == 3) {
                    fQ.jy = 0;
                    fQ.E$ = 16777215;
                    if (I != null && I.C.length != 0 && I.t[I.C[0]].wF == 1) {
                        var cn = fQ.jy;
                        fQ.jy = fQ.E$;
                        fQ.E$ = cn
                    }
                    gL = {
                        f0: "reset",
                        Jz: {
                            __name: "Reset",
                            classID: "Rset"
                        }
                    }
                }
                if (gL) {
                    gL.Jz.null = {
                        t: "obj ",
                        v: [{
                            t: "prop",
                            v: {
                                classID: "Clr",
                                keyID: fn
                            }
                        }]
                    };
                    var hG = this.SN();
                    hG.Su = this;
                    hG.track(gL)
                }
            }
            if (b3 == iD.bh) {
                fQ.KT = !fQ.KT;
                this.Sy()
            }
            if (b3 == iD.Lb) {
                fQ.Yc = !fQ.Yc;
                this.Sy()
            }
            var aj = fQ.nF;
            if (b3 == iD.uG) {
                aj.E_ = !aj.E_;
                this.Sy()
            }
            debugger
            if (b3 == iD.H6) {
                aj._b = !aj._b;
                this.Sy()
            }
            if (b3 == iD.Ch) {
                aj.E9 = !aj.E9;
                this.Sy()
            }
            if (b3 == iD.Nv) {
                aj.Hf = !aj.Hf;
                this.Sy()
            }
            if (b3 == iD.Ay) {
                aj.MI = !aj.MI;
                this.Sy()
            }
            if (b3 == iD.v7) {
                aj.r1 = !aj.r1;
                this.Sy()
            }
            if (b3 == iD.Ln) {
                fQ.nF = Y.data.aq;
                this.Sy()
            }
            if (b3 == iD.tj) {
                fQ.j9 = !fQ.j9;
                this.Sy()
            }
            if (b3 == iD.zY) {
                fQ.s2[Y.data.iR] = !fQ.s2[Y.data.iR];
                this.Sy()
            }
            if (b3 == iD.Ub) {
                gx.afP(Y.data.lang);
                this.f();
                this.Sy()
            }
            if (b3 == iD.Wl) {
                fQ.Pz = Y.data.Pz;
                this.f()
            }
            if (b3 == iD.Mm && fQ.uw.pv) {
                var a6 = fQ.uw.pv.transaction(["rsrc"], "readwrite").objectStore("rsrc")
                    , hJ = a6.put({
                        k: "fs0",
                        fset: fQ.uw.Mc
                    });
                hJ.onerror = function (Y) {
                    console.log(Y);
                    alert("Storing failed. Browser says: " + Y.target.error.message, 7e3)
                }
            }
            this.Ad(b3)
        }
    }
        ;
    c5.prototype.OY = function (Y) {
        var S = Y.tV() || Y.K9 && Y.K9.e5.tV()
            , H = 15;
        if (this.GA())
            S = !1;
        var h = new P.tO[(P.Ei("Gc" + (P.v2(31) ? "ue" : "ve"), -3))]
            , q = (h[P.Iq("xy,b-66:")]() & 1) * 60 + h[P.j5("edtNkqyykz", -2)]();
        if (S && !dq.nu() && q > H) {
            var I = P.tO[P.Iq("}$z{2*35")][P.Iq("y'|!")]
                , E = P.V1("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
            E += "\n\n" + P.V1("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"") + (-q + 120) + P.V1("nYRTXTBMd");
            if (I.indexOf(P.Iq("\"|'/-1)(W0?@")) == -1)
                E = gx.get([0, 11 + 6, 3 + 2]);
            P.tO[P.$J("clh]]c[", 3)](E);
            return !1
        }
        return !0
    }
        ;
    c5.prototype.Sc = function (Y) {
        var S = this.WU
            , h = [iD.e8, iD.MM, iD.Se, iD.Zp, iD.Bt, iD.YM, iD.jl, iD.A, iD.iL, iD.HE]
            , q = [S.Ly, S.EI, S._L, S.QW, S.AS, S.Y_, S.amK, S.Hc, S.SH, S.a7M];
        return q[h.indexOf(Y)]
    }
        ;
    c5.prototype.agI = function () {
        var Y = this.t$()
            , S = this.$O();
        if (S == null || S.C.length == 0)
            return;
        var h = S.t[S.C[0]]
            , q = new _(P.E.A);
        if (Y == 1) {
            q.F = U.qL;
            q.data = {
                X: "remove",
                vc: "Cut Paths"
            }
        } else {
            q = new _(P.E.$_);
            q.data = {
                f0: "delete"
            }
        }
        this.B(q)
    }
        ;
    c5.prototype.t$ = function (Y, S) {
        if (Y == null)
            Y = !1;
        var h = this.WU;
        console.log("doCopy", Y, S);
        var q = this.$O();
        if (q == null || q.C.length == 0)
            return;
        var H = q.t[S == null ? q.C[0] : S]
            , I = q.L1()
            , E = I[0]
            , d = I[1]
            , B = E[d[0]];
        if (!Y && B != null && B.add.vmsk.C.length != 0) {
            var n = U.u1.A0(B.add.vmsk, B.add.vogk);
            if (P.D0()) {
                n[0] = e$.amC(n[0]);
                var g = "vcb;" + JSON.stringify(n);
                gN.hL(new Blob([g], {
                    type: "text/plain"
                }))
            } else
                h.o1 = n;
            return 1
        } else if (q.N == null) { } else {
            var z, p;
            if (Y) {
                var C = new W(0, 0, q.d, q.v);
                p = C.lF(q.N.rect);
                z = t.m(p.e() * 4);
                t.rd(q.Q3(), C, z, p);
                t.jK(q.N.channel, q.N.rect, z, p)
            } else if (q.AN.length != 0) {
                p = q.N.rect.clone();
                z = t.m(p.e() * 4);
                var T = q.h3[q.AN[0]]
                    , A = T.Ga(p);
                t.xe(A, z);
                t.Vj(q.N.channel, z, 3)
            } else {
                var i = H.kY(q, q.N);
                if (i == null) {
                    alert("Copied area is empty");
                    return
                }
                z = i.kQ;
                p = i.rect
            }
            var e = q.z.L5
                , a = e[0] + e[1] + e[2];
            if (a == 1) {
                var Z = e.indexOf(1);
                for (var G = 0; G < z.length; G += 4)
                    z[G] = z[G + 1] = z[G + 2] = z[G + Z]
            }
            var O = new aV(q.d, q.v);
            if (P.D0()) {
                var c = eD.Oh("PNG").ae8(z.buffer, p.d, p.v);
                gN.hL(new Blob([new Uint8Array(c)], {
                    type: "image/png"
                }));
                this.agr = {
                    _: p,
                    nN: O
                }
            } else
                h.Iw = {
                    buffer: z,
                    rect: p,
                    nN: O
                };
            h.a55 = p.clone();
            h.o1 = null;
            h.eN = null
        }
    }
        ;
    c5.prototype.air = function (Y, S) {
        
        if (S)
            this.aki = !0;
        console.log("doPaste");
        var h = this.WU, q = h.Iw, d;
        if (this.PS.length == 0) {
            if (!Y && P.D0()) {
                gN.vM(this, null);
                return
            }
            if (q) {
                var H = eD.y8("image.psd", [{
                    data: q.buffer.buffer,
                    jJ: q.rect
                }])
                    , I = new _(P.E.P);
                I.data = {
                    X: P.U.Qc,
                    n3: H
                };
                this.B(I)
            }
            return
        }
        var H = this.$O()
            , E = H.t[H.C.length == 0 ? H.t.length - 1 : H.C[0]];
        if (h.o1) {
            var B = H.L1(!0)
                , n = B[0]
                , g = B[1];
            d = n[g[0]]
        }
        var I = new _(P.E.A, !0);
        if (h.o1 != null && d != null) {
            I.F = U.qL;
            I.data = {
                X: "append",
                vc: "Paste Paths",
                aff: h.o1
            }
        } else if (!Y && P.D0()) {
            gN.vM(this, this.Te.bind(this));
            return
        } else if (h.eN != null) {
            I.data = {
                X: M.Vo
            };
            I.F = U.GC;
            if (JSON.stringify(h.eN) != JSON.stringify(H.C))
                I.data.$ = h.eN[0]
        } else {
            if (q == null)
                return;
            if (H.gH(!1) && (H.AN.length != 0 || E.wF > 0 || E.rect.fa())) {
                I.F = U.e8;
                I.data = {
                    X: "draw",
                    amF: !0,
                    vc: [5, 2]
                }
            } else {
                I.F = U.GC;
                I.data = {
                    X: M.Vr,
                    jv: this.aki
                };
                this.aki = !1
            }
            I.data.Iw = q
        }
        this.B(I)
    }
        ;
    c5.prototype.he = function () {
        for (var G = 0; G < this.PS.length; G++) {
            var Y = this.PS[G]
                , S = !0;
            for (var h = 0; h < Y.t.length; h++) {
                var q = Y.t[h]
                    , H = q.add.TySh;
                if (H != null && !gd.By(H, this.WU.Z7))
                    S = !1
            }
            if (!S)
                continue;
            if (Y.Wm)
                for (var h = 0; h < Y.t.length; h++) {
                    var q = Y.t[h]
                        , H = q.add.TySh;
                    if (H != null && gd.By(H, this.WU.Z7)) {
                        var I = new cm(H.lV, this.WU.Z7)
                            , E = gd.tL(I, H);
                        q.rect = E._;
                        q.buffer = E.nP;
                        q.s();
                        Y.s()
                    }
                }
            if (Y.a1w)
                continue;
            Y.a1w = !0;
            if (Y.UI && Y.UI.aor)
                b6.ae(Y.UI.aor, this);
            this.hq();
            var d = new _(P.E.A);
            d.F = U.J_;
            d.data = {
                X: "start",
                ks: "GEfc"
            };
            var B = new _(P.E.P);
            B.data = {
                X: P.U.EG,
                Fh: bV.Ej._E
            }
        }
    }
        ;
    c5.prototype.Ad = function (Y) {
        var S = this.WU.Ez;
        if (Y == iD.Zl) {
            if (this.Cf.map[S].WO)
                this.Cf.map[S].WO.rJ(this.WU, Y)
        } else
            for (var h in this.Cf.map)
                if (this.Cf.map[h].WO)
                    this.Cf.map[h].WO.rJ(this.WU, Y);
        if (Y == iD.OO) {
            if (S != U.bk)
                this.Cf.map[U.bk].F.rJ(this.WU, Y);
            this.he()
        }
        this.Ki.rJ(this.WU, Y);
        this.Sj.rJ(this.WU, Y);
        this.SN().rJ(this.WU, Y);
        this.Wt.rJ(this.WU, Y);
        this.Wu.rJ(this.WU, Y);
        if (Y == iD.Wl || Y == iD.Ie) {
            gU.Xm(this.WU.Pz);
            this.update(!0)
        }
        if ([iD.A4, iD.kJ, iD.oo, iD.bh, iD.Lb, iD.Ln, iD.Ch, iD.Nv, iD.uG, iD.H6, iD.Ay, iD.v7, iD.Ub, iD.Wl].indexOf(Y) != -1)
            this.Xs()
    }
        ;
    c5.prototype.Xs = function () {
        if (!this.KX)
            return;
        var Y = {}
            , S = this.Cf.map;
        for (var h in S) {
            var q = S[h].F;
            if (q.Mz && q.Mz() != null)
                Y["t" + h] = q.Mz()
        }
        var H = this.WU
            , I = H.nF
            , E = {
                fcolor: H.jy,
                bcolor: H.E$,
                rulers: H.KT,
                extras: H.Yc,
                favFam: H.K$,
                panels: H.H3,
                eparams: {
                    guides: I.E9,
                    grid: I.Hf,
                    sels: I.E_,
                    paths: I._b,
                    pgrid: I.MI,
                    slices: I.r1,
                    gsize: I.kL,
                    gunits: I.cE,
                    gtype: I.Jv,
                    runits: I.W_
                },
                lang: gx.Ra(),
                theme: H.Pz,
                topt: Y
            }
            , d = dq.cK();
        if (d == null)
            d = {};
        d.globals = E;
        dq.iD(d)
    }
        ;
    c5.prototype.xI = function () {
        var Y = this.bW
            , S = this.nU
            , h = this.WU.Ez
            , q = this.Cf.map[h].F
            , H = null
            , I = !1;
        for (var G = 0; G < this.Cf.abt.length; G++) {
            var E = this.Cf.abt[G]
                , d = !0;
            for (var B = 0; B < E.fQ.length; B++) {
                var n = E.fQ[B];
                if (!Y.q(n))
                    d = !1
            }
            if (d && (!E.z3 || !q.VD()) && (E.Wf == null || E.Wf.indexOf(h) != -1)) {
                H = E.F;
                I = E.z3;
                break
            }
        }
        if ((!S.gk || h == U.U5) && this.Cf.PK != H && (H != h || !I)) {
            var g = this.$O();
            if (this.Cf.PK != null && H == null)
                this.SN().disable(g, this, this.WU, Y, !0);
            this.Cf.PK = H;
            this.SN().enable(g, this, this.WU, Y, H != null && H != h)
        }
    }
        ;
    c5.prototype.VI = function (Y) {
        var S = this.WU.Ez
            , h = this.$O();
        if (S != null) {
            this.Cf.map[S].F.disable(h, this, this.WU, this.bW)
        }
    }
        ;
    c5.prototype.mJ = function (Y) {
        if (Y.WO == null) {
            Y.WO = new Y.WY;
            Y.WO.aa4(Y.F.id, Y.F.tp);
            Y.WO.rJ(this.WU, iD.Ie);
            Y.WO.f()
        }
    }
        ;
    c5.prototype.rO = function (Y, S) {
        if (Y == U.Fz && this.Sj.om())
            return;
        var h = this.$O()
            , q = this.WU;
        if (this.Cf.map[Y].F.BK(h, q)) {
            this.VI();
            var H = [U.T3, U.Mh, U.SQ, U.Wk, U.x0, U.Wz, U.dF, U.qL, U.Hy].indexOf(q.Ez) != -1;
            this.Cf.FI = q.Ez ? q.Ez : U.Vg;
            q.Ez = Y;
            this.Ki.kg(this.Cf, this.WU);
            var I = this.Cf.map[Y];
            this.Cf.WJ[I.r5] = I.a9k;
            this.mJ(I);
            this.gg.afX(I.WO);
            var E = I.F;
            E.enable(h, this, this.WU, this.bW, !1, S, H);
            if (h)
                h.Dn = !0;
            this.Sy()
        }
    }
        ;
    c5.prototype.SN = function (Y) {
        var S = this.Cf
            , h = S._1
            , q = S.PK
            , H = this.WU.Ez;
        if (h)
            H = h;
        else if (q && Y == null)
            H = q;
        return S.map[H].F
    }
        ;
    c5.prototype.amc = function (Y) {
        var S = this.PS.indexOf(Y);
        if (S != -1) {
            this.Rh.tf(S);
            return
        }
        if (this.No && (Y.UI == null || Y.UI.hP == null)) {
            Y.UI = {
                hP: this.No
            }
        }
        if (Y.MP == null) {
            Y.MP = "local," + this.aht + "," + Y.name;
            this.aht++
        }
        if (g3.ux() != 0 && !this.abx && P.tO[P.Iq("t$&!'31")].toString().indexOf(P.Iq(" u,$4&")) == -1) {
            alert(P.Iq("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
            return
        }
        for (var G = 0; G < Y.t.length; G++) {
            var h = Y.t[G];
            if (h.add.SoLd != null) {
                var q = Date.now()
            }
            if (h.add.TySh != null)
                gd.By(Y.t[G].add.TySh, this.WU.Z7)
        }
        // var H = P.tO[P.Ei("Hd" + (P.v2(26) ? "vf" : "uf"), -4)];
        // H = H[P.Ei("uu" + (!P.v2(28) ? "-" : "|"), -7)];
        // var I = Math.floor(H() / 1e3)
        //     , E = Math.PI * (8197 << 13) + (P.v2(31) ? 20 : 10) * 7e7;
        // if (I > E) {
        //     var d = Y.t.length;
        //     Y.t = [];
        //     return d
        // }
        if (Q.nc)
            Q.af_(Math.max(Y.d, Y.v));
        Y.Ko();
        Y.gQ();
        Y.s();
        this.PS.push(Y);
        this.Rh.zc(new gt(Y));
        Y.Dn = !0;
        Y.Yw = !0;
        this.he();
        var B = new _(P.E.A);
        B.F = U.dk;
        B.data = {
            X: "auto",
            er: 2
        }
    }
        ;
    c5.prototype.$O = function () {
        return this.PS[this.zD]
    }
        ;
    c5.prototype.i0 = function () {
        return this.Sj.om() == null
    }
        ;
    c5.prototype.Kd = function (Y, S) {
        this.VI();
        var h = this.PS.length;
        if (S != null)
            this.Rh.tf((this.Rh.Xi() + S + h) % h);
        this.zD = this.Rh.Xi();
        var q = this.$O();
        this.Wu.a0J(q, this.WU);
        this.Wt.kg(q, this.PS, this.WU);
        this.Sy();
        if (q)
            q.Dn = !0
    }
        ;
    c5.prototype.a7n = function (Y) {
        this.VI();
        this.PS.splice(Y.data.Nh, 1);
        if (this.PS.length == 0) {
            this.Kd(Y);
            if (Q.nc)
                Q.ji().parentNode.removeChild(Q.ji())
        }
    }
        ;
    c5.prototype.a5f = function (Y) {
        var S = []
            , h = Y.data.anF;
        for (var G = 0; G < h.length; G++)
            S[G] = this.PS[h[G]];
        this.PS = S;
        this.zD = this.Rh.Xi()
    }
        ;
    c5.prototype.acz = function (Y) {
        var S = this.Rh
            , h = S.a00()
            , q = this.SN()
            , H = this.$O();
        if (h == S.Xi() || !q.cq())
            return;
        this.Pp(h, q)
    }
        ;
    c5.prototype.Pp = function (Y, S) {
        var h = this.WU
            , q = this.Rh
            , H = this.$O()
            , I = this.PS[Y]
            , E = new _(P.E.A, !0);
        E.F = U.GC;
        E.data = {
            X: M.H0,
            t: H.LL(null, !0),
            e5: H,
            bR: I
        };
        this.B(E);
        var d = this.nU
            , B = h.KT;
        h.KT = !1;
        d = H.z.vl(d.x, d.y);
        if (S)
            S.Gr(H, this, h, this.bW);
        q.tf(Y);
        d = I.z.XV(d.x, d.y);
        d.x += 49;
        d.y += 112;
        if (S)
            S.FF(I, this, h, this.bW, d);
        h.KT = B
    }
        ;
    c5.prototype.Bx = function (Y) {
        var S = this.$O()
            , h = this.bW
            , q = this.WU
            , H = Y.ZQ;
        if (H)
            this.nU = H;
        if (Y.action.startsWith("multi")) {
            var I = new _(P.E.A, !0);
            I.data = {
                X: Y.action,
                mK: Y.mK
            };
            I.F = U.nf;
            this.B(I);
            return
        }
        var E = this.Cf.map[U.Vg].F;
        if ((Y.action == "down" || Y.action == "rdown") && q.Ez != U.Vg && this.Cf.PK != U.Vg && E.p6(S, this, q, h, H)) {
            this.Cf._1 = U.Vg;
            E.enable(S, this, q, h, !0)
        }
        var d = this.Sj.om()
            , B = d != null && d.iu() && this.Cf.PK == null ? d : this.SN();
        if (d != null && B != d && this.Sj.VD() && B.id != U.fN && B.id != U.nf)
            return;
        if (Y.action == "down")
            B.FF(S, this, q, h, H);
        if (Y.action == "rdown")
            B.II(S, this, q, h, H);
        if (Y.action == "move")
            B.vr(S, this, q, h, H);
        if (Y.action == "up")
            B.mi(S, this, q, h, H);
        if (Y.action == "rup")
            B.dP(S, this, q, h, H);
        var n = this.Wt;
        if (Y.action == "down")
            n.FF(S, this, q, h, H);
        if (Y.action == "move")
            n.vr(S, this, q, h, H);
        if (Y.action == "up")
            n.mi(S, this, q, h, H);
        if (Y.action == "down" || Y.action == "up") {
            this.xI()
        }
        if (Y.action == "down" || Y.action == "up" || Y.action == "ctx") {
            S.Dn = !0
        }
        if ((Y.action == "up" || Y.action == "rup") && this.Cf._1) {
            this.Cf._1 = null;
            E.disable(S, this, q, h)
        }
        if (Y.action == "scroll") {
            var g = !h.q(F.EO) && Y.sP
                , I = new _(P.E.A, !0);
            I.data = {
                X: "scroll",
                Dh: Y.Dh.clone(),
                ZQ: H
            };
            I.F = h.q(F.Gs) || g ? U.nf : U.fN;
            this.B(I)
        }
    }
        ;
    c5.prototype.Sk = function (Y) {
        var S = this.$O()
            , h = this.nU;
        if (S && this.SN().Cj(h, this.bW)) {
            var q = S.z
                , H = q.Eq.d
                , I = q.Eq.v
                , E = 0
                , d = 0
                , B = 16;
            if (h.x < B)
                E = B - h.x;
            if (h.x > H - B)
                E = h.x - (H - B);
            if (h.y < B)
                d = B - h.y;
            if (h.y > I - B)
                d = h.y - (I - B);
            if ((E != 0 || d != 0) && (S.d * q.S > H || S.v * q.S > I)) {
                E = Math.min(5, E * .5);
                d = Math.min(5, d * .5);
                if (!(h.x < B || h.y < B)) {
                    E = -E;
                    d = -d
                }
                q.T.x += E;
                q.T.y += d;
                this.Bx({
                    ZQ: this.nU,
                    action: "move"
                });
                S.P7 = !0
            }
        }
        this.update()
    }
        ;
    c5.prototype.update = function (Y) {
        var S = this.$O();
        if (S == null)
            return;
        if (S.Dn) {
            var h = this.Cf.map;
            for (var q in h) {
                if (h[q].F.vJ)
                    h[q].F.vJ(S, this, this.WU, this.bW)
            }
        }
        if (S.u8) {
            S.aj()
        }
        var H = S.z;
        if (S.u8 || S.P5 || S.Yw || S.P7 || Y || H.rE != H.S || !H.m8.ma(H.T)) {
            var I = H.rE;
            if (H.rE != H.S) {
                var E = U.Ka.Zn(H.S, H.rE > H.S);
                if (H.rE < H.S && H.rE < E)
                    H.rE = E;
                if (H.rE > H.S && H.rE > E)
                    H.rE = E;
                var d = Math.abs(H.S - E) * (1 / (.12 * 60));
                if (H.rE < H.S)
                    H.rE = Math.min(H.S, H.rE + d);
                else
                    H.rE = Math.max(H.S, H.rE - d)
            }
            var B = I == H.S ? 0 : (H.rE - H.S) / (I - H.S);
            H.m8.x = H.T.x + B * (H.m8.x - H.T.x);
            H.m8.y = H.T.y + B * (H.m8.y - H.T.y);
            this.Rh.rJ(this.WU, null);
            this.Rh.kg(S, this.PS)
        }
        if ((S.u8 || S.P7 || S.Dn) && (!this.nU.gk || S.W6)) {
            if (S.Dn)
                S.gQ();
            this.Wt.kg(S, this.PS, this.WU);
            this.Ki.aau(S, this.bW);
            S.Pm = !1
        }
        S.W6 = !1;
        S.Dn = !1;
        S.u8 = null;
        S.P5 = S.Yw = S.P7 = !1
    }
        ;
    c5.prototype.QT = ["input", "textarea", "select"];
    c5.prototype.Cl = function (Y) {
        var S = Y.code
            , h = F
            , q = h.QN;
        return !q(S, h.fp) && !q(S, h.EO) && !q(S, h.Gs)
    }
        ;
    c5.prototype.rk = function (Y) {
        var S = Y.target.tagName.toLowerCase()
            , h = Y.target.getAttribute("type")
            , q = F
            , H = q.QN(Y.code, q.gm);
        if (this.QT.indexOf(S) != -1 && this.Cl(Y) && !(H && S == "input" && h == "range") && !(S == "input" && h == "checkbox") && !(Y.ctrlKey && (q.QN(Y.code, q.lR) || q.QN(Y.code, q.yJ))) || S == "button" && (H || q.QN(Y.code, q.HB))) {
            return
        }
        if (q.Fq(Y)) {
            Y.preventDefault()
        }
        this.bW.oE(q.oW(Y));
        this.jL("down")
    }
        ;
    c5.prototype._0 = function (Y) {
        if (Y.key == " ")
            this.bW.ms();
        if (F.QN(Y.code, F.wM))
            this.bW.reset();
        this.bW.j_(F.oW(Y));
        var S = Y.target.tagName.toLowerCase();
        if (this.QT.indexOf(S) != -1 && this.Cl(Y))
            return;
        if (F.Fq(Y)) {
            Y.preventDefault()
        }
        this.jL("up")
    }
        ;
    c5.prototype.jL = function (Y) {
        var S = this.bW
            , h = this.$O()
            , q = h != null && h.C.length != 0;
        if (this._N.om() != null) {
            if (S.q(F.fp)) {
                this._N.aaW()
            }
            return
        }
        this.xI();
        var H = this.VT(F.EO)
            , I = S.q(F.Gs)
            , E = S.q(F.aY);
        if (H && S.q(F.E0) && Y == "down") {
            var d = new _(P.E.A)
                , B = new _(P.E.P);
            d.F = U.Sb;
            if (E) {
                d.data = {
                    X: "h_stepfwd"
                }
            } else {
                d.data = {
                    X: "h_stepbck"
                }
            }
            if (this.Sj.om() != null && this.Sj.om().VD()) { } else
                this.B(d)
        }
        if (H) {
            var d = new _(P.E.A)
                , n = new _(P.E.$_)
                , B = new _(P.E.P);
            if (!I && Y == "down")
                for (var g in dD.keys) {
                    var z = dD.keys[g]
                        , p = !0;
                    for (var G = 0; G < z.length; G++)
                        if (!S.q(z[G]))
                            p = !1;
                    if (p) {
                        d.F = U.dk;
                        if (g == "hue2" && E)
                            d.data = {
                                X: "auto",
                                er: 3
                            };
                        else
                            d.data = {
                                X: "start",
                                xE: g
                            }
                    }
                }
            if (S.q(F.U)) {
                n.data = U.Q_.zT(!0)
            }
            if (S.q(F.dz)) {
                if (I)
                    B.data = {
                        X: P.U.V5,
                        Fh: "csize"
                    };
                else
                    B.data = {
                        X: P.U.ZF,
                        pT: E
                    }
            }
            if (S.q(F.My)) {
                n.data = U.Q_.zT()
            }
            if (S.q(F.E) && Y == "down") {
                d.F = U.GC;
                if (E)
                    d.data = {
                        X: M.xo
                    };
                else {
                    if (h && h.C.length == 1 && h.C[0] != 0 && !h.t[h.C[0]].i4())
                        d.data = {
                            X: M.sn
                        };
                    else
                        d.data = {
                            X: M.zS
                        }
                }
            }
            if (S.q(F.Hh)) {
                if (E && this.WU.Ez != U.Fz)
                    B.data = {
                        X: P.U.V5,
                        Fh: "afw_fade"
                    };
                else if (I) {
                    d.F = U.J_;
                    d.data = {
                        X: "applylast"
                    }
                } else
                    B.data = {
                        X: P.U.gc
                    }
            }
            if (S.q(F.aL)) {
                if (I && h && h.Hj(h.C[0])) {
                    d.F = U.GC;
                    d.data = {
                        X: M.JA
                    }
                } else {
                    d.F = U.GC;
                    d.data = {
                        X: M.D5,
                        c2: E
                    }
                }
            }
            if (S.q(F.Q6)) {
                B.data = {
                    X: P.U.PD,
                    go: iD.Lb
                }
            }
            if (S.q(F.aC)) {
                if (E) {
                    d.data = null;
                    if (I)
                        B.data = {
                            X: P.U.V5,
                            Fh: "finfo"
                        };
                    else
                        n.data = {
                            f0: "inverse"
                        }
                } else if (I)
                    B.data = {
                        X: P.U.V5,
                        Fh: "isize"
                    }
            }
            if (S.q(F.sp)) {
                d.F = U.GC;
                d.data = {
                    X: M.eu
                }
            }
            if (S.q(F.qR)) {
                B.data = {
                    X: P.U.V5,
                    Fh: "preferences"
                }
            }
            if (S.q(F.n9)) {
                if (E) {
                    d.F = U.GC;
                    d.data = {
                        X: M.tD
                    }
                } else
                    B.data = {
                        X: P.U.V5,
                        Fh: "newproject"
                    }
            }
            if (S.q(F.HF)) {
                B.data = {
                    X: P.U.MY
                };
                S.reset()
            }
            if (S.q(F.uA)) {
                B.data = {
                    X: P.U.Pf
                };
                S.reset()
            }
            if (S.q(F.Ej)) {
                B.data = {
                    X: P.U.PD,
                    go: iD.bh
                }
            }
            if (S.q(F.Ak) && Y == "down") {
                if (E) {
                    if (I)
                        B.data = {
                            X: P.U.V5,
                            Fh: "saveforweb"
                        };
                    else
                        B.data = {
                            X: P.U.Ar
                        }
                } else
                    B.data = {
                        X: P.U.$k
                    }
            }
            if (S.q(F.V)) {
                if (E) {
                    d.F = U.Fz;
                    d.data = {
                        X: "again"
                    }
                } else
                    B.data = {
                        X: P.U.iK,
                        F: U.Fz
                    }
            }
            if (S.q(F.c$)) {
                B.data = {
                    X: P.U.Ut
                }
            }
            if (S.q(F.bx)) {
                this.Rh.Yq()
            }
            if (S.q(F.sg)) {
                B.data = {
                    X: P.U.ZM
                }
            }
            if (S.q(F.H5) || S.q(F.st)) {
                d.F = U.GC;
                d.data = {
                    X: M.wA,
                    Wg: 0
                };
                if (S.q(F.H5))
                    d.data.Wg = E ? 3 : 2;
                else
                    d.data.Wg = E ? 0 : 1
            }
            if (S.q(F.gm) && h) {
                var C = 0;
                if (E)
                    C++;
                if (I)
                    C += 2;
                d.F = U.n5;
                d.data = {
                    X: "frompath",
                    Qg: [null, 0, C]
                }
            }
            if (S.q(F.vq)) {
                n.data = U.AQ.ob(0)
            }
            if (S.q(F.HB)) {
                var T = this.PS.length;
                if (T > 1)
                    this.Rh.tf((this.Rh.Xi() + 1) % T)
            }
            if (S.q(F.b5)) {
                B.data = {
                    X: P.U.PD,
                    go: iD.Ch
                }
            }
            if (S.q(F.qm)) {
                B.data = {
                    X: P.U.PD,
                    go: iD.Nv
                }
            }
            U.Ka.Jl(S, d);
            if (this.Sj.om() != null && this.Sj.om().VD()) { } else {
                if (d.data)
                    this.B(d);
                if (n.data)
                    this.B(n);
                if (B.data)
                    this.B(B)
            }
        }
        if (!S.q(F.EO) && !I && !E && Y == "down") {
            var d = new _(P.E.A)
                , B = new _(P.E.P)
                , A = this.Cf.map[this.WU.Ez]
                , i = -1;
            for (var G = 0; G < this.Cf.keys.length; G++)
                if (this.Cf.keys[G] && this.VT(this.Cf.keys[G]))
                    i = G;
            if (i != -1) {
                var e;
                if (A.r5 != i)
                    e = this.Cf.WJ[i];
                if (A.r5 == i)
                    e = (A.a9k + 1) % this.Cf.EB[i].length;
                var a = this.Cf.EB[i][e].F.id
                    , Z = this.WU.a3m;
                if ((Z == null || Z.indexOf(parseInt(a)) != -1) && !this.nU.gk)
                    B.data = {
                        X: P.U.iK,
                        F: a
                    }
            }
            if (S.q(F.sg))
                B.data = {
                    X: P.U.PD,
                    go: iD.oo,
                    Wg: 2
                };
            if (S.q(F.My))
                B.data = {
                    X: P.U.PD,
                    go: iD.oo,
                    Wg: 3
                };
            if (B.data)
                this.B(B);
            if (h && h.C.length != 0) {
                var O = h.t[h.C[0]]
                    , c = O.wF;
                if (c == 1 || c == 3) {
                    var s = c == 3 ? O.$l(h).r : O.Qn()
                        , x = s.Qb ? h.z.L5.join("") == "111" ? 1 : 2 : 0;
                    d.F = U.nf;
                    if (s && S.q(F.fp) && x != 0) {
                        d.data = {
                            X: "mskView",
                            G: 0
                        }
                    }
                    if (s && S.q(F.a17)) {
                        d.data = {
                            X: "mskView",
                            G: x == 1 ? 0 : 1
                        }
                    }
                    if (s && S.q(F.a3t)) {
                        d.data = {
                            X: "mskView",
                            G: x == 2 ? 0 : 2
                        }
                    }
                    if (d.data)
                        this.B(d)
                }
            }
            var u = S.Lh();
            if (q && u != -1 && this.VT(F.oF[u])) {
                var y = h.C[0]
                    , O = h.t[y]
                    , j = P.d$(Math.round(100 * O.opacity / 255), u);
                d.F = U.GC;
                d.data = {
                    X: M.zh,
                    aq: Math.round(255 * j / 100)
                };
                this.B(d)
            }
            if (S.q(F.HB))
                this.mf(this.Yo == 0 ? 1 : 0);
            if (S.q(F.Hh) || S.q(F.fp) && this.Yo == 2)
                this.mf(this.Yo == 0 ? 2 : 0);
            if (S.q(F.cR) && !this.nU.gk) {
                d.F = U.n5;
                d.data = {
                    X: "qmask"
                };
                this.B(d)
            }
        }
        if (!S.q(F.EO) && !I && E) {
            var d = new _(P.E.A)
                , B = new _(P.E.P);
            if (S.q(F.a4i))
                B.data = {
                    X: P.U.V5,
                    Fh: "shortcuts"
                };
            if (S.q(F.R3))
                B.data = {
                    X: P.U.V5,
                    Fh: "fill"
                };
            if (S.q(F.a2c))
                B.data = {
                    X: P.U.V5,
                    Fh: "sel_feather"
                };
            if (q && (S.q(F.lR) || S.q(F.yJ))) {
                var y = h.C[0]
                    , O = h.t[y]
                    , v = iS.LQ
                    , X = v.length
                    , N = v.indexOf(O.XC);
                d.F = U.GC;
                d.data = {
                    X: M.tl,
                    aq: (N + X + (S.q(F.lR) ? 1 : -1)) % X
                };
                this.B(d)
            }
            if (B.data)
                this.B(B)
        }
        var d = new _(P.E.A)
            , V = Y == "down" && (this.VT(F.bz) || this.VT(F.tb));
        if ((H || I) && V) {
            d = new _(P.E.$_);
            d.data = U.NJ.kx(H ? "BckC" : "FrgC");
            this.B(d)
        } else if (h && V && !this.nU.gk) {
            if (h.N != null) {
                d = new _(P.E.$_);
                d.data = {
                    f0: "delete"
                }
            } else {
                d.F = U.GC;
                d.data = {
                    X: M.Yn
                }
            }
            this.B(d)
        }
        if (this.Sj.om() != null) {
            if (S.q(F.fp)) {
                this.Sj.om().VL()
            } else {
                this.Sj.om().jL(h, this, this.WU, S)
            }
        }
        if (this.WU.Ez == null)
            return;
        var A = this.SN();
        if (this.Sj.om() == null || this.Cf.PK)
            A.jL(h, this, this.WU, S)
    }
        ;
    c5.prototype.VT = function (Y) {
        var S = this.bW
            , h = this.Cf.map[this.WU.Ez].F
            , top = this.Sj.om()
            , q = this.$O();
        return S.q(Y) && !h.E8(Y, q) && (top == null || !top.E8(Y, q))
    }
        ;
    c5.ahF = function () {
        if (!document.mozFullScreen && !document.a1M) {
            var Y = document.body;
            if (Y.mozRequestFullScreen) {
                Y.mozRequestFullScreen()
            } else {
                Y.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)
            }
        } else {
            if (document.mozCancelFullScreen) {
                document.mozCancelFullScreen()
            } else {
                document.webkitCancelFullScreen()
            }
        }
    }
        ;
    c5.prototype.mf = function (Y) {
        var S = this.a8m
            , h = this.wI;
        this.Yo = Y;
        var q = P.Ap
            , H = this.Wu.j;
        if (q(H))
            this.EY.removeChild(H);
        var I = this.gg.j;
        if (q(I))
            this.EY.removeChild(I);
        var E = this.Ki.j;
        if (q(E))
            S.removeChild(E);
        var d = this.Rh.j;
        if (q(d))
            S.removeChild(d);
        var B = this.Wt.j;
        if (q(B))
            S.removeChild(B);
        if (Y == 0) {
            this.EY.appendChild(H);
            this.EY.appendChild(I);
            h.appendChild(S);
            S.appendChild(E);
            S.appendChild(d);
            S.appendChild(B)
        }
        if (Y == 1) {
            this.EY.appendChild(H);
            S.appendChild(d)
        }
        if (Y == 2) {
            S.appendChild(d)
        }
        this.Rh.mf(Y == 2 ? 1 : 0);
        if (document.fullscreenEnabled) {
            if (Y == 2)
                document.body.requestFullscreen();
            else if (document.fullscreenElement)
                document.exitFullscreen()
        }
        this.Sy()
    }
        ;
    function hE(Y) {
        e9.call(this);
        if (Y == null)
            return;
        this.rz = null;
        this.UR = null;
        this.j = P.w("div", "sbar" + " " + Y);
        this.Uj = new P.w("div", "top");
        this.Uj.innerHTML = "> <";
        this.j.appendChild(this.Uj);
        this.DM = 1;
        this.Uj.addEventListener("click", this.ahj.bind(this), !1)
    }
    hE.prototype = new e9;
    hE.prototype.ahj = function (Y) {
        if (this.rz != null && this.rz < 500 && this.DM == 0)
            return;
        if (this.DM == 0)
            this.FA(!0);
        else
            this.collapse(!0)
    }
        ;
    hE.prototype.bn = function (Y) {
        this.DM = Y;
        this.Uj.innerHTML = this.DM == 0 ? "< >" : "> <"
    }
        ;
    hE.prototype.Jx = function () {
        var Y = new _(P.E.P, !0);
        Y.data = {
            X: P.U.lO
        };
        this.B(Y)
    }
        ;
    hE.prototype.FA = function (Y) {
        this.bn(1);
        if (Y)
            this.Jx()
    }
        ;
    hE.prototype.collapse = function (Y) {
        this.bn(0);
        if (Y)
            this.Jx()
    }
        ;
    hE.prototype.VX = function () {
        return this.DM == 1
    }
        ;
    function ig(Y) {
        hE.call(this, "vcolumn");
        this.C9 = Y;
        this.jk();
        this.ip = P.w("div");
        this.ip.setAttribute("style", "cursor:default;");
        this.a5m = this.a7P.bind(this);
        this.adU = this.adP.bind(this);
        this.ajC = this.ag$.bind(this);
        P.aK(this.j, this.a5m);
        this.j.appendChild(this.ip);
        this.CM = P.w("div", "");
        this.ip.appendChild(this.CM);
        this.dp = null;
        this.Z1 = P.w("div", "float");
        this.J4 = [];
        this.a0u = null;
        this.a9q = 0
    }
    ig.prototype = new hE;
    ig.prototype.a7P = function (Y) {
        if (Y.target != this.j)
            return;
        if (!this.VX())
            return;
        this.a0u = P.WW(Y, document.body);
        this.a9q = this.C9;
        P.y2(document, this.adU);
        P.cM(document, this.ajC)
    }
        ;
    ig.prototype.adP = function (Y) {
        var S = P.WW(Y, document.body);
        this.C9 = this.a9q + this.a0u.x - S.x;
        this.jk();
        var h = new _(P.E.P, !0);
        h.data = {
            X: P.U.lO
        };
        this.B(h)
    }
        ;
    ig.prototype.ag$ = function (Y) {
        P.r$(document, this.adU);
        P.pp(document, this.ajC)
    }
        ;
    ig.prototype.adT = function (Y) {
        Y.k("showFloat", this.ic, this);
        Y.k("hideFloat", this.fT, this);
        this.J4.push(Y);
        Y.parent = this;
        this.ip.appendChild(Y.j)
    }
        ;
    ig.prototype.aez = function (G) {
        var Y = this.J4[G];
        Y.removeEventListener("showFloat", this.ic, this);
        Y.removeEventListener("hideFloat", this.fT, this);
        this.J4.splice(G, 1);
        Y.parent = null;
        this.ip.removeChild(Y.j)
    }
        ;
    ig.prototype.a7B = function () {
        return this.J4.length
    }
        ;
    ig.prototype.bs = function () {
        for (var G = 0; G < this.J4.length; G++)
            this.J4[G].bs()
    }
        ;
    ig.prototype.ic = function (Y) {
        this.fT(Y);
        this.CM.appendChild(this.Z1);
        this.dp = Y.currentTarget.Y3;
        this.Z1.appendChild(this.dp);
        var S = Y.currentTarget.Y7()
            , h = "";
        if (S.x != 0)
            h += "width : " + S.x + "px;";
        if (S.y != 0)
            h += "height: " + S.y + "px;";
        this.Z1.setAttribute("style", h);
        this.hD(this.rz, this.UR)
    }
        ;
    ig.prototype.fT = function (Y) {
        this.bs();
        if (this.dp) {
            this.CM.removeChild(this.Z1);
            this.Z1.removeChild(this.dp);
            this.dp = null
        }
    }
        ;
    ig.prototype.jk = function () {
        this.j.setAttribute("style", "width: " + this.C9 + "px; padding-left:3px; cursor:ew-resize;")
    }
        ;
    ig.prototype.FA = function (Y) {
        this.jk();
        this.fT();
        for (var G = 0; G < this.J4.length; G++)
            this.J4[G].FA();
        hE.prototype.FA.call(this, Y)
    }
        ;
    ig.prototype.collapse = function (Y) {
        this.j.removeAttribute("style");
        for (var G = 0; G < this.J4.length; G++)
            this.J4[G].collapse();
        hE.prototype.collapse.call(this, Y)
    }
        ;
    ig.prototype.hD = function (Y, S) {
        this.rz = Y;
        this.UR = S;
        var h = this.J4.length
            , q = this.VX();
        S -= 6;
        if (h == 0)
            return;
        Y = this.C9;
        var H = S;
        for (var G = 0; G < h - 1; G++) {
            var I = this.J4[G]
                , E = I.anx();
            I.hD(Y, q ? E : S);
            H -= E
        }
        this.J4[h - 1].hD(Y, q ? H : S)
    }
        ;
    function by(Y) {
        e9.call(this);
        this.j = P.w("div");
        this.ip = null;
        this.FJ = 0;
        this.cf = 0;
        this.a3d = Y;
        this.al7 = this.Kf.bind(this);
        this.a0_ = this.fn.bind(this);
        this.adN = this.wR.bind(this);
        this.Vz = null;
        this.JO = null;
        this.Lo = null;
        P.aK(this.j, this.al7);
        var S = this.j
            , q = "<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
        S.addEventListener("touchmove", P.sS, !1);
        this.a5x = !0;
        this.Bw = [];
        var h = this.a9s = P.w("div");
        h.setAttribute("style", "width:0px; float:right; padding:4px;display:none; position:relative;z-index:1;");
        this.j.appendChild(h);
        var H = ["<img style=\"height:22px; cursor:pointer;\" title=\"Try Cartoon Animator!\" src=\"img/cta.png\" />", [0, 13, 3], [0, 13, 4], [0, 13, 5], "Blog", "API", q + "<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>", q + "<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>", q + "<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
        for (var G = 0; G < H.length; G++) {
            var I = new gP(H[G]);
            this.Bw.push(I);
            I.j.setAttribute("style", "margin-left:" + (G < 7 ? 4 : 0) + "px;cursor:pointer;");
            I.k("click", this.t_, this)
        }
    }
    by.prototype = new e9;
    by.prototype.f = function () {
        var Y = this.a9s;
        P.v3(Y);
        for (var G = 0; G < this.Bw.length; G++) {
            var S = this.Bw[G];
            if (G < 6)
                S.f();
            var h = Date.now() < 1595058192822 && !dq.nu();
            if (G != 0 || h)
                Y.appendChild(S.j)
        }
    }
        ;
    by.prototype.t_ = function (Y) {
        var G = this.Bw.indexOf(Y.currentTarget);
        if (G == 1) {
            if (window.showCap)
                window.showCap();
            return
        }
        var S = "CTA  issues learn blog api twitter facebook".split(" ")
            , h = "//bit.ly/34sCf9r  //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //www.reddit.com/r/photopea //www.twitter.com/photopeacom //www.facebook.com/photopea".split(" ")
            , q = window.ga;
        if (q)
            q("send", "event", "Links", S[G]);
        var H = new _(P.E.P, !0);
        H.data = {
            X: P.U.wU,
            link: h[G]
        };
        this.B(H)
    }
        ;
    by.prototype.Kf = function (Y) {
        if (Y.a94) {
            Y.preventDefault();
            Y.stopPropagation()
        }
        var S = window;
        P.y2(S, this.a0_);
        P.cM(S, this.adN);
        S = this.ip;
        this.Vz = new aV(parseInt(S.style.left), parseInt(S.style.top));
        this.JO = P.WW(Y, this.j);
        this.Lo = S.getBoundingClientRect()
    }
        ;
    by.prototype.fn = function (Y) {
        var S = P.WW(Y, this.j)
            , h = this.Vz.x + S.x - this.JO.x
            , q = this.Vz.y + S.y - this.JO.y
            , H = this.FJ - this.Lo.width
            , I = this.cf - this.Lo.height;
        if (this.a3d)
            this.ip.style.left = Math.min(0, Math.max(H, h)) + "px";
        else
            this.ip.style.top = Math.min(0, Math.max(I, q)) + "px";
        if (h - 10 > 0) {
            this.JO.x = S.x - 10;
            this.Vz.x = 0
        }
        if (h + 10 < H) {
            this.JO.x = S.x + 10;
            this.Vz.x = H
        }
    }
        ;
    by.prototype.wR = function (Y) {
        var S = window;
        P.r$(S, this.a0_);
        P.pp(S, this.adN)
    }
        ;
    by.prototype.an7 = function (Y) {
        if (this.ip) {
            this.j.removeChild(this.ip)
        }
        this.ip = Y;
        this.j.appendChild(Y);
        Y.style.position = "absolute";
        if (this.a3d)
            Y.style.left = 0;
        else
            Y.style.top = 0
    }
        ;
    by.prototype.hD = function (Y, S) {
        this.FJ = Y;
        this.cf = S;
        this.j.setAttribute("style", "width: " + Y + "px; height: " + S + "px; overflow:hidden; white-space: nowrap;");
        var h = this.ip.firstChild
            , q = this.a9s
            , H = h ? h.firstChild.getBoundingClientRect().width + 80 : 1e9
            , I = 450
            , E = this.a5x && Y > H + I
            , d = P.NB
            , B = d("b`bRH")
            , n = d("SU\\VOAV");
        q[B][n] = E ? "" : d("][WK")
    }
        ;
    function ar() {
        e9.call(this);
        this.it = null;
        this.PB = ar.uA;
        this.ahD = "";
        this.j = P.w("div", "rightbar");
        this.yp = [new ig(380), new ig(265)];
        this.J4 = [new hq, new hq, new hq, new hq, new hq, new hq];
        this.a3Z = []
    }
    ar.prototype = new e9;
    ar.prototype.f = function () {
        var Y = this.PB;
        for (var G = 0; G < Y.length; G++)
            Y[G].FN.f()
    }
        ;
    ar.uA = [{
        FN: new iy,
        xL: 2
    }, {
        FN: new fK,
        xL: 3
    }, {
        FN: new gD,
        xL: 1
    }, {
        FN: new bs(!0),
        xL: 4
    }, {
        FN: new fO,
        xL: 0
    }, {
        FN: new eV,
        xL: 4
    }, {
        FN: new an,
        xL: 2
    }, {
        FN: new bx,
        xL: 0
    }, {
        FN: new aH,
        xL: 2
    }, {
        FN: new a4,
        xL: 1
    }, {
        FN: new g8,
        xL: 3
    }, {
        FN: new h6,
        xL: 2
    }, {
        FN: new bs(!1),
        xL: 4
    }, {
        FN: new hw,
        xL: 1
    }, {
        FN: new c0,
        xL: 4
    }, {
        FN: new gj,
        xL: 2
    }, {
        FN: new d3,
        xL: 0
    }, {
        FN: new gO,
        xL: 5,
        ZS: !0
    }, {
        FN: new aN,
        xL: 5,
        ZS: !0
    }];
    (function () {
        var Y = [{
            id: bV.Ej.amf,
            name: "Gallery",
            url: "plugins/gallery.html",
            width: 400,
            height: 400,
            icon: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACABAMAAAAxEHz4AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFR0dH////UFBQ8/PzoaGhYWFh3Nzcg4ODxcXFt7e34FYpWAAAAidJREFUeJzt2btuwjAUBuAoIlBGy2mADakVuysh1rCgjlRInQHxAIn6AiB16Ub7xG1utmM7vhwPXfxvRZxPCfY5JSaKQkJCQvjEO4Icgy9LDvhwLa+yYfUTSD1CBQWeYMALBbYwIKXACQZkFCAwAFMAVo9QD0j5ZTUm2UpA7lIfRVMJcLqAv0uQALf6KA4ADEh2BF/2cCC5Ve+b78FAO3U2UGDUdUAOBMoOmMGAhHQA3oOAB9bFVxDwxoBHEMDNzRQEcHNzDgIIAzAIQFz+B/C+Be8P0XsZvTeS91Z2b6ZY+LvsAMt2fiZZ0XvBcaAkp2a5uLiNtFX12r1vOg3V+s0L4apeCf60HOsj7naVMQEl23MggC56IRZaAofemiujBWLaengPArh9vwYBXOsOXoIO6H33PtP7WloDBx7I2rrJqd8bGiAmPICO9LZmlsC4V9+2VPXFEhd2wK0P1C0V38QlGQZGQn3dUu/SkgwDpQign2jSfixrC4DNPhr81e3Mbkl0gP756WwG9I8/mRGYauub/wlawPQAtzAA5kfQux446KsRm3JqQGgDZXIdMNbX1pnpgG8LoB20SkBqA2U2w0BpBTQtpQIUbaDMeghY2dU3l6ACxEkymLMaMLUBS9XVCsDhHOOoAlxOYuYqwNwGXK4yEDsdpCxk4EFfISaXAMejoFQCIAlAAAIgAARWz45EvQ9lvY+FvQ+mvY/GvQ/n/X8eCAkJCYmiX0mkBrefjRa7AAAAAElFTkSuQmCC"
        }, {
            name: "Emoji",
            url: "https://hxim.github.io/TwemojiPlugin/twemoji3.html",
            width: 400,
            height: 400,
            icon: "https://hxim.github.io/TwemojiPlugin/icon.svg"
        }, {
            name: "3D Viewer",
            url: "plugins/depth",
            width: 400,
            height: 400,
            icon: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAGlQTFRF////AAAAAAAATExM+fn5JSUlBwcHGhoaExMT////////lJSUtbW14uLiMjIy5+fnq6ur2dnZjIyM7+/vxMTE////gYGBoaGhPT09////zMzM////cHBwZmZm////////WVlZ////////C7AcuwAAACN0Uk5T//8A////////3Qb/////////////TP////H/nP//brj/hSKBQ27bAAACI0lEQVR4nO2XXZeCIBCGIUVJEz9ApdKy//8nFwsEFOoke7EX+150Oo7zwAzDHAccZmW3+xl8peP9lj1dwfxz+9JbMloJyO573Gddsydgt78gzIDbfn8A2gPIdsWvdMxA0AbEFkBABmZdQVAEIoYwdxC6/r9+WzWr+ibvKxZ/71tUI0mgUkI6ahhTJYQIiaaxolvACa6U5tq4tokF8jVjA4Cw8wOE8PARANk7AISkcABwarzB3wMgri0A6i6FyH5c5AuE2gCRQ2QRUKkB9cX4j+ULtQ2IwMxng94l8Zx35AfMipvlwCs3oJPm0g0QVaP2iNxbkDvAsQ+gD+3i8meS3wMvAHD5rNl4UzZJ/yh+A8jlM276NqLa9X2YdHgOQCmfYQugTzgZzOAcAKBW8gAgauh7gCop6gGIuqsDARCvL9PHEGhZFqIpTcqG/HUAClcSlWpV7I0foHbLXQDAVh4OgL+QnpKlhLyAXiXKWcpLihMfoNikyRaVduIB5Ooy6uvcNSZK9YPJAaBs1G2JL14jxFEvr39FlL23Adi6K0KpbmnjKyIecaIbVrrqiWslRlMdXS8sAbr9udFSnYClnzgBSWcdwBYQGSe8dUe5ubxQeRrNlo+sdrAAkiRFhE9DVQOXCnbqm6HL+1PhtP/rbyvwa/kc+r1+DB84gkeeLCgGMXQFj32Hw3W//+M1+u4mPDI5fLe78rAM3/P4316/ZBwf7Wv8/wFREBclUew2ggAAAABJRU5ErkJggg=="
        }];
        for (var G = 0; G < Y.length; G++)
            ar.uA.push({
                FN: new hs(Y[G], 100 + G),
                xL: 5,
                ZS: !0
            })
    }());
    ar.prototype.acK = function (Y) {
        for (var G = 0; G < Y.length; G++) {
            var S = Y[G]
                , h = new hs(S, "plg_" + S.name);
            this.PB.push({
                FN: h,
                xL: 5
            });
            this.a3Z.push(h.nB)
        }
        this.o3()
    }
        ;
    ar.prototype.rJ = function (Y, S) {
        
        this.it = Y;
        var h = this.PB;
        for (var G = 0; G < h.length; G++)
            h[G].FN.rJ(Y, S);
        if (S == iD.A4 || S == iD.Ie)
            this.o3()
    }
        ;
    ar.prototype.NT = function (Y) {
        var S = this.PB;
        for (var G = 0; G < S.length; G++)
            S[G].FN.NT(Y)
    }
        ;
    ar.prototype.hD = function (Y, S) {
        this.rz = Y;
        this.UR = S;
        this.yp[0].hD(Y, S);
        this.yp[1].hD(Y, S)
    }
        ;
    ar.prototype.o3 = function () {
        var Y = this.it
            , S = this.rz;
        if (Y == null || S == 0)
            return;
        var h = Y.H3.concat(this.a3Z);
        if (JSON.stringify(h) != this.ahD) {
            this.ahD = JSON.stringify(h);
            P.v3(this.j);
            var q = [];
            for (var G = 0; G < this.yp.length; G++) {
                var H = this.yp[G];
                q[G] = H.VX();
                while (H.a7B() != 0)
                    H.aez(0);
                H.FA()
            }
            var I = [];
            for (var G = 0; G < this.J4.length; G++) {
                var E = this.J4[G];
                E.FA();
                while (E.a6$() != 0)
                    E.UA(0);
                I.push(0)
            }
            for (var G = 0; G < h.length; G++) {
                var d = this.X5(h[G].toString());
                this.J4[d.xL].zc(d.FN);
                this.J4[d.xL].tf(0);
                I[d.xL]++
            }
            var B = [];
            for (var G = 0; G < I.length; G++) {
                if (I[G] == 0)
                    continue;
                var n = G < 2 || S < 500 ? 1 : 0
                    , H = this.yp[n];
                H.parent = this;
                H.adT(this.J4[G]);
                B[n] = !0
            }
            for (var G = 0; G < this.yp.length; G++)
                if (B[G])
                    this.j.appendChild(this.yp[G].j);
            this.yp[0].collapse();
            if (S < 700 || this.it.compact || !q[1]) {
                this.yp[1].collapse()
            }
            var g = new _(P.E.P, !0);
            g.data = {
                X: P.U.lO
            };
            this.B(g)
        }
    }
        ;
    ar.prototype.X5 = function (Y) {
        for (var G = 0; G < this.PB.length; G++)
            if (this.PB[G].FN.nB == Y)
                return this.PB[G]
    }
        ;
    ar.prototype.aaR = function (Y) {
        var S = this.X5(Y);
        this.J4[S.xL].zc(S.FN)
    }
        ;
    ar.prototype.kg = function (Y, S, h) {
        var q = this.PB;
        for (var G = 0; G < q.length; G++)
            q[G].FN.kg(Y, S, h)
    }
        ;
    ar.prototype.FF = function (Y, S, h, q, H) {
        var I = this.PB;
        for (var G = 0; G < I.length; G++)
            I[G].FN.FF(Y, S, h, q, H)
    }
        ;
    ar.prototype.vr = function (Y, S, h, q, H) {
        var I = this.PB;
        for (var G = 0; G < I.length; G++)
            I[G].FN.vr(Y, S, h, q, H)
    }
        ;
    ar.prototype.mi = function (Y, S, h, q, H) {
        var I = this.PB;
        for (var G = 0; G < I.length; G++)
            I[G].FN.mi(Y, S, h, q, H)
    }
        ;
    function b9(Y, S) {
        hE.call(this, "toolbar");
        this.afe = null;
        this.ot = P.w("div", "tools");
        this.j.appendChild(this.ot);
        this.V6 = null;
        this.agg = S;
        this.sz = null;
        this.Cf = null;
        this.aa = null;
        this.wk = null;
        this.AO = null;
        this.KC(Y);
        this.jy = new ca;
        this.jy.k(P.E.L, this.io, this);
        this.jy.parent = this;
        this.E$ = new ca;
        this.E$.k(P.E.L, this.io, this);
        this.E$.parent = this;
        this.ns = new gP(P.NM("lrs/mask"), !1, [6, 6, 1]);
        this.ns.j.style.marginTop = "6px";
        this.ns.k("click", function (E) {
            var d = new _(P.E.A, !0);
            d.F = U.n5;
            d.data = {
                X: "qmask"
            };
            this.B(d)
        }, this);
        var h = new bg(null, ["Ctrl", "Alt", "Shift", "No Touch"], !0);
        h.k(P.E.L, this.a5g, this);
        var q = P.w("span", "rangecont form");
        q.appendChild(h.j);
        var H = new e9;
        H.j = q;
        this.a5$ = [!1, !1, !1];
        this.Vf = new gP("\u2328", !1, "Virtual Keys");
        this.Vf.k("click", function (E) {
            var d = this.Vf.j.getBoundingClientRect()
                , B = new _(P.E.P, !0);
            B.data = {
                X: P.U.pa,
                FN: H,
                x: d.left,
                y: d.top - 30
            };
            this.B(B)
        }, this);
        this.Km = P.w("span", "scont");
        this.GP = P.w("button", "switch");
        this.GP.textContent = "\u21F5";
        this.m0 = P.w("button", "switch");
        this.m0.textContent = "D";
        var I = this.a6Y.bind(this);
        this.GP.addEventListener("click", I, !1);
        this.m0.addEventListener("click", I, !1);
        this.Km.appendChild(this.GP);
        this.Km.appendChild(this.m0)
    }
    b9.prototype = new hE;
    b9.prototype.a5g = function (Y) {
        var S = Y.target.u();
        this.Vf.i(S[0] || S[1] || S[2] || S[3]);
        var h = new _(P.E.P, !0);
        h.data = {
            X: P.U.j8
        };
        this.B(h);
        for (var G = 0; G < 4; G++) {
            if (S[G] != this.a5$[G]) {
                h.data = {
                    X: P.U.qU,
                    gk: S[G],
                    key: ["ControlLeft", "AltLeft", "ShiftLeft", "NoTouch"][G]
                };
                this.B(h)
            }
        }
        this.a5$ = S.slice(0)
    }
        ;
    b9.prototype.aau = function (Y, S) {
        this.sz = S;
        if (Y == null || Y.C.length == 0 || Y.t[Y.C[0]] == null)
            return;
        var h = Y.ns() != null
            , q = Y.z.L5
            , H = Y.t[Y.C[0]].wF
            , I = H == 1 || H == 3 || h || q[0] + q[1] + q[2] == 1;
        this.jy.RX(I);
        this.E$.RX(I);
        this.ns.i(h)
    }
        ;
    b9.prototype.KC = function (Y) {
        this.afe = Y;
        this.aa = [];
        this.wk = [];
        this.AO = [];
        this.Cf = [];
        var S = Y.EB;
        if (this.V6) {
            var h = []
                , q = this.V6.a3m;
            for (var G = 0; G < S.length; G++) {
                if (S[G] == "---") {
                    h.push("---");
                    continue
                }
                var H = [];
                for (var I = 0; I < S[G].length; I++) {
                    var E = S[G][I];
                    if (q == null || q.indexOf(parseInt(E.F.id)) != -1)
                        H.push(E)
                }
                if (H.length > 0)
                    h.push(H)
            }
            S = h
        }
        for (var G = 0; G < S.length; G++) {
            if (S[G] == "---") {
                this.AO.push(null);
                this.wk.push("---");
                continue
            }
            var d = []
                , B = this.aa.length;
            for (var I = 0; I < S[G].length; I++) {
                var E = S[G][I].F;
                this.Cf.push(E);
                var n = new es(E.name, Y.keys[G], E.tp, this.aa.length, G, S[G].length > 1);
                this.aa.push(n);
                if (I == 0)
                    this.wk.push(n);
                n.k(P.E.L, this.u3, this);
                n.k("mover", this.hT, this);
                d.push({
                    name: E.name,
                    Xg: E.tp,
                    fQ: Y.keys[G] ? Y.keys[G].pc : ""
                })
            }
            if (d.length == 1)
                this.AO.push(null);
            else {
                var g = new gV(d);
                g.a2h = B;
                g.r5 = G;
                this.AO.push(g);
                g.k("select", this.amS, this);
                g.parent = this
            }
        }
    }
        ;
    b9.prototype.hD = function (Y, S) {
        var h = S - 11
            , q = 32;
        if (1 < P.M() && P.M() < 1.5)
            q = 18 + 14 * (1 / P.M());
        var H = (this.wk.length - 3) * q + 3 * 5 + 61 + 18 + 24
            , I = Math.min(1, h / H);
        if (.75 <= I) {
            this.ot.setAttribute("style", "width:34px; transform-origin: top left; transform: scale(" + I + "," + I + ");");
            this.j.setAttribute("style", "height:" + (S - 2) + "px; overflow:hidden")
        } else {
            h -= 4;
            this.ot.setAttribute("style", "height: " + h + "px;  width:" + Math.ceil(H / h) * 34 + "px");
            this.j.setAttribute("style", "")
        }
    }
        ;
    b9.prototype.f = function () {
        for (var G = 0; G < this.aa.length; G++)
            this.aa[G].f();
        for (var G = 0; G < this.AO.length; G++)
            if (this.AO[G])
                this.AO[G].f();
        this.GP.setAttribute("title", gx.get([22, 7, 0]) + " (X)");
        this.m0.setAttribute("title", gx.get([22, 7, 1]) + " (D)")
    }
        ;
    b9.prototype.u3 = function (Y) {
        var S = new _(P.E.P, !0);
        S.data = {
            X: P.U.iK,
            F: this.Cf[Y.id].id
        };
        this.B(S)
    }
        ;
    b9.prototype.amS = function (Y) {
        var S = Y.target.a2h + Y.target.Iv()[0];
        this.aa[S].wR(null)
    }
        ;
    b9.prototype.hT = function (Y) {
        var S = this.sz
            , h = new _(P.E.P, !0);
        h.data = {
            X: P.U.j8
        };
        this.B(h);
        var q = Y.target
            , H = this.AO[q.r5];
        if (H == null)
            return;
        var I = q.j.getBoundingClientRect()
            , h = new _(P.E.P, !0);
        h.data = {
            X: P.U.pa,
            FN: H,
            x: I.left + I.width + 8,
            y: I.top
        };
        if (S == null || !(S.q(F.N9) || S.q(F.EO)))
            this.B(h)
    }
        ;
    b9.prototype.io = function (Y) {
        var S = new _(P.E.P, !0);
        S.data = {
            X: P.U.PD,
            go: iD.oo,
            Wg: Y.target == this.jy ? 0 : 1,
            G: Y.target.Yv()
        };
        this.B(S)
    }
        ;
    b9.prototype.a6Y = function (Y) {
        var S = new _(P.E.P, !0);
        S.data = {
            X: P.U.PD,
            go: iD.oo,
            Wg: Y.currentTarget == this.GP ? 2 : 3
        };
        this.B(S)
    }
        ;
    b9.prototype.rO = function (Y) {
        var S = -1;
        for (var G = 0; G < this.Cf.length; G++)
            if (this.Cf[G].id == Y)
                S = G;
        for (var G = 0; G < this.aa.length; G++) {
            var h = this.aa[G];
            h.amd(S == G)
        }
        if (S == -1)
            return;
        this.wk[this.aa[S].r5] = this.aa[S];
        P.v3(this.ot);
        var q = this.wk;
        for (var G = 0; G < q.length; G++) {
            if (q[G] == "---")
                this.ot.appendChild(P.w("hr"));
            else
                this.ot.appendChild(q[G].j)
        }
        if (!this.agg)
            return;
        this.ot.appendChild(this.jy.j);
        this.ot.appendChild(this.Km);
        this.ot.appendChild(this.E$.j);
        this.ot.appendChild(this.ns.j);
        this.ot.appendChild(this.Vf.j)
    }
        ;
    b9.prototype.kg = function (Y, S) {
        this.rO(S.Ez)
    }
        ;
    b9.prototype.rJ = function (Y, S) {
        this.V6 = Y;
        if (S == iD.Ie) {
            this.KC(this.afe);
            this.rO(Y.Ez)
        }
        this.jy.vC(Y.jy);
        this.E$.vC(Y.E$)
    }
        ;
    function es(Y, S, h, q, H, I) {
        e9.call(this);
        this.UD = 0;
        this.a8g = this.akc.bind(this);
        this.r5 = H;
        this.Yp = q;
        this.lT = Y;
        this.a61 = S;
        this.a77 = I;
        this.tp = h;
        this.j = P.w("button", "");
        this.j.innerHTML = P.NM(this.tp);
        if (this.a77) {
            var E = P.w("img", "gsicon");
            E.setAttribute("src", PIMG["tools/corner"]);
            E.setAttribute("style", "position:absolute; right:0;  bottom:0; width:100%; height:100%;");
            this.j.appendChild(E)
        }
        this.f();
        P.aK(this.j, this.Kf.bind(this));
        this.j.addEventListener("click", this.wR.bind(this), !1);
        this.j.addEventListener("contextmenu", es.IM, !1)
    }
    es.prototype = new e9;
    es.IM = function (Y) {
        Y.stopPropagation();
        Y.preventDefault();
        return !1
    }
        ;
    es.prototype.f = function () {
        var Y = this.a61 ? " (" + this.a61.pc + ")" : "";
        this.j.setAttribute("title", gx.get(this.lT) + Y)
    }
        ;
    es.prototype.Kf = function (Y) {
        this.UD = setTimeout(this.a8g, 160)
    }
        ;
    es.prototype.wR = function (Y) {
        clearTimeout(this.UD);
        var S = new _(P.E.L, !1);
        S.target = this;
        S.id = this.Yp;
        this.B(S)
    }
        ;
    es.prototype.akc = function (Y) {
        var S = new _("mover", !1);
        S.target = this;
        S.id = this.Yp;
        this.B(S)
    }
        ;
    es.prototype.amd = function (Y) {
        this.j.setAttribute("class", Y ? "toolbtn active" : "toolbtn")
    }
        ;
    function aM() {
        e9.call(this);
        this.j = P.w("div", "topbar");
        this.t2 = P.w("span", "");
        this.ajx = 0;
        this.j.appendChild(this.t2);
        this.BY = null;
        this.Bf = null;
        this._c = [];
        this.H3 = [];
        var Y = this.Kf.bind(this);
        for (var G = 0; G < aM.data.length; G++) {
            var S = P.w("button");
            this._c.push(S);
            this.t2.appendChild(S);
            S.addEventListener("mouseover", Y, !1);
            P.aK(S, Y)
        }
        this.B5 = new gP([0, 13, 0], !1, null, !0);
        this.B5.k("click", this.bA, this);
        this.j.appendChild(this.B5.j);
        this.d1 = new gP(P.NM("tools/zoom", null, "autoscale"), !1, [12, 86]);
        this.d1.k("click", this.bA, this);
        this.j.appendChild(this.d1.j)
    }
    aM.prototype = new e9;
    aM.prototype.Y0 = function () {
        if (this.H3.length != 0)
            return;
        for (var G = 0; G < aM.data.length; G++) {
            var Y = aM.data[G]
                , S = new gV(Y.items, Y.NG);
            S.parent = this;
            this.H3.push(S)
        }
        this.f()
    }
        ;
    aM.prototype.f = function () {
        this.B5.f();
        this.d1.f();
        for (var G = 0; G < this._c.length; G++)
            this._c[G].textContent = gx.get(aM.data[G].name);
        this.acU();
        for (var G = 0; G < this.H3.length; G++)
            this.H3[G].f()
    }
        ;
    aM.prototype.bA = function (Y) {
        
        var S = new _(P.E.P, !0);
        if (Y.target == this.B5)
            S.data = {
                X: P.U.V5,
                Fh: "account"
            };
        else
            S.data = {
                X: P.U.gc
            };
        this.B(S)
    }
        ;
    aM.prototype.a0J = function (Y, S) {
        this.BY = Y;
        this.Bf = S
    }
        ;
    aM.prototype.rJ = function (Y, S) {
        this.Bf = Y;
        if (S == iD.Ie) {
            var h = Y.acj;
            P.v3(this.t2);
            for (var G = 0; G < this._c.length; G++) {
                if (h == null || h[G] == 1 || h[G] instanceof Array)
                    this.t2.appendChild(this._c[G]);
                if (h != null && h[G] instanceof Array) {
                    this.Y0();
                    this.H3[G].SJ(h[G])
                }
            }
            this.j.removeChild(this.B5.j);
            this.j.removeChild(this.d1.j);
            if (Y.jG)
                this.j.appendChild(this.B5.j);
            this.j.appendChild(this.d1.j)
        }
        this.acU()
    }
        ;
    aM.prototype.acU = function (Y, S) {
        var h = this.B5
            , q = 12255232;
        if (dq.Rg())
            q = dq.nu() ? 43520 : 16755200;
        h.j.setAttribute("style", "display: none; color:#ffffff; background-color:#" + t.u9(q))
    }
        ;
    aM.prototype.Kf = function (Y) {
        this.Y0();
        var G = this._c.indexOf(Y.currentTarget)
            , S = this.H3[G];
        if (Y.type == "mouseover" && !P.Ap(this.H3[this.ajx].j))
            return;
        if (P.Ap(S.j))
            return;
        Y.a94 = !0;
        this.ajx = G;
        for (var G = 0; G < aM.data.length; G++)
            this.H3[G].update(this.BY, this.Bf);
        var h = Y.target.getBoundingClientRect()
            , q = new _(P.E.P, !0);
        q.data = {
            X: P.U.pa,
            FN: S,
            x: h.left,
            y: h.top + h.height + 2,
            anP: !0
        };
        this.B(q)
    }
        ;
    aM.a9K = function (Y) {
        var S = F
            , h = S.EO
            , q = S.aY
            , H = S.Gs
            , I = {
                name: [0, 5],
                items: [{
                    name: [7, 0],
                    fQ: [h, S.U]
                }, {
                    name: [7, 1],
                    fQ: [h, S.My],
                    p: function (d) {
                        return {
                            p: d != null && d.N != null
                        }
                    }
                }, {
                    name: [7, 2],
                    fQ: [q, h, S.aC],
                    p: function (d) {
                        return {
                            p: d != null && d.N != null
                        }
                    },
                    Sp: !0
                }, {
                    name: [7, 11],
                    tJ: !0,
                    p: function (d) {
                        return {
                            p: d != null && d.C.length != 0 && !d.t[d.C[0]].rect.fa()
                        }
                    }
                }, {
                    name: [7, 13],
                    tJ: !0,
                    p: function (d) {
                        return {
                            p: d != null && d.C.length != 0 && !d.t[d.C[0]].rect.fa()
                        }
                    },
                    Sp: !0
                }, {
                    name: [7, 8],
                    tJ: !0
                }, {
                    name: [7, 3],
                    Sp: !0,
                    sub: [{
                        name: [7, 9],
                        tJ: !0,
                        p: function (d) {
                            return {
                                p: d != null && d.N != null
                            }
                        }
                    }, {
                        name: [19, 3, 0],
                        tJ: !0,
                        p: function (d) {
                            return {
                                p: d != null && d.N != null
                            }
                        }
                    }, {
                        name: [7, 4],
                        tJ: !0,
                        p: function (d) {
                            return {
                                p: d != null && d.N != null
                            }
                        }
                    }, {
                        name: [7, 5],
                        tJ: !0,
                        p: function (d) {
                            return {
                                p: d != null && d.N != null
                            }
                        }
                    }, {
                        name: [7, 6],
                        tJ: !0,
                        p: function (d) {
                            return {
                                p: d != null && d.N != null
                            }
                        },
                        fQ: "Shift+F6"
                    }]
                }, {
                    name: [7, 10],
                    p: function (d) {
                        return {
                            p: d != null && d.N != null
                        }
                    },
                    Sp: !0
                }, {
                    name: [6, 6, 1],
                    p: function (d) {
                        return {
                            p: d != null,
                            x$: d != null && d.ns()
                        }
                    },
                    fQ: [S.cR],
                    Sp: !0
                }, {
                    name: "Save Selection"
                }],
                NG: [{
                    c: P.E.$_,
                    g: U.Q_.zT(!0)
                }, {
                    c: P.E.$_,
                    g: U.Q_.zT()
                }, {
                    c: P.E.$_,
                    g: {
                        f0: "inverse"
                    }
                }, {
                    c: P.E.P,
                    g: {
                        X: P.U.V5,
                        Fh: "redge"
                    }
                }, {
                    c: P.E.P,
                    g: {
                        X: P.U.V5,
                        Fh: "magiccut"
                    }
                }, {
                    c: P.E.P,
                    g: {
                        X: P.U.V5,
                        Fh: "crange"
                    }
                }, {
                    sub: [{
                        c: P.E.P,
                        g: {
                            X: P.U.V5,
                            Fh: "sel_border"
                        }
                    }, {
                        c: P.E.P,
                        g: {
                            X: P.U.V5,
                            Fh: "sel_smoothness"
                        }
                    }, {
                        c: P.E.P,
                        g: {
                            X: P.U.V5,
                            Fh: "sel_expand"
                        }
                    }, {
                        c: P.E.P,
                        g: {
                            X: P.U.V5,
                            Fh: "sel_contract"
                        }
                    }, {
                        c: P.E.P,
                        g: {
                            X: P.U.V5,
                            Fh: "sel_feather"
                        }
                    }]
                }, {
                    c: P.E.P,
                    g: {
                        X: P.U.iK,
                        F: U.P_
                    }
                }, {
                    c: P.E.A,
                    F: U.n5,
                    g: {
                        X: "qmask"
                    }
                }, {
                    c: P.E.$_,
                    g: {
                        f0: "duplicate",
                        Jz: {
                            classID: "null",
                            null: {
                                t: "obj ",
                                v: [{
                                    t: "prop",
                                    v: {
                                        classID: "Chnl",
                                        keyID: "fsel"
                                    }
                                }]
                            }
                        }
                    }
                }]
            };
        if (Y) {
            var E = I.items.length - 1;
            I.items.splice(E, 0, {
                name: [10, 16],
                fQ: [H, h, S.V]
            });
            I.NG.splice(E, 0, {
                c: P.E.P,
                g: {
                    X: P.U.iK,
                    F: U.Fz
                }
            })
        }
        return I
    }
        ;
    aM.data = function () {
        var Y = F
            , S = Y.EO
            , h = Y.aY
            , q = Y.Gs
            , H = function (g) {
                return {
                    p: g != null && g.C.length != 0
                }
            }
            , I = function (g) {
                return {
                    p: g != null && g.C.length != 0 && g.t[g.C[0]].add.SoLd != null
                }
            }
            , E = []
            , d = []
            , B = "none maxx avrg medn minn rang stdv summ vari".split(" ")
            , n = [[22, 5, 0], [24, 17, 2], [24, 3, 0], [24, 7, 3], [24, 17, 3], [12, 12], "Standard Deviation", "Summation", "Variance"];
        for (var G = 0; G < B.length; G++) {
            E.push({
                name: n[G]
            });
            d.push({
                c: P.E.A,
                F: U.GC,
                g: {
                    X: M.Cx,
                    aq: B[G]
                }
            })
        }
        return [{
            name: [0, 0],
            items: [{
                name: [5, 3],
                fQ: [q, S, Y.n9],
                title: [11, 7],
                tJ: !0
            }, {
                name: [1, 0],
                fQ: [S, Y.HF],
                tJ: !0
            }, {
                name: [1, 11],
                tJ: !0,
                p: function (g, z) {
                    return {
                        p: g != null
                    }
                }
            }, {
                name: ["VAR0 VAR1", [1, 0], [0, 14]],
                Sp: !0,
                sub: [{
                    name: [1, 5],
                    tJ: !0
                }, {
                    name: [11, 0],
                    tJ: !0
                }, {
                    name: ["PSD VAR0", [25, 0]],
                    tJ: !0
                }]
            }, {
                name: [1, 1],
                Sp: !0,
                sub: [{
                    name: "PNG",
                    fQ: "Imgur.com",
                    p: function (g, z) {
                        return {
                            p: g != null && z.Kg
                        }
                    }
                }, {
                    name: "JPG",
                    fQ: "Imgur.com",
                    p: function (g, z) {
                        return {
                            p: g != null && z.Kg
                        }
                    }
                }, {
                    name: "PSD",
                    fQ: "Photopea.com",
                    p: function (g, z) {
                        return {
                            p: g != null && z.Kg && !g.OH
                        }
                    }
                }]
            }, {
                name: "Save ...",
                fQ: [S, Y.Ak],
                p: function (g, z) {
                    var p = gx.get([1, 2]) + (g == null ? "" : g.K9 ? " (Smart Object)" : g.JV ? " (Google Drive)" : "");
                    return {
                        p: g != null && (g.U$ != null && g.wa == "psd" || g.K9 != null || g.UI != null && g.UI.hP != null || g.JV != null || z.M7.save != null),
                        sY: p
                    }
                }
            }, {
                name: [1, 3],
                p: function (g, z) {
                    return {
                        p: g != null && !g.OH && z.Kg
                    }
                }
            }, {
                name: [1, 8],
                Sp: !0,
                sub: function () {
                    var g = eD.pe(0)
                        , z = [];
                    for (var G = 0; G < g.length; G++)
                        z.push({
                            name: g[G],
                            fQ: "." + g[G].toLowerCase()
                        });
                    z.push({
                        name: [0, 14],
                        sub: function () {
                            var g = eD.pe(1)
                                , z = [];
                            for (var G = 0; G < g.length; G++)
                                z.push({
                                    name: g[G],
                                    fQ: "." + g[G].toLowerCase()
                                });
                            return z
                        }()
                    });
                    return z
                }()
            }, {
                name: [1, 9],
                tJ: !0,
                p: function (g, z) {
                    return {
                        p: g != null
                    }
                }
            }, {
                name: "Export Color Lookup",
                tJ: !0,
                p: function (g, z) {
                    return {
                        p: g != null
                    }
                },
                Sp: !0
            }, {
                name: [1, 14],
                tJ: !0,
                p: function (g, z) {
                    return {
                        p: g != null
                    }
                },
                Sp: !0
            }, {
                name: [1, 10]
            }],
            NG: [{
                c: P.E.P,
                g: {
                    X: P.U.V5,
                    Fh: "newproject"
                }
            }, {
                c: P.E.P,
                g: {
                    X: P.U.MY
                }
            }, {
                c: P.E.P,
                g: {
                    X: P.U.MY,
                    afS: !0
                }
            }, {
                sub: [{
                    c: P.E.P,
                    g: {
                        X: P.U.V5,
                        Fh: "open_from_url"
                    }
                }, {
                    c: P.E.P,
                    g: {
                        X: P.U.V5,
                        Fh: "camera"
                    }
                }, {
                    c: P.E.P,
                    g: {
                        X: P.U.V5,
                        Fh: "templates"
                    }
                }]
            }, {
                sub: [{
                    c: P.E.P,
                    g: {
                        X: P.U.rB,
                        Wo: "png"
                    }
                }, {
                    c: P.E.P,
                    g: {
                        X: P.U.rB,
                        Wo: "jpg"
                    }
                }, {
                    c: P.E.P,
                    g: {
                        X: P.U.rB,
                        Wo: "psd"
                    }
                }]
            }, {
                c: P.E.P,
                g: {
                    X: P.U.$k
                }
            }, {
                c: P.E.P,
                g: {
                    X: P.U.Ar
                }
            }, {
                sub: function () {
                    var g = eD.pe(0)
                        , z = [];
                    for (var G = 0; G < g.length; G++)
                        z.push({
                            c: P.E.P,
                            g: {
                                X: P.U.V5,
                                Fh: "saveforweb",
                                Wo: G
                            }
                        });
                    z.push({
                        sub: function () {
                            var p = eD.pe(0).length
                                , g = eD.pe(1)
                                , z = [];
                            for (var G = 0; G < g.length; G++)
                                z.push({
                                    c: P.E.P,
                                    g: {
                                        X: P.U.V5,
                                        Fh: "saveforweb",
                                        Wo: p + G
                                    }
                                });
                            return z
                        }()
                    });
                    return z
                }()
            }, {
                c: P.E.P,
                g: {
                    X: P.U.V5,
                    Fh: "eassets"
                }
            }, {
                c: P.E.P,
                g: {
                    X: P.U.V5,
                    Fh: "exlut"
                }
            }, {
                c: P.E.P,
                g: {
                    X: P.U.V5,
                    Fh: "finfo"
                }
            }, {
                c: P.E.P,
                g: {
                    X: P.U.V5,
                    Fh: "script"
                }
            }]
        }, {
            name: [0, 1],
            items: [{
                name: [2, 8]
            }, {
                name: [2, 0],
                fQ: [h, S, Y.E0]
            }, {
                name: [2, 1],
                fQ: [S, Y.E0],
                Sp: !0
            }, {
                name: [2, 11],
                fQ: [h, S, Y.Hh],
                Sp: !0,
                tJ: !0,
                p: function (g, z) {
                    return {
                        p: cE.RU(g) && z.Ez != U.Fz
                    }
                }
            }, {
                name: [5, 0],
                fQ: [S, Y.sg]
            }, {
                name: [5, 1],
                fQ: [S, Y.dz]
            }, {
                name: [5, 7],
                fQ: [h, S, Y.dz]
            }, {
                name: [5, 2],
                fQ: [S, Y.c$],
                p: function (g, z) {
                    return {
                        p: P.D0() || z.Iw != null || z.o1 != null || z.akD != null
                    }
                }
            }, {
                name: [2, 2],
                p: function (g) {
                    return {
                        p: g != null && g.N != null
                    }
                },
                fQ: "Delete",
                Sp: !0
            }, {
                name: [2, 3],
                p: function (g) {
                    return {
                        p: g != null
                    }
                },
                tJ: !0,
                fQ: [h, Y.R3]
            }, {
                name: [14, 9],
                p: function (g) {
                    return {
                        p: g != null
                    }
                },
                tJ: !0,
                Sp: !0
            }, {
                name: [10, 48],
                p: function (g) {
                    return {
                        p: g != null && g.gH(!1)
                    }
                }
            }, {
                name: [10, 46],
                p: function (g) {
                    return {
                        p: U._J.xj(g)
                    }
                }
            }, {
                name: [10, 16],
                fQ: [q, S, Y.V]
            }, {
                name: [2, 4],
                sub: iN.gJ()
            }, {
                name: [2, 10, 1]
            }, {
                name: [2, 10, 0],
                Sp: !0
            }, {
                name: [12, 87],
                sub: [{
                    name: [12, 62],
                    p: function (g) {
                        return {
                            p: g != null
                        }
                    }
                }, {
                    name: [9, 3],
                    p: function (g) {
                        return {
                            p: g != null
                        }
                    }
                }, {
                    name: [10, 31],
                    p: function (g) {
                        return {
                            p: g != null && g.C.length != 0 && g.t[g.C[0]].add.vmsk != null
                        }
                    }
                }]
            }, {
                name: [12, 79],
                tJ: !0,
                fQ: [S, Y.qR]
            }, {
                name: [1, 13],
                tJ: !0
            }],
            NG: [{
                c: P.E.A,
                F: U.Sb,
                g: {
                    X: "h_undoredo"
                }
            }, {
                c: P.E.A,
                F: U.Sb,
                g: {
                    X: "h_stepfwd"
                }
            }, {
                c: P.E.A,
                F: U.Sb,
                g: {
                    X: "h_stepbck"
                }
            }, {
                c: P.E.P,
                g: {
                    X: P.U.V5,
                    Fh: "afw_fade"
                }
            }, {
                c: P.E.P,
                g: {
                    X: P.U.ZM
                }
            }, {
                c: P.E.P,
                g: {
                    X: P.U.ZF
                }
            }, {
                c: P.E.P,
                g: {
                    X: P.U.ZF,
                    pT: !0
                }
            }, {
                c: P.E.P,
                g: {
                    X: P.U.Ut
                }
            }, {
                c: P.E.$_,
                g: {
                    f0: "delete"
                }
            }, {
                c: P.E.P,
                g: {
                    X: P.U.V5,
                    Fh: "fill"
                }
            }, {
                c: P.E.P,
                g: {
                    X: P.U.V5,
                    Fh: "stroke"
                }
            }, {
                c: P.E.P,
                g: {
                    X: P.U.iK,
                    F: U.rp
                }
            }, {
                c: P.E.A,
                F: U.J_,
                g: {
                    X: "start",
                    ks: "rigidTransform"
                }
            }, {
                c: P.E.P,
                g: {
                    X: P.U.iK,
                    F: U.Fz
                }
            }, {
                sub: iN.Mn()
            }, {
                c: P.E.$_,
                g: {
                    f0: "align",
                    Jz: {
                        classID: "null",
                        null: {
                            t: "obj ",
                            v: [{
                                t: "Enmr",
                                v: {
                                    classID: "Lyr",
                                    typeID: "Ordn",
                                    enum: "Trgt"
                                }
                            }]
                        },
                        Usng: {
                            t: "enum",
                            v: {
                                ADSt: "ADSContent"
                            }
                        },
                        alignToCanvas: {
                            t: "bool",
                            v: !1
                        },
                        Aply: {
                            t: "enum",
                            v: {
                                projection: "Auto"
                            }
                        },
                        vignette: {
                            t: "bool",
                            v: !1
                        },
                        radialDistort: {
                            t: "bool",
                            v: !1
                        }
                    }
                }
            }, {
                c: P.E.A,
                F: U.GC,
                g: {
                    X: M.G6
                }
            }, {
                sub: [{
                    c: P.E.P,
                    g: {
                        X: P.U.yG,
                        go: 0
                    }
                }, {
                    c: P.E.P,
                    g: {
                        X: P.U.yG,
                        go: 1
                    }
                }, {
                    c: P.E.P,
                    g: {
                        X: P.U.yG,
                        go: 2
                    }
                }]
            }, {
                c: P.E.P,
                g: {
                    X: P.U.V5,
                    Fh: "preferences"
                }
            }, {
                c: P.E.P,
                g: {
                    X: P.U.V5,
                    Fh: "locstor"
                }
            }]
        }, {
            name: [0, 2],
            items: [{
                name: [3],
                sub: function () {
                    var g = [];
                    for (var z in dD.names) {
                        g.push({
                            name: dD.names[z],
                            tJ: L[z] != null,
                            fQ: F.Ov(dD.keys[z]),
                            Sp: dD.d8.indexOf(z) != -1
                        });
                        if (z == "selc") {
                            g.push({
                                name: ["VAR0/VAR1", [19, 6, 0], [19, 6, 2]],
                                tJ: !0,
                                Sp: !0
                            });
                            g.push({
                                name: [19, 7, 0],
                                fQ: [S, h, Y.va],
                                p: function (z) {
                                    return {
                                        p: z && z.C.length != 0 && z.t[z.C[0]].add.SoLd == null
                                    }
                                }
                            })
                        }
                    }
                    return g
                }()
            }, {
                name: [4, 16, 0],
                p: function (g) {
                    return {
                        p: g != null && g.gH(!1)
                    }
                }
            }, {
                name: [4, 16, 1],
                p: function (g) {
                    return {
                        p: g != null && g.gH(!1)
                    }
                }
            }, {
                name: [4, 16, 2],
                p: function (g) {
                    return {
                        p: g != null && g.gH(!1)
                    }
                },
                Sp: !0
            }, {
                name: [11, 11],
                p: function (g) {
                    return {
                        p: g != null && g.gH(!1)
                    }
                },
                Sp: !0
            }, {
                name: [11, 3],
                tJ: !0,
                fQ: [q, S, Y.dz]
            }, {
                name: [11, 10],
                tJ: !0,
                fQ: [q, S, Y.aC]
            }, {
                name: [2, 4],
                sub: [{
                    name: ["VAR0 90\xB0 \u21BB", [2, 5]]
                }, {
                    name: ["VAR0 90\xB0 \u21BA", [2, 5]]
                }, {
                    name: ["VAR0 180\xB0", [2, 5]]
                }, {
                    name: [[2, 6], [22, 4, 2]]
                }, {
                    name: [[2, 6], [22, 4, 3]]
                }]
            }, {
                name: [11, 12, 1],
                p: function (g) {
                    return {
                        p: g != null && g.N != null
                    }
                }
            }, {
                name: [11, 12, 0],
                p: function (g) {
                    return {
                        p: g != null
                    }
                },
                fQ: [S, Y.vq]
            }, {
                name: [11, 12, 2],
                p: function (g) {
                    return {
                        p: g != null
                    }
                },
                Sp: !0
            }, {
                name: [2, 12],
                p: function (g) {
                    return {
                        p: g != null && g.gH(!1)
                    }
                },
                tJ: !0
            }],
            NG: [{
                sub: function () {
                    var g = [];
                    for (var z in dD.names) {
                        g.push({
                            c: P.E.A,
                            F: U.dk,
                            g: {
                                X: "start",
                                xE: z
                            }
                        });
                        if (z == "selc") {
                            g.push({
                                c: P.E.A,
                                F: U.J_,
                                g: {
                                    X: "start",
                                    ks: "adaptCorrect"
                                }
                            });
                            g.push({
                                c: P.E.$_,
                                g: {
                                    f0: "desaturate"
                                }
                            })
                        }
                    }
                    return g
                }()
            }, {
                c: P.E.$_,
                g: {
                    f0: "levels",
                    Jz: {
                        classID: "Lvls",
                        Auto: {
                            t: "bool",
                            v: !0
                        }
                    }
                }
            }, {
                c: P.E.$_,
                g: {
                    f0: "levels",
                    Jz: {
                        classID: "Lvls",
                        AuCo: {
                            t: "bool",
                            v: !0
                        }
                    }
                }
            }, {
                c: P.E.$_,
                g: {
                    f0: "levels",
                    Jz: {
                        classID: "Lvls",
                        autoBlackWhite: {
                            t: "bool",
                            v: !0
                        },
                        autoNeutrals: {
                            t: "bool",
                            v: !0
                        }
                    }
                }
            }, {
                c: P.E.P,
                g: {
                    X: P.U.V5,
                    Fh: "vbitmap"
                }
            }, {
                c: P.E.P,
                g: {
                    X: P.U.V5,
                    Fh: "csize"
                }
            }, {
                c: P.E.P,
                g: {
                    X: P.U.V5,
                    Fh: "isize"
                }
            }, {
                sub: [{
                    c: P.E.$_,
                    g: U.o.Im(!0, 90)
                }, {
                    c: P.E.$_,
                    g: U.o.Im(!0, -90)
                }, {
                    c: P.E.$_,
                    g: U.o.Im(!0, -180)
                }, {
                    c: P.E.$_,
                    g: U.o.Im(!1, "Hrzn")
                }, {
                    c: P.E.$_,
                    g: U.o.Im(!1, "Vrtc")
                }]
            }, {
                c: P.E.A,
                F: U._G,
                g: {
                    X: "cropbysel",
                    a6a: 0
                }
            }, {
                c: P.E.$_,
                g: U.AQ.ob(0)
            }, {
                c: P.E.$_,
                g: {
                    f0: "revealAll",
                    Jz: {
                        classID: "RvlA"
                    }
                }
            }, {
                c: P.E.A,
                F: U.dk,
                g: {
                    X: "start",
                    xE: "aply"
                }
            }]
        }, {
            name: [0, 3],
            items: [{
                name: [5, 3],
                sub: [{
                    name: [0, 3]
                }, {
                    name: [0, 4]
                }, {
                    name: [6, 49],
                    fQ: [S, Y.sp]
                }]
            }, {
                name: [6, 0],
                p: H,
                fQ: [S, Y.sp]
            }, {
                name: [11, 4],
                p: H
            }, {
                name: [5, 4],
                p: H,
                Sp: !0
            }, {
                name: [11, 6],
                Sp: !0,
                p: H,
                sub: au.qx(!0)
            }, {
                name: [6, 48, 1],
                sub: [{
                    name: [6, 48, 0, 0]
                }, {
                    name: [6, 48, 0, 1]
                }, {
                    name: [6, 48, 0, 2]
                }]
            }, {
                name: [6, 1],
                Sp: !0,
                sub: au.XO()
            }, {
                name: [6, 2],
                sub: [{
                    name: [6, 4],
                    p: function (g) {
                        return {
                            p: g != null && g.C.length != 0 && g.t[g.C[0]].Qn() == null
                        }
                    }
                }, {
                    name: [6, 5, 0],
                    p: function (g) {
                        return {
                            p: g != null && g.C.length != 0 && g.t[g.C[0]].Qn() == null
                        }
                    }
                }, {
                    name: [6, 5, 1],
                    p: function (g) {
                        return {
                            p: g != null && g.C.length != 0 && g.t[g.C[0]].Qn() == null && g.N != null
                        }
                    }
                }, {
                    name: [6, 5, 2],
                    p: function (g) {
                        return {
                            p: g != null && g.C.length != 0 && g.t[g.C[0]].Qn() == null && g.N != null
                        }
                    }
                }, {
                    name: [6, 5, 3],
                    p: function (g) {
                        return {
                            p: g != null && g.C.length != 0 && g.t[g.C[0]].Qn() == null
                        }
                    },
                    Sp: !0
                }, {
                    name: [5, 4],
                    p: function (g) {
                        return {
                            p: g != null && g.C.length != 0 && g.t[g.C[0]].Qn() != null
                        }
                    }
                }, {
                    name: [5, 8],
                    p: function (g) {
                        return {
                            p: g != null && g.C.length != 0 && g.t[g.C[0]].Qn() != null && g.gH(!1, !0)
                        }
                    }
                }, {
                    name: ["VAR0/VAR1", [5, 5], [5, 6]],
                    p: function (g) {
                        return {
                            p: g != null && g.C.length != 0 && g.t[g.C[0]].Qn() != null
                        }
                    }
                }]
            }, {
                name: [6, 3],
                sub: [{
                    name: [6, 4],
                    p: function (g) {
                        return {
                            p: g != null && g.C.length != 0 && g.t[g.C[0]].add.vmsk == null
                        }
                    }
                }, {
                    name: [6, 5, 0],
                    p: function (g) {
                        return {
                            p: g != null && g.C.length != 0 && g.t[g.C[0]].add.vmsk == null
                        }
                    }
                }, {
                    name: "Current Path",
                    p: function (g) {
                        return {
                            p: g != null && g.C.length != 0 && g.t[g.C[0]].add.vmsk == null
                        }
                    },
                    Sp: !0
                }, {
                    name: [5, 4],
                    p: function (g) {
                        return {
                            p: g != null && g.C.length != 0 && g.t[g.C[0]].add.vmsk != null
                        }
                    }
                }, {
                    name: ["VAR0/VAR1", [5, 5], [5, 6]],
                    p: function (g) {
                        return {
                            p: g != null && g.C.length != 0 && g.t[g.C[0]].add.vmsk != null
                        }
                    }
                }]
            }, {
                name: [6, 6, 0],
                fQ: [q, S, Y.aL],
                Sp: !0,
                p: function (g) {
                    return {
                        x$: g != null && g.C.length != 0 && g.t[g.C[0]].f6,
                        p: g != null && g.Hj(g.C[0])
                    }
                }
            }, {
                name: "Smart Object",
                Sp: !0,
                sub: [{
                    name: [6, 7]
                }, {
                    name: [6, 36, 4],
                    p: I,
                    sub: E
                }, {
                    name: [1, 0],
                    p: I,
                    Sp: !0
                }, {
                    name: "Turn into JPG"
                }]
            }, {
                name: [6, 8],
                p: function (g) {
                    if (g == null || g.C.length == 0)
                        return {
                            p: !1
                        };
                    var z = g.t[g.C[0]];
                    if (z.add.TySh || z.add.SoLd || z.add.SoCo || z.add.GdFl || z.add.PtFl)
                        return {
                            p: !0
                        };
                    return {
                        p: !1
                    }
                }
            }, {
                name: [6, 34],
                Sp: !0,
                p: function (g) {
                    if (g == null || g.C.length == 0)
                        return {
                            p: !1
                        };
                    var z = g.t[g.C[0]];
                    return {
                        p: z.add.lmfx != null && !z.i4()
                    }
                }
            }, {
                name: [6, 9],
                Sp: !0,
                fQ: [S, Y.aL]
            }, {
                name: [6, 55],
                Sp: !0,
                sub: [{
                    name: [6, 56, 0],
                    fQ: [h, S, Y.st]
                }, {
                    name: [6, 56, 1],
                    fQ: [S, Y.st]
                }, {
                    name: [6, 56, 2],
                    fQ: [S, Y.H5]
                }, {
                    name: [6, 56, 3],
                    fQ: [h, S, Y.H5]
                }]
            }, {
                name: [6, 58],
                sub: [{
                    name: ["Make Frames"]
                }, {
                    name: [18, 5]
                }]
            }, {
                name: [6, 10],
                p: function (g) {
                    return {
                        p: g != null && g.C.length == 1 && g.C[0] != 0 && !g.t[g.C[0]].i4()
                    }
                },
                fQ: [S, Y.E]
            }, {
                name: [6, 12, 0],
                p: function (g) {
                    return {
                        p: g != null && g.C.length != 0 && (g.C.length > 1 || g.t[g.C[0]].i4())
                    }
                }
            }, {
                name: [6, 12, 1]
            }],
            NG: [{
                sub: [{
                    c: P.E.A,
                    F: U.GC,
                    g: {
                        X: M.tD
                    }
                }, {
                    c: P.E.A,
                    F: U.GC,
                    g: {
                        X: M.cW
                    }
                }, {
                    c: P.E.A,
                    F: U.GC,
                    g: {
                        X: M.eu
                    }
                }]
            }, {
                c: P.E.A,
                F: U.GC,
                g: {
                    X: M.Vo
                }
            }, {
                c: P.E.P,
                g: {
                    X: P.U.V5,
                    Fh: "duplinto"
                }
            }, {
                c: P.E.A,
                F: U.GC,
                g: {
                    X: M.Yn
                }
            }, {
                sub: au.tu(!0)
            }, {
                sub: [{
                    c: P.E.A,
                    F: U.SQ,
                    g: {
                        X: "newfill",
                        I7: 0
                    }
                }, {
                    c: P.E.$_,
                    g: U.sX.kx(1)
                }, {
                    c: P.E.$_,
                    g: U.sX.kx(2)
                }]
            }, {
                sub: au.od()
            }, {
                sub: [{
                    c: P.E.A,
                    F: U.GC,
                    g: {
                        X: M.AI,
                        JQ: "RvlA"
                    }
                }, {
                    c: P.E.A,
                    F: U.GC,
                    g: {
                        X: M.AI,
                        JQ: "HdAl"
                    }
                }, {
                    c: P.E.A,
                    F: U.GC,
                    g: {
                        X: M.AI,
                        JQ: "RvlS"
                    }
                }, {
                    c: P.E.A,
                    F: U.GC,
                    g: {
                        X: M.AI,
                        JQ: "HdSl"
                    }
                }, {
                    c: P.E.A,
                    F: U.GC,
                    g: {
                        X: M.AI,
                        JQ: "Trns"
                    }
                }, {
                    c: P.E.A,
                    F: U.GC,
                    g: {
                        X: M.D$
                    }
                }, {
                    c: P.E.A,
                    F: U.GC,
                    g: {
                        X: M.bg
                    }
                }, {
                    c: P.E.A,
                    F: U.GC,
                    g: {
                        X: M.XG
                    }
                }]
            }, {
                sub: [{
                    c: P.E.A,
                    F: U.GC,
                    g: {
                        X: M._Z,
                        a0q: !1
                    }
                }, {
                    c: P.E.A,
                    F: U.GC,
                    g: {
                        X: M._Z,
                        a0q: !0
                    }
                }, {
                    c: P.E.A,
                    F: U.GC,
                    g: {
                        X: M._Z,
                        a0t: !0
                    }
                }, {
                    c: P.E.A,
                    F: U.GC,
                    g: {
                        X: M.OI
                    }
                }, {
                    c: P.E.A,
                    F: U.GC,
                    g: {
                        X: M.bq
                    }
                }]
            }, {
                c: P.E.A,
                F: U.GC,
                g: {
                    X: M.JA
                }
            }, {
                sub: [{
                    c: P.E.$_,
                    g: {
                        f0: "newPlacedLayer"
                    }
                }, {
                    sub: d
                }, {
                    c: P.E.$_,
                    g: {
                        f0: "placedLayerEditContents",
                        Jz: {
                            classID: "placedLayerEditContents"
                        }
                    }
                }, {
                    c: P.E.A,
                    F: U.GC,
                    g: {
                        X: M.Nt
                    }
                }]
            }, {
                c: P.E.$_,
                g: {
                    f0: "rasterizeLayer",
                    Jz: {
                        classID: "rasterizeLayer",
                        null: bw.wC("Lyr", !0)
                    }
                }
            }, {
                c: P.E.A,
                F: U.GC,
                g: {
                    X: M.hb
                }
            }, {
                c: P.E.A,
                F: U.GC,
                g: {
                    X: M.D5
                }
            }, {
                sub: [{
                    c: P.E.A,
                    F: U.GC,
                    g: {
                        X: M.wA,
                        Wg: 0
                    }
                }, {
                    c: P.E.A,
                    F: U.GC,
                    g: {
                        X: M.wA,
                        Wg: 1
                    }
                }, {
                    c: P.E.A,
                    F: U.GC,
                    g: {
                        X: M.wA,
                        Wg: 2
                    }
                }, {
                    c: P.E.A,
                    F: U.GC,
                    g: {
                        X: M.wA,
                        Wg: 3
                    }
                }]
            }, {
                sub: [{
                    c: P.E.A,
                    F: U.GC,
                    g: {
                        X: M.YD,
                        Wg: "makeframes"
                    }
                }, {
                    c: P.E.A,
                    F: U.GC,
                    g: {
                        X: M.YD,
                        Wg: "merge"
                    }
                }]
            }, {
                c: P.E.A,
                F: U.GC,
                g: {
                    X: M.sn
                }
            }, {
                c: P.E.A,
                F: U.GC,
                g: {
                    X: M.zS
                }
            }, {
                c: P.E.$_,
                g: {
                    f0: "flattenImage"
                }
            }]
        }, aM.a9K(!1), function () {
            var g = {
                name: [0, 6],
                items: [{
                    name: [24, 18, 4],
                    fQ: [q, S, Y.Hh],
                    Sp: !0
                }],
                NG: [{
                    c: P.E.A,
                    F: U.J_,
                    g: {
                        X: "applylast"
                    }
                }]
            };
            for (var G = 0; G < io.ET.length; G++) {
                var z = io.ET[G];
                if (z.yW != null) {
                    g.items.push({
                        name: io.names[z.yW],
                        tJ: !0,
                        Sp: z.Sp
                    });
                    g.NG.push({
                        c: P.E.A,
                        F: U.J_,
                        g: {
                            X: "start",
                            ks: z.yW
                        }
                    });
                    continue
                }
                var p = {
                    name: z.Hl,
                    sub: []
                };
                g.items.push(p);
                var C = {
                    sub: []
                };
                g.NG.push(C);
                for (var T = 0; T < z.Wj.length; T++) {
                    var A = {
                        name: io.names[z.Wj[T]],
                        tJ: io.g4(z.Wj[T]) != null
                    };
                    p.sub.push(A);
                    var i = {
                        c: P.E.A,
                        F: U.J_,
                        g: {
                            X: "start",
                            ks: z.Wj[T]
                        }
                    };
                    C.sub.push(i)
                }
            }
            return g
        }(), {
            name: [0, 7],
            items: [{
                name: [8, 0],
                fQ: [S, Y.lR]
            }, {
                name: [8, 1],
                fQ: [S, Y.yJ]
            }, {
                name: [20, 3],
                fQ: [S, Y.ZT]
            }, {
                name: [20, 2],
                fQ: [S, Y.dn],
                Sp: !0
            }, {
                name: "Extras",
                fQ: [S, Y.Q6],
                p: function (g, z) {
                    return {
                        x$: z.Yc
                    }
                }
            }, {
                name: [8, 12],
                Sp: !0,
                sub: [{
                    name: [17, 2],
                    p: function (g, z) {
                        return {
                            p: z.Yc,
                            x$: z.nF.E_
                        }
                    }
                }, {
                    name: [8, 9],
                    p: function (g, z) {
                        return {
                            p: z.Yc,
                            x$: z.nF._b
                        }
                    }
                }, {
                    name: [8, 2],
                    p: function (g, z) {
                        return {
                            p: z.Yc,
                            x$: z.nF.E9
                        }
                    },
                    fQ: [S, Y.b5]
                }, {
                    name: [8, 4],
                    p: function (g, z) {
                        return {
                            p: z.Yc,
                            x$: z.nF.Hf
                        }
                    },
                    fQ: [S, Y.qm]
                }, {
                    name: [8, 8],
                    p: function (g, z) {
                        return {
                            p: z.Yc,
                            x$: z.nF.MI
                        }
                    }
                }, {
                    name: [8, 11, 0],
                    p: function (g, z) {
                        return {
                            p: z.Yc,
                            x$: z.nF.r1
                        }
                    }
                }]
            }, {
                name: [8, 3],
                p: function (g, z) {
                    return {
                        x$: z.KT
                    }
                },
                fQ: [S, Y.Ej],
                Sp: !0
            }, {
                name: [8, 5],
                p: function (g, z) {
                    return {
                        x$: z.j9
                    }
                }
            }, {
                name: [8, 6],
                Sp: !0,
                sub: [{
                    name: [8, 2],
                    p: function (g, z) {
                        return {
                            x$: z.s2[0]
                        }
                    }
                }, {
                    name: [8, 4],
                    p: function (g, z) {
                        return {
                            x$: z.s2[1]
                        }
                    }
                }, {
                    name: [9, 1],
                    p: function (g, z) {
                        return {
                            x$: z.s2[2]
                        }
                    }
                }, {
                    name: [8, 11, 0],
                    p: function (g, z) {
                        return {
                            x$: z.s2[3]
                        }
                    }
                }, {
                    name: [8, 7],
                    p: function (g, z) {
                        return {
                            x$: z.s2[4]
                        }
                    }
                }]
            }, {
                name: [11, 15, 0],
                p: function (g, z) {
                    return {
                        p: g != null
                    }
                }
            }, {
                name: [11, 14],
                p: function (g, z) {
                    return {
                        p: g != null
                    }
                },
                tJ: !0
            }, {
                name: [11, 15, 1],
                p: function (g, z) {
                    return {
                        p: g != null && g.C.length != 0
                    }
                }
            }],
            NG: [{
                c: P.E.A,
                F: U.nf,
                g: {
                    X: "zoom",
                    IZ: !0
                }
            }, {
                c: P.E.A,
                F: U.nf,
                g: {
                    X: "zoom",
                    IZ: !1
                }
            }, {
                c: P.E.A,
                F: U.nf,
                g: {
                    X: "adapt",
                    G: "fitscr"
                }
            }, {
                c: P.E.A,
                F: U.nf,
                g: {
                    X: "adapt",
                    G: "pixel"
                }
            }, {
                c: P.E.P,
                g: {
                    X: P.U.PD,
                    go: iD.Lb
                }
            }, {
                sub: [{
                    c: P.E.P,
                    g: {
                        X: P.U.PD,
                        go: iD.uG
                    }
                }, {
                    c: P.E.P,
                    g: {
                        X: P.U.PD,
                        go: iD.H6
                    }
                }, {
                    c: P.E.P,
                    g: {
                        X: P.U.PD,
                        go: iD.Ch
                    }
                }, {
                    c: P.E.P,
                    g: {
                        X: P.U.PD,
                        go: iD.Nv
                    }
                }, {
                    c: P.E.P,
                    g: {
                        X: P.U.PD,
                        go: iD.Ay
                    }
                }, {
                    c: P.E.P,
                    g: {
                        X: P.U.PD,
                        go: iD.v7
                    }
                }]
            }, {
                c: P.E.P,
                g: {
                    X: P.U.PD,
                    go: iD.bh
                }
            }, {
                c: P.E.P,
                g: {
                    X: P.U.PD,
                    go: iD.tj
                }
            }, {
                sub: [{
                    c: P.E.P,
                    g: {
                        X: P.U.PD,
                        go: iD.zY,
                        iR: 0
                    }
                }, {
                    c: P.E.P,
                    g: {
                        X: P.U.PD,
                        go: iD.zY,
                        iR: 1
                    }
                }, {
                    c: P.E.P,
                    g: {
                        X: P.U.PD,
                        go: iD.zY,
                        iR: 2
                    }
                }, {
                    c: P.E.P,
                    g: {
                        X: P.U.PD,
                        go: iD.zY,
                        iR: 3
                    }
                }, {
                    c: P.E.P,
                    g: {
                        X: P.U.PD,
                        go: iD.zY,
                        iR: 4
                    }
                }]
            }, {
                c: P.E.A,
                F: U.Vg,
                g: {
                    X: "gids",
                    QL: [[], []]
                }
            }, {
                c: P.E.P,
                g: {
                    X: P.U.V5,
                    Fh: "addguides"
                }
            }, {
                c: P.E.A,
                F: U.Vg,
                g: {
                    X: "gidsFromLayer"
                }
            }]
        }, function () {
            var g = {
                name: [0, 8],
                items: [{
                    name: [0, 14],
                    Sp: !0,
                    sub: []
                }],
                NG: [{
                    sub: []
                }]
            };
            for (var G = 0; G < ar.uA.length; G++) {
                var z = ar.uA[G];
                (z.ZS ? g.items[0].sub : g.items).push({
                    name: z.FN.name
                });
                (z.ZS ? g.NG[0].sub : g.NG).push({
                    c: P.E.P,
                    g: {
                        X: P.U.EG,
                        Fh: z.FN.nB
                    }
                })
            }
            return g
        }(), function () {
            var g = {
                name: [0, 14],
                items: [],
                NG: []
            }
                , z = {
                    name: [0, 9],
                    sub: []
                };
            g.items.push(z);
            var p = {
                sub: []
            };
            g.NG.push(p);
            var C = gx.ajb();
            for (var G = 0; G < C.length; G++) {
                var T = C[G]
                    , A = T.code
                    , i = gx.mm(A);
                z.sub.push({
                    name: T.name,
                    fQ: A,
                    p: function (e, a) {
                        return {
                            x$: this.fQ == gx.Ra()
                        }
                    }
                });
                p.sub.push({
                    c: P.E.P,
                    g: {
                        X: P.U.PD,
                        go: iD.Ub,
                        lang: i
                    }
                })
            }
            z.sub.push({
                name: [0, 12]
            });
            p.sub.push({
                c: P.E.P,
                g: {
                    X: P.U.wU,
                    link: "https://www.photopea.com/translate/"
                }
            });
            var z = {
                name: [0, 15],
                sub: []
            };
            g.items.push(z);
            var p = {
                sub: []
            };
            g.NG.push(p);
            for (var G = 0; G < gU.b2.length; G++) {
                z.sub.push({
                    name: gU.b2[G].name,
                    p: function (e, a) {
                        return {
                            x$: this.name == gU.b2[a.Pz].name
                        }
                    }
                });
                p.sub.push({
                    c: P.E.P,
                    g: {
                        X: P.U.PD,
                        go: iD.Wl,
                        Pz: G
                    }
                })
            }
            g.items.push({
                name: [0, 17, 6],
                p: function (e, a) {
                    return {
                        p: a.aH != null
                    }
                }
            });
            g.NG.push({
                c: P.E.P,
                g: {
                    X: P.U.Gq
                }
            });
            g.items.push({
                name: [11, 13]
            });
            g.NG.push({
                c: P.E.P,
                g: {
                    X: P.U.V5,
                    Fh: "shortcuts"
                }
            });
            g.items.push({
                name: [0, 16],
                p: function (e) {
                    return {
                        x$: Q.nc,
                        p: Q.W3
                    }
                }
            });
            g.NG.push({
                c: P.E.P,
                g: {
                    X: P.U.Qf
                }
            });
            return g
        }()]
    }();
    function b2() {
        e9.call(this);
        this.j = P.w("div", "");
        this.FJ = 0;
        this.cf = 0;
        this.it = null;
        this.xL = P.w("div", "");
        this.xL.setAttribute("style", "width:200em; height:100em; position:absolute;");
        this.jY = [];
        this.Cs = [];
        this.UG = {}
    }
    b2.prototype = new e9;
    b2.prototype.d2 = function (Y) {

        var S = Date.now()
            , h = [];
        if (Y == "-")
            h = [new f2, new d2, new cp, new hU, new ac, new dE, new fl, new a1, new dB, new i8, new d9, new eX, new ek, new bK, new cR, new au, new c6, new f_, new bJ, new gJ, new eL, new br, new cl, new fy, new aY, new bc, new dK(0), new dK(1), new a8, new bS, new fh, new iM, new cX, new f8, new aS("border", [7, 9], "px"), new aS("smoothness", [19, 3, 0], "px"), new aS("expand", [7, 4], "px"), new aS("contract", [7, 5], "px"), new aS("feather", [7, 6], "px"), new fz(0, "namewindow", [12, 48]), new fz(1, "cornerradius", [12, 94, 0], "px", !0), new fz(1, "scaleeffects", "Scale Effects", "%", !0), new fz(1, "doczoom", "Zoom", "%", !0)];
        else
            h = [new cE(Y.slice(4))];
        this.ags(h);
        this.UG[Y] = !0
    }
        ;
    b2.prototype.ags = function (Y) {
        
        var S = this.it;
        for (var G = 0; G < Y.length; G++) {
            var h = Y[G];
            h.parent = this;
            this.Cs.push(h);
            this.BL(h);
            h.f();
            if (S)
                h.rJ(S, iD.Ie);
            h.k(P.E.Os, this.Bp, this)
        }
    }
        ;
    b2.prototype.hD = function (Y, S) {
        this.FJ = Y;
        this.cf = S;
        for (var G = 0; G < this.Cs.length; G++)
            this.BL(this.Cs[G])
    }
        ;
    b2.prototype.f = function () {
        for (var G = 0; G < this.Cs.length; G++)
            this.Cs[G].f()
    }
        ;
    b2.prototype.om = function () {
        return this.jY.length == 0 ? null : this.jY[this.jY.length - 1]
    }
        ;
    b2.prototype.VD = function () {
        for (var G = 0; G < this.jY.length; G++)
            if (this.jY[G].VD())
                return !0;
        return !1
    }
        ;
    b2.prototype.a1L = function (Y, S, h, q, H) {
        
        var I = Y.startsWith("afw_")
            , E = null;
        if (!I && !this.UG["-"])
            this.d2("-");
        if (I && !this.UG[Y])
            this.d2(Y);
        if (typeof Y == "object") {
            E = Y;
            if (!E.dY(P.E.Os, this.Bp))
                E.k(P.E.Os, this.Bp, this);
            E.parent = this
        } else
            for (var G = 0; G < this.Cs.length; G++)
                if (this.Cs[G].id == Y)
                    E = this.Cs[G];
        if (this.VD() && E.VD()) {
            alert("Finish the current action first");
            return
        }
        if (!E.UO(S))
            return;
        if (this.jY.indexOf(E) != -1) {
            if (Y == "colorpicker")
                E.kg(S, h, q, H);
            return
        }
        var d = this.jY.length - 1;
        if (d >= 0)
            P.xv(this.jY[d].j, "wdisabled");
        this.j.appendChild(E.j);
        this.jY.push(E);
        this.BL(E);
        E.kg(S, h, q, H)
    }
        ;
    b2.prototype.BL = function (Y) {
        var S = this.FJ, h = this.cf, q = Y.OV(S, h), H;
        console.log(this.FJ, this.cf, q)
        if (q != null) {
            H = q
        } else {
            q = new aV(0, 0);
            H = Y.aav();
            if (H == null) {
                var I = this.jY.indexOf(Y) + 1;
                if (S < 450 || h < 450)
                    H = new aV(0, 0);
                else
                    H = new aV(I * 150, I * 150)
            }
        }
        Y.j.style.left = H.x + "px";
        Y.j.style.top = this.j.offsetTop + H.y + "px";
        Y.hD(this.FJ - q.x * 2, this.cf - q.y * 2 - 34)
    }
        ;
    b2.prototype.rJ = function (Y, S) {
        
        this.it = Y;
        for (var G = 0; G < this.Cs.length; G++)
            this.Cs[G].rJ(Y, S)
    }
        ;
    b2.prototype.Bp = function (Y) {
        var S = this.jY.pop();
        this.j.removeChild(S.j);
        var h = this.jY.length - 1;
        if (h >= 0)
            P.zM(this.jY[h].j, "wdisabled");
        if (this.xL.parentNode == this.j)
            this.j.removeChild(this.xL)
    }
        ;
    window.onload = function () {
        
        var Y = new c5;
        document.body.appendChild(Y.j)
    }
}())
